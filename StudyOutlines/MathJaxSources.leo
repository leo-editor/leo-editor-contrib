<?xml version="1.0" encoding="utf-8"?>
<!-- Created by Leo: http://leoeditor.com/leo_toc.html -->
<leo_file xmlns:leo="http://leoeditor.com/namespaces/leo-python-editor/1.1" >
<leo_header file_format="2"/>
<globals/>
<preferences/>
<find_panel_settings/>
<vnodes>
<v t="ekr.20211016060959.1"><vh>@button backup</vh></v>
<v t="ekr.20211016054411.1"><vh>MathJax-src</vh>
<v t="ekr.20211016054411.2"><vh>@@clean tslint.json</vh></v>
<v t="ekr.20211016054411.3"><vh>components</vh>
<v t="ekr.20211016054411.4"><vh>@@clean webpack.common.js</vh>
<v t="ekr.20211016054411.5"><vh>function quoteRE</vh></v>
<v t="ekr.20211016054411.6"><vh>const PLUGINS = function</vh>
<v t="ekr.20211016054411.7"><vh>function</vh></v>
<v t="ekr.20211016054411.8"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.9"><vh>const MODULE = function</vh></v>
<v t="ekr.20211016054411.10"><vh>const PACKAGE = function</vh></v>
</v>
<v t="ekr.20211016054411.11"><vh>src</vh>
<v t="ekr.20211016054411.12"><vh>@@clean dependencies.js</vh></v>
<v t="ekr.20211016054411.13"><vh>@@clean source.js</vh></v>
<v t="ekr.20211016054411.14"><vh>a11y</vh>
<v t="ekr.20211016054411.15"><vh>assistive-mml</vh>
<v t="ekr.20211016054411.16"><vh>@@clean assistive-mml.js</vh></v>
<v t="ekr.20211016054411.17"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.18"><vh>complexity</vh>
<v t="ekr.20211016054411.19"><vh>@@clean complexity.js</vh></v>
<v t="ekr.20211016054411.20"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.21"><vh>explorer</vh>
<v t="ekr.20211016054411.22"><vh>@@clean explorer.js</vh></v>
<v t="ekr.20211016054411.23"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.24"><vh>semantic-enrich</vh>
<v t="ekr.20211016054411.25"><vh>@@clean semantic-enrich.js</vh></v>
<v t="ekr.20211016054411.26"><vh>@@clean webpack.config.js</vh></v>
</v>
</v>
<v t="ekr.20211016054411.27"><vh>adaptors</vh>
<v t="ekr.20211016054411.28"><vh>liteDOM</vh>
<v t="ekr.20211016054411.29"><vh>@@clean liteDOM.js</vh></v>
<v t="ekr.20211016054411.30"><vh>@@clean webpack.config.js</vh></v>
</v>
</v>
<v t="ekr.20211016054411.31"><vh>core</vh>
<v t="ekr.20211016054411.32"><vh>@@clean core.js</vh></v>
<v t="ekr.20211016054411.33"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.34"><vh>input</vh>
<v t="ekr.20211016054411.35"><vh>asciimath</vh>
<v t="ekr.20211016054411.36"><vh>@@clean asciimath.js</vh></v>
<v t="ekr.20211016054411.37"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.38"><vh>mml</vh>
<v t="ekr.20211016054411.39"><vh>@@clean mml.js</vh>
<v t="ekr.20211016054411.40"><vh>MathJax.loader.pathFilters.add =&gt;</vh></v>
</v>
<v t="ekr.20211016054411.41"><vh>@@clean webpack.config.js</vh></v>
<v t="ekr.20211016054411.42"><vh>entities</vh>
<v t="ekr.20211016054411.43"><vh>@@clean entities.js</vh></v>
<v t="ekr.20211016054411.44"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.45"><vh>extensions</vh>
<v t="ekr.20211016054411.46"><vh>mml3</vh>
<v t="ekr.20211016054411.47"><vh>@@clean mml3.js</vh></v>
<v t="ekr.20211016054411.48"><vh>@@clean webpack.config.js</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.49"><vh>tex</vh>
<v t="ekr.20211016054411.50"><vh>@@clean register.js</vh></v>
<v t="ekr.20211016054411.51"><vh>@@clean tex.js</vh></v>
<v t="ekr.20211016054411.52"><vh>@@clean webpack.config.js</vh></v>
<v t="ekr.20211016054411.53"><vh>extensions</vh>
<v t="ekr.20211016054411.54"><vh>action</vh>
<v t="ekr.20211016054411.55"><vh>@@clean action.js</vh></v>
<v t="ekr.20211016054411.56"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.57"><vh>all-packages</vh>
<v t="ekr.20211016054411.58"><vh>@@clean all-packages.js</vh></v>
<v t="ekr.20211016054411.59"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.60"><vh>ams</vh>
<v t="ekr.20211016054411.61"><vh>@@clean ams.js</vh></v>
<v t="ekr.20211016054411.62"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.63"><vh>amscd</vh>
<v t="ekr.20211016054411.64"><vh>@@clean amscd.js</vh></v>
<v t="ekr.20211016054411.65"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.66"><vh>autoload</vh>
<v t="ekr.20211016054411.67"><vh>@@clean autoload.js</vh></v>
<v t="ekr.20211016054411.68"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.69"><vh>bbox</vh>
<v t="ekr.20211016054411.70"><vh>@@clean bbox.js</vh></v>
<v t="ekr.20211016054411.71"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.72"><vh>boldsymbol</vh>
<v t="ekr.20211016054411.73"><vh>@@clean boldsymbol.js</vh></v>
<v t="ekr.20211016054411.74"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.75"><vh>braket</vh>
<v t="ekr.20211016054411.76"><vh>@@clean braket.js</vh></v>
<v t="ekr.20211016054411.77"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.78"><vh>bussproofs</vh>
<v t="ekr.20211016054411.79"><vh>@@clean bussproofs.js</vh></v>
<v t="ekr.20211016054411.80"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.81"><vh>cancel</vh>
<v t="ekr.20211016054411.82"><vh>@@clean cancel.js</vh></v>
<v t="ekr.20211016054411.83"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.84"><vh>cases</vh>
<v t="ekr.20211016054411.85"><vh>@@clean cases.js</vh></v>
<v t="ekr.20211016054411.86"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.87"><vh>centernot</vh>
<v t="ekr.20211016054411.88"><vh>@@clean centernot.js</vh></v>
<v t="ekr.20211016054411.89"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.90"><vh>color</vh>
<v t="ekr.20211016054411.91"><vh>@@clean color.js</vh></v>
<v t="ekr.20211016054411.92"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.93"><vh>colortbl</vh>
<v t="ekr.20211016054411.94"><vh>@@clean colortbl.js</vh></v>
<v t="ekr.20211016054411.95"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.96"><vh>colorv2</vh>
<v t="ekr.20211016054411.97"><vh>@@clean colorv2.js</vh></v>
<v t="ekr.20211016054411.98"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.99"><vh>configmacros</vh>
<v t="ekr.20211016054411.100"><vh>@@clean configmacros.js</vh></v>
<v t="ekr.20211016054411.101"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.102"><vh>empheq</vh>
<v t="ekr.20211016054411.103"><vh>@@clean empheq.js</vh></v>
<v t="ekr.20211016054411.104"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.105"><vh>enclose</vh>
<v t="ekr.20211016054411.106"><vh>@@clean enclose.js</vh></v>
<v t="ekr.20211016054411.107"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.108"><vh>extpfeil</vh>
<v t="ekr.20211016054411.109"><vh>@@clean extpfeil.js</vh></v>
<v t="ekr.20211016054411.110"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.111"><vh>gensymb</vh>
<v t="ekr.20211016054411.112"><vh>@@clean gensymb.js</vh></v>
<v t="ekr.20211016054411.113"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.114"><vh>html</vh>
<v t="ekr.20211016054411.115"><vh>@@clean html.js</vh></v>
<v t="ekr.20211016054411.116"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.117"><vh>mathtools</vh>
<v t="ekr.20211016054411.118"><vh>@@clean mathtools.js</vh></v>
<v t="ekr.20211016054411.119"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.120"><vh>mhchem</vh>
<v t="ekr.20211016054411.121"><vh>@@clean mhchem.js</vh></v>
<v t="ekr.20211016054411.122"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.123"><vh>newcommand</vh>
<v t="ekr.20211016054411.124"><vh>@@clean newcommand.js</vh></v>
<v t="ekr.20211016054411.125"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.126"><vh>noerrors</vh>
<v t="ekr.20211016054411.127"><vh>@@clean noerrors.js</vh></v>
<v t="ekr.20211016054411.128"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.129"><vh>noundefined</vh>
<v t="ekr.20211016054411.130"><vh>@@clean noundefined.js</vh></v>
<v t="ekr.20211016054411.131"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.132"><vh>physics</vh>
<v t="ekr.20211016054411.133"><vh>@@clean physics.js</vh></v>
<v t="ekr.20211016054411.134"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.135"><vh>require</vh>
<v t="ekr.20211016054411.136"><vh>@@clean require.js</vh></v>
<v t="ekr.20211016054411.137"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.138"><vh>setoptions</vh>
<v t="ekr.20211016054411.139"><vh>@@clean setoptions.js</vh></v>
<v t="ekr.20211016054411.140"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.141"><vh>tagformat</vh>
<v t="ekr.20211016054411.142"><vh>@@clean tagformat.js</vh></v>
<v t="ekr.20211016054411.143"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.144"><vh>textcomp</vh>
<v t="ekr.20211016054411.145"><vh>@@clean textcomp.js</vh></v>
<v t="ekr.20211016054411.146"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.147"><vh>textmacros</vh>
<v t="ekr.20211016054411.148"><vh>@@clean textmacros.js</vh></v>
<v t="ekr.20211016054411.149"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.150"><vh>unicode</vh>
<v t="ekr.20211016054411.151"><vh>@@clean unicode.js</vh></v>
<v t="ekr.20211016054411.152"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.153"><vh>upgreek</vh>
<v t="ekr.20211016054411.154"><vh>@@clean upgreek.js</vh></v>
<v t="ekr.20211016054411.155"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.156"><vh>verb</vh>
<v t="ekr.20211016054411.157"><vh>@@clean verb.js</vh></v>
<v t="ekr.20211016054411.158"><vh>@@clean webpack.config.js</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.159"><vh>tex-base</vh>
<v t="ekr.20211016054411.160"><vh>@@clean tex-base.js</vh></v>
<v t="ekr.20211016054411.161"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.162"><vh>tex-full</vh>
<v t="ekr.20211016054411.163"><vh>@@clean tex-full.js</vh></v>
<v t="ekr.20211016054411.164"><vh>@@clean webpack.config.js</vh></v>
</v>
</v>
<v t="ekr.20211016054411.165"><vh>latest</vh>
<v t="ekr.20211016054411.166"><vh>@@clean latest.js</vh></v>
<v t="ekr.20211016054411.167"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.168"><vh>loader</vh>
<v t="ekr.20211016054411.169"><vh>@@clean loader.js</vh></v>
<v t="ekr.20211016054411.170"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.171"><vh>mml-chtml</vh>
<v t="ekr.20211016054411.172"><vh>@@clean mml-chtml.js</vh></v>
<v t="ekr.20211016054411.173"><vh>@@clean preload.js</vh></v>
<v t="ekr.20211016054411.174"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.175"><vh>mml-svg</vh>
<v t="ekr.20211016054411.176"><vh>@@clean mml-svg.js</vh></v>
<v t="ekr.20211016054411.177"><vh>@@clean preload.js</vh></v>
<v t="ekr.20211016054411.178"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.179"><vh>node-main</vh>
<v t="ekr.20211016054411.180"><vh>@@clean node-main.js</vh>
<v t="ekr.20211016054411.181"><vh>MathJax._.mathjax.mathjax.asyncLoad = function</vh></v>
<v t="ekr.20211016054411.182"><vh>init =&gt;</vh></v>
</v>
<v t="ekr.20211016054411.183"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.184"><vh>output</vh>
<v t="ekr.20211016054411.185"><vh>chtml</vh>
<v t="ekr.20211016054411.186"><vh>@@clean chtml.js</vh></v>
<v t="ekr.20211016054411.187"><vh>@@clean nofont.js</vh></v>
<v t="ekr.20211016054411.188"><vh>@@clean webpack.config.js</vh>
<v t="ekr.20211016054411.189"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.190"><vh>fonts</vh>
<v t="ekr.20211016054411.191"><vh>tex</vh>
<v t="ekr.20211016054411.192"><vh>@@clean tex.js</vh></v>
<v t="ekr.20211016054411.193"><vh>@@clean webpack.config.js</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.194"><vh>svg</vh>
<v t="ekr.20211016054411.195"><vh>@@clean nofont.js</vh></v>
<v t="ekr.20211016054411.196"><vh>@@clean svg.js</vh></v>
<v t="ekr.20211016054411.197"><vh>@@clean webpack.config.js</vh>
<v t="ekr.20211016054411.198"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.199"><vh>fonts</vh>
<v t="ekr.20211016054411.200"><vh>tex</vh>
<v t="ekr.20211016054411.201"><vh>@@clean tex.js</vh></v>
<v t="ekr.20211016054411.202"><vh>@@clean webpack.config.js</vh></v>
</v>
</v>
</v>
</v>
<v t="ekr.20211016054411.203"><vh>sre</vh></v>
<v t="ekr.20211016054411.204"><vh>startup</vh>
<v t="ekr.20211016054411.205"><vh>@@clean startup.js</vh></v>
<v t="ekr.20211016054411.206"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.207"><vh>tex-chtml</vh>
<v t="ekr.20211016054411.208"><vh>@@clean preload.js</vh></v>
<v t="ekr.20211016054411.209"><vh>@@clean tex-chtml.js</vh></v>
<v t="ekr.20211016054411.210"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.211"><vh>tex-chtml-full</vh>
<v t="ekr.20211016054411.212"><vh>@@clean preload.js</vh></v>
<v t="ekr.20211016054411.213"><vh>@@clean tex-chtml-full.js</vh></v>
<v t="ekr.20211016054411.214"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.215"><vh>tex-mml-chtml</vh>
<v t="ekr.20211016054411.216"><vh>@@clean preload.js</vh></v>
<v t="ekr.20211016054411.217"><vh>@@clean tex-mml-chtml.js</vh></v>
<v t="ekr.20211016054411.218"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.219"><vh>tex-mml-svg</vh>
<v t="ekr.20211016054411.220"><vh>@@clean preload.js</vh></v>
<v t="ekr.20211016054411.221"><vh>@@clean tex-mml-svg.js</vh></v>
<v t="ekr.20211016054411.222"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.223"><vh>tex-svg</vh>
<v t="ekr.20211016054411.224"><vh>@@clean preload.js</vh></v>
<v t="ekr.20211016054411.225"><vh>@@clean tex-svg.js</vh></v>
<v t="ekr.20211016054411.226"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.227"><vh>tex-svg-full</vh>
<v t="ekr.20211016054411.228"><vh>@@clean preload.js</vh></v>
<v t="ekr.20211016054411.229"><vh>@@clean tex-svg-full.js</vh></v>
<v t="ekr.20211016054411.230"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.231"><vh>ui</vh>
<v t="ekr.20211016054411.232"><vh>lazy</vh>
<v t="ekr.20211016054411.233"><vh>@@clean lazy.js</vh></v>
<v t="ekr.20211016054411.234"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.235"><vh>menu</vh>
<v t="ekr.20211016054411.236"><vh>@@clean menu.js</vh></v>
<v t="ekr.20211016054411.237"><vh>@@clean webpack.config.js</vh></v>
</v>
<v t="ekr.20211016054411.238"><vh>safe</vh>
<v t="ekr.20211016054411.239"><vh>@@clean safe.js</vh></v>
<v t="ekr.20211016054411.240"><vh>@@clean webpack.config.js</vh></v>
</v>
</v>
</v>
</v>
<v t="ekr.20211016054411.241"><vh>ts</vh>
<v t="ekr.20211016054411.242"><vh>@@clean mathjax.ts</vh></v>
<v t="ekr.20211016054411.243"><vh>a11y</vh>
<v t="ekr.20211016054411.244"><vh>@@clean assistive-mml.ts</vh>
<v t="ekr.20211016054411.245"><vh>class LimitedMmlVisitor</vh></v>
<v t="ekr.20211016054411.246"><vh>AssistiveMmlMathItem</vh></v>
<v t="ekr.20211016054411.247"><vh>assistiveMml</vh></v>
<v t="ekr.20211016054411.248"><vh>AssistiveMmlMathDocument</vh></v>
<v t="ekr.20211016054411.249"><vh>constructor</vh></v>
<v t="ekr.20211016054411.250"><vh>toMML</vh></v>
<v t="ekr.20211016054411.251"><vh>assistiveMml</vh></v>
<v t="ekr.20211016054411.252"><vh>state</vh></v>
<v t="ekr.20211016054411.253"><vh>AssistiveMmlHandler</vh></v>
</v>
<v t="ekr.20211016054411.254"><vh>@@clean complexity.ts</vh>
<v t="ekr.20211016054411.255"><vh>ComplexityMathItem</vh></v>
<v t="ekr.20211016054411.256"><vh>complexity</vh></v>
<v t="ekr.20211016054411.257"><vh>ComplexityMathDocument</vh></v>
<v t="ekr.20211016054411.258"><vh>constructor</vh></v>
<v t="ekr.20211016054411.259"><vh>complexity</vh></v>
<v t="ekr.20211016054411.260"><vh>state</vh></v>
</v>
<v t="ekr.20211016054411.261"><vh>@@clean explorer.ts</vh>
<v t="ekr.20211016054411.262"><vh>ExplorerMathItem</vh></v>
<v t="ekr.20211016054411.263"><vh>explorable</vh></v>
<v t="ekr.20211016054411.264"><vh>attachExplorers</vh></v>
<v t="ekr.20211016054411.265"><vh>rerender</vh></v>
<v t="ekr.20211016054411.266"><vh>updateDocument</vh></v>
<v t="ekr.20211016054411.267"><vh>ExplorerMathDocument</vh></v>
<v t="ekr.20211016054411.268"><vh>constructor</vh></v>
<v t="ekr.20211016054411.269"><vh>explorable</vh></v>
<v t="ekr.20211016054411.270"><vh>state</vh></v>
<v t="ekr.20211016054411.271"><vh>ExplorerHandler</vh></v>
<v t="ekr.20211016054411.272"><vh>initExplorerRegions</vh></v>
<v t="ekr.20211016054411.273"><vh>initExplorers</vh></v>
<v t="ekr.20211016054411.274"><vh>setA11yOptions</vh></v>
<v t="ekr.20211016054411.275"><vh>setA11yOption</vh></v>
</v>
<v t="ekr.20211016054411.276"><vh>@@clean semantic-enrich.ts</vh>
<v t="ekr.20211016054411.277"><vh>EnrichedMathItem</vh></v>
<v t="ekr.20211016054411.278"><vh>enrich</vh></v>
<v t="ekr.20211016054411.279"><vh>attachSpeech</vh></v>
<v t="ekr.20211016054411.280"><vh>getSpeech</vh></v>
<v t="ekr.20211016054411.281"><vh>EnrichedMathDocument</vh></v>
<v t="ekr.20211016054411.282"><vh>constructor</vh></v>
<v t="ekr.20211016054411.283"><vh>attachSpeech</vh></v>
<v t="ekr.20211016054411.284"><vh>enrich</vh></v>
<v t="ekr.20211016054411.285"><vh>enrichError</vh></v>
<v t="ekr.20211016054411.286"><vh>state</vh></v>
<v t="ekr.20211016054411.287"><vh>EnrichHandler</vh></v>
</v>
<v t="ekr.20211016054411.288"><vh>@@clean speech-rule-engine.d.ts</vh></v>
<v t="ekr.20211016054411.289"><vh>@@clean sre-node.ts</vh></v>
<v t="ekr.20211016054411.290"><vh>@@clean sre.ts</vh></v>
<v t="ekr.20211016054411.291"><vh>@@clean sre_browser.d.ts</vh>
<v t="ekr.20211016054411.292"><vh>interface SpeechGenerator</vh></v>
<v t="ekr.20211016054411.293"><vh>interface Highlighter</vh></v>
<v t="ekr.20211016054411.294"><vh>interface Focus</vh></v>
<v t="ekr.20211016054411.295"><vh>interface Walker</vh></v>
</v>
<v t="ekr.20211016054411.296"><vh>complexity</vh>
<v t="ekr.20211016054411.297"><vh>@@clean collapse.ts</vh>
<v t="ekr.20211016054411.298"><vh>class Collapse</vh>
<v t="ekr.20211016054411.299"><vh>Collapse.constructor</vh></v>
<v t="ekr.20211016054411.300"><vh>Collapse.check</vh></v>
<v t="ekr.20211016054411.301"><vh>Collapse.makeCollapse</vh></v>
<v t="ekr.20211016054411.302"><vh>Collapse.makeActions</vh></v>
<v t="ekr.20211016054411.303"><vh>Collapse.makeId</vh></v>
<v t="ekr.20211016054411.304"><vh>Collapse.makeAction</vh></v>
<v t="ekr.20211016054411.305"><vh>Collapse.addMrow</vh></v>
</v>
</v>
<v t="ekr.20211016054411.306"><vh>@@clean visitor.ts</vh>
<v t="ekr.20211016054411.307"><vh>class ComplexityVisitor</vh>
<v t="ekr.20211016054411.308"><vh>ComplexityVisitor.constructor</vh></v>
<v t="ekr.20211016054411.309"><vh>ComplexityVisitor.visitTree</vh></v>
<v t="ekr.20211016054411.310"><vh>ComplexityVisitor.visitNode</vh></v>
<v t="ekr.20211016054411.311"><vh>ComplexityVisitor.visitDefault</vh></v>
<v t="ekr.20211016054411.312"><vh>ComplexityVisitor.getComplexity</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.313"><vh>explorer</vh>
<v t="ekr.20211016054411.314"><vh>@@clean Explorer.ts</vh>
<v t="ekr.20211016054411.315"><vh>Explorer</vh></v>
<v t="ekr.20211016054411.316"><vh>class AbstractExplorer</vh>
<v t="ekr.20211016054411.317"><vh>AbstractExplorer.Attach</vh></v>
<v t="ekr.20211016054411.318"><vh>AbstractExplorer.Detach</vh></v>
<v t="ekr.20211016054411.319"><vh>AbstractExplorer.Start</vh></v>
<v t="ekr.20211016054411.320"><vh>AbstractExplorer.Stop</vh></v>
<v t="ekr.20211016054411.321"><vh>AbstractExplorer.AddEvents</vh></v>
<v t="ekr.20211016054411.322"><vh>AbstractExplorer.RemoveEvents</vh></v>
</v>
</v>
<v t="ekr.20211016054411.323"><vh>@@clean KeyExplorer.ts</vh>
<v t="ekr.20211016054411.324"><vh>KeyExplorer</vh></v>
<v t="ekr.20211016054411.325"><vh>FocusIn</vh></v>
<v t="ekr.20211016054411.326"><vh>FocusOut</vh></v>
<v t="ekr.20211016054411.327"><vh>Update</vh></v>
<v t="ekr.20211016054411.328"><vh>Attach</vh></v>
<v t="ekr.20211016054411.329"><vh>AddEvents</vh></v>
<v t="ekr.20211016054411.330"><vh>Detach</vh></v>
<v t="ekr.20211016054411.331"><vh>Stop</vh></v>
<v t="ekr.20211016054411.332"><vh>class SpeechExplorer</vh>
<v t="ekr.20211016054411.333"><vh>SpeechExplorer.Start</vh></v>
<v t="ekr.20211016054411.334"><vh>SpeechExplorer.Update</vh></v>
<v t="ekr.20211016054411.335"><vh>SpeechExplorer.Speech</vh></v>
<v t="ekr.20211016054411.336"><vh>SpeechExplorer.KeyDown</vh></v>
<v t="ekr.20211016054411.337"><vh>SpeechExplorer.Move</vh></v>
<v t="ekr.20211016054411.338"><vh>SpeechExplorer.initWalker</vh></v>
<v t="ekr.20211016054411.339"><vh>SpeechExplorer.getOptions</vh></v>
</v>
<v t="ekr.20211016054411.340"><vh>class Magnifier</vh>
<v t="ekr.20211016054411.341"><vh>Magnifier.Update</vh></v>
<v t="ekr.20211016054411.342"><vh>Magnifier.Start</vh></v>
<v t="ekr.20211016054411.343"><vh>Magnifier.showFocus</vh></v>
<v t="ekr.20211016054411.344"><vh>Magnifier.Move</vh></v>
<v t="ekr.20211016054411.345"><vh>Magnifier.KeyDown</vh></v>
</v>
</v>
<v t="ekr.20211016054411.346"><vh>@@clean MouseExplorer.ts</vh>
<v t="ekr.20211016054411.347"><vh>MouseExplorer</vh></v>
<v t="ekr.20211016054411.348"><vh>MouseOver</vh></v>
<v t="ekr.20211016054411.349"><vh>MouseOut</vh></v>
<v t="ekr.20211016054411.350"><vh>MouseOut</vh></v>
<v t="ekr.20211016054411.351"><vh>MouseOver</vh></v>
<v t="ekr.20211016054411.352"><vh>getNode</vh></v>
<v t="ekr.20211016054411.353"><vh>class FlameHoverer</vh></v>
</v>
<v t="ekr.20211016054411.354"><vh>@@clean Region.ts</vh>
<v t="ekr.20211016054411.355"><vh>Region</vh></v>
<v t="ekr.20211016054411.356"><vh>constructor</vh></v>
<v t="ekr.20211016054411.357"><vh>AddStyles</vh></v>
<v t="ekr.20211016054411.358"><vh>AddElement</vh></v>
<v t="ekr.20211016054411.359"><vh>Show</vh></v>
<v t="ekr.20211016054411.360"><vh>Hide</vh></v>
<v t="ekr.20211016054411.361"><vh>class DummyRegion</vh></v>
<v t="ekr.20211016054411.362"><vh>class StringRegion</vh>
<v t="ekr.20211016054411.363"><vh>StringRegion.Clear</vh></v>
<v t="ekr.20211016054411.364"><vh>StringRegion.Update</vh></v>
</v>
<v t="ekr.20211016054411.365"><vh>class ToolTip</vh></v>
<v t="ekr.20211016054411.366"><vh>class LiveRegion</vh>
<v t="ekr.20211016054411.367"><vh>LiveRegion.constructor</vh></v>
</v>
<v t="ekr.20211016054411.368"><vh>class HoverRegion</vh>
<v t="ekr.20211016054411.369"><vh>HoverRegion.constructor</vh></v>
<v t="ekr.20211016054411.370"><vh>HoverRegion.Show</vh></v>
<v t="ekr.20211016054411.371"><vh>HoverRegion.Clear</vh></v>
<v t="ekr.20211016054411.372"><vh>HoverRegion.Update</vh></v>
<v t="ekr.20211016054411.373"><vh>HoverRegion.cloneNode</vh></v>
</v>
</v>
<v t="ekr.20211016054411.374"><vh>@@clean TreeExplorer.ts</vh>
<v t="ekr.20211016054411.375"><vh>TreeExplorer</vh></v>
<v t="ekr.20211016054411.376"><vh>class AbstractTreeExplorer</vh>
<v t="ekr.20211016054411.377"><vh>AbstractTreeExplorer.Attach</vh></v>
<v t="ekr.20211016054411.378"><vh>AbstractTreeExplorer.Detach</vh></v>
</v>
<v t="ekr.20211016054411.379"><vh>class FlameColorer</vh>
<v t="ekr.20211016054411.380"><vh>FlameColorer.Start</vh></v>
<v t="ekr.20211016054411.381"><vh>FlameColorer.Stop</vh></v>
</v>
<v t="ekr.20211016054411.382"><vh>class TreeColorer</vh>
<v t="ekr.20211016054411.383"><vh>TreeColorer.Start</vh></v>
<v t="ekr.20211016054411.384"><vh>TreeColorer.Stop</vh></v>
</v>
</v>
</v>
</v>
<v t="ekr.20211016054411.385"><vh>adaptors</vh>
<v t="ekr.20211016054411.386"><vh>@@clean browserAdaptor.ts</vh>
<v t="ekr.20211016054411.387"><vh>interface Window</vh></v>
<v t="ekr.20211016054411.388"><vh>browserAdaptor</vh></v>
</v>
<v t="ekr.20211016054411.389"><vh>@@clean chooseAdaptor.ts</vh></v>
<v t="ekr.20211016054411.390"><vh>@@clean HTMLAdaptor.ts</vh>
<v t="ekr.20211016054411.391"><vh>MinDocument</vh></v>
<v t="ekr.20211016054411.392"><vh>MinHTMLElement</vh></v>
<v t="ekr.20211016054411.393"><vh>MinText</vh></v>
<v t="ekr.20211016054411.394"><vh>MinDOMParser</vh></v>
<v t="ekr.20211016054411.395"><vh>MinXMLSerializer</vh></v>
<v t="ekr.20211016054411.396"><vh>MinWindow</vh></v>
<v t="ekr.20211016054411.397"><vh>MinHTMLAdaptor</vh></v>
<v t="ekr.20211016054411.398"><vh>constructor</vh></v>
<v t="ekr.20211016054411.399"><vh>parse</vh></v>
<v t="ekr.20211016054411.400"><vh>text</vh></v>
<v t="ekr.20211016054411.401"><vh>head</vh></v>
<v t="ekr.20211016054411.402"><vh>body</vh></v>
<v t="ekr.20211016054411.403"><vh>root</vh></v>
<v t="ekr.20211016054411.404"><vh>doctype</vh></v>
<v t="ekr.20211016054411.405"><vh>tags</vh></v>
<v t="ekr.20211016054411.406"><vh>getElements</vh></v>
<v t="ekr.20211016054411.407"><vh>contains</vh></v>
<v t="ekr.20211016054411.408"><vh>parent</vh></v>
<v t="ekr.20211016054411.409"><vh>append</vh></v>
<v t="ekr.20211016054411.410"><vh>insert</vh></v>
<v t="ekr.20211016054411.411"><vh>remove</vh></v>
<v t="ekr.20211016054411.412"><vh>replace</vh></v>
<v t="ekr.20211016054411.413"><vh>clone</vh></v>
<v t="ekr.20211016054411.414"><vh>split</vh></v>
<v t="ekr.20211016054411.415"><vh>next</vh></v>
<v t="ekr.20211016054411.416"><vh>previous</vh></v>
<v t="ekr.20211016054411.417"><vh>firstChild</vh></v>
<v t="ekr.20211016054411.418"><vh>lastChild</vh></v>
<v t="ekr.20211016054411.419"><vh>childNodes</vh></v>
<v t="ekr.20211016054411.420"><vh>childNode</vh></v>
<v t="ekr.20211016054411.421"><vh>kind</vh></v>
<v t="ekr.20211016054411.422"><vh>value</vh></v>
<v t="ekr.20211016054411.423"><vh>textContent</vh></v>
<v t="ekr.20211016054411.424"><vh>innerHTML</vh></v>
<v t="ekr.20211016054411.425"><vh>outerHTML</vh></v>
<v t="ekr.20211016054411.426"><vh>serializeXML</vh></v>
<v t="ekr.20211016054411.427"><vh>setAttribute</vh></v>
<v t="ekr.20211016054411.428"><vh>getAttribute</vh></v>
<v t="ekr.20211016054411.429"><vh>removeAttribute</vh></v>
<v t="ekr.20211016054411.430"><vh>hasAttribute</vh></v>
<v t="ekr.20211016054411.431"><vh>allAttributes</vh></v>
<v t="ekr.20211016054411.432"><vh>addClass</vh></v>
<v t="ekr.20211016054411.433"><vh>removeClass</vh></v>
<v t="ekr.20211016054411.434"><vh>hasClass</vh></v>
<v t="ekr.20211016054411.435"><vh>setStyle</vh></v>
<v t="ekr.20211016054411.436"><vh>getStyle</vh></v>
<v t="ekr.20211016054411.437"><vh>allStyles</vh></v>
<v t="ekr.20211016054411.438"><vh>insertRules</vh>
<v t="ekr.20211016054411.439"><vh>fontSize</vh></v>
<v t="ekr.20211016054411.440"><vh>fontFamily</vh></v>
<v t="ekr.20211016054411.441"><vh>nodeSize</vh></v>
<v t="ekr.20211016054411.442"><vh>nodeBBox</vh></v>
</v>
</v>
<v t="ekr.20211016054411.443"><vh>@@clean jsdomAdaptor.ts</vh>
<v t="ekr.20211016054411.444"><vh>class JsdomAdaptor</vh>
<v t="ekr.20211016054411.445"><vh>JsdomAdaptor.constructor</vh></v>
<v t="ekr.20211016054411.446"><vh>JsdomAdaptor.fontSize</vh></v>
<v t="ekr.20211016054411.447"><vh>JsdomAdaptor.fontFamily</vh></v>
<v t="ekr.20211016054411.448"><vh>JsdomAdaptor.nodeSize</vh></v>
<v t="ekr.20211016054411.449"><vh>JsdomAdaptor.nodeBBox</vh></v>
</v>
<v t="ekr.20211016054411.450"><vh>jsdomAdaptor</vh></v>
</v>
<v t="ekr.20211016054411.451"><vh>@@clean liteAdaptor.ts</vh>
<v t="ekr.20211016054411.452"><vh>class LiteAdaptor</vh>
<v t="ekr.20211016054411.453"><vh>LiteAdaptor.constructor</vh></v>
<v t="ekr.20211016054411.454"><vh>LiteAdaptor.parse</vh></v>
<v t="ekr.20211016054411.455"><vh>LiteAdaptor.text</vh></v>
<v t="ekr.20211016054411.456"><vh>LiteAdaptor.comment</vh></v>
<v t="ekr.20211016054411.457"><vh>LiteAdaptor.createDocument</vh></v>
<v t="ekr.20211016054411.458"><vh>LiteAdaptor.head</vh></v>
<v t="ekr.20211016054411.459"><vh>LiteAdaptor.body</vh></v>
<v t="ekr.20211016054411.460"><vh>LiteAdaptor.root</vh></v>
<v t="ekr.20211016054411.461"><vh>LiteAdaptor.doctype</vh></v>
<v t="ekr.20211016054411.462"><vh>LiteAdaptor.tags</vh></v>
<v t="ekr.20211016054411.463"><vh>LiteAdaptor.elementById</vh></v>
<v t="ekr.20211016054411.464"><vh>LiteAdaptor.elementsByClass</vh></v>
<v t="ekr.20211016054411.465"><vh>LiteAdaptor.getElements</vh></v>
<v t="ekr.20211016054411.466"><vh>LiteAdaptor.contains</vh></v>
<v t="ekr.20211016054411.467"><vh>LiteAdaptor.parent</vh></v>
<v t="ekr.20211016054411.468"><vh>LiteAdaptor.childIndex</vh></v>
<v t="ekr.20211016054411.469"><vh>LiteAdaptor.append</vh></v>
<v t="ekr.20211016054411.470"><vh>LiteAdaptor.insert</vh></v>
<v t="ekr.20211016054411.471"><vh>LiteAdaptor.remove</vh></v>
<v t="ekr.20211016054411.472"><vh>LiteAdaptor.replace</vh></v>
<v t="ekr.20211016054411.473"><vh>LiteAdaptor.clone</vh></v>
<v t="ekr.20211016054411.474"><vh>LiteAdaptor.split</vh></v>
<v t="ekr.20211016054411.475"><vh>LiteAdaptor.next</vh></v>
<v t="ekr.20211016054411.476"><vh>LiteAdaptor.previous</vh></v>
<v t="ekr.20211016054411.477"><vh>LiteAdaptor.firstChild</vh></v>
<v t="ekr.20211016054411.478"><vh>LiteAdaptor.lastChild</vh></v>
<v t="ekr.20211016054411.479"><vh>LiteAdaptor.childNodes</vh></v>
<v t="ekr.20211016054411.480"><vh>LiteAdaptor.childNode</vh></v>
<v t="ekr.20211016054411.481"><vh>LiteAdaptor.kind</vh></v>
<v t="ekr.20211016054411.482"><vh>LiteAdaptor.value</vh></v>
<v t="ekr.20211016054411.483"><vh>LiteAdaptor.textContent</vh></v>
<v t="ekr.20211016054411.484"><vh>LiteAdaptor.innerHTML</vh></v>
<v t="ekr.20211016054411.485"><vh>LiteAdaptor.outerHTML</vh></v>
<v t="ekr.20211016054411.486"><vh>LiteAdaptor.serializeXML</vh></v>
<v t="ekr.20211016054411.487"><vh>LiteAdaptor.setAttribute</vh></v>
<v t="ekr.20211016054411.488"><vh>LiteAdaptor.getAttribute</vh></v>
<v t="ekr.20211016054411.489"><vh>LiteAdaptor.removeAttribute</vh></v>
<v t="ekr.20211016054411.490"><vh>LiteAdaptor.hasAttribute</vh></v>
<v t="ekr.20211016054411.491"><vh>LiteAdaptor.allAttributes</vh></v>
<v t="ekr.20211016054411.492"><vh>LiteAdaptor.addClass</vh></v>
<v t="ekr.20211016054411.493"><vh>LiteAdaptor.removeClass</vh></v>
<v t="ekr.20211016054411.494"><vh>LiteAdaptor.hasClass</vh></v>
<v t="ekr.20211016054411.495"><vh>LiteAdaptor.setStyle</vh></v>
<v t="ekr.20211016054411.496"><vh>LiteAdaptor.getStyle</vh></v>
<v t="ekr.20211016054411.497"><vh>LiteAdaptor.allStyles</vh></v>
<v t="ekr.20211016054411.498"><vh>LiteAdaptor.insertRules</vh></v>
<v t="ekr.20211016054411.499"><vh>LiteAdaptor.fontSize</vh></v>
<v t="ekr.20211016054411.500"><vh>LiteAdaptor.fontFamily</vh></v>
<v t="ekr.20211016054411.501"><vh>LiteAdaptor.nodeSize</vh></v>
<v t="ekr.20211016054411.502"><vh>LiteAdaptor.nodeBBox</vh></v>
</v>
<v t="ekr.20211016054411.503"><vh>liteAdaptor</vh></v>
</v>
<v t="ekr.20211016054411.504"><vh>lite</vh>
<v t="ekr.20211016054411.505"><vh>@@clean Document.ts</vh>
<v t="ekr.20211016054411.506"><vh>class LiteDocument</vh>
<v t="ekr.20211016054411.507"><vh>LiteDocument.constructor</vh></v>
</v>
</v>
<v t="ekr.20211016054411.508"><vh>@@clean Element.ts</vh>
<v t="ekr.20211016054411.509"><vh>class LiteElement</vh>
<v t="ekr.20211016054411.510"><vh>LiteElement.constructor</vh></v>
</v>
</v>
<v t="ekr.20211016054411.511"><vh>@@clean List.ts</vh>
<v t="ekr.20211016054411.512"><vh>class LiteList</vh>
<v t="ekr.20211016054411.513"><vh>LiteList.constructor</vh></v>
<v t="ekr.20211016054411.514"><vh>LiteList.append</vh></v>
</v>
</v>
<v t="ekr.20211016054411.515"><vh>@@clean Parser.ts</vh>
<v t="ekr.20211016054411.516"><vh>class LiteParser</vh>
<v t="ekr.20211016054411.517"><vh>LiteParser.parseFromString</vh></v>
<v t="ekr.20211016054411.518"><vh>LiteParser.serialize</vh></v>
<v t="ekr.20211016054411.519"><vh>LiteParser.serializeInner</vh></v>
<v t="ekr.20211016054411.520"><vh>LiteParser.protectAttribute</vh>
<v t="ekr.20211016054411.521"><vh>LiteParser.protectHTML</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.522"><vh>@@clean Text.ts</vh>
<v t="ekr.20211016054411.523"><vh>class LiteText</vh>
<v t="ekr.20211016054411.524"><vh>LiteText.constructor</vh></v>
</v>
<v t="ekr.20211016054411.525"><vh>class LiteComment</vh></v>
</v>
<v t="ekr.20211016054411.526"><vh>@@clean Window.ts</vh>
<v t="ekr.20211016054411.527"><vh>class LiteWindow</vh>
<v t="ekr.20211016054411.528"><vh>LiteWindow.constructor</vh></v>
</v>
</v>
</v>
</v>
<v t="ekr.20211016054411.529"><vh>components</vh>
<v t="ekr.20211016054411.530"><vh>@@clean global.ts</vh>
<v t="ekr.20211016054411.531"><vh>MathJaxConfig</vh></v>
<v t="ekr.20211016054411.532"><vh>MathJaxLibrary</vh></v>
<v t="ekr.20211016054411.533"><vh>MathJaxObject</vh></v>
<v t="ekr.20211016054411.534"><vh>isObject</vh></v>
<v t="ekr.20211016054411.535"><vh>combineConfig</vh></v>
<v t="ekr.20211016054411.536"><vh>combineDefaults</vh></v>
<v t="ekr.20211016054411.537"><vh>combineWithMathJax</vh></v>
</v>
<v t="ekr.20211016054411.538"><vh>@@clean latest.ts</vh>
<v t="ekr.20211016054411.539"><vh>Error</vh></v>
<v t="ekr.20211016054411.540"><vh>scriptData</vh></v>
<v t="ekr.20211016054411.541"><vh>checkScript</vh></v>
<v t="ekr.20211016054411.542"><vh>getScript</vh></v>
<v t="ekr.20211016054411.543"><vh>saveVersion</vh></v>
<v t="ekr.20211016054411.544"><vh>getSavedVersion</vh></v>
<v t="ekr.20211016054411.545"><vh>loadMathJax</vh></v>
<v t="ekr.20211016054411.546"><vh>loadDefaultMathJax</vh></v>
<v t="ekr.20211016054411.547"><vh>loadVersion</vh></v>
<v t="ekr.20211016054411.548"><vh>checkVersion</vh></v>
<v t="ekr.20211016054411.549"><vh>getXMLHttpRequest</vh></v>
<v t="ekr.20211016054411.550"><vh>requestXML</vh></v>
<v t="ekr.20211016054411.551"><vh>loadLatestGitVersion</vh></v>
<v t="ekr.20211016054411.552"><vh>loadLatestCdnVersion</vh></v>
<v t="ekr.20211016054411.553"><vh>loadLatest</vh></v>
</v>
<v t="ekr.20211016054411.554"><vh>@@clean loader.ts</vh>
<v t="ekr.20211016054411.555"><vh>MathJaxConfig</vh></v>
<v t="ekr.20211016054411.556"><vh>MathJaxObject</vh></v>
<v t="ekr.20211016054411.557"><vh>ready</vh></v>
<v t="ekr.20211016054411.558"><vh>load</vh></v>
<v t="ekr.20211016054411.559"><vh>preLoad</vh></v>
<v t="ekr.20211016054411.560"><vh>defaultReady</vh></v>
<v t="ekr.20211016054411.561"><vh>getRoot</vh></v>
</v>
<v t="ekr.20211016054411.562"><vh>@@clean package.ts</vh>
<v t="ekr.20211016054411.563"><vh>class PackageError</vh>
<v t="ekr.20211016054411.564"><vh>PackageError.constructor</vh></v>
</v>
<v t="ekr.20211016054411.565"><vh>PackageConfig</vh></v>
<v t="ekr.20211016054411.566"><vh>class Package</vh>
<v t="ekr.20211016054411.567"><vh>Package.resolvePath</vh></v>
<v t="ekr.20211016054411.568"><vh>Package.loadAll</vh></v>
<v t="ekr.20211016054411.569"><vh>Package.constructor</vh></v>
<v t="ekr.20211016054411.570"><vh>Package.load</vh></v>
<v t="ekr.20211016054411.571"><vh>Package.loaded</vh></v>
<v t="ekr.20211016054411.572"><vh>Package.requirementSatisfied</vh></v>
<v t="ekr.20211016054411.573"><vh>Package.provides</vh></v>
<v t="ekr.20211016054411.574"><vh>Package.addDependent</vh></v>
<v t="ekr.20211016054411.575"><vh>Package.checkNoLoad</vh></v>
</v>
</v>
<v t="ekr.20211016054411.576"><vh>@@clean startup.ts</vh>
<v t="ekr.20211016054411.577"><vh>MathJaxConfig</vh></v>
<v t="ekr.20211016054411.578"><vh>MathJaxObject</vh></v>
<v t="ekr.20211016054411.579"><vh>toMML</vh></v>
<v t="ekr.20211016054411.580"><vh>registerConstructor</vh></v>
<v t="ekr.20211016054411.581"><vh>useHandler</vh></v>
<v t="ekr.20211016054411.582"><vh>useAdaptor</vh></v>
<v t="ekr.20211016054411.583"><vh>useInput</vh></v>
<v t="ekr.20211016054411.584"><vh>useOutput</vh></v>
<v t="ekr.20211016054411.585"><vh>extendHandler</vh></v>
<v t="ekr.20211016054411.586"><vh>defaultReady</vh></v>
<v t="ekr.20211016054411.587"><vh>defaultPageReady</vh></v>
<v t="ekr.20211016054411.588"><vh>getComponents</vh></v>
<v t="ekr.20211016054411.589"><vh>makeMethods</vh></v>
<v t="ekr.20211016054411.590"><vh>makeTypesetMethods</vh></v>
<v t="ekr.20211016054411.591"><vh>makeOutputMethods</vh></v>
<v t="ekr.20211016054411.592"><vh>makeMmlMethods</vh></v>
<v t="ekr.20211016054411.593"><vh>makeResetMethod</vh></v>
<v t="ekr.20211016054411.594"><vh>getInputJax</vh></v>
<v t="ekr.20211016054411.595"><vh>getOutputJax</vh></v>
<v t="ekr.20211016054411.596"><vh>getAdaptor</vh></v>
<v t="ekr.20211016054411.597"><vh>getHandler</vh></v>
<v t="ekr.20211016054411.598"><vh>getDocument</vh></v>
</v>
</v>
<v t="ekr.20211016054411.599"><vh>ts/core</vh>
<v t="ekr.20211016054411.600"><vh>@@clean DOMAdaptor.ts</vh>
<v t="ekr.20211016054411.601"><vh>DOMAdaptor</vh></v>
<v t="ekr.20211016054411.602"><vh>constructor</vh></v>
<v t="ekr.20211016054411.603"><vh>node</vh></v>
<v t="ekr.20211016054411.604"><vh>setAttributes</vh></v>
<v t="ekr.20211016054411.605"><vh>replace</vh></v>
<v t="ekr.20211016054411.606"><vh>childNode</vh></v>
<v t="ekr.20211016054411.607"><vh>allClasses</vh></v>
</v>
<v t="ekr.20211016054411.608"><vh>@@clean FindMath.ts</vh>
<v t="ekr.20211016054411.609"><vh>FindMath</vh></v>
<v t="ekr.20211016054411.610"><vh>constructor</vh></v>
</v>
<v t="ekr.20211016054411.611"><vh>@@clean Handler.ts</vh>
<v t="ekr.20211016054411.612"><vh>Handler</vh></v>
<v t="ekr.20211016054411.613"><vh>constructor</vh></v>
<v t="ekr.20211016054411.614"><vh>handlesDocument</vh></v>
<v t="ekr.20211016054411.615"><vh>create</vh></v>
</v>
<v t="ekr.20211016054411.616"><vh>@@clean HandlerList.ts</vh>
<v t="ekr.20211016054411.617"><vh>class HandlerList</vh>
<v t="ekr.20211016054411.618"><vh>HandlerList.register</vh></v>
<v t="ekr.20211016054411.619"><vh>HandlerList.unregister</vh></v>
<v t="ekr.20211016054411.620"><vh>HandlerList.handlesDocument</vh>
<v t="ekr.20211016054411.621"><vh>HandlerList.document</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.622"><vh>@@clean InputJax.ts</vh>
<v t="ekr.20211016054411.623"><vh>InputJax</vh></v>
<v t="ekr.20211016054411.624"><vh>constructor</vh></v>
<v t="ekr.20211016054411.625"><vh>setAdaptor</vh></v>
<v t="ekr.20211016054411.626"><vh>setMmlFactory</vh></v>
<v t="ekr.20211016054411.627"><vh>initialize</vh></v>
<v t="ekr.20211016054411.628"><vh>reset</vh></v>
<v t="ekr.20211016054411.629"><vh>findMath</vh></v>
</v>
<v t="ekr.20211016054411.630"><vh>@@clean MathDocument.ts</vh>
<v t="ekr.20211016054411.631"><vh>class RenderList</vh>
<v t="ekr.20211016054411.632"><vh>RenderList.renderDoc</vh></v>
<v t="ekr.20211016054411.633"><vh>RenderList.renderMath</vh></v>
<v t="ekr.20211016054411.634"><vh>RenderList.renderConvert</vh></v>
<v t="ekr.20211016054411.635"><vh>RenderList.findID</vh></v>
</v>
<v t="ekr.20211016054411.636"><vh>MathDocument</vh></v>
<v t="ekr.20211016054411.637"><vh>class DefaultInputJax</vh>
<v t="ekr.20211016054411.638"><vh>DefaultInputJax.compile</vh></v>
</v>
<v t="ekr.20211016054411.639"><vh>class DefaultOutputJax</vh>
<v t="ekr.20211016054411.640"><vh>DefaultOutputJax.typeset</vh></v>
<v t="ekr.20211016054411.641"><vh>DefaultOutputJax.escaped</vh></v>
</v>
<v t="ekr.20211016054411.642"><vh>constructor</vh></v>
<v t="ekr.20211016054411.643"><vh>addRenderAction</vh></v>
<v t="ekr.20211016054411.644"><vh>removeRenderAction</vh></v>
<v t="ekr.20211016054411.645"><vh>render</vh></v>
<v t="ekr.20211016054411.646"><vh>rerender</vh></v>
<v t="ekr.20211016054411.647"><vh>convert</vh></v>
<v t="ekr.20211016054411.648"><vh>findMath</vh></v>
<v t="ekr.20211016054411.649"><vh>compile</vh></v>
<v t="ekr.20211016054411.650"><vh>compileError</vh></v>
<v t="ekr.20211016054411.651"><vh>typeset</vh></v>
<v t="ekr.20211016054411.652"><vh>typesetError</vh></v>
<v t="ekr.20211016054411.653"><vh>getMetrics</vh></v>
<v t="ekr.20211016054411.654"><vh>updateDocument</vh></v>
<v t="ekr.20211016054411.655"><vh>removeFromDocument</vh></v>
<v t="ekr.20211016054411.656"><vh>state</vh></v>
<v t="ekr.20211016054411.657"><vh>reset</vh></v>
<v t="ekr.20211016054411.658"><vh>clear</vh></v>
<v t="ekr.20211016054411.659"><vh>concat</vh></v>
<v t="ekr.20211016054411.660"><vh>clearMathItemsWithin</vh></v>
<v t="ekr.20211016054411.661"><vh>getMathItemsWithin</vh></v>
<v t="ekr.20211016054411.662"><vh>MathDocumentConstructor</vh></v>
</v>
<v t="ekr.20211016054411.663"><vh>@@clean MathItem.ts</vh>
<v t="ekr.20211016054411.664"><vh>MathItem</vh></v>
<v t="ekr.20211016054411.665"><vh>render</vh></v>
<v t="ekr.20211016054411.666"><vh>rerender</vh></v>
<v t="ekr.20211016054411.667"><vh>convert</vh></v>
<v t="ekr.20211016054411.668"><vh>compile</vh></v>
<v t="ekr.20211016054411.669"><vh>typeset</vh></v>
<v t="ekr.20211016054411.670"><vh>setMetrics</vh></v>
<v t="ekr.20211016054411.671"><vh>state</vh></v>
<v t="ekr.20211016054411.672"><vh>reset</vh></v>
<v t="ekr.20211016054411.673"><vh>newState</vh></v>
</v>
<v t="ekr.20211016054411.674"><vh>@@clean MathList.ts</vh>
<v t="ekr.20211016054411.675"><vh>MathList</vh></v>
<v t="ekr.20211016054411.676"><vh>isBefore</vh></v>
</v>
<v t="ekr.20211016054411.677"><vh>@@clean OutputJax.ts</vh>
<v t="ekr.20211016054411.678"><vh>OutputJax</vh></v>
<v t="ekr.20211016054411.679"><vh>constructor</vh></v>
<v t="ekr.20211016054411.680"><vh>setAdaptor</vh></v>
<v t="ekr.20211016054411.681"><vh>initialize</vh></v>
<v t="ekr.20211016054411.682"><vh>reset</vh></v>
<v t="ekr.20211016054411.683"><vh>getMetrics</vh></v>
<v t="ekr.20211016054411.684"><vh>styleSheet</vh></v>
<v t="ekr.20211016054411.685"><vh>pageElements</vh></v>
</v>
<v t="ekr.20211016054411.686"><vh>MmlTree</vh>
<v t="ekr.20211016054411.687"><vh>@@clean Attributes.ts</vh>
<v t="ekr.20211016054411.688"><vh>class Attributes</vh>
<v t="ekr.20211016054411.689"><vh>Attributes.constructor</vh></v>
<v t="ekr.20211016054411.690"><vh>Attributes.set</vh></v>
<v t="ekr.20211016054411.691"><vh>Attributes.setList</vh></v>
<v t="ekr.20211016054411.692"><vh>Attributes.get</vh></v>
<v t="ekr.20211016054411.693"><vh>Attributes.getExplicit</vh></v>
<v t="ekr.20211016054411.694"><vh>Attributes.getList</vh></v>
<v t="ekr.20211016054411.695"><vh>Attributes.setInherited</vh></v>
<v t="ekr.20211016054411.696"><vh>Attributes.getInherited</vh></v>
<v t="ekr.20211016054411.697"><vh>Attributes.getDefault</vh></v>
<v t="ekr.20211016054411.698"><vh>Attributes.isSet</vh></v>
<v t="ekr.20211016054411.699"><vh>Attributes.hasDefault</vh></v>
<v t="ekr.20211016054411.700"><vh>Attributes.getExplicitNames</vh></v>
<v t="ekr.20211016054411.701"><vh>Attributes.getInheritedNames</vh></v>
<v t="ekr.20211016054411.702"><vh>Attributes.getDefaultNames</vh></v>
<v t="ekr.20211016054411.703"><vh>Attributes.getGlobalNames</vh></v>
<v t="ekr.20211016054411.704"><vh>Attributes.getAllAttributes</vh></v>
<v t="ekr.20211016054411.705"><vh>Attributes.getAllInherited</vh></v>
<v t="ekr.20211016054411.706"><vh>Attributes.getAllDefaults</vh></v>
<v t="ekr.20211016054411.707"><vh>Attributes.getAllGlobals</vh></v>
</v>
</v>
<v t="ekr.20211016054411.708"><vh>@@clean JsonMmlVisitor.ts</vh>
<v t="ekr.20211016054411.709"><vh>class JsonMmlVisitor</vh>
<v t="ekr.20211016054411.710"><vh>JsonMmlVisitor.visitTree</vh></v>
<v t="ekr.20211016054411.711"><vh>JsonMmlVisitor.visitTextNode</vh></v>
<v t="ekr.20211016054411.712"><vh>JsonMmlVisitor.visitXMLNode</vh></v>
<v t="ekr.20211016054411.713"><vh>JsonMmlVisitor.visitDefault</vh></v>
<v t="ekr.20211016054411.714"><vh>JsonMmlVisitor.getChildren</vh></v>
<v t="ekr.20211016054411.715"><vh>JsonMmlVisitor.getAttributes</vh></v>
<v t="ekr.20211016054411.716"><vh>JsonMmlVisitor.getInherited</vh></v>
<v t="ekr.20211016054411.717"><vh>JsonMmlVisitor.getProperties</vh></v>
</v>
</v>
<v t="ekr.20211016054411.718"><vh>@@clean LegacyMmlVisitor.ts</vh>
<v t="ekr.20211016054411.719"><vh>class LegacyMmlVisitor</vh>
<v t="ekr.20211016054411.720"><vh>LegacyMmlVisitor.visitTree</vh></v>
<v t="ekr.20211016054411.721"><vh>LegacyMmlVisitor.visitTextNode</vh></v>
<v t="ekr.20211016054411.722"><vh>LegacyMmlVisitor.visitXMLNode</vh></v>
<v t="ekr.20211016054411.723"><vh>LegacyMmlVisitor.visitInferredMrowNode</vh></v>
<v t="ekr.20211016054411.724"><vh>LegacyMmlVisitor.visitDefault</vh></v>
<v t="ekr.20211016054411.725"><vh>LegacyMmlVisitor.addAttributes</vh></v>
<v t="ekr.20211016054411.726"><vh>LegacyMmlVisitor.addProperties</vh></v>
</v>
</v>
<v t="ekr.20211016054411.727"><vh>@@clean MathMLVisitor.ts</vh>
<v t="ekr.20211016054411.728"><vh>class MathMLVisitor</vh>
<v t="ekr.20211016054411.729"><vh>MathMLVisitor.visitTree</vh></v>
<v t="ekr.20211016054411.730"><vh>MathMLVisitor.visitTextNode</vh></v>
<v t="ekr.20211016054411.731"><vh>MathMLVisitor.visitXMLNode</vh></v>
<v t="ekr.20211016054411.732"><vh>MathMLVisitor.visitInferredMrowNode</vh></v>
<v t="ekr.20211016054411.733"><vh>MathMLVisitor.visitDefault</vh></v>
<v t="ekr.20211016054411.734"><vh>MathMLVisitor.addAttributes</vh></v>
</v>
</v>
<v t="ekr.20211016054411.735"><vh>@@clean MML.ts</vh></v>
<v t="ekr.20211016054411.736"><vh>@@clean MmlFactory.ts</vh>
<v t="ekr.20211016054411.737"><vh>class MmlFactory</vh></v>
</v>
<v t="ekr.20211016054411.738"><vh>@@clean MmlNode.ts</vh>
<v t="ekr.20211016054411.739"><vh>MmlNode</vh></v>
<v t="ekr.20211016054411.740"><vh>MmlNodeClass</vh></v>
<v t="ekr.20211016054411.741"><vh>constructor</vh></v>
<v t="ekr.20211016054411.742"><vh>copy</vh></v>
<v t="ekr.20211016054411.743"><vh>setChildren</vh></v>
<v t="ekr.20211016054411.744"><vh>appendChild</vh></v>
<v t="ekr.20211016054411.745"><vh>replaceChild</vh></v>
<v t="ekr.20211016054411.746"><vh>core</vh></v>
<v t="ekr.20211016054411.747"><vh>coreMO</vh></v>
<v t="ekr.20211016054411.748"><vh>coreIndex</vh></v>
<v t="ekr.20211016054411.749"><vh>childPosition</vh></v>
<v t="ekr.20211016054411.750"><vh>setTeXclass</vh></v>
<v t="ekr.20211016054411.751"><vh>texSpacing</vh></v>
<v t="ekr.20211016054411.752"><vh>hasSpacingAttributes</vh></v>
<v t="ekr.20211016054411.753"><vh>inheritAttributesFrom</vh></v>
<v t="ekr.20211016054411.754"><vh>verifyTree</vh></v>
<v t="ekr.20211016054411.755"><vh>mError</vh></v>
<v t="ekr.20211016054411.756"><vh>getText</vh></v>
<v t="ekr.20211016054411.757"><vh>walkTree</vh></v>
<v t="ekr.20211016054411.758"><vh>core</vh></v>
<v t="ekr.20211016054411.759"><vh>coreMO</vh></v>
<v t="ekr.20211016054411.760"><vh>setTeXclass</vh></v>
<v t="ekr.20211016054411.761"><vh>core</vh></v>
<v t="ekr.20211016054411.762"><vh>coreMO</vh></v>
<v t="ekr.20211016054411.763"><vh>setTeXclass</vh></v>
<v t="ekr.20211016054411.764"><vh>hasSpacingAttributes</vh></v>
<v t="ekr.20211016054411.765"><vh>core</vh></v>
<v t="ekr.20211016054411.766"><vh>coreMO</vh></v>
<v t="ekr.20211016054411.767"><vh>coreIndex</vh></v>
<v t="ekr.20211016054411.768"><vh>childPosition</vh></v>
<v t="ekr.20211016054411.769"><vh>setTeXclass</vh></v>
<v t="ekr.20211016054411.770"><vh>texSpacing</vh></v>
<v t="ekr.20211016054411.771"><vh>class TextNode</vh>
<v t="ekr.20211016054411.772"><vh>TextNode.getText</vh></v>
<v t="ekr.20211016054411.773"><vh>TextNode.setText</vh></v>
<v t="ekr.20211016054411.774"><vh>TextNode.copy</vh></v>
<v t="ekr.20211016054411.775"><vh>TextNode.toString</vh></v>
</v>
<v t="ekr.20211016054411.776"><vh>class XMLNode</vh>
<v t="ekr.20211016054411.777"><vh>XMLNode.getXML</vh></v>
<v t="ekr.20211016054411.778"><vh>XMLNode.setXML</vh></v>
<v t="ekr.20211016054411.779"><vh>XMLNode.getSerializedXML</vh></v>
<v t="ekr.20211016054411.780"><vh>XMLNode.copy</vh></v>
<v t="ekr.20211016054411.781"><vh>XMLNode.toString</vh></v>
</v>
</v>
<v t="ekr.20211016054411.782"><vh>@@clean MmlVisitor.ts</vh>
<v t="ekr.20211016054411.783"><vh>class MmlVisitor</vh>
<v t="ekr.20211016054411.784"><vh>MmlVisitor.constructor</vh></v>
</v>
</v>
<v t="ekr.20211016054411.785"><vh>@@clean OperatorDictionary.ts</vh>
<v t="ekr.20211016054411.786"><vh>getRange</vh></v>
</v>
<v t="ekr.20211016054411.787"><vh>@@clean SerializedMmlVisitor.ts</vh>
<v t="ekr.20211016054411.788"><vh>class SerializedMmlVisitor</vh>
<v t="ekr.20211016054411.789"><vh>SerializedMmlVisitor.visitTree</vh></v>
<v t="ekr.20211016054411.790"><vh>SerializedMmlVisitor.visitTextNode</vh></v>
<v t="ekr.20211016054411.791"><vh>SerializedMmlVisitor.visitXMLNode</vh></v>
<v t="ekr.20211016054411.792"><vh>SerializedMmlVisitor.visitInferredMrowNode</vh></v>
<v t="ekr.20211016054411.793"><vh>SerializedMmlVisitor.visitTeXAtomNode</vh></v>
<v t="ekr.20211016054411.794"><vh>SerializedMmlVisitor.visitAnnotationNode</vh></v>
<v t="ekr.20211016054411.795"><vh>SerializedMmlVisitor.visitDefault</vh></v>
</v>
</v>
<v t="ekr.20211016054411.796"><vh>@@clean TestMmlVisitor.ts</vh>
<v t="ekr.20211016054411.797"><vh>class TestMmlVisitor</vh>
<v t="ekr.20211016054411.798"><vh>TestMmlVisitor.visitDefault</vh></v>
</v>
</v>
<v t="ekr.20211016054411.799"><vh>MmlNodes</vh>
<v t="ekr.20211016054411.800"><vh>@@clean maction.ts</vh>
<v t="ekr.20211016054411.801"><vh>class MmlMaction</vh>
<v t="ekr.20211016054411.802"><vh>MmlMaction.core</vh></v>
<v t="ekr.20211016054411.803"><vh>MmlMaction.coreMO</vh></v>
<v t="ekr.20211016054411.804"><vh>MmlMaction.setTeXclass</vh></v>
<v t="ekr.20211016054411.805"><vh>MmlMaction.nextToggleSelection</vh></v>
</v>
</v>
<v t="ekr.20211016054411.806"><vh>@@clean maligngroup.ts</vh>
<v t="ekr.20211016054411.807"><vh>class MmlMaligngroup</vh></v>
</v>
<v t="ekr.20211016054411.808"><vh>@@clean malignmark.ts</vh>
<v t="ekr.20211016054411.809"><vh>class MmlMalignmark</vh></v>
</v>
<v t="ekr.20211016054411.810"><vh>@@clean math.ts</vh>
<v t="ekr.20211016054411.811"><vh>class MmlMath</vh></v>
</v>
<v t="ekr.20211016054411.812"><vh>@@clean mathchoice.ts</vh>
<v t="ekr.20211016054411.813"><vh>class MathChoice</vh>
<v t="ekr.20211016054411.814"><vh>MathChoice.setInheritedAttributes</vh></v>
</v>
</v>
<v t="ekr.20211016054411.815"><vh>@@clean menclose.ts</vh>
<v t="ekr.20211016054411.816"><vh>class MmlMenclose</vh>
<v t="ekr.20211016054411.817"><vh>MmlMenclose.setTeXclass</vh></v>
</v>
</v>
<v t="ekr.20211016054411.818"><vh>@@clean merror.ts</vh>
<v t="ekr.20211016054411.819"><vh>class MmlMerror</vh></v>
</v>
<v t="ekr.20211016054411.820"><vh>@@clean mfenced.ts</vh>
<v t="ekr.20211016054411.821"><vh>class MmlMfenced</vh>
<v t="ekr.20211016054411.822"><vh>MmlMfenced.setTeXclass</vh></v>
</v>
</v>
<v t="ekr.20211016054411.823"><vh>@@clean mfrac.ts</vh>
<v t="ekr.20211016054411.824"><vh>class MmlMfrac</vh>
<v t="ekr.20211016054411.825"><vh>MmlMfrac.setTeXclass</vh></v>
</v>
</v>
<v t="ekr.20211016054411.826"><vh>@@clean mglyph.ts</vh>
<v t="ekr.20211016054411.827"><vh>class MmlMglyph</vh></v>
</v>
<v t="ekr.20211016054411.828"><vh>@@clean mi.ts</vh>
<v t="ekr.20211016054411.829"><vh>class MmlMi</vh>
<v t="ekr.20211016054411.830"><vh>MmlMi.setTeXclass</vh></v>
</v>
</v>
<v t="ekr.20211016054411.831"><vh>@@clean mmultiscripts.ts</vh>
<v t="ekr.20211016054411.832"><vh>class MmlMmultiscripts</vh></v>
<v t="ekr.20211016054411.833"><vh>class MmlMprescripts</vh>
<v t="ekr.20211016054411.834"><vh>MmlMprescripts.verifyTree</vh></v>
</v>
<v t="ekr.20211016054411.835"><vh>class MmlNone</vh>
<v t="ekr.20211016054411.836"><vh>MmlNone.verifyTree</vh></v>
</v>
</v>
<v t="ekr.20211016054411.837"><vh>@@clean mn.ts</vh>
<v t="ekr.20211016054411.838"><vh>class MmlMn</vh></v>
</v>
<v t="ekr.20211016054411.839"><vh>@@clean mo.ts</vh>
<v t="ekr.20211016054411.840"><vh>class MmlMo</vh>
<v t="ekr.20211016054411.841"><vh>MmlMo.coreParent</vh></v>
<v t="ekr.20211016054411.842"><vh>MmlMo.coreText</vh></v>
<v t="ekr.20211016054411.843"><vh>MmlMo.hasSpacingAttributes</vh></v>
<v t="ekr.20211016054411.844"><vh>MmlMo.setTeXclass</vh></v>
<v t="ekr.20211016054411.845"><vh>MmlMo.adjustTeXclass</vh></v>
<v t="ekr.20211016054411.846"><vh>MmlMo.getForms</vh></v>
</v>
</v>
<v t="ekr.20211016054411.847"><vh>@@clean mpadded.ts</vh>
<v t="ekr.20211016054411.848"><vh>class MmlMpadded</vh></v>
</v>
<v t="ekr.20211016054411.849"><vh>@@clean mphantom.ts</vh>
<v t="ekr.20211016054411.850"><vh>class MmlMphantom</vh></v>
</v>
<v t="ekr.20211016054411.851"><vh>@@clean mroot.ts</vh>
<v t="ekr.20211016054411.852"><vh>class MmlMroot</vh>
<v t="ekr.20211016054411.853"><vh>MmlMroot.setTeXclass</vh></v>
</v>
</v>
<v t="ekr.20211016054411.854"><vh>@@clean mrow.ts</vh>
<v t="ekr.20211016054411.855"><vh>class MmlMrow</vh>
<v t="ekr.20211016054411.856"><vh>MmlMrow.core</vh></v>
<v t="ekr.20211016054411.857"><vh>MmlMrow.coreMO</vh></v>
<v t="ekr.20211016054411.858"><vh>MmlMrow.nonSpaceLength</vh></v>
<v t="ekr.20211016054411.859"><vh>MmlMrow.firstNonSpace</vh></v>
<v t="ekr.20211016054411.860"><vh>MmlMrow.lastNonSpace</vh></v>
<v t="ekr.20211016054411.861"><vh>MmlMrow.setTeXclass</vh></v>
</v>
<v t="ekr.20211016054411.862"><vh>class MmlInferredMrow</vh>
<v t="ekr.20211016054411.863"><vh>MmlInferredMrow.toString</vh></v>
</v>
</v>
<v t="ekr.20211016054411.864"><vh>@@clean ms.ts</vh>
<v t="ekr.20211016054411.865"><vh>class MmlMs</vh></v>
</v>
<v t="ekr.20211016054411.866"><vh>@@clean mspace.ts</vh>
<v t="ekr.20211016054411.867"><vh>class MmlMspace</vh>
<v t="ekr.20211016054411.868"><vh>MmlMspace.setTeXclass</vh></v>
</v>
</v>
<v t="ekr.20211016054411.869"><vh>@@clean msqrt.ts</vh>
<v t="ekr.20211016054411.870"><vh>class MmlMsqrt</vh>
<v t="ekr.20211016054411.871"><vh>MmlMsqrt.setTeXclass</vh></v>
</v>
</v>
<v t="ekr.20211016054411.872"><vh>@@clean mstyle.ts</vh>
<v t="ekr.20211016054411.873"><vh>class MmlMstyle</vh></v>
</v>
<v t="ekr.20211016054411.874"><vh>@@clean msubsup.ts</vh>
<v t="ekr.20211016054411.875"><vh>class MmlMsubsup</vh></v>
<v t="ekr.20211016054411.876"><vh>class MmlMsub</vh></v>
<v t="ekr.20211016054411.877"><vh>class MmlMsup</vh></v>
</v>
<v t="ekr.20211016054411.878"><vh>@@clean mtable.ts</vh>
<v t="ekr.20211016054411.879"><vh>class MmlMtable</vh>
<v t="ekr.20211016054411.880"><vh>MmlMtable.setInheritedAttributes</vh></v>
<v t="ekr.20211016054411.881"><vh>MmlMtable.setTeXclass</vh></v>
</v>
</v>
<v t="ekr.20211016054411.882"><vh>@@clean mtd.ts</vh>
<v t="ekr.20211016054411.883"><vh>class MmlMtd</vh>
<v t="ekr.20211016054411.884"><vh>MmlMtd.setTeXclass</vh></v>
</v>
</v>
<v t="ekr.20211016054411.885"><vh>@@clean mtext.ts</vh>
<v t="ekr.20211016054411.886"><vh>class MmlMtext</vh></v>
</v>
<v t="ekr.20211016054411.887"><vh>@@clean mtr.ts</vh>
<v t="ekr.20211016054411.888"><vh>class MmlMtr</vh>
<v t="ekr.20211016054411.889"><vh>MmlMtr.setTeXclass</vh></v>
</v>
<v t="ekr.20211016054411.890"><vh>class MmlMlabeledtr</vh></v>
</v>
<v t="ekr.20211016054411.891"><vh>@@clean munderover.ts</vh>
<v t="ekr.20211016054411.892"><vh>class MmlMunderover</vh></v>
<v t="ekr.20211016054411.893"><vh>class MmlMunder</vh></v>
<v t="ekr.20211016054411.894"><vh>class MmlMover</vh></v>
</v>
<v t="ekr.20211016054411.895"><vh>@@clean semantics.ts</vh>
<v t="ekr.20211016054411.896"><vh>class MmlSemantics</vh></v>
<v t="ekr.20211016054411.897"><vh>class MmlAnnotationXML</vh></v>
<v t="ekr.20211016054411.898"><vh>class MmlAnnotation</vh></v>
</v>
<v t="ekr.20211016054411.899"><vh>@@clean TeXAtom.ts</vh>
<v t="ekr.20211016054411.900"><vh>class TeXAtom</vh>
<v t="ekr.20211016054411.901"><vh>TeXAtom.constructor</vh></v>
<v t="ekr.20211016054411.902"><vh>TeXAtom.setTeXclass</vh></v>
<v t="ekr.20211016054411.903"><vh>TeXAtom.adjustTeXclass</vh></v>
</v>
</v>
</v>
</v>
<v t="ekr.20211016054411.904"><vh>Tree</vh>
<v t="ekr.20211016054411.905"><vh>@@clean Factory.ts</vh>
<v t="ekr.20211016054411.906"><vh>FactoryNode</vh></v>
<v t="ekr.20211016054411.907"><vh>FactoryNodeClass</vh></v>
<v t="ekr.20211016054411.908"><vh>Factory</vh></v>
<v t="ekr.20211016054411.909"><vh>interface AbstractFactoryClass</vh></v>
<v t="ekr.20211016054411.910"><vh>constructor</vh></v>
<v t="ekr.20211016054411.911"><vh>create</vh></v>
<v t="ekr.20211016054411.912"><vh>setNodeClass</vh></v>
<v t="ekr.20211016054411.913"><vh>getNodeClass</vh></v>
<v t="ekr.20211016054411.914"><vh>deleteNodeClass</vh></v>
<v t="ekr.20211016054411.915"><vh>nodeIsKind</vh></v>
<v t="ekr.20211016054411.916"><vh>getKinds</vh></v>
</v>
<v t="ekr.20211016054411.917"><vh>@@clean Node.ts</vh>
<v t="ekr.20211016054411.918"><vh>Node</vh></v>
<v t="ekr.20211016054411.919"><vh>NodeClass</vh></v>
<v t="ekr.20211016054411.920"><vh>constructor</vh></v>
<v t="ekr.20211016054411.921"><vh>setProperty</vh></v>
<v t="ekr.20211016054411.922"><vh>getProperty</vh></v>
<v t="ekr.20211016054411.923"><vh>getPropertyNames</vh></v>
<v t="ekr.20211016054411.924"><vh>getAllProperties</vh></v>
<v t="ekr.20211016054411.925"><vh>removeProperty</vh></v>
<v t="ekr.20211016054411.926"><vh>isKind</vh></v>
<v t="ekr.20211016054411.927"><vh>setChildren</vh></v>
<v t="ekr.20211016054411.928"><vh>appendChild</vh></v>
<v t="ekr.20211016054411.929"><vh>replaceChild</vh></v>
<v t="ekr.20211016054411.930"><vh>childIndex</vh></v>
<v t="ekr.20211016054411.931"><vh>copy</vh></v>
<v t="ekr.20211016054411.932"><vh>findNodes</vh></v>
<v t="ekr.20211016054411.933"><vh>walkTree</vh></v>
<v t="ekr.20211016054411.934"><vh>toString</vh></v>
<v t="ekr.20211016054411.935"><vh>setChildren</vh></v>
<v t="ekr.20211016054411.936"><vh>appendChild</vh></v>
<v t="ekr.20211016054411.937"><vh>replaceChild</vh></v>
<v t="ekr.20211016054411.938"><vh>childIndex</vh></v>
<v t="ekr.20211016054411.939"><vh>walkTree</vh></v>
<v t="ekr.20211016054411.940"><vh>toString</vh></v>
</v>
<v t="ekr.20211016054411.941"><vh>@@clean NodeFactory.ts</vh>
<v t="ekr.20211016054411.942"><vh>NodeFactory</vh></v>
<v t="ekr.20211016054411.943"><vh>create</vh></v>
</v>
<v t="ekr.20211016054411.944"><vh>@@clean Visitor.ts</vh>
<v t="ekr.20211016054411.945"><vh>Visitor</vh></v>
<v t="ekr.20211016054411.946"><vh>constructor</vh></v>
<v t="ekr.20211016054411.947"><vh>visitTree</vh></v>
<v t="ekr.20211016054411.948"><vh>visitNode</vh></v>
<v t="ekr.20211016054411.949"><vh>visitDefault</vh></v>
<v t="ekr.20211016054411.950"><vh>setNodeHandler</vh></v>
<v t="ekr.20211016054411.951"><vh>removeNodeHandler</vh></v>
</v>
<v t="ekr.20211016054411.952"><vh>@@clean Wrapper.ts</vh>
<v t="ekr.20211016054411.953"><vh>Wrapper</vh></v>
<v t="ekr.20211016054411.954"><vh>WrapperClass</vh></v>
<v t="ekr.20211016054411.955"><vh>class AbstractWrapper</vh>
<v t="ekr.20211016054411.956"><vh>AbstractWrapper.constructor</vh></v>
<v t="ekr.20211016054411.957"><vh>AbstractWrapper.wrap</vh></v>
</v>
</v>
<v t="ekr.20211016054411.958"><vh>@@clean WrapperFactory.ts</vh>
<v t="ekr.20211016054411.959"><vh>wrap</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.960"><vh>handlers</vh>
<v t="ekr.20211016054411.961"><vh>@@clean html.ts</vh>
<v t="ekr.20211016054411.962"><vh>RegisterHTMLHandler</vh></v>
</v>
<v t="ekr.20211016054411.963"><vh>html</vh>
<v t="ekr.20211016054411.964"><vh>@@clean HTMLDocument.ts</vh>
<v t="ekr.20211016054411.965"><vh>class HTMLDocument</vh>
<v t="ekr.20211016054411.966"><vh>HTMLDocument.constructor</vh></v>
<v t="ekr.20211016054411.967"><vh>HTMLDocument.findMath</vh></v>
<v t="ekr.20211016054411.968"><vh>HTMLDocument.updateDocument</vh></v>
<v t="ekr.20211016054411.969"><vh>HTMLDocument.addStyleSheet</vh></v>
<v t="ekr.20211016054411.970"><vh>HTMLDocument.removeFromDocument</vh></v>
<v t="ekr.20211016054411.971"><vh>HTMLDocument.documentStyleSheet</vh></v>
<v t="ekr.20211016054411.972"><vh>HTMLDocument.documentPageElements</vh></v>
<v t="ekr.20211016054411.973"><vh>HTMLDocument.addStyles</vh></v>
<v t="ekr.20211016054411.974"><vh>HTMLDocument.getStyles</vh></v>
</v>
</v>
<v t="ekr.20211016054411.975"><vh>@@clean HTMLDomStrings.ts</vh>
<v t="ekr.20211016054411.976"><vh>class HTMLDomStrings</vh>
<v t="ekr.20211016054411.977"><vh>HTMLDomStrings.constructor</vh></v>
<v t="ekr.20211016054411.978"><vh>HTMLDomStrings.find</vh></v>
</v>
</v>
<v t="ekr.20211016054411.979"><vh>@@clean HTMLHandler.ts</vh>
<v t="ekr.20211016054411.980"><vh>class HTMLHandler</vh>
<v t="ekr.20211016054411.981"><vh>HTMLHandler.handlesDocument</vh></v>
<v t="ekr.20211016054411.982"><vh>HTMLHandler.create</vh></v>
</v>
</v>
<v t="ekr.20211016054411.983"><vh>@@clean HTMLMathItem.ts</vh>
<v t="ekr.20211016054411.984"><vh>class HTMLMathItem</vh>
<v t="ekr.20211016054411.985"><vh>HTMLMathItem.updateDocument</vh></v>
<v t="ekr.20211016054411.986"><vh>HTMLMathItem.updateStyleSheet</vh></v>
<v t="ekr.20211016054411.987"><vh>HTMLMathItem.removeFromDocument</vh></v>
</v>
</v>
<v t="ekr.20211016054411.988"><vh>@@clean HTMLMathList.ts</vh>
<v t="ekr.20211016054411.989"><vh>class HTMLMathList</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.990"><vh>input</vh>
<v t="ekr.20211016054411.991"><vh>@@clean asciimath.ts</vh>
<v t="ekr.20211016054411.992"><vh>class AsciiMath</vh>
<v t="ekr.20211016054411.993"><vh>AsciiMath.constructor</vh></v>
<v t="ekr.20211016054411.994"><vh>AsciiMath.compile</vh></v>
<v t="ekr.20211016054411.995"><vh>AsciiMath.findMath</vh></v>
</v>
</v>
<v t="ekr.20211016054411.996"><vh>@@clean mathml.ts</vh>
<v t="ekr.20211016054411.997"><vh>class MathML</vh>
<v t="ekr.20211016054411.998"><vh>MathML.constructor</vh></v>
<v t="ekr.20211016054411.999"><vh>MathML.setAdaptor</vh></v>
<v t="ekr.20211016054411.1000"><vh>MathML.setMmlFactory</vh></v>
<v t="ekr.20211016054411.1001"><vh>MathML.compile</vh></v>
<v t="ekr.20211016054411.1002"><vh>MathML.findMath</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1003"><vh>@@clean tex.ts</vh>
<v t="ekr.20211016054411.1004"><vh>class TeX</vh>
<v t="ekr.20211016054411.1005"><vh>TeX.constructor</vh></v>
<v t="ekr.20211016054411.1006"><vh>TeX.setMmlFactory</vh></v>
<v t="ekr.20211016054411.1007"><vh>TeX.reset</vh></v>
<v t="ekr.20211016054411.1008"><vh>TeX.compile</vh></v>
<v t="ekr.20211016054411.1009"><vh>TeX.findMath</vh></v>
<v t="ekr.20211016054411.1010"><vh>TeX.formatError</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1011"><vh>asciimath</vh>
<v t="ekr.20211016054411.1012"><vh>@@clean FindAsciiMath.ts</vh>
<v t="ekr.20211016054411.1013"><vh>class FindAsciiMath</vh>
<v t="ekr.20211016054411.1014"><vh>FindAsciiMath.constructor</vh></v>
<v t="ekr.20211016054411.1015"><vh>FindAsciiMath.findMath</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1016"><vh>mathjax2</vh>
<v t="ekr.20211016054411.1017"><vh>input</vh>
<v t="ekr.20211016054411.1018"><vh>@@clean AsciiMath.d.ts</vh></v>
<v t="ekr.20211016054411.1019"><vh>@@clean AsciiMath.js</vh></v>
</v>
<v t="ekr.20211016054411.1020"><vh>legacy</vh>
<v t="ekr.20211016054411.1021"><vh>@@clean MathJax.js</vh>
<v t="ekr.20211016054411.1022"><vh>function</vh>
<v t="ekr.20211016054411.1023"><vh>var OBJECT = function</vh></v>
<v t="ekr.20211016054411.1024"><vh>var CONSTRUCTOR = function</vh></v>
<v t="ekr.20211016054411.1025"><vh>var fn = function</vh></v>
</v>
<v t="ekr.20211016054411.1026"><vh>function</vh>
<v t="ekr.20211016054411.1027"><vh>var CALLBACK = function</vh></v>
<v t="ekr.20211016054411.1028"><vh>var ISCALLBACK = function</vh></v>
<v t="ekr.20211016054411.1029"><vh>var TESTEVAL = function</vh>
<v t="ekr.20211016054411.1030"><vh>EVAL = function</vh></v>
<v t="ekr.20211016054411.1031"><vh>EVAL = function</vh></v>
</v>
<v t="ekr.20211016054411.1032"><vh>var USING = function</vh></v>
<v t="ekr.20211016054411.1033"><vh>var DELAY = function</vh></v>
<v t="ekr.20211016054411.1034"><vh>var WAITFOR = function</vh></v>
<v t="ekr.20211016054411.1035"><vh>var WAITEXECUTE = function</vh></v>
<v t="ekr.20211016054411.1036"><vh>var WAITSIGNAL = function</vh></v>
<v t="ekr.20211016054411.1037"><vh>var AFTER = function</vh></v>
<v t="ekr.20211016054411.1038"><vh>var EXECUTEHOOKS = function</vh></v>
</v>
<v t="ekr.20211016054411.1039"><vh>function</vh>
<v t="ekr.20211016054411.1040"><vh>var HEAD = function</vh></v>
<v t="ekr.20211016054411.1041"><vh>var REMOVESCRIPTS = function</vh></v>
</v>
<v t="ekr.20211016054411.1042"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1043"><vh>jax</vh>
<v t="ekr.20211016054411.1044"><vh>element</vh>
<v t="ekr.20211016054411.1045"><vh>@@clean JSON.js</vh>
<v t="ekr.20211016054411.1046"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1047"><vh>@@clean MmlNode.js</vh>
<v t="ekr.20211016054411.1048"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1049"><vh>mml</vh>
<v t="ekr.20211016054411.1050"><vh>@@clean jax.js</vh>
<v t="ekr.20211016054411.1051"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1052"><vh>optable</vh>
<v t="ekr.20211016054411.1053"><vh>@@clean Arrows.js</vh>
<v t="ekr.20211016054411.1054"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1055"><vh>@@clean BasicLatin.js</vh>
<v t="ekr.20211016054411.1056"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1057"><vh>@@clean CombDiacritMarks.js</vh>
<v t="ekr.20211016054411.1058"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1059"><vh>@@clean CombDiactForSymbols.js</vh>
<v t="ekr.20211016054411.1060"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1061"><vh>@@clean Dingbats.js</vh>
<v t="ekr.20211016054411.1062"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1063"><vh>@@clean GeneralPunctuation.js</vh>
<v t="ekr.20211016054411.1064"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1065"><vh>@@clean GeometricShapes.js</vh>
<v t="ekr.20211016054411.1066"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1067"><vh>@@clean GreekAndCoptic.js</vh>
<v t="ekr.20211016054411.1068"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1069"><vh>@@clean Latin1Supplement.js</vh>
<v t="ekr.20211016054411.1070"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1071"><vh>@@clean LetterlikeSymbols.js</vh>
<v t="ekr.20211016054411.1072"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1073"><vh>@@clean MathOperators.js</vh>
<v t="ekr.20211016054411.1074"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1075"><vh>@@clean MiscMathSymbolsA.js</vh>
<v t="ekr.20211016054411.1076"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1077"><vh>@@clean MiscMathSymbolsB.js</vh>
<v t="ekr.20211016054411.1078"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1079"><vh>@@clean MiscSymbolsAndArrows.js</vh>
<v t="ekr.20211016054411.1080"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1081"><vh>@@clean MiscTechnical.js</vh>
<v t="ekr.20211016054411.1082"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1083"><vh>@@clean SpacingModLetters.js</vh>
<v t="ekr.20211016054411.1084"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1085"><vh>@@clean SupplementalArrowsA.js</vh>
<v t="ekr.20211016054411.1086"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1087"><vh>@@clean SupplementalArrowsB.js</vh>
<v t="ekr.20211016054411.1088"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1089"><vh>@@clean SuppMathOperators.js</vh>
<v t="ekr.20211016054411.1090"><vh>function</vh></v>
</v>
</v>
</v>
</v>
<v t="ekr.20211016054411.1091"><vh>input</vh>
<v t="ekr.20211016054411.1092"><vh>AsciiMath</vh>
<v t="ekr.20211016054411.1093"><vh>@@clean config.js</vh></v>
<v t="ekr.20211016054411.1094"><vh>@@clean jax.js</vh>
<v t="ekr.20211016054411.1095"><vh>function</vh>
<v t="ekr.20211016054411.1096"><vh>var INITASCIIMATH = function</vh></v>
<v t="ekr.20211016054411.1097"><vh>function createElementXHTML</vh></v>
<v t="ekr.20211016054411.1098"><vh>function AMcreateElementMathML</vh></v>
<v t="ekr.20211016054411.1099"><vh>function createMmlNode</vh></v>
<v t="ekr.20211016054411.1100"><vh>function newcommand</vh></v>
<v t="ekr.20211016054411.1101"><vh>function newsymbol</vh></v>
<v t="ekr.20211016054411.1102"><vh>function parseMath</vh></v>
<v t="ekr.20211016054411.1103"><vh>function</vh></v>
</v>
<v t="ekr.20211016054411.1104"><vh>function</vh></v>
</v>
</v>
</v>
</v>
</v>
</v>
</v>
<v t="ekr.20211016054411.1105"><vh>mathml</vh>
<v t="ekr.20211016054411.1106"><vh>@@clean FindMathML.ts</vh>
<v t="ekr.20211016054411.1107"><vh>class FindMathML</vh>
<v t="ekr.20211016054411.1108"><vh>FindMathML.findMath</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1109"><vh>@@clean MathMLCompile.ts</vh>
<v t="ekr.20211016054411.1110"><vh>class MathMLCompile</vh>
<v t="ekr.20211016054411.1111"><vh>MathMLCompile.constructor</vh></v>
<v t="ekr.20211016054411.1112"><vh>MathMLCompile.setMmlFactory</vh></v>
<v t="ekr.20211016054411.1113"><vh>MathMLCompile.compile</vh></v>
<v t="ekr.20211016054411.1114"><vh>MathMLCompile.makeNode</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1115"><vh>mml3</vh>
<v t="ekr.20211016054411.1116"><vh>@@clean mml3-node.ts</vh>
<v t="ekr.20211016054411.1117"><vh>createTransform</vh></v>
</v>
<v t="ekr.20211016054411.1118"><vh>@@clean mml3.ts</vh>
<v t="ekr.20211016054411.1119"><vh>class Mml3</vh>
<v t="ekr.20211016054411.1120"><vh>Mml3.constructor</vh></v>
<v t="ekr.20211016054411.1121"><vh>Mml3.preFilter</vh></v>
</v>
<v t="ekr.20211016054411.1122"><vh>Mml3Handler</vh>
<v t="ekr.20211016054411.1123"><vh>constructor</vh></v>
</v>
</v>
</v>
</v>
<v t="ekr.20211016054411.1124"><vh>tex</vh>
<v t="ekr.20211016054411.1125"><vh>@@clean AllPackages.ts</vh></v>
<v t="ekr.20211016054411.1126"><vh>@@clean Configuration.ts</vh>
<v t="ekr.20211016054411.1127"><vh>class Configuration</vh></v>
<v t="ekr.20211016054411.1128"><vh>class ParserConfiguration</vh>
<v t="ekr.20211016054411.1129"><vh>ParserConfiguration.constructor</vh></v>
<v t="ekr.20211016054411.1130"><vh>ParserConfiguration.init</vh></v>
<v t="ekr.20211016054411.1131"><vh>ParserConfiguration.config</vh></v>
<v t="ekr.20211016054411.1132"><vh>ParserConfiguration.addPackage</vh></v>
<v t="ekr.20211016054411.1133"><vh>ParserConfiguration.add</vh></v>
<v t="ekr.20211016054411.1134"><vh>ParserConfiguration.append</vh></v>
<v t="ekr.20211016054411.1135"><vh>ParserConfiguration.addFilters</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1136"><vh>@@clean FilterUtil.ts</vh></v>
<v t="ekr.20211016054411.1137"><vh>@@clean FindTeX.ts</vh>
<v t="ekr.20211016054411.1138"><vh>class FindTeX</vh>
<v t="ekr.20211016054411.1139"><vh>FindTeX.constructor</vh></v>
<v t="ekr.20211016054411.1140"><vh>FindTeX.findMath</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1141"><vh>@@clean MapHandler.ts</vh>
<v t="ekr.20211016054411.1142"><vh>class SubHandler</vh>
<v t="ekr.20211016054411.1143"><vh>SubHandler.parse</vh></v>
<v t="ekr.20211016054411.1144"><vh>SubHandler.contains</vh></v>
<v t="ekr.20211016054411.1145"><vh>SubHandler.toString</vh></v>
<v t="ekr.20211016054411.1146"><vh>SubHandler.applicable</vh></v>
<v t="ekr.20211016054411.1147"><vh>SubHandler.retrieve</vh></v>
<v t="ekr.20211016054411.1148"><vh>SubHandler.warn</vh></v>
</v>
<v t="ekr.20211016054411.1149"><vh>class SubHandlers</vh>
<v t="ekr.20211016054411.1150"><vh>SubHandlers.set</vh></v>
<v t="ekr.20211016054411.1151"><vh>SubHandlers.get</vh></v>
<v t="ekr.20211016054411.1152"><vh>SubHandlers.retrieve</vh></v>
<v t="ekr.20211016054411.1153"><vh>SubHandlers.keys</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1154"><vh>@@clean NodeFactory.ts</vh>
<v t="ekr.20211016054411.1155"><vh>class NodeFactory</vh>
<v t="ekr.20211016054411.1156"><vh>NodeFactory.createText</vh></v>
<v t="ekr.20211016054411.1157"><vh>NodeFactory.createError</vh></v>
<v t="ekr.20211016054411.1158"><vh>NodeFactory.setMmlFactory</vh></v>
<v t="ekr.20211016054411.1159"><vh>NodeFactory.set</vh></v>
<v t="ekr.20211016054411.1160"><vh>NodeFactory.setCreators</vh></v>
<v t="ekr.20211016054411.1161"><vh>NodeFactory.create</vh></v>
<v t="ekr.20211016054411.1162"><vh>NodeFactory.get</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1163"><vh>@@clean NodeUtil.ts</vh>
<v t="ekr.20211016054411.1164"><vh>createEntity</vh></v>
<v t="ekr.20211016054411.1165"><vh>getChildren</vh></v>
<v t="ekr.20211016054411.1166"><vh>getText</vh></v>
<v t="ekr.20211016054411.1167"><vh>appendChildren</vh></v>
<v t="ekr.20211016054411.1168"><vh>setAttribute</vh></v>
<v t="ekr.20211016054411.1169"><vh>setProperty</vh></v>
<v t="ekr.20211016054411.1170"><vh>setProperties</vh></v>
<v t="ekr.20211016054411.1171"><vh>getProperty</vh></v>
<v t="ekr.20211016054411.1172"><vh>getAttribute</vh></v>
<v t="ekr.20211016054411.1173"><vh>removeProperties</vh></v>
<v t="ekr.20211016054411.1174"><vh>getChildAt</vh></v>
<v t="ekr.20211016054411.1175"><vh>setChild</vh></v>
<v t="ekr.20211016054411.1176"><vh>copyChildren</vh></v>
<v t="ekr.20211016054411.1177"><vh>copyAttributes</vh></v>
<v t="ekr.20211016054411.1178"><vh>isType</vh></v>
<v t="ekr.20211016054411.1179"><vh>isEmbellished</vh></v>
<v t="ekr.20211016054411.1180"><vh>getTexClass</vh></v>
<v t="ekr.20211016054411.1181"><vh>getCoreMO</vh></v>
<v t="ekr.20211016054411.1182"><vh>isNode</vh></v>
<v t="ekr.20211016054411.1183"><vh>isInferred</vh></v>
<v t="ekr.20211016054411.1184"><vh>getForm</vh></v>
</v>
<v t="ekr.20211016054411.1185"><vh>@@clean ParseMethods.ts</vh>
<v t="ekr.20211016054411.1186"><vh>variable</vh></v>
<v t="ekr.20211016054411.1187"><vh>digit</vh></v>
<v t="ekr.20211016054411.1188"><vh>controlSequence</vh></v>
<v t="ekr.20211016054411.1189"><vh>mathchar0mi</vh></v>
<v t="ekr.20211016054411.1190"><vh>mathchar0mo</vh></v>
<v t="ekr.20211016054411.1191"><vh>mathchar7</vh></v>
<v t="ekr.20211016054411.1192"><vh>delimiter</vh></v>
<v t="ekr.20211016054411.1193"><vh>environment</vh></v>
</v>
<v t="ekr.20211016054411.1194"><vh>@@clean ParseOptions.ts</vh>
<v t="ekr.20211016054411.1195"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1196"><vh>pushParser</vh></v>
<v t="ekr.20211016054411.1197"><vh>popParser</vh></v>
<v t="ekr.20211016054411.1198"><vh>clear</vh></v>
<v t="ekr.20211016054411.1199"><vh>addNode</vh></v>
<v t="ekr.20211016054411.1200"><vh>getList</vh></v>
<v t="ekr.20211016054411.1201"><vh>removeFromList</vh></v>
<v t="ekr.20211016054411.1202"><vh>inTree</vh></v>
</v>
<v t="ekr.20211016054411.1203"><vh>@@clean ParseUtil.ts</vh>
<v t="ekr.20211016054411.1204"><vh>muReplace</vh></v>
<v t="ekr.20211016054411.1205"><vh>dimen2em</vh></v>
<v t="ekr.20211016054411.1206"><vh>Em</vh></v>
<v t="ekr.20211016054411.1207"><vh>cols</vh></v>
<v t="ekr.20211016054411.1208"><vh>fixInitialMO</vh></v>
<v t="ekr.20211016054411.1209"><vh>internalText</vh></v>
<v t="ekr.20211016054411.1210"><vh>underOver</vh></v>
<v t="ekr.20211016054411.1211"><vh>checkMovableLimits</vh></v>
<v t="ekr.20211016054411.1212"><vh>trimSpaces</vh></v>
<v t="ekr.20211016054411.1213"><vh>setArrayAlign</vh></v>
<v t="ekr.20211016054411.1214"><vh>addArgs</vh></v>
<v t="ekr.20211016054411.1215"><vh>checkMaxMacros</vh></v>
<v t="ekr.20211016054411.1216"><vh>checkEqnEnv</vh></v>
<v t="ekr.20211016054411.1217"><vh>copyNode</vh></v>
<v t="ekr.20211016054411.1218"><vh>MmlFilterAttribute</vh></v>
<v t="ekr.20211016054411.1219"><vh>getFontDef</vh></v>
<v t="ekr.20211016054411.1220"><vh>readKeyval</vh></v>
<v t="ekr.20211016054411.1221"><vh>removeBraces</vh></v>
<v t="ekr.20211016054411.1222"><vh>readValue</vh></v>
</v>
<v t="ekr.20211016054411.1223"><vh>@@clean Stack.ts</vh>
<v t="ekr.20211016054411.1224"><vh>Push</vh></v>
<v t="ekr.20211016054411.1225"><vh>Pop</vh></v>
<v t="ekr.20211016054411.1226"><vh>Top</vh></v>
<v t="ekr.20211016054411.1227"><vh>Prev</vh></v>
<v t="ekr.20211016054411.1228"><vh>toString</vh></v>
</v>
<v t="ekr.20211016054411.1229"><vh>@@clean StackItem.ts</vh>
<v t="ekr.20211016054411.1230"><vh>NodeStack</vh></v>
<v t="ekr.20211016054411.1231"><vh>Push</vh></v>
<v t="ekr.20211016054411.1232"><vh>Pop</vh></v>
<v t="ekr.20211016054411.1233"><vh>Peek</vh></v>
<v t="ekr.20211016054411.1234"><vh>Size</vh></v>
<v t="ekr.20211016054411.1235"><vh>Clear</vh></v>
<v t="ekr.20211016054411.1236"><vh>toMml</vh></v>
<v t="ekr.20211016054411.1237"><vh>create</vh></v>
<v t="ekr.20211016054411.1238"><vh>StackItem</vh></v>
<v t="ekr.20211016054411.1239"><vh>StackItemClass</vh></v>
<v t="ekr.20211016054411.1240"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1241"><vh>getProperty</vh></v>
<v t="ekr.20211016054411.1242"><vh>setProperty</vh></v>
<v t="ekr.20211016054411.1243"><vh>isKind</vh></v>
<v t="ekr.20211016054411.1244"><vh>checkItem</vh></v>
<v t="ekr.20211016054411.1245"><vh>clearEnv</vh></v>
<v t="ekr.20211016054411.1246"><vh>setProperties</vh></v>
<v t="ekr.20211016054411.1247"><vh>getName</vh></v>
<v t="ekr.20211016054411.1248"><vh>toString</vh></v>
<v t="ekr.20211016054411.1249"><vh>getErrors</vh></v>
</v>
<v t="ekr.20211016054411.1250"><vh>@@clean StackItemFactory.ts</vh></v>
<v t="ekr.20211016054411.1251"><vh>@@clean Symbol.ts</vh>
<v t="ekr.20211016054411.1252"><vh>class Symbol</vh></v>
<v t="ekr.20211016054411.1253"><vh>class Macro</vh></v>
</v>
<v t="ekr.20211016054411.1254"><vh>@@clean SymbolMap.ts</vh>
<v t="ekr.20211016054411.1255"><vh>SymbolMap</vh></v>
<v t="ekr.20211016054411.1256"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1257"><vh>parserFor</vh></v>
<v t="ekr.20211016054411.1258"><vh>parse</vh></v>
<v t="ekr.20211016054411.1259"><vh>class RegExpMap</vh>
<v t="ekr.20211016054411.1260"><vh>RegExpMap.constructor</vh></v>
<v t="ekr.20211016054411.1261"><vh>RegExpMap.contains</vh></v>
<v t="ekr.20211016054411.1262"><vh>RegExpMap.lookup</vh></v>
</v>
<v t="ekr.20211016054411.1263"><vh>lookup</vh></v>
<v t="ekr.20211016054411.1264"><vh>contains</vh></v>
<v t="ekr.20211016054411.1265"><vh>add</vh></v>
<v t="ekr.20211016054411.1266"><vh>remove</vh></v>
<v t="ekr.20211016054411.1267"><vh>class CharacterMap</vh></v>
<v t="ekr.20211016054411.1268"><vh>class DelimiterMap</vh>
<v t="ekr.20211016054411.1269"><vh>DelimiterMap.parse</vh></v>
</v>
<v t="ekr.20211016054411.1270"><vh>class MacroMap</vh>
<v t="ekr.20211016054411.1271"><vh>MacroMap.parserFor</vh></v>
<v t="ekr.20211016054411.1272"><vh>MacroMap.parse</vh></v>
</v>
<v t="ekr.20211016054411.1273"><vh>class CommandMap</vh>
<v t="ekr.20211016054411.1274"><vh>CommandMap.parse</vh></v>
</v>
<v t="ekr.20211016054411.1275"><vh>class EnvironmentMap</vh>
<v t="ekr.20211016054411.1276"><vh>EnvironmentMap.parse</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1277"><vh>@@clean Tags.ts</vh>
<v t="ekr.20211016054411.1278"><vh>class Label</vh></v>
<v t="ekr.20211016054411.1279"><vh>class TagInfo</vh></v>
<v t="ekr.20211016054411.1280"><vh>Tags</vh></v>
<v t="ekr.20211016054411.1281"><vh>class AbstractTags</vh>
<v t="ekr.20211016054411.1282"><vh>AbstractTags.start</vh></v>
<v t="ekr.20211016054411.1283"><vh>AbstractTags.end</vh></v>
<v t="ekr.20211016054411.1284"><vh>AbstractTags.tag</vh></v>
<v t="ekr.20211016054411.1285"><vh>AbstractTags.notag</vh></v>
<v t="ekr.20211016054411.1286"><vh>AbstractTags.formatUrl</vh></v>
<v t="ekr.20211016054411.1287"><vh>AbstractTags.formatTag</vh></v>
<v t="ekr.20211016054411.1288"><vh>AbstractTags.autoTag</vh></v>
<v t="ekr.20211016054411.1289"><vh>AbstractTags.clearTag</vh></v>
<v t="ekr.20211016054411.1290"><vh>AbstractTags.getTag</vh></v>
<v t="ekr.20211016054411.1291"><vh>AbstractTags.resetTag</vh></v>
<v t="ekr.20211016054411.1292"><vh>AbstractTags.reset</vh></v>
<v t="ekr.20211016054411.1293"><vh>AbstractTags.startEquation</vh></v>
<v t="ekr.20211016054411.1294"><vh>AbstractTags.finishEquation</vh></v>
<v t="ekr.20211016054411.1295"><vh>AbstractTags.finalize</vh></v>
<v t="ekr.20211016054411.1296"><vh>AbstractTags.makeId</vh></v>
<v t="ekr.20211016054411.1297"><vh>AbstractTags.makeTag</vh></v>
</v>
<v t="ekr.20211016054411.1298"><vh>class NoTags</vh>
<v t="ekr.20211016054411.1299"><vh>NoTags.getTag</vh></v>
</v>
<v t="ekr.20211016054411.1300"><vh>class AllTags</vh>
<v t="ekr.20211016054411.1301"><vh>AllTags.finalize</vh></v>
</v>
<v t="ekr.20211016054411.1302"><vh>TagsClass</vh></v>
</v>
<v t="ekr.20211016054411.1303"><vh>@@clean TexConstants.ts</vh></v>
<v t="ekr.20211016054411.1304"><vh>@@clean TexError.ts</vh>
<v t="ekr.20211016054411.1305"><vh>processString</vh></v>
<v t="ekr.20211016054411.1306"><vh>constructor</vh></v>
</v>
<v t="ekr.20211016054411.1307"><vh>@@clean TexParser.ts</vh>
<v t="ekr.20211016054411.1308"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1309"><vh>parse</vh></v>
<v t="ekr.20211016054411.1310"><vh>lookup</vh></v>
<v t="ekr.20211016054411.1311"><vh>contains</vh></v>
<v t="ekr.20211016054411.1312"><vh>toString</vh></v>
<v t="ekr.20211016054411.1313"><vh>Parse</vh></v>
<v t="ekr.20211016054411.1314"><vh>Push</vh></v>
<v t="ekr.20211016054411.1315"><vh>PushAll</vh></v>
<v t="ekr.20211016054411.1316"><vh>mml</vh></v>
<v t="ekr.20211016054411.1317"><vh>convertDelimiter</vh></v>
<v t="ekr.20211016054411.1318"><vh>getCodePoint</vh></v>
<v t="ekr.20211016054411.1319"><vh>nextIsSpace</vh></v>
<v t="ekr.20211016054411.1320"><vh>GetNext</vh></v>
<v t="ekr.20211016054411.1321"><vh>GetCS</vh></v>
<v t="ekr.20211016054411.1322"><vh>GetArgument</vh></v>
<v t="ekr.20211016054411.1323"><vh>GetBrackets</vh></v>
<v t="ekr.20211016054411.1324"><vh>GetDelimiter</vh></v>
<v t="ekr.20211016054411.1325"><vh>GetDimen</vh></v>
<v t="ekr.20211016054411.1326"><vh>GetUpTo</vh></v>
<v t="ekr.20211016054411.1327"><vh>ParseArg</vh></v>
<v t="ekr.20211016054411.1328"><vh>ParseUpTo</vh></v>
<v t="ekr.20211016054411.1329"><vh>GetDelimiterArg</vh></v>
<v t="ekr.20211016054411.1330"><vh>GetStar</vh></v>
<v t="ekr.20211016054411.1331"><vh>create</vh></v>
</v>
<v t="ekr.20211016054411.1332"><vh>@@clean Types.ts</vh></v>
<v t="ekr.20211016054411.1333"><vh>action</vh>
<v t="ekr.20211016054411.1334"><vh>@@clean ActionConfiguration.ts</vh></v>
</v>
<v t="ekr.20211016054411.1335"><vh>ams</vh>
<v t="ekr.20211016054411.1336"><vh>@@clean AmsConfiguration.ts</vh></v>
<v t="ekr.20211016054411.1337"><vh>@@clean AmsItems.ts</vh>
<v t="ekr.20211016054411.1338"><vh>class MultlineItem</vh>
<v t="ekr.20211016054411.1339"><vh>MultlineItem.constructor</vh></v>
<v t="ekr.20211016054411.1340"><vh>MultlineItem.EndEntry</vh></v>
<v t="ekr.20211016054411.1341"><vh>MultlineItem.EndRow</vh></v>
<v t="ekr.20211016054411.1342"><vh>MultlineItem.EndTable</vh></v>
</v>
<v t="ekr.20211016054411.1343"><vh>class FlalignItem</vh>
<v t="ekr.20211016054411.1344"><vh>FlalignItem.EndEntry</vh></v>
<v t="ekr.20211016054411.1345"><vh>FlalignItem.EndRow</vh></v>
<v t="ekr.20211016054411.1346"><vh>FlalignItem.EndTable</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1347"><vh>@@clean AmsMappings.ts</vh></v>
<v t="ekr.20211016054411.1348"><vh>@@clean AmsMethods.ts</vh></v>
</v>
<v t="ekr.20211016054411.1349"><vh>amscd</vh>
<v t="ekr.20211016054411.1350"><vh>@@clean AmsCdConfiguration.ts</vh></v>
<v t="ekr.20211016054411.1351"><vh>@@clean AmsCdMappings.ts</vh></v>
<v t="ekr.20211016054411.1352"><vh>@@clean AmsCdMethods.ts</vh></v>
</v>
<v t="ekr.20211016054411.1353"><vh>autoload</vh>
<v t="ekr.20211016054411.1354"><vh>@@clean AutoloadConfiguration.ts</vh>
<v t="ekr.20211016054411.1355"><vh>Autoload</vh></v>
<v t="ekr.20211016054411.1356"><vh>initAutoload</vh></v>
<v t="ekr.20211016054411.1357"><vh>configAutoload</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1358"><vh>base</vh>
<v t="ekr.20211016054411.1359"><vh>@@clean BaseConfiguration.ts</vh>
<v t="ekr.20211016054411.1360"><vh>Other</vh></v>
<v t="ekr.20211016054411.1361"><vh>csUndefined</vh></v>
<v t="ekr.20211016054411.1362"><vh>envUndefined</vh></v>
<v t="ekr.20211016054411.1363"><vh>filterNonscript</vh></v>
</v>
<v t="ekr.20211016054411.1364"><vh>@@clean BaseItems.ts</vh>
<v t="ekr.20211016054411.1365"><vh>class StartItem</vh>
<v t="ekr.20211016054411.1366"><vh>StartItem.constructor</vh></v>
<v t="ekr.20211016054411.1367"><vh>StartItem.checkItem</vh></v>
</v>
<v t="ekr.20211016054411.1368"><vh>class StopItem</vh></v>
<v t="ekr.20211016054411.1369"><vh>class OpenItem</vh>
<v t="ekr.20211016054411.1370"><vh>OpenItem.checkItem</vh></v>
</v>
<v t="ekr.20211016054411.1371"><vh>class CloseItem</vh></v>
<v t="ekr.20211016054411.1372"><vh>class PrimeItem</vh>
<v t="ekr.20211016054411.1373"><vh>PrimeItem.checkItem</vh></v>
</v>
<v t="ekr.20211016054411.1374"><vh>class SubsupItem</vh>
<v t="ekr.20211016054411.1375"><vh>SubsupItem.checkItem</vh></v>
</v>
<v t="ekr.20211016054411.1376"><vh>class OverItem</vh>
<v t="ekr.20211016054411.1377"><vh>OverItem.constructor</vh></v>
<v t="ekr.20211016054411.1378"><vh>OverItem.checkItem</vh></v>
<v t="ekr.20211016054411.1379"><vh>OverItem.toString</vh></v>
</v>
<v t="ekr.20211016054411.1380"><vh>class LeftItem</vh>
<v t="ekr.20211016054411.1381"><vh>LeftItem.constructor</vh></v>
<v t="ekr.20211016054411.1382"><vh>LeftItem.checkItem</vh></v>
</v>
<v t="ekr.20211016054411.1383"><vh>class Middle</vh>
<v t="ekr.20211016054411.1384"><vh>Middle.constructor</vh></v>
</v>
<v t="ekr.20211016054411.1385"><vh>class RightItem</vh>
<v t="ekr.20211016054411.1386"><vh>RightItem.constructor</vh></v>
</v>
<v t="ekr.20211016054411.1387"><vh>class BeginItem</vh>
<v t="ekr.20211016054411.1388"><vh>BeginItem.checkItem</vh></v>
</v>
<v t="ekr.20211016054411.1389"><vh>class EndItem</vh></v>
<v t="ekr.20211016054411.1390"><vh>class StyleItem</vh>
<v t="ekr.20211016054411.1391"><vh>StyleItem.checkItem</vh></v>
</v>
<v t="ekr.20211016054411.1392"><vh>class PositionItem</vh>
<v t="ekr.20211016054411.1393"><vh>PositionItem.checkItem</vh></v>
</v>
<v t="ekr.20211016054411.1394"><vh>class CellItem</vh></v>
<v t="ekr.20211016054411.1395"><vh>class MmlItem</vh></v>
<v t="ekr.20211016054411.1396"><vh>class FnItem</vh>
<v t="ekr.20211016054411.1397"><vh>FnItem.checkItem</vh></v>
</v>
<v t="ekr.20211016054411.1398"><vh>class NotItem</vh>
<v t="ekr.20211016054411.1399"><vh>NotItem.checkItem</vh></v>
</v>
<v t="ekr.20211016054411.1400"><vh>class NonscriptItem</vh>
<v t="ekr.20211016054411.1401"><vh>NonscriptItem.checkItem</vh></v>
</v>
<v t="ekr.20211016054411.1402"><vh>class DotsItem</vh>
<v t="ekr.20211016054411.1403"><vh>DotsItem.checkItem</vh></v>
</v>
<v t="ekr.20211016054411.1404"><vh>class ArrayItem</vh>
<v t="ekr.20211016054411.1405"><vh>ArrayItem.checkItem</vh></v>
<v t="ekr.20211016054411.1406"><vh>ArrayItem.createMml</vh></v>
<v t="ekr.20211016054411.1407"><vh>ArrayItem.EndEntry</vh></v>
<v t="ekr.20211016054411.1408"><vh>ArrayItem.EndRow</vh></v>
<v t="ekr.20211016054411.1409"><vh>ArrayItem.EndTable</vh></v>
<v t="ekr.20211016054411.1410"><vh>ArrayItem.checkLines</vh></v>
<v t="ekr.20211016054411.1411"><vh>ArrayItem.addRowSpacing</vh></v>
</v>
<v t="ekr.20211016054411.1412"><vh>class EqnArrayItem</vh>
<v t="ekr.20211016054411.1413"><vh>EqnArrayItem.constructor</vh></v>
<v t="ekr.20211016054411.1414"><vh>EqnArrayItem.EndEntry</vh></v>
<v t="ekr.20211016054411.1415"><vh>EqnArrayItem.EndRow</vh></v>
<v t="ekr.20211016054411.1416"><vh>EqnArrayItem.EndTable</vh></v>
</v>
<v t="ekr.20211016054411.1417"><vh>class EquationItem</vh>
<v t="ekr.20211016054411.1418"><vh>EquationItem.constructor</vh></v>
<v t="ekr.20211016054411.1419"><vh>EquationItem.checkItem</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1420"><vh>@@clean BaseMappings.ts</vh></v>
<v t="ekr.20211016054411.1421"><vh>@@clean BaseMethods.ts</vh>
<v t="ekr.20211016054411.1422"><vh>parseRoot</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1423"><vh>bbox</vh>
<v t="ekr.20211016054411.1424"><vh>@@clean BboxConfiguration.ts</vh></v>
</v>
<v t="ekr.20211016054411.1425"><vh>boldsymbol</vh>
<v t="ekr.20211016054411.1426"><vh>@@clean BoldsymbolConfiguration.ts</vh>
<v t="ekr.20211016054411.1427"><vh>rewriteBoldTokens</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1428"><vh>braket</vh>
<v t="ekr.20211016054411.1429"><vh>@@clean BraketConfiguration.ts</vh></v>
<v t="ekr.20211016054411.1430"><vh>@@clean BraketItems.ts</vh>
<v t="ekr.20211016054411.1431"><vh>class BraketItem</vh>
<v t="ekr.20211016054411.1432"><vh>BraketItem.checkItem</vh></v>
<v t="ekr.20211016054411.1433"><vh>BraketItem.toMml</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1434"><vh>@@clean BraketMappings.ts</vh></v>
<v t="ekr.20211016054411.1435"><vh>@@clean BraketMethods.ts</vh></v>
</v>
<v t="ekr.20211016054411.1436"><vh>bussproofs</vh>
<v t="ekr.20211016054411.1437"><vh>@@clean BussproofsConfiguration.ts</vh></v>
<v t="ekr.20211016054411.1438"><vh>@@clean BussproofsItems.ts</vh>
<v t="ekr.20211016054411.1439"><vh>class ProofTreeItem</vh>
<v t="ekr.20211016054411.1440"><vh>ProofTreeItem.checkItem</vh></v>
<v t="ekr.20211016054411.1441"><vh>ProofTreeItem.toMml</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1442"><vh>@@clean BussproofsMappings.ts</vh></v>
<v t="ekr.20211016054411.1443"><vh>@@clean BussproofsMethods.ts</vh>
<v t="ekr.20211016054411.1444"><vh>parseFCenterLine</vh></v>
</v>
<v t="ekr.20211016054411.1445"><vh>@@clean BussproofsUtil.ts</vh></v>
</v>
<v t="ekr.20211016054411.1446"><vh>cancel</vh>
<v t="ekr.20211016054411.1447"><vh>@@clean CancelConfiguration.ts</vh></v>
</v>
<v t="ekr.20211016054411.1448"><vh>cases</vh>
<v t="ekr.20211016054411.1449"><vh>@@clean CasesConfiguration.ts</vh>
<v t="ekr.20211016054411.1450"><vh>class CasesBeginItem</vh>
<v t="ekr.20211016054411.1451"><vh>CasesBeginItem.checkItem</vh></v>
</v>
<v t="ekr.20211016054411.1452"><vh>class CasesTags</vh>
<v t="ekr.20211016054411.1453"><vh>CasesTags.start</vh></v>
<v t="ekr.20211016054411.1454"><vh>CasesTags.autoTag</vh></v>
<v t="ekr.20211016054411.1455"><vh>CasesTags.formatNumber</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.1456"><vh>centernot</vh>
<v t="ekr.20211016054411.1457"><vh>@@clean CenternotConfiguration.ts</vh>
<v t="ekr.20211016054411.1458"><vh>filterCenterOver</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1459"><vh>color</vh>
<v t="ekr.20211016054411.1460"><vh>@@clean ColorConfiguration.ts</vh></v>
<v t="ekr.20211016054411.1461"><vh>@@clean ColorConstants.ts</vh></v>
<v t="ekr.20211016054411.1462"><vh>@@clean ColorMethods.ts</vh>
<v t="ekr.20211016054411.1463"><vh>padding</vh></v>
</v>
<v t="ekr.20211016054411.1464"><vh>@@clean ColorUtil.ts</vh>
<v t="ekr.20211016054411.1465"><vh>class ColorModel</vh>
<v t="ekr.20211016054411.1466"><vh>ColorModel.normalizeColor</vh></v>
<v t="ekr.20211016054411.1467"><vh>ColorModel.getColor</vh></v>
<v t="ekr.20211016054411.1468"><vh>ColorModel.getColorByName</vh></v>
<v t="ekr.20211016054411.1469"><vh>ColorModel.defineColor</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.1470"><vh>colortbl</vh>
<v t="ekr.20211016054411.1471"><vh>@@clean ColortblConfiguration.ts</vh>
<v t="ekr.20211016054411.1472"><vh>ColorData</vh></v>
<v t="ekr.20211016054411.1473"><vh>class ColorArrayItem</vh>
<v t="ekr.20211016054411.1474"><vh>ColorArrayItem.EndEntry</vh></v>
<v t="ekr.20211016054411.1475"><vh>ColorArrayItem.EndRow</vh></v>
<v t="ekr.20211016054411.1476"><vh>ColorArrayItem.createMml</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.1477"><vh>colorv2</vh>
<v t="ekr.20211016054411.1478"><vh>@@clean ColorV2Configuration.ts</vh></v>
</v>
<v t="ekr.20211016054411.1479"><vh>configmacros</vh>
<v t="ekr.20211016054411.1480"><vh>@@clean ConfigMacrosConfiguration.ts</vh>
<v t="ekr.20211016054411.1481"><vh>configmacrosInit</vh></v>
<v t="ekr.20211016054411.1482"><vh>configmacrosConfig</vh></v>
<v t="ekr.20211016054411.1483"><vh>configMacros</vh></v>
<v t="ekr.20211016054411.1484"><vh>configEnvironments</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1485"><vh>empheq</vh>
<v t="ekr.20211016054411.1486"><vh>@@clean EmpheqConfiguration.ts</vh>
<v t="ekr.20211016054411.1487"><vh>class EmpheqBeginItem</vh>
<v t="ekr.20211016054411.1488"><vh>EmpheqBeginItem.checkItem</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1489"><vh>@@clean EmpheqUtil.ts</vh></v>
</v>
<v t="ekr.20211016054411.1490"><vh>enclose</vh>
<v t="ekr.20211016054411.1491"><vh>@@clean EncloseConfiguration.ts</vh></v>
</v>
<v t="ekr.20211016054411.1492"><vh>extpfeil</vh>
<v t="ekr.20211016054411.1493"><vh>@@clean ExtpfeilConfiguration.ts</vh></v>
</v>
<v t="ekr.20211016054411.1494"><vh>gensymb</vh>
<v t="ekr.20211016054411.1495"><vh>@@clean GensymbConfiguration.ts</vh>
<v t="ekr.20211016054411.1496"><vh>mathcharUnit</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1497"><vh>html</vh>
<v t="ekr.20211016054411.1498"><vh>@@clean HtmlConfiguration.ts</vh></v>
<v t="ekr.20211016054411.1499"><vh>@@clean HtmlMethods.ts</vh></v>
</v>
<v t="ekr.20211016054411.1500"><vh>mathtools</vh>
<v t="ekr.20211016054411.1501"><vh>@@clean MathtoolsConfiguration.ts</vh>
<v t="ekr.20211016054411.1502"><vh>initMathtools</vh></v>
<v t="ekr.20211016054411.1503"><vh>configMathtools</vh></v>
<v t="ekr.20211016054411.1504"><vh>fixPrescripts</vh></v>
</v>
<v t="ekr.20211016054411.1505"><vh>@@clean MathtoolsItems.ts</vh>
<v t="ekr.20211016054411.1506"><vh>class MultlinedItem</vh>
<v t="ekr.20211016054411.1507"><vh>MultlinedItem.EndTable</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1508"><vh>@@clean MathtoolsMappings.ts</vh></v>
<v t="ekr.20211016054411.1509"><vh>@@clean MathtoolsMethods.ts</vh></v>
<v t="ekr.20211016054411.1510"><vh>@@clean MathtoolsTags.ts</vh>
<v t="ekr.20211016054411.1511"><vh>MathtoolsTagFormat</vh>
<v t="ekr.20211016054411.1512"><vh>class TagFormat</vh>
<v t="ekr.20211016054411.1513"><vh>TagFormat.constructor</vh></v>
<v t="ekr.20211016054411.1514"><vh>TagFormat.formatTag</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.1515"><vh>@@clean MathtoolsUtil.ts</vh></v>
</v>
<v t="ekr.20211016054411.1516"><vh>mhchem</vh>
<v t="ekr.20211016054411.1517"><vh>@@clean MhchemConfiguration.ts</vh></v>
</v>
<v t="ekr.20211016054411.1518"><vh>newcommand</vh>
<v t="ekr.20211016054411.1519"><vh>@@clean NewcommandConfiguration.ts</vh></v>
<v t="ekr.20211016054411.1520"><vh>@@clean NewcommandItems.ts</vh>
<v t="ekr.20211016054411.1521"><vh>class BeginEnvItem</vh>
<v t="ekr.20211016054411.1522"><vh>BeginEnvItem.checkItem</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1523"><vh>@@clean NewcommandMappings.ts</vh></v>
<v t="ekr.20211016054411.1524"><vh>@@clean NewcommandMethods.ts</vh></v>
<v t="ekr.20211016054411.1525"><vh>@@clean NewcommandUtil.ts</vh>
<v t="ekr.20211016054411.1526"><vh>disassembleSymbol</vh></v>
<v t="ekr.20211016054411.1527"><vh>assembleSymbol</vh></v>
<v t="ekr.20211016054411.1528"><vh>GetCSname</vh></v>
<v t="ekr.20211016054411.1529"><vh>GetCsNameArgument</vh></v>
<v t="ekr.20211016054411.1530"><vh>GetArgCount</vh></v>
<v t="ekr.20211016054411.1531"><vh>GetTemplate</vh></v>
<v t="ekr.20211016054411.1532"><vh>GetParameter</vh></v>
<v t="ekr.20211016054411.1533"><vh>MatchParam</vh></v>
<v t="ekr.20211016054411.1534"><vh>addDelimiter</vh></v>
<v t="ekr.20211016054411.1535"><vh>addEnvironment</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1536"><vh>noerrors</vh>
<v t="ekr.20211016054411.1537"><vh>@@clean NoErrorsConfiguration.ts</vh></v>
</v>
<v t="ekr.20211016054411.1538"><vh>noundefined</vh>
<v t="ekr.20211016054411.1539"><vh>@@clean NoUndefinedConfiguration.ts</vh>
<v t="ekr.20211016054411.1540"><vh>noUndefined</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1541"><vh>physics</vh>
<v t="ekr.20211016054411.1542"><vh>@@clean PhysicsConfiguration.ts</vh></v>
<v t="ekr.20211016054411.1543"><vh>@@clean PhysicsItems.ts</vh>
<v t="ekr.20211016054411.1544"><vh>class AutoOpen</vh>
<v t="ekr.20211016054411.1545"><vh>AutoOpen.toMml</vh></v>
<v t="ekr.20211016054411.1546"><vh>AutoOpen.checkItem</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1547"><vh>@@clean PhysicsMappings.ts</vh></v>
<v t="ekr.20211016054411.1548"><vh>@@clean PhysicsMethods.ts</vh>
<v t="ekr.20211016054411.1549"><vh>inRange</vh></v>
<v t="ekr.20211016054411.1550"><vh>makeDiagMatrix</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1551"><vh>require</vh>
<v t="ekr.20211016054411.1552"><vh>@@clean RequireConfiguration.ts</vh>
<v t="ekr.20211016054411.1553"><vh>RegisterExtension</vh></v>
<v t="ekr.20211016054411.1554"><vh>RegisterDependencies</vh></v>
<v t="ekr.20211016054411.1555"><vh>RequireLoad</vh></v>
<v t="ekr.20211016054411.1556"><vh>config</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1557"><vh>setoptions</vh>
<v t="ekr.20211016054411.1558"><vh>@@clean SetOptionsConfiguration.ts</vh>
<v t="ekr.20211016054411.1559"><vh>setoptionsConfig</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1560"><vh>tagformat</vh>
<v t="ekr.20211016054411.1561"><vh>@@clean TagFormatConfiguration.ts</vh>
<v t="ekr.20211016054411.1562"><vh>tagformatConfig</vh>
<v t="ekr.20211016054411.1563"><vh>class TagFormat</vh>
<v t="ekr.20211016054411.1564"><vh>TagFormat.formatNumber</vh></v>
<v t="ekr.20211016054411.1565"><vh>TagFormat.formatTag</vh></v>
<v t="ekr.20211016054411.1566"><vh>TagFormat.formatId</vh></v>
<v t="ekr.20211016054411.1567"><vh>TagFormat.formatUrl</vh></v>
</v>
</v>
</v>
</v>
<v t="ekr.20211016054411.1568"><vh>textcomp</vh>
<v t="ekr.20211016054411.1569"><vh>@@clean TextcompConfiguration.ts</vh></v>
<v t="ekr.20211016054411.1570"><vh>@@clean TextcompMappings.ts</vh></v>
</v>
<v t="ekr.20211016054411.1571"><vh>textmacros</vh>
<v t="ekr.20211016054411.1572"><vh>@@clean TextMacrosConfiguration.ts</vh>
<v t="ekr.20211016054411.1573"><vh>internalMath</vh></v>
</v>
<v t="ekr.20211016054411.1574"><vh>@@clean TextMacrosMappings.ts</vh></v>
<v t="ekr.20211016054411.1575"><vh>@@clean TextMacrosMethods.ts</vh></v>
<v t="ekr.20211016054411.1576"><vh>@@clean TextParser.ts</vh>
<v t="ekr.20211016054411.1577"><vh>class TextParser</vh>
<v t="ekr.20211016054411.1578"><vh>TextParser.constructor</vh></v>
<v t="ekr.20211016054411.1579"><vh>TextParser.mml</vh></v>
<v t="ekr.20211016054411.1580"><vh>TextParser.Parse</vh></v>
<v t="ekr.20211016054411.1581"><vh>TextParser.saveText</vh></v>
<v t="ekr.20211016054411.1582"><vh>TextParser.Push</vh></v>
<v t="ekr.20211016054411.1583"><vh>TextParser.PushMath</vh></v>
<v t="ekr.20211016054411.1584"><vh>TextParser.addAttributes</vh></v>
<v t="ekr.20211016054411.1585"><vh>TextParser.ParseTextArg</vh></v>
<v t="ekr.20211016054411.1586"><vh>TextParser.ParseArg</vh></v>
<v t="ekr.20211016054411.1587"><vh>TextParser.Error</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.1588"><vh>unicode</vh>
<v t="ekr.20211016054411.1589"><vh>@@clean UnicodeConfiguration.ts</vh></v>
</v>
<v t="ekr.20211016054411.1590"><vh>upgreek</vh>
<v t="ekr.20211016054411.1591"><vh>@@clean UpgreekConfiguration.ts</vh>
<v t="ekr.20211016054411.1592"><vh>mathchar0miNormal</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1593"><vh>verb</vh>
<v t="ekr.20211016054411.1594"><vh>@@clean VerbConfiguration.ts</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.1595"><vh>output</vh>
<v t="ekr.20211016054411.1596"><vh>@@clean chtml.ts</vh>
<v t="ekr.20211016054411.1597"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1598"><vh>escaped</vh></v>
<v t="ekr.20211016054411.1599"><vh>styleSheet</vh></v>
<v t="ekr.20211016054411.1600"><vh>clearCache</vh></v>
<v t="ekr.20211016054411.1601"><vh>reset</vh></v>
<v t="ekr.20211016054411.1602"><vh>unknownText</vh></v>
<v t="ekr.20211016054411.1603"><vh>measureTextNode</vh></v>
</v>
<v t="ekr.20211016054411.1604"><vh>@@clean svg.ts</vh>
<v t="ekr.20211016054411.1605"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1606"><vh>initialize</vh></v>
<v t="ekr.20211016054411.1607"><vh>clearFontCache</vh></v>
<v t="ekr.20211016054411.1608"><vh>reset</vh></v>
<v t="ekr.20211016054411.1609"><vh>escaped</vh></v>
<v t="ekr.20211016054411.1610"><vh>styleSheet</vh></v>
<v t="ekr.20211016054411.1611"><vh>pageElements</vh></v>
<v t="ekr.20211016054411.1612"><vh>ex</vh></v>
<v t="ekr.20211016054411.1613"><vh>svg</vh></v>
<v t="ekr.20211016054411.1614"><vh>unknownText</vh></v>
<v t="ekr.20211016054411.1615"><vh>measureTextNode</vh></v>
</v>
<v t="ekr.20211016054411.1616"><vh>chtml</vh>
<v t="ekr.20211016054411.1617"><vh>@@clean FontData.ts</vh>
<v t="ekr.20211016054411.1618"><vh>CHTMLCharOptions</vh></v>
<v t="ekr.20211016054411.1619"><vh>CHTMLVariantData</vh></v>
<v t="ekr.20211016054411.1620"><vh>CHTMLDelimiterData</vh></v>
<v t="ekr.20211016054411.1621"><vh>class CHTMLFontData</vh>
<v t="ekr.20211016054411.1622"><vh>CHTMLFontData.charOptions</vh></v>
<v t="ekr.20211016054411.1623"><vh>CHTMLFontData.adaptiveCSS</vh></v>
<v t="ekr.20211016054411.1624"><vh>CHTMLFontData.clearCache</vh></v>
<v t="ekr.20211016054411.1625"><vh>CHTMLFontData.createVariant</vh></v>
<v t="ekr.20211016054411.1626"><vh>CHTMLFontData.defineChars</vh></v>
<v t="ekr.20211016054411.1627"><vh>CHTMLFontData.updateStyles</vh></v>
<v t="ekr.20211016054411.1628"><vh>CHTMLFontData.em</vh></v>
<v t="ekr.20211016054411.1629"><vh>CHTMLFontData.em0</vh></v>
<v t="ekr.20211016054411.1630"><vh>CHTMLFontData.padding</vh></v>
<v t="ekr.20211016054411.1631"><vh>CHTMLFontData.charContent</vh></v>
<v t="ekr.20211016054411.1632"><vh>CHTMLFontData.charSelector</vh></v>
<v t="ekr.20211016054411.1633"><vh>CHTMLFontData.AddCSS</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1634"><vh>@@clean Notation.ts</vh></v>
<v t="ekr.20211016054411.1635"><vh>@@clean Usage.ts</vh>
<v t="ekr.20211016054411.1636"><vh>class Usage</vh>
<v t="ekr.20211016054411.1637"><vh>Usage.add</vh></v>
<v t="ekr.20211016054411.1638"><vh>Usage.has</vh></v>
<v t="ekr.20211016054411.1639"><vh>Usage.clear</vh></v>
<v t="ekr.20211016054411.1640"><vh>Usage.update</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1641"><vh>@@clean Wrapper.ts</vh>
<v t="ekr.20211016054411.1642"><vh>CHTMLWrapperClass</vh></v>
<v t="ekr.20211016054411.1643"><vh>toCHTML</vh></v>
<v t="ekr.20211016054411.1644"><vh>markUsed</vh></v>
<v t="ekr.20211016054411.1645"><vh>drawBBox</vh></v>
<v t="ekr.20211016054411.1646"><vh>html</vh></v>
<v t="ekr.20211016054411.1647"><vh>text</vh></v>
</v>
<v t="ekr.20211016054411.1648"><vh>@@clean WrapperFactory.ts</vh></v>
<v t="ekr.20211016054411.1649"><vh>@@clean Wrappers.ts</vh></v>
<v t="ekr.20211016054411.1650"><vh>Wrappers</vh>
<v t="ekr.20211016054411.1651"><vh>@@clean maction.ts</vh>
<v t="ekr.20211016054411.1652"><vh>toCHTML</vh></v>
<v t="ekr.20211016054411.1653"><vh>setEventHandler</vh></v>
</v>
<v t="ekr.20211016054411.1654"><vh>@@clean math.ts</vh>
<v t="ekr.20211016054411.1655"><vh>toCHTML</vh></v>
<v t="ekr.20211016054411.1656"><vh>setChildPWidths</vh></v>
</v>
<v t="ekr.20211016054411.1657"><vh>@@clean menclose.ts</vh>
<v t="ekr.20211016054411.1658"><vh>Angle</vh></v>
<v t="ekr.20211016054411.1659"><vh>toCHTML</vh></v>
<v t="ekr.20211016054411.1660"><vh>arrow</vh></v>
<v t="ekr.20211016054411.1661"><vh>adjustBorder</vh></v>
<v t="ekr.20211016054411.1662"><vh>adjustThickness</vh></v>
<v t="ekr.20211016054411.1663"><vh>fixed</vh></v>
<v t="ekr.20211016054411.1664"><vh>em</vh></v>
</v>
<v t="ekr.20211016054411.1665"><vh>@@clean mfenced.ts</vh>
<v t="ekr.20211016054411.1666"><vh>class CHTMLmfenced</vh>
<v t="ekr.20211016054411.1667"><vh>CHTMLmfenced.toCHTML</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1668"><vh>@@clean mfrac.ts</vh>
<v t="ekr.20211016054411.1669"><vh>class CHTMLmfrac</vh>
<v t="ekr.20211016054411.1670"><vh>CHTMLmfrac.toCHTML</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1671"><vh>@@clean mglyph.ts</vh>
<v t="ekr.20211016054411.1672"><vh>toCHTML</vh></v>
</v>
<v t="ekr.20211016054411.1673"><vh>@@clean mi.ts</vh></v>
<v t="ekr.20211016054411.1674"><vh>@@clean mmultiscripts.ts</vh>
<v t="ekr.20211016054411.1675"><vh>toCHTML</vh></v>
</v>
<v t="ekr.20211016054411.1676"><vh>@@clean mn.ts</vh></v>
<v t="ekr.20211016054411.1677"><vh>@@clean mo.ts</vh>
<v t="ekr.20211016054411.1678"><vh>toCHTML</vh></v>
</v>
<v t="ekr.20211016054411.1679"><vh>@@clean mpadded.ts</vh>
<v t="ekr.20211016054411.1680"><vh>toCHTML</vh></v>
</v>
<v t="ekr.20211016054411.1681"><vh>@@clean mroot.ts</vh>
<v t="ekr.20211016054411.1682"><vh>class CHTMLmroot</vh></v>
</v>
<v t="ekr.20211016054411.1683"><vh>@@clean mrow.ts</vh>
<v t="ekr.20211016054411.1684"><vh>toCHTML</vh></v>
</v>
<v t="ekr.20211016054411.1685"><vh>@@clean ms.ts</vh></v>
<v t="ekr.20211016054411.1686"><vh>@@clean mspace.ts</vh>
<v t="ekr.20211016054411.1687"><vh>toCHTML</vh></v>
</v>
<v t="ekr.20211016054411.1688"><vh>@@clean msqrt.ts</vh>
<v t="ekr.20211016054411.1689"><vh>class CHTMLmsqrt</vh>
<v t="ekr.20211016054411.1690"><vh>CHTMLmsqrt.toCHTML</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1691"><vh>@@clean msubsup.ts</vh>
<v t="ekr.20211016054411.1692"><vh>toCHTML</vh></v>
</v>
<v t="ekr.20211016054411.1693"><vh>@@clean mtable.ts</vh>
<v t="ekr.20211016054411.1694"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1695"><vh>getAlignShift</vh></v>
<v t="ekr.20211016054411.1696"><vh>toCHTML</vh></v>
</v>
<v t="ekr.20211016054411.1697"><vh>@@clean mtd.ts</vh>
<v t="ekr.20211016054411.1698"><vh>toCHTML</vh></v>
</v>
<v t="ekr.20211016054411.1699"><vh>@@clean mtext.ts</vh></v>
<v t="ekr.20211016054411.1700"><vh>@@clean mtr.ts</vh>
<v t="ekr.20211016054411.1701"><vh>toCHTML</vh></v>
<v t="ekr.20211016054411.1702"><vh>toCHTML</vh></v>
<v t="ekr.20211016054411.1703"><vh>markUsed</vh></v>
</v>
<v t="ekr.20211016054411.1704"><vh>@@clean munderover.ts</vh>
<v t="ekr.20211016054411.1705"><vh>toCHTML</vh></v>
<v t="ekr.20211016054411.1706"><vh>toCHTML</vh></v>
<v t="ekr.20211016054411.1707"><vh>toCHTML</vh></v>
<v t="ekr.20211016054411.1708"><vh>markUsed</vh></v>
</v>
<v t="ekr.20211016054411.1709"><vh>@@clean scriptbase.ts</vh>
<v t="ekr.20211016054411.1710"><vh>toCHTML</vh></v>
</v>
<v t="ekr.20211016054411.1711"><vh>@@clean semantics.ts</vh>
<v t="ekr.20211016054411.1712"><vh>toCHTML</vh></v>
<v t="ekr.20211016054411.1713"><vh>class CHTMLannotation</vh>
<v t="ekr.20211016054411.1714"><vh>CHTMLannotation.toCHTML</vh></v>
<v t="ekr.20211016054411.1715"><vh>CHTMLannotation.computeBBox</vh></v>
</v>
<v t="ekr.20211016054411.1716"><vh>class CHTMLannotationXML</vh></v>
<v t="ekr.20211016054411.1717"><vh>class CHTMLxml</vh>
<v t="ekr.20211016054411.1718"><vh>CHTMLxml.toCHTML</vh></v>
<v t="ekr.20211016054411.1719"><vh>CHTMLxml.computeBBox</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1720"><vh>@@clean TeXAtom.ts</vh>
<v t="ekr.20211016054411.1721"><vh>toCHTML</vh></v>
</v>
<v t="ekr.20211016054411.1722"><vh>@@clean TextNode.ts</vh>
<v t="ekr.20211016054411.1723"><vh>toCHTML</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1724"><vh>fonts</vh>
<v t="ekr.20211016054411.1725"><vh>@@clean tex.ts</vh></v>
<v t="ekr.20211016054411.1726"><vh>tex</vh>
<v t="ekr.20211016054411.1727"><vh>@@clean bold-italic.ts</vh></v>
<v t="ekr.20211016054411.1728"><vh>@@clean bold.ts</vh></v>
<v t="ekr.20211016054411.1729"><vh>@@clean double-struck.ts</vh></v>
<v t="ekr.20211016054411.1730"><vh>@@clean fraktur-bold.ts</vh></v>
<v t="ekr.20211016054411.1731"><vh>@@clean fraktur.ts</vh></v>
<v t="ekr.20211016054411.1732"><vh>@@clean italic.ts</vh></v>
<v t="ekr.20211016054411.1733"><vh>@@clean largeop.ts</vh></v>
<v t="ekr.20211016054411.1734"><vh>@@clean monospace.ts</vh></v>
<v t="ekr.20211016054411.1735"><vh>@@clean normal.ts</vh></v>
<v t="ekr.20211016054411.1736"><vh>@@clean sans-serif-bold-italic.ts</vh></v>
<v t="ekr.20211016054411.1737"><vh>@@clean sans-serif-bold.ts</vh></v>
<v t="ekr.20211016054411.1738"><vh>@@clean sans-serif-italic.ts</vh></v>
<v t="ekr.20211016054411.1739"><vh>@@clean sans-serif.ts</vh></v>
<v t="ekr.20211016054411.1740"><vh>@@clean script-bold.ts</vh></v>
<v t="ekr.20211016054411.1741"><vh>@@clean script.ts</vh></v>
<v t="ekr.20211016054411.1742"><vh>@@clean smallop.ts</vh></v>
<v t="ekr.20211016054411.1743"><vh>@@clean tex-calligraphic-bold.ts</vh></v>
<v t="ekr.20211016054411.1744"><vh>@@clean tex-calligraphic.ts</vh></v>
<v t="ekr.20211016054411.1745"><vh>@@clean tex-mathit.ts</vh></v>
<v t="ekr.20211016054411.1746"><vh>@@clean tex-oldstyle-bold.ts</vh></v>
<v t="ekr.20211016054411.1747"><vh>@@clean tex-oldstyle.ts</vh></v>
<v t="ekr.20211016054411.1748"><vh>@@clean tex-size3.ts</vh></v>
<v t="ekr.20211016054411.1749"><vh>@@clean tex-size4.ts</vh></v>
<v t="ekr.20211016054411.1750"><vh>@@clean tex-variant.ts</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.1751"><vh>common</vh>
<v t="ekr.20211016054411.1752"><vh>@@clean FontData.ts</vh>
<v t="ekr.20211016054411.1753"><vh>CharOptions</vh></v>
<v t="ekr.20211016054411.1754"><vh>VariantData</vh></v>
<v t="ekr.20211016054411.1755"><vh>class FontData</vh>
<v t="ekr.20211016054411.1756"><vh>FontData.charOptions</vh></v>
<v t="ekr.20211016054411.1757"><vh>FontData.constructor</vh></v>
<v t="ekr.20211016054411.1758"><vh>FontData.createVariant</vh></v>
<v t="ekr.20211016054411.1759"><vh>FontData.createVariants</vh></v>
<v t="ekr.20211016054411.1760"><vh>FontData.defineChars</vh></v>
<v t="ekr.20211016054411.1761"><vh>FontData.defineDelimiters</vh></v>
<v t="ekr.20211016054411.1762"><vh>FontData.defineRemap</vh></v>
<v t="ekr.20211016054411.1763"><vh>FontData.getDelimiter</vh></v>
<v t="ekr.20211016054411.1764"><vh>FontData.getSizeVariant</vh></v>
<v t="ekr.20211016054411.1765"><vh>FontData.getStretchVariant</vh></v>
<v t="ekr.20211016054411.1766"><vh>FontData.getChar</vh></v>
<v t="ekr.20211016054411.1767"><vh>FontData.getVariant</vh></v>
<v t="ekr.20211016054411.1768"><vh>FontData.getCssFont</vh></v>
<v t="ekr.20211016054411.1769"><vh>FontData.getFamily</vh></v>
<v t="ekr.20211016054411.1770"><vh>FontData.getRemappedChar</vh></v>
</v>
<v t="ekr.20211016054411.1771"><vh>FontDataClass</vh></v>
</v>
<v t="ekr.20211016054411.1772"><vh>@@clean Notation.ts</vh></v>
<v t="ekr.20211016054411.1773"><vh>@@clean OutputJax.ts</vh>
<v t="ekr.20211016054411.1774"><vh>ExtendedMetrics</vh></v>
<v t="ekr.20211016054411.1775"><vh>typeset</vh></v>
<v t="ekr.20211016054411.1776"><vh>toDOM</vh></v>
<v t="ekr.20211016054411.1777"><vh>getBBox</vh></v>
<v t="ekr.20211016054411.1778"><vh>getMetrics</vh></v>
<v t="ekr.20211016054411.1779"><vh>getMetricsFor</vh></v>
<v t="ekr.20211016054411.1780"><vh>styleSheet</vh></v>
<v t="ekr.20211016054411.1781"><vh>html</vh></v>
<v t="ekr.20211016054411.1782"><vh>text</vh></v>
<v t="ekr.20211016054411.1783"><vh>fixed</vh></v>
<v t="ekr.20211016054411.1784"><vh>measureText</vh></v>
<v t="ekr.20211016054411.1785"><vh>measureXMLnode</vh></v>
<v t="ekr.20211016054411.1786"><vh>cssFontStyles</vh></v>
<v t="ekr.20211016054411.1787"><vh>getFontData</vh></v>
</v>
<v t="ekr.20211016054411.1788"><vh>@@clean Wrapper.ts</vh>
<v t="ekr.20211016054411.1789"><vh>MathMLSpace</vh></v>
<v t="ekr.20211016054411.1790"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1791"><vh>wrap</vh></v>
<v t="ekr.20211016054411.1792"><vh>getBBox</vh></v>
<v t="ekr.20211016054411.1793"><vh>setChildPWidths</vh></v>
<v t="ekr.20211016054411.1794"><vh>invalidateBBox</vh></v>
<v t="ekr.20211016054411.1795"><vh>core</vh></v>
<v t="ekr.20211016054411.1796"><vh>coreMO</vh></v>
<v t="ekr.20211016054411.1797"><vh>getText</vh></v>
<v t="ekr.20211016054411.1798"><vh>canStretch</vh></v>
<v t="ekr.20211016054411.1799"><vh>getWrapWidth</vh></v>
<v t="ekr.20211016054411.1800"><vh>getChildAlign</vh></v>
<v t="ekr.20211016054411.1801"><vh>remapChars</vh></v>
<v t="ekr.20211016054411.1802"><vh>mmlText</vh></v>
<v t="ekr.20211016054411.1803"><vh>mmlNode</vh></v>
</v>
<v t="ekr.20211016054411.1804"><vh>@@clean WrapperFactory.ts</vh></v>
<v t="ekr.20211016054411.1805"><vh>Wrappers</vh>
<v t="ekr.20211016054411.1806"><vh>@@clean maction.ts</vh>
<v t="ekr.20211016054411.1807"><vh>CommonMaction</vh></v>
<v t="ekr.20211016054411.1808"><vh>CommonMactionClass</vh></v>
<v t="ekr.20211016054411.1809"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1810"><vh>getParameters</vh></v>
<v t="ekr.20211016054411.1811"><vh>computeBBox</vh></v>
</v>
<v t="ekr.20211016054411.1812"><vh>@@clean math.ts</vh>
<v t="ekr.20211016054411.1813"><vh>CommonMath</vh></v>
<v t="ekr.20211016054411.1814"><vh>CommonMathMixin</vh>
<v t="ekr.20211016054411.1815"><vh>getWrapWidth</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1816"><vh>@@clean menclose.ts</vh>
<v t="ekr.20211016054411.1817"><vh>CommonMenclose</vh></v>
<v t="ekr.20211016054411.1818"><vh>CommonMencloseClass</vh></v>
<v t="ekr.20211016054411.1819"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1820"><vh>getParameters</vh></v>
<v t="ekr.20211016054411.1821"><vh>getNotations</vh></v>
<v t="ekr.20211016054411.1822"><vh>removeRedundantNotations</vh></v>
<v t="ekr.20211016054411.1823"><vh>initializeNotations</vh></v>
<v t="ekr.20211016054411.1824"><vh>computeBBox</vh></v>
<v t="ekr.20211016054411.1825"><vh>getBBoxExtenders</vh></v>
<v t="ekr.20211016054411.1826"><vh>getPadding</vh></v>
<v t="ekr.20211016054411.1827"><vh>maximizeEntries</vh></v>
<v t="ekr.20211016054411.1828"><vh>getOffset</vh></v>
<v t="ekr.20211016054411.1829"><vh>getArgMod</vh></v>
<v t="ekr.20211016054411.1830"><vh>arrow</vh></v>
<v t="ekr.20211016054411.1831"><vh>arrowData</vh></v>
<v t="ekr.20211016054411.1832"><vh>arrowAW</vh></v>
<v t="ekr.20211016054411.1833"><vh>createMsqrt</vh></v>
<v t="ekr.20211016054411.1834"><vh>sqrtTRBL</vh></v>
</v>
<v t="ekr.20211016054411.1835"><vh>@@clean mfenced.ts</vh>
<v t="ekr.20211016054411.1836"><vh>CommonMfenced</vh></v>
<v t="ekr.20211016054411.1837"><vh>CommonMfencedMixin</vh>
<v t="ekr.20211016054411.1838"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1839"><vh>createMrow</vh></v>
<v t="ekr.20211016054411.1840"><vh>addMrowChildren</vh></v>
<v t="ekr.20211016054411.1841"><vh>addMo</vh></v>
<v t="ekr.20211016054411.1842"><vh>computeBBox</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1843"><vh>@@clean mfrac.ts</vh>
<v t="ekr.20211016054411.1844"><vh>CommonMfrac</vh></v>
<v t="ekr.20211016054411.1845"><vh>CommonMfracMixin</vh>
<v t="ekr.20211016054411.1846"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1847"><vh>computeBBox</vh></v>
<v t="ekr.20211016054411.1848"><vh>getFractionBBox</vh></v>
<v t="ekr.20211016054411.1849"><vh>getTUV</vh></v>
<v t="ekr.20211016054411.1850"><vh>getAtopBBox</vh></v>
<v t="ekr.20211016054411.1851"><vh>getUVQ</vh></v>
<v t="ekr.20211016054411.1852"><vh>getBevelledBBox</vh></v>
<v t="ekr.20211016054411.1853"><vh>getBevelData</vh></v>
<v t="ekr.20211016054411.1854"><vh>canStretch</vh></v>
<v t="ekr.20211016054411.1855"><vh>isDisplay</vh></v>
<v t="ekr.20211016054411.1856"><vh>getWrapWidth</vh></v>
<v t="ekr.20211016054411.1857"><vh>getChildAlign</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1858"><vh>@@clean mglyph.ts</vh>
<v t="ekr.20211016054411.1859"><vh>CommonMglyph</vh></v>
<v t="ekr.20211016054411.1860"><vh>CommonMglyphMixin</vh>
<v t="ekr.20211016054411.1861"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1862"><vh>getParameters</vh></v>
<v t="ekr.20211016054411.1863"><vh>computeBBox</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1864"><vh>@@clean mi.ts</vh>
<v t="ekr.20211016054411.1865"><vh>CommonMi</vh></v>
<v t="ekr.20211016054411.1866"><vh>CommonMiMixin</vh>
<v t="ekr.20211016054411.1867"><vh>computeBBox</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1868"><vh>@@clean mmultiscripts.ts</vh>
<v t="ekr.20211016054411.1869"><vh>CommonMmultiscripts</vh></v>
<v t="ekr.20211016054411.1870"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1871"><vh>combinePrePost</vh></v>
<v t="ekr.20211016054411.1872"><vh>computeBBox</vh></v>
<v t="ekr.20211016054411.1873"><vh>getScriptData</vh></v>
<v t="ekr.20211016054411.1874"><vh>getScriptBBoxLists</vh></v>
<v t="ekr.20211016054411.1875"><vh>padLists</vh></v>
<v t="ekr.20211016054411.1876"><vh>combineBBoxLists</vh></v>
<v t="ekr.20211016054411.1877"><vh>getScaledWHD</vh></v>
<v t="ekr.20211016054411.1878"><vh>getUVQ</vh></v>
</v>
<v t="ekr.20211016054411.1879"><vh>@@clean mn.ts</vh>
<v t="ekr.20211016054411.1880"><vh>CommonMn</vh></v>
<v t="ekr.20211016054411.1881"><vh>CommonMnMixin</vh>
<v t="ekr.20211016054411.1882"><vh>remapChars</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1883"><vh>@@clean mo.ts</vh>
<v t="ekr.20211016054411.1884"><vh>CommonMo</vh></v>
<v t="ekr.20211016054411.1885"><vh>CommonMoMixin</vh>
<v t="ekr.20211016054411.1886"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1887"><vh>computeBBox</vh></v>
<v t="ekr.20211016054411.1888"><vh>protoBBox</vh></v>
<v t="ekr.20211016054411.1889"><vh>getAccentOffset</vh></v>
<v t="ekr.20211016054411.1890"><vh>getCenterOffset</vh></v>
<v t="ekr.20211016054411.1891"><vh>getVariant</vh></v>
<v t="ekr.20211016054411.1892"><vh>canStretch</vh></v>
<v t="ekr.20211016054411.1893"><vh>getStretchedVariant</vh></v>
<v t="ekr.20211016054411.1894"><vh>getSize</vh></v>
<v t="ekr.20211016054411.1895"><vh>getWH</vh></v>
<v t="ekr.20211016054411.1896"><vh>getStretchBBox</vh></v>
<v t="ekr.20211016054411.1897"><vh>getBaseline</vh></v>
<v t="ekr.20211016054411.1898"><vh>checkExtendedHeight</vh></v>
<v t="ekr.20211016054411.1899"><vh>remapChars</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1900"><vh>@@clean mpadded.ts</vh>
<v t="ekr.20211016054411.1901"><vh>CommonMpadded</vh></v>
<v t="ekr.20211016054411.1902"><vh>CommonMpaddedMixin</vh>
<v t="ekr.20211016054411.1903"><vh>getDimens</vh></v>
<v t="ekr.20211016054411.1904"><vh>dimen</vh></v>
<v t="ekr.20211016054411.1905"><vh>computeBBox</vh></v>
<v t="ekr.20211016054411.1906"><vh>getWrapWidth</vh></v>
<v t="ekr.20211016054411.1907"><vh>getChildAlign</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1908"><vh>@@clean mroot.ts</vh>
<v t="ekr.20211016054411.1909"><vh>CommonMroot</vh></v>
<v t="ekr.20211016054411.1910"><vh>CommonMrootMixin</vh>
<v t="ekr.20211016054411.1911"><vh>combineRootBBox</vh></v>
<v t="ekr.20211016054411.1912"><vh>getRootDimens</vh></v>
<v t="ekr.20211016054411.1913"><vh>rootHeight</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1914"><vh>@@clean mrow.ts</vh>
<v t="ekr.20211016054411.1915"><vh>CommonMrow</vh></v>
<v t="ekr.20211016054411.1916"><vh>CommonMrowMixin</vh>
<v t="ekr.20211016054411.1917"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1918"><vh>stretchChildren</vh></v>
</v>
<v t="ekr.20211016054411.1919"><vh>CommonInferredMrow</vh></v>
<v t="ekr.20211016054411.1920"><vh>CommonInferredMrowMixin</vh>
<v t="ekr.20211016054411.1921"><vh>getScale</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1922"><vh>@@clean ms.ts</vh>
<v t="ekr.20211016054411.1923"><vh>CommonMs</vh></v>
<v t="ekr.20211016054411.1924"><vh>CommonMsMixin</vh>
<v t="ekr.20211016054411.1925"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1926"><vh>createText</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1927"><vh>@@clean mspace.ts</vh>
<v t="ekr.20211016054411.1928"><vh>CommonMspace</vh></v>
<v t="ekr.20211016054411.1929"><vh>CommonMspaceMixin</vh>
<v t="ekr.20211016054411.1930"><vh>computeBBox</vh></v>
<v t="ekr.20211016054411.1931"><vh>handleVariant</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1932"><vh>@@clean msqrt.ts</vh>
<v t="ekr.20211016054411.1933"><vh>CommonMsqrt</vh></v>
<v t="ekr.20211016054411.1934"><vh>CommonMsqrtMixin</vh>
<v t="ekr.20211016054411.1935"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1936"><vh>createMo</vh></v>
<v t="ekr.20211016054411.1937"><vh>computeBBox</vh></v>
<v t="ekr.20211016054411.1938"><vh>combineRootBBox</vh></v>
<v t="ekr.20211016054411.1939"><vh>getPQ</vh></v>
<v t="ekr.20211016054411.1940"><vh>getRootDimens</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1941"><vh>@@clean msubsup.ts</vh>
<v t="ekr.20211016054411.1942"><vh>CommonMsub</vh></v>
<v t="ekr.20211016054411.1943"><vh>getOffset</vh></v>
<v t="ekr.20211016054411.1944"><vh>CommonMsup</vh></v>
<v t="ekr.20211016054411.1945"><vh>getOffset</vh></v>
<v t="ekr.20211016054411.1946"><vh>CommonMsubsup</vh></v>
<v t="ekr.20211016054411.1947"><vh>computeBBox</vh></v>
</v>
<v t="ekr.20211016054411.1948"><vh>@@clean mtable.ts</vh>
<v t="ekr.20211016054411.1949"><vh>CommonMtable</vh></v>
<v t="ekr.20211016054411.1950"><vh>constructor</vh></v>
<v t="ekr.20211016054411.1951"><vh>findContainer</vh></v>
<v t="ekr.20211016054411.1952"><vh>getPercentageWidth</vh></v>
<v t="ekr.20211016054411.1953"><vh>stretchRows</vh></v>
<v t="ekr.20211016054411.1954"><vh>stretchColumns</vh></v>
<v t="ekr.20211016054411.1955"><vh>stretchColumn</vh></v>
<v t="ekr.20211016054411.1956"><vh>getTableData</vh></v>
<v t="ekr.20211016054411.1957"><vh>extendHD</vh></v>
<v t="ekr.20211016054411.1958"><vh>recordPWidthCell</vh></v>
<v t="ekr.20211016054411.1959"><vh>computeBBox</vh></v>
<v t="ekr.20211016054411.1960"><vh>setChildPWidths</vh></v>
<v t="ekr.20211016054411.1961"><vh>setColumnPWidths</vh></v>
<v t="ekr.20211016054411.1962"><vh>getBBoxHD</vh></v>
<v t="ekr.20211016054411.1963"><vh>getBBoxLR</vh></v>
<v t="ekr.20211016054411.1964"><vh>getPadAlignShift</vh></v>
<v t="ekr.20211016054411.1965"><vh>getAlignShift</vh></v>
<v t="ekr.20211016054411.1966"><vh>getWidth</vh></v>
<v t="ekr.20211016054411.1967"><vh>getEqualRowHeight</vh></v>
<v t="ekr.20211016054411.1968"><vh>getComputedWidths</vh></v>
<v t="ekr.20211016054411.1969"><vh>getColumnWidths</vh></v>
<v t="ekr.20211016054411.1970"><vh>getEqualColumns</vh></v>
<v t="ekr.20211016054411.1971"><vh>getColumnWidthsAuto</vh></v>
<v t="ekr.20211016054411.1972"><vh>getColumnWidthsPercent</vh></v>
<v t="ekr.20211016054411.1973"><vh>getColumnWidthsFixed</vh></v>
<v t="ekr.20211016054411.1974"><vh>getVerticalPosition</vh></v>
<v t="ekr.20211016054411.1975"><vh>getEmHalfSpacing</vh></v>
<v t="ekr.20211016054411.1976"><vh>getRowHalfSpacing</vh></v>
<v t="ekr.20211016054411.1977"><vh>getColumnHalfSpacing</vh></v>
<v t="ekr.20211016054411.1978"><vh>getAlignmentRow</vh></v>
<v t="ekr.20211016054411.1979"><vh>getColumnAttributes</vh></v>
<v t="ekr.20211016054411.1980"><vh>getRowAttributes</vh></v>
<v t="ekr.20211016054411.1981"><vh>getAttributeArray</vh></v>
<v t="ekr.20211016054411.1982"><vh>addEm</vh></v>
<v t="ekr.20211016054411.1983"><vh>convertLengths</vh></v>
</v>
<v t="ekr.20211016054411.1984"><vh>@@clean mtd.ts</vh>
<v t="ekr.20211016054411.1985"><vh>CommonMtd</vh></v>
<v t="ekr.20211016054411.1986"><vh>CommonMtdMixin</vh>
<v t="ekr.20211016054411.1987"><vh>invalidateBBox</vh></v>
<v t="ekr.20211016054411.1988"><vh>getWrapWidth</vh></v>
<v t="ekr.20211016054411.1989"><vh>getChildAlign</vh></v>
</v>
</v>
<v t="ekr.20211016054411.1990"><vh>@@clean mtext.ts</vh>
<v t="ekr.20211016054411.1991"><vh>CommonMtext</vh></v>
<v t="ekr.20211016054411.1992"><vh>CommonMtextMixin</vh></v>
</v>
<v t="ekr.20211016054411.1993"><vh>@@clean mtr.ts</vh>
<v t="ekr.20211016054411.1994"><vh>CommonMtr</vh></v>
<v t="ekr.20211016054411.1995"><vh>getChild</vh></v>
<v t="ekr.20211016054411.1996"><vh>getChildBBoxes</vh></v>
<v t="ekr.20211016054411.1997"><vh>stretchChildren</vh></v>
<v t="ekr.20211016054411.1998"><vh>CommonMlabeledtr</vh></v>
<v t="ekr.20211016054411.1999"><vh>getChild</vh></v>
<v t="ekr.20211016054411.2000"><vh>getChildBBoxes</vh></v>
</v>
<v t="ekr.20211016054411.2001"><vh>@@clean munderover.ts</vh>
<v t="ekr.20211016054411.2002"><vh>CommonMunder</vh></v>
<v t="ekr.20211016054411.2003"><vh>constructor</vh></v>
<v t="ekr.20211016054411.2004"><vh>computeBBox</vh></v>
<v t="ekr.20211016054411.2005"><vh>CommonMover</vh></v>
<v t="ekr.20211016054411.2006"><vh>constructor</vh></v>
<v t="ekr.20211016054411.2007"><vh>computeBBox</vh></v>
<v t="ekr.20211016054411.2008"><vh>CommonMunderover</vh></v>
<v t="ekr.20211016054411.2009"><vh>constructor</vh></v>
<v t="ekr.20211016054411.2010"><vh>computeBBox</vh></v>
</v>
<v t="ekr.20211016054411.2011"><vh>@@clean scriptbase.ts</vh>
<v t="ekr.20211016054411.2012"><vh>CommonScriptbase</vh></v>
<v t="ekr.20211016054411.2013"><vh>CommonScriptbaseClass</vh></v>
<v t="ekr.20211016054411.2014"><vh>constructor</vh></v>
<v t="ekr.20211016054411.2015"><vh>getBaseCore</vh></v>
<v t="ekr.20211016054411.2016"><vh>setBaseAccentsFor</vh></v>
<v t="ekr.20211016054411.2017"><vh>getSemanticBase</vh></v>
<v t="ekr.20211016054411.2018"><vh>getBaseFence</vh></v>
<v t="ekr.20211016054411.2019"><vh>getBaseScale</vh></v>
<v t="ekr.20211016054411.2020"><vh>getBaseIc</vh></v>
<v t="ekr.20211016054411.2021"><vh>getAdjustedIc</vh></v>
<v t="ekr.20211016054411.2022"><vh>isCharBase</vh></v>
<v t="ekr.20211016054411.2023"><vh>checkLineAccents</vh></v>
<v t="ekr.20211016054411.2024"><vh>isLineAccent</vh></v>
<v t="ekr.20211016054411.2025"><vh>getBaseWidth</vh></v>
<v t="ekr.20211016054411.2026"><vh>computeBBox</vh></v>
<v t="ekr.20211016054411.2027"><vh>getOffset</vh></v>
<v t="ekr.20211016054411.2028"><vh>baseCharZero</vh></v>
<v t="ekr.20211016054411.2029"><vh>getV</vh></v>
<v t="ekr.20211016054411.2030"><vh>getU</vh></v>
<v t="ekr.20211016054411.2031"><vh>hasMovableLimits</vh></v>
<v t="ekr.20211016054411.2032"><vh>getOverKU</vh></v>
<v t="ekr.20211016054411.2033"><vh>getUnderKV</vh></v>
<v t="ekr.20211016054411.2034"><vh>getDeltaW</vh></v>
<v t="ekr.20211016054411.2035"><vh>getDelta</vh></v>
<v t="ekr.20211016054411.2036"><vh>stretchChildren</vh></v>
</v>
<v t="ekr.20211016054411.2037"><vh>@@clean semantics.ts</vh>
<v t="ekr.20211016054411.2038"><vh>CommonSemantics</vh></v>
<v t="ekr.20211016054411.2039"><vh>CommonSemanticsMixin</vh>
<v t="ekr.20211016054411.2040"><vh>computeBBox</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2041"><vh>@@clean TeXAtom.ts</vh>
<v t="ekr.20211016054411.2042"><vh>CommonTeXAtom</vh></v>
<v t="ekr.20211016054411.2043"><vh>CommonTeXAtomMixin</vh>
<v t="ekr.20211016054411.2044"><vh>computeBBox</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2045"><vh>@@clean TextNode.ts</vh>
<v t="ekr.20211016054411.2046"><vh>CommonTextNode</vh></v>
<v t="ekr.20211016054411.2047"><vh>CommonTextNodeMixin</vh>
<v t="ekr.20211016054411.2048"><vh>computeBBox</vh></v>
<v t="ekr.20211016054411.2049"><vh>remappedText</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.2050"><vh>fonts</vh>
<v t="ekr.20211016054411.2051"><vh>@@clean tex.ts</vh></v>
<v t="ekr.20211016054411.2052"><vh>tex</vh>
<v t="ekr.20211016054411.2053"><vh>@@clean bold-italic.ts</vh></v>
<v t="ekr.20211016054411.2054"><vh>@@clean bold.ts</vh></v>
<v t="ekr.20211016054411.2055"><vh>@@clean delimiters.ts</vh></v>
<v t="ekr.20211016054411.2056"><vh>@@clean double-struck.ts</vh></v>
<v t="ekr.20211016054411.2057"><vh>@@clean fraktur-bold.ts</vh></v>
<v t="ekr.20211016054411.2058"><vh>@@clean fraktur.ts</vh></v>
<v t="ekr.20211016054411.2059"><vh>@@clean italic.ts</vh></v>
<v t="ekr.20211016054411.2060"><vh>@@clean largeop.ts</vh></v>
<v t="ekr.20211016054411.2061"><vh>@@clean monospace.ts</vh></v>
<v t="ekr.20211016054411.2062"><vh>@@clean normal.ts</vh></v>
<v t="ekr.20211016054411.2063"><vh>@@clean sans-serif-bold-italic.ts</vh></v>
<v t="ekr.20211016054411.2064"><vh>@@clean sans-serif-bold.ts</vh></v>
<v t="ekr.20211016054411.2065"><vh>@@clean sans-serif-italic.ts</vh></v>
<v t="ekr.20211016054411.2066"><vh>@@clean sans-serif.ts</vh></v>
<v t="ekr.20211016054411.2067"><vh>@@clean script-bold.ts</vh></v>
<v t="ekr.20211016054411.2068"><vh>@@clean script.ts</vh></v>
<v t="ekr.20211016054411.2069"><vh>@@clean smallop.ts</vh></v>
<v t="ekr.20211016054411.2070"><vh>@@clean tex-calligraphic-bold.ts</vh></v>
<v t="ekr.20211016054411.2071"><vh>@@clean tex-calligraphic.ts</vh></v>
<v t="ekr.20211016054411.2072"><vh>@@clean tex-mathit.ts</vh></v>
<v t="ekr.20211016054411.2073"><vh>@@clean tex-oldstyle-bold.ts</vh></v>
<v t="ekr.20211016054411.2074"><vh>@@clean tex-oldstyle.ts</vh></v>
<v t="ekr.20211016054411.2075"><vh>@@clean tex-size3.ts</vh></v>
<v t="ekr.20211016054411.2076"><vh>@@clean tex-size4.ts</vh></v>
<v t="ekr.20211016054411.2077"><vh>@@clean tex-variant.ts</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.2078"><vh>svg</vh>
<v t="ekr.20211016054411.2079"><vh>@@clean FontCache.ts</vh>
<v t="ekr.20211016054411.2080"><vh>class FontCache</vh>
<v t="ekr.20211016054411.2081"><vh>FontCache.constructor</vh></v>
<v t="ekr.20211016054411.2082"><vh>FontCache.cachePath</vh></v>
<v t="ekr.20211016054411.2083"><vh>FontCache.clearLocalID</vh></v>
<v t="ekr.20211016054411.2084"><vh>FontCache.useLocalID</vh></v>
<v t="ekr.20211016054411.2085"><vh>FontCache.clearCache</vh></v>
<v t="ekr.20211016054411.2086"><vh>FontCache.getCache</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2087"><vh>@@clean FontData.ts</vh>
<v t="ekr.20211016054411.2088"><vh>SVGCharOptions</vh></v>
<v t="ekr.20211016054411.2089"><vh>SVGVariantData</vh></v>
<v t="ekr.20211016054411.2090"><vh>SVGDelimiterData</vh></v>
<v t="ekr.20211016054411.2091"><vh>class SVGFontData</vh>
<v t="ekr.20211016054411.2092"><vh>SVGFontData.charOptions</vh></v>
</v>
<v t="ekr.20211016054411.2093"><vh>AddPaths</vh></v>
</v>
<v t="ekr.20211016054411.2094"><vh>@@clean Notation.ts</vh></v>
<v t="ekr.20211016054411.2095"><vh>@@clean Wrapper.ts</vh>
<v t="ekr.20211016054411.2096"><vh>SVGWrapperClass</vh></v>
<v t="ekr.20211016054411.2097"><vh>toSVG</vh></v>
<v t="ekr.20211016054411.2098"><vh>addChildren</vh></v>
<v t="ekr.20211016054411.2099"><vh>place</vh></v>
<v t="ekr.20211016054411.2100"><vh>firstChild</vh></v>
<v t="ekr.20211016054411.2101"><vh>placeChar</vh></v>
<v t="ekr.20211016054411.2102"><vh>drawBBox</vh></v>
<v t="ekr.20211016054411.2103"><vh>html</vh></v>
<v t="ekr.20211016054411.2104"><vh>svg</vh></v>
<v t="ekr.20211016054411.2105"><vh>text</vh></v>
<v t="ekr.20211016054411.2106"><vh>fixed</vh></v>
</v>
<v t="ekr.20211016054411.2107"><vh>@@clean WrapperFactory.ts</vh></v>
<v t="ekr.20211016054411.2108"><vh>@@clean Wrappers.ts</vh></v>
<v t="ekr.20211016054411.2109"><vh>Wrappers</vh>
<v t="ekr.20211016054411.2110"><vh>@@clean maction.ts</vh>
<v t="ekr.20211016054411.2111"><vh>toSVG</vh></v>
<v t="ekr.20211016054411.2112"><vh>setEventHandler</vh></v>
</v>
<v t="ekr.20211016054411.2113"><vh>@@clean math.ts</vh>
<v t="ekr.20211016054411.2114"><vh>toSVG</vh></v>
<v t="ekr.20211016054411.2115"><vh>setChildPWidths</vh></v>
</v>
<v t="ekr.20211016054411.2116"><vh>@@clean menclose.ts</vh>
<v t="ekr.20211016054411.2117"><vh>toSVG</vh></v>
<v t="ekr.20211016054411.2118"><vh>arrow</vh></v>
<v t="ekr.20211016054411.2119"><vh>line</vh></v>
<v t="ekr.20211016054411.2120"><vh>box</vh></v>
<v t="ekr.20211016054411.2121"><vh>ellipse</vh></v>
<v t="ekr.20211016054411.2122"><vh>path</vh></v>
<v t="ekr.20211016054411.2123"><vh>fill</vh></v>
</v>
<v t="ekr.20211016054411.2124"><vh>@@clean merror.ts</vh>
<v t="ekr.20211016054411.2125"><vh>class SVGmerror</vh>
<v t="ekr.20211016054411.2126"><vh>SVGmerror.toSVG</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2127"><vh>@@clean mfenced.ts</vh>
<v t="ekr.20211016054411.2128"><vh>class SVGmfenced</vh>
<v t="ekr.20211016054411.2129"><vh>SVGmfenced.toSVG</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2130"><vh>@@clean mfrac.ts</vh>
<v t="ekr.20211016054411.2131"><vh>class SVGmfrac</vh>
<v t="ekr.20211016054411.2132"><vh>SVGmfrac.toSVG</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2133"><vh>@@clean mglyph.ts</vh>
<v t="ekr.20211016054411.2134"><vh>toSVG</vh></v>
</v>
<v t="ekr.20211016054411.2135"><vh>@@clean mi.ts</vh></v>
<v t="ekr.20211016054411.2136"><vh>@@clean mmultiscripts.ts</vh>
<v t="ekr.20211016054411.2137"><vh>toSVG</vh></v>
</v>
<v t="ekr.20211016054411.2138"><vh>@@clean mn.ts</vh></v>
<v t="ekr.20211016054411.2139"><vh>@@clean mo.ts</vh>
<v t="ekr.20211016054411.2140"><vh>toSVG</vh></v>
</v>
<v t="ekr.20211016054411.2141"><vh>@@clean mpadded.ts</vh>
<v t="ekr.20211016054411.2142"><vh>toSVG</vh></v>
</v>
<v t="ekr.20211016054411.2143"><vh>@@clean mphantom.ts</vh>
<v t="ekr.20211016054411.2144"><vh>class SVGmphantom</vh>
<v t="ekr.20211016054411.2145"><vh>SVGmphantom.toSVG</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2146"><vh>@@clean mroot.ts</vh>
<v t="ekr.20211016054411.2147"><vh>class SVGmroot</vh></v>
</v>
<v t="ekr.20211016054411.2148"><vh>@@clean mrow.ts</vh>
<v t="ekr.20211016054411.2149"><vh>toSVG</vh></v>
</v>
<v t="ekr.20211016054411.2150"><vh>@@clean ms.ts</vh></v>
<v t="ekr.20211016054411.2151"><vh>@@clean mspace.ts</vh></v>
<v t="ekr.20211016054411.2152"><vh>@@clean msqrt.ts</vh>
<v t="ekr.20211016054411.2153"><vh>class SVGmsqrt</vh>
<v t="ekr.20211016054411.2154"><vh>SVGmsqrt.toSVG</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2155"><vh>@@clean msubsup.ts</vh>
<v t="ekr.20211016054411.2156"><vh>toSVG</vh></v>
</v>
<v t="ekr.20211016054411.2157"><vh>@@clean mtable.ts</vh>
<v t="ekr.20211016054411.2158"><vh>constructor</vh></v>
<v t="ekr.20211016054411.2159"><vh>toSVG</vh></v>
<v t="ekr.20211016054411.2160"><vh>handleColor</vh></v>
</v>
<v t="ekr.20211016054411.2161"><vh>@@clean mtd.ts</vh>
<v t="ekr.20211016054411.2162"><vh>placeCell</vh></v>
<v t="ekr.20211016054411.2163"><vh>placeColor</vh></v>
</v>
<v t="ekr.20211016054411.2164"><vh>@@clean mtext.ts</vh></v>
<v t="ekr.20211016054411.2165"><vh>@@clean mtr.ts</vh>
<v t="ekr.20211016054411.2166"><vh>toSVG</vh></v>
<v t="ekr.20211016054411.2167"><vh>placeCell</vh></v>
<v t="ekr.20211016054411.2168"><vh>toSVG</vh></v>
</v>
<v t="ekr.20211016054411.2169"><vh>@@clean munderover.ts</vh>
<v t="ekr.20211016054411.2170"><vh>toSVG</vh></v>
<v t="ekr.20211016054411.2171"><vh>toSVG</vh></v>
<v t="ekr.20211016054411.2172"><vh>toSVG</vh></v>
</v>
<v t="ekr.20211016054411.2173"><vh>@@clean scriptbase.ts</vh>
<v t="ekr.20211016054411.2174"><vh>toSVG</vh></v>
</v>
<v t="ekr.20211016054411.2175"><vh>@@clean semantics.ts</vh>
<v t="ekr.20211016054411.2176"><vh>toSVG</vh></v>
<v t="ekr.20211016054411.2177"><vh>class SVGannotation</vh>
<v t="ekr.20211016054411.2178"><vh>SVGannotation.toSVG</vh></v>
<v t="ekr.20211016054411.2179"><vh>SVGannotation.computeBBox</vh></v>
</v>
<v t="ekr.20211016054411.2180"><vh>class SVGannotationXML</vh></v>
<v t="ekr.20211016054411.2181"><vh>class SVGxml</vh>
<v t="ekr.20211016054411.2182"><vh>SVGxml.toSVG</vh></v>
<v t="ekr.20211016054411.2183"><vh>SVGxml.computeBBox</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2184"><vh>@@clean TeXAtom.ts</vh>
<v t="ekr.20211016054411.2185"><vh>toSVG</vh></v>
</v>
<v t="ekr.20211016054411.2186"><vh>@@clean TextNode.ts</vh>
<v t="ekr.20211016054411.2187"><vh>toSVG</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2188"><vh>fonts</vh>
<v t="ekr.20211016054411.2189"><vh>@@clean tex.ts</vh>
<v t="ekr.20211016054411.2190"><vh>constructor</vh></v>
</v>
<v t="ekr.20211016054411.2191"><vh>tex</vh>
<v t="ekr.20211016054411.2192"><vh>@@clean bold-italic.ts</vh></v>
<v t="ekr.20211016054411.2193"><vh>@@clean bold.ts</vh></v>
<v t="ekr.20211016054411.2194"><vh>@@clean double-struck.ts</vh></v>
<v t="ekr.20211016054411.2195"><vh>@@clean fraktur-bold.ts</vh></v>
<v t="ekr.20211016054411.2196"><vh>@@clean fraktur.ts</vh></v>
<v t="ekr.20211016054411.2197"><vh>@@clean italic.ts</vh></v>
<v t="ekr.20211016054411.2198"><vh>@@clean largeop.ts</vh></v>
<v t="ekr.20211016054411.2199"><vh>@@clean monospace.ts</vh></v>
<v t="ekr.20211016054411.2200"><vh>@@clean normal.ts</vh></v>
<v t="ekr.20211016054411.2201"><vh>@@clean sans-serif-bold-italic.ts</vh></v>
<v t="ekr.20211016054411.2202"><vh>@@clean sans-serif-bold.ts</vh></v>
<v t="ekr.20211016054411.2203"><vh>@@clean sans-serif-italic.ts</vh></v>
<v t="ekr.20211016054411.2204"><vh>@@clean sans-serif.ts</vh></v>
<v t="ekr.20211016054411.2205"><vh>@@clean script-bold.ts</vh></v>
<v t="ekr.20211016054411.2206"><vh>@@clean script.ts</vh></v>
<v t="ekr.20211016054411.2207"><vh>@@clean smallop.ts</vh></v>
<v t="ekr.20211016054411.2208"><vh>@@clean tex-calligraphic-bold.ts</vh></v>
<v t="ekr.20211016054411.2209"><vh>@@clean tex-calligraphic.ts</vh></v>
<v t="ekr.20211016054411.2210"><vh>@@clean tex-mathit.ts</vh></v>
<v t="ekr.20211016054411.2211"><vh>@@clean tex-oldstyle-bold.ts</vh></v>
<v t="ekr.20211016054411.2212"><vh>@@clean tex-oldstyle.ts</vh></v>
<v t="ekr.20211016054411.2213"><vh>@@clean tex-size3.ts</vh></v>
<v t="ekr.20211016054411.2214"><vh>@@clean tex-size4.ts</vh></v>
<v t="ekr.20211016054411.2215"><vh>@@clean tex-variant.ts</vh></v>
</v>
</v>
</v>
</v>
<v t="ekr.20211016054411.2216"><vh>ui</vh>
<v t="ekr.20211016054411.2217"><vh>lazy</vh>
<v t="ekr.20211016054411.2218"><vh>@@clean LazyHandler.ts</vh>
<v t="ekr.20211016054411.2219"><vh>class LazyList</vh>
<v t="ekr.20211016054411.2220"><vh>LazyList.add</vh></v>
<v t="ekr.20211016054411.2221"><vh>LazyList.get</vh></v>
<v t="ekr.20211016054411.2222"><vh>LazyList.delete</vh></v>
</v>
<v t="ekr.20211016054411.2223"><vh>LazyMathItem</vh></v>
<v t="ekr.20211016054411.2224"><vh>constructor</vh></v>
<v t="ekr.20211016054411.2225"><vh>compile</vh></v>
<v t="ekr.20211016054411.2226"><vh>typeset</vh></v>
<v t="ekr.20211016054411.2227"><vh>updateDocument</vh></v>
<v t="ekr.20211016054411.2228"><vh>state</vh></v>
<v t="ekr.20211016054411.2229"><vh>LazyMathDocument</vh></v>
<v t="ekr.20211016054411.2230"><vh>constructor</vh></v>
<v t="ekr.20211016054411.2231"><vh>clearMathItemsWithin</vh></v>
<v t="ekr.20211016054411.2232"><vh>LazyHandler</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2233"><vh>menu</vh>
<v t="ekr.20211016054411.2234"><vh>@@clean Menu.ts</vh>
<v t="ekr.20211016054411.2235"><vh>MenuSettings</vh></v>
<v t="ekr.20211016054411.2236"><vh>class Menu</vh>
<v t="ekr.20211016054411.2237"><vh>Menu.constructor</vh></v>
<v t="ekr.20211016054411.2238"><vh>Menu.checkComponent</vh></v>
<v t="ekr.20211016054411.2239"><vh>Menu.loadA11y</vh></v>
<v t="ekr.20211016054411.2240"><vh>Menu.copyAnnotation</vh></v>
<v t="ekr.20211016054411.2241"><vh>Menu.addMenu</vh></v>
<v t="ekr.20211016054411.2242"><vh>Menu.clear</vh></v>
<v t="ekr.20211016054411.2243"><vh>Menu.submenu</vh></v>
<v t="ekr.20211016054411.2244"><vh>Menu.command</vh></v>
<v t="ekr.20211016054411.2245"><vh>Menu.checkbox</vh></v>
<v t="ekr.20211016054411.2246"><vh>Menu.radioGroup</vh></v>
<v t="ekr.20211016054411.2247"><vh>Menu.radio</vh></v>
<v t="ekr.20211016054411.2248"><vh>Menu.label</vh></v>
<v t="ekr.20211016054411.2249"><vh>Menu.rule</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2250"><vh>@@clean MenuHandler.ts</vh>
<v t="ekr.20211016054411.2251"><vh>MenuMathItem</vh></v>
<v t="ekr.20211016054411.2252"><vh>addMenu</vh></v>
<v t="ekr.20211016054411.2253"><vh>checkLoading</vh></v>
<v t="ekr.20211016054411.2254"><vh>MenuMathDocument</vh></v>
<v t="ekr.20211016054411.2255"><vh>constructor</vh></v>
<v t="ekr.20211016054411.2256"><vh>addMenu</vh></v>
<v t="ekr.20211016054411.2257"><vh>checkLoading</vh></v>
<v t="ekr.20211016054411.2258"><vh>state</vh></v>
<v t="ekr.20211016054411.2259"><vh>updateDocument</vh></v>
<v t="ekr.20211016054411.2260"><vh>MenuHandler</vh></v>
</v>
<v t="ekr.20211016054411.2261"><vh>@@clean MJContextMenu.ts</vh>
<v t="ekr.20211016054411.2262"><vh>class MJContextMenu</vh>
<v t="ekr.20211016054411.2263"><vh>MJContextMenu.post</vh></v>
<v t="ekr.20211016054411.2264"><vh>MJContextMenu.unpost</vh></v>
<v t="ekr.20211016054411.2265"><vh>MJContextMenu.findID</vh></v>
<v t="ekr.20211016054411.2266"><vh>MJContextMenu.dynamicSubmenus</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2267"><vh>@@clean MmlVisitor.ts</vh>
<v t="ekr.20211016054411.2268"><vh>class MmlVisitor</vh>
<v t="ekr.20211016054411.2269"><vh>MmlVisitor.visitTree</vh></v>
<v t="ekr.20211016054411.2270"><vh>MmlVisitor.visitTeXAtomNode</vh></v>
<v t="ekr.20211016054411.2271"><vh>MmlVisitor.visitMathNode</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2272"><vh>@@clean SelectableInfo.ts</vh>
<v t="ekr.20211016054411.2273"><vh>class SelectableInfo</vh>
<v t="ekr.20211016054411.2274"><vh>SelectableInfo.addEvents</vh></v>
<v t="ekr.20211016054411.2275"><vh>SelectableInfo.selectAll</vh></v>
<v t="ekr.20211016054411.2276"><vh>SelectableInfo.copyToClipboard</vh></v>
<v t="ekr.20211016054411.2277"><vh>SelectableInfo.generateHtml</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.2278"><vh>safe</vh>
<v t="ekr.20211016054411.2279"><vh>@@clean safe.ts</vh>
<v t="ekr.20211016054411.2280"><vh>class Safe</vh>
<v t="ekr.20211016054411.2281"><vh>Safe.constructor</vh></v>
<v t="ekr.20211016054411.2282"><vh>Safe.sanitize</vh></v>
<v t="ekr.20211016054411.2283"><vh>Safe.mmlAttribute</vh></v>
<v t="ekr.20211016054411.2284"><vh>Safe.mmlClassList</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2285"><vh>@@clean SafeHandler.ts</vh>
<v t="ekr.20211016054411.2286"><vh>SafeMathDocument</vh></v>
<v t="ekr.20211016054411.2287"><vh>constructor</vh></v>
<v t="ekr.20211016054411.2288"><vh>SafeHandler</vh></v>
</v>
<v t="ekr.20211016054411.2289"><vh>@@clean SafeMethods.ts</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2290"><vh>util</vh>
<v t="ekr.20211016054411.2291"><vh>@@clean AsyncLoad.ts</vh>
<v t="ekr.20211016054411.2292"><vh>asyncLoad</vh></v>
</v>
<v t="ekr.20211016054411.2293"><vh>@@clean BBox.ts</vh>
<v t="ekr.20211016054411.2294"><vh>class BBox</vh>
<v t="ekr.20211016054411.2295"><vh>BBox.zero</vh></v>
<v t="ekr.20211016054411.2296"><vh>BBox.empty</vh></v>
<v t="ekr.20211016054411.2297"><vh>BBox.constructor</vh></v>
<v t="ekr.20211016054411.2298"><vh>BBox.empty</vh></v>
<v t="ekr.20211016054411.2299"><vh>BBox.clean</vh></v>
<v t="ekr.20211016054411.2300"><vh>BBox.rescale</vh></v>
<v t="ekr.20211016054411.2301"><vh>BBox.combine</vh></v>
<v t="ekr.20211016054411.2302"><vh>BBox.append</vh></v>
<v t="ekr.20211016054411.2303"><vh>BBox.updateFrom</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2304"><vh>@@clean BitField.ts</vh>
<v t="ekr.20211016054411.2305"><vh>class BitField</vh>
<v t="ekr.20211016054411.2306"><vh>BitField.allocate</vh></v>
<v t="ekr.20211016054411.2307"><vh>BitField.has</vh></v>
<v t="ekr.20211016054411.2308"><vh>BitField.set</vh></v>
<v t="ekr.20211016054411.2309"><vh>BitField.clear</vh></v>
<v t="ekr.20211016054411.2310"><vh>BitField.isSet</vh></v>
<v t="ekr.20211016054411.2311"><vh>BitField.reset</vh></v>
</v>
<v t="ekr.20211016054411.2312"><vh>BitFieldClass</vh></v>
</v>
<v t="ekr.20211016054411.2313"><vh>@@clean Entities.ts</vh>
<v t="ekr.20211016054411.2314"><vh>add</vh></v>
<v t="ekr.20211016054411.2315"><vh>remove</vh></v>
<v t="ekr.20211016054411.2316"><vh>translate</vh></v>
<v t="ekr.20211016054411.2317"><vh>replace</vh></v>
<v t="ekr.20211016054411.2318"><vh>numeric</vh></v>
</v>
<v t="ekr.20211016054411.2319"><vh>@@clean FunctionList.ts</vh>
<v t="ekr.20211016054411.2320"><vh>class FunctionList</vh>
<v t="ekr.20211016054411.2321"><vh>FunctionList.execute</vh></v>
<v t="ekr.20211016054411.2322"><vh>FunctionList.asyncExecute</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2323"><vh>@@clean lengths.ts</vh>
<v t="ekr.20211016054411.2324"><vh>length2em</vh></v>
<v t="ekr.20211016054411.2325"><vh>percent</vh></v>
<v t="ekr.20211016054411.2326"><vh>em</vh></v>
<v t="ekr.20211016054411.2327"><vh>emRounded</vh></v>
<v t="ekr.20211016054411.2328"><vh>px</vh></v>
</v>
<v t="ekr.20211016054411.2329"><vh>@@clean LinkedList.ts</vh>
<v t="ekr.20211016054411.2330"><vh>class ListItem</vh>
<v t="ekr.20211016054411.2331"><vh>ListItem.constructor</vh></v>
</v>
<v t="ekr.20211016054411.2332"><vh>class LinkedList</vh>
<v t="ekr.20211016054411.2333"><vh>LinkedList.constructor</vh></v>
<v t="ekr.20211016054411.2334"><vh>LinkedList.isBefore</vh></v>
<v t="ekr.20211016054411.2335"><vh>LinkedList.push</vh></v>
<v t="ekr.20211016054411.2336"><vh>LinkedList.pop</vh></v>
<v t="ekr.20211016054411.2337"><vh>LinkedList.unshift</vh></v>
<v t="ekr.20211016054411.2338"><vh>LinkedList.shift</vh></v>
<v t="ekr.20211016054411.2339"><vh>LinkedList.remove</vh></v>
<v t="ekr.20211016054411.2340"><vh>LinkedList.clear</vh></v>
<v t="ekr.20211016054411.2341"><vh>LinkedList.insert</vh></v>
<v t="ekr.20211016054411.2342"><vh>LinkedList.sort</vh></v>
<v t="ekr.20211016054411.2343"><vh>LinkedList.merge</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2344"><vh>@@clean numeric.ts</vh>
<v t="ekr.20211016054411.2345"><vh>sum</vh></v>
<v t="ekr.20211016054411.2346"><vh>max</vh></v>
</v>
<v t="ekr.20211016054411.2347"><vh>@@clean Options.ts</vh>
<v t="ekr.20211016054411.2348"><vh>isObject</vh></v>
<v t="ekr.20211016054411.2349"><vh>expandable</vh></v>
<v t="ekr.20211016054411.2350"><vh>makeArray</vh></v>
<v t="ekr.20211016054411.2351"><vh>keys</vh></v>
<v t="ekr.20211016054411.2352"><vh>copy</vh></v>
<v t="ekr.20211016054411.2353"><vh>insert</vh></v>
<v t="ekr.20211016054411.2354"><vh>defaultOptions</vh></v>
<v t="ekr.20211016054411.2355"><vh>userOptions</vh></v>
<v t="ekr.20211016054411.2356"><vh>selectOptions</vh></v>
<v t="ekr.20211016054411.2357"><vh>selectOptionsFromKeys</vh></v>
<v t="ekr.20211016054411.2358"><vh>separateOptions</vh></v>
<v t="ekr.20211016054411.2359"><vh>lookup</vh></v>
</v>
<v t="ekr.20211016054411.2360"><vh>@@clean PrioritizedList.ts</vh>
<v t="ekr.20211016054411.2361"><vh>PrioritizedListItem</vh></v>
<v t="ekr.20211016054411.2362"><vh>class PrioritizedList</vh>
<v t="ekr.20211016054411.2363"><vh>PrioritizedList.constructor</vh></v>
<v t="ekr.20211016054411.2364"><vh>PrioritizedList.add</vh></v>
<v t="ekr.20211016054411.2365"><vh>PrioritizedList.remove</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2366"><vh>@@clean Retries.ts</vh>
<v t="ekr.20211016054411.2367"><vh>RetryError</vh></v>
<v t="ekr.20211016054411.2368"><vh>handleRetriesFor</vh></v>
<v t="ekr.20211016054411.2369"><vh>retryAfter</vh></v>
</v>
<v t="ekr.20211016054411.2370"><vh>@@clean string.ts</vh>
<v t="ekr.20211016054411.2371"><vh>sortLength</vh></v>
<v t="ekr.20211016054411.2372"><vh>quotePattern</vh></v>
<v t="ekr.20211016054411.2373"><vh>unicodeChars</vh></v>
<v t="ekr.20211016054411.2374"><vh>unicodeString</vh></v>
<v t="ekr.20211016054411.2375"><vh>isPercent</vh></v>
<v t="ekr.20211016054411.2376"><vh>split</vh></v>
</v>
<v t="ekr.20211016054411.2377"><vh>@@clean StyleList.ts</vh>
<v t="ekr.20211016054411.2378"><vh>class CssStyles</vh>
<v t="ekr.20211016054411.2379"><vh>CssStyles.constructor</vh></v>
<v t="ekr.20211016054411.2380"><vh>CssStyles.addStyles</vh></v>
<v t="ekr.20211016054411.2381"><vh>CssStyles.removeStyles</vh></v>
<v t="ekr.20211016054411.2382"><vh>CssStyles.clear</vh></v>
<v t="ekr.20211016054411.2383"><vh>CssStyles.getStyleString</vh></v>
<v t="ekr.20211016054411.2384"><vh>CssStyles.getStyleRules</vh></v>
<v t="ekr.20211016054411.2385"><vh>CssStyles.getStyleDefString</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2386"><vh>@@clean Styles.ts</vh>
<v t="ekr.20211016054411.2387"><vh>splitSpaces</vh>
<v t="ekr.20211016054411.2388"><vh>splitTRBL</vh></v>
<v t="ekr.20211016054411.2389"><vh>combineTRBL</vh></v>
<v t="ekr.20211016054411.2390"><vh>splitSame</vh></v>
<v t="ekr.20211016054411.2391"><vh>combineSame</vh></v>
<v t="ekr.20211016054411.2392"><vh>splitWSC</vh></v>
<v t="ekr.20211016054411.2393"><vh>combineWSC</vh></v>
<v t="ekr.20211016054411.2394"><vh>splitFont</vh></v>
<v t="ekr.20211016054411.2395"><vh>saveFontParts</vh></v>
<v t="ekr.20211016054411.2396"><vh>class Styles</vh>
<v t="ekr.20211016054411.2397"><vh>Styles.constructor</vh></v>
<v t="ekr.20211016054411.2398"><vh>Styles.set</vh></v>
<v t="ekr.20211016054411.2399"><vh>Styles.get</vh></v>
</v>
</v>
</v>
<v t="ekr.20211016054411.2400"><vh>asyncLoad</vh>
<v t="ekr.20211016054411.2401"><vh>@@clean node.ts</vh></v>
<v t="ekr.20211016054411.2402"><vh>@@clean path.d.ts</vh></v>
<v t="ekr.20211016054411.2403"><vh>@@clean system.ts</vh>
<v t="ekr.20211016054411.2404"><vh>setBaseURL</vh></v>
</v>
</v>
<v t="ekr.20211016054411.2405"><vh>entities</vh>
<v t="ekr.20211016054411.2406"><vh>@@clean a.ts</vh></v>
<v t="ekr.20211016054411.2407"><vh>@@clean all.ts</vh></v>
<v t="ekr.20211016054411.2408"><vh>@@clean b.ts</vh></v>
<v t="ekr.20211016054411.2409"><vh>@@clean c.ts</vh></v>
<v t="ekr.20211016054411.2410"><vh>@@clean d.ts</vh></v>
<v t="ekr.20211016054411.2411"><vh>@@clean e.ts</vh></v>
<v t="ekr.20211016054411.2412"><vh>@@clean f.ts</vh></v>
<v t="ekr.20211016054411.2413"><vh>@@clean fr.ts</vh></v>
<v t="ekr.20211016054411.2414"><vh>@@clean g.ts</vh></v>
<v t="ekr.20211016054411.2415"><vh>@@clean h.ts</vh></v>
<v t="ekr.20211016054411.2416"><vh>@@clean i.ts</vh></v>
<v t="ekr.20211016054411.2417"><vh>@@clean j.ts</vh></v>
<v t="ekr.20211016054411.2418"><vh>@@clean k.ts</vh></v>
<v t="ekr.20211016054411.2419"><vh>@@clean l.ts</vh></v>
<v t="ekr.20211016054411.2420"><vh>@@clean m.ts</vh></v>
<v t="ekr.20211016054411.2421"><vh>@@clean n.ts</vh></v>
<v t="ekr.20211016054411.2422"><vh>@@clean o.ts</vh></v>
<v t="ekr.20211016054411.2423"><vh>@@clean opf.ts</vh></v>
<v t="ekr.20211016054411.2424"><vh>@@clean p.ts</vh></v>
<v t="ekr.20211016054411.2425"><vh>@@clean q.ts</vh></v>
<v t="ekr.20211016054411.2426"><vh>@@clean r.ts</vh></v>
<v t="ekr.20211016054411.2427"><vh>@@clean s.ts</vh></v>
<v t="ekr.20211016054411.2428"><vh>@@clean scr.ts</vh></v>
<v t="ekr.20211016054411.2429"><vh>@@clean t.ts</vh></v>
<v t="ekr.20211016054411.2430"><vh>@@clean u.ts</vh></v>
<v t="ekr.20211016054411.2431"><vh>@@clean v.ts</vh></v>
<v t="ekr.20211016054411.2432"><vh>@@clean w.ts</vh></v>
<v t="ekr.20211016054411.2433"><vh>@@clean x.ts</vh></v>
<v t="ekr.20211016054411.2434"><vh>@@clean y.ts</vh></v>
<v t="ekr.20211016054411.2435"><vh>@@clean z.ts</vh></v>
</v>
</v>
</v>
</v>
<v t="ekr.20211016054411.599"></v>
</vnodes>
<tnodes>
<t tx="ekr.20211016054411.1">@language typescript

</t>
<t tx="ekr.20211016054411.10">/**
 * Create a webpack configuration for a distribution file
 *
 * @param {string} name       The name of the component to create
 * @param {string} js         The path to the compiled .js files
 * @param {string[]} libs     Array of paths to component lib directories to link against
 * @param {string} dir        The directory of the component buing built
 * @param {string} dist       The path to the directory where the component .js file will be placed
 *                              (defaults to es5 in the same directory as the js directory)
 */
const PACKAGE = function (name, js, libs, dir, dist) {
  const distDir = dist ? path.resolve(dir, dist) :
                         path.resolve(path.dirname(js), 'es5', path.dirname(name));
  name = path.basename(name);
  return {
    name: name,
    entry: path.join(dir, name + '.js'),
    output: {
      path: distDir,
      filename: name + (dist === '.' ? '.min.js' : '.js')
    },
    target: ['web', 'es5'],  // needed for IE11 and old browsers
    plugins: PLUGINS(js, libs, dir),
    module: MODULE(dir),
    performance: {
      hints: false
    },
    optimization: {
      minimize: true,
      minimizer: [new TerserPlugin({
        extractComments: false,
        terserOptions: {
          output: {
            ascii_only: true
          }
        }
      })]
    },
    mode: 'production'
  };
}

module.exports = PACKAGE;
</t>
<t tx="ekr.20211016054411.100">
import './lib/configmacros.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1000">/**
 * @param {MmlFactory} mmlFactory  The MmlFactory to use for this MathML input jax
 */
public setMmlFactory(mmlFactory: MmlFactory) {
  super.setMmlFactory(mmlFactory);
  this.mathml.setMmlFactory(mmlFactory);
}

/**
 * Don't process strings (process nodes)
 *
 * @override
 */
public get processStrings() {
  return false;
}

</t>
<t tx="ekr.20211016054411.1001">/**
 * Convert a MathItem to internal format:
 *   If there is no existing MathML node, or we are asked to reparse everything
 *     Execute the preFilters on the math
 *     Parse the MathML string in the desired format, and check the result for errors
 *     If we got an HTML document:
 *       Check that it has only one child (the &lt;math&gt; element), and use it
 *     Otherwise
 *       Use the root element from the XML document
 *     If the node is not a &lt;math&gt; node, report the error.
 *   Execute the mmlFilters on the parsed MathML
 *   Compile the MathML to internal format, and execute the postFilters
 *   Return the resulting internal format
 *
 * @override
 */
public compile(math: MathItem&lt;N, T, D&gt;, document: MathDocument&lt;N, T, D&gt;) {
  let mml = math.start.node;
  if (!mml || !math.end.node || this.options['forceReparse'] || this.adaptor.kind(mml) === '#text') {
    let mathml = this.executeFilters(this.preFilters, math, document, math.math || '&lt;math&gt;&lt;/math&gt;');
    let doc = this.checkForErrors(this.adaptor.parse(mathml, 'text/' + this.options['parseAs']));
    let body = this.adaptor.body(doc);
    if (this.adaptor.childNodes(body).length !== 1) {
      this.error('MathML must consist of a single element');
    }
    mml = this.adaptor.remove(this.adaptor.firstChild(body)) as N;
    if (this.adaptor.kind(mml).replace(/^[a-z]+:/, '') !== 'math') {
      this.error('MathML must be formed by a &lt;math&gt; element, not &lt;' + this.adaptor.kind(mml) + '&gt;');
    }
  }
  mml = this.executeFilters(this.mmlFilters, math, document, mml);
  return this.executeFilters(this.postFilters, math, document, this.mathml.compile(mml as N));
}

/**
 * Check a parsed MathML string for errors.
 *
 * @param {D} doc  The document returns from the DOMParser
 * @return {D}     The document
 */
protected checkForErrors(doc: D): D {
  let err = this.adaptor.tags(this.adaptor.body(doc), 'parsererror')[0];
  if (err) {
    if (this.adaptor.textContent(err) === '') {
      this.error('Error processing MathML');
    }
    this.options['parseError'].call(this, err);
  }
  return doc;
}

/**
 * Throw an error
 *
 * @param {string} message  The error message to produce
 */
protected error(message: string) {
  throw new Error(message);
}

</t>
<t tx="ekr.20211016054411.1002">/**
 * @override
 */
public findMath(node: N) {
  return this.findMathML.findMath(node);
}

</t>
<t tx="ekr.20211016054411.1003">


/**
 * @fileoverview  Implements the TeX InputJax object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AbstractInputJax} from '../core/InputJax.js';
import {userOptions, separateOptions, OptionList} from '../util/Options.js';
import {MathDocument} from '../core/MathDocument.js';
import {MathItem} from '../core/MathItem.js';
import {MmlNode} from '../core/MmlTree/MmlNode.js';
import {MmlFactory} from '../core/MmlTree/MmlFactory.js';

import {FindTeX} from './tex/FindTeX.js';

import FilterUtil from './tex/FilterUtil.js';
import NodeUtil from './tex/NodeUtil.js';
import TexParser from './tex/TexParser.js';
import TexError from './tex/TexError.js';
import ParseOptions from './tex/ParseOptions.js';
import {TagsFactory} from './tex/Tags.js';
import {ParserConfiguration} from './tex/Configuration.js';
// Import base as it is the default package loaded.
import './tex/base/BaseConfiguration.js';


/*****************************************************************/
/*
 *  Implements the TeX class (extends AbstractInputJax)
 */

/**
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1004">export class TeX&lt;N, T, D&gt; extends AbstractInputJax&lt;N, T, D&gt; {

  /**
   * Name of input jax.
   * @type {string}
   */
  public static NAME: string = 'TeX';

  /**
   * Default options for the jax.
   * @type {OptionList}
   */
  public static OPTIONS: OptionList = {
    ...AbstractInputJax.OPTIONS,
    FindTeX: null,
    packages: ['base'],
    // Digit pattern to match numbers.
    digits: /^(?:[0-9]+(?:\{,\}[0-9]{3})*(?:\.[0-9]*)?|\.[0-9]+)/,
    // Maximum size of TeX string to process.
    maxBuffer: 5 * 1024,
    formatError: (jax: TeX&lt;any, any, any&gt;, err: TexError) =&gt; jax.formatError(err)
  };

  /**
   * The FindTeX instance used for locating TeX in strings
   */
  protected findTeX: FindTeX&lt;N, T, D&gt;;

  /**
   * The configuration of the TeX jax.
   * @type {ParserConfiguration}
   */
  protected configuration: ParserConfiguration;

  /**
   * The LaTeX code that is parsed.
   * @type {string}
   */
  protected latex: string;

  /**
   * The Math node that results from parsing.
   * @type {MmlNode}
   */
  protected mathNode: MmlNode;

  private _parseOptions: ParseOptions;

  /**
   * Initialises the configurations.
   * @param {string[]} packages Names of packages.
   * @return {Configuration} The configuration object.
   */
  protected static configure(packages: (string | [string, number])[]): ParserConfiguration {
    let configuration = new ParserConfiguration(packages, ['tex']);
    configuration.init();
    return configuration;
  }


  /**
   * Initialises the Tags factory. Add tagging structures from packages and set
   * tagging to given default.
   * @param {ParseOptions} options The parse options.
   * @param {Configuration} configuration The configuration.
   */
  protected static tags(options: ParseOptions, configuration: ParserConfiguration) {
    TagsFactory.addTags(configuration.tags);
    TagsFactory.setDefault(options.options.tags);
    options.tags = TagsFactory.getDefault();
    options.tags.configuration = options;
  }


  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1005">constructor(options: OptionList = {}) {
  const [rest, tex, find] = separateOptions(options, TeX.OPTIONS, FindTeX.OPTIONS);
  super(tex);
  this.findTeX = this.options['FindTeX'] || new FindTeX(find);
  const packages = this.options.packages;
  const configuration = this.configuration = TeX.configure(packages);
  const parseOptions = this._parseOptions =
    new ParseOptions(configuration, [this.options, TagsFactory.OPTIONS]);
  userOptions(parseOptions.options, rest);
  configuration.config(this);
  TeX.tags(parseOptions, configuration);
  this.postFilters.add(FilterUtil.cleanSubSup, -6);
  this.postFilters.add(FilterUtil.setInherited, -5);
  this.postFilters.add(FilterUtil.moveLimits, -4);
  this.postFilters.add(FilterUtil.cleanStretchy, -3);
  this.postFilters.add(FilterUtil.cleanAttributes, -2);
  this.postFilters.add(FilterUtil.combineRelations, -1);
}

</t>
<t tx="ekr.20211016054411.1006">/**
 * @override
 */
public setMmlFactory(mmlFactory: MmlFactory) {
  super.setMmlFactory(mmlFactory);
  this._parseOptions.nodeFactory.setMmlFactory(mmlFactory);
}


/**
 * @return {ParseOptions} The parse options that configure this JaX instance.
 */
public get parseOptions(): ParseOptions {
  return this._parseOptions;
}

</t>
<t tx="ekr.20211016054411.1007">/**
 * @override
 */
public reset(tag: number = 0) {
  this.parseOptions.tags.reset(tag);
}


</t>
<t tx="ekr.20211016054411.1008">/**
 * @override
 */
public compile(math: MathItem&lt;N, T, D&gt;, document: MathDocument&lt;N, T, D&gt;): MmlNode {
  this.parseOptions.clear();
  this.executeFilters(this.preFilters, math, document, this.parseOptions);
  let display = math.display;
  this.latex = math.math;
  let node: MmlNode;
  this.parseOptions.tags.startEquation(math);
  let globalEnv;
  try {
    let parser = new TexParser(this.latex,
                               {display: display, isInner: false},
                               this.parseOptions);
    node = parser.mml();
    globalEnv = parser.stack.global;
  } catch (err) {
    if (!(err instanceof TexError)) {
      throw err;
    }
    this.parseOptions.error = true;
    node = this.options.formatError(this, err);
  }
  node = this.parseOptions.nodeFactory.create('node', 'math', [node]);
  if (globalEnv?.indentalign) {
    NodeUtil.setAttribute(node, 'indentalign', globalEnv.indentalign);
  }
  if (display) {
    NodeUtil.setAttribute(node, 'display', 'block');
  }
  this.parseOptions.tags.finishEquation(math);
  this.parseOptions.root = node;
  this.executeFilters(this.postFilters, math, document, this.parseOptions);
  this.mathNode = this.parseOptions.root;
  return this.mathNode;
}


</t>
<t tx="ekr.20211016054411.1009">/**
 * @override
 */
public findMath(strings: string[]) {
  return this.findTeX.findMath(strings);
}

</t>
<t tx="ekr.20211016054411.101">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/configmacros',// the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex/extensions/newcommand/lib',
    'components/src/input/tex-base/lib',
    'components/src/core/lib',
    'components/src/startup/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1010">/**
 * Default formatter for error messages:
 *   wrap an error into a node for output.
 * @param {TeXError} err The TexError.
 * @return {Node} The merror node.
 */
public formatError(err: TexError): MmlNode {
  let message = err.message.replace(/\n.*/, '');
  return this.parseOptions.nodeFactory.create(
    'error', message, err.id, this.latex);
}

</t>
<t tx="ekr.20211016054411.1011"></t>
<t tx="ekr.20211016054411.1012">


/**
 * @fileoverview  Implements the AsciiMath version of the FindMath object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AbstractFindMath} from '../../core/FindMath.js';
import {OptionList} from '../../util/Options.js';
import {quotePattern} from '../../util/string.js';
import {ProtoItem, protoItem} from '../../core/MathItem.js';

/**
 * Shorthand types for data about end delimiters and delimiter pairs
 */
export type EndItem = [string, boolean, RegExp];
export type Delims = [string, string];

/*****************************************************************/
/**
 *  Implements the FindAsciiMath class (extends AbstractFindMath)
 *
 *  Locates AsciiMath expressions within strings
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1013">export class FindAsciiMath&lt;N, T, D&gt; extends AbstractFindMath&lt;N, T, D&gt; {

  /**
   * @override
   */
  public static OPTIONS: OptionList = {
    delimiters: [['`', '`']],   // The start/end delimiter pairs for asciimath code
  };

  /**
   * The regular expression for any starting delimiter
   */
  protected start: RegExp;

  /**
   * The end-delimiter data keyed to the opening delimiter string
   */
  protected end: {[name: string]: EndItem};

  /**
   * False if the configuration has no delimiters (so search can be skipped), true otherwise
   */
  protected hasPatterns: boolean;

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1014">constructor(options: OptionList) {
  super(options);
  this.getPatterns();
}

/**
 * Create the patterns needed for searching the strings for AsciiMath
 *   based on the configuration options
 */
protected getPatterns() {
  let options = this.options;
  let starts: string[] = [];
  this.end = {};
  options['delimiters'].forEach((delims: Delims) =&gt; this.addPattern(starts, delims, false));
  this.start = new RegExp(starts.join('|'), 'g');
  this.hasPatterns = (starts.length &gt; 0);
}

/**
 * Add the needed patterns for a pair of delimiters
 *
 * @param {string[]} starts  Array of starting delimiter strings
 * @param {Delims} delims    Array of delimiter strings, as [start, end]
 * @param {boolean} display  True if the delimiters are for display mode
 */
protected addPattern(starts: string[], delims: Delims, display: boolean) {
  let [open, close] = delims;
  starts.push(quotePattern(open));
  this.end[open] = [close, display, new RegExp(quotePattern(close), 'g')];
}

/**
 * Search for the end delimiter given the start delimiter.
 *
 * @param {string} text            The string being searched for the end delimiter
 * @param {number} n               The index of the string being searched
 * @param {RegExpExecArray} start  The result array from the start-delimiter search
 * @param {EndItem} end            The end-delimiter data corresponding to the start delimiter
 * @return {ProtoItem}             The proto math item for the math, if found
 */
protected findEnd(text: string, n: number, start: RegExpExecArray, end: EndItem): ProtoItem&lt;N, T&gt; {
  let [ , display, pattern] = end;
  let i = pattern.lastIndex = start.index + start[0].length;
  let match = pattern.exec(text);
  return (!match ? null : protoItem&lt;N, T&gt;(start[0], text.substr(i, match.index - i), match[0],
                                          n, start.index, match.index + match[0].length, display));
}

/**
 * Search a string for math delimited by one of the delimiter pairs.
 *
 * @param {ProtoItem[]} math  The array of proto math items located so far
 * @param {number} n          The index of the string being searched
 * @param {string} text       The string being searched
 */
protected findMathInString(math: ProtoItem&lt;N, T&gt;[], n: number, text: string) {
  let start, match;
  this.start.lastIndex = 0;
  while ((start = this.start.exec(text))) {
    match = this.findEnd(text, n, start, this.end[start[0]]);
    if (match) {
      math.push(match);
      this.start.lastIndex = match.end.n;
    }
  }
}

</t>
<t tx="ekr.20211016054411.1015">/**
 * Search for math in an array of strings and return an array of matches.
 *
 * @override
 */
public findMath(strings: string[]) {
  let math: ProtoItem&lt;N, T&gt;[] = [];
  if (this.hasPatterns) {
    for (let i = 0, m = strings.length; i &lt; m; i++) {
      this.findMathInString(math, i, strings[i]);
    }
  }
  return math;
}

</t>
<t tx="ekr.20211016054411.1016"></t>
<t tx="ekr.20211016054411.1017"></t>
<t tx="ekr.20211016054411.1018">
export var LegacyAsciiMath: any;
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1019">
MathJax = Object.assign(global.MathJax || {}, require("../legacy/MathJax.js").MathJax);

//
//  Load component-based configuration, if any
//
if (MathJax.config &amp;&amp; MathJax.config.asciimath) {
  MathJax.Hub.Config({AsciiMath: MathJax.config.asciimath});
}

MathJax.Ajax.Preloading(
  "[MathJax]/jax/input/AsciiMath/config.js",
  "[MathJax]/jax/input/AsciiMath/jax.js",
  "[MathJax]/jax/element/mml/jax.js"
);

require("../legacy/jax/element/mml/jax.js");
require("../legacy/jax/input/AsciiMath/config.js");
require("../legacy/jax/input/AsciiMath/jax.js");

require("../legacy/jax/element/MmlNode.js");

var MmlFactory = require("../../../../core/MmlTree/MmlFactory.js").MmlFactory;
var factory = new MmlFactory();

exports.LegacyAsciiMath = {
  Compile: function (am,display) {
    var script = {
      type: "math/asciimath",
      innerText: am,
      MathJax: {}
    };
    var node = MathJax.InputJax.AsciiMath.Translate(script).root.toMmlNode(factory);
    node.setInheritedAttributes({}, display, 0, false);
    return node;
  },
  Translate: function (am,display) {
    return this.Compile(am,display);
  }
};
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.102"></t>
<t tx="ekr.20211016054411.1020"></t>
<t tx="ekr.20211016054411.1021">
var MathJax = {debug:true};

var window = {
  MathJax: MathJax
};
var navigator = {};
var document = null;

exports.MathJax = MathJax;

@others
@language javascript
@tabwidth -4
@ignore
</t>
<t tx="ekr.20211016054411.1022">(function (BASENAME) {
  var BASE = window[BASENAME];
  if (!BASE) {BASE = window[BASENAME] = {}}

  var PROTO = [];  // a static object used to indicate when a prototype is being created
  @others
})("MathJax");

/**********************************************************/

/*
 *  Create a callback function from various forms of data:
 *  
 *     MathJax.Callback(fn)    -- callback to a function
 *
 *     MathJax.Callback([fn])  -- callback to function
 *     MathJax.Callback([fn,data...])
 *                             -- callback to function with given data as arguments
 *     MathJax.Callback([object,fn])
 *                             -- call fn with object as "this"
 *     MathJax.Callback([object,fn,data...])
 *                             -- call fn with object as "this" and data as arguments
 *     MathJax.Callback(["method",object])
 *                             -- call method of object wth object as "this"
 *     MathJax.Callback(["method",object,data...])
 *                             -- as above, but with data as arguments to method
 *
 *     MathJax.Callback({hook: fn, data: [...], object: this})
 *                             -- give function, data, and object to act as "this" explicitly
 *
 *     MathJax.Callback("code")  -- callback that compiles and executes a string
 *
 *     MathJax.Callback([...],i)
 *                             -- use slice of array starting at i and interpret
 *                                result as above.  (Used for passing "arguments" array
 *                                and trimming initial arguments, if any.)
 */

/*
 *    MathJax.Callback.After([...],cb1,cb2,...)
 *                             -- make a callback that isn't called until all the other
 *                                ones are called first.  I.e., wait for a union of
 *                                callbacks to occur before making the given callback.
 */

/*
 *  MathJax.Callback.Queue([callback,...])
 *                             -- make a synchronized queue of commands that process
 *                                sequentially, waiting for those that return uncalled
 *                                callbacks.
 */

</t>
<t tx="ekr.20211016054411.1023">var OBJECT = function (def) {
  var obj = def.constructor; if (!obj) {obj = function () {}}
  for (var id in def) {if (id !== 'constructor' &amp;&amp; def.hasOwnProperty(id)) {obj[id] = def[id]}}
  return obj;
};
</t>
<t tx="ekr.20211016054411.1024">var CONSTRUCTOR = function () {
  return function () {return arguments.callee.Init.call(this,arguments)};
};

BASE.Object = OBJECT({
  constructor: CONSTRUCTOR(),

  Subclass: function (def,classdef) {
    var obj = CONSTRUCTOR();
    obj.SUPER = this; obj.Init = this.Init;
    obj.Subclass = this.Subclass; obj.Augment = this.Augment;
    obj.protoFunction = this.protoFunction;
    obj.can = this.can; obj.has = this.has; obj.isa = this.isa;
    obj.prototype = new this(PROTO);
    obj.prototype.constructor = obj;  // the real constructor
    obj.Augment(def,classdef);
    return obj;
  },

  Init: function (args) {
    var obj = this;
    if (args.length === 1 &amp;&amp; args[0] === PROTO) {return obj}
    if (!(obj instanceof args.callee)) {obj = new args.callee(PROTO)}
    return obj.Init.apply(obj,args) || obj;
  },

  Augment: function (def,classdef) {
    var id;
    if (def != null) {
      for (id in def) {if (def.hasOwnProperty(id)) {this.protoFunction(id,def[id])}}
      // MSIE doesn't list toString even if it is not native so handle it separately
      if (def.toString !== this.prototype.toString &amp;&amp; def.toString !== {}.toString)
        {this.protoFunction('toString',def.toString)}
    }
    if (classdef != null) {
      for (id in classdef) {if (classdef.hasOwnProperty(id)) {this[id] = classdef[id]}}
    }
    return this;
  },

  protoFunction: function (id,def) {
    this.prototype[id] = def;
    if (typeof def === "function") {def.SUPER = this.SUPER.prototype}
  },

  prototype: {
    Init: function () {},
    SUPER: function (fn) {return fn.callee.SUPER},
    can: function (method) {return typeof(this[method]) === "function"},
    has: function (property) {return typeof(this[property]) !== "undefined"},
    isa: function (obj) {return (obj instanceof Object) &amp;&amp; (this instanceof obj)}
  },

  can: function (method)   {return this.prototype.can.call(this,method)},
  has: function (property) {return this.prototype.has.call(this,property)},
  isa: function (obj) {
    var constructor = this;
    while (constructor) {
      if (constructor === obj) {return true} else {constructor = constructor.SUPER}
    }
    return false;
  },


  SimpleSUPER: OBJECT({
    constructor: function (def) {return this.SimpleSUPER.define(def)},

    define: function (src) {
  var dst = {};
  if (src != null) {
        for (var id in src) {if (src.hasOwnProperty(id)) {dst[id] = this.wrap(id,src[id])}}
    // MSIE doesn't list toString even if it is not native so handle it separately
        if (src.toString !== this.prototype.toString &amp;&amp; src.toString !== {}.toString)
          {dst.toString = this.wrap('toString',src.toString)}
  }
  return dst;
    },

    wrap: function (id,f) {
      if (typeof(f) !== 'function' || !f.toString().match(/\.\s*SUPER\s*\(/)) {return f}
</t>
<t tx="ekr.20211016054411.1025">      var fn = function () {
        this.SUPER = fn.SUPER[id];
        try {var result = f.apply(this,arguments)} catch (err) {delete this.SUPER; throw err}
        delete this.SUPER;
        return result;
      }
      fn.toString = function () {return f.toString.apply(f,arguments)}
      return fn;
    }

  })
});

BASE.Object.isArray = Array.isArray || function (obj) {
  return Object.prototype.toString.call(obj) === "[object Array]";
};

BASE.Object.Array = Array;

</t>
<t tx="ekr.20211016054411.1026">/*
 *  MathJax.Callback.Signal(name)
 *                             -- finds or creates a names signal, to which listeners
 *                                can be attached and are signaled by messages posted
 *                                to the signal.  Responses can be asynchronous.
 */
(function (BASENAME) {
  var BASE = window[BASENAME];
  if (!BASE) {BASE = window[BASENAME] = {}}
  //
  //  Create a callback from an associative array
  //
  @others
})("MathJax");


</t>
<t tx="ekr.20211016054411.1027">var CALLBACK = function (data) {
  var cb = function () {return arguments.callee.execute.apply(arguments.callee,arguments)};
  for (var id in CALLBACK.prototype) {
    if (CALLBACK.prototype.hasOwnProperty(id)) {
      if (typeof(data[id]) !== 'undefined') {cb[id] = data[id]}
                                       else {cb[id] = CALLBACK.prototype[id]}
    }
  }
  cb.toString = CALLBACK.prototype.toString;
  return cb;
};
CALLBACK.prototype = {
  isCallback: true,
  hook: function () {},
  data: [],
  object: window,
  execute: function () {
    if (!this.called || this.autoReset) {
      this.called = !this.autoReset;
      return this.hook.apply(this.object,this.data.concat([].slice.call(arguments,0)));
    }
  },
  reset: function () {delete this.called},
  toString: function () {return this.hook.toString.apply(this.hook,arguments)}
};
</t>
<t tx="ekr.20211016054411.1028">var ISCALLBACK = function (f) {
  return (typeof(f) === "function" &amp;&amp; f.isCallback);
}

//
//  Evaluate a string in global context
//
var EVAL = function (code) {return eval.call(window,code)}
</t>
<t tx="ekr.20211016054411.1029">var TESTEVAL = function () {
  EVAL("var __TeSt_VaR__ = 1"); // check if it works in global context
  if (window.__TeSt_VaR__) {
    try { delete window.__TeSt_VaR__; } // NOTE IE9 throws when in IE7 mode
    catch (error) { window.__TeSt_VaR__ = null; } 
  } else {
    if (window.execScript) {
      // IE
      @others
}

//
//  Create a callback from various types of data
</t>
<t tx="ekr.20211016054411.103">
import './lib/empheq.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1030">  EVAL = function (code) {
    BASE.__code = code;
    code = "try {"+BASENAME+".__result = eval("+BASENAME+".__code)} catch(err) {"+BASENAME+".__result = err}";
    window.execScript(code);
    var result = BASE.__result; delete BASE.__result; delete BASE.__code;
    if (result instanceof Error) {throw result}
    return result;
  }
} else {
</t>
<t tx="ekr.20211016054411.1031">  // Safari2
    EVAL = function (code) {
      BASE.__code = code;
      code = "try {"+BASENAME+".__result = eval("+BASENAME+".__code)} catch(err) {"+BASENAME+".__result = err}";
      var head = (document.getElementsByTagName("head"))[0]; if (!head) {head = document.body}
      var script = document.createElement("script");
      script.appendChild(document.createTextNode(code));
      head.appendChild(script); head.removeChild(script);
      var result = BASE.__result; delete BASE.__result; delete BASE.__code;
      if (result instanceof Error) {throw result}
      return result;
    }
  }
}
TESTEVAL = null;
</t>
<t tx="ekr.20211016054411.1032">//
var USING = function (args,i) {
  if (arguments.length &gt; 1) {
    if (arguments.length === 2 &amp;&amp; !(typeof arguments[0] === 'function') &amp;&amp;
        arguments[0] instanceof Object &amp;&amp; typeof arguments[1] === 'number')
          {args = [].slice.call(args,i)}
    else {args = [].slice.call(arguments,0)}
  }
  if (args instanceof Array &amp;&amp; args.length === 1) {args = args[0]}
  if (typeof args === 'function') {
    if (args.execute === CALLBACK.prototype.execute) {return args}
    return CALLBACK({hook: args});
  } else if (args instanceof Array) {
    if (typeof(args[0]) === 'string' &amp;&amp; args[1] instanceof Object &amp;&amp;
               typeof args[1][args[0]] === 'function') {
      return CALLBACK({hook: args[1][args[0]], object: args[1], data: args.slice(2)});
    } else if (typeof args[0] === 'function') {
      return CALLBACK({hook: args[0], data: args.slice(1)});
    } else if (typeof args[1] === 'function') {
      return CALLBACK({hook: args[1], object: args[0], data: args.slice(2)});
    }
  } else if (typeof(args) === 'string') {
    if (TESTEVAL) TESTEVAL();
    return CALLBACK({hook: EVAL, data: [args]});
  } else if (args instanceof Object) {
    return CALLBACK(args);
  } else if (typeof(args) === 'undefined') {
    return CALLBACK({});
  }
  throw Error("Can't make callback from given data");
};

//
//  Wait for a given time to elapse and then perform the callback
</t>
<t tx="ekr.20211016054411.1033">//
var DELAY = function (time,callback) {
  callback = USING(callback);
  callback.timeout = setTimeout(callback,time);
  return callback;
};

//
//  Callback used by AFTER, QUEUE, and SIGNAL to check if calls have completed
</t>
<t tx="ekr.20211016054411.1034">//
var WAITFOR = function (callback,signal) {
  callback = USING(callback);
  if (!callback.called) {WAITSIGNAL(callback,signal); signal.pending++}
};
</t>
<t tx="ekr.20211016054411.1035">var WAITEXECUTE = function () {
  var signals = this.signal; delete this.signal;
  this.execute = this.oldExecute; delete this.oldExecute;
  var result = this.execute.apply(this,arguments);
  if (ISCALLBACK(result) &amp;&amp; !result.called) {WAITSIGNAL(result,signals)} else {
    for (var i = 0, m = signals.length; i &lt; m; i++) {
      signals[i].pending--;
      if (signals[i].pending &lt;= 0) {signals[i].call()}
    }
  }
};
</t>
<t tx="ekr.20211016054411.1036">var WAITSIGNAL = function (callback,signals) {
  if (!(signals instanceof Array)) {signals = [signals]}
  if (!callback.signal) {
    callback.oldExecute = callback.execute;
    callback.execute = WAITEXECUTE;
    callback.signal = signals;
  } else if (signals.length === 1) {callback.signal.push(signals[0])}
    else {callback.signal = callback.signal.concat(signals)}
};

//
//  Create a callback that is called when a collection of other callbacks have
//  all been executed.  If the callback gets called immediately (i.e., the
//  others are all already called), check if it returns another callback
//  and return that instead.
</t>
<t tx="ekr.20211016054411.1037">//
var AFTER = function (callback) {
  callback = USING(callback);
  callback.pending = 0;
  for (var i = 1, m = arguments.length; i &lt; m; i++)
    {if (arguments[i]) {WAITFOR(arguments[i],callback)}}
  if (callback.pending === 0) {
    var result = callback();
    if (ISCALLBACK(result)) {callback = result}
  }
  return callback;
};

//
//  An array of prioritized hooks that are executed sequentially
//  with a given set of data.
//
var HOOKS = MathJax.Object.Subclass({
  //
  //  Initialize the array and the auto-reset status
  //
  Init: function (reset) {
    this.hooks = [];
    this.remove = []; // used when hooks are removed during execution of list
    this.reset = reset;
    this.running = false;
  },
  //
  //  Add a callback to the list, in priority order (default priority is 10)
  //
  Add: function (hook,priority) {
    if (priority == null) {priority = 10}
    if (!ISCALLBACK(hook)) {hook = USING(hook)}
    hook.priority = priority;
    var i = this.hooks.length;
    while (i &gt; 0 &amp;&amp; priority &lt; this.hooks[i-1].priority) {i--}
    this.hooks.splice(i,0,hook);
    return hook;
  },
  Remove: function (hook) {
    for (var i = 0, m = this.hooks.length; i &lt; m; i++) {
      if (this.hooks[i] === hook) {
        if (this.running) {this.remove.push(i)}
          else {this.hooks.splice(i,1)}
        return;
      }
    }
  },
  //
  //  Execute the list of callbacks, resetting them if requested.
  //  If any return callbacks, return a callback that will be 
  //  executed when they all have completed.
  //  Remove any hooks that requested being removed during processing.
  //
  Execute: function () {
    var callbacks = [{}];
    this.running = true;
    for (var i = 0, m = this.hooks.length; i &lt; m; i++) {
      if (this.reset) {this.hooks[i].reset()}
      var result = this.hooks[i].apply(window,arguments);
      if (ISCALLBACK(result) &amp;&amp; !result.called) {callbacks.push(result)}
    }
    this.running = false;
    if (this.remove.length) {this.RemovePending()}
    if (callbacks.length === 1) {return null}
    if (callbacks.length === 2) {return callbacks[1]}
    return AFTER.apply({},callbacks);
  },
  //
  //  Remove hooks that asked to be removed during execution of list
  //
  RemovePending: function () {
    this.remove = this.remove.sort();
    for (var i = this.remove.length-1; i &gt;= 0; i--) {this.hooks.splice(i,1)}
    this.remove = [];
  }

});

//
//  Run an array of callbacks passing them the given data.
//  (Legacy function, since this has been replaced by the HOOKS object).
</t>
<t tx="ekr.20211016054411.1038">//
var EXECUTEHOOKS = function (hooks,data,reset) {
  if (!hooks) {return null}
  if (!(hooks instanceof Array)) {hooks = [hooks]}
  if (!(data instanceof Array))  {data = (data == null ? [] : [data])}
  var handler = HOOKS(reset);
  for (var i = 0, m = hooks.length; i &lt; m; i++) {handler.Add(hooks[i])}
  return handler.Execute.apply(handler,data);
};

//
//  Command queue that performs commands in order, waiting when
//  necessary for commands to complete asynchronousely
//
var QUEUE = BASE.Object.Subclass({
  //
  //  Create the queue and push any commands that are specified
  //
  Init: function () {
    this.pending = this.running = 0;
    this.queue = [];
    this.Push.apply(this,arguments);
  },
  //
  //  Add commands to the queue and run them. Adding a callback object
  //  (rather than a callback specification) queues a wait for that callback.
  //  Return the final callback for synchronization purposes.
  //
  Push: function () {
    var callback;
    for (var i = 0, m = arguments.length; i &lt; m; i++) {
      callback = USING(arguments[i]);
      if (callback === arguments[i] &amp;&amp; !callback.called)
        {callback = USING(["wait",this,callback])}
      this.queue.push(callback);
    }
    if (!this.running &amp;&amp; !this.pending) {this.Process()}
    return callback;
  },
  //
  //  Process the command queue if we aren't waiting on another command
  //
  Process: function (queue) {
    while (!this.running &amp;&amp; !this.pending &amp;&amp; this.queue.length) {
      var callback = this.queue[0];
      queue = this.queue.slice(1); this.queue = [];
      this.Suspend(); var result = callback(); this.Resume();
      if (queue.length) {this.queue = queue.concat(this.queue)}
      if (ISCALLBACK(result) &amp;&amp; !result.called) {WAITFOR(result,this)}
    }
  },
  //
  //  Suspend/Resume command processing on this queue
  //
  Suspend: function () {this.running++},
  Resume: function () {if (this.running) {this.running--}},
  //
  //  Used by WAITFOR to restart the queue when an action completes
  //
  call: function () {this.Process.apply(this,arguments)},
  wait: function (callback) {return callback}
});

//
//  Create a named signal that listeners can attach to, to be signaled by
//  postings made to the signal.  Posts are queued if they occur while one
//  is already in process.
//
var SIGNAL = QUEUE.Subclass({
  Init: function (name) {
    QUEUE.prototype.Init.call(this);
    this.name = name;
    this.posted = [];              // the messages posted so far
    this.listeners = HOOKS(true);  // those with interest in this signal
    this.posting = false;
    this.callback = null;
  },
  //
  // Post a message to the signal listeners, with callback for when complete
  //
  Post: function (message,callback,forget) {
    callback = USING(callback);
    if (this.posting || this.pending) {
      this.Push(["Post",this,message,callback,forget]);
    } else {
      this.callback = callback; callback.reset();
      if (!forget) {this.posted.push(message)}
      this.Suspend(); this.posting = true;
      var result = this.listeners.Execute(message);
      if (ISCALLBACK(result) &amp;&amp; !result.called) {WAITFOR(result,this)}
      this.Resume(); this.posting = false;
      if (!this.pending) {this.call()}
    }
    return callback;
  },
  //
  //  Clear the post history (so new listeners won't get old messages)
  //
  Clear: function (callback) {
    callback = USING(callback);
    if (this.posting || this.pending) {
      callback = this.Push(["Clear",this,callback]);
    } else {
      this.posted = [];
      callback();
    }
    return callback;
  },
  //
  //  Call the callback (all replies are in) and process the command queue
  //
  call: function () {this.callback(this); this.Process()},

  //
  //  A listener calls this to register interest in the signal (so it will be called
  //  when posts occur).  If ignorePast is true, it will not be sent the post history.
  //
  Interest: function (callback,ignorePast,priority) {
    callback = USING(callback);
    this.listeners.Add(callback,priority);
    if (!ignorePast) {
      for (var i = 0, m = this.posted.length; i &lt; m; i++) {
        callback.reset();
        var result = callback(this.posted[i]);
        if (ISCALLBACK(result) &amp;&amp; i === this.posted.length-1) {WAITFOR(result,this)}
      }
    }
    return callback;
  },
  //
  //  A listener calls this to remove itself from a signal
  //
  NoInterest: function (callback) {
    this.listeners.Remove(callback);
  },

  //
  //  Hook a callback to a particular message on this signal
  //
  MessageHook: function (msg,callback,priority) {
    callback = USING(callback);
    if (!this.hooks) {this.hooks = {}; this.Interest(["ExecuteHooks",this])}
    if (!this.hooks[msg]) {this.hooks[msg] = HOOKS(true)}
    this.hooks[msg].Add(callback,priority);
    for (var i = 0, m = this.posted.length; i &lt; m; i++)
      {if (this.posted[i] == msg) {callback.reset(); callback(this.posted[i])}}
    callback.msg = msg; // keep track so we can remove it
    return callback;
  },
  //
  //  Execute the message hooks for the given message
  //
  ExecuteHooks: function (msg) {
    var type = ((msg instanceof Array) ? msg[0] : msg);
    if (!this.hooks[type]) {return null}
    return this.hooks[type].Execute(msg);
  },
  //
  //  Remove a hook safely
  //
  RemoveHook: function (hook) {
    this.hooks[hook.msg].Remove(hook);
  }

},{
  signals: {},  // the named signals
  find: function (name) {
    if (!SIGNAL.signals[name]) {SIGNAL.signals[name] = new SIGNAL(name)}
    return SIGNAL.signals[name];
  }
});

//
//  The main entry-points
//
BASE.Callback = BASE.CallBack = USING;
BASE.Callback.Delay = DELAY;
BASE.Callback.After = AFTER;
BASE.Callback.Queue = QUEUE;
BASE.Callback.Signal = SIGNAL.find;
BASE.Callback.Hooks = HOOKS;
BASE.Callback.ExecuteHooks = EXECUTEHOOKS;
</t>
<t tx="ekr.20211016054411.1039"></t>
<t tx="ekr.20211016054411.104">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'empheq',            // the package to build
  '../../../../../js', // location of the compiled js files
  [                    // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname            // our directory
);

@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1040">  var HEAD = function (head) {
    return null;
/*
    if (document.styleSheets &amp;&amp; document.styleSheets.length &gt; sheets)
      {sheets = document.styleSheets.length}
    if (!head) {
      head = document.head || ((document.getElementsByTagName("head"))[0]);
      if (!head) {head = document.body}
    }
    return head;
*/
  };

  //
  //  Remove scripts that are completed so they don't clutter up the HEAD.
  //  This runs via setTimeout since IE7 can't remove the script while it is running.
  //
  var SCRIPTS = [];  // stores scripts to be removed after a delay
</t>
<t tx="ekr.20211016054411.1041">var REMOVESCRIPTS = function () {
  for (var i = 0, m = SCRIPTS.length; i &lt; m; i++) {BASE.Ajax.head.removeChild(SCRIPTS[i])}
  SCRIPTS = [];
};

var PATH = {};
PATH[BASENAME] = "";  // empty path gets the root URL

BASE.Ajax = {
  loaded: {},         // files already loaded
  loading: {},        // files currently in process of loading
  loadHooks: {},      // hooks to call when files are loaded
  timeout: 15*1000,   // timeout for loading of files (15 seconds)
  styleDelay: 1,      // delay to use before styles are available
  config: {
    root: "",         // URL of root directory to load from
    path: PATH        // paths to named URL's (e.g., [MathJax]/...)
  },

  STATUS: {
    OK: 1,         // file is loading or did load OK
    ERROR: -1      // file timed out during load
  },

  //
  //  Return a complete URL to a file (replacing any root names)
  //
  fileURL: function (file) {
    var match = file.match(/^\[([-._a-z0-9]+)\]/i);
    if (match &amp;&amp; match[1] in PATH)
      {file = (PATH[match[1]]||this.config.root) + file.substr(match[1].length+2)}
    return file;
  },
  //
  //  Replace root names if URL includes one
  //
  fileName: function (url) {
    var root = this.config.root;
    if (url.substr(0,root.length) === root) {url = "["+BASENAME+"]"+url.substr(root.length)}
    else {
      for (var id in PATH) {if (PATH.hasOwnProperty(id) &amp;&amp; PATH[id]) {
        if (url.substr(0,PATH[id].length) === PATH[id])
          {url = "["+id+"]"+url.substr(PATH[id].length); break}
      }}
    }
    return url;
  },
  //
  //  Cache-breaking revision number for file
  //
  fileRev: function (file) {
    var rev = BASE.cdnFileVersions[name] || BASE.cdnVersion;
    if (rev) {rev = "?rev="+rev}
    return rev;
  },
  urlRev: function (file) {return this.fileURL(file)+this.fileRev(file)},

  //
  //  Load a file if it hasn't been already.
  //  Make sure the file URL is "safe"?
  //
  Require: function (file,callback) {
    callback = BASE.Callback(callback); var type;
    if (file instanceof Object) {
      for (var i in file)
        {if (file.hasOwnProperty(i)) {type = i.toUpperCase(); file = file[i]}}
    } else {type = file.split(/\./).pop().toUpperCase()}
    file = this.fileURL(file);
    // FIXME: check that URL is OK
    if (this.loaded[file]) {
      callback(this.loaded[file]);
    } else {
      var FILE = {}; FILE[type] = file;
      this.Load(FILE,callback);
    }
    return callback;
  },

  //
  //  Load a file regardless of where it is and whether it has
  //  already been loaded.
  //
  Load: function (file,callback) {
    callback = BASE.Callback(callback); var type;
    if (file instanceof Object) {
      for (var i in file)
        {if (file.hasOwnProperty(i)) {type = i.toUpperCase(); file = file[i]}}
    } else {type = file.split(/\./).pop().toUpperCase()}
    file = this.fileURL(file);
    if (this.loading[file]) {
      this.addHook(file,callback);
    } else {
      this.head = HEAD(this.head);
      if (this.loader[type]) {this.loader[type].call(this,file,callback)}
        else {throw Error("Can't load files of type "+type)}
    }
    return callback;
  },

  //
  //  Register a load hook for a particular file (it will be called when
  //  loadComplete() is called for that file)
  //
  LoadHook: function (file,callback,priority) {
    callback = BASE.Callback(callback);
    if (file instanceof Object)
      {for (var i in file) {if (file.hasOwnProperty(i)) {file = file[i]}}}
    file = this.fileURL(file);
    if (this.loaded[file]) {callback(this.loaded[file])}
      else {this.addHook(file,callback,priority)}
    return callback;
  },
  addHook: function (file,callback,priority) {
    if (!this.loadHooks[file]) {this.loadHooks[file] = MathJax.Callback.Hooks()}
    this.loadHooks[file].Add(callback,priority);
    callback.file = file;
  },
  removeHook: function (hook) {
    if (this.loadHooks[hook.file]) {
      this.loadHooks[hook.file].Remove(hook);
      if (!this.loadHooks[hook.file].hooks.length) {delete this.loadHooks[hook.file]}
    }
  },

  //
  //  Used when files are combined in a preloading configuration file
  //
  Preloading: function () {
    for (var i = 0, m = arguments.length; i &lt; m; i++) {
      var file = this.fileURL(arguments[i]);
      if (!this.loading[file] &amp;&amp; !this.loaded[file]) {this.loading[file] = {preloaded: true}}
    }
  },

  //
  //  Code used to load the various types of files
  //  (JS for JavaScript, CSS for style sheets)
  //
  loader: {
    //
    //  Create a SCRIPT tag to load the file
    //
    JS: function (file,callback) {
      var name = this.fileName(file);
      var timeout = BASE.Callback(["loadTimeout",this,file]);
  this.loading[file] = {
    callback: callback,
    timeout: setTimeout(timeout,this.timeout),
    status: this.STATUS.OK,
    script: null
  };
  //
  // Add this to the structure above after it is created to prevent recursion
  //  when loading the initial localization file (before loading messsage is available)
  //
  this.loading[file].message = BASE.Message.File(name);
      if (window.System) {
        window.System.import(file).catch(timeout);
      } else {
        timeout();  // indicate a load failure
      }
    },
    //
    //  Create a LINK tag to load the style sheet
    //
    CSS: function (file,callback) {
      var name = this.fileName(file);
      var link = document.createElement("link");
      link.rel = "stylesheet"; link.type = "text/css";
      link.href = file+this.fileRev(name);
      this.loading[file] = {
        callback: callback,
        message: BASE.Message.File(name),
        status: this.STATUS.OK
      };
      this.head.appendChild(link);
      this.timer.create.call(this,[this.timer.file,file],link);
    }
  },

  //
  //  Timing code for checking when style sheets are available.
  //
  timer: {
    //
    //  Create the timing callback and start the timing loop.
    //  We use a delay because some browsers need it to allow the styles
    //  to be processed.
    //
    create: function (callback,node) {
      callback = BASE.Callback(callback);
      if (node.nodeName === "STYLE" &amp;&amp; node.styleSheet &amp;&amp;
          typeof(node.styleSheet.cssText) !== 'undefined') {
        callback(this.STATUS.OK); // MSIE processes style immediately, but doesn't set its styleSheet!
      } else if (window.chrome &amp;&amp; node.nodeName === "LINK") {
        callback(this.STATUS.OK); // Chrome doesn't give access to cssRules for stylesheet in
                                  //   a link node, so we can't detect when it is loaded.
      } else if (isSafari2) {
        this.timer.start(this,[this.timer.checkSafari2,sheets++,callback],this.styleDelay);
      } else {
        this.timer.start(this,[this.timer.checkLength,node,callback],this.styleDelay);
      }
      return callback;
    },
    //
    //  Start the timer for the given callback checker
    //
    start: function (AJAX,check,delay,timeout) {
      check = BASE.Callback(check);
      check.execute = this.execute; check.time = this.time;
      check.STATUS = AJAX.STATUS; check.timeout = timeout || AJAX.timeout;
      check.delay = check.total = delay || 0;
      if (delay) {setTimeout(check,delay)} else {check()}
    },
    //
    //  Increment the time total, increase the delay
    //  and test if we are past the timeout time.
    //  
    time: function (callback) {
      this.total += this.delay;
      this.delay = Math.floor(this.delay * 1.05 + 5);
      if (this.total &gt;= this.timeout) {callback(this.STATUS.ERROR); return 1}
      return 0;
    },
    //
    //  For JS file loads, call the proper routine according to status
    //
    file: function (file,status) {
      if (status &lt; 0) {BASE.Ajax.loadTimeout(file)} else {BASE.Ajax.loadComplete(file)}
    },
    //
    //  Call the hook with the required data
    //
    execute: function () {this.hook.call(this.object,this,this.data[0],this.data[1])},
    //
    //  Safari2 doesn't set the link's stylesheet, so we need to look in the
    //  document.styleSheets array for the new sheet when it is created
    //
    checkSafari2: function (check,length,callback) {
      if (check.time(callback)) return;
      if (document.styleSheets.length &gt; length &amp;&amp;
          document.styleSheets[length].cssRules &amp;&amp;
          document.styleSheets[length].cssRules.length)
        {callback(check.STATUS.OK)} else {setTimeout(check,check.delay)}
    },
    //
    //  Look for the stylesheets rules and check when they are defined
    //  and no longer of length zero.  (This assumes there actually ARE
    //  some rules in the stylesheet.)
    //  
    checkLength: function (check,node,callback) {
      if (check.time(callback)) return;
      var isStyle = 0; var sheet = (node.sheet || node.styleSheet);
      try {if ((sheet.cssRules||sheet.rules||[]).length &gt; 0) {isStyle = 1}} catch(err) {
        if (err.message.match(/protected variable|restricted URI/)) {isStyle = 1}
        else if (err.message.match(/Security error/)) {
          // Firefox3 gives "Security error" for missing files, so
          //   can't distinguish that from OK files on remote servers.
          //   or OK files in different directory from local files.
          isStyle = 1; // just say it is OK (can't really tell)
        }
      }
      if (isStyle) {
        // Opera 9.6 requires this setTimeout
        setTimeout(BASE.Callback([callback,check.STATUS.OK]),0);
      } else {
        setTimeout(check,check.delay);
      }
    }
  },

  //
  //  JavaScript code must call this when they are completely initialized
  //  (this allows them to perform asynchronous actions before indicating
  //  that they are complete).
  //
  loadComplete: function (file) {
    file = this.fileURL(file);
    var loading = this.loading[file];
    if (loading &amp;&amp; !loading.preloaded) {
      BASE.Message.Clear(loading.message);
      if (loading.timeout) clearTimeout(loading.timeout);
  if (loading.script) {
    if (SCRIPTS.length === 0) {setTimeout(REMOVESCRIPTS,0)}
    SCRIPTS.push(loading.script);
  }
      this.loaded[file] = loading.status; delete this.loading[file];
      this.addHook(file,loading.callback);
    } else {
      if (loading) {delete this.loading[file]}
      this.loaded[file] = this.STATUS.OK;
      loading = {status: this.STATUS.OK}
    }
    if (!this.loadHooks[file]) {return null}
    return this.loadHooks[file].Execute(loading.status);
  },

  //
  //  If a file fails to load within the timeout period (or the onerror handler
  //  is called), this routine runs to signal the error condition.
  //  
  loadTimeout: function (file) {
    if (this.loading[file].timeout) {clearTimeout(this.loading[file].timeout)}
    this.loading[file].status = this.STATUS.ERROR;
    this.loadError(file);
    this.loadComplete(file);
  },

  //
  //  The default error hook for file load failures
  //
  loadError: function (file) {
    BASE.Message.Set(["LoadFailed","File failed to load: %1",file],null,2000);
    BASE.Hub.signal.Post(["file load error",file]);
  },

  //
  //  Defines a style sheet from a hash of style declarations (key:value pairs
  //  where the key is the style selector and the value is a hash of CSS attributes 
  //  and values).
  //
  Styles: function (styles,callback) {
    var styleString = this.StyleString(styles);
    if (styleString === "") {
      callback = BASE.Callback(callback);
      callback();
    } else {
      var style = document.createElement("style"); style.type = "text/css";
      this.head = HEAD(this.head);
      this.head.appendChild(style);
      if (style.styleSheet &amp;&amp; typeof(style.styleSheet.cssText) !== 'undefined') {
        style.styleSheet.cssText = styleString;
      } else {
        style.appendChild(document.createTextNode(styleString));
      }
      callback = this.timer.create.call(this,callback,style);
    }
    return callback;
  },

  //
  //  Create a stylesheet string from a style declaration object
  //
  StyleString: function (styles) {
    if (typeof(styles) === 'string') {return styles}
    var string = "", id, style;
    for (id in styles) {if (styles.hasOwnProperty(id)) {
      if (typeof styles[id] === 'string') {
        string += id + " {"+styles[id]+"}\n";
      } else if (styles[id] instanceof Array) {
        for (var i = 0; i &lt; styles[id].length; i++) {
          style = {}; style[id] = styles[id][i];
          string += this.StyleString(style);
        }
      } else if (id.substr(0,6) === '@media') {
        string += id + " {"+this.StyleString(styles[id])+"}\n";
      } else if (styles[id] != null) {
        style = [];
        for (var name in styles[id]) {if (styles[id].hasOwnProperty(name)) {
          if (styles[id][name] != null) 
            {style[style.length] = name + ': ' + styles[id][name]}
        }}
        string += id +" {"+style.join('; ')+"}\n";
      }
    }}
    return string;
  }
};

</t>
<t tx="ekr.20211016054411.1042">/**********************************************************/

(function (BASENAME) {
  var BASE = window[BASENAME];
  if (!BASE) {BASE = window[BASENAME] = {}}

  var isSafari2 = (navigator.vendor === "Apple Computer, Inc." &amp;&amp;
                   typeof navigator.vendorSub === "undefined");
  var sheets = 0; // used by Safari2

  //
  //  Update sheets count and look up the head object
  //  
  @others
})("MathJax");

/**********************************************************/

MathJax.HTML = {
  setDocument: function (doc) {document = this.document = doc},
  //
  //  Create an HTML element with given attributes and content.
  //  The def parameter is an (optional) object containing key:value pairs
  //  of the attributes and their values, and contents is an (optional)
  //  array of strings to be inserted as text, or arrays of the form
  //  [type,def,contents] that describes an HTML element to be inserted
  //  into the current element.  Thus the contents can describe a complete
  //  HTML snippet of arbitrary complexity.  E.g.:
  //  
  //    MathJax.HTML.Element("span",{id:"mySpan",style{"font-style":"italic"}},[
  //        "(See the ",["a",{href:"http://www.mathjax.org"},["MathJax home page"]],
  //        " for more details.)"]);
  // 
  Element: function (type,def,contents) {
    var obj = document.createElement(type), id;
    if (def) {
      if (def.hasOwnProperty("style")) {
        var style = def.style; def.style = {};
        for (id in style) {if (style.hasOwnProperty(id))
          {def.style[id.replace(/-([a-z])/g,this.ucMatch)] = style[id]}}
      }
      MathJax.Hub.Insert(obj,def);
      for (id in def) {
        if (id === "role" || id.substr(0,5) === "aria-") obj.setAttribute(id,def[id]);
      }
    }
    if (contents) {
      if (!MathJax.Object.isArray(contents)) {contents = [contents]}
      for (var i = 0, m = contents.length; i &lt; m; i++) {
        if (MathJax.Object.isArray(contents[i])) {
          obj.appendChild(this.Element(contents[i][0],contents[i][1],contents[i][2]));
        } else if (type === "script") { // IE throws an error if script is added as a text node
          this.setScript(obj, contents[i]);
        } else {
          obj.appendChild(document.createTextNode(contents[i]));
        }
      }
    }
    return obj;
  },
  ucMatch: function (match,c) {return c.toUpperCase()},
  addElement: function (span,type,def,contents) {return span.appendChild(this.Element(type,def,contents))},
  TextNode: function (text) {return document.createTextNode(text)},
  addText: function (span,text) {return span.appendChild(this.TextNode(text))},

  //
  //  Set and get the text of a script
  //
  setScript: function (script,text) {
    if (this.setScriptBug) {script.text = text} else {
      while (script.firstChild) {script.removeChild(script.firstChild)}
      this.addText(script,text);
    }
  },
  getScript: function (script) {return script.innerText}
}

/**********************************************************/

MathJax.Localization = {

  locale: "en",
  directory: "[MathJax]/localization",
  strings: {
    // Currently, this list is not modified by the MathJax-i18n script. You can
    // run the following command in MathJax/unpacked/localization to update it:
    //
    // find . -name "*.js" | xargs grep menuTitle\: | grep -v qqq | sed 's/^\.\/\(.*\)\/.*\.js\:  /    "\1"\: \{/' | sed 's/,$/\},/' | sed 's/"English"/"English", isLoaded: true/' &gt; tmp ; sort tmp &gt; tmp2 ; sed '$ s/,$//' tmp2 ; rm tmp*
    //
    // This only takes languages with localization data so you must also add
    // the languages that use a remap but are not translated at all.
    //
    "ast": {menuTitle: "asturianu"},
    "bg": {menuTitle: "\u0431\u044A\u043B\u0433\u0430\u0440\u0441\u043A\u0438"},
    "bcc": {menuTitle: "\u0628\u0644\u0648\u0686\u06CC"},
    "br": {menuTitle: "brezhoneg"},
    "ca": {menuTitle: "catal\u00E0"},
    "cdo": {menuTitle: "M\u00ECng-d\u0115\u0324ng-ng\u1E73\u0304"},
    "cs": {menuTitle: "\u010De\u0161tina"},
    "da": {menuTitle: "dansk"},
    "de": {menuTitle: "Deutsch"},
    "en": {menuTitle: "English", isLoaded: true},
    "eo": {menuTitle: "Esperanto"},
    "es": {menuTitle: "espa\u00F1ol"},
    "fa": {menuTitle: "\u0641\u0627\u0631\u0633\u06CC"},
    "fi": {menuTitle: "suomi"},
    "fr": {menuTitle: "fran\u00E7ais"},
    "gl": {menuTitle: "galego"},
    "he": {menuTitle: "\u05E2\u05D1\u05E8\u05D9\u05EA"},
    "ia": {menuTitle: "interlingua"},
    "it": {menuTitle: "italiano"},
    "ja": {menuTitle: "\u65E5\u672C\u8A9E"},
    "kn": {menuTitle: "\u0C95\u0CA8\u0CCD\u0CA8\u0CA1"},
    "ko": {menuTitle: "\uD55C\uAD6D\uC5B4"},
    "lb": {menuTitle: "L\u00EBtzebuergesch"},
    "lt": {menuTitle: "lietuvi\u0173"},
    "mk": {menuTitle: "\u043C\u0430\u043A\u0435\u0434\u043E\u043D\u0441\u043A\u0438"},
    "nl": {menuTitle: "Nederlands"},
    "oc": {menuTitle: "occitan"},
    "pl": {menuTitle: "polski"},
    "pt": {menuTitle: "portugus\u00EA"},
    "pt-br": {menuTitle: "portugu\u00EAs do Brasil"},
    "ru": {menuTitle: "\u0440\u0443\u0441\u0441\u043A\u0438\u0439"},
    "sco": {menuTitle: "Scots"},
    "scn": {menuTitle: "sicilianu"},
    "sl": {menuTitle: "sloven\u0161\u010Dina"},
    "sv": {menuTitle: "svenska"},
    "tr": {menuTitle: "T\u00FCrk\u00E7e"},
    "uk": {menuTitle: "\u0443\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430"},
    "vi": {menuTitle: "Ti\u1EBFng Vi\u1EC7t"},
    "zh-hans": {menuTitle: "\u4E2D\u6587\uFF08\u7B80\u4F53\uFF09"}
  },

  //
  //  The pattern for substitution escapes:
  //      %n or %{n} or %{plural:%n|option1|option1|...} or %c
  //
  pattern: /%(\d+|\{\d+\}|\{[a-z]+:\%\d+(?:\|(?:%\{\d+\}|%.|[^\}])*)+\}|.)/g,

  SPLIT: ("axb".split(/(x)/).length === 3 ?
    function (string,regex) {return string.split(regex)} :
    //
    //  IE8 and below don't do split() correctly when the pattern includes
    //    parentheses (the split should include the matched exrepssions).
    //    So implement it by hand here.
    // 
    function (string,regex) {
      var result = [], match, last = 0;
      regex.lastIndex = 0;
      while ((match = regex.exec(string))) {
        result.push(string.substr(last,match.index-last));
        result.push.apply(result,match.slice(1));
        last = match.index + match[0].length;
      }
      result.push(string.substr(last));
      return result;
    }),

  _: function (id,phrase) {
    if (phrase instanceof Array) {return this.processSnippet(id,phrase)}
    return this.processString(this.lookupPhrase(id,phrase),[].slice.call(arguments,2));
  },

  processString: function (string,args,domain) {
    //
    //  Process arguments for substitution
    //    If the argument is a snippet (and we are processing snippets) do so,
    //    Otherwise, if it is a number, convert it for the lacale
    //
    var i, m;
    for (i = 0, m = args.length; i &lt; m; i++) {
      if (domain &amp;&amp; args[i] instanceof Array) {args[i] = this.processSnippet(domain,args[i])}
    }
    //
    //  Split string at escapes and process them individually
    //
    var parts = this.SPLIT(string,this.pattern);
    for (i = 1, m = parts.length; i &lt; m; i += 2) {
      var c = parts[i].charAt(0);  // first char will be { or \d or a char to be kept literally
      if (c &gt;= "0" &amp;&amp; c &lt;= "9") {    // %n
        parts[i] = args[parts[i]-1];
        if (typeof parts[i] === "number") parts[i] = this.number(parts[i]);
      } else if (c === "{") {        // %{n} or %{plural:%n|...}
        c = parts[i].substr(1);
        if (c &gt;= "0" &amp;&amp; c &lt;= "9") {  // %{n}
          parts[i] = args[parts[i].substr(1,parts[i].length-2)-1];
          if (typeof parts[i] === "number") parts[i] = this.number(parts[i]);
        } else {                     // %{plural:%n|...}
          var match = parts[i].match(/^\{([a-z]+):%(\d+)\|(.*)\}$/);
          if (match) {
            if (match[1] === "plural") {
              var n = args[match[2]-1];
              if (typeof n === "undefined") {
                parts[i] = "???";        // argument doesn't exist
              } else {
                n = this.plural(n) - 1;  // index of the form to use
                var plurals = match[3].replace(/(^|[^%])(%%)*%\|/g,"$1$2%\uEFEF").split(/\|/); // the parts (replacing %| with a special character)
                if (n &gt;= 0 &amp;&amp; n &lt; plurals.length) {
                  parts[i] = this.processString(plurals[n].replace(/\uEFEF/g,"|"),args,domain);
                } else {
                  parts[i] = "???";      // no string for this index
                }
              }
            } else {parts[i] = "%"+parts[i]}  // not "plural", put back the % and leave unchanged
          }
        }
      }
      if (parts[i] == null) {parts[i] = "???"}
    }
    //
    //  If we are not forming a snippet, return the completed string
    //  
    if (!domain) {return parts.join("")}
    //
    //  We need to return an HTML snippet, so buld it from the
    //  broken up string with inserted parts (that could be snippets)
    //
    var snippet = [], part = "";
    for (i = 0; i &lt; m; i++) {
      part += parts[i]; i++;  // add the string and move on to substitution result
      if (i &lt; m) {
        if (parts[i] instanceof Array)  {        // substitution was a snippet
          snippet.push(part);                        // add the accumulated string
          snippet = snippet.concat(parts[i]);        // concatenate the substution snippet
          part = "";                                 // start accumulating a new string
        } else {                                 // substitution was a string
          part += parts[i];                          // add to accumulating string
        }
      }
    }
    if (part !== "") {snippet.push(part)} // add final string
    return snippet;
  },

  processSnippet: function (domain,snippet) {
    var result = [];   // the new snippet
    //
    //  Look through the original snippet for
    //   strings or snippets to translate
    //
    for (var i = 0, m = snippet.length; i &lt; m; i++) {
      if (snippet[i] instanceof Array) {
        //
        //  This could be a sub-snippet:
        //    ["tag"] or ["tag",{properties}] or ["tag",{properties},snippet]
        //  Or it could be something to translate:
        //    [id,string,args] or [domain,snippet]
        var data = snippet[i];
        if (typeof data[1] === "string") {        // [id,string,args]
          var id = data[0]; if (!(id instanceof Array)) {id = [domain,id]}
          var phrase = this.lookupPhrase(id,data[1]);
          result = result.concat(this.processMarkdown(phrase,data.slice(2),domain));
        } else if (data[1] instanceof Array) {    // [domain,snippet]
          result = result.concat(this.processSnippet.apply(this,data));
        } else if (data.length &gt;= 3) {            // ["tag",{properties},snippet]
          result.push([data[0],data[1],this.processSnippet(domain,data[2])]);
        } else {                                  // ["tag"] or ["tag",{properties}]
          result.push(snippet[i]);
        }
      } else {                                    // a string
        result.push(snippet[i]);
      }
    }
    return result;
  },

  markdownPattern: /(%.)|(\*{1,3})((?:%.|.)+?)\2|(`+)((?:%.|.)+?)\4|\[((?:%.|.)+?)\]\(([^\s\)]+)\)/,
  //   %c or *bold*, **italics**, ***bold-italics***, or `code`, or [link](url)

  processMarkdown: function (phrase,args,domain) {
    var result = [], data;
    //
    //  Split the string by the Markdown pattern
    //    (the text blocks are separated by 
    //      c,stars,star-text,backtics,code-text,link-text,URL).
    //  Start with teh first text string from the split.
    //
    var parts = phrase.split(this.markdownPattern);
    var string = parts[0];
    //
    //  Loop through the matches and process them
    //
    for (var i = 1, m = parts.length; i &lt; m; i += 8) {
      if (parts[i+1]) {        // stars (for bold/italic)
        //
        //  Select the tag to use by number of stars (three stars requires two tags)
        //
        data = this.processString(parts[i+2],args,domain);
        if (!(data instanceof Array)) {data = [data]}
        data = [["b","i","i"][parts[i+1].length-1],{},data]; // number of stars determines type
        if (parts[i+1].length === 3) {data = ["b",{},data]}  // bold-italic
      } else if (parts[i+3]) { //  backtics (for code)
        //
        //  Remove one leading or trailing space, and process substitutions
        //  Make a &lt;code&gt; tag
        //
        data = this.processString(parts[i+4].replace(/^\s/,"").replace(/\s$/,""),args,domain);
        if (!(data instanceof Array)) {data = [data]}
        data = ["code",{},data];
      } else if (parts[i+5]) { //  hyperlink
        //
        //  Process the link text, and make an &lt;a&gt; tag with the URL
        //
        data = this.processString(parts[i+5],args,domain);
        if (!(data instanceof Array)) {data = [data]}
        data = ["a",{href:this.processString(parts[i+6],args),target:"_blank"},data];
      } else {
        //
        //  Escaped character (%c) gets added into the string.
        //
        string += parts[i]; data = null;
      }
      //
      //  If there is a tag to insert,
      //     Add any pending string, then push the tag
      //
      if (data) {
        result = this.concatString(result,string,args,domain);
        result.push(data); string = "";
      }
      //
      //  Process the string that follows matches pattern
      //
      if (parts[i+7] !== "") {string += parts[i+7]}
    };
    //
    //  Add any pending string and return the resulting snippet
    //
    result = this.concatString(result,string,args,domain);
    return result;
  },
  concatString: function (result,string,args,domain) {
    if (string != "") {
      //
      //  Process the substutions.
      //  If the result is not a snippet, turn it into one.
      //  Then concatenate the snippet to the current one
      //
      string = this.processString(string,args,domain);
      if (!(string instanceof Array)) {string = [string]}
      result = result.concat(string);
    }
    return result;
  },

  lookupPhrase: function (id,phrase,domain) {
    //
    //  Get the domain and messageID
    //
    if (!domain) {domain = "_"}
    if (id instanceof Array) {domain = (id[0] || "_"); id = (id[1] || "")}
    //
    //  Check if the data is available and if not,
    //    load it and throw a restart error so the calling
    //    code can wait for the load and try again.
    //
    var load = this.loadDomain(domain);
    if (load) {MathJax.Hub.RestartAfter(load)}
    //
    //  Look up the message in the localization data
    //    (if not found, the original English is used)
    //
    var localeData = this.strings[this.locale];
    if (localeData) {
      if (localeData.domains &amp;&amp; domain in localeData.domains) {
        var domainData = localeData.domains[domain];
        if (domainData.strings &amp;&amp; id in domainData.strings)
          {phrase = domainData.strings[id]}
      }
    }
    //
    //  return the translated phrase
    //
    return phrase;
  },

  //
  //  Load a langauge data file from the proper
  //  directory and file.
  //
  loadFile: function (file,data,callback) {
    callback = MathJax.Callback(callback);
    file = (data.file || file);  // the data's file name or the default name
    if (!file.match(/\.js$/)) {file += ".js"} // add .js if needed
    //
    //  Add the directory if the file doesn't
    //  contain a full URL already.
    //
    if (!file.match(/^([a-z]+:|\[MathJax\])/)) {
      var dir = (this.strings[this.locale].directory  || 
                 this.directory + "/" + this.locale ||
                 "[MathJax]/localization/" + this.locale);
      file = dir + "/" + file;
    }
    //
    //  Load the file and mark the data as loaded (even if it
    //  failed to load, so we don't continue to try to load it
    //  over and over).
    //
    var load = MathJax.Ajax.Require(file,function () {data.isLoaded = true; return callback()});
    //
    //  Return the callback if needed, otherwise null.
    //
    return (load.called ? null : load);
  },

  //
  //  Check to see if the localization data are loaded
  //  for the given domain; if not, load the data file,
  //  and return a callback for the loading operation.
  //  Otherwise return null (data are loaded).
  //  
  loadDomain: function (domain,callback) {
    var load, localeData = this.strings[this.locale];
    if (localeData) {
      if (!localeData.isLoaded) {
        load = this.loadFile(this.locale,localeData);
        if (load) {
          return MathJax.Callback.Queue(
            load,["loadDomain",this,domain] // call again to load domain
          ).Push(callback||{});
        }
      }
      if (localeData.domains &amp;&amp; domain in localeData.domains) {
        var domainData = localeData.domains[domain];
        if (!domainData.isLoaded) {
          load = this.loadFile(domain,domainData);
          if (load) {return MathJax.Callback.Queue(load).Push(callback)}
        }
      }
    } 
    // localization data are loaded, so just do the callback
    return MathJax.Callback(callback)();
  },

  //
  //  Perform a function, properly handling
  //  restarts due to localization file loads.
  //
  //  Note that this may return before the function
  //  has been called successfully, so you should
  //  consider fn as running asynchronously.  (Callbacks
  //  can be used to synchronize it with other actions.)
  //
  Try: function (fn) {
    fn = MathJax.Callback(fn); fn.autoReset = true;
    try {fn()} catch (err) {
      if (!err.restart) {throw err}
      MathJax.Callback.After(["Try",this,fn],err.restart);
    }
  },

  //
  //  Reset the current language
  //
  resetLocale: function(locale) {
    // Selection algorithm:
    // 1) Downcase locale name (e.g. "en-US" =&gt; "en-us")
    // 2) Try a parent language (e.g. "en-us" =&gt; "en")
    // 3) Try the fallback specified in the data (e.g. "pt" =&gt; "pt-br")
    // 4) Otherwise don't change the locale.
    if (!locale) return;
    locale = locale.toLowerCase();
    while (!this.strings[locale]) {
      var dashPos = locale.lastIndexOf("-");
      if (dashPos === -1) return;
      locale = locale.substring(0, dashPos);
    }
    var remap = this.strings[locale].remap;
    this.locale = remap ? remap : locale;
  },

  //
  //  Set the current language
  //
  setLocale: function(locale) {
    this.resetLocale(locale);
    if (MathJax.Menu) {this.loadDomain("MathMenu")}
  },

  //
  //  Add or update a language or domain
  //
  addTranslation: function (locale,domain,definition) {
    var data = this.strings[locale], isNew = false;
    if (!data) {data = this.strings[locale] = {}; isNew = true}
    if (!data.domains) {data.domains = {}}
    if (domain) {
      if (!data.domains[domain]) {data.domains[domain] = {}}
      data = data.domains[domain];
    }
    MathJax.Hub.Insert(data,definition);
    if (isNew &amp;&amp; MathJax.Menu.menu) {MathJax.Menu.CreateLocaleMenu()}
  },

  //
  //  Set CSS for an element based on font requirements
  //
  setCSS: function (div) {
    var locale = this.strings[this.locale];
    if (locale) {
      if (locale.fontFamily) {div.style.fontFamily = locale.fontFamily}
      if (locale.fontDirection) {
        div.style.direction = locale.fontDirection;
        if (locale.fontDirection === "rtl") {div.style.textAlign = "right"}
      }
    }
    return div;
  },

  //
  //  Get the language's font family or direction
  //
  fontFamily: function () {
    var locale = this.strings[this.locale];
    return (locale ? locale.fontFamily : null);
  },
  fontDirection: function () {
    var locale = this.strings[this.locale];
    return (locale ? locale.fontDirection : null);
  },

  //
  //  Get the language's plural index for a number
  //
  plural: function (n) {
    var locale = this.strings[this.locale];
    if (locale &amp;&amp; locale.plural) {return locale.plural(n)}
    // default
    if (n == 1) {return 1} // one
    return 2; // other
  },

  //
  //  Convert a number to language-specific form
  //
  number: function(n) {
    var locale = this.strings[this.locale];
    if (locale &amp;&amp; locale.number) {return locale.number(n)}
    // default
    return n;
  }
};


/**********************************************************/

MathJax.Message = {
  localize: function (message) {
    return MathJax.Localization._(message,message);
  },

  filterText: function (text,n,id) {
    if (MathJax.Hub.config.messageStyle === "simple") {
      if (id === "LoadFile") {
        if (!this.loading) {this.loading = this.localize("Loading") + " "}
        text = this.loading; this.loading += ".";
      } else if (id === "ProcessMath") {
        if (!this.processing) {this.processing = this.localize("Processing") + " "}
        text = this.processing; this.processing += ".";
      } else if (id === "TypesetMath") {
        if (!this.typesetting) {this.typesetting = this.localize("Typesetting") + " "}
        text = this.typesetting; this.typesetting += ".";
      }
    }
    return text;
  },

  Set: function (text,n,clearDelay) {
    if (MathJax.debug) {
      if (Array.isArray(text)) {
        text = MathJax.Localization._.apply(MathJax.Localization,text);
      }
      console.log("Message: "+text);
    }
  },

  Clear: function (n,delay) {},
  Remove: function () {},
  File: function (file) {
    return this.Set(["LoadFile","Loading %1",file],null,null);
  },

  Log: function () {}
};

/**********************************************************/

MathJax.Hub = {
  config: {
    root: "./mathjax2/legacy",
    config: [],      // list of configuration files to load
    jax: [],         // list of input and output jax to load
    extensions: [],  // list of extensions to load
    preJax: null,    // pattern to remove from before math script tag
    postJax: null,   // pattern to remove from after math script tag
    displayAlign: 'center',       // how to align displayed equations (left, center, right)
    displayIndent: '0',           // indentation for displayed equations (when not centered)
    preRemoveClass: 'MathJax_Preview', // class of objects to remove preceeding math script
    showProcessingMessages: true, // display "Processing math: nn%" messages or not
    messageStyle: "normal",       // set to "none" or "simple" (for "Loading..." and "Processing...")
    delayStartupUntil: "none",    // set to "onload" to delay setup until the onload handler runs
                                  // set to "configured" to delay startup until MathJax.Hub.Configured() is called
                                  // set to a Callback to wait for before continuing with the startup
    skipStartupTypeset: false,    // set to true to skip PreProcess and Process during startup
    elements: [],             // array of elements to process when none is given explicitly
    positionToHash: true,    // after initial typeset pass, position to #hash location?

    showMathMenu: true,      // attach math context menu to typeset math?
    showMathMenuMSIE: true,  // separtely determine if MSIE should have math menu
                             //  (since the code for that is a bit delicate)

    menuSettings: {
      zoom: "None",        //  when to do MathZoom
      CTRL: false,         //    require CTRL for MathZoom?
      ALT: false,          //    require Alt or Option?
      CMD: false,          //    require CMD?
      Shift: false,        //    require Shift?
      discoverable: false, //  make math menu discoverable on hover?
      zscale: "200%",      //  the scaling factor for MathZoom
      renderer: null,      //  set when Jax are loaded
      font: "Auto",        //  what font HTML-CSS should use
      context: "MathJax",  //  or "Browser" for pass-through to browser menu
      locale: null,        //  the language to use for messages
      mpContext: false,    //  true means pass menu events to MathPlayer in IE
      mpMouse: false,      //  true means pass mouse events to MathPlayer in IE
      texHints: true,      //  include class names for TeXAtom elements
      FastPreview: null,   //  use PreviewHTML output as preview?
      assistiveMML: null,  //  include hidden MathML for screen readers?
      inTabOrder: true,    //  set to false if math elements should be included in the tabindex
      semantics: false     //  add semantics tag with original form in MathML output
    },

    errorSettings: {
       // localized HTML snippet structure for message to use
      message: ["[",["MathProcessingError","Math Processing Error"],"]"],
      style: {color: "#CC0000", "font-style":"italic"}  // style for message
    },

    ignoreMMLattributes: {}  // attributes not to copy to HTML-CSS or SVG output
                             //   from MathML input (in addition to the ones in MML.nocopyAttributes).
                             //   An id set to true will be ignored, one set to false will
                             //   be allowed (even if other criteria normally would prevent
                             //   it from being copied); use false carefully!
  },

  preProcessors: MathJax.Callback.Hooks(true), // list of callbacks for preprocessing (initialized by extensions)
  inputJax: {},          // mime-type mapped to input jax (by registration)
  outputJax: {order:{}}, // mime-type mapped to output jax list (by registration)

  processSectionDelay: 50, // pause between input and output phases of processing
  processUpdateTime: 250, // time between screen updates when processing math (milliseconds)
  processUpdateDelay: 10, // pause between screen updates to allow other processing (milliseconds)

  signal: MathJax.Callback.Signal("Hub"), // Signal used for Hub events

  Config: function (def) {
    this.Insert(this.config,def);
    if (this.config.Augment) {this.Augment(this.config.Augment)}
  },
  CombineConfig: function (name,def) {
    var config = this.config, id, parent; name = name.split(/\./);
    for (var i = 0, m = name.length; i &lt; m; i++) {
      id = name[i]; if (!config[id]) {config[id] = {}}
      parent = config; config = config[id];
    }
    parent[id] = config = this.Insert(def,config);
    return config;
  },

  Register: {
    PreProcessor: function () {return MathJax.Hub.preProcessors.Add.apply(MathJax.Hub.preProcessors,arguments)},
    MessageHook: function () {return MathJax.Hub.signal.MessageHook.apply(MathJax.Hub.signal,arguments)},
    StartupHook: function () {return MathJax.Hub.Startup.signal.MessageHook.apply(MathJax.Hub.Startup.signal,arguments)},
    LoadHook: function () {return MathJax.Ajax.LoadHook.apply(MathJax.Ajax,arguments)}
  },
  UnRegister: {
    PreProcessor: function (hook) {MathJax.Hub.preProcessors.Remove(hook)},
    MessageHook: function (hook) {MathJax.Hub.signal.RemoveHook(hook)},
    StartupHook: function (hook) {MathJax.Hub.Startup.signal.RemoveHook(hook)},
    LoadHook: function (hook) {MathJax.Ajax.removeHook(hook)}
  },

  setRenderer: function (renderer,type) {
    if (!renderer) return;
    if (!MathJax.OutputJax[renderer]) {
      this.config.menuSettings.renderer = "";
      var file = "[MathJax]/jax/output/"+renderer+"/config.js";
      return MathJax.Ajax.Require(file,["setRenderer",this,renderer,type]);
    } else {
      this.config.menuSettings.renderer = renderer;
      if (type == null) {type = "jax/mml"}
      var jax = this.outputJax;
      if (jax[type] &amp;&amp; jax[type].length) {
        if (renderer !== jax[type][0].id) {
          jax[type].unshift(MathJax.OutputJax[renderer]);
          return this.signal.Post(["Renderer Selected",renderer]);
        }
      }
      return null;
    }
  },

  Queue: function () {
    return this.queue.Push.apply(this.queue,arguments);
  },

  RestartAfter: function (callback) {
    throw this.Insert(Error("restart"),{restart: MathJax.Callback(callback)});
  },

  Insert: function (dst,src) {
    for (var id in src) {if (src.hasOwnProperty(id)) {
      // allow for concatenation of arrays?
      if (typeof src[id] === 'object' &amp;&amp; !(src[id] instanceof Array) &amp;&amp;
         (typeof dst[id] === 'object' || typeof dst[id] === 'function')) {
        this.Insert(dst[id],src[id]);
      } else {
        dst[id] = src[id];
      }
    }}
    return dst;
  },

  // Old browsers (e.g. Internet Explorer &lt;= 8) do not support trim().
  SplitList: ("trim" in String.prototype ?
              function (list) {return list.trim().split(/\s+/)} :
              function (list) {return list.replace(/^\s+/,'').
                                           replace(/\s+$/,'').split(/\s+/)})
};

//
//  Storage area for extensions and preprocessors
//
MathJax.Extension = {};

MathJax.Hub.Startup = {
  queue:   MathJax.Callback.Queue(),           // Queue used for startup actions
  signal:  MathJax.Callback.Signal("Startup")  // Signal used for startup events
};

MathJax.Ajax.config.root = MathJax.Hub.config.root;

/**********************************************************/

(function (BASENAME) {
  var BASE = window[BASENAME], ROOT = "["+BASENAME+"]";
  var HUB = BASE.Hub, AJAX = BASE.Ajax, CALLBACK = BASE.Callback;

  var JAX = MathJax.Object.Subclass({
    JAXFILE: "jax.js",
    require: null, // array of files to load before jax.js is complete
    config: {},
    //
    //  Make a subclass and return an instance of it.
    //  (FIXME: should we replace config with a copy of the constructor's
    //   config?  Otherwise all subclasses share the same config structure.)
    //
    Init: function (def,cdef) {
      if (arguments.length === 0) {return this}
      return (this.constructor.Subclass(def,cdef))();
    },
    //
    //  Augment by merging with class definition (not replacing)
    //
    Augment: function (def,cdef) {
      var cObject = this.constructor, ndef = {};
      if (def != null) {
        for (var id in def) {if (def.hasOwnProperty(id)) {
          if (typeof def[id] === "function")
            {cObject.protoFunction(id,def[id])} else {ndef[id] = def[id]}
        }}
        // MSIE doesn't list toString even if it is not native so handle it separately
        if (def.toString !== cObject.prototype.toString &amp;&amp; def.toString !== {}.toString)
          {cObject.protoFunction('toString',def.toString)}
      }
      HUB.Insert(cObject.prototype,ndef);
      cObject.Augment(null,cdef);
      return this;
    },
    Translate: function (script,state) {
      throw Error(this.directory+"/"+this.JAXFILE+" failed to define the Translate() method");
    },
    Register: function (mimetype) {},
    Config: function () {
      this.config = HUB.CombineConfig(this.id,this.config);
      if (this.config.Augment) {this.Augment(this.config.Augment)}
    },
    Startup: function () {},
    loadComplete: function (file) {
      if (file === "config.js") {
        return AJAX.loadComplete(this.directory+"/"+file);
      } else {
        var queue = CALLBACK.Queue();
        queue.Push(
          ["Post",HUB.Startup.signal,this.id+" Jax Config"],
          ["Config",this],
          ["Post",HUB.Startup.signal,this.id+" Jax Startup"],
          ["Startup",this],
          ["Post",HUB.Startup.signal,this.id+" Jax Ready"]
        );
        if (this.copyTranslate) {
          queue.Push(
            [function (THIS) {
              THIS.preProcess  = THIS.preTranslate;
              THIS.Process     = THIS.Translate;
              THIS.postProcess = THIS.postTranslate;
            },this.constructor.prototype]
          );
        }
        return queue.Push(["loadComplete",AJAX,this.directory+"/"+file]);
      }
    }
  },{
    id: "Jax",
    version: "2.6.0",
    directory: ROOT+"/jax",
    extensionDir: ROOT+"/extensions"
  });

  /***********************************/

  BASE.InputJax = JAX.Subclass({
    elementJax: "mml",  // the element jax to load for this input jax
    sourceMenuTitle: /*_(MathMenu)*/ ["Original","Original Form"],
    copyTranslate: true,
    Process: function (script,state) {
      throw Error("Input jax failed to load properly")
    },
    needsUpdate: function (jax) {
      var script = jax.SourceElement();
      return (jax.originalText !== BASE.HTML.getScript(script));
    },
    Register: function (mimetype) {
      if (!HUB.inputJax) {HUB.inputJax = {}}
      HUB.inputJax[mimetype] = this;
    }
  },{
    id: "InputJax",
    version: "2.6.0",
    directory: JAX.directory+"/input",
    extensionDir: JAX.extensionDir
  });

  /***********************************/

  BASE.OutputJax = JAX.Subclass({
    copyTranslate: true,
    preProcess: function (state) {
      throw Error("Output jax failed to load properly");
    },
    Register: function (mimetype) {
      var jax = HUB.outputJax;
      if (!jax[mimetype]) {jax[mimetype] = []}
      //  If the output jax is earlier in the original configuration list, put it first here
      if (jax[mimetype].length &amp;&amp; (this.id === HUB.config.menuSettings.renderer ||
            (jax.order[this.id]||0) &lt; (jax.order[jax[mimetype][0].id]||0)))
        {jax[mimetype].unshift(this)} else {jax[mimetype].push(this)}
    },
    Remove: function (jax) {}
  },{
    id: "OutputJax",
    version: "2.6.0",
    directory: JAX.directory+"/output",
    extensionDir: JAX.extensionDir,
    fontDir: ROOT+(BASE.isPacked?"":"/..")+"/fonts",
    imageDir: ROOT+(BASE.isPacked?"":"/..")+"/images"
  });

  /***********************************/

  BASE.ElementJax = JAX.Subclass({
    // make a subclass, not an instance
    Init: function (def,cdef) {return this.constructor.Subclass(def,cdef)},

    inputJax: null,
    outputJax: null,
    inputID: null,
    originalText: "",
    mimeType: "",
    sourceMenuTitle: /*_(MathMenu)*/ ["MathMLcode","MathML Code"],

    Text: function (text,callback) {
      var script = this.SourceElement();
      BASE.HTML.setScript(script,text);
      script.MathJax.state = this.STATE.UPDATE;
      return HUB.Update(script,callback);
    },
    Reprocess: function (callback) {
      var script = this.SourceElement();
      script.MathJax.state = this.STATE.UPDATE;
      return HUB.Reprocess(script,callback);
    },
    Update: function (callback) {return this.Rerender(callback)},
    Rerender: function (callback) {
      var script = this.SourceElement();
      script.MathJax.state = this.STATE.OUTPUT;
      return HUB.Process(script,callback);
    },
    Remove: function (keep) {
      if (this.hover) {this.hover.clear(this)}
      BASE.OutputJax[this.outputJax].Remove(this);
      if (!keep) {
        HUB.signal.Post(["Remove Math",this.inputID]); // wait for this to finish?
        this.Detach();
      }
    },
    needsUpdate: function () {
      return BASE.InputJax[this.inputJax].needsUpdate(this);
    },

    SourceElement: function () {return document.getElementById(this.inputID)},

    Attach: function (script,inputJax) {
      var jax = script.MathJax.elementJax;
      if (script.MathJax.state === this.STATE.UPDATE) {
        jax.Clone(this);
      } else {
        jax = script.MathJax.elementJax = this;
        if (script.id) {this.inputID = script.id}
          else {script.id = this.inputID = BASE.ElementJax.GetID(); this.newID = 1}
      }
      jax.originalText = BASE.HTML.getScript(script);
      jax.inputJax = inputJax;
      if (jax.root) {jax.root.inputID = jax.inputID}
      return jax;
    },
    Detach: function () {
      var script = this.SourceElement(); if (!script) return;
      try {delete script.MathJax} catch(err) {script.MathJax = null}
      if (this.newID) {script.id = ""}
    },
    Clone: function (jax) {
      var id;
      for (id in this) {
        if (!this.hasOwnProperty(id)) continue;
        if (typeof(jax[id]) === 'undefined' &amp;&amp; id !== 'newID') {delete this[id]}
      }
      for (id in jax) {
        if (!jax.hasOwnProperty(id)) continue;
        if (typeof(this[id]) === 'undefined' || (this[id] !== jax[id] &amp;&amp; id !== 'inputID'))
          {this[id] = jax[id]}
      }
    }
  },{
    id: "ElementJax",
    version: "2.6.0",
    directory: JAX.directory+"/element",
    extensionDir: JAX.extensionDir,
    ID: 0,  // jax counter (for IDs)
    STATE: {
      PENDING: 1,      // script is identified as math but not yet processed
      PROCESSED: 2,    // script has been processed
      UPDATE: 3,       // elementJax should be updated
      OUTPUT: 4        // output should be updated (input is OK)
    },

    GetID: function () {this.ID++; return "MathJax-Element-"+this.ID},
    Subclass: function () {
      var obj = JAX.Subclass.apply(this,arguments);
      obj.loadComplete = this.prototype.loadComplete;
      return obj;
    }
  });
  BASE.ElementJax.prototype.STATE = BASE.ElementJax.STATE;

})("MathJax");

MathJax.Hub.Browser = {Select: function () {}};
</t>
<t tx="ekr.20211016054411.1043"></t>
<t tx="ekr.20211016054411.1044"></t>
<t tx="ekr.20211016054411.1045">
@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1046">(function () {
  var MML = MathJax.ElementJax.mml;

  MML.mbase.Augment({
    toJSON: function () {
      var m = this.data.length;
      var json = {type: this.type};
      if (this.inferred) json.inferred = true;
      if (this.isToken) {
        json.text = this.data.join("");
      } else {
        json.children = new Array(m);
        for (var i = 0; i &lt; m; i++) {
          var child = this.data[i];
          if (child) json.children[i] = child.toJSON();
        }
      }
      this.jsonAddAttributes(json);
      return json;
    },
    jsonAddAttributes: function (json) {
      var defaults = (this.type === "mstyle" ? MML.math.prototype.defaults : this.defaults);
      var names = (this.attrNames||MML.copyAttributeNames),
          skip = MML.skipAttributes,
          copy = MML.copyAttributes;
      var attr = {};

      if (!this.attrNames) {
        for (var id in defaults) {
          if (!skip[id] &amp;&amp; !copy[id] &amp;&amp; defaults.hasOwnProperty(id)) {
            if (this[id] != null &amp;&amp; this[id] !== defaults[id]) {
              if (this.Get(id,null,1) !== this[id]) attr[id] = this[id];
            }
          }
        }
      }
      for (var i = 0, m = names.length; i &lt; m; i++) {
        if (copy[names[i]] === 1 &amp;&amp; !defaults.hasOwnProperty(names[i])) continue;
        value = (this.attr||{})[names[i]];
        if (value == null) value = this[names[i]];
        if (value != null) attr[names[i]] = value;
      }
      json.attributes = attr;
    }
  });

  MML.chars.Augment({
    toJSON: function () {
      return this.data.join("");
    }
  });
  MML.entity.Augment({
    toJSON: function () {
      return this.data.join("");
    }
  });

  MML.msubsup.Augment({
    toJSON: function () {
      var json = this.SUPER(arguments).toJSON.call(this);
      if (this.data[this.sub] == null) {
        json.type = "msup";
        json.children.splice(1,1);
      }
      if (this.data[this.sup] == null) {
        json.type = "msub";
        json.children.splice(2,1);
      }
      return json;
    }
  });

  MML.munderover.Augment({
    toJSON: function () {
      var json = this.SUPER(arguments).toJSON.call(this);
      if (this.data[this.munder] == null) {
        json.type = "mover";
        json.children.splice(1,1);
      }
      if (this.data[this.mover] == null) {
        json.type = "munder";
        json.children.splice(2,1);
      }
      return json;
    }
  });

  MML.TeXAtom.Augment({
    toJSON: function () {
      var json = this.SUPER(arguments).toJSON.call(this);
      json.type = "mrow";
      json.TeXAtom = MML.TEXCLASSNAMES[this.Get("texClass")];
      return json;
    }
  });

  MML.xml.Augment({
    toJSON: function () {
      return {type:"xml", data: this.toString()};
    }
  });

})();
</t>
<t tx="ekr.20211016054411.1047">
@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1048">(function () {
  var MML = MathJax.ElementJax.mml;

  var PROPERTY = [
    'texWithDelims',
    'movesupsub',
    'subsupOK',
    'primes',
    'movablelimits',
    'scriptlevel',
    'open',
    'close',
    'isError',
    'multiline',
    'variantForm',
    'autoOP',
    'fnOP'  
  ];
  var RENAME = {
      texWithDelims: 'withDelims'
  };

  MML.mbase.Augment({
    toMmlNode: function (factory) {
      var kind = this.type;
      if (kind === 'texatom') kind = 'TeXAtom';
      var node = this.nodeMake(factory, kind);
      if ("texClass" in this) node.texClass = this.texClass;
      return node;
    },
    nodeMake: function (factory,kind) {
      var node = factory.MML[kind === 'TeXmathchoice' ? 'mathchoice' : kind]();
      var data = (this.data[0] &amp;&amp; this.data[0].inferred &amp;&amp; this.inferRow ? this.data[0].data : this.data);
      for (var i = 0, m = data.length; i &lt; m; i++) {
        var child = data[i];
        if (child) node.appendChild(child.toMmlNode(factory));
      }
      this.nodeAddAttributes(node);
      this.nodeAddProperties(node);
      return node;
    },
    nodeAddAttributes: function (node) {
      var defaults = (this.type === "mstyle" ? MML.math.prototype.defaults : this.defaults);
      var names = (this.attrNames||MML.copyAttributeNames),
          skip = MML.skipAttributes,
          copy = MML.copyAttributes;
      if (!this.attrNames) {
        for (var id in defaults) {
          if (!skip[id] &amp;&amp; !copy[id] &amp;&amp; defaults.hasOwnProperty(id)) {
            if (this[id] != null &amp;&amp; this[id] !== defaults[id]) {
              if (this.Get(id,null,1) !== this[id]) node.attributes.set(id,this[id]);
            }
          }
        }
        if (this['class']) node.attributes.set('class',this['class']);
      }
      for (var i = 0, m = names.length; i &lt; m; i++) {
        if (copy[names[i]] === 1 &amp;&amp; !defaults.hasOwnProperty(names[i])) continue;
        value = (this.attr||{})[names[i]];
        if (value == null) value = this[names[i]];
        if (value === 'true' || value === 'false') value = (value === 'true');
        if (value != null) node.attributes.set(names[i],value);
      }
    },
    nodeAddProperties: function (node) {
      for (var i = 0, m = PROPERTY.length; i &lt; m; i++) {
        var name = PROPERTY[i];
        if (this[name] != null &amp;&amp;
            (this.defaults[name] == null || this.defaults[name] === MML.AUTO)) {
          node.setProperty(RENAME[name] || name, this[name]);
        }
      }
    }
  });

  MML.chars.Augment({
    toMmlNode: function (factory) {
      return factory.MML.text().setText(this.data.join(""));
    }
  });
  MML.entity.Augment({
    toMmlNode: function (factory) {
      return factory.MML.text().setText(this.toString());
    }
  });

  MML.msubsup.Augment({
    toMmlNode: function (factory) {
      var kind = (this.data[this.sub] == null ? 'msup' :
                  this.data[this.sup] == null ? 'msub' : 'msubsup'); 
      return this.nodeMake(factory, kind);
    }
  });

  MML.munderover.Augment({
    toMmlNode: function (factory) {
      var kind = (this.data[this.under] == null ? 'mover' :
                  this.data[this.over]  == null ? 'munder' : 'munderover'); 
      return this.nodeMake(factory, kind);
    }
  });

  MML.xml.Augment({
    toMmlNode: function (factory) {
      return factory.MML.xml(this.data);
    }
  });

})();
</t>
<t tx="ekr.20211016054411.1049"></t>
<t tx="ekr.20211016054411.105"></t>
<t tx="ekr.20211016054411.1050">/* -*- Mode: Javascript; indent-tabs-mode:nil; js-indent-level: 2 -*- */
/* vim: set ts=2 et sw=2 tw=80: */

MathJax.ElementJax.mml = MathJax.ElementJax({
  mimeType: "jax/mml"
},{
  id: "mml",
  version: "2.7.2",
  directory: MathJax.ElementJax.directory + "/mml",
  extensionDir: MathJax.ElementJax.extensionDir + "/mml",
  optableDir: MathJax.ElementJax.directory + "/mml/optable"
});

MathJax.ElementJax.mml.Augment({
  Init: function () {
    if (arguments.length === 1 &amp;&amp; arguments[0].type === "math") {this.root = arguments[0]}
      else {this.root = MathJax.ElementJax.mml.math.apply(this,arguments)}
    if (this.root.attr &amp;&amp; this.root.attr.mode) {
      if (!this.root.display &amp;&amp; this.root.attr.mode === "display") {
        this.root.display = "block";
        this.root.attrNames.push("display");
      }
      delete this.root.attr.mode;
      for (var i = 0, m = this.root.attrNames.length; i &lt; m; i++) {
        if (this.root.attrNames[i] === "mode") {this.root.attrNames.splice(i,1); break}
      }
    }
  }
},{
  // VS Q: These two do what?
  INHERIT: "_inherit_",
  AUTO: "_auto_",
  SIZE: {
    INFINITY: "infinity",
    SMALL: "small",
    NORMAL: "normal",
    BIG: "big"
  },
  COLOR: {
    TRANSPARENT: "transparent"
  },
  VARIANT: {
    NORMAL: "normal",
    BOLD: "bold",
    ITALIC: "italic",
    BOLDITALIC: "bold-italic",
    DOUBLESTRUCK: "double-struck",
    FRAKTUR: "fraktur",
    BOLDFRAKTUR: "bold-fraktur",
    SCRIPT: "script",
    BOLDSCRIPT: "bold-script",
    SANSSERIF: "sans-serif",
    BOLDSANSSERIF: "bold-sans-serif",
    SANSSERIFITALIC: "sans-serif-italic",
    SANSSERIFBOLDITALIC: "sans-serif-bold-italic",
    MONOSPACE: "monospace",
    INITIAL: "inital",
    TAILED: "tailed",
    LOOPED: "looped",
    STRETCHED: "stretched",
    CALIGRAPHIC: "-tex-caligraphic",
    OLDSTYLE: "-tex-oldstyle"
  },
  FORM: {
    PREFIX: "prefix",
    INFIX: "infix",
    POSTFIX: "postfix"
  },
  LINEBREAK: {
    AUTO: "auto",
    NEWLINE: "newline",
    NOBREAK: "nobreak",
    GOODBREAK: "goodbreak",
    BADBREAK: "badbreak"
  },
  LINEBREAKSTYLE: {
    BEFORE: "before",
    AFTER: "after",
    DUPLICATE: "duplicate",
    INFIXLINBREAKSTYLE: "infixlinebreakstyle"
  },
  INDENTALIGN: {
    LEFT: "left",
    CENTER: "center",
    RIGHT: "right",
    AUTO: "auto",
    ID: "id",
    INDENTALIGN: "indentalign"
  },
  INDENTSHIFT: {
    INDENTSHIFT: "indentshift"
  },
  LINETHICKNESS: {
    THIN: "thin",
    MEDIUM: "medium",
    THICK: "thick"
  },
  NOTATION: {
    LONGDIV: "longdiv",
    ACTUARIAL: "actuarial",
    RADICAL: "radical",
    BOX: "box",
    ROUNDEDBOX: "roundedbox",
    CIRCLE: "circle",
    LEFT: "left",
    RIGHT: "right",
    TOP: "top",
    BOTTOM: "bottom",
    UPDIAGONALSTRIKE: "updiagonalstrike",
    DOWNDIAGONALSTRIKE: "downdiagonalstrike",
    UPDIAGONALARROW: "updiagonalarrow",
    VERTICALSTRIKE: "verticalstrike",
    HORIZONTALSTRIKE: "horizontalstrike",
    PHASORANGLE: "phasorangle",
    MADRUWB: "madruwb"
  },
  ALIGN: {
    TOP: "top",
    BOTTOM: "bottom",
    CENTER: "center",
    BASELINE: "baseline",
    AXIS: "axis",
    LEFT: "left",
    RIGHT: "right"
  },
  LINES: {
    NONE: "none",
    SOLID: "solid",
    DASHED: "dashed"
  },
  SIDE: {
    LEFT: "left",
    RIGHT: "right",
    LEFTOVERLAP: "leftoverlap",
    RIGHTOVERLAP: "rightoverlap"
  },
  WIDTH: {
    AUTO: "auto",
    FIT: "fit"
  },
  ACTIONTYPE: {
    TOGGLE: "toggle",
    STATUSLINE: "statusline",
    TOOLTIP: "tooltip",
    INPUT: "input"
  },
  LENGTH: {
    VERYVERYTHINMATHSPACE: "veryverythinmathspace",
    VERYTHINMATHSPACE: "verythinmathspace",
    THINMATHSPACE: "thinmathspace",
    MEDIUMMATHSPACE: "mediummathspace",
    THICKMATHSPACE: "thickmathspace",
    VERYTHICKMATHSPACE: "verythickmathspace",
    VERYVERYTHICKMATHSPACE: "veryverythickmathspace",
    NEGATIVEVERYVERYTHINMATHSPACE: "negativeveryverythinmathspace",
    NEGATIVEVERYTHINMATHSPACE: "negativeverythinmathspace",
    NEGATIVETHINMATHSPACE: "negativethinmathspace",
    NEGATIVEMEDIUMMATHSPACE: "negativemediummathspace",
    NEGATIVETHICKMATHSPACE: "negativethickmathspace",
    NEGATIVEVERYTHICKMATHSPACE: "negativeverythickmathspace",
    NEGATIVEVERYVERYTHICKMATHSPACE: "negativeveryverythickmathspace"
  },
  OVERFLOW: {
    LINBREAK: "linebreak",
    SCROLL: "scroll",
    ELIDE: "elide",
    TRUNCATE: "truncate",
    SCALE: "scale"
  },
  UNIT: {
    EM: "em",
    EX: "ex",
    PX: "px",
    IN: "in",
    CM: "cm",
    MM: "mm",
    PT: "pt",
    PC: "pc"
  },
  TEXCLASS: {
    ORD:   0,
    OP:    1,
    BIN:   2,
    REL:   3,
    OPEN:  4,
    CLOSE: 5,
    PUNCT: 6,
    INNER: 7,
    VCENTER: 8,
    NONE:   -1
  },
  TEXCLASSNAMES: ["ORD", "OP", "BIN", "REL", "OPEN", "CLOSE", "PUNCT", "INNER", "VCENTER"],
  skipAttributes: {
    texClass:true, useHeight:true, texprimestyle:true
  },
  copyAttributes: {
    displaystyle:1, scriptlevel:1, open:1, close:1, form:1,
    actiontype: 1,
    fontfamily:true, fontsize:true, fontweight:true, fontstyle:true,
    color:true, background:true,
    id:true, "class":1, href:true, style:true
  },
  copyAttributeNames: [
    "displaystyle", "scriptlevel", "open", "close", "form",  // force these to be copied
    "actiontype",
    "fontfamily", "fontsize", "fontweight", "fontstyle",
    "color", "background",
    "id", "class", "href", "style"
  ],
  nocopyAttributes: {
    fontfamily: true, fontsize: true, fontweight: true, fontstyle: true,
    color: true, background: true,
    id: true, 'class': true, href: true, style: true,
    xmlns: true
  },
  Error: function (message,def) {
    var mml = this.merror(message),
        dir = MathJax.Localization.fontDirection(),
        font = MathJax.Localization.fontFamily();
    if (def) {mml = mml.With(def)}
    if (dir || font) {
      mml = this.mstyle(mml);
      if (dir) {mml.dir = dir}
      if (font) {mml.style.fontFamily = "font-family: "+font}
    }
    return mml;
  }
});

@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1051">(function (MML) {

  MML.mbase = MathJax.Object.Subclass({
    type: "base", isToken: false,
    defaults: {
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      dir: MML.INHERIT
    },
    noInherit: {},
    noInheritAttribute: {
      texClass: true
    },
    getRemoved: {},
    linebreakContainer: false,

    Init: function () {
      this.data = [];
      if (this.inferRow &amp;&amp; !(arguments.length === 1 &amp;&amp; arguments[0].inferred))
        {this.Append(MML.mrow().With({inferred: true, notParent: true}))}
      this.Append.apply(this,arguments);
    },
    With: function (def) {
      for (var id in def) {if (def.hasOwnProperty(id)) {this[id] = def[id]}}
      return this;
    },
    Append: function () {
      if (this.inferRow &amp;&amp; this.data.length) {
        this.data[0].Append.apply(this.data[0],arguments);
      } else {
        for (var i = 0, m = arguments.length; i &lt; m; i++)
          {this.SetData(this.data.length,arguments[i])}
      }
    },
    SetData: function (i,item) {
      if (item != null) {
        if (!(item instanceof MML.mbase))
          {item = (this.isToken || this.isChars ? MML.chars(item) : MML.mtext(item))}
        item.parent = this;
        item.setInherit(this.inheritFromMe ? this : this.inherit);
      }
      this.data[i] = item;
    },
    Parent: function () {
      var parent = this.parent;
      while (parent &amp;&amp; parent.notParent) {parent = parent.parent}
      return parent;
    },
    Get: function (name,nodefault,noself) {
      if (!noself) {
        if (this[name] != null) {return this[name]}
        if (this.attr &amp;&amp; this.attr[name] != null) {return this.attr[name]}
      }
      // FIXME: should cache these values and get from cache
      // (clear cache when appended to a new object?)
      var parent = this.Parent();
      if (parent &amp;&amp; parent["adjustChild_"+name] != null) {
        return (parent["adjustChild_"+name])(this.childPosition(),nodefault);
      }
      var obj = this.inherit; var root = obj;
      while (obj) {
        var value = obj[name]; if (value == null &amp;&amp; obj.attr) {value = obj.attr[name]}
        if (obj.removedStyles &amp;&amp; obj.getRemoved[name] &amp;&amp; value == null) value = obj.removedStyles[obj.getRemoved[name]];
        if (value != null &amp;&amp; obj.noInheritAttribute &amp;&amp; !obj.noInheritAttribute[name]) {
          var noInherit = obj.noInherit[this.type];
          if (!(noInherit &amp;&amp; noInherit[name])) {return value}
        }
        root = obj; obj = obj.inherit;
      }
      if (!nodefault) {
        if (this.defaults[name] === MML.AUTO) {return this.autoDefault(name)}
        if (this.defaults[name] !== MML.INHERIT &amp;&amp; this.defaults[name] != null)
          {return this.defaults[name]}
        if (root) {return root.defaults[name]}
      }
      return null;
    },
    hasValue: function (name) {return (this.Get(name,true) != null)},
    getValues: function () {
      var values = {};
      for (var i = 0, m = arguments.length; i &lt; m; i++)
        {values[arguments[i]] = this.Get(arguments[i])}
      return values;
    },
    adjustChild_scriptlevel:   function (i,nodef) {return this.Get("scriptlevel",nodef)},   // always inherit from parent
    adjustChild_displaystyle:  function (i,nodef) {return this.Get("displaystyle",nodef)},  // always inherit from parent
    adjustChild_texprimestyle: function (i,nodef) {return this.Get("texprimestyle",nodef)}, // always inherit from parent
    childPosition: function () {
      var child = this, parent = child.parent;
      while (parent.notParent) {child = parent; parent = child.parent}
      for (var i = 0, m = parent.data.length; i &lt; m; i++) {if (parent.data[i] === child) {return i}}
      return null;
    },
    setInherit: function (obj) {
      if (obj !== this.inherit &amp;&amp; this.inherit == null) {
        this.inherit = obj;
        for (var i = 0, m = this.data.length; i &lt; m; i++) {
          if (this.data[i] &amp;&amp; this.data[i].setInherit) {this.data[i].setInherit(obj)}
        }
      }
    },
    setTeXclass: function (prev) {
      this.getPrevClass(prev);
      return (typeof(this.texClass) !== "undefined" ? this : prev);
    },
    getPrevClass: function (prev) {
      if (prev) {
        this.prevClass = prev.Get("texClass");
        this.prevLevel = prev.Get("scriptlevel");
      }
    },
    updateTeXclass: function (core) {
      if (core) {
        this.prevClass = core.prevClass; delete core.prevClass;
        this.prevLevel = core.prevLevel; delete core.prevLevel;
        this.texClass = core.Get("texClass");
      }
    },
    texSpacing: function () {
      var prev = (this.prevClass != null ? this.prevClass : MML.TEXCLASS.NONE);
      var tex = (this.Get("texClass") || MML.TEXCLASS.ORD);
      if (prev === MML.TEXCLASS.NONE || tex === MML.TEXCLASS.NONE) {return ""}
      if (prev === MML.TEXCLASS.VCENTER) {prev = MML.TEXCLASS.ORD}
      if (tex  === MML.TEXCLASS.VCENTER) {tex  = MML.TEXCLASS.ORD}
      var space = this.TEXSPACE[prev][tex];
      if ((this.prevLevel &gt; 0 || this.Get("scriptlevel") &gt; 0) &amp;&amp; space &gt;= 0) {return ""}
      return this.TEXSPACELENGTH[Math.abs(space)];
    },
    TEXSPACELENGTH:[
      "",
      MML.LENGTH.THINMATHSPACE,
      MML.LENGTH.MEDIUMMATHSPACE,
      MML.LENGTH.THICKMATHSPACE
    ],
    // See TeXBook Chapter 18 (p. 170)
    TEXSPACE: [
      [ 0,-1, 2, 3, 0, 0, 0, 1], // ORD
      [-1,-1, 0, 3, 0, 0, 0, 1], // OP
      [ 2, 2, 0, 0, 2, 0, 0, 2], // BIN
      [ 3, 3, 0, 0, 3, 0, 0, 3], // REL
      [ 0, 0, 0, 0, 0, 0, 0, 0], // OPEN
      [ 0,-1, 2, 3, 0, 0, 0, 1], // CLOSE
      [ 1, 1, 0, 1, 1, 1, 1, 1], // PUNCT
      [ 1,-1, 2, 3, 1, 0, 1, 1]  // INNER
    ],
    autoDefault: function (name) {return ""},
    isSpacelike: function () {return false},
    isEmbellished: function () {return false},
    Core: function () {return this},
    CoreMO: function () {return this},
    childIndex: function(child) {
      if (child == null) return;
      for (var i = 0, m = this.data.length; i &lt; m; i++) if (child === this.data[i]) return i;
    },
    CoreIndex: function () {
      return (this.inferRow ? this.data[0]||this : this).childIndex(this.Core());
    },
    hasNewline: function () {
      if (this.isEmbellished()) {return this.CoreMO().hasNewline()}
      if (this.isToken || this.linebreakContainer) {return false}
      for (var i = 0, m = this.data.length; i &lt; m; i++) {
        if (this.data[i] &amp;&amp; this.data[i].hasNewline()) {return true}
      }
      return false;
    },
    array: function () {if (this.inferred) {return this.data} else {return [this]}},
    toString: function () {return this.type+"("+this.data.join(",")+")"},
    getAnnotation: function () {return null}
  },{
    childrenSpacelike: function () {
      for (var i = 0, m = this.data.length; i &lt; m; i++)
        {if (!this.data[i].isSpacelike()) {return false}}
      return true;
    },
    childEmbellished: function () {
      return (this.data[0] &amp;&amp; this.data[0].isEmbellished());
    },
    childCore: function () {return (this.inferRow &amp;&amp; this.data[0] ? this.data[0].Core() : this.data[0])},
    childCoreMO: function () {return (this.data[0] ? this.data[0].CoreMO() : null)},
    setChildTeXclass: function (prev) {
      if (this.data[0]) {
        prev = this.data[0].setTeXclass(prev);
        this.updateTeXclass(this.data[0]);
      }
      return prev;
    },
    setBaseTeXclasses: function (prev) {
      this.getPrevClass(prev); this.texClass = null;
      if (this.data[0]) {
        if (this.isEmbellished() || this.data[0].isa(MML.mi)) {
          prev = this.data[0].setTeXclass(prev);
          this.updateTeXclass(this.Core());
        } else {this.data[0].setTeXclass(); prev = this}
      } else {prev = this}
      for (var i = 1, m = this.data.length; i &lt; m; i++)
        {if (this.data[i]) {this.data[i].setTeXclass()}}
      return prev;
    },
    setSeparateTeXclasses: function (prev) {
      this.getPrevClass(prev);
      for (var i = 0, m = this.data.length; i &lt; m; i++)
        {if (this.data[i]) {this.data[i].setTeXclass()}}
      if (this.isEmbellished()) {this.updateTeXclass(this.Core())}
      return this;
    }
  });

  MML.mi = MML.mbase.Subclass({
    type: "mi", isToken: true,
    texClass: MML.TEXCLASS.ORD,
    defaults: {
      mathvariant: MML.AUTO,
      mathsize: MML.INHERIT,
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      dir: MML.INHERIT
    },
    autoDefault: function (name) {
      if (name === "mathvariant") {
        var mi = (this.data[0]||"").toString();
        return (mi.length === 1 ||
               (mi.length === 2 &amp;&amp; mi.charCodeAt(0) &gt;= 0xD800 &amp;&amp; mi.charCodeAt(0) &lt; 0xDC00) ?
                  MML.VARIANT.ITALIC : MML.VARIANT.NORMAL);
      }
      return "";
    },
    setTeXclass: function (prev) {
      this.getPrevClass(prev);
      var name = this.data.join("");
      if (name.length &gt; 1 &amp;&amp; name.match(/^[a-z][a-z0-9]*$/i) &amp;&amp;
          this.texClass === MML.TEXCLASS.ORD) {
        this.texClass = MML.TEXCLASS.OP;
        this.autoOP = true;
      }
      return this;
    }
  });

  MML.mn = MML.mbase.Subclass({
    type: "mn", isToken: true,
    texClass: MML.TEXCLASS.ORD,
    defaults: {
      mathvariant: MML.INHERIT,
      mathsize: MML.INHERIT,
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      dir: MML.INHERIT
    }
  });

  MML.mo = MML.mbase.Subclass({
    type: "mo", isToken: true,
    defaults: {
      mathvariant: MML.INHERIT,
      mathsize: MML.INHERIT,
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      dir: MML.INHERIT,
      form: MML.AUTO,
      fence: MML.AUTO,
      separator: MML.AUTO,
      lspace: MML.AUTO,
      rspace: MML.AUTO,
      stretchy: MML.AUTO,
      symmetric: MML.AUTO,
      maxsize: MML.AUTO,
      minsize: MML.AUTO,
      largeop: MML.AUTO,
      movablelimits: MML.AUTO,
      accent: MML.AUTO,
      linebreak: MML.LINEBREAK.AUTO,
      lineleading: MML.INHERIT,
      linebreakstyle: MML.AUTO,
      linebreakmultchar: MML.INHERIT,
      indentalign: MML.INHERIT,
      indentshift: MML.INHERIT,
      indenttarget: MML.INHERIT,
      indentalignfirst: MML.INHERIT,
      indentshiftfirst: MML.INHERIT,
      indentalignlast: MML.INHERIT,
      indentshiftlast: MML.INHERIT,
      texClass: MML.AUTO
    },
    defaultDef: {
      form: MML.FORM.INFIX,
      fence: false,
      separator: false,
      lspace: MML.LENGTH.THICKMATHSPACE,
      rspace: MML.LENGTH.THICKMATHSPACE,
      stretchy: false,
      symmetric: false,
      maxsize: MML.SIZE.INFINITY,
      minsize: '0em', //'1em',
      largeop: false,
      movablelimits: false,
      accent: false,
      linebreak: MML.LINEBREAK.AUTO,
      lineleading: "1ex",
      linebreakstyle: "before",
      indentalign: MML.INDENTALIGN.AUTO,
      indentshift: "0",
      indenttarget: "",
      indentalignfirst: MML.INDENTALIGN.INDENTALIGN,
      indentshiftfirst: MML.INDENTSHIFT.INDENTSHIFT,
      indentalignlast: MML.INDENTALIGN.INDENTALIGN,
      indentshiftlast: MML.INDENTSHIFT.INDENTSHIFT,
      texClass: MML.TEXCLASS.REL // for MML, but TeX sets ORD explicitly
    },
    SPACE_ATTR: {lspace: 0x01, rspace: 0x02, form: 0x04},
    useMMLspacing: 0x07,
    autoDefault: function (name,nodefault) {
      var def = this.def;
      if (!def) {
        if (name === "form") {this.useMMLspacing &amp;= ~this.SPACE_ATTR.form; return this.getForm()}
        var mo = this.data.join("");
        var forms = [this.Get("form"),MML.FORM.INFIX,MML.FORM.POSTFIX,MML.FORM.PREFIX];
        for (var i = 0, m = forms.length; i &lt; m; i++) {
          var data = this.OPTABLE[forms[i]][mo];
          if (data) {def = this.makeDef(data); break}
        }
        if (!def) {def = this.CheckRange(mo)}
        if (!def &amp;&amp; nodefault) {def = {}} else {
          if (!def) {def = MathJax.Hub.Insert({},this.defaultDef)}
          if (this.parent) {this.def = def} else {def = MathJax.Hub.Insert({},def)}
          def.form = forms[0];
        }
      }
      this.useMMLspacing &amp;= ~(this.SPACE_ATTR[name] || 0);
      if (def[name] != null) {return def[name]}
      else if (!nodefault) {return this.defaultDef[name]}
      return "";
    },
    CheckRange: function (mo) {
      var n = mo.charCodeAt(0);
      if (n &gt;= 0xD800 &amp;&amp; n &lt; 0xDC00) {n = (((n-0xD800)&lt;&lt;10)+(mo.charCodeAt(1)-0xDC00))+0x10000}
      for (var i = 0, m = this.RANGES.length; i &lt; m &amp;&amp; this.RANGES[i][0] &lt;= n; i++) {
        if (n &lt;= this.RANGES[i][1]) {
          if (this.RANGES[i][3]) {
            var file = MML.optableDir+"/"+this.RANGES[i][3]+".js";
            this.RANGES[i][3] = null;
            MathJax.Hub.RestartAfter(MathJax.Ajax.Require(file));
          }
          var data = MML.TEXCLASSNAMES[this.RANGES[i][2]];
          data = this.OPTABLE.infix[mo] = MML.mo.OPTYPES[data === "BIN" ? "BIN3" : data];
          return this.makeDef(data);
        }
      }
      return null;
    },
    makeDef: function (data) {
      if (data[2] == null) {data[2] = this.defaultDef.texClass}
      if (!data[3]) {data[3] = {}}
      var def = MathJax.Hub.Insert({},data[3]);
      def.lspace = this.SPACE[data[0]]; def.rspace = this.SPACE[data[1]];
      def.texClass = data[2];
      if (def.texClass === MML.TEXCLASS.REL &amp;&amp;
         (this.movablelimits || this.data.join("").match(/^[a-z]+$/i)))
             {def.texClass = MML.TEXCLASS.OP} // mark named operators as OP
      return def;
    },
    getForm: function () {
      var core = this, parent = this.parent, Parent = this.Parent();
      while (Parent &amp;&amp; Parent.isEmbellished())
        {core = parent; parent = Parent.parent; Parent = Parent.Parent()}
      if (parent &amp;&amp; parent.type === "mrow" &amp;&amp; parent.NonSpaceLength() !== 1) {
        if (parent.FirstNonSpace() === core) {return MML.FORM.PREFIX}
        if (parent.LastNonSpace() === core) {return MML.FORM.POSTFIX}
      }
      return MML.FORM.INFIX;
    },
    isEmbellished: function () {return true},
    hasNewline: function () {return (this.Get("linebreak") === MML.LINEBREAK.NEWLINE)},
    CoreParent: function () {
      var parent = this;
      while (parent &amp;&amp; parent.isEmbellished() &amp;&amp;
             parent.CoreMO() === this &amp;&amp; !parent.isa(MML.math)) {parent = parent.Parent()}
      return parent;
    },
    CoreText: function (parent) {
      if (!parent) {return ""}
      if (parent.isEmbellished()) {return parent.CoreMO().data.join("")}
      while ((((parent.isa(MML.mrow) || parent.isa(MML.TeXAtom) ||
                parent.isa(MML.mstyle) || parent.isa(MML.mphantom)) &amp;&amp;
                parent.data.length === 1) || parent.isa(MML.munderover)) &amp;&amp;
                parent.data[0]) {parent = parent.data[0]}
      if (!parent.isToken) {return ""} else {return parent.data.join("")}
    },
    remapChars: {
      '*':"\u2217",
      '"':"\u2033",
      "\u00B0":"\u2218",
      "\u00B2":"2",
      "\u00B3":"3",
      "\u00B4":"\u2032",
      "\u00B9":"1"
    },
    remap: function (text,map) {
      text = text.replace(/-/g,"\u2212");
      if (map) {
        text = text.replace(/'/g,"\u2032").replace(/`/g,"\u2035");
        if (text.length === 1) {text = map[text]||text}
      }
      return text;
    },
    setTeXclass: function (prev) {
      var values = this.getValues("form","lspace","rspace","fence"); // sets useMMLspacing
      if (this.useMMLspacing) {this.texClass = MML.TEXCLASS.NONE; return this}
      if (values.fence &amp;&amp; !this.texClass) {
        if (values.form === MML.FORM.PREFIX) {this.texClass = MML.TEXCLASS.OPEN}
        if (values.form === MML.FORM.POSTFIX) {this.texClass = MML.TEXCLASS.CLOSE}
      }
      this.texClass = this.Get("texClass");
      if (this.data.join("") === "\u2061") {
        // force previous node to be texClass OP, and skip this node
        if (prev) {prev.texClass = MML.TEXCLASS.OP; prev.fnOP = true}
        this.texClass = this.prevClass = MML.TEXCLASS.NONE;
        return prev;
      }
      return this.adjustTeXclass(prev);
    },
    adjustTeXclass: function (prev) {
      if (this.texClass === MML.TEXCLASS.NONE) {return prev}
      if (prev) {
        if (prev.autoOP &amp;&amp; (this.texClass === MML.TEXCLASS.BIN ||
                            this.texClass === MML.TEXCLASS.REL))
          {prev.texClass = MML.TEXCLASS.ORD}
        this.prevClass = prev.texClass || MML.TEXCLASS.ORD;
        this.prevLevel = prev.Get("scriptlevel")
      } else {this.prevClass = MML.TEXCLASS.NONE}
      if (this.texClass === MML.TEXCLASS.BIN &amp;&amp;
            (this.prevClass === MML.TEXCLASS.NONE ||
             this.prevClass === MML.TEXCLASS.BIN ||
             this.prevClass === MML.TEXCLASS.OP ||
             this.prevClass === MML.TEXCLASS.REL ||
             this.prevClass === MML.TEXCLASS.OPEN ||
             this.prevClass === MML.TEXCLASS.PUNCT)) {
        this.texClass = MML.TEXCLASS.ORD;
      } else if (this.prevClass === MML.TEXCLASS.BIN &amp;&amp;
                   (this.texClass === MML.TEXCLASS.REL ||
                    this.texClass === MML.TEXCLASS.CLOSE ||
                    this.texClass === MML.TEXCLASS.PUNCT)) {
        prev.texClass = this.prevClass = MML.TEXCLASS.ORD;
      } else if (this.texClass === MML.TEXCLASS.BIN) {
        //
        // Check if node is the last one in its container since the rule
        // above only takes effect if there is a node that follows.
        //
        var child = this, parent = this.parent;
        while (parent &amp;&amp; parent.parent &amp;&amp; parent.isEmbellished() &amp;&amp;
              (parent.data.length === 1 ||
              (parent.type !== "mrow" &amp;&amp; parent.Core() === child))) // handles msubsup and munderover
                 {child = parent; parent = parent.parent}
        if (parent.data[parent.data.length-1] === child) this.texClass = MML.TEXCLASS.ORD;
      }
      return this;
    }
  });

  MML.mtext = MML.mbase.Subclass({
    type: "mtext", isToken: true,
    isSpacelike: function () {return true},
    texClass: MML.TEXCLASS.ORD,
    defaults: {
      mathvariant: MML.INHERIT,
      mathsize: MML.INHERIT,
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      dir: MML.INHERIT
    }
  });

  MML.mspace = MML.mbase.Subclass({
    type: "mspace", isToken: true,
    isSpacelike: function () {return true},
    defaults: {
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      width: "0em",
      height: "0ex",
      depth: "0ex",
      linebreak: MML.LINEBREAK.AUTO
    },
    hasDimAttr: function () {
      return (this.hasValue("width") || this.hasValue("height") ||
              this.hasValue("depth"));
    },
    hasNewline: function () {
      // The MathML spec says that the linebreak attribute should be ignored
      // if any dimensional attribute is set.
      return (!this.hasDimAttr() &amp;&amp;
              this.Get("linebreak") === MML.LINEBREAK.NEWLINE);
    }
  });

  MML.ms = MML.mbase.Subclass({
    type: "ms", isToken: true,
    texClass: MML.TEXCLASS.ORD,
    defaults: {
      mathvariant: MML.INHERIT,
      mathsize: MML.INHERIT,
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      dir: MML.INHERIT,
      lquote: '"',
      rquote: '"'
    }
  });

  MML.mglyph = MML.mbase.Subclass({
    type: "mglyph", isToken: true,
    texClass: MML.TEXCLASS.ORD,
    defaults: {
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      alt: "",
      src: "",
      width: MML.AUTO,
      height: MML.AUTO,
      valign: "0em"
    }
  });

  MML.mrow = MML.mbase.Subclass({
    type: "mrow",
    isSpacelike: MML.mbase.childrenSpacelike,
    inferred: false, notParent: false,
    isEmbellished: function () {
      var isEmbellished = false;
      for (var i = 0, m = this.data.length; i &lt; m; i++) {
        if (this.data[i] == null) continue;
        if (this.data[i].isEmbellished()) {
          if (isEmbellished) {return false}
          isEmbellished = true; this.core = i;
        } else if (!this.data[i].isSpacelike()) {return false}
      }
      return isEmbellished;
    },
    NonSpaceLength: function () {
      var n = 0;
      for (var i = 0, m = this.data.length; i &lt; m; i++)
        {if (this.data[i] &amp;&amp; !this.data[i].isSpacelike()) {n++}}
      return n;
    },
    FirstNonSpace: function () {
      for (var i = 0, m = this.data.length; i &lt; m; i++)
        {if (this.data[i] &amp;&amp; !this.data[i].isSpacelike()) {return this.data[i]}}
      return null;
    },
    LastNonSpace: function () {
      for (var i = this.data.length-1; i &gt;= 0; i--)
        {if (this.data[0] &amp;&amp; !this.data[i].isSpacelike()) {return this.data[i]}}
      return null;
    },
    Core: function () {
      if (!(this.isEmbellished()) || typeof(this.core) === "undefined") {return this}
      return this.data[this.core];
    },
    CoreMO: function () {
      if (!(this.isEmbellished()) || typeof(this.core) === "undefined") {return this}
      return this.data[this.core].CoreMO();
    },
    toString: function () {
      if (this.inferred) {return '[' + this.data.join(',') + ']'}
      return this.SUPER(arguments).toString.call(this);
    },
    setTeXclass: function (prev) {
      var i, m = this.data.length;
      if ((this.open || this.close) &amp;&amp; (!prev || !prev.fnOP)) {
        //
        // &lt;mrow&gt; came from \left...\right
        // so treat as subexpression (tex class INNER)
        //
        this.getPrevClass(prev); prev = null;
        for (i = 0; i &lt; m; i++)
          {if (this.data[i]) {prev = this.data[i].setTeXclass(prev)}}
        if (!this.hasOwnProperty("texClass")) this.texClass = MML.TEXCLASS.INNER;
        return this;
      } else {
        //
        //  Normal &lt;mrow&gt;, so treat as
        //  thorugh mrow is not there
        //
        for (i = 0; i &lt; m; i++)
          {if (this.data[i]) {prev = this.data[i].setTeXclass(prev)}}
        if (this.data[0]) {this.updateTeXclass(this.data[0])}
        return prev;
      }
    },
    getAnnotation: function (name) {
      if (this.data.length != 1) return null;
      return this.data[0].getAnnotation(name);
    }
  });

  MML.mfrac = MML.mbase.Subclass({
    type: "mfrac", num: 0, den: 1,
    linebreakContainer: true,
    isEmbellished: MML.mbase.childEmbellished,
    Core: MML.mbase.childCore,
    CoreMO: MML.mbase.childCoreMO,
    defaults: {
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      linethickness: MML.LINETHICKNESS.MEDIUM,
      numalign: MML.ALIGN.CENTER,
      denomalign: MML.ALIGN.CENTER,
      bevelled: false
    },
    adjustChild_displaystyle: function (n) {return false},
    adjustChild_scriptlevel: function (n) {
      var level = this.Get("scriptlevel");
      if (!this.Get("displaystyle") || level &gt; 0) {level++}
      return level;
    },
    adjustChild_texprimestyle: function (n) {
      if (n == this.den) {return true}
      return this.Get("texprimestyle");
    },
    setTeXclass: MML.mbase.setSeparateTeXclasses
  });

  MML.msqrt = MML.mbase.Subclass({
    type: "msqrt",
    inferRow: true,
    linebreakContainer: true,
    texClass: MML.TEXCLASS.ORD,
    setTeXclass: MML.mbase.setSeparateTeXclasses,
    adjustChild_texprimestyle: function (n) {return true}
  });

  MML.mroot = MML.mbase.Subclass({
    type: "mroot",
    linebreakContainer: true,
    texClass: MML.TEXCLASS.ORD,
    adjustChild_displaystyle: function (n) {
      if (n === 1) {return false}
      return this.Get("displaystyle");
    },
    adjustChild_scriptlevel: function (n) {
      var level = this.Get("scriptlevel");
      if (n === 1) {level += 2}
      return level;
    },
    adjustChild_texprimestyle: function (n) {
      if (n === 0) {return true};
      return this.Get("texprimestyle");
    },
    setTeXclass: MML.mbase.setSeparateTeXclasses
  });

  MML.mstyle = MML.mbase.Subclass({
    type: "mstyle",
    isSpacelike: MML.mbase.childrenSpacelike,
    isEmbellished: MML.mbase.childEmbellished,
    Core: MML.mbase.childCore,
    CoreMO: MML.mbase.childCoreMO,
    inferRow: true,
    defaults: {
      scriptlevel: MML.INHERIT,
      displaystyle: MML.INHERIT,
      scriptsizemultiplier: Math.sqrt(1/2),
      scriptminsize: "8pt",
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      dir: MML.INHERIT,
      infixlinebreakstyle: MML.LINEBREAKSTYLE.BEFORE,
      decimalseparator: "."
    },
    adjustChild_scriptlevel: function (n) {
      var level = this.scriptlevel;
      if (level == null) {
        level = this.Get("scriptlevel");
      } else if (String(level).match(/^ *[-+]/)) {
        var LEVEL = this.Get("scriptlevel",null,true);
        level = LEVEL + parseInt(level);
      }
      return level;
    },
    inheritFromMe: true,
    noInherit: {
      mpadded: {width: true, height: true, depth: true, lspace: true, voffset: true},
      mtable:  {width: true, height: true, depth: true, align: true}
    },
    getRemoved: {fontfamily:"fontFamily", fontweight:"fontWeight", fontstyle:"fontStyle", fontsize:"fontSize"},
    setTeXclass: MML.mbase.setChildTeXclass
  });

  MML.merror = MML.mbase.Subclass({
    type: "merror",
    inferRow: true,
    linebreakContainer: true,
    texClass: MML.TEXCLASS.ORD
  });

  MML.mpadded = MML.mbase.Subclass({
    type: "mpadded",
    inferRow: true,
    isSpacelike: MML.mbase.childrenSpacelike,
    isEmbellished: MML.mbase.childEmbellished,
    Core: MML.mbase.childCore,
    CoreMO: MML.mbase.childCoreMO,
    defaults: {
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      width: "",
      height: "",
      depth: "",
      lspace: 0,
      voffset: 0
    },
    setTeXclass: MML.mbase.setChildTeXclass
  });

  MML.mphantom = MML.mbase.Subclass({
    type: "mphantom",
    texClass: MML.TEXCLASS.ORD,
    inferRow: true,
    isSpacelike: MML.mbase.childrenSpacelike,
    isEmbellished: MML.mbase.childEmbellished,
    Core: MML.mbase.childCore,
    CoreMO: MML.mbase.childCoreMO,
    setTeXclass: MML.mbase.setChildTeXclass
  });

  MML.mfenced = MML.mbase.Subclass({
    type: "mfenced",
    defaults: {
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      open: '(',
      close: ')',
      separators: ','
    },
    addFakeNodes: function () {
      var values = this.getValues("open","close","separators");
      values.open = values.open.replace(/[ \t\n\r]/g,"");
      values.close = values.close.replace(/[ \t\n\r]/g,"");
      values.separators = values.separators.replace(/[ \t\n\r]/g,"");
      //
      //  Create a fake node for the open item
      //
      if (values.open !== "") {
        this.SetData("open",MML.mo(values.open).With({
          fence:true, form:MML.FORM.PREFIX, texClass:MML.TEXCLASS.OPEN
        }));
        //
        //  Clear flag for using MML spacing even though form is specified
        //
        this.data.open.useMMLspacing = 0;
      }
      //
      //  Create fake nodes for the separators
      //
      if (values.separators !== "") {
        while (values.separators.length &lt; this.data.length)
          {values.separators += values.separators.charAt(values.separators.length-1)}
        for (var i = 1, m = this.data.length; i &lt; m; i++) {
          if (this.data[i]) {
            this.SetData("sep"+i,MML.mo(values.separators.charAt(i-1)).With({separator:true}))
            this.data["sep"+i].useMMLspacing = 0;
          }
        }
      }
      //
      //  Create fake node for the close item
      //
      if (values.close !== "") {
        this.SetData("close",MML.mo(values.close).With({
          fence:true, form:MML.FORM.POSTFIX, texClass:MML.TEXCLASS.CLOSE
        }));
        //
        //  Clear flag for using MML spacing even though form is specified
        //
        this.data.close.useMMLspacing = 0;
      }
    },
    texClass: MML.TEXCLASS.OPEN,
    setTeXclass: function (prev) {
      this.addFakeNodes();
      this.getPrevClass(prev);
      if (this.data.open) {prev = this.data.open.setTeXclass(prev)}
      if (this.data[0]) {prev = this.data[0].setTeXclass(prev)}
      for (var i = 1, m = this.data.length; i &lt; m; i++) {
        if (this.data["sep"+i]) {prev = this.data["sep"+i].setTeXclass(prev)}
        if (this.data[i]) {prev = this.data[i].setTeXclass(prev)}
      }
      if (this.data.close) {prev = this.data.close.setTeXclass(prev)}
      this.updateTeXclass(this.data.open);
      this.texClass = MML.TEXCLASS.INNER;
      return prev;
    }
  });

  MML.menclose = MML.mbase.Subclass({
    type: "menclose",
    inferRow: true,
    linebreakContainer: true,
    defaults: {
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      notation: MML.NOTATION.LONGDIV,
      texClass: MML.TEXCLASS.ORD
    },
    setTeXclass: MML.mbase.setSeparateTeXclasses
  });

  MML.msubsup = MML.mbase.Subclass({
    type: "msubsup", base: 0, sub: 1, sup: 2,
    isEmbellished: MML.mbase.childEmbellished,
    Core: MML.mbase.childCore,
    CoreMO: MML.mbase.childCoreMO,
    defaults: {
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      subscriptshift: "",
      superscriptshift: "",
      texClass: MML.AUTO
    },
    autoDefault: function (name) {
      if (name === "texClass")
        {return (this.isEmbellished() ? this.CoreMO().Get(name) : MML.TEXCLASS.ORD)}
      return 0;
    },
    adjustChild_displaystyle: function (n) {
      if (n &gt; 0) {return false}
      return this.Get("displaystyle");
    },
    adjustChild_scriptlevel: function (n) {
      var level = this.Get("scriptlevel");
      if (n &gt; 0) {level++}
      return level;
    },
    adjustChild_texprimestyle: function (n) {
      if (n === this.sub) {return true}
      return this.Get("texprimestyle");
    },
    setTeXclass: MML.mbase.setBaseTeXclasses
  });

  MML.msub = MML.msubsup.Subclass({type: "msub"});
  MML.msup = MML.msubsup.Subclass({type: "msup", sub:2, sup:1});
  MML.mmultiscripts = MML.msubsup.Subclass({
    type: "mmultiscripts",
    adjustChild_texprimestyle: function (n) {
      if (n % 2 === 1) {return true}
      return this.Get("texprimestyle");
    }
  });
  MML.mprescripts = MML.mbase.Subclass({type: "mprescripts"});
  MML.none = MML.mbase.Subclass({type: "none"});

  MML.munderover = MML.mbase.Subclass({
    type: "munderover",
    base: 0, under: 1, over: 2, sub: 1, sup: 2,
    ACCENTS: ["", "accentunder", "accent"],
    linebreakContainer: true,
    isEmbellished: MML.mbase.childEmbellished,
    Core: MML.mbase.childCore,
    CoreMO: MML.mbase.childCoreMO,
    defaults: {
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      accent: MML.AUTO,
      accentunder: MML.AUTO,
      align: MML.ALIGN.CENTER,
      texClass: MML.AUTO,
      subscriptshift: "",  // when converted to msubsup by moveablelimits
      superscriptshift: "" // when converted to msubsup by moveablelimits
    },
    autoDefault: function (name) {
      if (name === "texClass")
        {return (this.isEmbellished() ? this.CoreMO().Get(name) : MML.TEXCLASS.ORD)}
      if (name === "accent" &amp;&amp; this.data[this.over]) {return this.data[this.over].CoreMO().Get("accent")}
      if (name === "accentunder" &amp;&amp; this.data[this.under]) {return this.data[this.under].CoreMO().Get("accent")}
      return false;
    },
    adjustChild_displaystyle: function (n) {
      if (n &gt; 0) {return false}
      return this.Get("displaystyle");
    },
    adjustChild_scriptlevel: function (n) {
      var level = this.Get("scriptlevel");
      var force = (this.data[this.base] &amp;&amp; !this.Get("displaystyle") &amp;&amp;
                   this.data[this.base].CoreMO().Get("movablelimits"));
      if (n == this.under &amp;&amp; (force || !this.Get("accentunder"))) {level++}
      if (n == this.over  &amp;&amp; (force || !this.Get("accent"))) {level++}
      return level;
    },
    adjustChild_texprimestyle: function (n) {
      if (n === this.base &amp;&amp; this.data[this.over]) {return true}
      return this.Get("texprimestyle");
    },
    setTeXclass: MML.mbase.setBaseTeXclasses
  });

  MML.munder = MML.munderover.Subclass({type: "munder"});
  MML.mover = MML.munderover.Subclass({
    type: "mover", over: 1, under: 2, sup: 1, sub: 2,
    ACCENTS: ["", "accent", "accentunder"]
  });

  MML.mtable = MML.mbase.Subclass({
    type: "mtable",
    defaults: {
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      align: MML.ALIGN.AXIS,
      rowalign: MML.ALIGN.BASELINE,
      columnalign: MML.ALIGN.CENTER,
      groupalign: "{left}",
      alignmentscope: true,
      columnwidth: MML.WIDTH.AUTO,
      width: MML.WIDTH.AUTO,
      rowspacing: "1ex",
      columnspacing: ".8em",
      rowlines: MML.LINES.NONE,
      columnlines: MML.LINES.NONE,
      frame: MML.LINES.NONE,
      framespacing: "0.4em 0.5ex",
      equalrows: false,
      equalcolumns: false,
      displaystyle: false,
      side: MML.SIDE.RIGHT,
      minlabelspacing: "0.8em",
      texClass: MML.TEXCLASS.ORD,
      useHeight: 1
    },
    adjustChild_displaystyle: function () {
      return (this.displaystyle != null ? this.displaystyle : this.defaults.displaystyle);
    },
    inheritFromMe: true,
    noInherit: {
      mover: {align: true},
      munder: {align: true},
      munderover: {align: true},
      mtable: {
        align: true, rowalign: true, columnalign: true, groupalign: true,
        alignmentscope: true, columnwidth: true, width: true, rowspacing: true,
        columnspacing: true, rowlines: true, columnlines: true, frame: true,
        framespacing: true, equalrows: true, equalcolumns: true, displaystyle: true,
        side: true, minlabelspacing: true, texClass: true, useHeight: 1
      }
    },
    linebreakContainer: true,
    Append: function () {
      for (var i = 0, m = arguments.length; i &lt; m; i++) {
        if (!((arguments[i] instanceof MML.mtr) ||
              (arguments[i] instanceof MML.mlabeledtr))) {arguments[i] = MML.mtr(arguments[i])}
      }
      this.SUPER(arguments).Append.apply(this,arguments);
    },
    setTeXclass: MML.mbase.setSeparateTeXclasses
  });

  MML.mtr = MML.mbase.Subclass({
    type: "mtr",
    defaults: {
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      rowalign: MML.INHERIT,
      columnalign: MML.INHERIT,
      groupalign: MML.INHERIT
    },
    inheritFromMe: true,
    noInherit: {
      mrow: {rowalign: true, columnalign: true, groupalign: true},
      mtable: {rowalign: true, columnalign: true, groupalign: true}
    },
    linebreakContainer: true,
    Append: function () {
      for (var i = 0, m = arguments.length; i &lt; m; i++) {
        if (!(arguments[i] instanceof MML.mtd)) {arguments[i] = MML.mtd(arguments[i])}
      }
      this.SUPER(arguments).Append.apply(this,arguments);
    },
    setTeXclass: MML.mbase.setSeparateTeXclasses
  });

  MML.mtd = MML.mbase.Subclass({
    type: "mtd",
    inferRow: true,
    linebreakContainer: true,
    isEmbellished: MML.mbase.childEmbellished,
    Core: MML.mbase.childCore,
    CoreMO: MML.mbase.childCoreMO,
    defaults: {
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      rowspan: 1,
      columnspan: 1,
      rowalign: MML.INHERIT,
      columnalign: MML.INHERIT,
      groupalign: MML.INHERIT
    },
    setTeXclass: MML.mbase.setSeparateTeXclasses
  });

  MML.maligngroup = MML.mbase.Subclass({
    type: "maligngroup",
    isSpacelike: function () {return true},
    defaults: {
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      groupalign: MML.INHERIT
    },
    inheritFromMe: true,
    noInherit: {
      mrow: {groupalign: true},
      mtable: {groupalign: true}
    }
  });

  MML.malignmark = MML.mbase.Subclass({
    type: "malignmark",
    defaults: {
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      edge: MML.SIDE.LEFT
    },
    isSpacelike: function () {return true}
  });

  MML.mlabeledtr = MML.mtr.Subclass({
    type: "mlabeledtr"
  });

  MML.maction = MML.mbase.Subclass({
    type: "maction",
    defaults: {
      mathbackground: MML.INHERIT,
      mathcolor: MML.INHERIT,
      actiontype: MML.ACTIONTYPE.TOGGLE,
      selection: 1
    },
    selected: function () {return this.data[this.Get("selection")-1] || MML.NULL},
    isEmbellished: function () {return this.selected().isEmbellished()},
    isSpacelike: function () {return this.selected().isSpacelike()},
    Core: function () {return this.selected().Core()},
    CoreMO: function () {return this.selected().CoreMO()},
    setTeXclass: function (prev) {
      if (this.Get("actiontype") === MML.ACTIONTYPE.TOOLTIP &amp;&amp; this.data[1]) {
        // Make sure tooltip has proper spacing when typeset (see issue #412)
        this.data[1].setTeXclass();
      }
      var selected = this.selected();
      prev = selected.setTeXclass(prev);
      this.updateTeXclass(selected);
      return prev;
    }
  });

  MML.semantics = MML.mbase.Subclass({
    type: "semantics", notParent: true,
    isEmbellished: MML.mbase.childEmbellished,
    Core: MML.mbase.childCore,
    CoreMO: MML.mbase.childCoreMO,
    defaults: {
      definitionURL: null,
      encoding: null
    },
    setTeXclass: MML.mbase.setChildTeXclass,
    getAnnotation: function (name) {
      var encodingList = MathJax.Hub.config.MathMenu.semanticsAnnotations[name];
      if (encodingList) {
        for (var i = 0, m = this.data.length; i &lt; m; i++) {
          var encoding = this.data[i].Get("encoding");
          if (encoding) {
            for (var j = 0, n = encodingList.length; j &lt; n; j++) {
              if (encodingList[j] === encoding) return this.data[i];
            }
          }
        }
      }
      return null;
    }
  });
  MML.annotation = MML.mbase.Subclass({
    type: "annotation", isChars: true,
    linebreakContainer: true,
    defaults: {
      definitionURL: null,
      encoding: null,
      cd: "mathmlkeys",
      name: "",
      src: null
    }
  });
  MML["annotation-xml"] = MML.mbase.Subclass({
    type: "annotation-xml",
    linebreakContainer: true,
    defaults: {
      definitionURL: null,
      encoding: null,
      cd: "mathmlkeys",
      name: "",
      src: null
    }
  });

  MML.math = MML.mstyle.Subclass({
    type: "math",
    defaults: {
      mathvariant: MML.VARIANT.NORMAL,
      mathsize: MML.SIZE.NORMAL,
      mathcolor: "", // should be "black", but allow it to inherit from surrounding text
      mathbackground: MML.COLOR.TRANSPARENT,
      dir: "ltr",
      scriptlevel: 0,
      displaystyle: MML.AUTO,
      display: "inline",
      maxwidth: "",
      overflow: MML.OVERFLOW.LINEBREAK,
      altimg: "",
      'altimg-width': "",
      'altimg-height': "",
      'altimg-valign': "",
      alttext: "",
      cdgroup: "",
      scriptsizemultiplier: Math.sqrt(1/2),
      scriptminsize: "8px",    // should be 8pt, but that's too big
      infixlinebreakstyle: MML.LINEBREAKSTYLE.BEFORE,
      lineleading: "1ex",
      indentshift: "auto",     // use user configuration
      indentalign: MML.INDENTALIGN.AUTO,
      indentalignfirst: MML.INDENTALIGN.INDENTALIGN,
      indentshiftfirst: MML.INDENTSHIFT.INDENTSHIFT,
      indentalignlast:  MML.INDENTALIGN.INDENTALIGN,
      indentshiftlast:  MML.INDENTSHIFT.INDENTSHIFT,
      decimalseparator: ".",
      texprimestyle: false     // is it in TeX's C' style?
    },
    autoDefault: function (name) {
      if (name === "displaystyle") {return this.Get("display") === "block"}
      return "";
    },
    linebreakContainer: true,
    setTeXclass: MML.mbase.setChildTeXclass,
    getAnnotation: function (name) {
      if (this.data.length != 1) return null;
      return this.data[0].getAnnotation(name);
    }
  });

  MML.chars = MML.mbase.Subclass({
    type: "chars",
    Append: function () {this.data.push.apply(this.data,arguments)},
    value: function () {return this.data.join("")},
    toString: function () {return this.data.join("")}
  });

  MML.entity = MML.mbase.Subclass({
    type: "entity",
    Append: function () {this.data.push.apply(this.data,arguments)},
    value: function () {
      if (this.data[0].substr(0,2) === "#x") {return parseInt(this.data[0].substr(2),16)}
      else if (this.data[0].substr(0,1) === "#") {return parseInt(this.data[0].substr(1))}
      else {return 0}  // FIXME: look up named entities from table
    },
    toString: function () {
      var n = this.value();
      if (n &lt;= 0xFFFF) {return String.fromCharCode(n)}
      n -= 0x10000;
      return String.fromCharCode((n&gt;&gt;10)+0xD800, (n&amp;0x3FF)+0xDC00);
    }
  });

  MML.xml = MML.mbase.Subclass({
    type: "xml",
    Init: function () {
      this.div = document.createElement("div");
      return this.SUPER(arguments).Init.apply(this,arguments);
    },
    Append: function () {
      for (var i = 0, m = arguments.length; i &lt; m; i++) {
        var node = this.Import(arguments[i]);
        this.data.push(node);
        this.div.appendChild(node);
      }
    },
    Import: function (node) {
      if (document.importNode) {return document.importNode(node,true)}
      //
      //  IE &lt; 9 doesn't have importNode, so fake it.
      //
      var nNode, i, m;
      if (node.nodeType === 1) { // ELEMENT_NODE
        nNode = document.createElement(node.nodeName);
        for (i = 0, m = node.attributes.length; i &lt; m; i++) {
          var attribute = node.attributes[i];
          if (attribute.specified &amp;&amp; attribute.nodeValue != null &amp;&amp; attribute.nodeValue != '')
            {nNode.setAttribute(attribute.nodeName,attribute.nodeValue)}
          if (attribute.nodeName === "style") {nNode.style.cssText = attribute.nodeValue}
        }
        if (node.className) {nNode.className = node.className}
      } else if (node.nodeType === 3 || node.nodeType === 4) { // TEXT_NODE or CDATA_SECTION_NODE
        nNode = document.createTextNode(node.nodeValue);
      } else if (node.nodeType === 8) { // COMMENT_NODE
        nNode = document.createComment(node.nodeValue);
      } else {
        return document.createTextNode('');
      }
      for (i = 0, m = node.childNodes.length; i &lt; m; i++)
        {nNode.appendChild(this.Import(node.childNodes[i]))}
      return nNode;
    },
    value: function () {return this.div},
    toString: function () {return this.div.innerHTML}
  });

  MML.TeXAtom = MML.mbase.Subclass({
    type: "texatom",
    linebreakContainer: true,
    inferRow: true, notParent: true,
    texClass: MML.TEXCLASS.ORD,
    Core: MML.mbase.childCore,
    CoreMO: MML.mbase.childCoreMO,
    isEmbellished: MML.mbase.childEmbellished,
    setTeXclass: function (prev) {
      this.data[0].setTeXclass();
      return this.adjustTeXclass(prev);
    },
    adjustTeXclass: MML.mo.prototype.adjustTeXclass
  });

  MML.NULL = MML.mbase().With({type:"null"});

  var TEXCLASS = MML.TEXCLASS;

  var MO = {
    ORD:        [0,0,TEXCLASS.ORD],
    ORD11:      [1,1,TEXCLASS.ORD],
    ORD21:      [2,1,TEXCLASS.ORD],
    ORD02:      [0,2,TEXCLASS.ORD],
    ORD55:      [5,5,TEXCLASS.ORD],
    OP:         [1,2,TEXCLASS.OP,{largeop: true, movablelimits: true, symmetric: true}],
    OPFIXED:    [1,2,TEXCLASS.OP,{largeop: true, movablelimits: true}],
    INTEGRAL:   [0,1,TEXCLASS.OP,{largeop: true, symmetric: true}],
    INTEGRAL2:  [1,2,TEXCLASS.OP,{largeop: true, symmetric: true}],
    BIN3:       [3,3,TEXCLASS.BIN],
    BIN4:       [4,4,TEXCLASS.BIN],
    BIN01:      [0,1,TEXCLASS.BIN],
    BIN5:       [5,5,TEXCLASS.BIN],
    TALLBIN:    [4,4,TEXCLASS.BIN,{stretchy: true}],
    BINOP:      [4,4,TEXCLASS.BIN,{largeop: true, movablelimits: true}],
    REL:        [5,5,TEXCLASS.REL],
    REL1:       [1,1,TEXCLASS.REL,{stretchy: true}],
    REL4:       [4,4,TEXCLASS.REL],
    RELSTRETCH: [5,5,TEXCLASS.REL,{stretchy: true}],
    RELACCENT:  [5,5,TEXCLASS.REL,{accent: true}],
    WIDEREL:    [5,5,TEXCLASS.REL,{accent: true, stretchy: true}],
    OPEN:       [0,0,TEXCLASS.OPEN,{fence: true, stretchy: true, symmetric: true}],
    CLOSE:      [0,0,TEXCLASS.CLOSE,{fence: true, stretchy: true, symmetric: true}],
    INNER:      [0,0,TEXCLASS.INNER],
    PUNCT:      [0,3,TEXCLASS.PUNCT],
    ACCENT:     [0,0,TEXCLASS.ORD,{accent: true}],
    WIDEACCENT: [0,0,TEXCLASS.ORD,{accent: true, stretchy: true}]
  };

  MML.mo.Augment({
    SPACE: [
      '0em',
      '0.1111em',
      '0.1667em',
      '0.2222em',
      '0.2667em',
      '0.3333em'
    ],
    RANGES: [
      [0x20,0x7F,TEXCLASS.REL,"BasicLatin"],
      [0xA0,0xFF,TEXCLASS.ORD,"Latin1Supplement"],
      [0x100,0x17F,TEXCLASS.ORD],
      [0x180,0x24F,TEXCLASS.ORD],
      [0x2B0,0x2FF,TEXCLASS.ORD,"SpacingModLetters"],
      [0x300,0x36F,TEXCLASS.ORD,"CombDiacritMarks"],
      [0x370,0x3FF,TEXCLASS.ORD,"GreekAndCoptic"],
      [0x1E00,0x1EFF,TEXCLASS.ORD],
      [0x2000,0x206F,TEXCLASS.PUNCT,"GeneralPunctuation"],
      [0x2070,0x209F,TEXCLASS.ORD],
      [0x20A0,0x20CF,TEXCLASS.ORD],
      [0x20D0,0x20FF,TEXCLASS.ORD,"CombDiactForSymbols"],
      [0x2100,0x214F,TEXCLASS.ORD,"LetterlikeSymbols"],
      [0x2150,0x218F,TEXCLASS.ORD],
      [0x2190,0x21FF,TEXCLASS.REL,"Arrows"],
      [0x2200,0x22FF,TEXCLASS.BIN,"MathOperators"],
      [0x2300,0x23FF,TEXCLASS.ORD,"MiscTechnical"],
      [0x2460,0x24FF,TEXCLASS.ORD],
      [0x2500,0x259F,TEXCLASS.ORD],
      [0x25A0,0x25FF,TEXCLASS.ORD,"GeometricShapes"],
      [0x2700,0x27BF,TEXCLASS.ORD,"Dingbats"],
      [0x27C0,0x27EF,TEXCLASS.ORD,"MiscMathSymbolsA"],
      [0x27F0,0x27FF,TEXCLASS.REL,"SupplementalArrowsA"],
      [0x2900,0x297F,TEXCLASS.REL,"SupplementalArrowsB"],
      [0x2980,0x29FF,TEXCLASS.ORD,"MiscMathSymbolsB"],
      [0x2A00,0x2AFF,TEXCLASS.BIN,"SuppMathOperators"],
      [0x2B00,0x2BFF,TEXCLASS.ORD,"MiscSymbolsAndArrows"],
      [0x1D400,0x1D7FF,TEXCLASS.ORD]
    ],
    OPTABLE: {
      prefix: {
        '\u2200': MO.ORD21,    // for all
        '\u2202': MO.ORD21,    // partial differential
        '\u2203': MO.ORD21,    // there exists
        '\u2207': MO.ORD21,    // nabla
        '\u220F': MO.OP,       // n-ary product
        '\u2210': MO.OP,       // n-ary coproduct
        '\u2211': MO.OP,       // n-ary summation
        '\u2212': MO.BIN01,    // minus sign
        '\u2213': MO.BIN01,    // minus-or-plus sign
        '\u221A': [1,1,TEXCLASS.ORD,{stretchy: true}], // square root
        '\u2220': MO.ORD,      // angle
        '\u222B': MO.INTEGRAL, // integral
        '\u222E': MO.INTEGRAL, // contour integral
        '\u22C0': MO.OP,       // n-ary logical and
        '\u22C1': MO.OP,       // n-ary logical or
        '\u22C2': MO.OP,       // n-ary intersection
        '\u22C3': MO.OP,       // n-ary union
        '\u2308': MO.OPEN,     // left ceiling
        '\u230A': MO.OPEN,     // left floor
        '\u27E8': MO.OPEN,     // mathematical left angle bracket
        '\u27EE': MO.OPEN,     // mathematical left flattened parenthesis
        '\u2A00': MO.OP,       // n-ary circled dot operator
        '\u2A01': MO.OP,       // n-ary circled plus operator
        '\u2A02': MO.OP,       // n-ary circled times operator
        '\u2A04': MO.OP,       // n-ary union operator with plus
        '\u2A06': MO.OP,       // n-ary square union operator
        '\u00AC': MO.ORD21,    // not sign
        '\u00B1': MO.BIN01,    // plus-minus sign
        '(': MO.OPEN,          // left parenthesis
        '+': MO.BIN01,         // plus sign
        '-': MO.BIN01,         // hyphen-minus
        '[': MO.OPEN,          // left square bracket
        '{': MO.OPEN,          // left curly bracket
        '|': MO.OPEN           // vertical line
      },
      postfix: {
        '!': [1,0,TEXCLASS.CLOSE], // exclamation mark
        '&amp;': MO.ORD,           // ampersand
        '\u2032': MO.ORD02,    // prime
        '\u203E': MO.WIDEACCENT, // overline
        '\u2309': MO.CLOSE,    // right ceiling
        '\u230B': MO.CLOSE,    // right floor
        '\u23DE': MO.WIDEACCENT, // top curly bracket
        '\u23DF': MO.WIDEACCENT, // bottom curly bracket
        '\u266D': MO.ORD02,    // music flat sign
        '\u266E': MO.ORD02,    // music natural sign
        '\u266F': MO.ORD02,    // music sharp sign
        '\u27E9': MO.CLOSE,    // mathematical right angle bracket
        '\u27EF': MO.CLOSE,    // mathematical right flattened parenthesis
        '\u02C6': MO.WIDEACCENT, // modifier letter circumflex accent
        '\u02C7': MO.WIDEACCENT, // caron
        '\u02C9': MO.WIDEACCENT, // modifier letter macron
        '\u02CA': MO.ACCENT,   // modifier letter acute accent
        '\u02CB': MO.ACCENT,   // modifier letter grave accent
        '\u02D8': MO.ACCENT,   // breve
        '\u02D9': MO.ACCENT,   // dot above
        '\u02DC': MO.WIDEACCENT, // small tilde
        '\u0302': MO.WIDEACCENT, // combining circumflex accent
        '\u00A8': MO.ACCENT,   // diaeresis
        '\u00AF': MO.WIDEACCENT, // macron
        ')': MO.CLOSE,         // right parenthesis
        ']': MO.CLOSE,         // right square bracket
        '^': MO.WIDEACCENT,    // circumflex accent
        '_': MO.WIDEACCENT,    // low line
        '`': MO.ACCENT,        // grave accent
        '|': MO.CLOSE,         // vertical line
        '}': MO.CLOSE,         // right curly bracket
        '~': MO.WIDEACCENT     // tilde
      },
      infix: {
        '': MO.ORD,            // empty &lt;mo&gt;
        '%': [3,3,TEXCLASS.ORD], // percent sign
        '\u2022': MO.BIN4,     // bullet
        '\u2026': MO.INNER,    // horizontal ellipsis
        '\u2044': MO.TALLBIN,  // fraction slash
        '\u2061': MO.ORD,      // function application
        '\u2062': MO.ORD,      // invisible times
        '\u2063': [0,0,TEXCLASS.ORD,{linebreakstyle:"after", separator: true}], // invisible separator
        '\u2064': MO.ORD,      // invisible plus
        '\u2190': MO.WIDEREL,  // leftwards arrow
        '\u2191': MO.RELSTRETCH, // upwards arrow
        '\u2192': MO.WIDEREL,  // rightwards arrow
        '\u2193': MO.RELSTRETCH, // downwards arrow
        '\u2194': MO.WIDEREL,  // left right arrow
        '\u2195': MO.RELSTRETCH, // up down arrow
        '\u2196': MO.RELSTRETCH, // north west arrow
        '\u2197': MO.RELSTRETCH, // north east arrow
        '\u2198': MO.RELSTRETCH, // south east arrow
        '\u2199': MO.RELSTRETCH, // south west arrow
        '\u21A6': MO.WIDEREL,  // rightwards arrow from bar
        '\u21A9': MO.WIDEREL,  // leftwards arrow with hook
        '\u21AA': MO.WIDEREL,  // rightwards arrow with hook
        '\u21BC': MO.WIDEREL,  // leftwards harpoon with barb upwards
        '\u21BD': MO.WIDEREL,  // leftwards harpoon with barb downwards
        '\u21C0': MO.WIDEREL,  // rightwards harpoon with barb upwards
        '\u21C1': MO.WIDEREL,  // rightwards harpoon with barb downwards
        '\u21CC': MO.WIDEREL,  // rightwards harpoon over leftwards harpoon
        '\u21D0': MO.WIDEREL,  // leftwards double arrow
        '\u21D1': MO.RELSTRETCH, // upwards double arrow
        '\u21D2': MO.WIDEREL,  // rightwards double arrow
        '\u21D3': MO.RELSTRETCH, // downwards double arrow
        '\u21D4': MO.WIDEREL,  // left right double arrow
        '\u21D5': MO.RELSTRETCH, // up down double arrow
        '\u2208': MO.REL,      // element of
        '\u2209': MO.REL,      // not an element of
        '\u220B': MO.REL,      // contains as member
        '\u2212': MO.BIN4,     // minus sign
        '\u2213': MO.BIN4,     // minus-or-plus sign
        '\u2215': MO.TALLBIN,  // division slash
        '\u2216': MO.BIN4,     // set minus
        '\u2217': MO.BIN4,     // asterisk operator
        '\u2218': MO.BIN4,     // ring operator
        '\u2219': MO.BIN4,     // bullet operator
        '\u221D': MO.REL,      // proportional to
        '\u2223': MO.REL,      // divides
        '\u2225': MO.REL,      // parallel to
        '\u2227': MO.BIN4,     // logical and
        '\u2228': MO.BIN4,     // logical or
        '\u2229': MO.BIN4,     // intersection
        '\u222A': MO.BIN4,     // union
        '\u223C': MO.REL,      // tilde operator
        '\u2240': MO.BIN4,     // wreath product
        '\u2243': MO.REL,      // asymptotically equal to
        '\u2245': MO.REL,      // approximately equal to
        '\u2248': MO.REL,      // almost equal to
        '\u224D': MO.REL,      // equivalent to
        '\u2250': MO.REL,      // approaches the limit
        '\u2260': MO.REL,      // not equal to
        '\u2261': MO.REL,      // identical to
        '\u2264': MO.REL,      // less-than or equal to
        '\u2265': MO.REL,      // greater-than or equal to
        '\u226A': MO.REL,      // much less-than
        '\u226B': MO.REL,      // much greater-than
        '\u227A': MO.REL,      // precedes
        '\u227B': MO.REL,      // succeeds
        '\u2282': MO.REL,      // subset of
        '\u2283': MO.REL,      // superset of
        '\u2286': MO.REL,      // subset of or equal to
        '\u2287': MO.REL,      // superset of or equal to
        '\u228E': MO.BIN4,     // multiset union
        '\u2291': MO.REL,      // square image of or equal to
        '\u2292': MO.REL,      // square original of or equal to
        '\u2293': MO.BIN4,     // square cap
        '\u2294': MO.BIN4,     // square cup
        '\u2295': MO.BIN4,     // circled plus
        '\u2296': MO.BIN4,     // circled minus
        '\u2297': MO.BIN4,     // circled times
        '\u2298': MO.BIN4,     // circled division slash
        '\u2299': MO.BIN4,     // circled dot operator
        '\u22A2': MO.REL,      // right tack
        '\u22A3': MO.REL,      // left tack
        '\u22A4': MO.ORD55,    // down tack
        '\u22A5': MO.REL,      // up tack
        '\u22A8': MO.REL,      // true
        '\u22C4': MO.BIN4,     // diamond operator
        '\u22C5': MO.BIN4,     // dot operator
        '\u22C6': MO.BIN4,     // star operator
        '\u22C8': MO.REL,      // bowtie
        '\u22EE': MO.ORD55,    // vertical ellipsis
        '\u22EF': MO.INNER,    // midline horizontal ellipsis
        '\u22F1': [5,5,TEXCLASS.INNER], // down right diagonal ellipsis
        '\u25B3': MO.BIN4,     // white up-pointing triangle
        '\u25B5': MO.BIN4,     // white up-pointing small triangle
        '\u25B9': MO.BIN4,     // white right-pointing small triangle
        '\u25BD': MO.BIN4,     // white down-pointing triangle
        '\u25BF': MO.BIN4,     // white down-pointing small triangle
        '\u25C3': MO.BIN4,     // white left-pointing small triangle
        '\u2758': MO.REL,      // light vertical bar
        '\u27F5': MO.WIDEREL,  // long leftwards arrow
        '\u27F6': MO.WIDEREL,  // long rightwards arrow
        '\u27F7': MO.WIDEREL,  // long left right arrow
        '\u27F8': MO.WIDEREL,  // long leftwards double arrow
        '\u27F9': MO.WIDEREL,  // long rightwards double arrow
        '\u27FA': MO.WIDEREL,  // long left right double arrow
        '\u27FC': MO.WIDEREL,  // long rightwards arrow from bar
        '\u2A2F': MO.BIN4,     // vector or cross product
        '\u2A3F': MO.BIN4,     // amalgamation or coproduct
        '\u2AAF': MO.REL,      // precedes above single-line equals sign
        '\u2AB0': MO.REL,      // succeeds above single-line equals sign
        '\u00B1': MO.BIN4,     // plus-minus sign
        '\u00B7': MO.BIN4,     // middle dot
        '\u00D7': MO.BIN4,     // multiplication sign
        '\u00F7': MO.BIN4,     // division sign
        '*': MO.BIN3,          // asterisk
        '+': MO.BIN4,          // plus sign
        ',': [0,3,TEXCLASS.PUNCT,{linebreakstyle:"after", separator: true}], // comma
        '-': MO.BIN4,          // hyphen-minus
        '.': [3,3,TEXCLASS.ORD], // full stop
        '/': MO.ORD11,         // solidus
        ':': [1,2,TEXCLASS.REL], // colon
        ';': [0,3,TEXCLASS.PUNCT,{linebreakstyle:"after", separator: true}], // semicolon
        '&lt;': MO.REL,           // less-than sign
        '=': MO.REL,           // equals sign
        '&gt;': MO.REL,           // greater-than sign
        '?': [1,1,TEXCLASS.CLOSE], // question mark
        '\\': MO.ORD,          // reverse solidus
        '^': MO.ORD11,         // circumflex accent
        '_': MO.ORD11,         // low line
        '|': [2,2,TEXCLASS.ORD,{fence: true, stretchy: true, symmetric: true}], // vertical line
        '#': MO.ORD,           // #
        '$': MO.ORD,           // $
        '\u002E': [0,3,TEXCLASS.PUNCT,{separator: true}], // \ldotp
        '\u02B9': MO.ORD,      // prime
        '\u0300': MO.ACCENT,   // \grave
        '\u0301': MO.ACCENT,   // \acute
        '\u0303': MO.WIDEACCENT, // \tilde
        '\u0304': MO.ACCENT,   // \bar
        '\u0306': MO.ACCENT,   // \breve
        '\u0307': MO.ACCENT,   // \dot
        '\u0308': MO.ACCENT,   // \ddot
        '\u030C': MO.ACCENT,   // \check
        '\u0332': MO.WIDEACCENT, // horizontal line
        '\u0338': MO.REL4,     // \not
        '\u2015': [0,0,TEXCLASS.ORD,{stretchy: true}], // horizontal line
        '\u2017': [0,0,TEXCLASS.ORD,{stretchy: true}], // horizontal line
        '\u2020': MO.BIN3,     // \dagger
        '\u2021': MO.BIN3,     // \ddagger
        '\u20D7': MO.ACCENT,   // \vec
        '\u2111': MO.ORD,      // \Im
        '\u2113': MO.ORD,      // \ell
        '\u2118': MO.ORD,      // \wp
        '\u211C': MO.ORD,      // \Re
        '\u2205': MO.ORD,      // \emptyset
        '\u221E': MO.ORD,      // \infty
        '\u2305': MO.BIN3,     // barwedge
        '\u2306': MO.BIN3,     // doublebarwedge
        '\u2322': MO.REL4,     // \frown
        '\u2323': MO.REL4,     // \smile
        '\u2329': MO.OPEN,     // langle
        '\u232A': MO.CLOSE,    // rangle
        '\u23AA': MO.ORD,      // \bracevert
        '\u23AF': [0,0,TEXCLASS.ORD,{stretchy: true}], // \underline
        '\u23B0': MO.OPEN,     // \lmoustache
        '\u23B1': MO.CLOSE,    // \rmoustache
        '\u2500': MO.ORD,      // horizontal line
        '\u25EF': MO.BIN3,     // \bigcirc
        '\u2660': MO.ORD,      // \spadesuit
        '\u2661': MO.ORD,      // \heartsuit
        '\u2662': MO.ORD,      // \diamondsuit
        '\u2663': MO.ORD,      // \clubsuit
        '\u3008': MO.OPEN,     // langle
        '\u3009': MO.CLOSE,    // rangle
        '\uFE37': MO.WIDEACCENT, // horizontal brace down
        '\uFE38': MO.WIDEACCENT  // horizontal brace up
      }
    }
  },{
    OPTYPES: MO
  });

  //
  //  These are not in the W3C table, but FF works this way,
  //  and it makes sense, so add it here
  //
  var OPTABLE = MML.mo.prototype.OPTABLE;
  OPTABLE.infix["^"] = MO.WIDEREL;
  OPTABLE.infix["_"] = MO.WIDEREL;
  OPTABLE.prefix["\u2223"] = MO.OPEN;
  OPTABLE.prefix["\u2225"] = MO.OPEN;
  OPTABLE.postfix["\u2223"] = MO.CLOSE;
  OPTABLE.postfix["\u2225"] = MO.CLOSE;

})(MathJax.ElementJax.mml);

MathJax.ElementJax.mml.loadComplete("jax.js");
</t>
<t tx="ekr.20211016054411.1052"></t>
<t tx="ekr.20211016054411.1053">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1054">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      infix: {
        '\u219A': MO.RELACCENT, // leftwards arrow with stroke
        '\u219B': MO.RELACCENT, // rightwards arrow with stroke
        '\u219C': MO.WIDEREL,  // leftwards wave arrow
        '\u219D': MO.WIDEREL,  // rightwards wave arrow
        '\u219E': MO.WIDEREL,  // leftwards two headed arrow
        '\u219F': MO.WIDEREL,  // upwards two headed arrow
        '\u21A0': MO.WIDEREL,  // rightwards two headed arrow
        '\u21A1': MO.RELSTRETCH, // downwards two headed arrow
        '\u21A2': MO.WIDEREL,  // leftwards arrow with tail
        '\u21A3': MO.WIDEREL,  // rightwards arrow with tail
        '\u21A4': MO.WIDEREL,  // leftwards arrow from bar
        '\u21A5': MO.RELSTRETCH, // upwards arrow from bar
        '\u21A7': MO.RELSTRETCH, // downwards arrow from bar
        '\u21A8': MO.RELSTRETCH, // up down arrow with base
        '\u21AB': MO.WIDEREL,  // leftwards arrow with loop
        '\u21AC': MO.WIDEREL,  // rightwards arrow with loop
        '\u21AD': MO.WIDEREL,  // left right wave arrow
        '\u21AE': MO.RELACCENT, // left right arrow with stroke
        '\u21AF': MO.RELSTRETCH, // downwards zigzag arrow
        '\u21B0': MO.RELSTRETCH, // upwards arrow with tip leftwards
        '\u21B1': MO.RELSTRETCH, // upwards arrow with tip rightwards
        '\u21B2': MO.RELSTRETCH, // downwards arrow with tip leftwards
        '\u21B3': MO.RELSTRETCH, // downwards arrow with tip rightwards
        '\u21B4': MO.RELSTRETCH, // rightwards arrow with corner downwards
        '\u21B5': MO.RELSTRETCH, // downwards arrow with corner leftwards
        '\u21B6': MO.RELACCENT, // anticlockwise top semicircle arrow
        '\u21B7': MO.RELACCENT, // clockwise top semicircle arrow
        '\u21B8': MO.REL,      // north west arrow to long bar
        '\u21B9': MO.WIDEREL,  // leftwards arrow to bar over rightwards arrow to bar
        '\u21BA': MO.REL,      // anticlockwise open circle arrow
        '\u21BB': MO.REL,      // clockwise open circle arrow
        '\u21BE': MO.RELSTRETCH, // upwards harpoon with barb rightwards
        '\u21BF': MO.RELSTRETCH, // upwards harpoon with barb leftwards
        '\u21C2': MO.RELSTRETCH, // downwards harpoon with barb rightwards
        '\u21C3': MO.RELSTRETCH, // downwards harpoon with barb leftwards
        '\u21C4': MO.WIDEREL,  // rightwards arrow over leftwards arrow
        '\u21C5': MO.RELSTRETCH, // upwards arrow leftwards of downwards arrow
        '\u21C6': MO.WIDEREL,  // leftwards arrow over rightwards arrow
        '\u21C7': MO.WIDEREL,  // leftwards paired arrows
        '\u21C8': MO.RELSTRETCH, // upwards paired arrows
        '\u21C9': MO.WIDEREL,  // rightwards paired arrows
        '\u21CA': MO.RELSTRETCH, // downwards paired arrows
        '\u21CB': MO.WIDEREL,  // leftwards harpoon over rightwards harpoon
        '\u21CD': MO.RELACCENT, // leftwards double arrow with stroke
        '\u21CE': MO.RELACCENT, // left right double arrow with stroke
        '\u21CF': MO.RELACCENT, // rightwards double arrow with stroke
        '\u21D6': MO.RELSTRETCH, // north west double arrow
        '\u21D7': MO.RELSTRETCH, // north east double arrow
        '\u21D8': MO.RELSTRETCH, // south east double arrow
        '\u21D9': MO.RELSTRETCH, // south west double arrow
        '\u21DA': MO.WIDEREL,  // leftwards triple arrow
        '\u21DB': MO.WIDEREL,  // rightwards triple arrow
        '\u21DC': MO.WIDEREL,  // leftwards squiggle arrow
        '\u21DD': MO.WIDEREL,  // rightwards squiggle arrow
        '\u21DE': MO.REL,      // upwards arrow with double stroke
        '\u21DF': MO.REL,      // downwards arrow with double stroke
        '\u21E0': MO.WIDEREL,  // leftwards dashed arrow
        '\u21E1': MO.RELSTRETCH, // upwards dashed arrow
        '\u21E2': MO.WIDEREL,  // rightwards dashed arrow
        '\u21E3': MO.RELSTRETCH, // downwards dashed arrow
        '\u21E4': MO.WIDEREL,  // leftwards arrow to bar
        '\u21E5': MO.WIDEREL,  // rightwards arrow to bar
        '\u21E6': MO.WIDEREL,  // leftwards white arrow
        '\u21E7': MO.RELSTRETCH, // upwards white arrow
        '\u21E8': MO.WIDEREL,  // rightwards white arrow
        '\u21E9': MO.RELSTRETCH, // downwards white arrow
        '\u21EA': MO.RELSTRETCH, // upwards white arrow from bar
        '\u21EB': MO.RELSTRETCH, // upwards white arrow on pedestal
        '\u21EC': MO.RELSTRETCH, // upwards white arrow on pedestal with horizontal bar
        '\u21ED': MO.RELSTRETCH, // upwards white arrow on pedestal with vertical bar
        '\u21EE': MO.RELSTRETCH, // upwards white double arrow
        '\u21EF': MO.RELSTRETCH, // upwards white double arrow on pedestal
        '\u21F0': MO.WIDEREL,  // rightwards white arrow from wall
        '\u21F1': MO.REL,      // north west arrow to corner
        '\u21F2': MO.REL,      // south east arrow to corner
        '\u21F3': MO.RELSTRETCH, // up down white arrow
        '\u21F4': MO.RELACCENT, // right arrow with small circle
        '\u21F5': MO.RELSTRETCH, // downwards arrow leftwards of upwards arrow
        '\u21F6': MO.WIDEREL,  // three rightwards arrows
        '\u21F7': MO.RELACCENT, // leftwards arrow with vertical stroke
        '\u21F8': MO.RELACCENT, // rightwards arrow with vertical stroke
        '\u21F9': MO.RELACCENT, // left right arrow with vertical stroke
        '\u21FA': MO.RELACCENT, // leftwards arrow with double vertical stroke
        '\u21FB': MO.RELACCENT, // rightwards arrow with double vertical stroke
        '\u21FC': MO.RELACCENT, // left right arrow with double vertical stroke
        '\u21FD': MO.WIDEREL,  // leftwards open-headed arrow
        '\u21FE': MO.WIDEREL,  // rightwards open-headed arrow
        '\u21FF': MO.WIDEREL   // left right open-headed arrow
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/Arrows.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1055">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1056">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      prefix: {
        '||': [0,0,TEXCLASS.BIN,{fence: true, stretchy: true, symmetric: true}], // multiple character operator: ||
        '|||': [0,0,TEXCLASS.ORD,{fence: true, stretchy: true, symmetric: true}]  // multiple character operator: |||
      },
      postfix: {
        '!!': [1,0,TEXCLASS.BIN], // multiple character operator: !!
        '\'': MO.ACCENT,       // apostrophe
        '++': [0,0,TEXCLASS.BIN], // multiple character operator: ++
        '--': [0,0,TEXCLASS.BIN], // multiple character operator: --
        '..': [0,0,TEXCLASS.BIN], // multiple character operator: ..
        '...': MO.ORD,         // multiple character operator: ...
        '||': [0,0,TEXCLASS.BIN,{fence: true, stretchy: true, symmetric: true}], // multiple character operator: ||
        '|||': [0,0,TEXCLASS.ORD,{fence: true, stretchy: true, symmetric: true}]  // multiple character operator: |||
      },
      infix: {
        '!=': MO.BIN4,         // multiple character operator: !=
        '&amp;&amp;': MO.BIN4,         // multiple character operator: &amp;&amp;
        '**': [1,1,TEXCLASS.BIN], // multiple character operator: **
        '*=': MO.BIN4,         // multiple character operator: *=
        '+=': MO.BIN4,         // multiple character operator: +=
        '-=': MO.BIN4,         // multiple character operator: -=
        '-&gt;': MO.BIN5,         // multiple character operator: -&gt;
        '//': [1,1,TEXCLASS.BIN], // multiple character operator: //
        '/=': MO.BIN4,         // multiple character operator: /=
        ':=': MO.BIN4,         // multiple character operator: :=
        '&lt;=': MO.BIN5,         // multiple character operator: &lt;=
        '&lt;&gt;': [1,1,TEXCLASS.BIN], // multiple character operator: &lt;&gt;
        '==': MO.BIN4,         // multiple character operator: ==
        '&gt;=': MO.BIN5,         // multiple character operator: &gt;=
        '@': MO.ORD11,         // commercial at
        '||': [2,2,TEXCLASS.BIN,{fence: true, stretchy: true, symmetric: true}], // multiple character operator: ||
        '|||': [2,2,TEXCLASS.ORD,{fence: true, stretchy: true, symmetric: true}]  // multiple character operator: |||
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/BasicLatin.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1057">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1058">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      postfix: {
        '\u0311': MO.ACCENT    // combining inverted breve
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/CombDiacritMarks.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1059">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.106">
import './lib/enclose.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1060">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      postfix: {
        '\u20DB': MO.ACCENT,   // combining three dots above
        '\u20DC': MO.ACCENT    // combining four dots above
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/CombDiactForSymbols.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1061">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1062">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      prefix: {
        '\u2772': MO.OPEN      // light left tortoise shell bracket ornament
      },
      postfix: {
        '\u2773': MO.CLOSE     // light right tortoise shell bracket ornament
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/Dingbats.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1063">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1064">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      prefix: {
        '\u2016': [0,0,TEXCLASS.ORD,{fence: true, stretchy: true}], // double vertical line
        '\u2018': [0,0,TEXCLASS.OPEN,{fence: true}], // left single quotation mark
        '\u201C': [0,0,TEXCLASS.OPEN,{fence: true}]  // left double quotation mark
      },
      postfix: {
        '\u2016': [0,0,TEXCLASS.ORD,{fence: true, stretchy: true}], // double vertical line
        '\u2019': [0,0,TEXCLASS.CLOSE,{fence: true}], // right single quotation mark
        '\u201D': [0,0,TEXCLASS.CLOSE,{fence: true}]  // right double quotation mark
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/GeneralPunctuation.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1065">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1066">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      infix: {
        '\u25A0': MO.BIN3,     // black square
        '\u25A1': MO.BIN3,     // white square
        '\u25AA': MO.BIN3,     // black small square
        '\u25AB': MO.BIN3,     // white small square
        '\u25AD': MO.BIN3,     // white rectangle
        '\u25AE': MO.BIN3,     // black vertical rectangle
        '\u25AF': MO.BIN3,     // white vertical rectangle
        '\u25B0': MO.BIN3,     // black parallelogram
        '\u25B1': MO.BIN3,     // white parallelogram
        '\u25B2': MO.BIN4,     // black up-pointing triangle
        '\u25B4': MO.BIN4,     // black up-pointing small triangle
        '\u25B6': MO.BIN4,     // black right-pointing triangle
        '\u25B7': MO.BIN4,     // white right-pointing triangle
        '\u25B8': MO.BIN4,     // black right-pointing small triangle
        '\u25BC': MO.BIN4,     // black down-pointing triangle
        '\u25BE': MO.BIN4,     // black down-pointing small triangle
        '\u25C0': MO.BIN4,     // black left-pointing triangle
        '\u25C1': MO.BIN4,     // white left-pointing triangle
        '\u25C2': MO.BIN4,     // black left-pointing small triangle
        '\u25C4': MO.BIN4,     // black left-pointing pointer
        '\u25C5': MO.BIN4,     // white left-pointing pointer
        '\u25C6': MO.BIN4,     // black diamond
        '\u25C7': MO.BIN4,     // white diamond
        '\u25C8': MO.BIN4,     // white diamond containing black small diamond
        '\u25C9': MO.BIN4,     // fisheye
        '\u25CC': MO.BIN4,     // dotted circle
        '\u25CD': MO.BIN4,     // circle with vertical fill
        '\u25CE': MO.BIN4,     // bullseye
        '\u25CF': MO.BIN4,     // black circle
        '\u25D6': MO.BIN4,     // left half black circle
        '\u25D7': MO.BIN4,     // right half black circle
        '\u25E6': MO.BIN4      // white bullet
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/GeometricShapes.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1067">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1068">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      infix: {
        '\u03F6': MO.REL       // greek reversed lunate epsilon symbol
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/GreekAndCoptic.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1069">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.107">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/enclose',     // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1070">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      postfix: {
        '\u00B0': MO.ORD,      // degree sign
        '\u00B4': MO.ACCENT,   // acute accent
        '\u00B8': MO.ACCENT    // cedilla
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/Latin1Supplement.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1071">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1072">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      prefix: {
        '\u2145': MO.ORD21,    // double-struck italic capital d
        '\u2146': [2,0,TEXCLASS.ORD]  // double-struck italic small d
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/LetterlikeSymbols.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1073">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1074">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      prefix: {
        '\u2204': MO.ORD21,    // there does not exist
        '\u221B': MO.ORD11,    // cube root
        '\u221C': MO.ORD11,    // fourth root
        '\u2221': MO.ORD,      // measured angle
        '\u2222': MO.ORD,      // spherical angle
        '\u222C': MO.INTEGRAL, // double integral
        '\u222D': MO.INTEGRAL, // triple integral
        '\u222F': MO.INTEGRAL, // surface integral
        '\u2230': MO.INTEGRAL, // volume integral
        '\u2231': MO.INTEGRAL, // clockwise integral
        '\u2232': MO.INTEGRAL, // clockwise contour integral
        '\u2233': MO.INTEGRAL  // anticlockwise contour integral
      },
      infix: {
        '\u2201': [1,2,TEXCLASS.ORD], // complement
        '\u2206': MO.BIN3,     // increment
        '\u220A': MO.REL,      // small element of
        '\u220C': MO.REL,      // does not contain as member
        '\u220D': MO.REL,      // small contains as member
        '\u220E': MO.BIN3,     // end of proof
        '\u2214': MO.BIN4,     // dot plus
        '\u221F': MO.REL,      // right angle
        '\u2224': MO.REL,      // does not divide
        '\u2226': MO.REL,      // not parallel to
        '\u2234': MO.REL,      // therefore
        '\u2235': MO.REL,      // because
        '\u2236': MO.REL,      // ratio
        '\u2237': MO.REL,      // proportion
        '\u2238': MO.BIN4,     // dot minus
        '\u2239': MO.REL,      // excess
        '\u223A': MO.BIN4,     // geometric proportion
        '\u223B': MO.REL,      // homothetic
        '\u223D': MO.REL,      // reversed tilde
        '\u223D\u0331': MO.BIN3, // reversed tilde with underline
        '\u223E': MO.REL,      // inverted lazy s
        '\u223F': MO.BIN3,     // sine wave
        '\u2241': MO.REL,      // not tilde
        '\u2242': MO.REL,      // minus tilde
        '\u2242\u0338': MO.REL, // minus tilde with slash
        '\u2244': MO.REL,      // not asymptotically equal to
        '\u2246': MO.REL,      // approximately but not actually equal to
        '\u2247': MO.REL,      // neither approximately nor actually equal to
        '\u2249': MO.REL,      // not almost equal to
        '\u224A': MO.REL,      // almost equal or equal to
        '\u224B': MO.REL,      // triple tilde
        '\u224C': MO.REL,      // all equal to
        '\u224E': MO.REL,      // geometrically equivalent to
        '\u224E\u0338': MO.REL, // geometrically equivalent to with slash
        '\u224F': MO.REL,      // difference between
        '\u224F\u0338': MO.REL, // difference between with slash
        '\u2251': MO.REL,      // geometrically equal to
        '\u2252': MO.REL,      // approximately equal to or the image of
        '\u2253': MO.REL,      // image of or approximately equal to
        '\u2254': MO.REL,      // colon equals
        '\u2255': MO.REL,      // equals colon
        '\u2256': MO.REL,      // ring in equal to
        '\u2257': MO.REL,      // ring equal to
        '\u2258': MO.REL,      // corresponds to
        '\u2259': MO.REL,      // estimates
        '\u225A': MO.REL,      // equiangular to
        '\u225C': MO.REL,      // delta equal to
        '\u225D': MO.REL,      // equal to by definition
        '\u225E': MO.REL,      // measured by
        '\u225F': MO.REL,      // questioned equal to
        '\u2262': MO.REL,      // not identical to
        '\u2263': MO.REL,      // strictly equivalent to
        '\u2266': MO.REL,      // less-than over equal to
        '\u2266\u0338': MO.REL, // less-than over equal to with slash
        '\u2267': MO.REL,      // greater-than over equal to
        '\u2268': MO.REL,      // less-than but not equal to
        '\u2269': MO.REL,      // greater-than but not equal to
        '\u226A\u0338': MO.REL, // much less than with slash
        '\u226B\u0338': MO.REL, // much greater than with slash
        '\u226C': MO.REL,      // between
        '\u226D': MO.REL,      // not equivalent to
        '\u226E': MO.REL,      // not less-than
        '\u226F': MO.REL,      // not greater-than
        '\u2270': MO.REL,      // neither less-than nor equal to
        '\u2271': MO.REL,      // neither greater-than nor equal to
        '\u2272': MO.REL,      // less-than or equivalent to
        '\u2273': MO.REL,      // greater-than or equivalent to
        '\u2274': MO.REL,      // neither less-than nor equivalent to
        '\u2275': MO.REL,      // neither greater-than nor equivalent to
        '\u2276': MO.REL,      // less-than or greater-than
        '\u2277': MO.REL,      // greater-than or less-than
        '\u2278': MO.REL,      // neither less-than nor greater-than
        '\u2279': MO.REL,      // neither greater-than nor less-than
        '\u227C': MO.REL,      // precedes or equal to
        '\u227D': MO.REL,      // succeeds or equal to
        '\u227E': MO.REL,      // precedes or equivalent to
        '\u227F': MO.REL,      // succeeds or equivalent to
        '\u227F\u0338': MO.REL, // succeeds or equivalent to with slash
        '\u2280': MO.REL,      // does not precede
        '\u2281': MO.REL,      // does not succeed
        '\u2282\u20D2': MO.REL, // subset of with vertical line
        '\u2283\u20D2': MO.REL, // superset of with vertical line
        '\u2284': MO.REL,      // not a subset of
        '\u2285': MO.REL,      // not a superset of
        '\u2288': MO.REL,      // neither a subset of nor equal to
        '\u2289': MO.REL,      // neither a superset of nor equal to
        '\u228A': MO.REL,      // subset of with not equal to
        '\u228B': MO.REL,      // superset of with not equal to
        '\u228C': MO.BIN4,     // multiset
        '\u228D': MO.BIN4,     // multiset multiplication
        '\u228F': MO.REL,      // square image of
        '\u228F\u0338': MO.REL, // square image of with slash
        '\u2290': MO.REL,      // square original of
        '\u2290\u0338': MO.REL, // square original of with slash
        '\u229A': MO.BIN4,     // circled ring operator
        '\u229B': MO.BIN4,     // circled asterisk operator
        '\u229C': MO.BIN4,     // circled equals
        '\u229D': MO.BIN4,     // circled dash
        '\u229E': MO.BIN4,     // squared plus
        '\u229F': MO.BIN4,     // squared minus
        '\u22A0': MO.BIN4,     // squared times
        '\u22A1': MO.BIN4,     // squared dot operator
        '\u22A6': MO.REL,      // assertion
        '\u22A7': MO.REL,      // models
        '\u22A9': MO.REL,      // forces
        '\u22AA': MO.REL,      // triple vertical bar right turnstile
        '\u22AB': MO.REL,      // double vertical bar double right turnstile
        '\u22AC': MO.REL,      // does not prove
        '\u22AD': MO.REL,      // not true
        '\u22AE': MO.REL,      // does not force
        '\u22AF': MO.REL,      // negated double vertical bar double right turnstile
        '\u22B0': MO.REL,      // precedes under relation
        '\u22B1': MO.REL,      // succeeds under relation
        '\u22B2': MO.REL,      // normal subgroup of
        '\u22B3': MO.REL,      // contains as normal subgroup
        '\u22B4': MO.REL,      // normal subgroup of or equal to
        '\u22B5': MO.REL,      // contains as normal subgroup or equal to
        '\u22B6': MO.REL,      // original of
        '\u22B7': MO.REL,      // image of
        '\u22B8': MO.REL,      // multimap
        '\u22B9': MO.REL,      // hermitian conjugate matrix
        '\u22BA': MO.BIN4,     // intercalate
        '\u22BB': MO.BIN4,     // xor
        '\u22BC': MO.BIN4,     // nand
        '\u22BD': MO.BIN4,     // nor
        '\u22BE': MO.BIN3,     // right angle with arc
        '\u22BF': MO.BIN3,     // right triangle
        '\u22C7': MO.BIN4,     // division times
        '\u22C9': MO.BIN4,     // left normal factor semidirect product
        '\u22CA': MO.BIN4,     // right normal factor semidirect product
        '\u22CB': MO.BIN4,     // left semidirect product
        '\u22CC': MO.BIN4,     // right semidirect product
        '\u22CD': MO.REL,      // reversed tilde equals
        '\u22CE': MO.BIN4,     // curly logical or
        '\u22CF': MO.BIN4,     // curly logical and
        '\u22D0': MO.REL,      // double subset
        '\u22D1': MO.REL,      // double superset
        '\u22D2': MO.BIN4,     // double intersection
        '\u22D3': MO.BIN4,     // double union
        '\u22D4': MO.REL,      // pitchfork
        '\u22D5': MO.REL,      // equal and parallel to
        '\u22D6': MO.REL,      // less-than with dot
        '\u22D7': MO.REL,      // greater-than with dot
        '\u22D8': MO.REL,      // very much less-than
        '\u22D9': MO.REL,      // very much greater-than
        '\u22DA': MO.REL,      // less-than equal to or greater-than
        '\u22DB': MO.REL,      // greater-than equal to or less-than
        '\u22DC': MO.REL,      // equal to or less-than
        '\u22DD': MO.REL,      // equal to or greater-than
        '\u22DE': MO.REL,      // equal to or precedes
        '\u22DF': MO.REL,      // equal to or succeeds
        '\u22E0': MO.REL,      // does not precede or equal
        '\u22E1': MO.REL,      // does not succeed or equal
        '\u22E2': MO.REL,      // not square image of or equal to
        '\u22E3': MO.REL,      // not square original of or equal to
        '\u22E4': MO.REL,      // square image of or not equal to
        '\u22E5': MO.REL,      // square original of or not equal to
        '\u22E6': MO.REL,      // less-than but not equivalent to
        '\u22E7': MO.REL,      // greater-than but not equivalent to
        '\u22E8': MO.REL,      // precedes but not equivalent to
        '\u22E9': MO.REL,      // succeeds but not equivalent to
        '\u22EA': MO.REL,      // not normal subgroup of
        '\u22EB': MO.REL,      // does not contain as normal subgroup
        '\u22EC': MO.REL,      // not normal subgroup of or equal to
        '\u22ED': MO.REL,      // does not contain as normal subgroup or equal
        '\u22F0': MO.REL,      // up right diagonal ellipsis
        '\u22F2': MO.REL,      // element of with long horizontal stroke
        '\u22F3': MO.REL,      // element of with vertical bar at end of horizontal stroke
        '\u22F4': MO.REL,      // small element of with vertical bar at end of horizontal stroke
        '\u22F5': MO.REL,      // element of with dot above
        '\u22F6': MO.REL,      // element of with overbar
        '\u22F7': MO.REL,      // small element of with overbar
        '\u22F8': MO.REL,      // element of with underbar
        '\u22F9': MO.REL,      // element of with two horizontal strokes
        '\u22FA': MO.REL,      // contains with long horizontal stroke
        '\u22FB': MO.REL,      // contains with vertical bar at end of horizontal stroke
        '\u22FC': MO.REL,      // small contains with vertical bar at end of horizontal stroke
        '\u22FD': MO.REL,      // contains with overbar
        '\u22FE': MO.REL,      // small contains with overbar
        '\u22FF': MO.REL       // z notation bag membership
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/MathOperators.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1075">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1076">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      prefix: {
        '\u27E6': MO.OPEN,     // mathematical left white square bracket
        '\u27EA': MO.OPEN,     // mathematical left double angle bracket
        '\u27EC': MO.OPEN      // mathematical left white tortoise shell bracket
      },
      postfix: {
        '\u27E7': MO.CLOSE,    // mathematical right white square bracket
        '\u27EB': MO.CLOSE,    // mathematical right double angle bracket
        '\u27ED': MO.CLOSE     // mathematical right white tortoise shell bracket
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/MiscMathSymbolsA.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1077">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1078">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      prefix: {
        '\u2980': [0,0,TEXCLASS.ORD,{fence: true, stretchy: true}], // triple vertical bar delimiter
        '\u2983': MO.OPEN,     // left white curly bracket
        '\u2985': MO.OPEN,     // left white parenthesis
        '\u2987': MO.OPEN,     // z notation left image bracket
        '\u2989': MO.OPEN,     // z notation left binding bracket
        '\u298B': MO.OPEN,     // left square bracket with underbar
        '\u298D': MO.OPEN,     // left square bracket with tick in top corner
        '\u298F': MO.OPEN,     // left square bracket with tick in bottom corner
        '\u2991': MO.OPEN,     // left angle bracket with dot
        '\u2993': MO.OPEN,     // left arc less-than bracket
        '\u2995': MO.OPEN,     // double left arc greater-than bracket
        '\u2997': MO.OPEN,     // left black tortoise shell bracket
        '\u29FC': MO.OPEN      // left-pointing curved angle bracket
      },
      postfix: {
        '\u2980': [0,0,TEXCLASS.ORD,{fence: true, stretchy: true}], // triple vertical bar delimiter
        '\u2984': MO.CLOSE,    // right white curly bracket
        '\u2986': MO.CLOSE,    // right white parenthesis
        '\u2988': MO.CLOSE,    // z notation right image bracket
        '\u298A': MO.CLOSE,    // z notation right binding bracket
        '\u298C': MO.CLOSE,    // right square bracket with underbar
        '\u298E': MO.CLOSE,    // right square bracket with tick in bottom corner
        '\u2990': MO.CLOSE,    // right square bracket with tick in top corner
        '\u2992': MO.CLOSE,    // right angle bracket with dot
        '\u2994': MO.CLOSE,    // right arc greater-than bracket
        '\u2996': MO.CLOSE,    // double right arc less-than bracket
        '\u2998': MO.CLOSE,    // right black tortoise shell bracket
        '\u29FD': MO.CLOSE     // right-pointing curved angle bracket
      },
      infix: {
        '\u2981': MO.BIN3,     // z notation spot
        '\u2982': MO.BIN3,     // z notation type colon
        '\u2999': MO.BIN3,     // dotted fence
        '\u299A': MO.BIN3,     // vertical zigzag line
        '\u299B': MO.BIN3,     // measured angle opening left
        '\u299C': MO.BIN3,     // right angle variant with square
        '\u299D': MO.BIN3,     // measured right angle with dot
        '\u299E': MO.BIN3,     // angle with s inside
        '\u299F': MO.BIN3,     // acute angle
        '\u29A0': MO.BIN3,     // spherical angle opening left
        '\u29A1': MO.BIN3,     // spherical angle opening up
        '\u29A2': MO.BIN3,     // turned angle
        '\u29A3': MO.BIN3,     // reversed angle
        '\u29A4': MO.BIN3,     // angle with underbar
        '\u29A5': MO.BIN3,     // reversed angle with underbar
        '\u29A6': MO.BIN3,     // oblique angle opening up
        '\u29A7': MO.BIN3,     // oblique angle opening down
        '\u29A8': MO.BIN3,     // measured angle with open arm ending in arrow pointing up and right
        '\u29A9': MO.BIN3,     // measured angle with open arm ending in arrow pointing up and left
        '\u29AA': MO.BIN3,     // measured angle with open arm ending in arrow pointing down and right
        '\u29AB': MO.BIN3,     // measured angle with open arm ending in arrow pointing down and left
        '\u29AC': MO.BIN3,     // measured angle with open arm ending in arrow pointing right and up
        '\u29AD': MO.BIN3,     // measured angle with open arm ending in arrow pointing left and up
        '\u29AE': MO.BIN3,     // measured angle with open arm ending in arrow pointing right and down
        '\u29AF': MO.BIN3,     // measured angle with open arm ending in arrow pointing left and down
        '\u29B0': MO.BIN3,     // reversed empty set
        '\u29B1': MO.BIN3,     // empty set with overbar
        '\u29B2': MO.BIN3,     // empty set with small circle above
        '\u29B3': MO.BIN3,     // empty set with right arrow above
        '\u29B4': MO.BIN3,     // empty set with left arrow above
        '\u29B5': MO.BIN3,     // circle with horizontal bar
        '\u29B6': MO.BIN4,     // circled vertical bar
        '\u29B7': MO.BIN4,     // circled parallel
        '\u29B8': MO.BIN4,     // circled reverse solidus
        '\u29B9': MO.BIN4,     // circled perpendicular
        '\u29BA': MO.BIN4,     // circle divided by horizontal bar and top half divided by vertical bar
        '\u29BB': MO.BIN4,     // circle with superimposed x
        '\u29BC': MO.BIN4,     // circled anticlockwise-rotated division sign
        '\u29BD': MO.BIN4,     // up arrow through circle
        '\u29BE': MO.BIN4,     // circled white bullet
        '\u29BF': MO.BIN4,     // circled bullet
        '\u29C0': MO.REL,      // circled less-than
        '\u29C1': MO.REL,      // circled greater-than
        '\u29C2': MO.BIN3,     // circle with small circle to the right
        '\u29C3': MO.BIN3,     // circle with two horizontal strokes to the right
        '\u29C4': MO.BIN4,     // squared rising diagonal slash
        '\u29C5': MO.BIN4,     // squared falling diagonal slash
        '\u29C6': MO.BIN4,     // squared asterisk
        '\u29C7': MO.BIN4,     // squared small circle
        '\u29C8': MO.BIN4,     // squared square
        '\u29C9': MO.BIN3,     // two joined squares
        '\u29CA': MO.BIN3,     // triangle with dot above
        '\u29CB': MO.BIN3,     // triangle with underbar
        '\u29CC': MO.BIN3,     // s in triangle
        '\u29CD': MO.BIN3,     // triangle with serifs at bottom
        '\u29CE': MO.REL,      // right triangle above left triangle
        '\u29CF': MO.REL,      // left triangle beside vertical bar
        '\u29CF\u0338': MO.REL, // left triangle beside vertical bar with slash
        '\u29D0': MO.REL,      // vertical bar beside right triangle
        '\u29D0\u0338': MO.REL, // vertical bar beside right triangle with slash
        '\u29D1': MO.REL,      // bowtie with left half black
        '\u29D2': MO.REL,      // bowtie with right half black
        '\u29D3': MO.REL,      // black bowtie
        '\u29D4': MO.REL,      // times with left half black
        '\u29D5': MO.REL,      // times with right half black
        '\u29D6': MO.BIN4,     // white hourglass
        '\u29D7': MO.BIN4,     // black hourglass
        '\u29D8': MO.BIN3,     // left wiggly fence
        '\u29D9': MO.BIN3,     // right wiggly fence
        '\u29DB': MO.BIN3,     // right double wiggly fence
        '\u29DC': MO.BIN3,     // incomplete infinity
        '\u29DD': MO.BIN3,     // tie over infinity
        '\u29DE': MO.REL,      // infinity negated with vertical bar
        '\u29DF': MO.BIN3,     // double-ended multimap
        '\u29E0': MO.BIN3,     // square with contoured outline
        '\u29E1': MO.REL,      // increases as
        '\u29E2': MO.BIN4,     // shuffle product
        '\u29E3': MO.REL,      // equals sign and slanted parallel
        '\u29E4': MO.REL,      // equals sign and slanted parallel with tilde above
        '\u29E5': MO.REL,      // identical to and slanted parallel
        '\u29E6': MO.REL,      // gleich stark
        '\u29E7': MO.BIN3,     // thermodynamic
        '\u29E8': MO.BIN3,     // down-pointing triangle with left half black
        '\u29E9': MO.BIN3,     // down-pointing triangle with right half black
        '\u29EA': MO.BIN3,     // black diamond with down arrow
        '\u29EB': MO.BIN3,     // black lozenge
        '\u29EC': MO.BIN3,     // white circle with down arrow
        '\u29ED': MO.BIN3,     // black circle with down arrow
        '\u29EE': MO.BIN3,     // error-barred white square
        '\u29EF': MO.BIN3,     // error-barred black square
        '\u29F0': MO.BIN3,     // error-barred white diamond
        '\u29F1': MO.BIN3,     // error-barred black diamond
        '\u29F2': MO.BIN3,     // error-barred white circle
        '\u29F3': MO.BIN3,     // error-barred black circle
        '\u29F4': MO.REL,      // rule-delayed
        '\u29F5': MO.BIN4,     // reverse solidus operator
        '\u29F6': MO.BIN4,     // solidus with overbar
        '\u29F7': MO.BIN4,     // reverse solidus with horizontal stroke
        '\u29F8': MO.BIN3,     // big solidus
        '\u29F9': MO.BIN3,     // big reverse solidus
        '\u29FA': MO.BIN3,     // double plus
        '\u29FB': MO.BIN3,     // triple plus
        '\u29FE': MO.BIN4,     // tiny
        '\u29FF': MO.BIN4      // miny
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/MiscMathSymbolsB.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1079">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.108"></t>
<t tx="ekr.20211016054411.1080">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      infix: {
        '\u2B45': MO.RELSTRETCH, // leftwards quadruple arrow
        '\u2B46': MO.RELSTRETCH  // rightwards quadruple arrow
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/MiscSymbolsAndArrows.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1081">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1082">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      postfix: {
        '\u23B4': MO.WIDEACCENT, // top square bracket
        '\u23B5': MO.WIDEACCENT, // bottom square bracket
        '\u23DC': MO.WIDEACCENT, // top parenthesis
        '\u23DD': MO.WIDEACCENT, // bottom parenthesis
        '\u23E0': MO.WIDEACCENT, // top tortoise shell bracket
        '\u23E1': MO.WIDEACCENT  // bottom tortoise shell bracket
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/MiscTechnical.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1083">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1084">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      postfix: {
        '\u02CD': MO.WIDEACCENT, // modifier letter low macron
        '\u02DA': MO.ACCENT,   // ring above
        '\u02DD': MO.ACCENT,   // double acute accent
        '\u02F7': MO.WIDEACCENT  // modifier letter low tilde
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/SpacingModLetters.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1085">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1086">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      infix: {
        '\u27F0': MO.RELSTRETCH, // upwards quadruple arrow
        '\u27F1': MO.RELSTRETCH, // downwards quadruple arrow
        '\u27FB': MO.WIDEREL,  // long leftwards arrow from bar
        '\u27FD': MO.WIDEREL,  // long leftwards double arrow from bar
        '\u27FE': MO.WIDEREL,  // long rightwards double arrow from bar
        '\u27FF': MO.WIDEREL   // long rightwards squiggle arrow
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/SupplementalArrowsA.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1087">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1088">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      infix: {
        '\u2900': MO.RELACCENT, // rightwards two-headed arrow with vertical stroke
        '\u2901': MO.RELACCENT, // rightwards two-headed arrow with double vertical stroke
        '\u2902': MO.RELACCENT, // leftwards double arrow with vertical stroke
        '\u2903': MO.RELACCENT, // rightwards double arrow with vertical stroke
        '\u2904': MO.RELACCENT, // left right double arrow with vertical stroke
        '\u2905': MO.RELACCENT, // rightwards two-headed arrow from bar
        '\u2906': MO.RELACCENT, // leftwards double arrow from bar
        '\u2907': MO.RELACCENT, // rightwards double arrow from bar
        '\u2908': MO.REL,      // downwards arrow with horizontal stroke
        '\u2909': MO.REL,      // upwards arrow with horizontal stroke
        '\u290A': MO.RELSTRETCH, // upwards triple arrow
        '\u290B': MO.RELSTRETCH, // downwards triple arrow
        '\u290C': MO.WIDEREL,  // leftwards double dash arrow
        '\u290D': MO.WIDEREL,  // rightwards double dash arrow
        '\u290E': MO.WIDEREL,  // leftwards triple dash arrow
        '\u290F': MO.WIDEREL,  // rightwards triple dash arrow
        '\u2910': MO.WIDEREL,  // rightwards two-headed triple dash arrow
        '\u2911': MO.RELACCENT, // rightwards arrow with dotted stem
        '\u2912': MO.RELSTRETCH, // upwards arrow to bar
        '\u2913': MO.RELSTRETCH, // downwards arrow to bar
        '\u2914': MO.RELACCENT, // rightwards arrow with tail with vertical stroke
        '\u2915': MO.RELACCENT, // rightwards arrow with tail with double vertical stroke
        '\u2916': MO.RELACCENT, // rightwards two-headed arrow with tail
        '\u2917': MO.RELACCENT, // rightwards two-headed arrow with tail with vertical stroke
        '\u2918': MO.RELACCENT, // rightwards two-headed arrow with tail with double vertical stroke
        '\u2919': MO.RELACCENT, // leftwards arrow-tail
        '\u291A': MO.RELACCENT, // rightwards arrow-tail
        '\u291B': MO.RELACCENT, // leftwards double arrow-tail
        '\u291C': MO.RELACCENT, // rightwards double arrow-tail
        '\u291D': MO.RELACCENT, // leftwards arrow to black diamond
        '\u291E': MO.RELACCENT, // rightwards arrow to black diamond
        '\u291F': MO.RELACCENT, // leftwards arrow from bar to black diamond
        '\u2920': MO.RELACCENT, // rightwards arrow from bar to black diamond
        '\u2921': MO.RELSTRETCH, // north west and south east arrow
        '\u2922': MO.RELSTRETCH, // north east and south west arrow
        '\u2923': MO.REL,      // north west arrow with hook
        '\u2924': MO.REL,      // north east arrow with hook
        '\u2925': MO.REL,      // south east arrow with hook
        '\u2926': MO.REL,      // south west arrow with hook
        '\u2927': MO.REL,      // north west arrow and north east arrow
        '\u2928': MO.REL,      // north east arrow and south east arrow
        '\u2929': MO.REL,      // south east arrow and south west arrow
        '\u292A': MO.REL,      // south west arrow and north west arrow
        '\u292B': MO.REL,      // rising diagonal crossing falling diagonal
        '\u292C': MO.REL,      // falling diagonal crossing rising diagonal
        '\u292D': MO.REL,      // south east arrow crossing north east arrow
        '\u292E': MO.REL,      // north east arrow crossing south east arrow
        '\u292F': MO.REL,      // falling diagonal crossing north east arrow
        '\u2930': MO.REL,      // rising diagonal crossing south east arrow
        '\u2931': MO.REL,      // north east arrow crossing north west arrow
        '\u2932': MO.REL,      // north west arrow crossing north east arrow
        '\u2933': MO.RELACCENT, // wave arrow pointing directly right
        '\u2934': MO.REL,      // arrow pointing rightwards then curving upwards
        '\u2935': MO.REL,      // arrow pointing rightwards then curving downwards
        '\u2936': MO.REL,      // arrow pointing downwards then curving leftwards
        '\u2937': MO.REL,      // arrow pointing downwards then curving rightwards
        '\u2938': MO.REL,      // right-side arc clockwise arrow
        '\u2939': MO.REL,      // left-side arc anticlockwise arrow
        '\u293A': MO.RELACCENT, // top arc anticlockwise arrow
        '\u293B': MO.RELACCENT, // bottom arc anticlockwise arrow
        '\u293C': MO.RELACCENT, // top arc clockwise arrow with minus
        '\u293D': MO.RELACCENT, // top arc anticlockwise arrow with plus
        '\u293E': MO.REL,      // lower right semicircular clockwise arrow
        '\u293F': MO.REL,      // lower left semicircular anticlockwise arrow
        '\u2940': MO.REL,      // anticlockwise closed circle arrow
        '\u2941': MO.REL,      // clockwise closed circle arrow
        '\u2942': MO.RELACCENT, // rightwards arrow above short leftwards arrow
        '\u2943': MO.RELACCENT, // leftwards arrow above short rightwards arrow
        '\u2944': MO.RELACCENT, // short rightwards arrow above leftwards arrow
        '\u2945': MO.RELACCENT, // rightwards arrow with plus below
        '\u2946': MO.RELACCENT, // leftwards arrow with plus below
        '\u2947': MO.RELACCENT, // rightwards arrow through x
        '\u2948': MO.RELACCENT, // left right arrow through small circle
        '\u2949': MO.REL,      // upwards two-headed arrow from small circle
        '\u294A': MO.RELACCENT, // left barb up right barb down harpoon
        '\u294B': MO.RELACCENT, // left barb down right barb up harpoon
        '\u294C': MO.REL,      // up barb right down barb left harpoon
        '\u294D': MO.REL,      // up barb left down barb right harpoon
        '\u294E': MO.WIDEREL,  // left barb up right barb up harpoon
        '\u294F': MO.RELSTRETCH, // up barb right down barb right harpoon
        '\u2950': MO.WIDEREL,  // left barb down right barb down harpoon
        '\u2951': MO.RELSTRETCH, // up barb left down barb left harpoon
        '\u2952': MO.WIDEREL,  // leftwards harpoon with barb up to bar
        '\u2953': MO.WIDEREL,  // rightwards harpoon with barb up to bar
        '\u2954': MO.RELSTRETCH, // upwards harpoon with barb right to bar
        '\u2955': MO.RELSTRETCH, // downwards harpoon with barb right to bar
        '\u2956': MO.RELSTRETCH, // leftwards harpoon with barb down to bar
        '\u2957': MO.RELSTRETCH, // rightwards harpoon with barb down to bar
        '\u2958': MO.RELSTRETCH, // upwards harpoon with barb left to bar
        '\u2959': MO.RELSTRETCH, // downwards harpoon with barb left to bar
        '\u295A': MO.WIDEREL,  // leftwards harpoon with barb up from bar
        '\u295B': MO.WIDEREL,  // rightwards harpoon with barb up from bar
        '\u295C': MO.RELSTRETCH, // upwards harpoon with barb right from bar
        '\u295D': MO.RELSTRETCH, // downwards harpoon with barb right from bar
        '\u295E': MO.WIDEREL,  // leftwards harpoon with barb down from bar
        '\u295F': MO.WIDEREL,  // rightwards harpoon with barb down from bar
        '\u2960': MO.RELSTRETCH, // upwards harpoon with barb left from bar
        '\u2961': MO.RELSTRETCH, // downwards harpoon with barb left from bar
        '\u2962': MO.RELACCENT, // leftwards harpoon with barb up above leftwards harpoon with barb down
        '\u2963': MO.REL,      // upwards harpoon with barb left beside upwards harpoon with barb right
        '\u2964': MO.RELACCENT, // rightwards harpoon with barb up above rightwards harpoon with barb down
        '\u2965': MO.REL,      // downwards harpoon with barb left beside downwards harpoon with barb right
        '\u2966': MO.RELACCENT, // leftwards harpoon with barb up above rightwards harpoon with barb up
        '\u2967': MO.RELACCENT, // leftwards harpoon with barb down above rightwards harpoon with barb down
        '\u2968': MO.RELACCENT, // rightwards harpoon with barb up above leftwards harpoon with barb up
        '\u2969': MO.RELACCENT, // rightwards harpoon with barb down above leftwards harpoon with barb down
        '\u296A': MO.RELACCENT, // leftwards harpoon with barb up above long dash
        '\u296B': MO.RELACCENT, // leftwards harpoon with barb down below long dash
        '\u296C': MO.RELACCENT, // rightwards harpoon with barb up above long dash
        '\u296D': MO.RELACCENT, // rightwards harpoon with barb down below long dash
        '\u296E': MO.RELSTRETCH, // upwards harpoon with barb left beside downwards harpoon with barb right
        '\u296F': MO.RELSTRETCH, // downwards harpoon with barb left beside upwards harpoon with barb right
        '\u2970': MO.RELACCENT, // right double arrow with rounded head
        '\u2971': MO.RELACCENT, // equals sign above rightwards arrow
        '\u2972': MO.RELACCENT, // tilde operator above rightwards arrow
        '\u2973': MO.RELACCENT, // leftwards arrow above tilde operator
        '\u2974': MO.RELACCENT, // rightwards arrow above tilde operator
        '\u2975': MO.RELACCENT, // rightwards arrow above almost equal to
        '\u2976': MO.RELACCENT, // less-than above leftwards arrow
        '\u2977': MO.RELACCENT, // leftwards arrow through less-than
        '\u2978': MO.RELACCENT, // greater-than above rightwards arrow
        '\u2979': MO.RELACCENT, // subset above rightwards arrow
        '\u297A': MO.RELACCENT, // leftwards arrow through subset
        '\u297B': MO.RELACCENT, // superset above leftwards arrow
        '\u297C': MO.RELACCENT, // left fish tail
        '\u297D': MO.RELACCENT, // right fish tail
        '\u297E': MO.REL,      // up fish tail
        '\u297F': MO.REL       // down fish tail
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/SupplementalArrowsB.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1089">@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.109">
import './lib/extpfeil.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1090">(function (MML) {
  var MO = MML.mo.OPTYPES;
  var TEXCLASS = MML.TEXCLASS;

  MathJax.Hub.Insert(MML.mo.prototype,{
    OPTABLE: {
      prefix: {
        '\u2A03': MO.OP,       // n-ary union operator with dot
        '\u2A05': MO.OP,       // n-ary square intersection operator
        '\u2A07': MO.OP,       // two logical and operator
        '\u2A08': MO.OP,       // two logical or operator
        '\u2A09': MO.OP,       // n-ary times operator
        '\u2A0A': MO.OP,       // modulo two sum
        '\u2A0B': MO.INTEGRAL2, // summation with integral
        '\u2A0C': MO.INTEGRAL, // quadruple integral operator
        '\u2A0D': MO.INTEGRAL2, // finite part integral
        '\u2A0E': MO.INTEGRAL2, // integral with double stroke
        '\u2A0F': MO.INTEGRAL2, // integral average with slash
        '\u2A10': MO.OP,       // circulation function
        '\u2A11': MO.OP,       // anticlockwise integration
        '\u2A12': MO.OP,       // line integration with rectangular path around pole
        '\u2A13': MO.OP,       // line integration with semicircular path around pole
        '\u2A14': MO.OP,       // line integration not including the pole
        '\u2A15': MO.INTEGRAL2, // integral around a point operator
        '\u2A16': MO.INTEGRAL2, // quaternion integral operator
        '\u2A17': MO.INTEGRAL2, // integral with leftwards arrow with hook
        '\u2A18': MO.INTEGRAL2, // integral with times sign
        '\u2A19': MO.INTEGRAL2, // integral with intersection
        '\u2A1A': MO.INTEGRAL2, // integral with union
        '\u2A1B': MO.INTEGRAL2, // integral with overbar
        '\u2A1C': MO.INTEGRAL2, // integral with underbar
        '\u2AFC': MO.OP,       // large triple vertical bar operator
        '\u2AFF': MO.OP        // n-ary white vertical bar
      },
      infix: {
        '\u2A1D': MO.BIN3,     // join
        '\u2A1E': MO.BIN3,     // large left triangle operator
        '\u2A1F': MO.BIN3,     // z notation schema composition
        '\u2A20': MO.BIN3,     // z notation schema piping
        '\u2A21': MO.BIN3,     // z notation schema projection
        '\u2A22': MO.BIN4,     // plus sign with small circle above
        '\u2A23': MO.BIN4,     // plus sign with circumflex accent above
        '\u2A24': MO.BIN4,     // plus sign with tilde above
        '\u2A25': MO.BIN4,     // plus sign with dot below
        '\u2A26': MO.BIN4,     // plus sign with tilde below
        '\u2A27': MO.BIN4,     // plus sign with subscript two
        '\u2A28': MO.BIN4,     // plus sign with black triangle
        '\u2A29': MO.BIN4,     // minus sign with comma above
        '\u2A2A': MO.BIN4,     // minus sign with dot below
        '\u2A2B': MO.BIN4,     // minus sign with falling dots
        '\u2A2C': MO.BIN4,     // minus sign with rising dots
        '\u2A2D': MO.BIN4,     // plus sign in left half circle
        '\u2A2E': MO.BIN4,     // plus sign in right half circle
        '\u2A30': MO.BIN4,     // multiplication sign with dot above
        '\u2A31': MO.BIN4,     // multiplication sign with underbar
        '\u2A32': MO.BIN4,     // semidirect product with bottom closed
        '\u2A33': MO.BIN4,     // smash product
        '\u2A34': MO.BIN4,     // multiplication sign in left half circle
        '\u2A35': MO.BIN4,     // multiplication sign in right half circle
        '\u2A36': MO.BIN4,     // circled multiplication sign with circumflex accent
        '\u2A37': MO.BIN4,     // multiplication sign in double circle
        '\u2A38': MO.BIN4,     // circled division sign
        '\u2A39': MO.BIN4,     // plus sign in triangle
        '\u2A3A': MO.BIN4,     // minus sign in triangle
        '\u2A3B': MO.BIN4,     // multiplication sign in triangle
        '\u2A3C': MO.BIN4,     // interior product
        '\u2A3D': MO.BIN4,     // righthand interior product
        '\u2A3E': MO.BIN4,     // z notation relational composition
        '\u2A40': MO.BIN4,     // intersection with dot
        '\u2A41': MO.BIN4,     // union with minus sign
        '\u2A42': MO.BIN4,     // union with overbar
        '\u2A43': MO.BIN4,     // intersection with overbar
        '\u2A44': MO.BIN4,     // intersection with logical and
        '\u2A45': MO.BIN4,     // union with logical or
        '\u2A46': MO.BIN4,     // union above intersection
        '\u2A47': MO.BIN4,     // intersection above union
        '\u2A48': MO.BIN4,     // union above bar above intersection
        '\u2A49': MO.BIN4,     // intersection above bar above union
        '\u2A4A': MO.BIN4,     // union beside and joined with union
        '\u2A4B': MO.BIN4,     // intersection beside and joined with intersection
        '\u2A4C': MO.BIN4,     // closed union with serifs
        '\u2A4D': MO.BIN4,     // closed intersection with serifs
        '\u2A4E': MO.BIN4,     // double square intersection
        '\u2A4F': MO.BIN4,     // double square union
        '\u2A50': MO.BIN4,     // closed union with serifs and smash product
        '\u2A51': MO.BIN4,     // logical and with dot above
        '\u2A52': MO.BIN4,     // logical or with dot above
        '\u2A53': MO.BIN4,     // double logical and
        '\u2A54': MO.BIN4,     // double logical or
        '\u2A55': MO.BIN4,     // two intersecting logical and
        '\u2A56': MO.BIN4,     // two intersecting logical or
        '\u2A57': MO.BIN4,     // sloping large or
        '\u2A58': MO.BIN4,     // sloping large and
        '\u2A59': MO.REL,      // logical or overlapping logical and
        '\u2A5A': MO.BIN4,     // logical and with middle stem
        '\u2A5B': MO.BIN4,     // logical or with middle stem
        '\u2A5C': MO.BIN4,     // logical and with horizontal dash
        '\u2A5D': MO.BIN4,     // logical or with horizontal dash
        '\u2A5E': MO.BIN4,     // logical and with double overbar
        '\u2A5F': MO.BIN4,     // logical and with underbar
        '\u2A60': MO.BIN4,     // logical and with double underbar
        '\u2A61': MO.BIN4,     // small vee with underbar
        '\u2A62': MO.BIN4,     // logical or with double overbar
        '\u2A63': MO.BIN4,     // logical or with double underbar
        '\u2A64': MO.BIN4,     // z notation domain antirestriction
        '\u2A65': MO.BIN4,     // z notation range antirestriction
        '\u2A66': MO.REL,      // equals sign with dot below
        '\u2A67': MO.REL,      // identical with dot above
        '\u2A68': MO.REL,      // triple horizontal bar with double vertical stroke
        '\u2A69': MO.REL,      // triple horizontal bar with triple vertical stroke
        '\u2A6A': MO.REL,      // tilde operator with dot above
        '\u2A6B': MO.REL,      // tilde operator with rising dots
        '\u2A6C': MO.REL,      // similar minus similar
        '\u2A6D': MO.REL,      // congruent with dot above
        '\u2A6E': MO.REL,      // equals with asterisk
        '\u2A6F': MO.REL,      // almost equal to with circumflex accent
        '\u2A70': MO.REL,      // approximately equal or equal to
        '\u2A71': MO.BIN4,     // equals sign above plus sign
        '\u2A72': MO.BIN4,     // plus sign above equals sign
        '\u2A73': MO.REL,      // equals sign above tilde operator
        '\u2A74': MO.REL,      // double colon equal
        '\u2A75': MO.REL,      // two consecutive equals signs
        '\u2A76': MO.REL,      // three consecutive equals signs
        '\u2A77': MO.REL,      // equals sign with two dots above and two dots below
        '\u2A78': MO.REL,      // equivalent with four dots above
        '\u2A79': MO.REL,      // less-than with circle inside
        '\u2A7A': MO.REL,      // greater-than with circle inside
        '\u2A7B': MO.REL,      // less-than with question mark above
        '\u2A7C': MO.REL,      // greater-than with question mark above
        '\u2A7D': MO.REL,      // less-than or slanted equal to
        '\u2A7D\u0338': MO.REL, // less-than or slanted equal to with slash
        '\u2A7E': MO.REL,      // greater-than or slanted equal to
        '\u2A7E\u0338': MO.REL, // greater-than or slanted equal to with slash
        '\u2A7F': MO.REL,      // less-than or slanted equal to with dot inside
        '\u2A80': MO.REL,      // greater-than or slanted equal to with dot inside
        '\u2A81': MO.REL,      // less-than or slanted equal to with dot above
        '\u2A82': MO.REL,      // greater-than or slanted equal to with dot above
        '\u2A83': MO.REL,      // less-than or slanted equal to with dot above right
        '\u2A84': MO.REL,      // greater-than or slanted equal to with dot above left
        '\u2A85': MO.REL,      // less-than or approximate
        '\u2A86': MO.REL,      // greater-than or approximate
        '\u2A87': MO.REL,      // less-than and single-line not equal to
        '\u2A88': MO.REL,      // greater-than and single-line not equal to
        '\u2A89': MO.REL,      // less-than and not approximate
        '\u2A8A': MO.REL,      // greater-than and not approximate
        '\u2A8B': MO.REL,      // less-than above double-line equal above greater-than
        '\u2A8C': MO.REL,      // greater-than above double-line equal above less-than
        '\u2A8D': MO.REL,      // less-than above similar or equal
        '\u2A8E': MO.REL,      // greater-than above similar or equal
        '\u2A8F': MO.REL,      // less-than above similar above greater-than
        '\u2A90': MO.REL,      // greater-than above similar above less-than
        '\u2A91': MO.REL,      // less-than above greater-than above double-line equal
        '\u2A92': MO.REL,      // greater-than above less-than above double-line equal
        '\u2A93': MO.REL,      // less-than above slanted equal above greater-than above slanted equal
        '\u2A94': MO.REL,      // greater-than above slanted equal above less-than above slanted equal
        '\u2A95': MO.REL,      // slanted equal to or less-than
        '\u2A96': MO.REL,      // slanted equal to or greater-than
        '\u2A97': MO.REL,      // slanted equal to or less-than with dot inside
        '\u2A98': MO.REL,      // slanted equal to or greater-than with dot inside
        '\u2A99': MO.REL,      // double-line equal to or less-than
        '\u2A9A': MO.REL,      // double-line equal to or greater-than
        '\u2A9B': MO.REL,      // double-line slanted equal to or less-than
        '\u2A9C': MO.REL,      // double-line slanted equal to or greater-than
        '\u2A9D': MO.REL,      // similar or less-than
        '\u2A9E': MO.REL,      // similar or greater-than
        '\u2A9F': MO.REL,      // similar above less-than above equals sign
        '\u2AA0': MO.REL,      // similar above greater-than above equals sign
        '\u2AA1': MO.REL,      // double nested less-than
        '\u2AA1\u0338': MO.REL, // double nested less-than with slash
        '\u2AA2': MO.REL,      // double nested greater-than
        '\u2AA2\u0338': MO.REL, // double nested greater-than with slash
        '\u2AA3': MO.REL,      // double nested less-than with underbar
        '\u2AA4': MO.REL,      // greater-than overlapping less-than
        '\u2AA5': MO.REL,      // greater-than beside less-than
        '\u2AA6': MO.REL,      // less-than closed by curve
        '\u2AA7': MO.REL,      // greater-than closed by curve
        '\u2AA8': MO.REL,      // less-than closed by curve above slanted equal
        '\u2AA9': MO.REL,      // greater-than closed by curve above slanted equal
        '\u2AAA': MO.REL,      // smaller than
        '\u2AAB': MO.REL,      // larger than
        '\u2AAC': MO.REL,      // smaller than or equal to
        '\u2AAD': MO.REL,      // larger than or equal to
        '\u2AAE': MO.REL,      // equals sign with bumpy above
        '\u2AAF\u0338': MO.REL, // precedes above single-line equals sign with slash
        '\u2AB0\u0338': MO.REL, // succeeds above single-line equals sign with slash
        '\u2AB1': MO.REL,      // precedes above single-line not equal to
        '\u2AB2': MO.REL,      // succeeds above single-line not equal to
        '\u2AB3': MO.REL,      // precedes above equals sign
        '\u2AB4': MO.REL,      // succeeds above equals sign
        '\u2AB5': MO.REL,      // precedes above not equal to
        '\u2AB6': MO.REL,      // succeeds above not equal to
        '\u2AB7': MO.REL,      // precedes above almost equal to
        '\u2AB8': MO.REL,      // succeeds above almost equal to
        '\u2AB9': MO.REL,      // precedes above not almost equal to
        '\u2ABA': MO.REL,      // succeeds above not almost equal to
        '\u2ABB': MO.REL,      // double precedes
        '\u2ABC': MO.REL,      // double succeeds
        '\u2ABD': MO.REL,      // subset with dot
        '\u2ABE': MO.REL,      // superset with dot
        '\u2ABF': MO.REL,      // subset with plus sign below
        '\u2AC0': MO.REL,      // superset with plus sign below
        '\u2AC1': MO.REL,      // subset with multiplication sign below
        '\u2AC2': MO.REL,      // superset with multiplication sign below
        '\u2AC3': MO.REL,      // subset of or equal to with dot above
        '\u2AC4': MO.REL,      // superset of or equal to with dot above
        '\u2AC5': MO.REL,      // subset of above equals sign
        '\u2AC6': MO.REL,      // superset of above equals sign
        '\u2AC7': MO.REL,      // subset of above tilde operator
        '\u2AC8': MO.REL,      // superset of above tilde operator
        '\u2AC9': MO.REL,      // subset of above almost equal to
        '\u2ACA': MO.REL,      // superset of above almost equal to
        '\u2ACB': MO.REL,      // subset of above not equal to
        '\u2ACC': MO.REL,      // superset of above not equal to
        '\u2ACD': MO.REL,      // square left open box operator
        '\u2ACE': MO.REL,      // square right open box operator
        '\u2ACF': MO.REL,      // closed subset
        '\u2AD0': MO.REL,      // closed superset
        '\u2AD1': MO.REL,      // closed subset or equal to
        '\u2AD2': MO.REL,      // closed superset or equal to
        '\u2AD3': MO.REL,      // subset above superset
        '\u2AD4': MO.REL,      // superset above subset
        '\u2AD5': MO.REL,      // subset above subset
        '\u2AD6': MO.REL,      // superset above superset
        '\u2AD7': MO.REL,      // superset beside subset
        '\u2AD8': MO.REL,      // superset beside and joined by dash with subset
        '\u2AD9': MO.REL,      // element of opening downwards
        '\u2ADA': MO.REL,      // pitchfork with tee top
        '\u2ADB': MO.REL,      // transversal intersection
        '\u2ADC': MO.REL,      // forking
        '\u2ADD': MO.REL,      // nonforking
        '\u2ADE': MO.REL,      // short left tack
        '\u2ADF': MO.REL,      // short down tack
        '\u2AE0': MO.REL,      // short up tack
        '\u2AE1': MO.REL,      // perpendicular with s
        '\u2AE2': MO.REL,      // vertical bar triple right turnstile
        '\u2AE3': MO.REL,      // double vertical bar left turnstile
        '\u2AE4': MO.REL,      // vertical bar double left turnstile
        '\u2AE5': MO.REL,      // double vertical bar double left turnstile
        '\u2AE6': MO.REL,      // long dash from left member of double vertical
        '\u2AE7': MO.REL,      // short down tack with overbar
        '\u2AE8': MO.REL,      // short up tack with underbar
        '\u2AE9': MO.REL,      // short up tack above short down tack
        '\u2AEA': MO.REL,      // double down tack
        '\u2AEB': MO.REL,      // double up tack
        '\u2AEC': MO.REL,      // double stroke not sign
        '\u2AED': MO.REL,      // reversed double stroke not sign
        '\u2AEE': MO.REL,      // does not divide with reversed negation slash
        '\u2AEF': MO.REL,      // vertical line with circle above
        '\u2AF0': MO.REL,      // vertical line with circle below
        '\u2AF1': MO.REL,      // down tack with circle below
        '\u2AF2': MO.REL,      // parallel with horizontal stroke
        '\u2AF3': MO.REL,      // parallel with tilde operator
        '\u2AF4': MO.BIN4,     // triple vertical bar binary relation
        '\u2AF5': MO.BIN4,     // triple vertical bar with horizontal stroke
        '\u2AF6': MO.BIN4,     // triple colon operator
        '\u2AF7': MO.REL,      // triple nested less-than
        '\u2AF8': MO.REL,      // triple nested greater-than
        '\u2AF9': MO.REL,      // double-line slanted less-than or equal to
        '\u2AFA': MO.REL,      // double-line slanted greater-than or equal to
        '\u2AFB': MO.BIN4,     // triple solidus binary relation
        '\u2AFD': MO.BIN4,     // double solidus operator
        '\u2AFE': MO.BIN3      // white vertical bar
      }
    }
  });

  MathJax.Ajax.loadComplete(MML.optableDir+"/SuppMathOperators.js");

})(MathJax.ElementJax.mml);
</t>
<t tx="ekr.20211016054411.1091"></t>
<t tx="ekr.20211016054411.1092"></t>
<t tx="ekr.20211016054411.1093">/* -*- Mode: Javascript; indent-tabs-mode:nil; js-indent-level: 2 -*- */
/* vim: set ts=2 et sw=2 tw=80: */

MathJax.InputJax.AsciiMath = MathJax.InputJax({
  id: "AsciiMath",
  version: "2.7.2",
  directory: MathJax.InputJax.directory + "/AsciiMath",
  extensionDir: MathJax.InputJax.extensionDir + "/AsciiMath",
  
  config: {
    fixphi: true,                     // switch phi and varphi unicode values
    useMathMLspacing: true,           // use MathML spacing rather than TeX spacing?
    displaystyle: true,               // put limits above and below operators
    decimalsign: "."                  // can change to "," but watch out for "(1,2)"
  }
});

MathJax.InputJax.AsciiMath.Register("math/asciimath");

MathJax.InputJax.AsciiMath.loadComplete("config.js");
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1094">/* -*- Mode: Javascript; indent-tabs-mode:nil; js-indent-level: 2 -*- */
/* vim: set ts=2 et sw=2 tw=80: */
@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1095">(function (ASCIIMATH) {

  var MML;  // Filled in later

  //
  //  Make a documentFragment work-alike that uses MML objects
  //  rather than DOM objects.
  //
  var DOCFRAG = MathJax.Object.Subclass({
    firstChild: null,
    lastChild: null,
    Init: function () {
      this.childNodes = [];
    },
    appendChild: function (node) {
      if (node.parent) {node.parent.removeChild(node)}
      if (this.lastChild) {this.lastChild.nextSibling = node}
      if (!this.firstChild) {this.firstChild = node}
      this.childNodes.push(node); node.parent = this;
      this.lastChild = node;
      return node;
    },
    removeChild: function (node) {
      for (var i = 0, m = this.childNodes.length; i &lt; m; i++)
        {if (this.childNodes[i] === node) break}
      if (i === m) return;
      this.childNodes.splice(i,1);
      if (node === this.firstChild) {this.firstChild = node.nextSibling}
      if (node === this.lastChild) {
        if (!this.childNodes.length) {this.lastChild = null}
          else {this.lastChild = this.childNodes[this.childNodes.length-1]}
      }
      if (i) {this.childNodes[i-1].nextSibling = node.nextSibling}
      node.nextSibling = node.parent = null;
      return node;
    },
    replaceChild: function (node,old) {
      for (var i = 0, m = this.childNodes.length; i &lt; m; i++)
        {if (this.childNodes[i] === old) break}
      if (i) {this.childNodes[i-1].nextSibling = node} else {this.firstChild = node}
      if (i &gt;= m-1) {this.lastChild = node}
      this.childNodes[i] = node; node.nextSibling = old.nextSibling;
      old.nextSibling = old.parent = null;
      return old;
    },
    hasChildNodes: function (node) {
      return (this.childNodes.length&gt;0);	    
    },
    toString: function () {return "{"+this.childNodes.join("")+"}"}
  });

  @others
})(MathJax.InputJax.AsciiMath);


</t>
<t tx="ekr.20211016054411.1096">  var INITASCIIMATH = function () {
    MML = MathJax.ElementJax.mml;
    var MBASEINIT = MML.mbase.prototype.Init;

    //
    //  Make MML elements looks like DOM elements (add the
    //  methods that AsciiMath needs)
    //
    MML.mbase.Augment({
      firstChild: null,
      lastChild: null,
      nodeValue: null,
      nextSibling: null,
      Init: function () {
        var obj = MBASEINIT.apply(this,arguments) || this;
        obj.childNodes = obj.data;
        obj.nodeName = obj.type;
        return obj;
      },
      appendChild: function (node) {
        if (node.parent) {node.parent.removeChild(node)}
        var nodes = arguments;
        if (node.isa(DOCFRAG)) {
          nodes = node.childNodes;
          node.data = node.childNodes = [];
          node.firstChild = node.lastChild = null;
        }
        for (var i = 0, m = nodes.length; i &lt; m; i++) {
          node = nodes[i];
          if (this.lastChild) {this.lastChild.nextSibling = node}
          if (!this.firstChild) {this.firstChild = node}
          this.Append(node);
          this.lastChild = node;
        }
        return node;
      },
      removeChild: function (node) {
        for (var i = 0, m = this.childNodes.length; i &lt; m; i++)
          {if (this.childNodes[i] === node) break}
        if (i === m) return;
        this.childNodes.splice(i,1);
        if (node === this.firstChild) {this.firstChild = node.nextSibling}
        if (node === this.lastChild) {
          if (!this.childNodes.length) {this.lastChild = null}
            else {this.lastChild = this.childNodes[this.childNodes.length-1]}
        }
        if (i) {this.childNodes[i-1].nextSibling = node.nextSibling}
        node.nextSibling = node.parent = null;
        return node;
      },
      replaceChild: function (node,old) {
        for (var i = 0, m = this.childNodes.length; i &lt; m; i++)
          {if (this.childNodes[i] === old) break}
        // FIXME:  make this work with DOCFRAG's?
        if (i) {this.childNodes[i-1].nextSibling = node} else {this.firstChild = node}
        if (i &gt;= m-1) {this.lastChild = node}
        this.SetData(i,node); node.nextSibling = old.nextSibling;
        old.nextSibling = old.parent = null;
        return old;
      },
      hasChildNodes: function (node) {
        return (this.childNodes.length&gt;0);	    
      },
      setAttribute: function (name,value) {this[name] = value}
    });
  };

  //
  //  Set up to isolate ASCIIMathML.js
  //

  var window = {};  // hide the true window

  //
  //  Hide the true document, and add functions that
  //  use and produce MML objects instead of DOM objects
  //
  var document = {
    getElementById: true,
    createElementNS: function (ns,type) {
      var node = MML[type]();
      if (type === "mo" &amp;&amp; ASCIIMATH.config.useMathMLspacing) {node.useMMLspacing = 0x80}
      return node;
    },
    createTextNode: function (text) {return MML.chars(text).With({nodeValue:text})},
    createDocumentFragment: function () {return DOCFRAG()}
  };

  var navigator = {appName: "MathJax"};  // hide the true navigator object

/******************************************************************
 *
 *   The following section is ASCIIMathML.js Version 2.2
 *   (c) Peter Jipsen, used with permission.
 *   
 *   Some sections are commented out to save space in the
 *   minified version (but that is not strictly necessary).
 *   
 ******************************************************************/

/*
ASCIIMathML.js
==============
This file contains JavaScript functions to convert ASCII math notation
and (some) LaTeX to Presentation MathML. The conversion is done while the 
HTML page loads, and should work with Firefox and other browsers that can
render MathML.

Just add the next line to your HTML page with this file in the same folder:

&lt;script type="text/javascript" src="ASCIIMathML.js"&gt;&lt;/script&gt;

Version 2.2 Mar 3, 2014.
Latest version at https://github.com/mathjax/asciimathml
If you use it on a webpage, please send the URL to jipsen@chapman.edu

Copyright (c) 2014 Peter Jipsen and other ASCIIMathML.js contributors
*/
//var asciimath = {};

//(function(){
var mathcolor = "blue";        // change it to "" (to inherit) or another color
//var mathfontsize = "1em";      // change to e.g. 1.2em for larger math
//var mathfontfamily = "serif";  // change to "" to inherit (works in IE) 
                               // or another family (e.g. "arial")
//var automathrecognize = false; // writing "amath" on page makes this true
//var checkForMathML = true;     // check if browser can display MathML
//var notifyIfNoMathML = true;   // display note at top if no MathML capability
//var alertIfNoMathML = false;   // show alert box if no MathML capability
//var translateOnLoad = true;    // set to false to do call translators from js 
//var translateASCIIMath = true; // false to preserve `..`
var displaystyle = true;      // puts limits above and below large operators
var showasciiformulaonhover = true; // helps students learn ASCIIMath
var decimalsign = ".";        // change to "," if you like, beware of `(1,2)`!
//var AMdelimiter1 = "`", AMescape1 = "\\\\`"; // can use other characters
//var AMdocumentId = "wikitext" // PmWiki element containing math (default=body)
var fixphi = true;  		//false to return to legacy phi/varphi mapping

</t>
<t tx="ekr.20211016054411.1097">/*++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++*/

var isIE = (navigator.appName.slice(0,9)=="Microsoft");
/*
var noMathML = false, translated = false;

if (isIE) { // add MathPlayer info to IE webpages
  document.write("&lt;object id=\"mathplayer\"\
  classid=\"clsid:32F66A20-7614-11D4-BD11-00104BD3F987\"&gt;&lt;/object&gt;");
  document.write("&lt;?import namespace=\"m\" implementation=\"#mathplayer\"?&gt;");
}

// Add a stylesheet, replacing any previous custom stylesheet (adapted from TW)
function setStylesheet(s) {
    var id = "AMMLcustomStyleSheet";
    var n = document.getElementById(id);
    if(document.createStyleSheet) {
        // Test for IE's non-standard createStyleSheet method
        if(n)
            n.parentNode.removeChild(n);
        // This failed without the &amp;nbsp;
        document.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd","&amp;nbsp;&lt;style id='" + id + "'&gt;" + s + "&lt;/style&gt;");
    } else {
        if(n) {
            n.replaceChild(document.createTextNode(s),n.firstChild);
        } else {
            n = document.createElement("style");
            n.type = "text/css";
            n.id = id;
            n.appendChild(document.createTextNode(s));
            document.getElementsByTagName("head")[0].appendChild(n);
        }
    }
}

setStylesheet("#AMMLcloseDiv \{font-size:0.8em; padding-top:1em; color:#014\}\n#AMMLwarningBox \{position:absolute; width:100%; top:0; left:0; z-index:200; text-align:center; font-size:1em; font-weight:bold; padding:0.5em 0 0.5em 0; color:#ffc; background:#c30\}");

function init(){
    var msg, warnings = new Array();
    if (document.getElementById==null){
        alert("This webpage requires a recent browser such as Mozilla Firefox");
        return null;
    }
    if (checkForMathML &amp;&amp; (msg = checkMathML())) warnings.push(msg);
    if (warnings.length&gt;0) displayWarnings(warnings);
    if (!noMathML) initSymbols();
    return true;
}

function checkMathML(){
  if (navigator.appName.slice(0,8)=="Netscape") 
    if (navigator.appVersion.slice(0,1)&gt;="5") noMathML = null;
    else noMathML = true;
  else if (navigator.appName.slice(0,9)=="Microsoft")
    try {
        var ActiveX = new ActiveXObject("MathPlayer.Factory.1");
        noMathML = null;
    } catch (e) {
        noMathML = true;
    }
  else if (navigator.appName.slice(0,5)=="Opera") 
    if (navigator.appVersion.slice(0,3)&gt;="9.5") noMathML = null;
  else noMathML = true;
//noMathML = true; //uncomment to check
  if (noMathML &amp;&amp; notifyIfNoMathML) {
    var msg = "To view the ASCIIMathML notation use Internet Explorer + MathPlayer or Mozilla Firefox 2.0 or later.";
    if (alertIfNoMathML)
       alert(msg);
    else return msg;
  }
}

function hideWarning(){
    var body = document.getElementsByTagName("body")[0];
    body.removeChild(document.getElementById('AMMLwarningBox'));
    body.onclick = null;
}

function displayWarnings(warnings) {
  var i, frag, nd = createElementXHTML("div");
  var body = document.getElementsByTagName("body")[0];
  body.onclick=hideWarning;
  nd.id = 'AMMLwarningBox';
  for (i=0; i&lt;warnings.length; i++) {
    frag = createElementXHTML("div");
    frag.appendChild(document.createTextNode(warnings[i]));
    frag.style.paddingBottom = "1.0em";
    nd.appendChild(frag);
  }
  nd.appendChild(createElementXHTML("p"));
  nd.appendChild(document.createTextNode("For instructions see the "));
  var an = createElementXHTML("a");
  an.appendChild(document.createTextNode("ASCIIMathML"));
  an.setAttribute("href","http://www.chapman.edu/~jipsen/asciimath.html");
  nd.appendChild(an);
  nd.appendChild(document.createTextNode(" homepage"));
  an = createElementXHTML("div");
  an.id = 'AMMLcloseDiv';
  an.appendChild(document.createTextNode('(click anywhere to close this warning)'));
  nd.appendChild(an);
  var body = document.getElementsByTagName("body")[0];
  body.insertBefore(nd,body.childNodes[0]);
}

function translate(spanclassAM) {
  if (!translated) { // run this only once
    translated = true;
    var body = document.getElementsByTagName("body")[0];
    var processN = document.getElementById(AMdocumentId);
    if (translateASCIIMath) AMprocessNode((processN!=null?processN:body), false, spanclassAM);
  }
}
*/
function createElementXHTML(t) {
  if (isIE) return document.createElement(t);
  else return document.createElementNS("http://www.w3.org/1999/xhtml",t);
}

var AMmathml = "http://www.w3.org/1998/Math/MathML";

</t>
<t tx="ekr.20211016054411.1098">function AMcreateElementMathML(t) {
  if (isIE) return document.createElement("m:"+t);
  else return document.createElementNS(AMmathml,t);
}

</t>
<t tx="ekr.20211016054411.1099">function createMmlNode(t,frag) {
  var node;
  if (isIE) node = document.createElement("m:"+t);
  else node = document.createElementNS(AMmathml,t);
  if (frag) node.appendChild(frag);
  return node;
}

</t>
<t tx="ekr.20211016054411.11"></t>
<t tx="ekr.20211016054411.110">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/extpfeil',    // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex/extensions/ams/lib',
    'components/src/input/tex/extensions/newcommand/lib',
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1100">function newcommand(oldstr,newstr) {
  AMsymbols.push({input:oldstr, tag:"mo", output:newstr, tex:null, ttype:DEFINITION});
  refreshSymbols();
}

</t>
<t tx="ekr.20211016054411.1101">function newsymbol(symbolobj) {
  AMsymbols.push(symbolobj);
  refreshSymbols();
}

// character lists for Mozilla/Netscape fonts
var AMcal = ["\uD835\uDC9C","\u212C","\uD835\uDC9E","\uD835\uDC9F","\u2130","\u2131","\uD835\uDCA2","\u210B","\u2110","\uD835\uDCA5","\uD835\uDCA6","\u2112","\u2133","\uD835\uDCA9","\uD835\uDCAA","\uD835\uDCAB","\uD835\uDCAC","\u211B","\uD835\uDCAE","\uD835\uDCAF","\uD835\uDCB0","\uD835\uDCB1","\uD835\uDCB2","\uD835\uDCB3","\uD835\uDCB4","\uD835\uDCB5","\uD835\uDCB6","\uD835\uDCB7","\uD835\uDCB8","\uD835\uDCB9","\u212F","\uD835\uDCBB","\u210A","\uD835\uDCBD","\uD835\uDCBE","\uD835\uDCBF","\uD835\uDCC0","\uD835\uDCC1","\uD835\uDCC2","\uD835\uDCC3","\u2134","\uD835\uDCC5","\uD835\uDCC6","\uD835\uDCC7","\uD835\uDCC8","\uD835\uDCC9","\uD835\uDCCA","\uD835\uDCCB","\uD835\uDCCC","\uD835\uDCCD","\uD835\uDCCE","\uD835\uDCCF"];

var AMfrk = ["\uD835\uDD04","\uD835\uDD05","\u212D","\uD835\uDD07","\uD835\uDD08","\uD835\uDD09","\uD835\uDD0A","\u210C","\u2111","\uD835\uDD0D","\uD835\uDD0E","\uD835\uDD0F","\uD835\uDD10","\uD835\uDD11","\uD835\uDD12","\uD835\uDD13","\uD835\uDD14","\u211C","\uD835\uDD16","\uD835\uDD17","\uD835\uDD18","\uD835\uDD19","\uD835\uDD1A","\uD835\uDD1B","\uD835\uDD1C","\u2128","\uD835\uDD1E","\uD835\uDD1F","\uD835\uDD20","\uD835\uDD21","\uD835\uDD22","\uD835\uDD23","\uD835\uDD24","\uD835\uDD25","\uD835\uDD26","\uD835\uDD27","\uD835\uDD28","\uD835\uDD29","\uD835\uDD2A","\uD835\uDD2B","\uD835\uDD2C","\uD835\uDD2D","\uD835\uDD2E","\uD835\uDD2F","\uD835\uDD30","\uD835\uDD31","\uD835\uDD32","\uD835\uDD33","\uD835\uDD34","\uD835\uDD35","\uD835\uDD36","\uD835\uDD37"];

var AMbbb = ["\uD835\uDD38","\uD835\uDD39","\u2102","\uD835\uDD3B","\uD835\uDD3C","\uD835\uDD3D","\uD835\uDD3E","\u210D","\uD835\uDD40","\uD835\uDD41","\uD835\uDD42","\uD835\uDD43","\uD835\uDD44","\u2115","\uD835\uDD46","\u2119","\u211A","\u211D","\uD835\uDD4A","\uD835\uDD4B","\uD835\uDD4C","\uD835\uDD4D","\uD835\uDD4E","\uD835\uDD4F","\uD835\uDD50","\u2124","\uD835\uDD52","\uD835\uDD53","\uD835\uDD54","\uD835\uDD55","\uD835\uDD56","\uD835\uDD57","\uD835\uDD58","\uD835\uDD59","\uD835\uDD5A","\uD835\uDD5B","\uD835\uDD5C","\uD835\uDD5D","\uD835\uDD5E","\uD835\uDD5F","\uD835\uDD60","\uD835\uDD61","\uD835\uDD62","\uD835\uDD63","\uD835\uDD64","\uD835\uDD65","\uD835\uDD66","\uD835\uDD67","\uD835\uDD68","\uD835\uDD69","\uD835\uDD6A","\uD835\uDD6B"];
</t>
<t tx="ekr.20211016054411.1102">/*var AMcal = [0xEF35,0x212C,0xEF36,0xEF37,0x2130,0x2131,0xEF38,0x210B,0x2110,0xEF39,0xEF3A,0x2112,0x2133,0xEF3B,0xEF3C,0xEF3D,0xEF3E,0x211B,0xEF3F,0xEF40,0xEF41,0xEF42,0xEF43,0xEF44,0xEF45,0xEF46];
var AMfrk = [0xEF5D,0xEF5E,0x212D,0xEF5F,0xEF60,0xEF61,0xEF62,0x210C,0x2111,0xEF63,0xEF64,0xEF65,0xEF66,0xEF67,0xEF68,0xEF69,0xEF6A,0x211C,0xEF6B,0xEF6C,0xEF6D,0xEF6E,0xEF6F,0xEF70,0xEF71,0x2128];
var AMbbb = [0xEF8C,0xEF8D,0x2102,0xEF8E,0xEF8F,0xEF90,0xEF91,0x210D,0xEF92,0xEF93,0xEF94,0xEF95,0xEF96,0x2115,0xEF97,0x2119,0x211A,0x211D,0xEF98,0xEF99,0xEF9A,0xEF9B,0xEF9C,0xEF9D,0xEF9E,0x2124];*/

var CONST = 0, UNARY = 1, BINARY = 2, INFIX = 3, LEFTBRACKET = 4,
    RIGHTBRACKET = 5, SPACE = 6, UNDEROVER = 7, DEFINITION = 8,
    LEFTRIGHT = 9, TEXT = 10, /*BIG = 11, LONG = 12, STRETCHY = 13,
    MATRIX = 14,*/ UNARYUNDEROVER = 15; // token types

var AMquote = {input:"\"",   tag:"mtext", output:"mbox", tex:null, ttype:TEXT};

var AMsymbols = [
//some greek symbols
{input:"alpha",  tag:"mi", output:"\u03B1", tex:null, ttype:CONST},
{input:"beta",   tag:"mi", output:"\u03B2", tex:null, ttype:CONST},
{input:"chi",    tag:"mi", output:"\u03C7", tex:null, ttype:CONST},
{input:"delta",  tag:"mi", output:"\u03B4", tex:null, ttype:CONST},
{input:"Delta",  tag:"mo", output:"\u0394", tex:null, ttype:CONST},
{input:"epsi",   tag:"mi", output:"\u03B5", tex:"epsilon", ttype:CONST},
{input:"varepsilon", tag:"mi", output:"\u025B", tex:null, ttype:CONST},
{input:"eta",    tag:"mi", output:"\u03B7", tex:null, ttype:CONST},
{input:"gamma",  tag:"mi", output:"\u03B3", tex:null, ttype:CONST},
{input:"Gamma",  tag:"mo", output:"\u0393", tex:null, ttype:CONST},
{input:"iota",   tag:"mi", output:"\u03B9", tex:null, ttype:CONST},
{input:"kappa",  tag:"mi", output:"\u03BA", tex:null, ttype:CONST},
{input:"lambda", tag:"mi", output:"\u03BB", tex:null, ttype:CONST},
{input:"Lambda", tag:"mo", output:"\u039B", tex:null, ttype:CONST},
{input:"lamda", tag:"mi", output:"\u03BB", tex:null, ttype:CONST},
{input:"Lamda", tag:"mo", output:"\u039B", tex:null, ttype:CONST},
{input:"mu",     tag:"mi", output:"\u03BC", tex:null, ttype:CONST},
{input:"nu",     tag:"mi", output:"\u03BD", tex:null, ttype:CONST},
{input:"omega",  tag:"mi", output:"\u03C9", tex:null, ttype:CONST},
{input:"Omega",  tag:"mo", output:"\u03A9", tex:null, ttype:CONST},
{input:"phi",    tag:"mi", output:fixphi?"\u03D5":"\u03C6", tex:null, ttype:CONST},
{input:"varphi", tag:"mi", output:fixphi?"\u03C6":"\u03D5", tex:null, ttype:CONST},
{input:"Phi",    tag:"mo", output:"\u03A6", tex:null, ttype:CONST},
{input:"pi",     tag:"mi", output:"\u03C0", tex:null, ttype:CONST},
{input:"Pi",     tag:"mo", output:"\u03A0", tex:null, ttype:CONST},
{input:"psi",    tag:"mi", output:"\u03C8", tex:null, ttype:CONST},
{input:"Psi",    tag:"mi", output:"\u03A8", tex:null, ttype:CONST},
{input:"rho",    tag:"mi", output:"\u03C1", tex:null, ttype:CONST},
{input:"sigma",  tag:"mi", output:"\u03C3", tex:null, ttype:CONST},
{input:"Sigma",  tag:"mo", output:"\u03A3", tex:null, ttype:CONST},
{input:"tau",    tag:"mi", output:"\u03C4", tex:null, ttype:CONST},
{input:"theta",  tag:"mi", output:"\u03B8", tex:null, ttype:CONST},
{input:"vartheta", tag:"mi", output:"\u03D1", tex:null, ttype:CONST},
{input:"Theta",  tag:"mo", output:"\u0398", tex:null, ttype:CONST},
{input:"upsilon", tag:"mi", output:"\u03C5", tex:null, ttype:CONST},
{input:"xi",     tag:"mi", output:"\u03BE", tex:null, ttype:CONST},
{input:"Xi",     tag:"mo", output:"\u039E", tex:null, ttype:CONST},
{input:"zeta",   tag:"mi", output:"\u03B6", tex:null, ttype:CONST},

//binary operation symbols
//{input:"-",  tag:"mo", output:"\u0096", tex:null, ttype:CONST},
{input:"*",  tag:"mo", output:"\u22C5", tex:"cdot", ttype:CONST},
{input:"**", tag:"mo", output:"\u2217", tex:"ast", ttype:CONST},
{input:"***", tag:"mo", output:"\u22C6", tex:"star", ttype:CONST},
{input:"//", tag:"mo", output:"/",      tex:null, ttype:CONST},
{input:"\\\\", tag:"mo", output:"\\",   tex:"backslash", ttype:CONST},
{input:"setminus", tag:"mo", output:"\\", tex:null, ttype:CONST},
{input:"xx", tag:"mo", output:"\u00D7", tex:"times", ttype:CONST},
{input:"|&gt;&lt;", tag:"mo", output:"\u22C9", tex:"ltimes", ttype:CONST},
{input:"&gt;&lt;|", tag:"mo", output:"\u22CA", tex:"rtimes", ttype:CONST},
{input:"|&gt;&lt;|", tag:"mo", output:"\u22C8", tex:"bowtie", ttype:CONST},
{input:"-:", tag:"mo", output:"\u00F7", tex:"div", ttype:CONST},
{input:"divide",   tag:"mo", output:"-:", tex:null, ttype:DEFINITION},
{input:"@",  tag:"mo", output:"\u2218", tex:"circ", ttype:CONST},
{input:"o+", tag:"mo", output:"\u2295", tex:"oplus", ttype:CONST},
{input:"ox", tag:"mo", output:"\u2297", tex:"otimes", ttype:CONST},
{input:"o.", tag:"mo", output:"\u2299", tex:"odot", ttype:CONST},
{input:"sum", tag:"mo", output:"\u2211", tex:null, ttype:UNDEROVER},
{input:"prod", tag:"mo", output:"\u220F", tex:null, ttype:UNDEROVER},
{input:"^^",  tag:"mo", output:"\u2227", tex:"wedge", ttype:CONST},
{input:"^^^", tag:"mo", output:"\u22C0", tex:"bigwedge", ttype:UNDEROVER},
{input:"vv",  tag:"mo", output:"\u2228", tex:"vee", ttype:CONST},
{input:"vvv", tag:"mo", output:"\u22C1", tex:"bigvee", ttype:UNDEROVER},
{input:"nn",  tag:"mo", output:"\u2229", tex:"cap", ttype:CONST},
{input:"nnn", tag:"mo", output:"\u22C2", tex:"bigcap", ttype:UNDEROVER},
{input:"uu",  tag:"mo", output:"\u222A", tex:"cup", ttype:CONST},
{input:"uuu", tag:"mo", output:"\u22C3", tex:"bigcup", ttype:UNDEROVER},

//binary relation symbols
{input:"!=",  tag:"mo", output:"\u2260", tex:"ne", ttype:CONST},
{input:":=",  tag:"mo", output:":=",     tex:null, ttype:CONST},
{input:"lt",  tag:"mo", output:"&lt;",      tex:null, ttype:CONST},
{input:"&lt;=",  tag:"mo", output:"\u2264", tex:"le", ttype:CONST},
{input:"lt=", tag:"mo", output:"\u2264", tex:"leq", ttype:CONST},
{input:"gt",  tag:"mo", output:"&gt;",      tex:null, ttype:CONST},
{input:"&gt;=",  tag:"mo", output:"\u2265", tex:"ge", ttype:CONST},
{input:"gt=", tag:"mo", output:"\u2265", tex:"geq", ttype:CONST},
{input:"-&lt;",  tag:"mo", output:"\u227A", tex:"prec", ttype:CONST},
{input:"-lt", tag:"mo", output:"\u227A", tex:null, ttype:CONST},
{input:"&gt;-",  tag:"mo", output:"\u227B", tex:"succ", ttype:CONST},
{input:"-&lt;=", tag:"mo", output:"\u2AAF", tex:"preceq", ttype:CONST},
{input:"&gt;-=", tag:"mo", output:"\u2AB0", tex:"succeq", ttype:CONST},
{input:"in",  tag:"mo", output:"\u2208", tex:null, ttype:CONST},
{input:"!in", tag:"mo", output:"\u2209", tex:"notin", ttype:CONST},
{input:"sub", tag:"mo", output:"\u2282", tex:"subset", ttype:CONST},
{input:"sup", tag:"mo", output:"\u2283", tex:"supset", ttype:CONST},
{input:"sube", tag:"mo", output:"\u2286", tex:"subseteq", ttype:CONST},
{input:"supe", tag:"mo", output:"\u2287", tex:"supseteq", ttype:CONST},
{input:"-=",  tag:"mo", output:"\u2261", tex:"equiv", ttype:CONST},
{input:"~=",  tag:"mo", output:"\u2245", tex:"cong", ttype:CONST},
{input:"~~",  tag:"mo", output:"\u2248", tex:"approx", ttype:CONST},
{input:"~",  tag:"mo", output:"\u223C", tex:"sim", ttype:CONST},
{input:"prop", tag:"mo", output:"\u221D", tex:"propto", ttype:CONST},

//logical symbols
{input:"and", tag:"mtext", output:"and", tex:null, ttype:SPACE},
{input:"or",  tag:"mtext", output:"or",  tex:null, ttype:SPACE},
{input:"not", tag:"mo", output:"\u00AC", tex:"neg", ttype:CONST},
{input:"=&gt;",  tag:"mo", output:"\u21D2", tex:"implies", ttype:CONST},
{input:"if",  tag:"mo", output:"if",     tex:null, ttype:SPACE},
{input:"&lt;=&gt;", tag:"mo", output:"\u21D4", tex:"iff", ttype:CONST},
{input:"AA",  tag:"mo", output:"\u2200", tex:"forall", ttype:CONST},
{input:"EE",  tag:"mo", output:"\u2203", tex:"exists", ttype:CONST},
{input:"_|_", tag:"mo", output:"\u22A5", tex:"bot", ttype:CONST},
{input:"TT",  tag:"mo", output:"\u22A4", tex:"top", ttype:CONST},
{input:"|--",  tag:"mo", output:"\u22A2", tex:"vdash", ttype:CONST},
{input:"|==",  tag:"mo", output:"\u22A8", tex:"models", ttype:CONST},

//grouping brackets
{input:"(", tag:"mo", output:"(", tex:"left(", ttype:LEFTBRACKET},
{input:")", tag:"mo", output:")", tex:"right)", ttype:RIGHTBRACKET},
{input:"[", tag:"mo", output:"[", tex:"left[", ttype:LEFTBRACKET},
{input:"]", tag:"mo", output:"]", tex:"right]", ttype:RIGHTBRACKET},
{input:"{", tag:"mo", output:"{", tex:null, ttype:LEFTBRACKET},
{input:"}", tag:"mo", output:"}", tex:null, ttype:RIGHTBRACKET},
{input:"|", tag:"mo", output:"|", tex:null, ttype:LEFTRIGHT},
{input:":|:", tag:"mo", output:"|", tex:null, ttype:CONST},
{input:"|:", tag:"mo", output:"|", tex:null, ttype:LEFTBRACKET},
{input:":|", tag:"mo", output:"|", tex:null, ttype:RIGHTBRACKET},
//{input:"||", tag:"mo", output:"||", tex:null, ttype:LEFTRIGHT},
{input:"(:", tag:"mo", output:"\u2329", tex:"langle", ttype:LEFTBRACKET},
{input:":)", tag:"mo", output:"\u232A", tex:"rangle", ttype:RIGHTBRACKET},
{input:"&lt;&lt;", tag:"mo", output:"\u2329", tex:null, ttype:LEFTBRACKET},
{input:"&gt;&gt;", tag:"mo", output:"\u232A", tex:null, ttype:RIGHTBRACKET},
{input:"{:", tag:"mo", output:"{:", tex:null, ttype:LEFTBRACKET, invisible:true},
{input:":}", tag:"mo", output:":}", tex:null, ttype:RIGHTBRACKET, invisible:true},

//miscellaneous symbols
{input:"int",  tag:"mo", output:"\u222B", tex:null, ttype:CONST},
{input:"dx",   tag:"mi", output:"{:d x:}", tex:null, ttype:DEFINITION},
{input:"dy",   tag:"mi", output:"{:d y:}", tex:null, ttype:DEFINITION},
{input:"dz",   tag:"mi", output:"{:d z:}", tex:null, ttype:DEFINITION},
{input:"dt",   tag:"mi", output:"{:d t:}", tex:null, ttype:DEFINITION},
{input:"oint", tag:"mo", output:"\u222E", tex:null, ttype:CONST},
{input:"del",  tag:"mo", output:"\u2202", tex:"partial", ttype:CONST},
{input:"grad", tag:"mo", output:"\u2207", tex:"nabla", ttype:CONST},
{input:"+-",   tag:"mo", output:"\u00B1", tex:"pm", ttype:CONST},
{input:"-+",   tag:"mo", output:"\u2213", tex:"mp", ttype:CONST},
{input:"O/",   tag:"mo", output:"\u2205", tex:"emptyset", ttype:CONST},
{input:"oo",   tag:"mo", output:"\u221E", tex:"infty", ttype:CONST},
{input:"aleph", tag:"mo", output:"\u2135", tex:null, ttype:CONST},
{input:"...",  tag:"mo", output:"...",    tex:"ldots", ttype:CONST},
{input:":.",  tag:"mo", output:"\u2234",  tex:"therefore", ttype:CONST},
{input:":'",  tag:"mo", output:"\u2235",  tex:"because", ttype:CONST},
{input:"/_",  tag:"mo", output:"\u2220",  tex:"angle", ttype:CONST},
{input:"/_\\",  tag:"mo", output:"\u25B3",  tex:"triangle", ttype:CONST},
{input:"'",   tag:"mo", output:"\u2032",  tex:"prime", ttype:CONST},
{input:"tilde", tag:"mover", output:"~", tex:null, ttype:UNARY, acc:true},
{input:"\\ ",  tag:"mo", output:"\u00A0", tex:null, ttype:CONST},
{input:"frown",  tag:"mo", output:"\u2322", tex:null, ttype:CONST},
{input:"quad", tag:"mo", output:"\u00A0\u00A0", tex:null, ttype:CONST},
{input:"qquad", tag:"mo", output:"\u00A0\u00A0\u00A0\u00A0", tex:null, ttype:CONST},
{input:"cdots", tag:"mo", output:"\u22EF", tex:null, ttype:CONST},
{input:"vdots", tag:"mo", output:"\u22EE", tex:null, ttype:CONST},
{input:"ddots", tag:"mo", output:"\u22F1", tex:null, ttype:CONST},
{input:"diamond", tag:"mo", output:"\u22C4", tex:null, ttype:CONST},
{input:"square", tag:"mo", output:"\u25A1", tex:null, ttype:CONST},
{input:"|__", tag:"mo", output:"\u230A",  tex:"lfloor", ttype:CONST},
{input:"__|", tag:"mo", output:"\u230B",  tex:"rfloor", ttype:CONST},
{input:"|~", tag:"mo", output:"\u2308",  tex:"lceiling", ttype:CONST},
{input:"~|", tag:"mo", output:"\u2309",  tex:"rceiling", ttype:CONST},
{input:"CC",  tag:"mo", output:"\u2102", tex:null, ttype:CONST},
{input:"NN",  tag:"mo", output:"\u2115", tex:null, ttype:CONST},
{input:"QQ",  tag:"mo", output:"\u211A", tex:null, ttype:CONST},
{input:"RR",  tag:"mo", output:"\u211D", tex:null, ttype:CONST},
{input:"ZZ",  tag:"mo", output:"\u2124", tex:null, ttype:CONST},
{input:"f",   tag:"mi", output:"f",      tex:null, ttype:UNARY, func:true},
{input:"g",   tag:"mi", output:"g",      tex:null, ttype:UNARY, func:true},

//standard functions
{input:"lim",  tag:"mo", output:"lim", tex:null, ttype:UNDEROVER},
{input:"Lim",  tag:"mo", output:"Lim", tex:null, ttype:UNDEROVER},
{input:"sin",  tag:"mo", output:"sin", tex:null, ttype:UNARY, func:true},
{input:"cos",  tag:"mo", output:"cos", tex:null, ttype:UNARY, func:true},
{input:"tan",  tag:"mo", output:"tan", tex:null, ttype:UNARY, func:true},
{input:"sinh", tag:"mo", output:"sinh", tex:null, ttype:UNARY, func:true},
{input:"cosh", tag:"mo", output:"cosh", tex:null, ttype:UNARY, func:true},
{input:"tanh", tag:"mo", output:"tanh", tex:null, ttype:UNARY, func:true},
{input:"cot",  tag:"mo", output:"cot", tex:null, ttype:UNARY, func:true},
{input:"sec",  tag:"mo", output:"sec", tex:null, ttype:UNARY, func:true},
{input:"csc",  tag:"mo", output:"csc", tex:null, ttype:UNARY, func:true},
{input:"arcsin",  tag:"mo", output:"arcsin", tex:null, ttype:UNARY, func:true},
{input:"arccos",  tag:"mo", output:"arccos", tex:null, ttype:UNARY, func:true},
{input:"arctan",  tag:"mo", output:"arctan", tex:null, ttype:UNARY, func:true},
{input:"coth",  tag:"mo", output:"coth", tex:null, ttype:UNARY, func:true},
{input:"sech",  tag:"mo", output:"sech", tex:null, ttype:UNARY, func:true},
{input:"csch",  tag:"mo", output:"csch", tex:null, ttype:UNARY, func:true},
{input:"exp",  tag:"mo", output:"exp", tex:null, ttype:UNARY, func:true},
{input:"abs",   tag:"mo", output:"abs",  tex:null, ttype:UNARY, rewriteleftright:["|","|"]},
{input:"norm",   tag:"mo", output:"norm",  tex:null, ttype:UNARY, rewriteleftright:["\u2225","\u2225"]},
{input:"floor",   tag:"mo", output:"floor",  tex:null, ttype:UNARY, rewriteleftright:["\u230A","\u230B"]},
{input:"ceil",   tag:"mo", output:"ceil",  tex:null, ttype:UNARY, rewriteleftright:["\u2308","\u2309"]},
{input:"log",  tag:"mo", output:"log", tex:null, ttype:UNARY, func:true},
{input:"ln",   tag:"mo", output:"ln",  tex:null, ttype:UNARY, func:true},
{input:"det",  tag:"mo", output:"det", tex:null, ttype:UNARY, func:true},
{input:"dim",  tag:"mo", output:"dim", tex:null, ttype:CONST},
{input:"mod",  tag:"mo", output:"mod", tex:null, ttype:CONST},
{input:"gcd",  tag:"mo", output:"gcd", tex:null, ttype:UNARY, func:true},
{input:"lcm",  tag:"mo", output:"lcm", tex:null, ttype:UNARY, func:true},
{input:"lub",  tag:"mo", output:"lub", tex:null, ttype:CONST},
{input:"glb",  tag:"mo", output:"glb", tex:null, ttype:CONST},
{input:"min",  tag:"mo", output:"min", tex:null, ttype:UNDEROVER},
{input:"max",  tag:"mo", output:"max", tex:null, ttype:UNDEROVER},
{input:"Sin",  tag:"mo", output:"Sin", tex:null, ttype:UNARY, func:true},
{input:"Cos",  tag:"mo", output:"Cos", tex:null, ttype:UNARY, func:true},
{input:"Tan",  tag:"mo", output:"Tan", tex:null, ttype:UNARY, func:true},
{input:"Arcsin",  tag:"mo", output:"Arcsin", tex:null, ttype:UNARY, func:true},
{input:"Arccos",  tag:"mo", output:"Arccos", tex:null, ttype:UNARY, func:true},
{input:"Arctan",  tag:"mo", output:"Arctan", tex:null, ttype:UNARY, func:true},
{input:"Sinh", tag:"mo", output:"Sinh", tex:null, ttype:UNARY, func:true},
{input:"Cosh", tag:"mo", output:"Cosh", tex:null, ttype:UNARY, func:true},
{input:"Tanh", tag:"mo", output:"Tanh", tex:null, ttype:UNARY, func:true},
{input:"Cot",  tag:"mo", output:"Cot", tex:null, ttype:UNARY, func:true},
{input:"Sec",  tag:"mo", output:"Sec", tex:null, ttype:UNARY, func:true},
{input:"Csc",  tag:"mo", output:"Csc", tex:null, ttype:UNARY, func:true},
{input:"Log",  tag:"mo", output:"Log", tex:null, ttype:UNARY, func:true},
{input:"Ln",   tag:"mo", output:"Ln",  tex:null, ttype:UNARY, func:true},
{input:"Abs",   tag:"mo", output:"abs",  tex:null, ttype:UNARY, notexcopy:true, rewriteleftright:["|","|"]},

//arrows
{input:"uarr", tag:"mo", output:"\u2191", tex:"uparrow", ttype:CONST},
{input:"darr", tag:"mo", output:"\u2193", tex:"downarrow", ttype:CONST},
{input:"rarr", tag:"mo", output:"\u2192", tex:"rightarrow", ttype:CONST},
{input:"-&gt;",   tag:"mo", output:"\u2192", tex:"to", ttype:CONST},
{input:"&gt;-&gt;",   tag:"mo", output:"\u21A3", tex:"rightarrowtail", ttype:CONST},
{input:"-&gt;&gt;",   tag:"mo", output:"\u21A0", tex:"twoheadrightarrow", ttype:CONST},
{input:"&gt;-&gt;&gt;",   tag:"mo", output:"\u2916", tex:"twoheadrightarrowtail", ttype:CONST},
{input:"|-&gt;",  tag:"mo", output:"\u21A6", tex:"mapsto", ttype:CONST},
{input:"larr", tag:"mo", output:"\u2190", tex:"leftarrow", ttype:CONST},
{input:"harr", tag:"mo", output:"\u2194", tex:"leftrightarrow", ttype:CONST},
{input:"rArr", tag:"mo", output:"\u21D2", tex:"Rightarrow", ttype:CONST},
{input:"lArr", tag:"mo", output:"\u21D0", tex:"Leftarrow", ttype:CONST},
{input:"hArr", tag:"mo", output:"\u21D4", tex:"Leftrightarrow", ttype:CONST},
//commands with argument
{input:"sqrt", tag:"msqrt", output:"sqrt", tex:null, ttype:UNARY},
{input:"root", tag:"mroot", output:"root", tex:null, ttype:BINARY},
{input:"frac", tag:"mfrac", output:"/",    tex:null, ttype:BINARY},
{input:"/",    tag:"mfrac", output:"/",    tex:null, ttype:INFIX},
{input:"stackrel", tag:"mover", output:"stackrel", tex:null, ttype:BINARY},
{input:"overset", tag:"mover", output:"stackrel", tex:null, ttype:BINARY},
{input:"underset", tag:"munder", output:"stackrel", tex:null, ttype:BINARY},
{input:"_",    tag:"msub",  output:"_",    tex:null, ttype:INFIX},
{input:"^",    tag:"msup",  output:"^",    tex:null, ttype:INFIX},
{input:"hat", tag:"mover", output:"\u005E", tex:null, ttype:UNARY, acc:true},
{input:"bar", tag:"mover", output:"\u00AF", tex:"overline", ttype:UNARY, acc:true},
{input:"vec", tag:"mover", output:"\u2192", tex:null, ttype:UNARY, acc:true},
{input:"dot", tag:"mover", output:".",      tex:null, ttype:UNARY, acc:true},
{input:"ddot", tag:"mover", output:"..",    tex:null, ttype:UNARY, acc:true},
{input:"overarc", tag:"mover", output:"\u23DC", tex:"overparen", ttype:UNARY, acc:true},
{input:"ul", tag:"munder", output:"\u0332", tex:"underline", ttype:UNARY, acc:true},
{input:"ubrace", tag:"munder", output:"\u23DF", tex:"underbrace", ttype:UNARYUNDEROVER, acc:true},
{input:"obrace", tag:"mover", output:"\u23DE", tex:"overbrace", ttype:UNARYUNDEROVER, acc:true},
{input:"text", tag:"mtext", output:"text", tex:null, ttype:TEXT},
{input:"mbox", tag:"mtext", output:"mbox", tex:null, ttype:TEXT},
{input:"color", tag:"mstyle", ttype:BINARY},
{input:"id", tag:"mrow", ttype:BINARY},
{input:"class", tag:"mrow", ttype:BINARY},
{input:"cancel", tag:"menclose", output:"cancel", tex:null, ttype:UNARY},
AMquote,
{input:"bb", tag:"mstyle", atname:"mathvariant", atval:"bold", output:"bb", tex:null, ttype:UNARY},
{input:"mathbf", tag:"mstyle", atname:"mathvariant", atval:"bold", output:"mathbf", tex:null, ttype:UNARY},
{input:"sf", tag:"mstyle", atname:"mathvariant", atval:"sans-serif", output:"sf", tex:null, ttype:UNARY},
{input:"mathsf", tag:"mstyle", atname:"mathvariant", atval:"sans-serif", output:"mathsf", tex:null, ttype:UNARY},
{input:"bbb", tag:"mstyle", atname:"mathvariant", atval:"double-struck", output:"bbb", tex:null, ttype:UNARY, codes:AMbbb},
{input:"mathbb", tag:"mstyle", atname:"mathvariant", atval:"double-struck", output:"mathbb", tex:null, ttype:UNARY, codes:AMbbb},
{input:"cc",  tag:"mstyle", atname:"mathvariant", atval:"script", output:"cc", tex:null, ttype:UNARY, codes:AMcal},
{input:"mathcal", tag:"mstyle", atname:"mathvariant", atval:"script", output:"mathcal", tex:null, ttype:UNARY, codes:AMcal},
{input:"tt",  tag:"mstyle", atname:"mathvariant", atval:"monospace", output:"tt", tex:null, ttype:UNARY},
{input:"mathtt", tag:"mstyle", atname:"mathvariant", atval:"monospace", output:"mathtt", tex:null, ttype:UNARY},
{input:"fr",  tag:"mstyle", atname:"mathvariant", atval:"fraktur", output:"fr", tex:null, ttype:UNARY, codes:AMfrk},
{input:"mathfrak",  tag:"mstyle", atname:"mathvariant", atval:"fraktur", output:"mathfrak", tex:null, ttype:UNARY, codes:AMfrk}
];

function compareNames(s1,s2) {
  if (s1.input &gt; s2.input) return 1
  else return -1;
}

var AMnames = []; //list of input symbols

function initSymbols() {
  var i;
  var symlen = AMsymbols.length;
  for (i=0; i&lt;symlen; i++) {
    if (AMsymbols[i].tex) {
      AMsymbols.push({input:AMsymbols[i].tex,
        tag:AMsymbols[i].tag, output:AMsymbols[i].output, ttype:AMsymbols[i].ttype,
        acc:(AMsymbols[i].acc||false)});
    }
  }
  refreshSymbols();
}

function refreshSymbols(){
  var i;
  AMsymbols.sort(compareNames);
  for (i=0; i&lt;AMsymbols.length; i++) AMnames[i] = AMsymbols[i].input;
}

function define(oldstr,newstr) {
  AMsymbols.push({input:oldstr, tag:"mo", output:newstr, tex:null, ttype:DEFINITION});
  refreshSymbols(); // this may be a problem if many symbols are defined!
}

function AMremoveCharsAndBlanks(str,n) {
//remove n characters and any following blanks
  var st;
  if (str.charAt(n)=="\\" &amp;&amp; str.charAt(n+1)!="\\" &amp;&amp; str.charAt(n+1)!=" ")
    st = str.slice(n+1);
  else st = str.slice(n);
  for (var i=0; i&lt;st.length &amp;&amp; st.charCodeAt(i)&lt;=32; i=i+1);
  return st.slice(i);
}

function position(arr, str, n) {
// return position &gt;=n where str appears or would be inserted
// assumes arr is sorted
  if (n==0) {
    var h,m;
    n = -1;
    h = arr.length;
    while (n+1&lt;h) {
      m = (n+h) &gt;&gt; 1;
      if (arr[m]&lt;str) n = m; else h = m;
    }
    return h;
  } else
    for (var i=n; i&lt;arr.length &amp;&amp; arr[i]&lt;str; i++);
  return i; // i=arr.length || arr[i]&gt;=str
}

function AMgetSymbol(str) {
//return maximal initial substring of str that appears in names
//return null if there is none
  var k = 0; //new pos
  var j = 0; //old pos
  var mk; //match pos
  var st;
  var tagst;
  var match = "";
  var more = true;
  for (var i=1; i&lt;=str.length &amp;&amp; more; i++) {
    st = str.slice(0,i); //initial substring of length i
    j = k;
    k = position(AMnames, st, j);
    if (k&lt;AMnames.length &amp;&amp; str.slice(0,AMnames[k].length)==AMnames[k]){
      match = AMnames[k];
      mk = k;
      i = match.length;
    }
    more = k&lt;AMnames.length &amp;&amp; str.slice(0,AMnames[k].length)&gt;=AMnames[k];
  }
  AMpreviousSymbol=AMcurrentSymbol;
  if (match!=""){
    AMcurrentSymbol=AMsymbols[mk].ttype;
    return AMsymbols[mk];
  }
// if str[0] is a digit or - return maxsubstring of digits.digits
  AMcurrentSymbol=CONST;
  k = 1;
  st = str.slice(0,1);
  var integ = true;
  while ("0"&lt;=st &amp;&amp; st&lt;="9" &amp;&amp; k&lt;=str.length) {
    st = str.slice(k,k+1);
    k++;
  }
  if (st == decimalsign) {
    st = str.slice(k,k+1);
    if ("0"&lt;=st &amp;&amp; st&lt;="9") {
      integ = false;
      k++;
      while ("0"&lt;=st &amp;&amp; st&lt;="9" &amp;&amp; k&lt;=str.length) {
        st = str.slice(k,k+1);
        k++;
      }
    }
  }
  if ((integ &amp;&amp; k&gt;1) || k&gt;2) {
    st = str.slice(0,k-1);
    tagst = "mn";
  } else {
    k = 2;
    st = str.slice(0,1); //take 1 character
    tagst = (("A"&gt;st || st&gt;"Z") &amp;&amp; ("a"&gt;st || st&gt;"z")?"mo":"mi");
  }
  if (st=="-" &amp;&amp; str.charAt(1)!==' ' &amp;&amp; AMpreviousSymbol==INFIX) {
    AMcurrentSymbol = INFIX;  //trick "/" into recognizing "-" on second parse
    return {input:st, tag:tagst, output:st, ttype:UNARY, func:true};
  }
  return {input:st, tag:tagst, output:st, ttype:CONST};
}

function AMremoveBrackets(node) {
  var st;
  if (!node.hasChildNodes()) { return; }
  if (node.firstChild.hasChildNodes() &amp;&amp; (node.nodeName=="mrow" || node.nodeName=="M:MROW")) {
    st = node.firstChild.firstChild.nodeValue;
    if (st=="(" || st=="[" || st=="{") node.removeChild(node.firstChild);
  }
  if (node.lastChild.hasChildNodes() &amp;&amp; (node.nodeName=="mrow" || node.nodeName=="M:MROW")) {
    st = node.lastChild.firstChild.nodeValue;
    if (st==")" || st=="]" || st=="}") node.removeChild(node.lastChild);
  }
}

/*Parsing ASCII math expressions with the following grammar
v ::= [A-Za-z] | greek letters | numbers | other constant symbols
u ::= sqrt | text | bb | other unary symbols for font commands
b ::= frac | root | stackrel         binary symbols
l ::= ( | [ | { | (: | {:            left brackets
r ::= ) | ] | } | :) | :}            right brackets
S ::= v | lEr | uS | bSS             Simple expression
I ::= S_S | S^S | S_S^S | S          Intermediate expression
E ::= IE | I/I                       Expression
Each terminal symbol is translated into a corresponding mathml node.*/

var AMnestingDepth,AMpreviousSymbol,AMcurrentSymbol;

function AMparseSexpr(str) { //parses str and returns [node,tailstr]
  var symbol, node, result, i, st,// rightvert = false,
    newFrag = document.createDocumentFragment();
  str = AMremoveCharsAndBlanks(str,0);
  symbol = AMgetSymbol(str);             //either a token or a bracket or empty
  if (symbol == null || symbol.ttype == RIGHTBRACKET &amp;&amp; AMnestingDepth &gt; 0) {
    return [null,str];
  }
  if (symbol.ttype == DEFINITION) {
    str = symbol.output+AMremoveCharsAndBlanks(str,symbol.input.length);
    symbol = AMgetSymbol(str);
  }
  switch (symbol.ttype) {  case UNDEROVER:
  case CONST:
    str = AMremoveCharsAndBlanks(str,symbol.input.length);
    return [createMmlNode(symbol.tag,        //its a constant
                             document.createTextNode(symbol.output)),str];
  case LEFTBRACKET:   //read (expr+)
    AMnestingDepth++;
    str = AMremoveCharsAndBlanks(str,symbol.input.length);
    result = AMparseExpr(str,true);
    AMnestingDepth--;
    if (typeof symbol.invisible == "boolean" &amp;&amp; symbol.invisible)
      node = createMmlNode("mrow",result[0]);
    else {
      node = createMmlNode("mo",document.createTextNode(symbol.output));
      node = createMmlNode("mrow",node);
      node.appendChild(result[0]);
    }
    return [node,result[1]];
  case TEXT:
      if (symbol!=AMquote) str = AMremoveCharsAndBlanks(str,symbol.input.length);
      if (str.charAt(0)=="{") i=str.indexOf("}");
      else if (str.charAt(0)=="(") i=str.indexOf(")");
      else if (str.charAt(0)=="[") i=str.indexOf("]");
      else if (symbol==AMquote) i=str.slice(1).indexOf("\"")+1;
      else i = 0;
      if (i==-1) i = str.length;
      st = str.slice(1,i);
      if (st.charAt(0) == " ") {
        node = createMmlNode("mspace");
        node.setAttribute("width","1ex");
        newFrag.appendChild(node);
      }
      newFrag.appendChild(
        createMmlNode(symbol.tag,document.createTextNode(st)));
      if (st.charAt(st.length-1) == " ") {
        node = createMmlNode("mspace");
        node.setAttribute("width","1ex");
        newFrag.appendChild(node);
      }
      str = AMremoveCharsAndBlanks(str,i+1);
      return [createMmlNode("mrow",newFrag),str];
  case UNARYUNDEROVER:
  case UNARY:
      str = AMremoveCharsAndBlanks(str,symbol.input.length);
      result = AMparseSexpr(str);
      if (result[0]==null) return [createMmlNode(symbol.tag,
                             document.createTextNode(symbol.output)),str];
      if (typeof symbol.func == "boolean" &amp;&amp; symbol.func) { // functions hack
        st = str.charAt(0);
          if (st=="^" || st=="_" || st=="/" || st=="|" || st=="," ||
             (symbol.input.length==1 &amp;&amp; symbol.input.match(/\w/) &amp;&amp; st!="(")) {
          return [createMmlNode(symbol.tag,
                    document.createTextNode(symbol.output)),str];
        } else {
          node = createMmlNode("mrow",
           createMmlNode(symbol.tag,document.createTextNode(symbol.output)));
          node.appendChild(result[0]);
          return [node,result[1]];
        }
      }
      AMremoveBrackets(result[0]);
      if (symbol.input == "sqrt") {           // sqrt
        return [createMmlNode(symbol.tag,result[0]),result[1]];
      } else if (typeof symbol.rewriteleftright != "undefined") {    // abs, floor, ceil
          node = createMmlNode("mrow", createMmlNode("mo",document.createTextNode(symbol.rewriteleftright[0])));
          node.appendChild(result[0]);
          node.appendChild(createMmlNode("mo",document.createTextNode(symbol.rewriteleftright[1])));
          return [node,result[1]];
      } else if (symbol.input == "cancel") {   // cancel
        node = createMmlNode(symbol.tag,result[0]);
    node.setAttribute("notation","updiagonalstrike");
    return [node,result[1]];
      } else if (typeof symbol.acc == "boolean" &amp;&amp; symbol.acc) {   // accent
        node = createMmlNode(symbol.tag,result[0]);
        var accnode = createMmlNode("mo",document.createTextNode(symbol.output));
        if (symbol.input=="vec" &amp;&amp; (
        (result[0].nodeName=="mrow" &amp;&amp; result[0].childNodes.length==1
            &amp;&amp; result[0].firstChild.firstChild.nodeValue !== null
            &amp;&amp; result[0].firstChild.firstChild.nodeValue.length==1) ||
        (result[0].firstChild.nodeValue !== null
            &amp;&amp; result[0].firstChild.nodeValue.length==1) )) {
            accnode.setAttribute("stretchy",false);
        }
        node.appendChild(accnode);
        return [node,result[1]];
      } else {                        // font change command
        if (!isIE &amp;&amp; typeof symbol.codes != "undefined") {
          for (i=0; i&lt;result[0].childNodes.length; i++)
            if (result[0].childNodes[i].nodeName=="mi" || result[0].nodeName=="mi") {
              st = (result[0].nodeName=="mi"?result[0].firstChild.nodeValue:
                              result[0].childNodes[i].firstChild.nodeValue);
              var newst = [];
              for (var j=0; j&lt;st.length; j++)
          if (st.charCodeAt(j)&gt;64 &amp;&amp; st.charCodeAt(j)&lt;91)
            newst = newst + symbol.codes[st.charCodeAt(j)-65];
                else if (st.charCodeAt(j)&gt;96 &amp;&amp; st.charCodeAt(j)&lt;123)
                    newst = newst + symbol.codes[st.charCodeAt(j)-71];
                else newst = newst + st.charAt(j);
              if (result[0].nodeName=="mi")
                result[0]=createMmlNode("mo").
                          appendChild(document.createTextNode(newst));
              else result[0].replaceChild(createMmlNode("mo").
                               appendChild(document.createTextNode(newst)),
                                           result[0].childNodes[i]);
            }
        }
        node = createMmlNode(symbol.tag,result[0]);
        node.setAttribute(symbol.atname,symbol.atval);
        return [node,result[1]];
      }
  case BINARY:
    str = AMremoveCharsAndBlanks(str,symbol.input.length);
    result = AMparseSexpr(str);
    if (result[0]==null) return [createMmlNode("mo",
                           document.createTextNode(symbol.input)),str];
    AMremoveBrackets(result[0]);
    var result2 = AMparseSexpr(result[1]);
    if (result2[0]==null) return [createMmlNode("mo",
                           document.createTextNode(symbol.input)),str];
    AMremoveBrackets(result2[0]);
    if (['color', 'class', 'id'].indexOf(symbol.input) &gt;= 0) {

      // Get the second argument
        if (str.charAt(0)=="{") i=str.indexOf("}");
      else if (str.charAt(0)=="(") i=str.indexOf(")");
      else if (str.charAt(0)=="[") i=str.indexOf("]");
        st = str.slice(1,i);

      // Make a mathml node
        node = createMmlNode(symbol.tag,result2[0]);

      // Set the correct attribute
      if (symbol.input === "color") node.setAttribute("mathcolor", st)
      else if (symbol.input === "class") node.setAttribute("class", st)
      else if (symbol.input === "id") node.setAttribute("id", st)
    return [node,result2[1]];
    }
    if (symbol.input=="root" || symbol.output=="stackrel")
      newFrag.appendChild(result2[0]);
    newFrag.appendChild(result[0]);
    if (symbol.input=="frac") newFrag.appendChild(result2[0]);
    return [createMmlNode(symbol.tag,newFrag),result2[1]];
  case INFIX:
    str = AMremoveCharsAndBlanks(str,symbol.input.length);
    return [createMmlNode("mo",document.createTextNode(symbol.output)),str];
  case SPACE:
    str = AMremoveCharsAndBlanks(str,symbol.input.length);
    node = createMmlNode("mspace");
    node.setAttribute("width","1ex");
    newFrag.appendChild(node);
    newFrag.appendChild(
      createMmlNode(symbol.tag,document.createTextNode(symbol.output)));
    node = createMmlNode("mspace");
    node.setAttribute("width","1ex");
    newFrag.appendChild(node);
    return [createMmlNode("mrow",newFrag),str];
  case LEFTRIGHT:
//    if (rightvert) return [null,str]; else rightvert = true;
    AMnestingDepth++;
    str = AMremoveCharsAndBlanks(str,symbol.input.length);
    result = AMparseExpr(str,false);
    AMnestingDepth--;
    st = "";
    if (result[0].lastChild!=null)
      st = result[0].lastChild.firstChild.nodeValue;
    if (st == "|" &amp;&amp; str.charAt(0)!==",") { // its an absolute value subterm
      node = createMmlNode("mo",document.createTextNode(symbol.output));
      node = createMmlNode("mrow",node);
      node.appendChild(result[0]);
      return [node,result[1]];
    } else { // the "|" is a \mid so use unicode 2223 (divides) for spacing
      node = createMmlNode("mo",document.createTextNode("\u2223"));
      node = createMmlNode("mrow",node);
      return [node,str];
    }
  default:
//alert("default");
    str = AMremoveCharsAndBlanks(str,symbol.input.length);
    return [createMmlNode(symbol.tag,        //its a constant
                             document.createTextNode(symbol.output)),str];
  }
}

function AMparseIexpr(str) {
  var symbol, sym1, sym2, node, result, underover;
  str = AMremoveCharsAndBlanks(str,0);
  sym1 = AMgetSymbol(str);
  result = AMparseSexpr(str);
  node = result[0];
  str = result[1];
  symbol = AMgetSymbol(str);
  if (symbol.ttype == INFIX &amp;&amp; symbol.input != "/") {
    str = AMremoveCharsAndBlanks(str,symbol.input.length);
//    if (symbol.input == "/") result = AMparseIexpr(str); else ...
    result = AMparseSexpr(str);
    if (result[0] == null) // show box in place of missing argument
      result[0] = createMmlNode("mo",document.createTextNode("\u25A1"));
    else AMremoveBrackets(result[0]);
    str = result[1];
//    if (symbol.input == "/") AMremoveBrackets(node);
    underover = (sym1.ttype == UNDEROVER || sym1.ttype == UNARYUNDEROVER);
    if (symbol.input == "_") {
      sym2 = AMgetSymbol(str);
      if (sym2.input == "^") {
        str = AMremoveCharsAndBlanks(str,sym2.input.length);
        var res2 = AMparseSexpr(str);
        AMremoveBrackets(res2[0]);
        str = res2[1];
        node = createMmlNode((underover?"munderover":"msubsup"),node);
        node.appendChild(result[0]);
        node.appendChild(res2[0]);
        node = createMmlNode("mrow",node); // so sum does not stretch
      } else {
        node = createMmlNode((underover?"munder":"msub"),node);
        node.appendChild(result[0]);
      }
    } else if (symbol.input == "^" &amp;&amp; underover) {
        node = createMmlNode("mover",node);
        node.appendChild(result[0]);
    } else {
      node = createMmlNode(symbol.tag,node);
      node.appendChild(result[0]);
    }
    if (typeof sym1.func != 'undefined' &amp;&amp; sym1.func) {
        sym2 = AMgetSymbol(str);
        if (sym2.ttype != INFIX &amp;&amp; sym2.ttype != RIGHTBRACKET &amp;&amp;
            (sym1.input.length&gt;1 || sym2.ttype == LEFTBRACKET)) {
            result = AMparseIexpr(str);
            node = createMmlNode("mrow",node);
            node.appendChild(result[0]);
            str = result[1];
        }
    }
  }
  return [node,str];
}

function AMparseExpr(str,rightbracket) {
  var symbol, node, result, i,
  newFrag = document.createDocumentFragment();
  do {
    str = AMremoveCharsAndBlanks(str,0);
    result = AMparseIexpr(str);
    node = result[0];
    str = result[1];
    symbol = AMgetSymbol(str);
    if (symbol.ttype == INFIX &amp;&amp; symbol.input == "/") {
      str = AMremoveCharsAndBlanks(str,symbol.input.length);
      result = AMparseIexpr(str);
      if (result[0] == null) // show box in place of missing argument
        result[0] = createMmlNode("mo",document.createTextNode("\u25A1"));
      else AMremoveBrackets(result[0]);
      str = result[1];
      AMremoveBrackets(node);
      node = createMmlNode(symbol.tag,node);
      node.appendChild(result[0]);
      newFrag.appendChild(node);
      symbol = AMgetSymbol(str);
    }
    else if (node!=undefined) newFrag.appendChild(node);
  } while ((symbol.ttype != RIGHTBRACKET &amp;&amp;
           (symbol.ttype != LEFTRIGHT || rightbracket)
           || AMnestingDepth == 0) &amp;&amp; symbol!=null &amp;&amp; symbol.output!="");
  if (symbol.ttype == RIGHTBRACKET || symbol.ttype == LEFTRIGHT) {
//    if (AMnestingDepth &gt; 0) AMnestingDepth--;
    var len = newFrag.childNodes.length;
    if (len&gt;0 &amp;&amp; newFrag.childNodes[len-1].nodeName == "mrow"
            &amp;&amp; newFrag.childNodes[len-1].lastChild
            &amp;&amp; newFrag.childNodes[len-1].lastChild.firstChild ) { //matrix
            //removed to allow row vectors: //&amp;&amp; len&gt;1 &amp;&amp;
            //newFrag.childNodes[len-2].nodeName == "mo" &amp;&amp;
            //newFrag.childNodes[len-2].firstChild.nodeValue == ","
      var right = newFrag.childNodes[len-1].lastChild.firstChild.nodeValue;
      if (right==")" || right=="]") {
        var left = newFrag.childNodes[len-1].firstChild.firstChild.nodeValue;
        if (left=="(" &amp;&amp; right==")" &amp;&amp; symbol.output != "}" ||
            left=="[" &amp;&amp; right=="]") {
        var pos = []; // positions of commas
        var matrix = true;
        var m = newFrag.childNodes.length;
        for (i=0; matrix &amp;&amp; i&lt;m; i=i+2) {
          pos[i] = [];
          node = newFrag.childNodes[i];
          if (matrix) matrix = node.nodeName=="mrow" &amp;&amp;
            (i==m-1 || node.nextSibling.nodeName=="mo" &amp;&amp;
            node.nextSibling.firstChild.nodeValue==",")&amp;&amp;
            node.firstChild.firstChild.nodeValue==left &amp;&amp;
            node.lastChild.firstChild.nodeValue==right;
          if (matrix)
            for (var j=0; j&lt;node.childNodes.length; j++)
              if (node.childNodes[j].firstChild.nodeValue==",")
                pos[i][pos[i].length]=j;
          if (matrix &amp;&amp; i&gt;1) matrix = pos[i].length == pos[i-2].length;
        }
        matrix = matrix &amp;&amp; (pos.length&gt;1 || pos[0].length&gt;0);
        var columnlines = [];
        if (matrix) {
          var row, frag, n, k, table = document.createDocumentFragment();
          for (i=0; i&lt;m; i=i+2) {
            row = document.createDocumentFragment();
            frag = document.createDocumentFragment();
            node = newFrag.firstChild; // &lt;mrow&gt;(-,-,...,-,-)&lt;/mrow&gt;
            n = node.childNodes.length;
            k = 0;
            node.removeChild(node.firstChild); //remove (
            for (j=1; j&lt;n-1; j++) {
              if (typeof pos[i][k] != "undefined" &amp;&amp; j==pos[i][k]){
                node.removeChild(node.firstChild); //remove ,
                if (node.firstChild.nodeName=="mrow" &amp;&amp; node.firstChild.childNodes.length==1 &amp;&amp;
              node.firstChild.firstChild.firstChild.nodeValue=="\u2223") {
                //is columnline marker - skip it
                if (i==0) { columnlines.push("solid"); }
                node.removeChild(node.firstChild); //remove mrow
                node.removeChild(node.firstChild); //remove ,
                j+=2;
                k++;
                } else if (i==0) { columnlines.push("none"); }
                row.appendChild(createMmlNode("mtd",frag));
                k++;
              } else frag.appendChild(node.firstChild);
            }
            row.appendChild(createMmlNode("mtd",frag));
            if (i==0) { columnlines.push("none"); }
            if (newFrag.childNodes.length&gt;2) {
              newFrag.removeChild(newFrag.firstChild); //remove &lt;mrow&gt;)&lt;/mrow&gt;
              newFrag.removeChild(newFrag.firstChild); //remove &lt;mo&gt;,&lt;/mo&gt;
            }
            table.appendChild(createMmlNode("mtr",row));
          }
          node = createMmlNode("mtable",table);
          node.setAttribute("columnlines", columnlines.join(" "));
          if (typeof symbol.invisible == "boolean" &amp;&amp; symbol.invisible) node.setAttribute("columnalign","left");
          newFrag.replaceChild(node,newFrag.firstChild);
        }
       }
      }
    }
    str = AMremoveCharsAndBlanks(str,symbol.input.length);
    if (typeof symbol.invisible != "boolean" || !symbol.invisible) {
      node = createMmlNode("mo",document.createTextNode(symbol.output));
      newFrag.appendChild(node);
    }
  }
  return [newFrag,str];
}

function parseMath(str,latex) {
  var frag, node;
  AMnestingDepth = 0;
  //some basic cleanup for dealing with stuff editors like TinyMCE adds
  str = str.replace(/&amp;nbsp;/g,"");
  str = str.replace(/&amp;gt;/g,"&gt;");
  str = str.replace(/&amp;lt;/g,"&lt;");
  frag = AMparseExpr(str.replace(/^\s+/g,""),false)[0];
  node = createMmlNode("mstyle",frag);
  if (mathcolor != "") node.setAttribute("mathcolor",mathcolor);
  if (mathfontsize != "") {
      node.setAttribute("fontsize", mathfontsize);
      node.setAttribute("mathsize", mathfontsize);
  }
  if (mathfontfamily != "") {
      node.setAttribute("fontfamily", mathfontfamily);
      node.setAttribute("mathvariant", mathfontfamily);
  }

  if (displaystyle) node.setAttribute("displaystyle","true");
  node = createMmlNode("math",node);
  if (showasciiformulaonhover)                      //fixed by djhsu so newline
    node.setAttribute("title",str.replace(/\s+/g," "));//does not show in Gecko
  return node;
}

/*
function strarr2docFrag(arr, linebreaks, latex) {
  var newFrag=document.createDocumentFragment();
  var expr = false;
  for (var i=0; i&lt;arr.length; i++) {
    if (expr) newFrag.appendChild(parseMath(arr[i],latex));
    else {
      var arri = (linebreaks ? arr[i].split("\n\n") : [arr[i]]);
      newFrag.appendChild(createElementXHTML("span").
      appendChild(document.createTextNode(arri[0])));
      for (var j=1; j&lt;arri.length; j++) {
        newFrag.appendChild(createElementXHTML("p"));
        newFrag.appendChild(createElementXHTML("span").
        appendChild(document.createTextNode(arri[j])));
      }
    }
    expr = !expr;
  }
  return newFrag;
}

function AMautomathrec(str) {
//formula is a space (or start of str) followed by a maximal sequence of *two* or more tokens, possibly separated by runs of digits and/or space.
//tokens are single letters (except a, A, I) and ASCIIMathML tokens
  var texcommand = "\\\\[a-zA-Z]+|\\\\\\s|";
  var ambigAMtoken = "\\b(?:oo|lim|ln|int|oint|del|grad|aleph|prod|prop|sinh|cosh|tanh|cos|sec|pi|tt|fr|sf|sube|supe|sub|sup|det|mod|gcd|lcm|min|max|vec|ddot|ul|chi|eta|nu|mu)(?![a-z])|";
  var englishAMtoken = "\\b(?:sum|ox|log|sin|tan|dim|hat|bar|dot)(?![a-z])|";
  var secondenglishAMtoken = "|\\bI\\b|\\bin\\b|\\btext\\b"; // took if and or not out
  var simpleAMtoken = "NN|ZZ|QQ|RR|CC|TT|AA|EE|sqrt|dx|dy|dz|dt|xx|vv|uu|nn|bb|cc|csc|cot|alpha|beta|delta|Delta|epsilon|gamma|Gamma|kappa|lambda|Lambda|omega|phi|Phi|Pi|psi|Psi|rho|sigma|Sigma|tau|theta|Theta|xi|Xi|zeta"; // uuu nnn?
  var letter = "[a-zA-HJ-Z](?=(?:[^a-zA-Z]|$|"+ambigAMtoken+englishAMtoken+simpleAMtoken+"))|";
  var token = letter+texcommand+"\\d+|[-()[\\]{}+=*&amp;^_%\\\@/&lt;&gt;,\\|!:;'~]|\\.(?!(?:\x20|$))|"+ambigAMtoken+englishAMtoken+simpleAMtoken;
  var re = new RegExp("(^|\\s)((("+token+")\\s?)(("+token+secondenglishAMtoken+")\\s?)+)([,.?]?(?=\\s|$))","g");
  str = str.replace(re," `$2`$7");
  var arr = str.split(AMdelimiter1);
  var re1 = new RegExp("(^|\\s)([b-zB-HJ-Z+*&lt;&gt;]|"+texcommand+ambigAMtoken+simpleAMtoken+")(\\s|\\n|$)","g");
  var re2 = new RegExp("(^|\\s)([a-z]|"+texcommand+ambigAMtoken+simpleAMtoken+")([,.])","g"); // removed |\d+ for now
  for (i=0; i&lt;arr.length; i++)   //single nonenglish tokens
    if (i%2==0) {
      arr[i] = arr[i].replace(re1," `$2`$3");
      arr[i] = arr[i].replace(re2," `$2`$3");
      arr[i] = arr[i].replace(/([{}[\]])/,"`$1`");
    }
  str = arr.join(AMdelimiter1);
  str = str.replace(/((^|\s)\([a-zA-Z]{2,}.*?)\)`/g,"$1`)");  //fix parentheses
  str = str.replace(/`(\((a\s|in\s))(.*?[a-zA-Z]{2,}\))/g,"$1`$3");  //fix parentheses
  str = str.replace(/\sin`/g,"` in");
  str = str.replace(/`(\(\w\)[,.]?(\s|\n|$))/g,"$1`");
  str = str.replace(/`([0-9.]+|e.g|i.e)`(\.?)/gi,"$1$2");
  str = str.replace(/`([0-9.]+:)`/g,"$1");
  return str;
}

function processNodeR(n, linebreaks,latex) {
  var mtch, str, arr, frg, i;
  if (n.childNodes.length == 0) {
   if ((n.nodeType!=8 || linebreaks) &amp;&amp;
    n.parentNode.nodeName!="form" &amp;&amp; n.parentNode.nodeName!="FORM" &amp;&amp;
    n.parentNode.nodeName!="textarea" &amp;&amp; n.parentNode.nodeName!="TEXTAREA"
      //&amp;&amp;
      //n.parentNode.nodeName!="pre" &amp;&amp; n.parentNode.nodeName!="PRE"
    ) {
    str = n.nodeValue;
    if (!(str == null)) {
      str = str.replace(/\r\n\r\n/g,"\n\n");
      str = str.replace(/\x20+/g," ");
      str = str.replace(/\s*\r\n/g," ");
      if(latex) {
// DELIMITERS:
        mtch = (str.indexOf("\$")==-1 ? false : true);
        str = str.replace(/([^\\])\$/g,"$1 \$");
        str = str.replace(/^\$/," \$");	// in case \$ at start of string
        arr = str.split(" \$");
        for (i=0; i&lt;arr.length; i++)
      arr[i]=arr[i].replace(/\\\$/g,"\$");
      } else {
      mtch = false;
      str = str.replace(new RegExp(AMescape1, "g"),
              function(){mtch = true; return "AMescape1"});
      str = str.replace(/\\?end{?a?math}?/i,
              function(){automathrecognize = false; mtch = true; return ""});
      str = str.replace(/amath\b|\\begin{a?math}/i,
              function(){automathrecognize = true; mtch = true; return ""});
      arr = str.split(AMdelimiter1);
      if (automathrecognize)
        for (i=0; i&lt;arr.length; i++)
          if (i%2==0) arr[i] = AMautomathrec(arr[i]);
      str = arr.join(AMdelimiter1);
      arr = str.split(AMdelimiter1);
      for (i=0; i&lt;arr.length; i++) // this is a problem ************
        arr[i]=arr[i].replace(/AMescape1/g,AMdelimiter1);
      }
      if (arr.length&gt;1 || mtch) {
        if (!noMathML) {
          frg = strarr2docFrag(arr,n.nodeType==8,latex);
          var len = frg.childNodes.length;
          n.parentNode.replaceChild(frg,n);
          return len-1;
        } else return 0;
      }
    }
   } else return 0;
  } else if (n.nodeName!="math") {
    for (i=0; i&lt;n.childNodes.length; i++)
      i += processNodeR(n.childNodes[i], linebreaks,latex);
  }
  return 0;
}

function AMprocessNode(n, linebreaks, spanclassAM) {
  var frag,st;
  if (spanclassAM!=null) {
    frag = document.getElementsByTagName("span")
    for (var i=0;i&lt;frag.length;i++)
      if (frag[i].className == "AM") 
        processNodeR(frag[i],linebreaks,false);
  } else {
    try {
      st = n.innerHTML; // look for AMdelimiter on page
    } catch(err) {}
//alert(st)
    if (st==null || /amath\b|\\begin{a?math}/i.test(st) ||
      st.indexOf(AMdelimiter1+" ")!=-1 || st.slice(-1)==AMdelimiter1 ||
      st.indexOf(AMdelimiter1+"&lt;")!=-1 || st.indexOf(AMdelimiter1+"\n")!=-1) {
      processNodeR(n,linebreaks,false);
    }
  }
}

function generic(){
  if(!init()) return;
  if (translateOnLoad) {
      translate();
  }
};
//setup onload function
if(typeof window.addEventListener != 'undefined'){
  //.. gecko, safari, konqueror and standard
  window.addEventListener('load', generic, false);
}
else if(typeof document.addEventListener != 'undefined'){
  //.. opera 7
  document.addEventListener('load', generic, false);
}
else if(typeof window.attachEvent != 'undefined'){
  //.. win/ie
  window.attachEvent('onload', generic);
}else{
  //.. mac/ie5 and anything else that gets this far
  //if there's an existing onload function
  if(typeof window.onload == 'function'){
    //store it
    var existing = onload;
    //add new onload handler
    window.onload = function(){
      //call existing onload function
      existing();
      //call generic onload function
      generic();
    };
  }else{
    window.onload = generic;
  }
}

//expose some functions to outside
asciimath.newcommand = newcommand;
asciimath.newsymbol = newsymbol;
asciimath.AMprocesssNode = AMprocessNode;
asciimath.parseMath = parseMath;
asciimath.translate = translate;
})();

*/

</t>
<t tx="ekr.20211016054411.1103">/******************************************************************
 *
 *   The previous section is ASCIIMathML.js Version 2.2
 *   (c) Peter Jipsen, used with permission.
 *
 ******************************************************************/

showasciiformulaonhover = false;
mathfontfamily = "";
mathcolor = "";
mathfontsize = "";

//
//  Remove remapping of mathvariants to plane1 (MathJax handles that)
//  Change functions to mi rather than mo (to get spacing right)
//
(function () {
  for (var i = 0, m = AMsymbols.length; i &lt; m; i++) {
    if (AMsymbols[i].codes) {delete AMsymbols[i].codes}
    if (AMsymbols[i].func) {AMsymbols[i].tag = "mi"}
  }
})();

//
//  Access to AsciiMath functions and values
//
ASCIIMATH.Augment({
  AM: {
    Init: function () {
      displaystyle = ASCIIMATH.config.displaystyle;
      // Old versions use the "decimal" option, so take it into account if it
      // is defined by the user. See issue 384.
      decimalsign  = (ASCIIMATH.config.decimal || ASCIIMATH.config.decimalsign);
      // unfix phi and varphi, if requested
      if (!ASCIIMATH.config.fixphi) {
        for (var i = 0, m = AMsymbols.length; i &lt; m; i++) {
          if (AMsymbols[i].input === "phi")    {AMsymbols[i].output = "\u03C6"}
          if (AMsymbols[i].input === "varphi") {AMsymbols[i].output = "\u03D5"; i = m}
        }
      }

      INITASCIIMATH();
      initSymbols();
    },
    Augment: function (def) {
      for (var id in def) {if (def.hasOwnProperty(id)) {
    switch (id) {
     case "displaystyle": displaystyle = def[id]; break;
     case "decimal": decimal = def[id]; break;
     case "parseMath": parseMath = def[id]; break;
     case "parseExpr": AMparseExpr = def[id]; break;
     case "parseIexpr": AMparseIexpr = def[id]; break;
     case "parseSexpr": AMparseSexpr = def[id]; break;
     case "removeBrackets": AMremoveBrackets = def[id]; break;
     case "getSymbol": AMgetSymbol = def[id]; break;
     case "position": position = def[id]; break;
     case "removeCharsAndBlanks": AMremoveCharsAndBlanks = def[id]; break;
     case "createMmlNode": createMmlNode = def[id]; break;
     case "createElementMathML": AMcreateElementMathML = def[id]; break;
     case "createElementXHTML": createElementXHTML = def[id]; break;
     case "initSymbols": initSymbols = def[id]; break;
     case "refreshSymbols": refreshSymbols = def[id]; break;
     case "compareNames": compareNames = def[id]; break;
    };
        this[id] = def[id];
      }};
    },
    parseMath:  parseMath,
    parseExpr:  AMparseExpr,
    parseIexpr: AMparseIexpr,
    parseSexr:  AMparseSexpr,
    removeBrackets: AMremoveBrackets,
    getSymbol:  AMgetSymbol,
    position:   position,
    removeCharsAndBlanks: AMremoveCharsAndBlanks,
    createMmlNode: createMmlNode,
    createElementMathML: AMcreateElementMathML,
    createElementXHTML:  createElementXHTML,
    initSymbols: initSymbols,
    refreshSymbols: refreshSymbols,
    compareNames: compareNames,

    createDocumentFragment: DOCFRAG,
    document: document,

    define: define,
    newcommand: newcommand,
    newsymbol: newsymbol,
    symbols: AMsymbols,
    names: AMnames,

    TOKEN: {
      CONST:CONST, UNARY:UNARY, BINARY:BINARY, INFIX:INFIX,
      LEFTBRACKET:LEFTBRACKET, RIGHTBRACKET:RIGHTBRACKET, SPACE:SPACE,
      UNDEROVER:UNDEROVER, DEFINITION:DEFINITION, LEFTRIGHT:LEFTRIGHT, TEXT:TEXT,
      UNARYUNDEROVER:UNARYUNDEROVER
    }
  }
});

//
//  Make minimizer think these have been used
//
var junk = [window, navigator]; junk = null;

</t>
<t tx="ekr.20211016054411.1104">/************************************************************************/

(function (ASCIIMATH) {
  var MML;

  ASCIIMATH.Augment({
    sourceMenuTitle: /*_(MathMenu)*/ ["AsciiMathInput","AsciiMath Input"],
    annotationEncoding: "text/x-asciimath",

    prefilterHooks:    MathJax.Callback.Hooks(true),   // hooks to run before processing AsciiMath
    postfilterHooks:   MathJax.Callback.Hooks(true),   // hooks to run after processing AsciiMath

    Translate: function (script) {
      var mml, math = MathJax.HTML.getScript(script);
      var data = {math:math, script:script};
      var callback = this.prefilterHooks.Execute(data); if (callback) return callback;
      math = data.math;
      try {
        mml = this.AM.parseMath(math);
      } catch(err) {
        if (!err.asciimathError) {throw err}
        mml = this.formatError(err,math);
      }
      data.math = MML(mml); this.postfilterHooks.Execute(data);
      return this.postfilterHooks.Execute(data) || data.math;
    },
    formatError: function (err,math,script) {
      var message = err.message.replace(/\n.*/,"");
      MathJax.Hub.signal.Post(["AsciiMath Jax - parse error",message,math,script]);
      return MML.Error(message);
    },
    Error: function (message) {
      throw MathJax.Hub.Insert(Error(message),{asciimathError: true});
    },
    //
    //  Initialize the MML variable and AsciiMath itself
    //
    Startup: function () {
      MML = MathJax.ElementJax.mml;
      this.AM.Init();
    }
  });

  ASCIIMATH.loadComplete("jax.js");

})(MathJax.InputJax.AsciiMath);



</t>
<t tx="ekr.20211016054411.1105"></t>
<t tx="ekr.20211016054411.1106">


/**
 * @fileoverview  Implements the MathML version of the FindMath object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AbstractFindMath} from '../../core/FindMath.js';
import {DOMAdaptor} from '../../core/DOMAdaptor.js';
import {OptionList} from '../../util/Options.js';
import {ProtoItem} from '../../core/MathItem.js';

/**
 * The MathML namespace
 */
const NAMESPACE = 'http://www.w3.org/1998/Math/MathML';


/*****************************************************************/
/**
 *  Implements the FindMathML object (extends AbstractFindMath)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1107">export class FindMathML&lt;N, T, D&gt; extends AbstractFindMath&lt;N, T, D&gt; {

  /**
   * @override
   */
  public static OPTIONS: OptionList = {};

  /**
   * The DOMAdaptor for the document being processed
   */
  public adaptor: DOMAdaptor&lt;N, T, D&gt;;

  /**
   * Locates math nodes, possibly with namespace prefixes.
   *  Store them in a set so that if found more than once, they will only
   *  appear in the list once.
   *
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1108">public findMath(node: N) {
  let set = new Set&lt;N&gt;();
  this.findMathNodes(node, set);
  this.findMathPrefixed(node, set);
  const html = this.adaptor.root(this.adaptor.document);
  if (this.adaptor.kind(html) === 'html' &amp;&amp;  set.size === 0) {
    this.findMathNS(node, set);
  }
  return this.processMath(set);
}

/**
 * Find plain &lt;math&gt; tags
 *
 * @param {N} node       The container to seaerch for math
 * @param {Set&lt;N&gt;} set   The set in which to store the math nodes
 */
protected findMathNodes(node: N, set: Set&lt;N&gt;) {
  for (const math of this.adaptor.tags(node, 'math')) {
    set.add(math);
  }
}

/**
 * Find &lt;m:math&gt; tags (or whatever prefixes there are)
 *
 * @param {N} node  The container to seaerch for math
 * @param {NodeSet} set   The set in which to store the math nodes
 */
protected findMathPrefixed(node: N, set: Set&lt;N&gt;) {
  let html = this.adaptor.root(this.adaptor.document);
  for (const attr of this.adaptor.allAttributes(html)) {
    if (attr.name.substr(0, 6) === 'xmlns:' &amp;&amp; attr.value === NAMESPACE) {
      let prefix = attr.name.substr(6);
      for (const math of this.adaptor.tags(node, prefix + ':math')) {
        set.add(math);
      }
    }
  }
}

/**
 * Find namespaced math in XHTML documents (is this really needed?)
 *
 * @param {N} node  The container to seaerch for math
 * @param {NodeSet} set   The set in which to store the math nodes
 */
protected findMathNS(node: N, set: Set&lt;N&gt;) {
  for (const math of this.adaptor.tags(node, 'math', NAMESPACE)) {
    set.add(math);
  }
}

/**
 *  Produce the array of proto math items from the node set
 */
protected processMath(set: Set&lt;N&gt;) {
  let math: ProtoItem&lt;N, T&gt;[] = [];
  for (const mml of Array.from(set)) {
    let display = (this.adaptor.getAttribute(mml, 'display') === 'block' ||
                   this.adaptor.getAttribute(mml, 'mode') === 'display');
    let start = {node: mml, n: 0, delim: ''};
    let end   = {node: mml, n: 0, delim: ''};
    math.push({math: this.adaptor.outerHTML(mml), start, end, display});
  }
  return math;
}

</t>
<t tx="ekr.20211016054411.1109">


/**
 * @fileoverview  Implementation of the Compile function for the MathML input jax
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MmlFactory} from '../../core/MmlTree/MmlFactory.js';
import {MmlNode, TextNode, XMLNode, AbstractMmlNode, AbstractMmlTokenNode, TEXCLASS}
from '../../core/MmlTree/MmlNode.js';
import {userOptions, defaultOptions, OptionList} from '../../util/Options.js';
import * as Entities from '../../util/Entities.js';
import {DOMAdaptor} from '../../core/DOMAdaptor.js';

/********************************************************************/
/**
 *  The class for performing the MathML DOM node to
 *  internal MmlNode conversion.
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.111"></t>
<t tx="ekr.20211016054411.1110">export class MathMLCompile&lt;N, T, D&gt; {

  /**
   *  The default options for this object
   */
  public static OPTIONS: OptionList = {
    MmlFactory: null,                   // The MmlFactory to use (defaults to a new MmlFactory)
    fixMisplacedChildren: true,         // True if we want to use heuristics to try to fix
                                        //   problems with the tree based on HTML not handling
                                        //   self-closing tags properly
    verify: {                           // Options to pass to verifyTree() controlling MathML verification
      ...AbstractMmlNode.verifyDefaults
    },
    translateEntities: true             // True means translate entities in text nodes
  };

  /**
   * The DOMAdaptor for the document being processed
   */
  public adaptor: DOMAdaptor&lt;N, T, D&gt;;

  /**
   *  The instance of the MmlFactory object and
   */
  protected factory: MmlFactory;
  /**
   *  The options (the defaults with the user options merged in)
   */
  protected options: OptionList;

  /**
   *  Merge the user options into the defaults, and save them
   *  Create the MmlFactory object
   *
   * @param {OptionList} options  The options controlling the conversion
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1111">constructor(options: OptionList = {}) {
  const Class = this.constructor as typeof MathMLCompile;
  this.options = userOptions(defaultOptions({}, Class.OPTIONS), options);
}

</t>
<t tx="ekr.20211016054411.1112">/**
 * @param{MmlFactory} mmlFactory   The MathML factory to use for new nodes
 */
public setMmlFactory(mmlFactory: MmlFactory) {
  this.factory = mmlFactory;
}

</t>
<t tx="ekr.20211016054411.1113">/**
 * Convert a MathML DOM tree to internal MmlNodes
 *
 * @param {N} node     The &lt;math&gt; node to convert to MmlNodes
 * @return {MmlNode}   The MmlNode at the root of the converted tree
 */
public compile(node: N): MmlNode {
  let mml = this.makeNode(node);
  mml.verifyTree(this.options['verify']);
  mml.setInheritedAttributes({}, false, 0, false);
  mml.walkTree(this.markMrows);
  return mml;
}

</t>
<t tx="ekr.20211016054411.1114">/**
 * Recursively convert nodes and their children, taking MathJax classes
 * into account.
 *
 *  FIXME: we should use data-* attributes rather than classes for these
 *
 * @param {N} node     The node to convert to an MmlNode
 * @return {MmlNode}   The converted MmlNode
 */
public makeNode(node: N): MmlNode {
  const adaptor = this.adaptor;
  let limits = false;
  let kind = adaptor.kind(node).replace(/^.*:/, '');
  let texClass = adaptor.getAttribute(node, 'data-mjx-texclass') || '';
  if (texClass) {
    texClass = this.filterAttribute('data-mjx-texclass', texClass) || '';
  }
  let type = texClass &amp;&amp; kind === 'mrow' ? 'TeXAtom' : kind;
  for (const name of this.filterClassList(adaptor.allClasses(node))) {
    if (name.match(/^MJX-TeXAtom-/)) {
      texClass = name.substr(12);
      type = 'TeXAtom';
    } else if (name === 'MJX-fixedlimits') {
      limits = true;
    }
  }
  this.factory.getNodeClass(type) || this.error('Unknown node type "' + type + '"');
  let mml = this.factory.create(type);
  if (type === 'TeXAtom' &amp;&amp; texClass === 'OP' &amp;&amp; !limits) {
    mml.setProperty('movesupsub', true);
    mml.attributes.setInherited('movablelimits', true);
  }
  if (texClass) {
    mml.texClass = (TEXCLASS as {[name: string]: number})[texClass];
    mml.setProperty('texClass', mml.texClass);
  }
  this.addAttributes(mml, node);
  this.checkClass(mml, node);
  this.addChildren(mml, node);
  return mml;
}

/**
 * Copy the attributes from a MathML node to an MmlNode.
 *
 * @param {MmlNode} mml       The MmlNode to which attributes will be added
 * @param {N} node  The MathML node whose attributes to copy
 */
protected addAttributes(mml: MmlNode, node: N) {
  let ignoreVariant = false;
  for (const attr of this.adaptor.allAttributes(node)) {
    let name = attr.name;
    let value = this.filterAttribute(name, attr.value);
    if (value === null || name === 'xmlns') {
      continue;
    }
    if (name.substr(0, 9) === 'data-mjx-') {
      if (name === 'data-mjx-alternate') {
        mml.setProperty('variantForm', true);
      } else if (name === 'data-mjx-variant') {
        mml.attributes.set('mathvariant', value);
        ignoreVariant = true;
      } else if (name === 'data-mjx-smallmatrix') {
        mml.setProperty('scriptlevel', 1);
        mml.setProperty('useHeight', false);
      } else if (name === 'data-mjx-accent') {
        mml.setProperty('mathaccent', value === 'true');
      } else if (name === 'data-mjx-auto-op') {
        mml.setProperty('autoOP', value === 'true');
      }
    } else if (name !== 'class') {
      let val = value.toLowerCase();
      if (val === 'true' || val === 'false') {
        mml.attributes.set(name, val === 'true');
      } else if (!ignoreVariant || name !== 'mathvariant') {
        mml.attributes.set(name, value);
      }
    }
  }
}

/**
 * Provide a hook for the Safe extension to filter attribute values.
 *
 * @param {string} name   The name of an attribute to filter
 * @param {string} value  The value to filter
 */
protected filterAttribute(_name: string, value: string) {
  return value;
}

/**
 * Provide a hook for the Safe extension to filter class names.
 *
 * @param {string[]} list   The list of class names to filter
 */
protected filterClassList(list: string[]) {
  return list;
}

/**
 * Convert the children of the MathML node and add them to the MmlNode
 *
 * @param {MmlNode} mml  The MmlNode to which children will be added
 * @param {N} node       The MathML node whose children are to be copied
 */
protected addChildren(mml: MmlNode, node: N) {
  if (mml.arity === 0) {
    return;
  }
  const adaptor = this.adaptor;
  for (const child of adaptor.childNodes(node) as N[]) {
    const name = adaptor.kind(child);
    if (name === '#comment') {
      continue;
    }
    if (name === '#text') {
      this.addText(mml, child);
    } else if (mml.isKind('annotation-xml')) {
      mml.appendChild((this.factory.create('XML') as XMLNode).setXML(child, adaptor));
    } else {
      let childMml = mml.appendChild(this.makeNode(child)) as MmlNode;
      if (childMml.arity === 0 &amp;&amp; adaptor.childNodes(child).length) {
        if (this.options['fixMisplacedChildren']) {
          this.addChildren(mml, child);
        } else {
          childMml.mError('There should not be children for ' + childMml.kind + ' nodes',
                          this.options['verify'], true);
        }
      }
    }
  }
}

/**
 * Add text to a token node
 *
 * @param {MmlNode} mml  The MmlNode to which text will be added
 * @param {N} child      The text node whose contents is to be copied
 */
protected addText(mml: MmlNode, child: N) {
  let text = this.adaptor.value(child);
  if ((mml.isToken || mml.getProperty('isChars')) &amp;&amp; mml.arity) {
    if (mml.isToken) {
      text = Entities.translate(text);
      text = this.trimSpace(text);
    }
    mml.appendChild((this.factory.create('text') as TextNode).setText(text));
  } else if (text.match(/\S/)) {
    this.error('Unexpected text node "' + text + '"');
  }
}

/**
 * Check for special MJX values in the class and process them
 *
 * @param {MmlNode} mml       The MmlNode to be modified according to the class markers
 * @param {N} node  The MathML node whose class is to be processed
 */
protected checkClass(mml: MmlNode, node: N) {
  let classList = [];
  for (const name of this.filterClassList(this.adaptor.allClasses(node))) {
    if (name.substr(0, 4) === 'MJX-') {
      if (name === 'MJX-variant') {
        mml.setProperty('variantForm', true);
      } else if (name.substr(0, 11) !== 'MJX-TeXAtom') {
        mml.attributes.set('mathvariant', this.fixCalligraphic(name.substr(3)));
      }
    } else {
      classList.push(name);
    }
  }
  if (classList.length) {
    mml.attributes.set('class', classList.join(' '));
  }
}

/**
 * Fix the old incorrect spelling of calligraphic.
 *
 * @param {string} variant  The mathvariant name
 * @return {string}         The corrected variant
 */
protected fixCalligraphic(variant: string): string {
  return variant.replace(/caligraphic/, 'calligraphic');
}

/**
 * Check to see if an mrow has delimiters at both ends (so looks like an mfenced structure).
 *
 * @param {MmlNode} mml  The node to check for mfenced structure
 */
protected markMrows(mml: MmlNode) {
  if (mml.isKind('mrow') &amp;&amp; !mml.isInferred &amp;&amp; mml.childNodes.length &gt;= 2) {
    let first = mml.childNodes[0] as MmlNode;
    let last = mml.childNodes[mml.childNodes.length - 1] as MmlNode;
    if (first.isKind('mo') &amp;&amp; first.attributes.get('fence') &amp;&amp; first.attributes.get('stretchy') &amp;&amp;
        last.isKind('mo') &amp;&amp; last.attributes.get('fence') &amp;&amp; last.attributes.get('stretchy')) {
      if (first.childNodes.length) {
        mml.setProperty('open', (first as AbstractMmlTokenNode).getText());
      }
      if (last.childNodes.length) {
        mml.setProperty('close', (last as AbstractMmlTokenNode).getText());
      }
    }
  }
}

/**
 * @param {string} text  The text to have leading/trailing spaced removed
 * @return {string}      The trimmed text
 */
protected trimSpace(text: string): string {
  return text.replace(/[\t\n\r]/g, ' ')    // whitespace to spaces
             .replace(/^ +/, '')           // initial whitespace
             .replace(/ +$/, '')           // trailing whitespace
             .replace(/  +/g, ' ');        // internal multiple whitespace
}

/**
 * @param {string} message  The error message to produce
 */
protected error(message: string) {
  throw new Error(message);
}
</t>
<t tx="ekr.20211016054411.1115"></t>
<t tx="ekr.20211016054411.1116">/**
 * @fileoverview  Auxiliary function for elementary MathML3 support (experimental)
 *                using David Carlisle's XLST transform.
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

/**
 * Create the transform function that uses Saxon-js to perform the
 *   xslt transformation.
 *
 * @return {(mml: string) =&gt; string)}   The transformation function
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1117">export function createTransform(): (mml: string) =&gt; string {
  /* tslint:disable-next-line:no-eval */
  const nodeRequire = eval('require');   // get the actual require from node.
  /* tslint:disable-next-line:no-eval */
  const dirname = eval('__dirname');     // get the actual __dirname
  try {
    nodeRequire.resolve('saxon-js');     // check if saxon-js is installed.
  } catch (err) {
    throw Error('Saxon-js not found.  Run the command:\n    npm install saxon-js\nand try again.');
  }
  const Saxon = nodeRequire('saxon-js'); // dynamically load Saxon-JS.
  const path = nodeRequire('path');      // use the real version from node.
  const fs = nodeRequire('fs');          // use the real version from node.
  const xsltFile = path.resolve(dirname, 'mml3.sef.json');  // load the preprocessed stylesheet.
  const xslt = JSON.parse(fs.readFileSync(xsltFile));       // and parse it.
  return (mml: string) =&gt; {
    //
    //  Make sure the namespace is present
    //
    if (!mml.match(/ xmlns[=:]/)) {
        mml = mml.replace(/&lt;(?:(\w+)(:))?math/, '&lt;$1$2math xmlns$2$1="http://www.w3.org/1998/Math/MathML"');
    }
    let result;
    //
    //  Try to run the transform, and if it fails, return the original MathML
    try {
      result = Saxon.transform({
        stylesheetInternal: xslt,
        sourceText: mml,
        destination: 'serialized'
      }).principalResult;
    } catch (err) {
      result = mml;
    }
    return result;
  };
}
</t>
<t tx="ekr.20211016054411.1118">/**
 * @fileoverview  Implements the elementary MathML3 support (experimental)
 *                using David Carlisle's XLST transform.
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MathItem} from '../../../core/MathItem.js';
import {MathDocument} from '../../../core/MathDocument.js';
import {Handler} from '../../../core/Handler.js';
import {OptionList} from '../../../util/Options.js';
import {createTransform} from './mml3-node.js';


/**
 * The data for a MathML prefilter.
 */
export type FILTERDATA&lt;N, T, D&gt; = {math: MathItem&lt;N, T, D&gt;, document: MathDocument&lt;N, T, D&gt;, data: string};

/**
 * Class that handles XSLT transform for MathML3 elementary math tags.
 */
@others
 &lt;xsl:attribute name="close"&gt;}&lt;/xsl:attribute&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="@open[.='}']" mode="rtl"&gt;
 &lt;xsl:attribute name="close"&gt;{&lt;/xsl:attribute&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="@close" mode="rtl"&gt;
 &lt;xsl:attribute name="open"&gt;&lt;xsl:value-of select="."/&gt;&lt;/xsl:attribute&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="@close[.='(']" mode="rtl"&gt;
 &lt;xsl:attribute name="open"&gt;)&lt;/xsl:attribute&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="@close[.=')']" mode="rtl"&gt;
 &lt;xsl:attribute name="open"&gt;(&lt;/xsl:attribute&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="@close[.='[']" mode="rtl"&gt;
 &lt;xsl:attribute name="open"&gt;]&lt;/xsl:attribute&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="@close[.=']']" mode="rtl"&gt;
 &lt;xsl:attribute name="open"&gt;[&lt;/xsl:attribute&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="@close[.='{']" mode="rtl"&gt;
 &lt;xsl:attribute name="open"&gt;}&lt;/xsl:attribute&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="@close[.='}']" mode="rtl"&gt;
 &lt;xsl:attribute name="open"&gt;{&lt;/xsl:attribute&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:mfrac[@bevelled='true']" mode="rtl"&gt;
 &lt;m:mrow&gt;
  &lt;m:msub&gt;&lt;m:mi&gt;&lt;/m:mi&gt;&lt;xsl:apply-templates select="*[2]" mode="rtl"/&gt;&lt;/m:msub&gt;
  &lt;m:mo&gt;&amp;#x5c;&lt;/m:mo&gt;
  &lt;m:msup&gt;&lt;m:mi&gt;&lt;/m:mi&gt;&lt;xsl:apply-templates select="*[1]" mode="rtl"/&gt;&lt;/m:msup&gt;
 &lt;/m:mrow&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:mfrac" mode="rtl"&gt;
 &lt;xsl:copy&gt;
  &lt;xsl:apply-templates mode="rtl" select="@*|*"/&gt;
 &lt;/xsl:copy&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:mroot" mode="rtl"&gt;
 &lt;m:msup&gt;
  &lt;m:menclose notation="top right"&gt;
   &lt;xsl:apply-templates mode="rtl" select="@*|*[1]"/&gt;
  &lt;/m:menclose&gt;
  &lt;xsl:apply-templates mode="rtl" select="*[2]"/&gt;
 &lt;/m:msup&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:msqrt" mode="rtl"&gt;
 &lt;m:menclose notation="top right"&gt;
  &lt;xsl:apply-templates mode="rtl" select="@*|*[1]"/&gt;
 &lt;/m:menclose&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:mtable|m:munder|m:mover|m:munderover" mode="rtl" priority="2"&gt;
 &lt;xsl:copy&gt;
  &lt;xsl:apply-templates select="@*" mode="rtl"/&gt;
  &lt;xsl:apply-templates mode="rtl"&gt;
  &lt;/xsl:apply-templates&gt;
 &lt;/xsl:copy&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:msup" mode="rtl" priority="2"&gt;
 &lt;m:mmultiscripts&gt;
  &lt;xsl:apply-templates select="*[1]" mode="rtl"/&gt;
  &lt;m:mprescripts/&gt;
  &lt;m:none/&gt;
  &lt;xsl:apply-templates select="*[2]" mode="rtl"/&gt;
 &lt;/m:mmultiscripts&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:msub" mode="rtl" priority="2"&gt;
 &lt;m:mmultiscripts&gt;
  &lt;xsl:apply-templates select="*[1]" mode="rtl"/&gt;
  &lt;m:mprescripts/&gt;
  &lt;xsl:apply-templates select="*[2]" mode="rtl"/&gt;
  &lt;m:none/&gt;
 &lt;/m:mmultiscripts&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:msubsup" mode="rtl" priority="2"&gt;
 &lt;m:mmultiscripts&gt;
  &lt;xsl:apply-templates select="*[1]" mode="rtl"/&gt;
  &lt;m:mprescripts/&gt;
  &lt;xsl:apply-templates select="*[2]" mode="rtl"/&gt;
  &lt;xsl:apply-templates select="*[3]" mode="rtl"/&gt;
 &lt;/m:mmultiscripts&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:mmultiscripts" mode="rtl" priority="2"&gt;
 &lt;m:mmultiscripts&gt;
  &lt;xsl:apply-templates select="*[1]" mode="rtl"/&gt;
  &lt;xsl:for-each  select="m:mprescripts/following-sibling::*[position() mod 2 = 1]"&gt;
   &lt;xsl:sort data-type="number" order="descending" select="position()"/&gt;
   &lt;xsl:apply-templates select="."  mode="rtl"/&gt;
   &lt;xsl:apply-templates select="following-sibling::*[1]"  mode="rtl"/&gt;
  &lt;/xsl:for-each&gt;
  &lt;m:mprescripts/&gt;
  &lt;xsl:for-each  select="m:mprescripts/preceding-sibling::*[position()!=last()][position() mod 2 = 0]"&gt;
   &lt;xsl:sort data-type="number" order="descending" select="position()"/&gt;
   &lt;xsl:apply-templates select="."  mode="rtl"/&gt;
   &lt;xsl:apply-templates select="following-sibling::*[1]"  mode="rtl"/&gt;
  &lt;/xsl:for-each&gt;
 &lt;/m:mmultiscripts&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:mmultiscripts[not(m:mprescripts)]" mode="rtl" priority="3"&gt;
 &lt;m:mmultiscripts&gt;
  &lt;xsl:apply-templates select="*[1]" mode="rtl"/&gt;
  &lt;m:mprescripts/&gt;
  &lt;xsl:for-each  select="*[position() mod 2 = 0]"&gt;
   &lt;xsl:sort data-type="number" order="descending" select="position()"/&gt;
   &lt;xsl:apply-templates select="."  mode="rtl"/&gt;
   &lt;xsl:apply-templates select="following-sibling::*[1]"  mode="rtl"/&gt;
  &lt;/xsl:for-each&gt;
 &lt;/m:mmultiscripts&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="text()[.='(']" mode="rtl"&gt;)&lt;/xsl:template&gt;
&lt;xsl:template match="text()[.=')']" mode="rtl"&gt;(&lt;/xsl:template&gt;
&lt;xsl:template match="text()[.='{']" mode="rtl"&gt;}&lt;/xsl:template&gt;
&lt;xsl:template match="text()[.='}']" mode="rtl"&gt;{&lt;/xsl:template&gt;
&lt;xsl:template match="text()[.='&amp;lt;']" mode="rtl"&gt;&amp;gt;&lt;/xsl:template&gt;
&lt;xsl:template match="text()[.='&amp;gt;']" mode="rtl"&gt;&amp;lt;&lt;/xsl:template&gt;
&lt;xsl:template match="text()[.='&amp;#x2208;']" mode="rtl"&gt;&amp;#x220b;&lt;/xsl:template&gt;
&lt;xsl:template match="text()[.='&amp;#x220b;']" mode="rtl"&gt;&amp;#x2208;&lt;/xsl:template&gt;
&lt;xsl:template match="@notation[.='radical']" mode="rtl"&gt;
 &lt;xsl:attribute name="notation"&gt;top right&lt;/xsl:attribute&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:mlongdiv|m:mstack" mode="rtl"&gt;
 &lt;m:mrow dir="ltr"&gt;
 &lt;xsl:apply-templates select="."/&gt;
 &lt;/m:mrow&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:mstack" priority="11"&gt;
 &lt;xsl:variable name="m"&gt;
  &lt;m:mtable columnspacing="0em" rowspacing="0em"&gt;
   &lt;xsl:copy-of select="@align"/&gt;
  &lt;xsl:variable name="t"&gt;
   &lt;xsl:apply-templates select="*" mode="mstack1"&gt;
    &lt;xsl:with-param name="p" select="0"/&gt;
   &lt;/xsl:apply-templates&gt;
  &lt;/xsl:variable&gt;
  &lt;xsl:variable name="maxl"&gt;
   &lt;xsl:for-each select="c:node-set($t)/*/@l"&gt;
    &lt;xsl:sort data-type="number" order="descending"/&gt;
    &lt;xsl:if test="position()=1"&gt;
     &lt;xsl:value-of select="."/&gt;
    &lt;/xsl:if&gt;
   &lt;/xsl:for-each&gt;
  &lt;/xsl:variable&gt;
  &lt;xsl:for-each select="c:node-set($t)/*[not(@class='mscarries') or following-sibling::*[1]/@class='mscarries']"&gt;
&lt;xsl:variable name="c" select="preceding-sibling::*[1][@class='mscarries']"/&gt;
   &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;
   &lt;m:mtr&gt;
    &lt;xsl:copy-of select="@class[.='msline']"/&gt;
    &lt;xsl:variable name="offset" select="$maxl - @l"/&gt;
    &lt;xsl:choose&gt;
     &lt;xsl:when test="@class='msline' and @l='*'"&gt;
      &lt;xsl:variable name="msl" select="*[1]"/&gt;
      &lt;xsl:for-each select="(//node())[position()&amp;lt;=$maxl]"&gt;
       &lt;xsl:copy-of select="$msl"/&gt;
      &lt;/xsl:for-each&gt;
     &lt;/xsl:when&gt;
     &lt;xsl:when test="$c"&gt;
      &lt;xsl:variable name="ldiff" select="$c/@l - @l"/&gt;
      &lt;xsl:variable name="loffset" select="$maxl - $c/@l"/&gt;
      &lt;xsl:for-each select="(//*)[position()&amp;lt;= $offset]"&gt;
       &lt;xsl:variable name="pn" select="position()"/&gt;
       &lt;xsl:variable name="cy" select="$c/*[position()=$pn - $loffset]"/&gt;
     &lt;m:mtd&gt;
      &lt;xsl:if test="$cy/*"&gt;
      &lt;m:mover&gt;&lt;m:mphantom&gt;&lt;m:mn&gt;0&lt;/m:mn&gt;&lt;/m:mphantom&gt;&lt;m:mpadded width="0em" lspace="-0.5width"&gt;
      &lt;xsl:copy-of select="$cy/*"/&gt;&lt;/m:mpadded&gt;&lt;/m:mover&gt;
      &lt;/xsl:if&gt;
     &lt;/m:mtd&gt;
      &lt;/xsl:for-each&gt;
      &lt;xsl:for-each select="*"&gt;
       &lt;xsl:variable name="pn" select="position()"/&gt;
       &lt;xsl:variable name="cy" select="$c/*[position()=$pn + $ldiff]"/&gt;
       &lt;xsl:copy&gt;
    &lt;xsl:copy-of select="@*"/&gt;
    &lt;xsl:variable name="b"&gt;
     &lt;xsl:choose&gt;
      &lt;xsl:when test="not(string($cy/@crossout) or $cy/@crossout='none')"&gt;&lt;xsl:copy-of select="*"/&gt;&lt;/xsl:when&gt;
      &lt;xsl:otherwise&gt;
       &lt;m:menclose notation="{$cy/@crossout}"&gt;&lt;xsl:copy-of select="*"/&gt;&lt;/m:menclose&gt;
      &lt;/xsl:otherwise&gt;
     &lt;/xsl:choose&gt;
    &lt;/xsl:variable&gt;
    &lt;xsl:choose&gt;
     &lt;xsl:when test="$cy/m:none or not($cy/*)"&gt;&lt;xsl:copy-of select="$b"/&gt;&lt;/xsl:when&gt;
     &lt;xsl:when test="not(string($cy/@location)) or $cy/@location='n'"&gt;
      &lt;m:mover&gt;
       &lt;xsl:copy-of select="$b"/&gt;&lt;m:mpadded width="0em" lspace="-0.5width"&gt;
       &lt;xsl:copy-of select="$cy/*"/&gt;
      &lt;/m:mpadded&gt;
      &lt;/m:mover&gt;
     &lt;/xsl:when&gt;
     &lt;xsl:when test="$cy/@location='nw'"&gt;
      &lt;m:mmultiscripts&gt;&lt;xsl:copy-of select="$b"/&gt;&lt;m:mprescripts/&gt;&lt;m:none/&gt;&lt;m:mpadded lspace="-1width" width="0em"&gt;&lt;xsl:copy-of select="$cy/*"/&gt;&lt;/m:mpadded&gt;&lt;/m:mmultiscripts&gt;
     &lt;/xsl:when&gt;
     &lt;xsl:when test="$cy/@location='s'"&gt;
      &lt;m:munder&gt;&lt;xsl:copy-of select="$b"/&gt;&lt;m:mpadded width="0em" lspace="-0.5width"&gt;&lt;xsl:copy-of select="$cy/*"/&gt;&lt;/m:mpadded&gt;&lt;/m:munder&gt;
     &lt;/xsl:when&gt;
     &lt;xsl:when test="$cy/@location='sw'"&gt;
      &lt;m:mmultiscripts&gt;&lt;xsl:copy-of select="$b"/&gt;&lt;m:mprescripts/&gt;&lt;m:mpadded lspace="-1width" width="0em"&gt;&lt;xsl:copy-of select="$cy/*"/&gt;&lt;/m:mpadded&gt;&lt;m:none/&gt;&lt;/m:mmultiscripts&gt;
     &lt;/xsl:when&gt;
     &lt;xsl:when test="$cy/@location='ne'"&gt;
      &lt;m:msup&gt;&lt;xsl:copy-of select="$b"/&gt;&lt;m:mpadded width="0em"&gt;&lt;xsl:copy-of select="$cy/*"/&gt;&lt;/m:mpadded&gt;&lt;/m:msup&gt;
     &lt;/xsl:when&gt;
     &lt;xsl:when test="$cy/@location='se'"&gt;
      &lt;m:msub&gt;&lt;xsl:copy-of select="$b"/&gt;&lt;m:mpadded width="0em"&gt;&lt;xsl:copy-of select="$cy/*"/&gt;&lt;/m:mpadded&gt;&lt;/m:msub&gt;
     &lt;/xsl:when&gt;
     &lt;xsl:when test="$cy/@location='w'"&gt;
      &lt;m:msup&gt;&lt;m:mrow/&gt;&lt;m:mpadded lspace="-1width" width="0em"&gt;&lt;xsl:copy-of select="$cy/*"/&gt;&lt;/m:mpadded&gt;&lt;/m:msup&gt;
      &lt;xsl:copy-of select="$b"/&gt;
     &lt;/xsl:when&gt;
     &lt;xsl:when test="$cy/@location='e'"&gt;
      &lt;xsl:copy-of select="$b"/&gt;
      &lt;m:msup&gt;&lt;m:mrow/&gt;&lt;m:mpadded width="0em"&gt;&lt;xsl:copy-of select="$cy/*"/&gt;&lt;/m:mpadded&gt;&lt;/m:msup&gt;
     &lt;/xsl:when&gt;
     &lt;xsl:otherwise&gt;
      &lt;xsl:copy-of select="$b"/&gt;
     &lt;/xsl:otherwise&gt;
    &lt;/xsl:choose&gt;
       &lt;/xsl:copy&gt;
      &lt;/xsl:for-each&gt;
     &lt;/xsl:when&gt;
     &lt;xsl:otherwise&gt;
      &lt;xsl:for-each select="(//*)[position()&amp;lt;= $offset]"&gt;&lt;m:mtd/&gt;&lt;/xsl:for-each&gt;
      &lt;xsl:copy-of select="*"/&gt;
     &lt;/xsl:otherwise&gt;
    &lt;/xsl:choose&gt;
   &lt;/m:mtr&gt;
  &lt;/xsl:for-each&gt;
 &lt;/m:mtable&gt;
&lt;/xsl:variable&gt;
&lt;xsl:apply-templates mode="ml" select="c:node-set($m)"/&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:none" mode="ml"&gt;
&lt;m:mrow/&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="*" mode="ml"&gt;
 &lt;xsl:copy&gt;
  &lt;xsl:copy-of select="@*"/&gt;
  &lt;xsl:apply-templates mode="ml"/&gt;
 &lt;/xsl:copy&gt;
&lt;/xsl:template&gt;
&lt;xsl:template mode="ml" match="m:mtr[following-sibling::*[1][@class='msline']]"&gt;
 &lt;m:mtr&gt;
  &lt;xsl:copy-of select="@*"/&gt;
  &lt;xsl:variable name="m" select="following-sibling::*[1]/m:mtd"/&gt;
  &lt;xsl:for-each select="m:mtd"&gt;
   &lt;xsl:variable name="p" select="position()"/&gt;
   &lt;m:mtd&gt;
    &lt;xsl:copy-of select="@*"/&gt;
    &lt;xsl:choose&gt;
     &lt;xsl:when test="$m[$p]/m:mpadded"&gt;
      &lt;m:menclose notation="bottom"&gt;
       &lt;m:mpadded depth=".1em" height="1em" width=".5em"&gt;
    &lt;xsl:copy-of select="*"/&gt;
       &lt;/m:mpadded&gt;
      &lt;/m:menclose&gt;
     &lt;/xsl:when&gt;
     &lt;xsl:otherwise&gt;
      &lt;xsl:copy-of select="*"/&gt;
     &lt;/xsl:otherwise&gt;
    &lt;/xsl:choose&gt;
   &lt;/m:mtd&gt;
  &lt;/xsl:for-each&gt;
 &lt;/m:mtr&gt;
&lt;/xsl:template&gt;
&lt;xsl:template mode="ml" match="m:mtr[not(preceding-sibling::*)][@class='msline']" priority="3"&gt;
 &lt;m:mtr&gt;
  &lt;xsl:copy-of select="@*"/&gt;
  &lt;xsl:for-each select="m:mtd"&gt;
   &lt;m:mtd&gt;
    &lt;xsl:copy-of select="@*"/&gt;
    &lt;xsl:if test="m:mpadded"&gt;
     &lt;m:menclose notation="bottom"&gt;
      &lt;m:mpadded depth=".1em" height="1em" width=".5em"&gt;
       &lt;m:mspace width=".2em"/&gt;
      &lt;/m:mpadded&gt;
     &lt;/m:menclose&gt;
    &lt;/xsl:if&gt;
   &lt;/m:mtd&gt;
  &lt;/xsl:for-each&gt;
 &lt;/m:mtr&gt;
&lt;/xsl:template&gt;
&lt;xsl:template mode="ml" match="m:mtr[@class='msline']" priority="2"/&gt;
&lt;xsl:template mode="mstack1" match="*"&gt;
 &lt;xsl:param name="p"/&gt;
 &lt;xsl:param name="maxl" select="0"/&gt;
 &lt;m:mtr l="{1 + $p}"&gt;
  &lt;xsl:if test="ancestor::mstack[1]/@stackalign='left'"&gt;
   &lt;xsl:attribute name="l"&gt;&lt;xsl:value-of  select="$p"/&gt;&lt;/xsl:attribute&gt;
  &lt;/xsl:if&gt;
  &lt;m:mtd&gt;&lt;xsl:apply-templates select="."/&gt;&lt;/m:mtd&gt;
 &lt;/m:mtr&gt;
&lt;/xsl:template&gt;
&lt;xsl:template mode="mstack1" match="m:msrow"&gt;
 &lt;xsl:param name="p"/&gt;
 &lt;xsl:param name="maxl" select="0"/&gt;
 &lt;xsl:variable name="align1" select="ancestor::m:mstack[1]/@stackalign"/&gt;
 &lt;xsl:variable name="align"&gt;
  &lt;xsl:choose&gt;
   &lt;xsl:when test="string($align1)=''"&gt;decimalpoint&lt;/xsl:when&gt;
   &lt;xsl:otherwise&gt;&lt;xsl:value-of select="$align1"/&gt;&lt;/xsl:otherwise&gt;
  &lt;/xsl:choose&gt;
 &lt;/xsl:variable&gt;
 &lt;xsl:variable name="row"&gt;
  &lt;xsl:apply-templates mode="mstack1" select="*"&gt;
   &lt;xsl:with-param name="p" select="0"/&gt;
  &lt;/xsl:apply-templates&gt;
 &lt;/xsl:variable&gt;
 &lt;xsl:text&gt;&amp;#10;&lt;/xsl:text&gt;
 &lt;xsl:variable name="l1"&gt;
  &lt;xsl:choose&gt;
   &lt;xsl:when test="$align='decimalpoint' and m:mn"&gt;
    &lt;xsl:for-each select="c:node-set($row)/m:mtr[m:mtd/m:mn][1]"&gt;
     &lt;xsl:value-of select="number(sum(@l))+count(preceding-sibling::*/@l)"/&gt;
    &lt;/xsl:for-each&gt;
   &lt;/xsl:when&gt;
   &lt;xsl:when test="$align='right' or $align='decimalpoint'"&gt;
    &lt;xsl:value-of select="count(c:node-set($row)/m:mtr/m:mtd)"/&gt;
   &lt;/xsl:when&gt;
   &lt;xsl:otherwise&gt;
    &lt;xsl:value-of select="0"/&gt;
   &lt;/xsl:otherwise&gt;
  &lt;/xsl:choose&gt;
 &lt;/xsl:variable&gt;
 &lt;m:mtr class="msrow" l="{number($l1) + number(sum(@position)) +$p}"&gt;
  &lt;xsl:copy-of select="c:node-set($row)/m:mtr/*"/&gt;
 &lt;/m:mtr&gt;
&lt;/xsl:template&gt;
&lt;xsl:template mode="mstack1" match="m:mn"&gt;
 &lt;xsl:param name="p"/&gt;
 &lt;xsl:variable name="align1" select="ancestor::m:mstack[1]/@stackalign"/&gt;
 &lt;xsl:variable name="dp1" select="ancestor::*[@decimalpoint][1]/@decimalpoint"/&gt;
 &lt;xsl:variable name="align"&gt;
  &lt;xsl:choose&gt;
   &lt;xsl:when test="string($align1)=''"&gt;decimalpoint&lt;/xsl:when&gt;
   &lt;xsl:otherwise&gt;&lt;xsl:value-of select="$align1"/&gt;&lt;/xsl:otherwise&gt;
  &lt;/xsl:choose&gt;
 &lt;/xsl:variable&gt;
 &lt;xsl:variable name="dp"&gt;
  &lt;xsl:choose&gt;
   &lt;xsl:when test="string($dp1)=''"&gt;.&lt;/xsl:when&gt;
   &lt;xsl:otherwise&gt;&lt;xsl:value-of select="$dp1"/&gt;&lt;/xsl:otherwise&gt;
  &lt;/xsl:choose&gt;
 &lt;/xsl:variable&gt;
 &lt;m:mtr l="$p"&gt;
  &lt;xsl:variable name="mn" select="normalize-space(.)"/&gt;
  &lt;xsl:variable name="len" select="string-length($mn)"/&gt;
  &lt;xsl:choose&gt;
   &lt;xsl:when test="$align='right' or ($align='decimalpoint' and not(contains($mn,$dp)))"&gt;
    &lt;xsl:attribute name="l"&gt;&lt;xsl:value-of select="$p + $len"/&gt;&lt;/xsl:attribute&gt;
   &lt;/xsl:when&gt;
   &lt;xsl:when test="$align='center'"&gt;
    &lt;xsl:attribute name="l"&gt;&lt;xsl:value-of select="round(($p + $len) div 2)"/&gt;&lt;/xsl:attribute&gt;
   &lt;/xsl:when&gt;
   &lt;xsl:when test="$align='decimalpoint'"&gt;
    &lt;xsl:attribute name="l"&gt;&lt;xsl:value-of select="$p + string-length(substring-before($mn,$dp))"/&gt;&lt;/xsl:attribute&gt;
   &lt;/xsl:when&gt;
  &lt;/xsl:choose&gt;  &lt;xsl:for-each select="(//node())[position() &amp;lt;=$len]"&gt;
   &lt;xsl:variable name="pos" select="position()"/&gt;
   &lt;m:mtd&gt;&lt;m:mn&gt;&lt;xsl:value-of select="substring($mn,$pos,1)"/&gt;&lt;/m:mn&gt;&lt;/m:mtd&gt;
  &lt;/xsl:for-each&gt;
 &lt;/m:mtr&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:msgroup" mode="mstack1"&gt;
 &lt;xsl:param name="p"/&gt;
 &lt;xsl:variable name="s" select="number(sum(@shift))"/&gt;
 &lt;xsl:variable name="thisp" select="number(sum(@position))"/&gt;
 &lt;xsl:for-each select="*"&gt;
  &lt;xsl:apply-templates mode="mstack1" select="."&gt;
   &lt;xsl:with-param name="p" select="number($p)+$thisp+(position()-1)*$s"/&gt;
  &lt;/xsl:apply-templates&gt;
 &lt;/xsl:for-each&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:msline" mode="mstack1"&gt;
 &lt;xsl:param name="p"/&gt;
 &lt;xsl:variable  name="align1" select="ancestor::m:mstack[1]/@stackalign"/&gt;
 &lt;xsl:variable name="align"&gt;
  &lt;xsl:choose&gt;
   &lt;xsl:when test="string($align1)=''"&gt;decimalpoint&lt;/xsl:when&gt;
   &lt;xsl:otherwise&gt;&lt;xsl:value-of select="$align1"/&gt;&lt;/xsl:otherwise&gt;
  &lt;/xsl:choose&gt;
 &lt;/xsl:variable&gt;
 &lt;m:mtr class="msline"&gt;
  &lt;xsl:attribute name="l"&gt;
   &lt;xsl:choose&gt;
    &lt;xsl:when test="not(string(@length)) or @length=0"&gt;*&lt;/xsl:when&gt;
    &lt;xsl:when test="string($align)='right' or string($align)='decimalpoint' "&gt;&lt;xsl:value-of select="$p+ @length"/&gt;&lt;/xsl:when&gt;
    &lt;xsl:otherwise&gt;&lt;xsl:value-of select="$p"/&gt;&lt;/xsl:otherwise&gt;
   &lt;/xsl:choose&gt;
  &lt;/xsl:attribute&gt;
  &lt;xsl:variable name="w"&gt;
   &lt;xsl:choose&gt;
    &lt;xsl:when test="@mslinethickness='thin'"&gt;0.1em&lt;/xsl:when&gt;
    &lt;xsl:when test="@mslinethickness='medium'"&gt;0.15em&lt;/xsl:when&gt;
    &lt;xsl:when test="@mslinethickness='thick'"&gt;0.2em&lt;/xsl:when&gt;
    &lt;xsl:when test="@mslinethickness"&gt;&lt;xsl:value-of select="@mslinethickness"/&gt;&lt;/xsl:when&gt;
    &lt;xsl:otherwise&gt;0.15em&lt;/xsl:otherwise&gt;
   &lt;/xsl:choose&gt;
  &lt;/xsl:variable&gt;
  &lt;xsl:choose&gt;
   &lt;xsl:when test="not(string(@length)) or @length=0"&gt;
    &lt;m:mtd class="mslinemax"&gt;
     &lt;m:mpadded lspace="-0.2em" width="0em" height="0em"&gt;
      &lt;m:mfrac linethickness="{$w}"&gt;
       &lt;m:mspace width=".5em"/&gt;
       &lt;m:mrow/&gt;
      &lt;/m:mfrac&gt;
     &lt;/m:mpadded&gt;
    &lt;/m:mtd&gt;
   &lt;/xsl:when&gt;
   &lt;xsl:otherwise&gt;
    &lt;xsl:variable name="l" select="@length"/&gt;
    &lt;xsl:for-each select="(//node())[position()&amp;lt;=$l]"&gt;
     &lt;m:mtd class="msline"&gt;
      &lt;m:mpadded lspace="-0.2em" width="0em" height="0em"&gt;
       &lt;m:mfrac linethickness="{$w}"&gt;
    &lt;m:mspace width=".5em"/&gt;
    &lt;m:mrow/&gt;
       &lt;/m:mfrac&gt;
      &lt;/m:mpadded&gt;
     &lt;/m:mtd&gt;
    &lt;/xsl:for-each&gt;
   &lt;/xsl:otherwise&gt;
  &lt;/xsl:choose&gt;
 &lt;/m:mtr&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:mscarries" mode="mstack1"&gt;
 &lt;xsl:param name="p"/&gt;
 &lt;xsl:variable  name="align1" select="ancestor::m:mstack[1]/@stackalign"/&gt;
 &lt;xsl:variable name="l1"&gt;
  &lt;xsl:choose&gt;
   &lt;xsl:when test="string($align1)='left'"&gt;0&lt;/xsl:when&gt;
   &lt;xsl:otherwise&gt;&lt;xsl:value-of select="count(*)"/&gt;&lt;/xsl:otherwise&gt;
  &lt;/xsl:choose&gt;
 &lt;/xsl:variable&gt;
 &lt;m:mtr class="mscarries" l="{$p + $l1 + sum(@position)}"&gt;
  &lt;xsl:apply-templates select="*" mode="msc"/&gt;
 &lt;/m:mtr&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="*" mode="msc"&gt;
 &lt;m:mtd&gt;
  &lt;xsl:copy-of select="../@location|../@crossout"/&gt;
  &lt;xsl:choose&gt;
   &lt;xsl:when test="../@scriptsizemultiplier"&gt;
    &lt;m:mstyle mathsize="{round(../@scriptsizemultiplier div .007)}%"&gt;
     &lt;xsl:apply-templates select="."/&gt;
    &lt;/m:mstyle&gt;
   &lt;/xsl:when&gt;
   &lt;xsl:otherwise&gt;
    &lt;xsl:apply-templates select="."/&gt;
   &lt;/xsl:otherwise&gt;
  &lt;/xsl:choose&gt;
 &lt;/m:mtd&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:mscarry" mode="msc"&gt;
 &lt;m:mtd&gt;
 &lt;xsl:copy-of select="@location|@crossout"/&gt;
  &lt;xsl:choose&gt;
   &lt;xsl:when test="../@scriptsizemultiplier"&gt;
    &lt;m:mstyle mathsize="{round(../@scriptsizemultiplier div .007)}%"&gt;
     &lt;xsl:apply-templates/&gt;
    &lt;/m:mstyle&gt;
   &lt;/xsl:when&gt;
   &lt;xsl:otherwise&gt;
    &lt;xsl:apply-templates/&gt;
   &lt;/xsl:otherwise&gt;
  &lt;/xsl:choose&gt;
 &lt;/m:mtd&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:mlongdiv" priority="11"&gt;
 &lt;xsl:variable name="ms"&gt;
  &lt;m:mstack&gt;
   &lt;xsl:copy-of select="(ancestor-or-self::*/@decimalpoint)[last()]"/&gt;
   &lt;xsl:choose&gt;
    &lt;xsl:when test="@longdivstyle='left)(right'"&gt;
     &lt;m:msrow&gt;
      &lt;m:mrow&gt;&lt;xsl:copy-of select="*[1]"/&gt;&lt;/m:mrow&gt;
      &lt;m:mo&gt;)&lt;/m:mo&gt;
      &lt;xsl:copy-of select="*[3]"/&gt;
      &lt;m:mo&gt;(&lt;/m:mo&gt;
      &lt;xsl:copy-of select="*[2]"/&gt;
     &lt;/m:msrow&gt;
    &lt;/xsl:when&gt;
    &lt;xsl:when test="@longdivstyle='left/\right'"&gt;
     &lt;m:msrow&gt;
      &lt;m:mrow&gt;&lt;xsl:copy-of select="*[1]"/&gt;&lt;/m:mrow&gt;
      &lt;m:mo&gt;/&lt;/m:mo&gt;
      &lt;xsl:copy-of select="*[3]"/&gt;
      &lt;m:mo&gt;\&lt;/m:mo&gt;
      &lt;xsl:copy-of select="*[2]"/&gt;
     &lt;/m:msrow&gt;
    &lt;/xsl:when&gt;
    &lt;xsl:when test="@longdivstyle=':right=right'"&gt;
     &lt;m:msrow&gt;
      &lt;xsl:copy-of select="*[3]"/&gt;
      &lt;m:mo&gt;:&lt;/m:mo&gt;
      &lt;xsl:copy-of select="*[1]"/&gt;
      &lt;m:mo&gt;=&lt;/m:mo&gt;
      &lt;xsl:copy-of select="*[2]"/&gt;
     &lt;/m:msrow&gt;
    &lt;/xsl:when&gt;
    &lt;xsl:when test="@longdivstyle='stackedrightright'
            or @longdivstyle='mediumstackedrightright'
            or @longdivstyle='shortstackedrightright'
            or @longdivstyle='stackedleftleft'
            "&gt;
     &lt;xsl:attribute name="align"&gt;top&lt;/xsl:attribute&gt;
     &lt;xsl:copy-of select="*[3]"/&gt;
    &lt;/xsl:when&gt;
    &lt;xsl:when test="@longdivstyle='stackedleftlinetop'"&gt;
     &lt;xsl:copy-of select="*[2]"/&gt;
     &lt;m:msline length="{string-length(*[3])-1}"/&gt;
     &lt;m:msrow&gt;
      &lt;m:mrow&gt;
     &lt;m:menclose notation="bottom right"&gt;
      &lt;xsl:copy-of select="*[1]"/&gt;
     &lt;/m:menclose&gt;
      &lt;/m:mrow&gt;
      &lt;xsl:copy-of select="*[3]"/&gt;
     &lt;/m:msrow&gt;
    &lt;/xsl:when&gt;
    &lt;xsl:when test="@longdivstyle='righttop'"&gt;
     &lt;xsl:copy-of select="*[2]"/&gt;
     &lt;m:msline length="{string-length(*[3])}"/&gt;
     &lt;m:msrow&gt;
      &lt;xsl:copy-of select="*[3]"/&gt;
      &lt;m:menclose notation="top left bottom"&gt;
       &lt;xsl:copy-of select="*[1]"/&gt;&lt;/m:menclose&gt;
     &lt;/m:msrow&gt;
    &lt;/xsl:when&gt;
    &lt;xsl:otherwise&gt;
     &lt;xsl:copy-of select="*[2]"/&gt;
     &lt;m:msline length="{string-length(*[3])}"/&gt;
     &lt;m:msrow&gt;
      &lt;m:mrow&gt;&lt;xsl:copy-of select="*[1]"/&gt;&lt;/m:mrow&gt;
      &lt;m:mo&gt;)&lt;/m:mo&gt;
      &lt;xsl:copy-of select="*[3]"/&gt;
     &lt;/m:msrow&gt;
    &lt;/xsl:otherwise&gt;
   &lt;/xsl:choose&gt;
   &lt;xsl:copy-of select="*[position()&amp;gt;3]"/&gt;
  &lt;/m:mstack&gt;
 &lt;/xsl:variable&gt;
 &lt;xsl:choose&gt;
  &lt;xsl:when test="@longdivstyle='stackedrightright'"&gt;
   &lt;m:menclose notation="right"&gt;
    &lt;xsl:apply-templates select="c:node-set($ms)"/&gt;
   &lt;/m:menclose&gt;
   &lt;m:mtable align="top"&gt;
    &lt;m:mtr&gt;
     &lt;m:menclose notation="bottom"&gt;
      &lt;xsl:copy-of select="*[1]"/&gt;
     &lt;/m:menclose&gt;
    &lt;/m:mtr&gt;
    &lt;m:mtr&gt;
     &lt;mtd&gt;&lt;xsl:copy-of select="*[2]"/&gt;&lt;/mtd&gt;
    &lt;/m:mtr&gt;
   &lt;/m:mtable&gt;
  &lt;/xsl:when&gt;
    &lt;xsl:when test="@longdivstyle='mediumstackedrightright'"&gt;
    &lt;xsl:apply-templates select="c:node-set($ms)"/&gt;
   &lt;m:menclose notation="left"&gt;
   &lt;m:mtable align="top"&gt;
    &lt;m:mtr&gt;
     &lt;m:menclose notation="bottom"&gt;
      &lt;xsl:copy-of select="*[1]"/&gt;
     &lt;/m:menclose&gt;
    &lt;/m:mtr&gt;
    &lt;m:mtr&gt;
     &lt;mtd&gt;&lt;xsl:copy-of select="*[2]"/&gt;&lt;/mtd&gt;
    &lt;/m:mtr&gt;
   &lt;/m:mtable&gt;
   &lt;/m:menclose&gt;
  &lt;/xsl:when&gt;
  &lt;xsl:when test="@longdivstyle='shortstackedrightright'"&gt;
    &lt;xsl:apply-templates select="c:node-set($ms)"/&gt;
   &lt;m:mtable align="top"&gt;
    &lt;m:mtr&gt;
     &lt;m:menclose notation="left bottom"&gt;
      &lt;xsl:copy-of select="*[1]"/&gt;
     &lt;/m:menclose&gt;
    &lt;/m:mtr&gt;
    &lt;m:mtr&gt;
     &lt;mtd&gt;&lt;xsl:copy-of select="*[2]"/&gt;&lt;/mtd&gt;
    &lt;/m:mtr&gt;
   &lt;/m:mtable&gt;
  &lt;/xsl:when&gt;
  &lt;xsl:when test="@longdivstyle='stackedleftleft'"&gt;
   &lt;m:mtable align="top"&gt;
    &lt;m:mtr&gt;
     &lt;m:menclose notation="bottom"&gt;
      &lt;xsl:copy-of select="*[1]"/&gt;
     &lt;/m:menclose&gt;
    &lt;/m:mtr&gt;
    &lt;m:mtr&gt;
     &lt;mtd&gt;&lt;xsl:copy-of select="*[2]"/&gt;&lt;/mtd&gt;
    &lt;/m:mtr&gt;
   &lt;/m:mtable&gt;
   &lt;m:menclose notation="left"&gt;
    &lt;xsl:apply-templates select="c:node-set($ms)"/&gt;
   &lt;/m:menclose&gt;
  &lt;/xsl:when&gt;
  &lt;xsl:otherwise&gt;
   &lt;xsl:apply-templates select="c:node-set($ms)"/&gt;
  &lt;/xsl:otherwise&gt;
 &lt;/xsl:choose&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:menclose[@notation='madruwb']" mode="rtl"&gt;
 &lt;m:menclose notation="bottom right"&gt;
  &lt;xsl:apply-templates mode="rtl"/&gt;
 &lt;/m:menclose&gt;
&lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;
`;
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1119">export class Mml3&lt;N, T, D&gt; {

  /**
   * The XSLT transform as a string;
   */
  public static XSLT: string;  // added below (it is huge)

  /**
   * The function to convert serialized MathML using the XSLT.
   * (Different for browser and node environments.)
   */
  protected transform: (xml: string) =&gt; string;

  /**
   * @param {MathDocument} document   The MathDocument for the transformation
   * @constructor
   */
  @others
}

</t>
<t tx="ekr.20211016054411.112">
import './lib/gensymb.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1120">constructor(document: MathDocument&lt;N, T, D&gt;) {
  if (typeof XSLTProcessor === 'undefined') {
    //
    // For Node, get the trasnform from the external module
    //
    this.transform = createTransform();
  } else {
    //
    // For in-browser use, use the browser's XSLTProcessor
    //
    const processor = new XSLTProcessor();
    const parsed = document.adaptor.parse(Mml3.XSLT, 'text/xml') as any as Node;
    processor.importStylesheet(parsed);
    this.transform = (mml: string) =&gt; {
      const adaptor = document.adaptor;
      const parsed = adaptor.parse(mml) as any as Node;
      const xml = processor.transformToDocument(parsed) as any as D;
      return adaptor.serializeXML(adaptor.body(xml));
    };
  }
}

</t>
<t tx="ekr.20211016054411.1121">/**
 * The prefilter for the MathML input jax
 *
 * @param {FILTERDATA} args  The data from the pre-filter chain.
 */
public preFilter(args: FILTERDATA&lt;N, T, D&gt;) {
  args.data = this.transform(args.data);
}

</t>
<t tx="ekr.20211016054411.1122">/**
 *  Add Mml3 support into the handler.
 */
export function Mml3Handler&lt;N, T, D&gt;(handler: Handler&lt;N, T, D&gt;): Handler&lt;N, T, D&gt; {
  handler.documentClass = class extends handler.documentClass {
    /**
     * Add a prefilter to the MathML input jax, if there is one.
     *
     * @override
     * @constructor
     */
    @others
}

//
// The actual XSLT transform
//
Mml3.XSLT = `
&lt;xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"
        xmlns:m="http://www.w3.org/1998/Math/MathML"
        xmlns:c="http://exslt.org/common"
        exclude-result-prefixes="m c"&gt;
&lt;xsl:output indent="yes" omit-xml-declaration="yes"/&gt;
&lt;xsl:output indent="yes" omit-xml-declaration="yes"/&gt;
&lt;xsl:template match="*"&gt;
 &lt;xsl:copy&gt;
  &lt;xsl:copy-of select="@*"/&gt;
  &lt;xsl:apply-templates/&gt;
 &lt;/xsl:copy&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="m:*[@dir='rtl']"  priority="10"&gt;
 &lt;xsl:apply-templates mode="rtl" select="."/&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="@*" mode="rtl"&gt;
 &lt;xsl:copy-of select="."/&gt;
 &lt;xsl:attribute name="dir"&gt;ltr&lt;/xsl:attribute&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="*" mode="rtl"&gt;
 &lt;xsl:copy&gt;
  &lt;xsl:apply-templates select="@*" mode="rtl"/&gt;
  &lt;xsl:for-each select="node()"&gt;
   &lt;xsl:sort data-type="number" order="descending" select="position()"/&gt;
   &lt;xsl:text&gt; &lt;/xsl:text&gt;
   &lt;xsl:apply-templates mode="rtl" select="."/&gt;
  &lt;/xsl:for-each&gt;
 &lt;/xsl:copy&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="@open" mode="rtl"&gt;
 &lt;xsl:attribute name="close"&gt;&lt;xsl:value-of select="."/&gt;&lt;/xsl:attribute&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="@open[.='(']" mode="rtl"&gt;
 &lt;xsl:attribute name="close"&gt;)&lt;/xsl:attribute&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="@open[.=')']" mode="rtl"&gt;
 &lt;xsl:attribute name="close"&gt;(&lt;/xsl:attribute&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="@open[.='[']" mode="rtl"&gt;
 &lt;xsl:attribute name="close"&gt;]&lt;/xsl:attribute&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="@open[.=']']" mode="rtl"&gt;
 &lt;xsl:attribute name="close"&gt;[&lt;/xsl:attribute&gt;
&lt;/xsl:template&gt;
&lt;xsl:template match="@open[.='{']" mode="rtl"&gt;
</t>
<t tx="ekr.20211016054411.1123">  constructor(...args: any[]) {
    super(...args);
    const options = args[2] as OptionList;
    if (options.InputJax) {
      for (const jax of options.InputJax) {
        if (jax.name === 'MathML') {
          if (!jax.options._mml3) {  // prevent filter being added twice (e.g., when a11y tools load)
            const mml3 = new Mml3(this);
            jax.preFilters.add(mml3.preFilter.bind(mml3));
            jax.options._mml3 = true;
          }
          break;
        }
      }
    }
  }
};
return handler;
</t>
<t tx="ekr.20211016054411.1124"></t>
<t tx="ekr.20211016054411.1125">


/**
 * @fileoverview  Loads all the TeX extensions
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import './base/BaseConfiguration.js';
import './action/ActionConfiguration.js';
import './ams/AmsConfiguration.js';
import './amscd/AmsCdConfiguration.js';
import './bbox/BboxConfiguration.js';
import './boldsymbol/BoldsymbolConfiguration.js';
import './braket/BraketConfiguration.js';
import './bussproofs/BussproofsConfiguration.js';
import './cancel/CancelConfiguration.js';
import './cases/CasesConfiguration.js';
import './centernot/CenternotConfiguration.js';
import './color/ColorConfiguration.js';
import './colorv2/ColorV2Configuration.js';
import './colortbl/ColortblConfiguration.js';
import './configmacros/ConfigMacrosConfiguration.js';
import './empheq/EmpheqConfiguration.js';
import './enclose/EncloseConfiguration.js';
import './extpfeil/ExtpfeilConfiguration.js';
import './gensymb/GensymbConfiguration.js';
import './html/HtmlConfiguration.js';
import './mathtools/MathtoolsConfiguration.js';
import './mhchem/MhchemConfiguration.js';
import './newcommand/NewcommandConfiguration.js';
import './noerrors/NoErrorsConfiguration.js';
import './noundefined/NoUndefinedConfiguration.js';
import './physics/PhysicsConfiguration.js';
import './setoptions/SetOptionsConfiguration.js';
import './tagformat/TagFormatConfiguration.js';
import './textcomp/TextcompConfiguration.js';
import './textmacros/TextMacrosConfiguration.js';
import './upgreek/UpgreekConfiguration.js';
import './unicode/UnicodeConfiguration.js';
import './verb/VerbConfiguration.js';

declare const MathJax: any;
if (typeof MathJax !== 'undefined' &amp;&amp; MathJax.loader) {
  MathJax.loader.preLoad(
    '[tex]/action',
    '[tex]/ams',
    '[tex]/amscd',
    '[tex]/bbox',
    '[tex]/boldsymbol',
    '[tex]/braket',
    '[tex]/bussproofs',
    '[tex]/cancel',
    '[tex]/cases',
    '[tex]/centernot',
    '[tex]/color',
    '[tex]/colorv2',
    '[tex]/colortbl',
    '[tex]/empheq',
    '[tex]/enclose',
    '[tex]/extpfeil',
    '[tex]/gensymb',
    '[tex]/html',
    '[tex]/mathtools',
    '[tex]/mhchem',
    '[tex]/newcommand',
    '[tex]/noerrors',
    '[tex]/noundefined',
    '[tex]/physics',
    '[tex]/upgreek',
    '[tex]/unicode',
    '[tex]/verb',
    '[tex]/configmacros',
    '[tex]/tagformat',
    '[tex]/textcomp',
    '[tex]/textmacros',
    '[tex]/setoptions',
  );
}

export const AllPackages: string[] = [
  'base',
  'action',
  'ams',
  'amscd',
  'bbox',
  'boldsymbol',
  'braket',
  'bussproofs',
  'cancel',
  'cases',
  'centernot',
  'color',
  'colortbl',
  'empheq',
  'enclose',
  'extpfeil',
  'gensymb',
  'html',
  'mathtools',
  'mhchem',
  'newcommand',
  'noerrors',
  'noundefined',
  'upgreek',
  'unicode',
  'verb',
  'configmacros',
  'tagformat',
  'textcomp',
  'textmacros'
];
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1126">



/**
 * @fileoverview Configuration options for the TexParser.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {HandlerConfig, FallbackConfig} from './MapHandler.js';
import {StackItemClass} from './StackItem.js';
import {TagsClass} from './Tags.js';
import {userOptions, defaultOptions, OptionList} from '../../util/Options.js';
import {SubHandlers} from './MapHandler.js';
import {FunctionList} from '../../util/FunctionList.js';
import {TeX} from '../tex.js';
import {PrioritizedList} from '../../util/PrioritizedList.js';
import {TagsFactory} from './Tags.js';


export type StackItemConfig = {[kind: string]: StackItemClass};
export type TagsConfig = {[kind: string]: TagsClass};
export type Processor&lt;T&gt; = [T, number];
export type ProtoProcessor&lt;T&gt; = Processor&lt;T&gt; | T;
export type ProcessorList = Processor&lt;Function&gt;[];
export type ConfigMethod = (c: ParserConfiguration, j: TeX&lt;any, any, any&gt;) =&gt; void;
export type InitMethod = (c: ParserConfiguration) =&gt; void;



@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1127">export class Configuration {

  /**
   * Creates a function priority pair.
   * @param {ProtoProcessor&lt;T&gt;} func The function or processor.
   * @param {number} priority The default priority.
   * @return {Processor} The processor pair.
   * @template T
   */
  private static makeProcessor&lt;T&gt;(func: ProtoProcessor&lt;T&gt;, priority: number): Processor&lt;T&gt; {
    return Array.isArray(func) ? func : [func, priority];
  }

  /**
   * Creates a configuration for a package.
   * @param {string} name The package name or empty string.
   * @param {Object} config See `create` method.
   * @return {Configuration} The newly generated configuration.
   */
  private static _create(name: string,
                         config: {handler?: HandlerConfig,
                                  fallback?: FallbackConfig,
                                  items?: StackItemConfig,
                                  tags?: TagsConfig,
                                  options?: OptionList,
                                  nodes?: {[key: string]: any},
                                  preprocessors?: ProtoProcessor&lt;Function&gt;[],
                                  postprocessors?: ProtoProcessor&lt;Function&gt;[],
                                  init?: ProtoProcessor&lt;InitMethod&gt;,
                                  config?: ProtoProcessor&lt;ConfigMethod&gt;,
                                  priority?: number,
                                  parser?: string,
                                 } = {}): Configuration {
    let priority = config.priority || PrioritizedList.DEFAULTPRIORITY;
    let init = config.init ? this.makeProcessor(config.init, priority) : null;
    let conf = config.config ? this.makeProcessor(config.config, priority) : null;
    let preprocessors = (config.preprocessors || []).map(
      pre =&gt; this.makeProcessor(pre, priority));
    let postprocessors = (config.postprocessors || []).map(
      post =&gt; this.makeProcessor(post, priority));
    let parser = config.parser || 'tex';
    return new Configuration(
      name,
      config.handler || {},
      config.fallback || {},
      config.items || {},
      config.tags || {},
      config.options || {},
      config.nodes || {},
      preprocessors, postprocessors, init, conf, priority,
      parser
    );
  }

  /**
   * Creator pattern for creating a named package configuration. This will be
   * administered in the configuration handler and can be retrieved again.
   * @param {string} name The package name.
   * @param {Object} config The configuration parameters:
   * Configuration for the TexParser consist of the following:
   *  * _handler_  configuration mapping handler types to lists of symbol mappings.
   *  * _fallback_ configuration mapping handler types to fallback methods.
   *  * _items_ for the StackItem factory.
   *  * _tags_ mapping tagging configurations to tagging objects.
   *  * _options_ parse options for the packages.
   *  * _nodes_ for the Node factory.
   *  * _preprocessors_ list of functions for preprocessing the LaTeX
   *      string wrt. to given parse options. Can contain a priority.
   *  * _postprocessors_ list of functions for postprocessing the MmlNode
   *      wrt. to given parse options. Can contain a priority.
   *  * _init_ init method and optionally its priority.
   *  * _config_ config method and optionally its priority.
   *  * _priority_ default priority of the configuration.
   *  * _parser_ the name of the parser that this configuration targets.
   * @return {Configuration} The newly generated configuration.
   */
  public static create(name: string,
                       config: {handler?: HandlerConfig,
                                fallback?: FallbackConfig,
                                items?: StackItemConfig,
                                tags?: TagsConfig,
                                options?: OptionList,
                                nodes?: {[key: string]: any},
                                preprocessors?: ProtoProcessor&lt;Function&gt;[],
                                postprocessors?: ProtoProcessor&lt;Function&gt;[],
                                init?: ProtoProcessor&lt;InitMethod&gt;,
                                config?: ProtoProcessor&lt;ConfigMethod&gt;,
                                priority?: number,
                                parser?: string,
                               } = {}): Configuration {
    let configuration = Configuration._create(name, config);
    ConfigurationHandler.set(name, configuration);
    return configuration;
  }

  /**
   * Creates an unnamed, ephemeral package configuration. It will not added to
   * the configuration handler.
   * @param {Object} config See `create` method.
   * @return {Configuration} The ephemeral package configuration.
   */
  public static local(config: {handler?: HandlerConfig,
                              fallback?: FallbackConfig,
                              items?: StackItemConfig,
                              tags?: TagsConfig,
                              options?: OptionList,
                              nodes?: {[key: string]: any},
                              preprocessors?: ProtoProcessor&lt;Function&gt;[],
                              postprocessors?: ProtoProcessor&lt;Function&gt;[],
                              init?: ProtoProcessor&lt;InitMethod&gt;,
                              config?: ProtoProcessor&lt;ConfigMethod&gt;,
                              priority?: number,
                              parser?: string,
                             } = {}): Configuration {
    return Configuration._create('', config);
  }


  /**
   * @constructor
   */
  private constructor(readonly name: string,
                      readonly handler: HandlerConfig = {},
                      readonly fallback: FallbackConfig = {},
                      readonly items: StackItemConfig = {},
                      readonly tags: TagsConfig = {},
                      readonly options: OptionList = {},
                      readonly nodes: {[key: string]: any} = {},
                      readonly preprocessors: ProcessorList = [],
                      readonly postprocessors: ProcessorList = [],
                      readonly initMethod: Processor&lt;InitMethod&gt; = null,
                      readonly configMethod: Processor&lt;ConfigMethod&gt; = null,
                      public priority: number,
                      readonly parser: string
                     ) {
    this.handler = Object.assign(
      {character: [], delimiter: [], macro: [], environment: []}, handler);
  }

  /**
   * The init method.
   * @type {Function}
   */
  public get init(): InitMethod {
    return this.initMethod ? this.initMethod[0] : null;
  }

  /**
   * The config method to call once jax is ready.
   * @type {FunctionList}
   */
  public get config(): ConfigMethod {
    return this.configMethod ? this.configMethod[0] : null;
  }

}


export namespace ConfigurationHandler {

  let maps: Map&lt;string, Configuration&gt; = new Map();

  /**
   * Adds a new configuration to the handler overwriting old ones.
   *
   * @param {string} name The name of the configuration.
   * @param {Configuration} map The configuration mapping.
   */
  export let set = function(name: string, map: Configuration): void {
    maps.set(name, map);
  };


  /**
   * Looks up a configuration.
   *
   * @param {string} name The name of the configuration.
   * @return {Configuration} The configuration with the given name or null.
   */
  export let get = function(name: string): Configuration {
    return maps.get(name);
  };

  /**
   * @return {string[]} All configurations in the handler.
   */
  export let keys = function(): IterableIterator&lt;string&gt; {
    return maps.keys();
  };

}


</t>
<t tx="ekr.20211016054411.1128">/**
 * Parser configuration combines the configurations of the currently selected
 * packages.
 * @constructor
 */
export class ParserConfiguration {

  /**
   * Priority list of init methods.
   * @type {FunctionList}
   */
  protected initMethod: FunctionList = new FunctionList();

  /**
   * Priority list of init methods to call once jax is ready.
   * @type {FunctionList}
   */
  protected configMethod: FunctionList = new FunctionList();

  /**
   * An ordered list of cofigurations.
   * @type {PrioritizedList&lt;Configuration&gt;}
   */
  protected configurations: PrioritizedList&lt;Configuration&gt; = new PrioritizedList();

  /**
   * The list of parsers this configuration targets
   */
  protected parsers: string[] = [];

  /**
   * The subhandlers for this configuration.
   * @type {SubHandlers}
   */
  public handlers: SubHandlers = new SubHandlers();

  /**
   * The collated stack items.
   * @type {StackItemConfig}
   */
  public items: StackItemConfig = {};

  /**
   * The collated tag configurations.
   * @type {TagsConfig}
   */
  public tags: TagsConfig = {};

  /**
   * The collated options.
   * @type {OptionList}
   */
  public options: OptionList = {};

  /**
   * The collated node creators.
   * @type {{[key: string]: any}}
   */
  public nodes: {[key: string]: any}  = {};

  /**
   * @constructor
   * @param {(string|[string,number])[]} packages A list of packages with
   *     optional priorities.
   * @parm {string[]} parsers   The names of the parsers this package targets
   */
  @others
</t>
<t tx="ekr.20211016054411.1129">constructor(packages: (string | [string, number])[], parsers: string[] = ['tex']) {
  this.parsers = parsers;
  for (const pkg of packages.slice().reverse()) {
    this.addPackage(pkg);
  }
  for (let {item: config, priority: priority} of this.configurations) {
    this.append(config, priority);
  }
}

</t>
<t tx="ekr.20211016054411.113">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/gensymb',    // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1130">/**
 * Init method for the configuration;
 */
public init() {
  this.initMethod.execute(this);
}

</t>
<t tx="ekr.20211016054411.1131">/**
 * Init method for when the jax is ready
 * @param {TeX} jax The TeX jax for this configuration
 */
public config(jax: TeX&lt;any, any, any&gt;) {
  this.configMethod.execute(this, jax);
  for (const config of this.configurations) {
    this.addFilters(jax, config.item);
  }
}

</t>
<t tx="ekr.20211016054411.1132">/**
 * Retrieves and adds configuration for a package with priority.
 * @param {(string | [string, number]} pkg Package with priority.
 */
public addPackage(pkg: (string | [string, number])) {
  const name = typeof pkg === 'string' ? pkg : pkg[0];
  const conf = this.getPackage(name);
  conf &amp;&amp; this.configurations.add(conf, typeof pkg === 'string' ? conf.priority : pkg[1]);
}

</t>
<t tx="ekr.20211016054411.1133">/**
 * Adds a configuration after the input jax is created.  (Used by \require.)
 * Sets items, nodes and runs configuration method explicitly.
 *
 * @param {string} name            The name of the package to add
 * @param {TeX} jax                The TeX jax where it is being registered
 * @param {OptionList=} options    The options for the configuration.
 */
 public add(name: string, jax: TeX&lt;any, any, any&gt;, options: OptionList = {}) {
   const config = this.getPackage(name);
   this.append(config);
   this.configurations.add(config, config.priority);
   this.init();
   const parser = jax.parseOptions;
   parser.nodeFactory.setCreators(config.nodes);
   for (const kind of Object.keys(config.items)) {
     parser.itemFactory.setNodeClass(kind, config.items[kind]);
   }
   TagsFactory.addTags(config.tags);
   defaultOptions(parser.options, config.options);
   userOptions(parser.options, options);
   this.addFilters(jax, config);
   if (config.config) {
     config.config(this, jax);
   }
 }

/**
 * Find a package and check that it is for the targeted parser
 *
 * @param {string} name       The name of the package to check
 * @return {Configuration}    The configuration for the package
 */
 protected getPackage(name: string): Configuration {
   const config = ConfigurationHandler.get(name);
   if (config &amp;&amp; this.parsers.indexOf(config.parser) &lt; 0) {
     throw Error(`Package ${name} doesn't target the proper parser`);
   }
   return config;
 }

 
</t>
<t tx="ekr.20211016054411.1134">/**
  * Appends a configuration to the overall configuration object.
  * @param {Configuration} config A configuration.
  * @param {number} priority The configurations optional priority.
  */
public append(config: Configuration, priority?: number) {
  priority = priority || config.priority;
  if (config.initMethod) {
    this.initMethod.add(config.initMethod[0], config.initMethod[1]);
  }
  if (config.configMethod) {
      this.configMethod.add(config.configMethod[0], config.configMethod[1]);
    }
  this.handlers.add(config.handler, config.fallback, priority);
  Object.assign(this.items, config.items);
  Object.assign(this.tags, config.tags);
  defaultOptions(this.options, config.options);
  Object.assign(this.nodes, config.nodes);
}

</t>
<t tx="ekr.20211016054411.1135">/**
 * Adds pre- and postprocessor as filters to the jax.
 * @param {TeX&lt;any} jax The TeX Jax.
 * @param {Configuration} config The configuration whose processors are added.
 */
  private addFilters(jax: TeX&lt;any, any, any&gt;, config: Configuration) {
    for (const [pre, priority] of config.preprocessors) {
      jax.preFilters.add(pre, priority);
    }
    for (const [post, priority] of config.postprocessors) {
      jax.postFilters.add(post, priority);
    }
  }

}
</t>
<t tx="ekr.20211016054411.1136">


/**
 * @fileoverview  Utility functions for standard pre and post filters.
 *
 * @author sorge@mathjax.org (Volker Sorge)
 */


import {TEXCLASS, MMLNODE, MmlNode} from '../../core/MmlTree/MmlNode.js';
import NodeUtil from './NodeUtil.js';
import ParseOptions from './ParseOptions.js';
import {MmlMo} from '../../core/MmlTree/MmlNodes/mo.js';
import {Attributes} from '../../core/MmlTree/Attributes.js';


namespace FilterUtil {

  /**
   * Visitor to set stretchy attributes to false on &lt;mo&gt; elements, if they are
   * not used as delimiters. Also wraps non-stretchy infix delimiters into a
   * TeXAtom.
   * @param {MmlNode} math The node to rewrite.
   * @param {ParseOptions} data The parse options.
   */
  export let cleanStretchy = function(arg: {math: any, data: ParseOptions}) {
    let options = arg.data;
    for (let mo of options.getList('fixStretchy')) {
      if (NodeUtil.getProperty(mo, 'fixStretchy')) {
        let symbol = NodeUtil.getForm(mo);
        if (symbol &amp;&amp; symbol[3] &amp;&amp; symbol[3]['stretchy']) {
          NodeUtil.setAttribute(mo, 'stretchy', false);
        }
        const parent = mo.parent;
        if (!NodeUtil.getTexClass(mo) &amp;&amp; (!symbol || !symbol[2])) {
          const texAtom = options.nodeFactory.create('node', 'TeXAtom', [mo]);
          parent.replaceChild(texAtom, mo);
          texAtom.inheritAttributesFrom(mo);
        }
        NodeUtil.removeProperties(mo, 'fixStretchy');
      }
    }
  };


  /**
   * Visitor that removes superfluous attributes from nodes. I.e., if a node has
   * an attribute, which is also an inherited attribute it will be removed. This
   * is necessary as attributes are set bottom up in the parser.
   * @param {ParseOptions} data The parse options.
   */
  export let cleanAttributes = function(arg: {data: ParseOptions}) {
    let node = arg.data.root as MmlNode;
    node.walkTree((mml: MmlNode, _d: any) =&gt; {
      let attribs = mml.attributes as any;
      if (!attribs) {
        return;
      }
      for (const key of attribs.getExplicitNames()) {
        if (attribs.attributes[key] === mml.attributes.getInherited(key)) {
          delete attribs.attributes[key];
        }
      }
    }, {});
  };


  /**
   * Combine adjacent &lt;mo&gt; elements that are relations (since MathML treats the
   * spacing very differently)
   * @param {ParseOptions} data The parse options.
   */
  export let combineRelations = function(arg: {data: ParseOptions}) {
    const remove: MmlNode[] = [];
    for (let mo of arg.data.getList('mo')) {
      if (mo.getProperty('relationsCombined') || !mo.parent ||
          (mo.parent &amp;&amp; !NodeUtil.isType(mo.parent, 'mrow')) ||
          NodeUtil.getTexClass(mo) !== TEXCLASS.REL) {
        // @test Prime, PrimeSup, Named Function
        continue;
      }
      let mml = mo.parent;
      let m2: MmlNode;
      let children = mml.childNodes as MMLNODE[];
      let next = children.indexOf(mo) + 1;
      let variantForm = NodeUtil.getProperty(mo, 'variantForm');
      while (next &lt; children.length &amp;&amp; (m2 = children[next]) &amp;&amp;
             NodeUtil.isType(m2, 'mo') &amp;&amp;
             NodeUtil.getTexClass(m2) === TEXCLASS.REL) {
        if (variantForm === NodeUtil.getProperty(m2, 'variantForm') &amp;&amp;
            _compareExplicit(mo, m2)) {
          // @test Shift Left, Less Equal,
          //       Multirel Font X, Multirel Mathvariant X
          NodeUtil.appendChildren(mo, NodeUtil.getChildren(m2));
          // This treatment means we might loose some inheritance structure, but
          // no properties.
          _copyExplicit(['stretchy', 'rspace'], mo, m2);
          for (const name of m2.getPropertyNames()) {
            mo.setProperty(name, m2.getProperty(name));
          }
          children.splice(next, 1);
          remove.push(m2);
          m2.parent = null;
          m2.setProperty('relationsCombined', true);
        } else {
          // @test Preset Rspace Lspace
          if (mo.attributes.getExplicit('rspace') == null) {
            // @test Mulitrel Mathvariant 3, Mulitrel Mathvariant 4
            NodeUtil.setAttribute(mo, 'rspace', '0pt');
          }
          if (m2.attributes.getExplicit('lspace') == null) {
            // @test Mulitrel Mathvariant 3, Mulitrel Mathvariant 4
            NodeUtil.setAttribute(m2, 'lspace', '0pt');
          }
          break;
        }
      }
      mo.attributes.setInherited('form', (mo as MmlMo).getForms()[0]);
    }
    arg.data.removeFromList('mo', remove);
  };


  /**
   * Copies the specified explicit attributes from node2 to node1.
   * @param {string[]} attrs List of explicit attribute names.
   * @param {MmlNode} node1 The goal node.
   * @param {MmlNode} node2 The source node.
   */
  let _copyExplicit = function(attrs: string[],
                               node1: MmlNode, node2: MmlNode) {
    let attr1 = node1.attributes;
    let attr2 = node2.attributes;
    attrs.forEach(x =&gt; {
      let attr = attr2.getExplicit(x);
      if (attr != null) {
        // @test Infix Stretchy Right, Preset Lspace Rspace
        attr1.set(x, attr);
      }
    });
  };


  /**
   * Compares the explicit attributes of two nodes. Returns true if they
   * coincide, with the following exceptions:
   *   - lspace attribute of node1 is ignored.
   *   - rspace attribute of node2 is ignored.
   *   - stretchy=false attributes are ignored.
   * @param {MmlNode} node1 The first node.
   * @param {MmlNode} node2 Its next sibling.
   */
  let _compareExplicit = function(node1: MmlNode, node2: MmlNode) {
    let filter = (attr: Attributes, space: string): string[] =&gt; {
      let exp = attr.getExplicitNames();
      return exp.filter(x =&gt; {
        return x !== space &amp;&amp;
          (x !== 'stretchy' ||
           attr.getExplicit('stretchy'));
      });
    };
    let attr1 = node1.attributes;
    let attr2 = node2.attributes;
    let exp1 = filter(attr1, 'lspace');
    let exp2 = filter(attr2, 'rspace');
    if (exp1.length !== exp2.length) {
      return false;
    }
    for (let name of exp1) {
      if (attr1.getExplicit(name) !== attr2.getExplicit(name)) {
        return false;
      }
    }
    return true;
  };

  /**
   * Cleans msubsup and munderover elements.
   * @param {ParseOptions} options The parse options.
   * @param {string} low String representing the lower part of the expression.
   * @param {string} up String representing the upper part.
   */
  let _cleanSubSup = function(options: ParseOptions, low: string, up: string) {
    const remove: MmlNode[] = [];
    for (let mml of options.getList('m' + low + up) as any[]) {
      const children = mml.childNodes;
      if (children[mml[low]] &amp;&amp; children[mml[up]]) {
        continue;
      }
      const parent = mml.parent;
      let newNode = (children[mml[low]] ?
                 options.nodeFactory.create('node', 'm' + low, [children[mml.base], children[mml[low]]]) :
                 options.nodeFactory.create('node', 'm' + up, [children[mml.base], children[mml[up]]]));
      NodeUtil.copyAttributes(mml, newNode);
      if (parent) {
        parent.replaceChild(newNode, mml);
      } else {
        options.root = newNode;
      }
      remove.push(mml);
    }
    options.removeFromList('m' + low + up, remove);
  };


  /**
   * Visitor that rewrites incomplete msubsup/munderover elements in the given
   * node into corresponding msub/sup/under/over nodes.
   * @param {MmlNode} math The node to rewrite.
   * @param {ParseOptions} data The parse options.
   */
  export let cleanSubSup = function(arg: {math: any, data: ParseOptions}) {
    let options = arg.data;
    if (options.error) {
      return;
    }
    _cleanSubSup(options, 'sub', 'sup');
    _cleanSubSup(options, 'under', 'over');
  };


  /**
   * Looks through the list of munderover elements for ones that have
   * movablelimits and bases that are not mo's, and creates new msubsup
   * elements to replace them if they aren't in displaystyle.
   *
   * @param {MmlNode} ath The node to rewrite.
   * @param {ParseOptions} data The parse options.
   */
  let _moveLimits = function (options: ParseOptions, underover: string, subsup: string) {
    const remove: MmlNode[] = [];
    for (const mml of options.getList(underover)) {
      if (mml.attributes.get('displaystyle')) {
        continue;
      }
      const base = mml.childNodes[(mml as any).base] as MmlNode;
      const mo = base.coreMO();
      if (base.getProperty('movablelimits') &amp;&amp; !mo.attributes.getExplicit('movablelimits')) {
        let node = options.nodeFactory.create('node', subsup, mml.childNodes);
        NodeUtil.copyAttributes(mml, node);
        if (mml.parent) {
          mml.parent.replaceChild(node, mml);
        } else {
          options.root = node;
        }
        remove.push(mml);
      }
    }
    options.removeFromList(underover, remove);
  };

  /**
   * Visitor that rewrites in-line munderover elements with movablelimits but bases
   * that are not mo's into explicit msubsup elements.
   *
   * @param {ParseOptions} data  The parse options to use
   */
  export let moveLimits = function (arg: {data: ParseOptions}) {
    const options = arg.data;
    _moveLimits(options, 'munderover', 'msubsup');
    _moveLimits(options, 'munder', 'msub');
    _moveLimits(options, 'mover', 'msup');
  };


  /**
   * Recursively sets the inherited attributes on the math tree.
   * @param {MmlNode} math The node to rewrite.
   * @param {ParseOptions} data The parse options.
   */
  export let setInherited = function(arg: {math: any, data: ParseOptions}) {
    arg.data.root.setInheritedAttributes({}, arg.math['display'], 0, false);
  };

}


export default FilterUtil;
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1137">


/**
 * @fileoverview  Implements the TeX version of the FindMath object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AbstractFindMath} from '../../core/FindMath.js';
import {OptionList} from '../../util/Options.js';
import {sortLength, quotePattern} from '../../util/string.js';
import {ProtoItem, protoItem} from '../../core/MathItem.js';

/**
 * Shorthand types for data about end delimiters and delimiter pairs
 */
export type EndItem = [string, boolean, RegExp];
export type Delims = [string, string];

/*****************************************************************/
/*
 *  Implements the FindTeX class (extends AbstractFindMath)
 *
 *  Locates TeX expressions within strings
 */

/*
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1138">export class FindTeX&lt;N, T, D&gt; extends AbstractFindMath&lt;N, T, D&gt; {

  /**
   * @type {OptionList}
   */
  public static OPTIONS: OptionList = {
    inlineMath: [              // The start/end delimiter pairs for in-line math
      //  ['$', '$'],              //  (comment out any you don't want, or add your own, but
      ['\\(', '\\)']           //  be sure that you don't have an extra comma at the end)
    ],

    displayMath: [             // The start/end delimiter pairs for display math
      ['$$', '$$'],            //  (comment out any you don't want, or add your own, but
      ['\\[', '\\]']           //  be sure that you don't have an extra comma at the end)
    ],

    processEscapes: true,      // set to true to allow \$ to produce a dollar without
    //   starting in-line math mode
    processEnvironments: true, // set to true to process \begin{xxx}...\end{xxx} outside
    //   of math mode, false to prevent that
    processRefs: true,         // set to true to process \ref{...} outside of math mode
  };

  /**
   * The regular expression for any starting delimiter
   */
  protected start: RegExp;

  /**
   * The end-delimiter data keyed to the opening delimiter string
   */
  protected end: {[name: string]: EndItem};

  /**
   * False if the configuration has no delimiters (so search can be skipped), true otherwise
   */
  protected hasPatterns: boolean;

  /**
   * The index of the \begin...\end pattern in the regex match array
   */
  protected env: number;

  /**
   * The index of the \ref and escaped character patters in the regex match array
   */
  protected sub: number;

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1139">constructor(options: OptionList) {
  super(options);
  this.getPatterns();
}

/**
 * Create the patterns needed for searching the strings for TeX
 *   based on the configuration options
 */
protected getPatterns() {
  let options = this.options;
  let starts: string[] = [], parts: string[] = [], subparts: string[] = [];
  this.end = {};
  this.env = this.sub = 0;
  let i = 1;
  options['inlineMath'].forEach((delims: Delims) =&gt; this.addPattern(starts, delims, false));
  options['displayMath'].forEach((delims: Delims) =&gt; this.addPattern(starts, delims, true));
  if (starts.length) {
    parts.push(starts.sort(sortLength).join('|'));
  }
  if (options['processEnvironments']) {
    parts.push('\\\\begin\\s*\\{([^}]*)\\}');
    this.env = i;
    i++;
  }
  if (options['processEscapes']) {
    subparts.push('\\\\([\\\\$])');
  }
  if (options['processRefs']) {
    subparts.push('(\\\\(?:eq)?ref\\s*\\{[^}]*\\})');
  }
  if (subparts.length) {
    parts.push('(' + subparts.join('|') + ')');
    this.sub = i;
  }
  this.start = new RegExp(parts.join('|'), 'g');
  this.hasPatterns = (parts.length &gt; 0);
}

/**
 * Add the needed patterns for a pair of delimiters
 *
 * @param {string[]} starts  Array of starting delimiter strings
 * @param {Delims} delims    Array of delimiter strings, as [start, end]
 * @param {boolean} display  True if the delimiters are for display mode
 */
protected addPattern(starts: string[], delims: Delims, display: boolean) {
  let [open, close] = delims;
  starts.push(quotePattern(open));
  this.end[open] = [close, display, this.endPattern(close)];
}

/**
 * Create the pattern for a close delimiter
 *
 * @param {string} end   The end delimiter text
 * @param {string} endp  The end delimiter pattern (overrides the literal end pattern)
 * @return {RegExp}      The regular expression for the end delimiter
 */
protected endPattern(end: string, endp?: string): RegExp {
  return new RegExp((endp || quotePattern(end)) + '|\\\\(?:[a-zA-Z]|.)|[{}]', 'g');
}

/**
 * Search for the end delimiter given the start delimiter,
 *   skipping braced groups, and control sequences that aren't
 *   the close delimiter.
 *
 * @param {string} text            The string being searched for the end delimiter
 * @param {number} n               The index of the string being searched
 * @param {RegExpExecArray} start  The result array from the start-delimiter search
 * @param {EndItem} end            The end-delimiter data corresponding to the start delimiter
 * @return {ProtoItem&lt;N,T&gt;}        The proto math item for the math, if found
 */
protected findEnd(text: string, n: number, start: RegExpExecArray, end: EndItem): ProtoItem&lt;N, T&gt; {
  let [close, display, pattern] = end;
  let i = pattern.lastIndex = start.index + start[0].length;
  let match: RegExpExecArray, braces: number = 0;
  while ((match = pattern.exec(text))) {
    if ((match[1] || match[0]) === close &amp;&amp; braces === 0) {
      return protoItem&lt;N, T&gt;(start[0], text.substr(i, match.index - i), match[0],
                             n, start.index, match.index + match[0].length, display);
    } else if (match[0] === '{') {
      braces++;
    } else if (match[0] === '}' &amp;&amp; braces) {
      braces--;
    }
  }
  return null;
}

/**
 * Search a string for math delimited by one of the delimiter pairs,
 *   or by \begin{env}...\end{env}, or \eqref{...}, \ref{...}, \\, or \$.
 *
 * @param {ProtoItem[]} math  The array of proto math items located so far
 * @param {number} n          The index of the string being searched
 * @param {string} text       The string being searched
 */
protected findMathInString(math: ProtoItem&lt;N, T&gt;[], n: number, text: string) {
  let start, match;
  this.start.lastIndex = 0;
  while ((start = this.start.exec(text))) {
    if (start[this.env] !== undefined &amp;&amp; this.env) {
      let end = '\\\\end\\s*(\\{' + quotePattern(start[this.env]) + '\\})';
      match = this.findEnd(text, n, start, ['{' + start[this.env] + '}', true, this.endPattern(null, end)]);
      if (match) {
        match.math = match.open + match.math + match.close;
        match.open = match.close = '';
      }
    } else if (start[this.sub] !== undefined &amp;&amp; this.sub) {
      let math = start[this.sub];
      let end = start.index + start[this.sub].length;
      if (math.length === 2) {
        match = protoItem&lt;N, T&gt;('', math.substr(1), '', n, start.index, end);
      } else {
        match = protoItem&lt;N, T&gt;('', math, '', n, start.index, end, false);
      }
    } else {
      match = this.findEnd(text, n, start, this.end[start[0]]);
    }
    if (match) {
      math.push(match);
      this.start.lastIndex = match.end.n;
    }
  }
}

</t>
<t tx="ekr.20211016054411.114"></t>
<t tx="ekr.20211016054411.1140">/**
 * Search for math in an array of strings and return an array of matches.
 *
 * @override
 */
public findMath(strings: string[]) {
  let math: ProtoItem&lt;N, T&gt;[] = [];
  if (this.hasPatterns) {
    for (let i = 0, m = strings.length; i &lt; m; i++) {
      this.findMathInString(math, i, strings[i]);
    }
  }
  return math;
}

</t>
<t tx="ekr.20211016054411.1141">



/**
 * @fileoverview Singleton class for handling symbol maps.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {AbstractSymbolMap, SymbolMap} from './SymbolMap.js';
import {ParseInput, ParseResult, ParseMethod} from './Types.js';
// import {ParserConfiguration} from './Configuration.js';
import {PrioritizedList} from '../../util/PrioritizedList.js';
import {FunctionList} from '../../util/FunctionList.js';


export type HandlerType = 'delimiter' | 'macro' | 'character' | 'environment';

export type HandlerConfig = {[P in HandlerType]?: string[]};
export type FallbackConfig = {[P in HandlerType]?: ParseMethod};


export namespace MapHandler {

  let maps: Map&lt;string, SymbolMap&gt; = new Map();

  /**
   * Adds a new symbol map to the map handler. Might overwrite an existing
   * symbol map of the same name.
   *
   * @param {SymbolMap} map Registers a new symbol map.
   */
  export let register = function(map: SymbolMap): void {
    maps.set(map.name, map);
  };


  /**
   * Looks up a symbol map if it exists.
   *
   * @param {string} name The name of the symbol map.
   * @return {SymbolMap} The symbol map with the given name or null.
   */
  export let getMap = function(name: string): SymbolMap {
    return maps.get(name);
  };

}


/**
 * Class of symbol mappings that are active in a configuration.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1142">export class SubHandler {

  private _configuration: PrioritizedList&lt;SymbolMap&gt; = new PrioritizedList&lt;SymbolMap&gt;();
  private _fallback: FunctionList = new FunctionList();

  /**
   * Adds a list of symbol maps to the handler.
   * @param {string[]} maps The names of the symbol maps to add.
   * @param {ParseMethod} fallback A fallback method.
   * @param {number} priority Optionally a priority.
   */
  public add(maps: string[], fallback: ParseMethod,
             priority: number = PrioritizedList.DEFAULTPRIORITY) {
    for (const name of maps.slice().reverse()) {
      let map = MapHandler.getMap(name);
      if (!map) {
        this.warn('Configuration ' + name + ' not found! Omitted.');
        return;
      }
      this._configuration.add(map, priority);
    }
    if (fallback) {
      this._fallback.add(fallback, priority);
    }
  }

  /**
   * Parses the given input with the first applicable symbol map.
   * @param {ParseInput} input The input for the parser.
   * @return {ParseResult} The output of the parsing function.
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1143">public parse(input: ParseInput): ParseResult {
  for (let {item: map} of this._configuration) {
    const result = map.parse(input);
    if (result) {
      return result;
    }
  }
  let [env, symbol] = input;
  Array.from(this._fallback)[0].item(env, symbol);
}


/**
 * Maps a symbol to its "parse value" if it exists.
 *
 * @param {string} symbol The symbol to parse.
 * @return {T} A boolean, Character, or Macro.
 */
public lookup&lt;T&gt;(symbol: string): T {
  let map = this.applicable(symbol) as AbstractSymbolMap&lt;T&gt;;
  return map ? map.lookup(symbol) : null;
}


</t>
<t tx="ekr.20211016054411.1144">/**
 * Checks if a symbol is contained in one of the symbol mappings of this
 * configuration.
 *
 * @param {string} symbol The symbol to parse.
 * @return {boolean} True if the symbol is contained in the mapping.
 */
public contains(symbol: string): boolean {
  return this.applicable(symbol) ? true : false;
}


</t>
<t tx="ekr.20211016054411.1145">/**
 * @override
 */
public toString(): string {
  let names = [];
  for (let {item: map} of this._configuration) {
    names.push(map.name);
  }
  return names.join(', ');
}


</t>
<t tx="ekr.20211016054411.1146">/**
 * Retrieves the first applicable symbol map in the configuration.
 * @param {string} symbol The symbol to parse.
 * @return {SymbolMap} A map that can parse the symbol.
 */
public applicable(symbol: string): SymbolMap {
  for (let {item: map} of this._configuration) {
    if (map.contains(symbol)) {
      return map;
    }
  }
  return null;
}


</t>
<t tx="ekr.20211016054411.1147">/**
 * Retrieves the map of the given name.
 * @param {string} name Name of the symbol map.
 * @return {SymbolMap} The map if it exists.
 */
public retrieve(name: string): SymbolMap {
  for (let {item: map} of this._configuration) {
    if (map.name === name) {
      return map;
    }
  }
  return null;
}


</t>
<t tx="ekr.20211016054411.1148">/**
 * Prints a warning message.
 * @param {string} message The warning.
 */
private warn(message: string) {
  console.log('TexParser Warning: ' + message);
}

</t>
<t tx="ekr.20211016054411.1149">export class SubHandlers {

  private map = new Map&lt;HandlerType, SubHandler&gt;();

  /**
   * Adds a symbol map to the configuration if it exists.
   * @param {string} name of the symbol map.
   */
  public add(handlers: HandlerConfig, fallbacks: FallbackConfig,
             priority: number = PrioritizedList.DEFAULTPRIORITY): void {
    for (const key of Object.keys(handlers)) {
      let name = key as HandlerType;
      let subHandler = this.get(name);
      if (!subHandler) {
        subHandler = new SubHandler();
        this.set(name, subHandler);
      }
      subHandler.add(handlers[name], fallbacks[name], priority);
    }
  }


  /**
   * Setter for subhandlers.
   * @param {HandlerType} name The name of the subhandler.
   * @param {SubHandler} subHandler The subhandler.
   */
  @others
}
</t>
<t tx="ekr.20211016054411.115">
import './lib/html.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1150">public set(name: HandlerType, subHandler: SubHandler) {
  this.map.set(name, subHandler);
}


</t>
<t tx="ekr.20211016054411.1151">/**
 * Getter for subhandler.
 * @param {HandlerType} name Name of the subhandler.
 * @return {SubHandler} The subhandler by that name if it exists.
 */
public get(name: HandlerType): SubHandler {
  return this.map.get(name);
}


</t>
<t tx="ekr.20211016054411.1152">/**
 * Retrieves a symbol map of the given name.
 * @param {string} name Name of the symbol map.
 * @return {SymbolMap} The map if it exists. O/w null.
 */
public retrieve(name: string): SymbolMap {
  for (const handler of this.map.values()) {
    let map = handler.retrieve(name);
    if (map) {
      return map;
    }
  }
  return null;
}


</t>
<t tx="ekr.20211016054411.1153">/**
 * All names of registered subhandlers.
 * @return {IterableIterator&lt;string&gt;} Iterable list of keys.
 */
public keys(): IterableIterator&lt;string&gt; {
  return this.map.keys();
}

</t>
<t tx="ekr.20211016054411.1154">



/**
 * @fileoverview Node factory for creating MmlNodes. This allows extension
 *     packages to add node constructors or overwrite existing ones.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {TextNode, MmlNode} from '../../core/MmlTree/MmlNode.js';
import {MmlFactory} from '../../core/MmlTree/MmlFactory.js';
import ParseOptions from './ParseOptions.js';
import NodeUtil from './NodeUtil.js';


export type NodeFactoryMethod = (factory: NodeFactory, kind: string, ...rest: any[]) =&gt; MmlNode;

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1155">export class NodeFactory {

  /**
   * Parser configuration that can be used to pass information between node methods.
   * @type {ParseOption}
   */
  public configuration: ParseOptions;


  /**
   * The external node factory.
   * @type {MmlFactory}
   */
  protected mmlFactory: MmlFactory = null;


  /**
   * The factory table populated with some default methods.
   */
  private factory: {[kind: string]: NodeFactoryMethod} =
    {'node': NodeFactory.createNode,
     'token': NodeFactory.createToken,
     'text': NodeFactory.createText,
     'error': NodeFactory.createError
    };

  /**
   * Default node generation function.
   * @param {NodeFactory} factory The current node factory.
   * @param {string} kind The type of node to create.
   * @param {MmlNode[]} children Its children.
   * @param {any=} def Its properties.
   * @param {TextNode=} text An optional text node if this is a token.
   * @return {MmlNode} The newly created Mml node.
   */
  public static createNode(factory: NodeFactory, kind: string,
                           children: MmlNode[] = [], def: any = {},
                           text?: TextNode): MmlNode {
    const node = factory.mmlFactory.create(kind);
    node.setChildren(children);
    if (text) {
      node.appendChild(text);
    }
    NodeUtil.setProperties(node, def);
    return node;
  }


  /**
   * Default token generation function.
   * @param {NodeFactory} factory The current node factory.
   * @param {string} kind The type of node to create.
   * @param {any} def Its properties.
   * @param {string} text Text of the token.
   * @return {MmlNode} The newly created token node.
   */
  public static createToken(factory: NodeFactory, kind: string,
                            def: any = {}, text: string = ''): MmlNode  {
    const textNode = factory.create('text', text);
    return factory.create('node', kind, [], def, textNode);
  }


  /**
   * Default text node generation function.
   * @param {NodeFactory} factory The current node factory.
   * @param {string} text The text for the new node.
   * @return {TextNode} The newly created text node.
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1156">public static createText(factory: NodeFactory, text: string): TextNode  {
  if (text == null) {
    return null;
  }
  return (factory.mmlFactory.create('text') as TextNode).setText(text);
}


</t>
<t tx="ekr.20211016054411.1157">/**
 * Default error node generation function.
 * @param {NodeFactory} factory The current node factory.
 * @param {string} message The error message.
 * @return {MmlNode} The newly created error node.
 */
public static createError(factory: NodeFactory, message: string): MmlNode  {
  let text = factory.create('text', message);
  let mtext = factory.create('node', 'mtext', [], {}, text);
  let error = factory.create('node', 'merror', [mtext], {'data-mjx-error': message});
  return error;
}


</t>
<t tx="ekr.20211016054411.1158">/**
 * @param {MmlFactory} mmlFactory   The MmlFactory for the TeX jax to use
 */
public setMmlFactory(mmlFactory: MmlFactory) {
  this.mmlFactory = mmlFactory;
}

</t>
<t tx="ekr.20211016054411.1159">/**
 * Adds a method to the factory.
 * @param {string} kind The type of node the method creates.
 * @param {NodeFactoryMethod} func The node creator.
 */
public set(kind: string, func: NodeFactoryMethod) {
  this.factory[kind] = func;
}


</t>
<t tx="ekr.20211016054411.116">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/html',        // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1160">/**
 * Adds a set of node creators to the factory.
 * @param {Object.&lt;NodeFactoryMethod&gt;} maps The set of functions.
 */
public setCreators(maps: {[kind: string]: NodeFactoryMethod}) {
  for (let kind in maps) {
    this.set(kind, maps[kind]);
  }
}


</t>
<t tx="ekr.20211016054411.1161">/**
 * Creates a node for the internal data structure from the factory.
 * @param {string} kind The type of node to be created.
 * @param {any[]} ...rest The arguments for the node.
 * @return {MmlNode} The created node.
 */
public create(kind: string, ...rest: any[]): MmlNode {
  const func = this.factory[kind] || this.factory['node'];
  const node = func(this, rest[0], ...rest.slice(1));
  if (kind === 'node') {
    this.configuration.addNode(rest[0], node);
  }
  return node;
}


</t>
<t tx="ekr.20211016054411.1162">/**
 * @param {string} kind The method for generating a node of given kind.
 */
public get(kind: string) {
  return this.factory[kind];
}

</t>
<t tx="ekr.20211016054411.1163">



/**
 * @fileoverview Node utility methods.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {TextNode, MMLNODE, MmlNode, AbstractMmlNode, AbstractMmlEmptyNode} from '../../core/MmlTree/MmlNode.js';
import {MmlMo} from '../../core/MmlTree/MmlNodes/mo.js';
import {Property, PropertyList} from '../../core/Tree/Node.js';
import {Args} from './Types.js';
import {OperatorDef} from '../../core/MmlTree/OperatorDictionary.js';


namespace NodeUtil {

  const attrs: Map&lt;String, boolean&gt; = new Map([
    ['autoOP', true],
    ['fnOP', true],
    ['movesupsub', true],
    ['subsupOK', true],
    ['texprimestyle', true],
    ['useHeight', true],
    ['variantForm', true],
    ['withDelims', true],
    ['mathaccent', true],
    ['open', true],
    ['close', true]
  ]);


  /**
   * Creates a single character from a unicode hex string.
   * @param {string} code The code.
   * @return {string} The newly created entity.
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1164">export function createEntity(code: string): string  {
  return String.fromCodePoint(parseInt(code, 16));
}


</t>
<t tx="ekr.20211016054411.1165">/**
 * Get the children of the a node.
 * @param {MmlNode} node The node.
 * @return {MMLNODE[]} Its children.
 */
export function getChildren(node: MmlNode): MMLNODE[] {
  return (node.childNodes as MMLNODE[]);
}


</t>
<t tx="ekr.20211016054411.1166">/**
 * Get text content of a node.
 * @param {TextNode} node The node.
 * @return {string} Its text content.
 */
export function getText(node: TextNode): string {
  return node.getText();
}


</t>
<t tx="ekr.20211016054411.1167">/**
 * Append children to a node.
 * @param {MmlNode} node The node.
 * @param {MMLNODE[]} children A list of new children.
 */
export function appendChildren(node: MmlNode, children: MMLNODE[])  {
  for (let child of children) {
    node.appendChild(child);
  }
}


</t>
<t tx="ekr.20211016054411.1168">/**
 * Sets an attribute of a node.
 * @param {MmlNode} node The node.
 * @param {string} attribute An attribute.
 * @param {Args} value The attribute value.
 */
export function setAttribute(node: MmlNode, attribute: string, value: Args) {
  node.attributes.set(attribute, value);
}


</t>
<t tx="ekr.20211016054411.1169">/**
 * Sets a property of a node.
 * @param {MmlNode} node The node.
 * @param {string} property The property.
 * @param {Args} value The property value.
 */
export function setProperty(node: MmlNode, property: string, value: Args) {
  node.setProperty(property, value);
}


</t>
<t tx="ekr.20211016054411.117"></t>
<t tx="ekr.20211016054411.1170">/**
 * Sets properties and attributes of a node.
 * @param {MmlNode} node The node.
 * @param {PropertyList} properties A list of property/attribute value pairs.
 */
export function setProperties(node: MmlNode, properties: PropertyList) {
  for (const name of Object.keys(properties)) {
    let value = properties[name];
    if (name === 'texClass') {
      node.texClass = (value as number);
      node.setProperty(name, value);
    } else if (name === 'movablelimits') {
      node.setProperty('movablelimits', value);
      if (node.isKind('mo') || node.isKind('mstyle')) {
        node.attributes.set('movablelimits', value);
      }
    } else if (name === 'inferred') {
      // ignore
    } else if (attrs.has(name)) {
      node.setProperty(name, value);
    } else {
      node.attributes.set(name, value);
    }
  }
}


</t>
<t tx="ekr.20211016054411.1171">/**
 * Returns the property of a node.
 * @param {MmlNode} node The node.
 * @param {string} property A property name.
 * @return {Property} Value of the property.
 */
export function getProperty(node: MmlNode, property: string): Property  {
  return node.getProperty(property);
}


</t>
<t tx="ekr.20211016054411.1172">/**
 * Returns the attribute of a node.
 * @param {MmlNode} node The node.
 * @param {string} attr A attribute name.
 * @return {Property} Value of the attribute.
 */
export function getAttribute(node: MmlNode, attr: string): Property  {
  return node.attributes.get(attr);
}


</t>
<t tx="ekr.20211016054411.1173">/**
 * Removes a set of properties from a node.
 * @param {MmlNode} node The node.
 * @param {string[]} ...properties  A list of properties.
 */
export function removeProperties(node: MmlNode, ...properties: string[]) {
  node.removeProperty(...properties);
}


</t>
<t tx="ekr.20211016054411.1174">/**
 * Returns a child node at a given position.
 * @param {MmlNode} node The node.
 * @param {number} position The position of the child.
 * @return {MMLNODE} The child node at position.
 */
export function getChildAt(node: MmlNode, position: number): MMLNODE {
  return (node.childNodes[position] as MMLNODE);
}


</t>
<t tx="ekr.20211016054411.1175">/**
 * Set node child at position.
 * @param {MmlNode} node The node.
 * @param {number} position The position of the new child.
 * @param {MmlNode} child The new child.
 */
export function setChild(node: MmlNode, position: number, child: MmlNode) {
  let children = node.childNodes;
  children[position] = child;
  if (child) {
    child.parent = node;
  }
}


</t>
<t tx="ekr.20211016054411.1176">/**
 * Copies children between nodes.
 * @param {MmlNode} oldNode The source node.
 * @param {MmlNode} newNode The target node.
 */
export function copyChildren(oldNode: MmlNode, newNode: MmlNode) {
  let children = oldNode.childNodes as (TextNode | MmlNode)[];
  for (let i = 0; i &lt; children.length; i++) {
    setChild(newNode, i, children[i]);
  }
}


</t>
<t tx="ekr.20211016054411.1177">/**
 * Copies attributes between nodes.
 * @param {MmlNode} oldNode The source node.
 * @param {MmlNode} newNode The target node.
 */
export function copyAttributes(oldNode: MmlNode, newNode: MmlNode) {
  newNode.attributes = oldNode.attributes;
  setProperties(newNode, oldNode.getAllProperties());
}


</t>
<t tx="ekr.20211016054411.1178">/**
 * Checks if node is of a particular type.
 * @param {MmlNode} node The node.
 * @param {string} kind The type to check.
 * @return {boolean} True if node is of the given type.
 */
export function isType(node: MmlNode, kind: string): boolean  {
  return node.isKind(kind);
}


</t>
<t tx="ekr.20211016054411.1179">/**
 * Checks if the node is embellished.
 * @param {MmlNode} node The node.
 * @return {boolean} True if node is embellished.
 */
export function isEmbellished(node: MmlNode): boolean {
  return node.isEmbellished;
}


</t>
<t tx="ekr.20211016054411.118">
import './lib/mathtools.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1180">/**
 * Gets the texclass of a node.
 * @param {MmlNode} node The node.
 * @return {number} Its texclass.
 */
export function getTexClass(node: MmlNode): number  {
  return node.texClass;
}


</t>
<t tx="ekr.20211016054411.1181">/**
 * Gets the mo element at the core of the node.
 * @param {MmlNode} node The node.
 * @return {MmlNode} The MO node at the core.
 */
export function getCoreMO(node: MmlNode): MmlNode  {
  return node.coreMO();
}


</t>
<t tx="ekr.20211016054411.1182">/**
 * Checks if an object is a node.
 * @param {any} item The object.
 * @return {boolean} True if it is a node.
 */
export function isNode(item: any): boolean  {
  return item instanceof AbstractMmlNode || item instanceof AbstractMmlEmptyNode;
}


</t>
<t tx="ekr.20211016054411.1183">/**
 * Checks if the node is an inferred mrow.
 * @param {MmlNode} node The node.
 * @return {boolean} True if the node is an inferred mrow.
 */
export function isInferred(node: MmlNode): boolean {
  return node.isInferred;
}


</t>
<t tx="ekr.20211016054411.1184">/**
 * Gets the operator definition of a node.
 * @param {MmlNode} node The node.
 * @return {OperatorDef} If node is an MO returns the operator definition. O/w
 *    null.
 */
  export function getForm(node: MmlNode): OperatorDef {
    if (!isType(node, 'mo')) {
      return null;
    }
    let mo = node as MmlMo;
    let forms = mo.getForms();
    for (let form of forms) {
      let symbol = MmlMo.OPTABLE[form][mo.getText()];
      if (symbol) {
        return symbol;
      }
    }
    return null;
  }

}

export default NodeUtil;
</t>
<t tx="ekr.20211016054411.1185">



/**
 * @fileoverview Base methods for TeX Parsing.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Symbol} from './Symbol.js';
import TexParser from './TexParser.js';
import NodeUtil from './NodeUtil.js';
import {TexConstant} from './TexConstants.js';
import {MmlNode} from '../../core/MmlTree/MmlNode.js';
import ParseUtil from './ParseUtil.js';


namespace ParseMethods {

  /**
   * Handle a variable (a single letter or multi-letter if allowed).
   * @param {TexParser} parser The current tex parser.
   * @param {string} c The letter to transform into an mi.
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1186">export function variable(parser: TexParser, c: string) {
  // @test Identifier Font
  const def = ParseUtil.getFontDef(parser);
  if (parser.stack.env.multiLetterIdentifiers &amp;&amp; parser.stack.env.font !== '') {
    c = parser.string.substr(parser.i - 1).match(/^[a-z]+/i)[0];
    parser.i += c.length - 1;
    if (def.mathvariant === TexConstant.Variant.NORMAL) {
      def.autoOP = false;
    }
  }
  // @test Identifier
  const node = parser.create('token', 'mi', def, c);
  parser.Push(node);
}


</t>
<t tx="ekr.20211016054411.1187">/**
 * Handle a number (a sequence of digits, with decimal separator, etc.).
 * @param {TexParser} parser The current tex parser.
 * @param {string} c The first character of a number than can be parsed with
 *     the digits pattern.
 */
export function digit(parser: TexParser, c: string) {
  let mml: MmlNode;
  const pattern = parser.configuration.options['digits'];
  const n = parser.string.slice(parser.i - 1).match(pattern);
  // @test Integer Font
  const def = ParseUtil.getFontDef(parser);
  if (n) {
    // @test Integer, Number, Decimal (European)
    mml = parser.create('token', 'mn', def, n[0].replace(/[{}]/g, ''));
    parser.i += n[0].length - 1;
  } else {
    // @test Decimal Point, Decimal Point European
    mml = parser.create('token', 'mo', def, c);
  }
  parser.Push(mml);
}

</t>
<t tx="ekr.20211016054411.1188">/**
 * Lookup a control-sequence and process it.
 * @param {TexParser} parser The current tex parser.
 * @param {string} c The string '\'.
 */
export function controlSequence(parser: TexParser, _c: string) {
  const name = parser.GetCS();
  parser.parse('macro', [parser, name]);
}


</t>
<t tx="ekr.20211016054411.1189">/**
 * Handle normal mathchar (as an mi).
 * @param {TexParser} parser The current tex parser.
 * @param {Symbol} mchar The parsed symbol.
 */
export function mathchar0mi(parser: TexParser, mchar: Symbol) {
  const def = mchar.attributes || {mathvariant: TexConstant.Variant.ITALIC};
  // @test Greek
  const node = parser.create('token', 'mi', def, mchar.char);
  parser.Push(node);
}

</t>
<t tx="ekr.20211016054411.119">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/mathtools',   // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex/extensions/ams/lib',
    'components/src/input/tex/extensions/newcommand/lib',
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1190">/**
 * Handle normal mathchar (as an mo).
 * @param {TexParser} parser The current tex parser.
 * @param {Symbol} mchar The parsed symbol.
 */
export function mathchar0mo(parser: TexParser, mchar: Symbol) {
  const def = mchar.attributes || {};
  def['stretchy'] = false;
  // @test Large Set
  const node = parser.create('token', 'mo', def, mchar.char);
  NodeUtil.setProperty(node, 'fixStretchy', true);
  parser.configuration.addNode('fixStretchy', node);
  // PROBLEM: Attributes stop working when Char7 are explicitly set.
  parser.Push(node);
}

</t>
<t tx="ekr.20211016054411.1191">/**
 * Handle mathchar in current family.
 * @param {TexParser} parser The current tex parser.
 * @param {Symbol} mchar The parsed symbol.
 */
export function mathchar7(parser: TexParser, mchar: Symbol) {
  const def = mchar.attributes || {mathvariant: TexConstant.Variant.NORMAL};
  if (parser.stack.env['font']) {
    // @test MathChar7 Single Font
    def['mathvariant'] = parser.stack.env['font'];
  }
  // @test MathChar7 Single, MathChar7 Operator, MathChar7 Multi
  const node = parser.create('token', 'mi', def, mchar.char);
  parser.Push(node);
}

</t>
<t tx="ekr.20211016054411.1192">/**
 * Handle delimiter.
 * @param {TexParser} parser The current tex parser.
 * @param {Symbol} delim The parsed delimiter symbol.
 */
export function delimiter(parser: TexParser, delim: Symbol) {
  let def = delim.attributes || {};
  // @test Fenced2, Delimiter (AMS)
  def = Object.assign({fence: false, stretchy: false}, def);
  const node = parser.create('token', 'mo', def, delim.char);
  parser.Push(node);
}


</t>
<t tx="ekr.20211016054411.1193">/**
 * Parse an environment.
 * @param {TexParser} parser The current tex parser.
 * @param {string} env The name of the environment.
 * @param {Function} func The parse method for the environment.
 * @param {any[]} args A list of additional arguments.
 */
  export function environment(parser: TexParser, env: string, func: Function, args: any[]) {
    const end = args[0];
    let mml = parser.itemFactory.create('begin').setProperties({name: env, end: end});
    mml = func(parser, mml, ...args.slice(1));
    parser.Push(mml);
  }

}

export default ParseMethods;
</t>
<t tx="ekr.20211016054411.1194">



/**
 * @fileoverview Factory generating maps to keep options for the TeX parser.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import StackItemFactory from './StackItemFactory.js';
import {Tags} from './Tags.js';
import {SubHandlers} from './MapHandler.js';
import {NodeFactory} from './NodeFactory.js';
import NodeUtil from './NodeUtil.js';
import {MmlNode} from '../../core/MmlTree/MmlNode.js';
import TexParser from './TexParser.js';
import {defaultOptions, OptionList} from '../../util/Options.js';
import {ParserConfiguration} from './Configuration.js';


/**
 * @class
 */
export default class ParseOptions {

  /**
   * A set of sub handlers
   * @type {SubHandlers}
   */
  public handlers: SubHandlers;

  /**
   * A set of options, mapping names to string or boolean values.
   * @type {OptionList}
   */
  public options: OptionList = {};

  /**
   * The current item factory.
   * @type {StackItemFactory}
   */
  public itemFactory: StackItemFactory;

  /**
   * The current node factory.
   * @type {NodeFactory}
   */
  public nodeFactory: NodeFactory;

  /**
   * The current tagging object.
   * @type {Tags}
   */
  public tags: Tags;

  /**
   * Storage area for parser-specific package data (indexed by package name)
   * @type {Map&lt;string, any&gt;}
   */
  public packageData: Map&lt;string, any&gt; = new Map();

  // Fields for ephemeral options, i.e., options that will be cleared for each
  // run of the parser.
  /**
   * Stack of previous tex parsers. This is used to keep track of parser
   * settings when expressions are recursively parsed.
   * @type {TexParser[]}
   */
  public parsers: TexParser[] = [];


  /**
   * The current root node.
   * @type {MmlNode}
   */
  public root: MmlNode = null;

  /**
   * List of node lists saved with respect to some property or their kind.
   * @type {{[key: string]: MmlNode[]}}
   */
  public nodeLists: {[key: string]: MmlNode[]} = {};

  /**
   * Error state of the parser.
   * @type {boolean}
   */
  public error: boolean = false;



  /**
   * @constructor
   * @param {Configuration} configuration Configuration object of the current
   *     TeX parser.
   * @param {OptionList[]} options   [TeX options, Tag options, {packages}]
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1195">public constructor(configuration: ParserConfiguration, options: OptionList[] = []) {
  this.handlers = configuration.handlers;
  // Add node factory methods from packages.
  this.nodeFactory = new NodeFactory();
  this.nodeFactory.configuration = this;
  this.nodeFactory.setCreators(configuration.nodes);
  // Add stackitems from packages.
  this.itemFactory = new StackItemFactory(configuration.items);
  this.itemFactory.configuration = this;
  // Set default options for parser from packages and for tags.
  defaultOptions(this.options, ...options);
  defaultOptions(this.options, configuration.options);
}


// Methods for dealing with ephemeral fields.
</t>
<t tx="ekr.20211016054411.1196">/**
 * Pushes a new tex parser onto the stack.
 * @param {TexParser} parser The new parser.
 */
public pushParser(parser: TexParser) {
  this.parsers.unshift(parser);
}


</t>
<t tx="ekr.20211016054411.1197">/**
 * Pops a parser of the tex parser stack.
 */
public popParser() {
  this.parsers.shift();
}


/**
 * @return {TexParser} The currently active tex parser.
 */
public get parser(): TexParser {
  return this.parsers[0];
}

</t>
<t tx="ekr.20211016054411.1198">/**
 * Clears all the ephemeral options.
 */
public clear() {
  this.parsers = [];
  this.root = null;
  this.nodeLists = {};
  this.error = false;
  this.tags.resetTag();
}


</t>
<t tx="ekr.20211016054411.1199">/**
 * Saves a tree node to a list of nodes for post processing.
 * @param {string} property The property name that will be used for
 *     postprocessing.
 * @param {MmlNode} node The node to save.
 */
public addNode(property: string, node: MmlNode) {
  let list = this.nodeLists[property];
  if (!list) {
    list = this.nodeLists[property] = [];
  }
  list.push(node);
  if (node.kind !== property) {
    //
    // If the list is not just for its kind, record that it is in this list
    //   so that if it is copied, the copy can also be added to the list.
    //
    const inlists = (NodeUtil.getProperty(node, 'in-lists') as string || '');
    const lists = (inlists ? inlists.split(/,/) : []).concat(property).join(',');
    NodeUtil.setProperty(node, 'in-lists', lists);
  }
}


</t>
<t tx="ekr.20211016054411.12">


export const dependencies = {
  'a11y/semantic-enrich': ['input/mml', '[sre]'],
  'a11y/complexity': ['a11y/semantic-enrich'],
  'a11y/explorer': ['a11y/semantic-enrich', 'ui/menu'],
  '[mml]/mml3': ['input/mml'],
  '[tex]/all-packages': ['input/tex-base'],
  '[tex]/action': ['input/tex-base', '[tex]/newcommand'],
  '[tex]/autoload': ['input/tex-base', '[tex]/require'],
  '[tex]/ams': ['input/tex-base'],
  '[tex]/amscd': ['input/tex-base'],
  '[tex]/bbox': ['input/tex-base', '[tex]/ams', '[tex]/newcommand'],
  '[tex]/boldsymbol': ['input/tex-base'],
  '[tex]/braket': ['input/tex-base'],
  '[tex]/bussproofs': ['input/tex-base'],
  '[tex]/cancel': ['input/tex-base', '[tex]/enclose'],
  '[tex]/centernot': ['input/tex-base'],
  '[tex]/color': ['input/tex-base'],
  '[tex]/colorv2': ['input/tex-base'],
  '[tex]/colortbl': ['input/tex-base', '[tex]/color'],
  '[tex]/configmacros': ['input/tex-base', '[tex]/newcommand'],
  '[tex]/enclose': ['input/tex-base'],
  '[tex]/extpfeil': ['input/tex-base', '[tex]/newcommand', '[tex]/ams'],
  '[tex]/html': ['input/tex-base'],
  '[tex]/mathtools': ['input/tex-base', '[tex]/newcommand', '[tex]/ams'],
  '[tex]/mhchem': ['input/tex-base', '[tex]/ams'],
  '[tex]/newcommand': ['input/tex-base'],
  '[tex]/noerrors': ['input/tex-base'],
  '[tex]/noundefined': ['input/tex-base'],
  '[tex]/physics': ['input/tex-base'],
  '[tex]/require': ['input/tex-base'],
  '[tex]/setoptions': ['input/tex-base'],
  '[tex]/tagformat': ['input/tex-base'],
  '[tex]/textcomp': ['input/tex-base', '[tex]/textmacros'],
  '[tex]/textmacros': ['input/tex-base'],
  '[tex]/unicode': ['input/tex-base'],
  '[tex]/verb': ['input/tex-base'],
  '[tex]/cases': ['[tex]/empheq'],
  '[tex]/empheq': ['input/tex-base', '[tex]/ams']
};

export const paths = {
  tex: '[mathjax]/input/tex/extensions',
  mml: '[mathjax]/input/mml/extensions',
  sre: '[mathjax]/sre/' + (typeof window === 'undefined' ? 'sre-node' : 'sre_browser')
};

const allPackages = [
  '[tex]/action',
  '[tex]/ams',
  '[tex]/amscd',
  '[tex]/bbox',
  '[tex]/boldsymbol',
  '[tex]/braket',
  '[tex]/bussproofs',
  '[tex]/cancel',
  '[tex]/centernot',
  '[tex]/color',
  '[tex]/colortbl',
  '[tex]/configmacros',
  '[tex]/enclose',
  '[tex]/extpfeil',
  '[tex]/html',
  '[tex]/mathtools',
  '[tex]/mhchem',
  '[tex]/newcommand',
  '[tex]/noerrors',
  '[tex]/noundefined',
  '[tex]/physics',
  '[tex]/require',
  '[tex]/setoptions',
  '[tex]/tagformat',
  '[tex]/textcomp',
  '[tex]/textmacros',
  '[tex]/unicode',
  '[tex]/verb',
  '[tex]/cases',
  '[tex]/empheq'
];

export const provides = {
  'startup': ['loader'],
  'input/tex': [
    'input/tex-base',
    '[tex]/ams',
    '[tex]/newcommand',
    '[tex]/noundefined',
    '[tex]/require',
    '[tex]/autoload',
    '[tex]/configmacros'
  ],
  'input/tex-full': [
    'input/tex-base',
    '[tex]/all-packages',
    ...allPackages
  ],
  '[tex]/all-packages': allPackages
};

//
//  Compatibility with v3.0 names for TeX extensions
//
export const compatibility = {
  '[tex]/amsCd': '[tex]/amscd',
  '[tex]/colorV2': '[tex]/colorv2',
  '[tex]/configMacros': '[tex]/configmacros',
  '[tex]/tagFormat': '[tex]/tagformat'
};
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.120"></t>
<t tx="ekr.20211016054411.1200">/**
 * Gets a saved node list with respect to a given property. It first ensures
 * that all the nodes are "live", i.e., actually live in the current
 * tree. Sometimes nodes are created, saved in the node list but discarded
 * later in the parsing. These will be filtered out here.
 *
 * NB: Do not use this method before the root field of the options is
 * set. Otherwise, your node list will always be empty!
 * @param {string} property The property for which to retrieve the node list.
 */
public getList(property: string) {
  let list = this.nodeLists[property] || [];
  let result = [];
  for (let node of list) {
    if (this.inTree(node)) {
      result.push(node);
    }
  }
  this.nodeLists[property] = result;
  return result;
}


</t>
<t tx="ekr.20211016054411.1201">/**
 * Remove a list of nodes from a saved list (e.g., when a filter removes the
 * node from the DOM, like for munderover =&gt; munder).
 *
 * @param {string} property The property from which to remove nodes.
 * @param {MmlNode[]} nodes The nodes to remove.
 */
public removeFromList(property: string, nodes: MmlNode[]) {
  const list = this.nodeLists[property] || [];
  for (const node of nodes) {
    const i = list.indexOf(node);
    if (i &gt;= 0) {
      list.splice(i, 1);
    }
  }
}


</t>
<t tx="ekr.20211016054411.1202">/**
 * Tests if the node is in the tree spanned by the current root node.
 * @param {MmlNode} node The node to test.
 */
  private inTree(node: MmlNode) {
    while (node &amp;&amp; node !== this.root) {
      node = node.parent;
    }
    return !!node;
  }

}
</t>
<t tx="ekr.20211016054411.1203">



/**
 * @fileoverview A namespace for utility functions for the TeX Parser.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {TEXCLASS, MmlNode} from '../../core/MmlTree/MmlNode.js';
import {EnvList} from './StackItem.js';
import {ArrayItem} from './base/BaseItems.js';
import ParseOptions from './ParseOptions.js';
import NodeUtil from './NodeUtil.js';
import TexParser from './TexParser.js';
import TexError from './TexError.js';
import {entities} from '../../util/Entities.js';
import {MmlMunderover} from '../../core/MmlTree/MmlNodes/munderover.js';


namespace ParseUtil {

  // TODO (VS): Combine some of this with lengths in util.
  const emPerInch = 7.2;
  const pxPerInch = 72;
  // Note, the following are TeX CM font values.
  const UNIT_CASES: {[key: string]: ((m: number) =&gt; number)}  = {
    'em': m =&gt; m,
    'ex': m =&gt; m * .43,
    'pt': m =&gt; m / 10,                    // 10 pt to an em
    'pc': m =&gt; m * 1.2,                   // 12 pt to a pc
    'px': m =&gt; m * emPerInch / pxPerInch,
    'in': m =&gt; m * emPerInch,
    'cm': m =&gt; m * emPerInch / 2.54, // 2.54 cm to an inch
    'mm': m =&gt; m * emPerInch / 25.4, // 10 mm to a cm
    'mu': m =&gt; m / 18,
  };
  const num = '([-+]?([.,]\\d+|\\d+([.,]\\d*)?))';
  const unit = '(pt|em|ex|mu|px|mm|cm|in|pc)';
  const dimenEnd = RegExp('^\\s*' + num + '\\s*' + unit + '\\s*$');
  const dimenRest = RegExp('^\\s*' + num + '\\s*' + unit + ' ?');


  /**
   * Matches for a dimension argument.
   * @param {string} dim The argument.
   * @param {boolean} rest Allow for trailing garbage in the dimension string.
   * @return {[string, string, number]} The match result as (Anglosaxon) value,
   *     unit name, length of matched string. The latter is interesting in the
   *     case of trailing garbage.
   */
  export function matchDimen(
    dim: string, rest: boolean = false): [string, string, number] {
      let match = dim.match(rest ? dimenRest : dimenEnd);
      return match ?
        muReplace([match[1].replace(/,/, '.'), match[4], match[0].length]) :
        [null, null, 0];
  }


  /**
   * Transforms mu dimension to em if necessary.
   * @param {[string, string, number]} [value, unit, length] The dimension triple.
   * @return {[string, string, number]} [value, unit, length] The transformed triple.
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1204">function muReplace([value, unit, length]: [string, string, number]): [string, string, number] {
  if (unit !== 'mu') {
    return [value, unit, length];
  }
  let em = Em(UNIT_CASES[unit](parseFloat(value || '1')));
  return [em.slice(0, -2), 'em', length];
}


</t>
<t tx="ekr.20211016054411.1205">/**
 * Convert a dimension string into standard em dimension.
 * @param {string} dim The attribute string.
 * @return {number} The numerical value.
 */
export function dimen2em(dim: string): number {
  let [value, unit] = matchDimen(dim);
  let m = parseFloat(value || '1');
  let func = UNIT_CASES[unit];
  return func ? func(m) : 0;
}


</t>
<t tx="ekr.20211016054411.1206">/**
 * Turns a number into an em value.
 * @param {number} m The number.
 * @return {string} The em dimension string.
 */
export function Em(m: number): string {
  if (Math.abs(m) &lt; .0006) {
    return '0em';
  }
  return m.toFixed(3).replace(/\.?0+$/, '') + 'em';
}


</t>
<t tx="ekr.20211016054411.1207">/**
 * Takes an array of numbers and returns a space-separated string of em values.
 * @param {number[]} W  The widths to be turned into em values
 * @return {string}     The numbers with em units, separated by spaces.
 */
export function cols(...W: number[]): string {
  return W.map(n =&gt; Em(n)).join(' ');
}


/**
 * Create an mrow that has stretchy delimiters at either end, as needed
 * @param {ParseOptions} configuration Current parse options.
 * @param {string} open The opening fence.
 * @param {MmlNode} mml The enclosed node.
 * @param {string} close The closing fence.
 * @param {string=} big Bigg command.
 */
export function fenced(configuration: ParseOptions, open: string, mml: MmlNode,
                       close: string, big: string = '', color: string = '') {
  // @test Fenced, Fenced3
  let nf = configuration.nodeFactory;
  let mrow = nf.create('node', 'mrow', [],
                       {open: open, close: close, texClass: TEXCLASS.INNER});
  let mo;
  if (big) {
    mo = new TexParser('\\' + big + 'l' + open, configuration.parser.stack.env, configuration).mml();
  } else {
    let openNode = nf.create('text', open);
    mo = nf.create('node', 'mo', [],
                   {fence: true, stretchy: true, symmetric: true, texClass: TEXCLASS.OPEN},
                   openNode);
  }
  NodeUtil.appendChildren(mrow, [mo, mml]);
  if (big) {
    mo = new TexParser('\\' + big + 'r' + close, configuration.parser.stack.env, configuration).mml();
  } else {
    let closeNode = nf.create('text', close);
    mo = nf.create('node', 'mo', [],
                   {fence: true, stretchy: true, symmetric: true, texClass: TEXCLASS.CLOSE},
                   closeNode);
  }
  color &amp;&amp; mo.attributes.set('mathcolor', color);
  NodeUtil.appendChildren(mrow, [mo]);
  return mrow;
}


/**
 *  Create an mrow that has \\mathchoice using \\bigg and \\big for the delimiters.
 * @param {ParseOptions} configuration The current parse options.
 * @param {string} open The opening fence.
 * @param {MmlNode} mml The enclosed node.
 * @param {string} close The closing fence.
 * @return {MmlNode} The mrow node.
 */
export function fixedFence(configuration: ParseOptions, open: string,
                           mml: MmlNode, close: string): MmlNode {
  // @test Choose, Over With Delims, Above with Delims
  let mrow = configuration.nodeFactory.create('node',
    'mrow', [], {open: open, close: close, texClass: TEXCLASS.ORD});
  if (open) {
    NodeUtil.appendChildren(mrow, [mathPalette(configuration, open, 'l')]);
  }
  if (NodeUtil.isType(mml, 'mrow')) {
    NodeUtil.appendChildren(mrow, NodeUtil.getChildren(mml));
  } else {
    NodeUtil.appendChildren(mrow, [mml]);
  }
  if (close) {
    NodeUtil.appendChildren(mrow, [mathPalette(configuration, close, 'r')]);
  }
  return mrow;
}


/**
 * Generates a mathchoice element for fences. These will be resolved later,
 * once the position, and therefore size, of the of the fenced expression is
 * known.
 * @param {ParseOptions} configuration The current parse otpions.
 * @param {string} fence The fence.
 * @param {string} side The side of the fence (l or r).
 * @return {MmlNode} The mathchoice node.
 */
export function mathPalette(configuration: ParseOptions, fence: string,
                            side: string): MmlNode  {
  if (fence === '{' || fence === '}') {
    fence = '\\' + fence;
  }
  let D = '{\\bigg' + side + ' ' + fence + '}';
  let T = '{\\big' + side + ' ' + fence + '}';
  return new TexParser('\\mathchoice' + D + T + T + T, {}, configuration).mml();
}


</t>
<t tx="ekr.20211016054411.1208">/**
 * If the initial child, skipping any initial space or
 * empty braces (TeXAtom with child being an empty inferred row),
 * is an &lt;mo&gt;, precede it by an empty &lt;mi&gt; to force the &lt;mo&gt; to
 * be infix.
 * @param {ParseOptions} configuration The current parse options.
 * @param {MmlNode[]} nodes The row of nodes to scan for an initial &lt;mo&gt;
 */
export function fixInitialMO(configuration: ParseOptions, nodes: MmlNode[]) {
  for (let i = 0, m = nodes.length; i &lt; m; i++) {
    let child = nodes[i];
    if (child &amp;&amp; (!NodeUtil.isType(child, 'mspace') &amp;&amp;
                  (!NodeUtil.isType(child, 'TeXAtom') ||
                   (NodeUtil.getChildren(child)[0] &amp;&amp;
                    NodeUtil.getChildren(NodeUtil.getChildren(child)[0]).length)))) {
      if (NodeUtil.isEmbellished(child) ||
          (NodeUtil.isType(child, 'TeXAtom') &amp;&amp; NodeUtil.getTexClass(child) === TEXCLASS.REL)) {
        let mi = configuration.nodeFactory.create('node', 'mi');
        nodes.unshift(mi);
      }
      break;
    }
  }
}


/**
 * Break up a string into text and math blocks.
 * @param {TexParser} parser The calling parser.
 * @param {string} text The text in the math expression to parse.
 * @param {number|string=} level The scriptlevel.
 * @param {string} font The mathvariant to use
 * @return {MmlNode[]} The nodes corresponding to the internal math expression.
 */
export function internalMath(parser: TexParser, text: string,
                             level?: number | string, font?: string): MmlNode[] {
  if (parser.configuration.options.internalMath) {
    return parser.configuration.options.internalMath(parser, text, level, font);
  }
  let mathvariant = font || parser.stack.env.font;
  let def = (mathvariant ? {mathvariant} : {});
  let mml: MmlNode[] = [], i = 0, k = 0, c, node, match = '', braces = 0;
  if (text.match(/\\?[${}\\]|\\\(|\\(eq)?ref\s*\{/)) {
    while (i &lt; text.length) {
      c = text.charAt(i++);
      if (c === '$') {
        if (match === '$' &amp;&amp; braces === 0) {
          // @test Interspersed Text
          node = parser.create(
            'node', 'TeXAtom',
            [(new TexParser(text.slice(k, i - 1), {}, parser.configuration)).mml()]);
          mml.push(node);
          match = '';
          k = i;
        } else if (match === '') {
          // @test Interspersed Text
          if (k &lt; i - 1) {
            // @test Interspersed Text
            mml.push(internalText(parser, text.slice(k, i - 1), def));
          }
          match = '$';
          k = i;
        }
      } else if (c === '{' &amp;&amp; match !== '') {
        // @test Mbox Mbox, Mbox Math
        braces++;
      } else if (c === '}') {
        // @test Mbox Mbox, Mbox Math
        if (match === '}' &amp;&amp; braces === 0) {
          // @test Mbox Eqref, Mbox Math
          let atom = (new TexParser(text.slice(k, i), {}, parser.configuration)).mml();
          node = parser.create('node', 'TeXAtom', [atom], def);
          mml.push(node);
          match = '';
          k = i;
        } else if (match !== '') {
          // @test Mbox Math, Mbox Mbox
          if (braces) {
            // @test Mbox Math, Mbox Mbox
            braces--;
          }
        }
      } else if (c === '\\') {
        // @test Mbox Eqref, Mbox CR
        if (match === '' &amp;&amp; text.substr(i).match(/^(eq)?ref\s*\{/)) {
          // @test Mbox Eqref
          let len = ((RegExp as any)['$&amp;'] as string).length;
          if (k &lt; i - 1) {
            // @test Mbox Eqref
            mml.push(internalText(parser, text.slice(k, i - 1), def));
          }
          match = '}';
          k = i - 1;
          i += len;
        } else {
          // @test Mbox CR, Mbox Mbox
          c = text.charAt(i++);
          if (c === '(' &amp;&amp; match === '') {
            // @test Mbox Internal Display
            if (k &lt; i - 2) {
              // @test Mbox Internal Display
              mml.push(internalText(parser, text.slice(k, i - 2), def));
            }
            match = ')'; k = i;
          } else if (c === ')' &amp;&amp; match === ')' &amp;&amp; braces === 0) {
            // @test Mbox Internal Display
            node = parser.create(
              'node', 'TeXAtom',
              [(new TexParser(text.slice(k, i - 2), {}, parser.configuration)).mml()]);
            mml.push(node);
            match = '';
            k = i;
          } else if (c.match(/[${}\\]/) &amp;&amp; match === '')  {
            // @test Mbox CR
            i--;
            text = text.substr(0, i - 1) + text.substr(i); // remove \ from \$, \{, \}, or \\
          }
        }
      }
    }
    if (match !== '') {
      // @test Internal Math Error
      throw new TexError('MathNotTerminated', 'Math not terminated in text box');
    }
  }
  if (k &lt; text.length) {
    // @test Interspersed Text, Mbox Mbox
    mml.push(internalText(parser, text.slice(k), def));
  }
  if (level != null) {
    // @test Label, Fbox, Hbox
    mml = [parser.create('node', 'mstyle', mml, {displaystyle: false, scriptlevel: level})];
  } else if (mml.length &gt; 1) {
    // @test Interspersed Text
    mml = [parser.create('node', 'mrow', mml)];
  }
  return mml;
}


</t>
<t tx="ekr.20211016054411.1209">/**
 * Parses text internal to boxes or labels.
 * @param {TexParser} parser The current tex parser.
 * @param {string} text The text to parse.
 * @param {EnvList} def The attributes of the text node.
 * @return {MmlNode} The text node.
 */
export function internalText(parser: TexParser, text: string, def: EnvList): MmlNode {
  // @test Label, Fbox, Hbox
  text = text.replace(/^\s+/, entities.nbsp).replace(/\s+$/, entities.nbsp);
  let textNode = parser.create('text', text);
  return parser.create('node', 'mtext', [], def, textNode);
}

</t>
<t tx="ekr.20211016054411.121">
import './lib/mhchem.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1210">/**
 * Create an munderover node with the given script position.
 * @param {TexParser} parser   The current TeX parser.
 * @param {MmlNode} base       The base node.
 * @param {MmlNode} script     The under- or over-script.
 * @param {string} pos         Either 'over' or 'under'.
 * @param {boolean} stack      True if super- or sub-scripts should stack.
 * @return {MmlNode}           The generated node (MmlMunderover or TeXAtom)
 */
export function underOver(parser: TexParser, base: MmlNode, script: MmlNode, pos: string, stack: boolean): MmlNode {
  // @test Overline
  ParseUtil.checkMovableLimits(base);
  if (NodeUtil.isType(base, 'munderover') &amp;&amp; NodeUtil.isEmbellished(base)) {
    // @test Overline Limits
    NodeUtil.setProperties(NodeUtil.getCoreMO(base), {lspace: 0, rspace: 0});
    const mo = parser.create('node', 'mo', [], {rspace: 0});
    base = parser.create('node', 'mrow', [mo, base]);
    // TODO? add an empty &lt;mi&gt; so it's not embellished any more
  }
  const mml = parser.create('node', 'munderover', [base]) as MmlMunderover;
  NodeUtil.setChild(mml, pos === 'over' ?  mml.over : mml.under, script);
  let node: MmlNode = mml;
  if (stack) {
    // @test Overbrace 1 2 3, Underbrace, Overbrace Op 1 2
    node = parser.create('node', 'TeXAtom', [mml], {texClass: TEXCLASS.OP, movesupsub: true});
  }
  NodeUtil.setProperty(node, 'subsupOK', true);
  return node;
}

</t>
<t tx="ekr.20211016054411.1211">/**
 * Set movablelimits to false if necessary.
 * @param {MmlNode} base   The base node being tested.
 */
export function checkMovableLimits(base: MmlNode) {
  const symbol = (NodeUtil.isType(base, 'mo') ? NodeUtil.getForm(base) : null);
  if (NodeUtil.getProperty(base, 'movablelimits') || (symbol &amp;&amp; symbol[3] &amp;&amp; symbol[3].movablelimits)) {
    // @test Overline Sum
    NodeUtil.setProperties(base, {movablelimits: false});
  }
}

</t>
<t tx="ekr.20211016054411.1212">/**
 * Trim spaces from a string.
 * @param {string} text The string to clean.
 * @return {string} The string with leading and trailing whitespace removed.
 */
export function trimSpaces(text: string): string {
  if (typeof(text) !== 'string') {
    return text;
  }
  let TEXT = text.trim();
  if (TEXT.match(/\\$/) &amp;&amp; text.match(/ $/)) {
    TEXT += ' ';
  }
  return TEXT;
}


</t>
<t tx="ekr.20211016054411.1213">/**
 * Sets alignment in array definitions.
 * @param {ArrayItem} array The array item.
 * @param {string} align The alignment string.
 * @return {ArrayItem} The altered array item.
 */
export function setArrayAlign(array: ArrayItem, align: string): ArrayItem {
  // @test Array1, Array2, Array Test
  align = ParseUtil.trimSpaces(align || '');
  if (align === 't') {
    array.arraydef.align = 'baseline 1';
  } else if (align === 'b') {
    array.arraydef.align = 'baseline -1';
  } else if (align === 'c') {
    array.arraydef.align = 'axis';
  } else if (align) {
    array.arraydef.align = align;
  } // FIXME: should be an error?
  return array;
}


/**
 * Replace macro parameters with their values.
 * @param {TexParser} parser The current TeX parser.
 * @param {string[]} args A list of arguments for macro parameters.
 * @param {string} str The macro parameter string.
 * @return {string} The string with all parameters replaced by arguments.
 */
export function substituteArgs(parser: TexParser, args: string[],
                               str: string): string {
  let text = '';
  let newstring = '';
  let i = 0;
  while (i &lt; str.length) {
    let c = str.charAt(i++);
    if (c === '\\') {
      text += c + str.charAt(i++);
    }
    else if (c === '#') {
      c = str.charAt(i++);
      if (c === '#') {
        text += c;
      } else {
        if (!c.match(/[1-9]/) || parseInt(c, 10) &gt; args.length) {
          throw new TexError('IllegalMacroParam',
                              'Illegal macro parameter reference');
        }
        newstring = addArgs(parser, addArgs(parser, newstring, text),
                            args[parseInt(c, 10) - 1]);
        text = '';
      }
    } else {
      text += c;
    }
  }
  return addArgs(parser, newstring, text);
}


</t>
<t tx="ekr.20211016054411.1214">/**
 * Adds a new expanded argument to an already macro parameter string.  Makes
 * sure that macros are followed by a space if their names could accidentally
 * be continued into the following text.
 * @param {TexParser} parser The current TeX parser.
 * @param {string} s1 The already expanded string.
 * @param {string} s2 The string to add.
 * @return {string} The combined string.
 */
export function addArgs(parser: TexParser, s1: string, s2: string): string {
  if (s2.match(/^[a-z]/i) &amp;&amp; s1.match(/(^|[^\\])(\\\\)*\\[a-z]+$/i)) {
    s1 += ' ';
  }
  if (s1.length + s2.length &gt; parser.configuration.options['maxBuffer']) {
    throw new TexError('MaxBufferSize',
                        'MathJax internal buffer size exceeded; is there a' +
                        ' recursive macro call?');
  }
  return s1 + s2;
}

</t>
<t tx="ekr.20211016054411.1215">/**
 * Report an error if there are too many macro substitutions.
 * @param {TexParser} parser The current TeX parser.
 * @param {boolean} isMacro  True if we are substituting a macro, false for environment.
 */
export function checkMaxMacros(parser: TexParser, isMacro: boolean = true) {
  if (++parser.macroCount &lt;= parser.configuration.options['maxMacros']) {
    return;
  }
  if (isMacro) {
    throw new TexError('MaxMacroSub1',
                       'MathJax maximum macro substitution count exceeded; ' +
                       'is here a recursive macro call?');
  } else {
    throw new TexError('MaxMacroSub2',
                       'MathJax maximum substitution count exceeded; ' +
                       'is there a recursive latex environment?');
  }
}


</t>
<t tx="ekr.20211016054411.1216">/**
 *  Check for bad nesting of equation environments
 */
export function checkEqnEnv(parser: TexParser) {
  if (parser.stack.global.eqnenv) {
    // @test ErroneousNestingEq
    throw new TexError('ErroneousNestingEq', 'Erroneous nesting of equation structures');
  }
  parser.stack.global.eqnenv = true;
}

</t>
<t tx="ekr.20211016054411.1217">/**
 * Copy an MmlNode and add it (and its children) to the proper lists.
 *
 * @param {MmlNode} node       The MmlNode to copy
 * @param {TexParser} parser   The active tex parser
 * @return {MmlNode}           The duplicate tree
 */
export function copyNode(node: MmlNode, parser: TexParser): MmlNode  {
  const tree = node.copy() as MmlNode;
  const options = parser.configuration;
  tree.walkTree((n: MmlNode) =&gt; {
    options.addNode(n.kind, n);
    const lists = (n.getProperty('in-lists') as string || '').split(/,/);
    for (const list of lists) {
      options.addNode(list, n);
    }
  });
  return tree;
}

</t>
<t tx="ekr.20211016054411.1218">/**
 * This is a placeholder for future security filtering of attributes.
 * @param {TexParser} parser The current parser.
 * @param {string} name The attribute name.
 * @param {string} value The attribute value to filter.
 * @return {string} The filtered value.
 */
export function MmlFilterAttribute(_parser: TexParser, _name: string, value: string): string {
  // TODO: Implement in security package.
  return value;
}


</t>
<t tx="ekr.20211016054411.1219">/**
 * Initialises an stack environment with current font definition in the parser.
 * @param {TexParser} parser The current tex parser.
 * @return {EnvList} The initialised environment list.
 */
export function getFontDef(parser: TexParser): EnvList {
  const font = parser.stack.env['font'];
  return (font ? {mathvariant: font} : {});
}


/**
 * Splits a package option list of the form [x=y,z=1] into an attribute list
 * of the form {x: y, z: 1}.
 * @param {string} attrib The attributes of the package.
 * @param {{[key: string]: number}?} allowed A list of allowed options. If
 *     given only allowed arguments are returned.
 * @param {boolean?} error If true, raises an exception if not allowed options
 *     are found.
 * @return {EnvList} The attribute list.
 */
export function keyvalOptions(attrib: string,
                              allowed: {[key: string]: number} = null,
                              error: boolean = false): EnvList {
  let def: EnvList = readKeyval(attrib);
  if (allowed) {
    for (let key of Object.keys(def)) {
      if (!allowed.hasOwnProperty(key)) {
        if (error) {
          throw new TexError('InvalidOption', 'Invalid option: %1', key);
        }
        delete def[key];
      }
    }
  }
  return def;
}


</t>
<t tx="ekr.20211016054411.122">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/mhchem',      // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex/extensions/ams/lib',
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1220">/**
 * Implementation of the keyval function from https://www.ctan.org/pkg/keyval
 * @param {string} text The optional parameter string for a package or
 *     command.
 * @return {EnvList} Set of options as key/value pairs.
 */
function readKeyval(text: string): EnvList {
  let options: EnvList = {};
  let rest = text;
  let end, key, val;
  while (rest) {
    [key, end, rest] = readValue(rest, ['=', ',']);
    if (end === '=') {
      [val, end, rest] = readValue(rest, [',']);
      val = (val === 'false' || val === 'true') ?
          JSON.parse(val) : val;
      options[key] = val;
    } else if (key) {
      options[key] = true;
    }
  }
  return options;
}


</t>
<t tx="ekr.20211016054411.1221">/**
 * Removes pairs of outer braces.
 * @param {string} text The string to clean.
 * @param {number} count The number of outer braces to slice off.
 * @return {string} The cleaned string.
 */
function removeBraces(text: string, count: number): string {
  while (count &gt; 0) {
    text = text.trim().slice(1, -1);
    count--;
  }
  return text.trim();
}


</t>
<t tx="ekr.20211016054411.1222">/**
 * Read a value from the given string until an end parameter is reached or
 * string is exhausted.
 * @param {string} text The string to process.
 * @param {string[]} end List of possible end characters.
 * @return {[string, string, string]} The collected value, the actual end
 *     character, and the rest of the string still to parse.
 */
  function readValue(text: string, end: string[]): [string, string, string] {
    let length = text.length;
    let braces = 0;
    let value = '';
    let index = 0;
    let start = 0;             // Counter for the starting left braces.
    let startCount = true;     // Flag for counting starting left braces.
    let stopCount = false;     // If true right braces are found directly
                               // after starting braces, but no other char yet.
    while (index &lt; length) {
      let c = text[index++];
      switch (c) {
      case ' ':                // Ignore spaces.
        break;
      case '{':
        if (startCount) {      // Count start left braces at start.
          start++;
        } else {
          stopCount = false;
          if (start &gt; braces) {   // Some start left braces have been closed.
            start = braces;
          }
        }
        braces++;
        break;
      case '}':
        if (braces) {          // Closing braces.
          braces--;
        }
        if (startCount || stopCount) {  // Closing braces at the start.
          start--;
          stopCount = true;    // Continue to close braces.
        }
        startCount = false;    // Stop counting start left braces.
        break;
      default:
        if (!braces &amp;&amp; end.indexOf(c) !== -1) {   // End character reached.
          return [stopCount ? 'true' :            // If Stop count is true we
                                                  // have balanced braces, only.
                  removeBraces(value, start), c, text.slice(index)];
        }
        startCount = false;
        stopCount = false;
      }
      value += c;
    }
    if (braces) {
      throw new TexError('ExtraOpenMissingClose',
                         'Extra open brace or missing close brace');
    }
    return [stopCount ? 'true' : removeBraces(value, start), '', text.slice(index)];
  }

}

export default ParseUtil;
</t>
<t tx="ekr.20211016054411.1223">



/**
 * @fileoverview The Stack for the TeX parser.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import NodeUtil from './NodeUtil.js';
import {MmlNode} from '../../core/MmlTree/MmlNode.js';
import {StackItem, EnvList} from './StackItem.js';
import StackItemFactory from './StackItemFactory.js';


export default class Stack {

  /**
   * @type {EnvList}
   */
  public global: EnvList = {};

  /**
   * The actual stack, a list of stack items.
   * @type {Array.&lt;StackItem&gt;}
   */
  private stack: StackItem[] = [];

  /**
   * @constructor
   * @param {StackItemFactory} factory The stack item factory.
   * @param {EnvList} env The environment.
   * @param {boolean} inner True if parser has been called recursively.
   */
  constructor(private _factory: StackItemFactory,
              private _env: EnvList, inner: boolean) {
    this.global = {isInner: inner};
    this.stack = [ this._factory.create('start', this.global) ];
    if (_env) {
      this.stack[0].env = _env;
    }
    this.env = this.stack[0].env;
  }


  /**
   * Set the environment of the stack.
   * @param {EnvList} env The new environment.
   */
  public set env(env: EnvList) {
    this._env = env;
  }


  /**
   * Retrieves the environment of that stack.
   * @return {EnvList} The current environment.
   */
  public get env(): EnvList {
    return this._env;
  }


  /**
   * Pushes items or nodes onto stack.
   * @param {...StackItem|MmlNode} args A list of items to push.
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1224">public Push(...args: (StackItem | MmlNode)[]) {
  for (const node of args) {
    if (!node) {
      continue;
    }
    const item = NodeUtil.isNode(node) ?
      this._factory.create('mml', node) : node as StackItem;
    item.global = this.global;
    const [top, success] =
      this.stack.length ? this.Top().checkItem(item) : [null, true];
    if (!success) {
      continue;
    }
    if (top) {
      this.Pop();
      this.Push(...top);
      continue;
    }
    this.stack.push(item);
    if (item.env) {
      if (item.copyEnv) {
        Object.assign(item.env, this.env);
      }
      this.env = item.env;
    } else {
      item.env = this.env;
    }
  }
}


</t>
<t tx="ekr.20211016054411.1225">/**
 * Pop the topmost elements off the stack.
 * @return {StackItem} A stack item.
 */
public Pop(): StackItem {
  const item = this.stack.pop();
  if (!item.isOpen) {
    delete item.env;
  }
  this.env = (this.stack.length ? this.Top().env : {});
  return item;
}


</t>
<t tx="ekr.20211016054411.1226">/**
 * Lookup the nth elements on the stack without removing them.
 * @param {number=} n Position of element that should be returned. Default 1.
 * @return {StackItem} Nth item on the stack.
 */
public Top(n: number = 1): StackItem {
  return this.stack.length &lt; n ? null : this.stack[this.stack.length - n];
}


</t>
<t tx="ekr.20211016054411.1227">/**
 * Lookup the topmost element on the stack, returning the Mml node in that
 * item. Optionally pops the Mml node from that stack item.
 * @param {boolean=} noPop Pop top item if true.
 * @return {MmlNode} The Mml node in the topmost stack item.
 */
public Prev(noPop?: boolean): MmlNode | void {
  const top = this.Top();
  return noPop ? top.First : top.Pop();
}


</t>
<t tx="ekr.20211016054411.1228">/**
 * @override
 */
  public toString() {
    return 'stack[\n  ' + this.stack.join('\n  ') + '\n]';
  }

}
</t>
<t tx="ekr.20211016054411.1229">



/**
 * @fileoverview Stack items hold information on the TexParser stack.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {MmlNode} from '../../core/MmlTree/MmlNode.js';
import {FactoryNodeClass} from '../../core/Tree/Factory.js';
import TexError from './TexError.js';
import StackItemFactory from './StackItemFactory.js';

// Union types for abbreviation.
export type EnvProp = string | number | boolean;

export type EnvList = {[key: string]: EnvProp};

// This is the type for all fields that used to be set with With.
export type Prop = string | number | boolean | MmlNode | PropList;

export type PropList = {[key: string]: Prop};

export type CheckType = [(MmlNode | StackItem)[], boolean];


@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.123"></t>
<t tx="ekr.20211016054411.1230">export interface NodeStack {

  /**
   * Get or set the topmost element on the node stack without removing it.
   * @return {MmlNode} The topmost node on the stack.
   */
  First: MmlNode;

  /**
   * Get or set the last element on the node stack without removing it.
   * @return {MmlNode} The last node on the stack.
   */
  Last: MmlNode;

  /**
   * @return {MmlNode} The topmost node on the item's node stack.
   */
  Pop(): MmlNode | void;

  /**
   * Pushes new nodes onto the items node stack.
   * @param {MmlNode[]} ...nodes A list of nodes.
   */
  Push(...nodes: MmlNode[]): void;

  /**
   * Get the top n elements on the node stack without removing them.
   * @param {number=} n Number of elements that should be returned.
   * @return {MmlNode[]} List of nodes on top of stack.
   */
  Peek(n?: number): MmlNode[];

  /**
   * @return {number} The size of the stack.
   */
  Size(): number;

  /**
   * Clears the stack.
   */
  Clear(): void;

  /**
   * Returns nodes on the stack item's node stack as an Mml node. I.e., in case
   * the item contains more than one node, it creates an mrow.
   * @param {boolean=} inferred If set the mrow will be an inferred mrow.
   * @param {boolean=} forceRow If set an mrow will be created, regardless of
   *     how many nodes the item contains.
   * @return {MmlNode} The topmost Mml node.
   */
  toMml(inferred?: boolean, forceRow?: boolean): MmlNode;

}


export abstract class MmlStack implements NodeStack {

  /**
   * @constructor
   * @extends {NodeStack}
   * @param {MmlNode[]} nodes An initial list of nodes to put on the stack.
   */
  constructor(private _nodes: MmlNode[]) { }

  /**
   * @return {MmlNode[]} The nodes on the stack.
   */
  protected get nodes(): MmlNode[] {
    return this._nodes;
  }

  
</t>
<t tx="ekr.20211016054411.1231">/**
   * @override
   */
public Push(...nodes: MmlNode[]) {
  this._nodes.push(...nodes);
}


</t>
<t tx="ekr.20211016054411.1232">/**
 * @override
 */
public Pop(): MmlNode {
  return this._nodes.pop();
}


/**
 * @override
 */
public get First(): MmlNode {
  return this._nodes[this.Size() - 1];
}


/**
 * @override
 */
public set First(node: MmlNode) {
  this._nodes[this.Size() - 1] = node;
}


/**
 * @override
 */
public get Last(): MmlNode {
  return this._nodes[0];
}


/**
 * @override
 */
public set Last(node: MmlNode) {
  this._nodes[0] = node;
}


</t>
<t tx="ekr.20211016054411.1233">/**
 * @override
 */
public Peek(n?: number): MmlNode[] {
  if (n == null) {
    n = 1;
  }
  return this._nodes.slice(this.Size() - n);
}


</t>
<t tx="ekr.20211016054411.1234">/**
 * @override
 */
public Size(): number {
  return this._nodes.length;
}


</t>
<t tx="ekr.20211016054411.1235">/**
 * @override
 */
public Clear(): void {
  this._nodes = [];
}


protected abstract get factory(): StackItemFactory;

</t>
<t tx="ekr.20211016054411.1236">/**
 * @override
 */
public toMml(inferred: boolean = true, forceRow?: boolean) {
  if (this._nodes.length === 1 &amp;&amp; !forceRow) {
    return this.First;
  }
  // @test Two Identifiers
  return this.create(
    'node', inferred ? 'inferredMrow' : 'mrow', this._nodes, {});
}


</t>
<t tx="ekr.20211016054411.1237">/**
 * Convenience method to create nodes with the node factory on this stack.
 * @param {string} kind The kind of node to create.
 * @param {any[]} ...rest The remaining arguments for the creation method.
 * @return {MmlNode} The newly created node.
 */
  public create(kind: string, ...rest: any[]): MmlNode {
    return this.factory.configuration.nodeFactory.create(kind, ...rest);
  }

}

</t>
<t tx="ekr.20211016054411.1238">export interface StackItem extends NodeStack {


  /**
   * Type of stack item.
   * @type {string}
   */
  kind: string;

  /**
   * Is this a closing item, e.g., end.
   * @type {boolean}
   */
  isClose: boolean;

  /**
   * Is this an opening item, e.g., begin.
   * @type {boolean}
   */
  isOpen: boolean;

  /**
   * Is this a finalising item, i.e., one that only collects nodes.
   * @type {boolean}
   */
  isFinal: boolean;

  /**
   * Global properties of the parser.
   * @type {EnvList}
   */
   global: EnvList;

  /**
   * Local properties of the stack item.
   * @type {EnvList}
   */
   env: EnvList;

  /**
   * Copy local properties when pushed to stack?
   * @type {boolean}
   */
   copyEnv: boolean;

  /**
   * Tests if item is of the given type.
   * @param {string} kind The type.
   * @return {boolean} True if item is of that type.
   */
  isKind(kind: string): boolean;

  /**
   * Get a property of the item.
   * @param {string} key Property name.
   * @return {Prop} Property value if it exists.
   */
  getProperty(key: string): Prop;

  /**
   * Set a property.
   * @param {string} key Property name.
   * @param {Prop} value Property value.
   * @return {StackItem} The item for pipelining.
   */
  setProperty(key: string, value: Prop): StackItem;

  /**
   * Sets a list of properties.
   * @param {PropList} def The properties to set.
   * @return {StackItem} Returns the stack item object for pipelining.
   */
  setProperties(def: PropList): StackItem;

  /**
   * Convenience method for returning the string property "name".
   * @return {string} The value for the name property.
   */
  getName(): string;

  /**
   * TeX parsing in MathJax is essentially implemented via a nested stack
   * automaton. That is the tex parser works on a stack, and each item on the
   * stack can have a data stack of its own. Data on the stack is either a stack
   * item or a node.
   *
   * The checkItem method effectively implements the recursive checking of
   * input data from the parser against data recursively given on the stack.
   *
   * I.e., new input is parsed resulting in a new item. When pushed on the stack
   * it is checked against the top most item on the stack. This either leads to
   * the item being pushed onto the stack or combined with the top most
   * element(s), pushing a new item, which is recursively checked, unless an
   * error is thrown.
   *
   * A simple example: If \\end{foo} is parsed, an endItem is created, pushed on
   * the stack. Nodes on the stack are collapsed into content of the 'foo'
   * environment, until a beginItem for 'foo' is found.  If a beginItem is not
   * for 'foo' or does not exist an error is thrown.
   *
   * @param {StackItem} item The pushed item.
   * @return {CheckType} True/false or an item or node.
   */
  checkItem(item: StackItem): CheckType;

}

</t>
<t tx="ekr.20211016054411.1239">export interface StackItemClass extends FactoryNodeClass&lt;StackItem&gt; {
  // new (factory: StackItemFactory, ...args: any[]): StackItem;
}


/**
 * Abstract basic item class that implements most of the stack item
 * functionality. In particular, it contains the base method for checkItem.
 */
export abstract class BaseItem extends MmlStack implements StackItem {

  /**
   * The fail value.
   * @type {CheckType}
   */
  protected static fail: CheckType = [null, false];

  /**
   * The success value.
   * @type {CheckType}
   */
  protected static success: CheckType = [null, true];

  /**
   * A list of basic errors.
   * @type {{[key: string]: string[]}}
   */
  protected static errors: {[key: string]: string[]} = {
    // @test ExtraOpenMissingClose
    end: ['MissingBeginExtraEnd', 'Missing \\begin{%1} or extra \\end{%1}'],
    // @test ExtraCloseMissingOpen
    close: ['ExtraCloseMissingOpen', 'Extra close brace or missing open brace'],
    // @test MissingLeftExtraRight
    right: ['MissingLeftExtraRight', 'Missing \\left or extra \\right'],
    middle: ['ExtraMiddle', 'Extra \\middle']
  };


  /**
   * @override
   */
  public global: EnvList = {};

  private _env: EnvList;

  private _properties: PropList = {};


  
</t>
<t tx="ekr.20211016054411.124">
import './lib/newcommand.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1240">/**
   * @constructor
   * @extends {MmlStack}
   */
constructor(protected factory: StackItemFactory, ...nodes: MmlNode[]) {
  super(nodes);
  if (this.isOpen) {
    this._env = {};
  }
}

/**
 * @return {string} The type of the stack item.
 */
  public get kind(): string {
  return 'base';
}

/**
 * @return {EnvList} Get the private environment
 */
public get env(): EnvList {
  return this._env;
}

/**
 * Set the private environment
 * @param {EnvList} value New private environemt.
 */
public set env(value: EnvList) {
  this._env = value;
}

/**
 * Default is to copy local environment when pushed on stack
 */
public get copyEnv() {
  return true;
}

</t>
<t tx="ekr.20211016054411.1241">/**
 * @override
 */
public getProperty(key: string): Prop {
  return this._properties[key];
}

</t>
<t tx="ekr.20211016054411.1242">/**
 * @override
 */
public setProperty(key: string, value: Prop) {
  this._properties[key] = value;
  return this;
}


/**
 * @return {boolean} True if item is an opening entity, i.e., it expects a
 *     closing counterpart on the stack later.
 */
get isOpen(): boolean {
  return false;
}

/**
 * @return {boolean} True if item is an closing entity, i.e., it needs an
 *     opening counterpart already on the stack.
 */
get isClose(): boolean {
  return false;
}


/**
 * @return {boolean} True if item is final, i.e., it contains one or multiple
 *      finished parsed nodes.
 */
get isFinal(): boolean {
  return false;
}


</t>
<t tx="ekr.20211016054411.1243">/**
 * @override
 */
public isKind(kind: string) {
  return kind === this.kind;
}


</t>
<t tx="ekr.20211016054411.1244">/**
 * @override
 */
public checkItem(item: StackItem): CheckType {
  if (item.isKind('over') &amp;&amp; this.isOpen) {
    item.setProperty('num', this.toMml(false));
    this.Clear();
  }
  if (item.isKind('cell') &amp;&amp; this.isOpen) {
    if (item.getProperty('linebreak')) {
      return BaseItem.fail;
    }
    // @test Ampersand-error
    throw new TexError('Misplaced', 'Misplaced %1', item.getName());
  }
  if (item.isClose &amp;&amp; this.getErrors(item.kind)) {
    // @test ExtraOpenMissingClose, ExtraCloseMissingOpen,
    //       MissingLeftExtraRight, MissingBeginExtraEnd
    const [id, message] = this.getErrors(item.kind);
    throw new TexError(id, message, item.getName());
  }
  if (!item.isFinal) {
    return BaseItem.success;
  }
  this.Push(item.First);
  return BaseItem.fail;
}


</t>
<t tx="ekr.20211016054411.1245">/**
 * Clears the item's environment.
 */
public clearEnv() {
  for (const id of Object.keys(this.env)) {
    delete this.env[id];
  }
}


</t>
<t tx="ekr.20211016054411.1246">/**
 * @override
 */
public setProperties(def: PropList) {
  Object.assign(this._properties, def);
  return this;
}


</t>
<t tx="ekr.20211016054411.1247">/**
 * @override
 */
public getName() {
  return this.getProperty('name') as string;
}


</t>
<t tx="ekr.20211016054411.1248">/**
 * @override
 */
public toString() {
  return this.kind + '[' + this.nodes.join('; ') + ']';
}


</t>
<t tx="ekr.20211016054411.1249">/**
 * Get error messages for a particular types of stack items. This reads error
 * messages from the static errors object, which can be extended in
 * subclasses.
 * @param {string} kind The stack item type.
 * @return {string[]} The list of arguments for the TeXError.
 */
  public getErrors(kind: string): string[] {
    const CLASS = (this.constructor as typeof BaseItem);
    return (CLASS.errors || {})[kind] || BaseItem.errors[kind];
  }

}
</t>
<t tx="ekr.20211016054411.125">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/newcommand',  // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1250">



/**
 * @fileoverview A factory for stack items. This allows particular items to be
 *     overwritten later.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {StackItemClass, StackItem, BaseItem} from './StackItem.js';
import ParseOptions from './ParseOptions.js';
import {AbstractFactory} from '../../core/Tree/Factory.js';


class DummyItem extends BaseItem {}

/**
 * The StackItemFactory is initially populated with the default stack item
 * classes. They can be changed, deleted or added to, if and when necessary.
 *
 * @constructor
 * @extends {AbstractFactory}
 */
export default class StackItemFactory extends AbstractFactory&lt;StackItem, StackItemClass&gt; {

  /**
   * @override
   */
  public static DefaultStackItems: {[kind: string]: StackItemClass} = {
    [DummyItem.prototype.kind]: DummyItem
  };


  /**
   * @override
   */
  public defaultKind = 'dummy';


  /**
   * The parser configuration.
   * @type {ParseOptions}
   */
  public configuration: ParseOptions = null;

}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1251">



/**
 * @fileoverview Symbol classes.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Args, Attributes, ParseMethod} from './Types.js';


/**
 * Symbol class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1252">export class Symbol {

  /**
   * @constructor
   * @param {string} symbol The symbol parsed.
   * @param {string} char The corresponding translation.
   * @param {Attributes} attributes The attributes for the translation.
   */
  constructor(private _symbol: string, private _char: string,
              private _attributes: Attributes) {
  }

  public get symbol(): string {
    return this._symbol;
  }

  public get char(): string {
    return this._char;
  }

  public get attributes(): Attributes {
    return this._attributes;
  }

}


</t>
<t tx="ekr.20211016054411.1253">export class Macro {

  /**
   * @constructor
   * @param {string} symbol The symbol parsed
   * @param {ParseMethod} func The parsing function for that symbol.
   * @param {Args[]} args Additional arguments for the function.
   */
  constructor(private _symbol: string, private _func: ParseMethod,
              private _args: Args[] = []) {
  }

  public get symbol(): string {
    return this._symbol;
  }

  public get func(): ParseMethod {
    return this._func;
  }

  public get args(): Args[] {
    return this._args;
  }

}
</t>
<t tx="ekr.20211016054411.1254">



/**
 * @fileoverview Symbol map classes.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Attributes, Args, ParseMethod, ParseInput, ParseResult} from './Types.js';
import {Symbol, Macro} from './Symbol.js';
import {MapHandler} from './MapHandler.js';


/**
 * SymbolMaps are the base components for the input parsers.
 *
 * They provide a contains method that checks if a map is applicable (contains)
 * a particular string. Implementing classes then perform the actual symbol
 * parsing, from simple regular expression test, straight forward symbol mapping
 * to transformational functionality on the parsed string.
 *
 * @interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1255">export interface SymbolMap {

  /**
   * @return {string} The name of the map.
   */
  name: string;

  /**
   * @return {ParseMethod} The default parsing method.
   */
  parser: ParseMethod;

  /**
   * @param {string} symbol A symbol to parse.
   * @return {boolean} True if the symbol map applies to the symbol.
   */
  contains(symbol: string): boolean;

  /**
   * @param {string} symbol A symbol to parse.
   * @return {ParseMethod} A parse method for the symbol.
   */
  parserFor(symbol: string): ParseMethod;

  /**
   * @param {TexParser} env The current parser.
   * @param {string} symbol A symbol to parse.
   * @return {ParseResult} The parsed symbol and the rest of the string.
   */
  parse([env, symbol]: ParseInput): ParseResult;

}


/**
 * Abstract implementation of symbol maps.
 * @template T
 */
export abstract class AbstractSymbolMap&lt;T&gt; implements SymbolMap {

  
</t>
<t tx="ekr.20211016054411.1256">/**
   * @constructor
   * @implements {SymbolMap}
   * @param {string} name Name of the mapping.
   * @param {ParseMethod} parser The parser for the mappiong.
   */
constructor(private _name: string, private _parser: ParseMethod) {
  MapHandler.register(this);
}


/**
 * @override
 */
public get name(): string {
  return this._name;
}


/**
 * @override
 */
public abstract contains(symbol: string): boolean;


</t>
<t tx="ekr.20211016054411.1257">/**
 * @override
 */
public parserFor(symbol: string) {
  return this.contains(symbol) ? this.parser : null;
}


</t>
<t tx="ekr.20211016054411.1258">/**
 * @override
 */
  public parse([env, symbol]: ParseInput) {
    let parser = this.parserFor(symbol);
    let mapped = this.lookup(symbol);
    return (parser &amp;&amp; mapped) ?
      parser(env, mapped as any) || true as ParseResult : null;
  }


  public set parser(parser: ParseMethod) {
    this._parser = parser;
  }

  public get parser(): ParseMethod {
    return this._parser;
  }


  /**
   * @param {string} symbol
   * @return {T}
   */
  public abstract lookup(symbol: string): T;

}



</t>
<t tx="ekr.20211016054411.1259">/**
 * Regular expressions used for parsing strings.
 */
export class RegExpMap extends AbstractSymbolMap&lt;string&gt; {

  /**
   * @constructor
   * @extends {AbstractSymbolMap}
   * @param {string} name Name of the mapping.
   * @param {ParseMethod} parser The parser for the mappiong.
   * @param {RegExp} regexp The regular expression.
   */
  @others
}


/**
 * Parse maps associate strings with parsing functionality.
 * @constructor
 * @extends {AbstractSymbolMap}
 * @template K
 */
export abstract class AbstractParseMap&lt;K&gt; extends AbstractSymbolMap&lt;K&gt; {

  private map: Map&lt;string, K&gt; = new Map&lt;string, K&gt;();

  
</t>
<t tx="ekr.20211016054411.126"></t>
<t tx="ekr.20211016054411.1260">constructor(name: string, parser: ParseMethod, private _regExp: RegExp) {
  super(name, parser);
}


</t>
<t tx="ekr.20211016054411.1261">/**
 * @override
 */
public contains(symbol: string) {
  return this._regExp.test(symbol);
}


</t>
<t tx="ekr.20211016054411.1262">/**
 * @override
 */
public lookup(symbol: string): string {
  return this.contains(symbol) ? symbol : null;
}

</t>
<t tx="ekr.20211016054411.1263">/**
   * @override
   */
public lookup(symbol: string): K {
  return this.map.get(symbol);
}

</t>
<t tx="ekr.20211016054411.1264">/**
 * @override
 */
public contains(symbol: string) {
  return this.map.has(symbol);
}

</t>
<t tx="ekr.20211016054411.1265">/**
 * Sets mapping for a symbol.
 * @param {string} symbol The symbol to map.
 * @param {K} object The symbols value in the mapping's codomain.
 */
public add(symbol: string, object: K) {
  this.map.set(symbol, object);
}

</t>
<t tx="ekr.20211016054411.1266">/**
 * Removes a symbol from the map
 * @param {string} symbol The symbol to remove
 */
  public remove(symbol: string) {
    this.map.delete(symbol);
  }

}


</t>
<t tx="ekr.20211016054411.1267">/**
 * Maps symbols that can all be parsed with the same method.
 *
 * @constructor
 * @extends {AbstractParseMap}
 */
export class CharacterMap extends AbstractParseMap&lt;Symbol&gt; {

  /**
   * @constructor
   * @param {string} name Name of the mapping.
   * @param {ParseMethod} parser The parser for the mapping.
   * @param {JSON} json The JSON representation of the character mapping.
   */
  constructor(name: string, parser: ParseMethod,
              json: {[index: string]: string | [string, Attributes]}) {
    super(name, parser);
    for (const key of Object.keys(json)) {
      let value = json[key];
      let [char, attrs] = (typeof(value) === 'string') ? [value, null] : value;
      let character = new Symbol(key, char, attrs);
      this.add(key, character);
    }
  }

}


</t>
<t tx="ekr.20211016054411.1268">/**
 * Maps symbols that are delimiters, that are all parsed with the same method.
 *
 * @constructor
 * @extends {CharacterMap}
 */
export class DelimiterMap extends CharacterMap {

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1269">public parse([env, symbol]: ParseInput) {
  return super.parse([env, '\\' + symbol]);
}

</t>
<t tx="ekr.20211016054411.127">
import './lib/noerrors.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1270">/**
 * Maps macros that all bring their own parsing method.
 *
 * @constructor
 * @extends {AbstractParseMap}
 */
export class MacroMap extends AbstractParseMap&lt;Macro&gt; {

  /**
   * @constructor
   * @param {string} name Name of the mapping.
   * @param {JSON} json The JSON representation of the macro map.
   * @param {Record&lt;string, ParseMethod&gt;} functionMap Collection of parse
   *     functions for the single macros.
   */
  constructor(name: string,
              json: {[index: string]: string | Args[]},
              functionMap: Record&lt;string, ParseMethod&gt;) {
    super(name, null);
    for (const key of Object.keys(json)) {
      let value = json[key];
      let [func, ...attrs] = (typeof(value) === 'string') ? [value] : value;
      let character = new Macro(key, functionMap[func as string], attrs);
      this.add(key, character);
    }
  }


  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1271">public parserFor(symbol: string) {
  let macro = this.lookup(symbol);
  return macro ? macro.func : null;
}


</t>
<t tx="ekr.20211016054411.1272">/**
 * @override
 */
public parse([env, symbol]: ParseInput) {
  let macro = this.lookup(symbol);
  let parser = this.parserFor(symbol);
  if (!macro || !parser) {
    return null;
  }
  return parser(env, macro.symbol, ...macro.args) || true as ParseResult;
}

</t>
<t tx="ekr.20211016054411.1273">/**
 * Maps macros that all bring their own parsing method.
 *
 * @constructor
 * @extends {MacroMap}
 */
export class CommandMap extends MacroMap {

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1274">public parse([env, symbol]: ParseInput) {
  let macro = this.lookup(symbol);
  let parser = this.parserFor(symbol);
  if (!macro || !parser) {
    return null;
  }
  if (!parser) {
    return null;
  }
  let saveCommand = env.currentCS;
  env.currentCS = '\\' + symbol;
  let result = parser(env, '\\' + macro.symbol, ...macro.args);
  env.currentCS = saveCommand;
  return result || true as ParseResult;
}

</t>
<t tx="ekr.20211016054411.1275">/**
 * Maps macros for environments. It has a general parsing method for
 * environments, i.e., one that deals with begin/end, and each environment has
 * its own parsing method returning the content.
 *
 * @constructor
 * @extends {MacroMap}
 */
export class EnvironmentMap extends MacroMap {

  /**
   * @constructor
   * @param {string} name Name of the mapping.
   * @param {ParseMethod} parser The parser for the environments.
   * @param {JSON} json The JSON representation of the macro map.
   * @param {Record&lt;string, ParseMethod&gt;} functionMap Collection of parse
   *     functions for the single macros.
   */
  constructor(name: string,
              parser: ParseMethod,
              json: {[index: string]: string | Args[]},
              functionMap: Record&lt;string, ParseMethod&gt;) {
    super(name, json, functionMap);
    this.parser = parser;
  }


  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1276">public parse([env, symbol]: ParseInput) {
  let macro = this.lookup(symbol);
  let envParser = this.parserFor(symbol);
  if (!macro || !envParser) {
    return null;
  }
  this.parser(env, macro.symbol, envParser, macro.args);
  return true;
}

</t>
<t tx="ekr.20211016054411.1277">



/**
 * @fileoverview Class for generating tags, references, etc.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import TexParser from './TexParser.js';
import {MmlNode} from '../../core/MmlTree/MmlNode.js';
import {MathItem} from '../../core/MathItem.js';
import {EnvList} from './StackItem.js';
import ParseOptions from './ParseOptions.js';
import {OptionList} from '../../util/Options.js';


/**
 *  Simple class for label objects.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1278">export class Label {

  /**
   * @constructor
   * @param {string=} tag The tag that's displayed.
   * @param {string=} id The id that serves as reference.
   */
  constructor(public tag: string = '???', public id: string = '') {}
}


</t>
<t tx="ekr.20211016054411.1279">/**
 * A simple class for keeping track of tag information.
 */
export class TagInfo {

  /**
   * @constructor
   * @param {string} env The environment name (e.g., align).
   * @param {boolean} taggable Environment supports tags (e.g., align* does, but
   *     split does not.)
   * @param {boolean} defaultTags Environment is tagged by default (e.g., align
   *     is, but align* is not).
   * @param {string} tag The tag name (e.g., 1).
   * @param {string} tagId The unique id for that tag (e.g., mjx-eqn:1).
   * @param {string} tagFormat The formatted tag (e.g., "(1)").
   * @param {boolean} noTag A no tagging command has been set (e.g., \notag,
   *     \nonumber).
   * @param {string} labelId The label referring to the tag.
   */
  constructor(readonly env: string = '',
              readonly taggable: boolean = false,
              readonly defaultTags: boolean = false,
              public tag: string = null,
              public tagId: string = '',
              public tagFormat: string = '',
              public noTag: boolean = false,
              public labelId: string = '') {}

}


</t>
<t tx="ekr.20211016054411.128">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/noerrors',    // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1280">export interface Tags {

  /**
   * The global configurations in which the parsing takes place.
   * @type {ParseOptions}
   */
  configuration: ParseOptions;

  /**
   * IDs used in this equation.
   * @type {Object.&lt;boolean&gt;}
   */
  ids: {[key: string]: boolean};

  /**
   * IDs used in previous equations.
   * @type {Object.&lt;boolean&gt;}
   */
  allIds: {[key: string]: boolean};

  /**
   * Labels in the current equation.
   * @type {Object.&lt;Label&gt;}
   */
  labels: {[key: string]: Label};

  /**
   * Labels in previous equations.
   * @type {Object.&lt;Label&gt;}
   */
  allLabels: {[key: string]: Label};

  /**
   * The label to use for the next tag.
   * @type {string}
   */
  label: string;

  /**
   * True if the equation contains an undefined label and must be reprocessed later.
   * @type {boolean}
   */
  redo: boolean;

  /**
   * True when recompiling to update undefined references
   * @type {boolean}
   */
  refUpdate: boolean;

  /**
   * The environment that is currently tagged.
   * @type {string}
   */
  env: string;

  /**
   * The currently active tag.
   * @type {TagInfo}
   */
  currentTag: TagInfo;

  /**
   * How to format tags.
   * @param {string} tag The tag string.
   * @return {string} The formatted numbered tag.
   */
  formatTag(tag: string): string;

  /**
   * How to format URLs for references.
   * @param {string} id The reference id.
   * @param {string} base The base URL in the reference.
   * @return {}
   */
  formatUrl(id: string, base: string): string;

  /**
   * Set the tag automatically, by incrementing equation number.
   */
  autoTag(): void;

  /**
   * @return {MmlNode|void} Generates and returns the tag node.
   */
  getTag(): MmlNode | void;

  /**
   * Clears tagging information.
   */
  clearTag(): void;

  /**
   * Resets the tag structure after an expression has been typeset.
   */
  resetTag(): void;

  /**
   * Fully resets the tag structure, in particular all the tagging and label
   * history.
   * @param {number} offset A new offset value to start counting ids from.
   */
  reset(offset?: number): void;

  /**
   * Initialise tagging for a MathItem
   * (clear equation-specific labels and ids, set counter
   * and check for recompile)
   * @param {MathItem} math   The MathItem for the current equation
   */
    startEquation(math: MathItem&lt;any, any, any&gt;): void;

  /**
   * Move equation-specific labels and ids to global ones,
   * save the counter, and mark the MathItem for redos
   */
    finishEquation(math: MathItem&lt;any, any, any&gt;): void;

  /**
   * Finalizes tag creation.
   * @param {MmlNode} node
   * @param {EnvList} env List of environment properties.
   * @return {MmlNode} The newly created tag.
   */
  finalize(node: MmlNode, env: EnvList): MmlNode;

  /**
   * Starts tagging on a given environment.
   * @param {string} env The name of the environment.
   * @param {boolean} taggable True if taggable.
   * @param {boolean} defaultTags True if tagged by default.
   */
  start(env: string, taggable: boolean, defaultTags: boolean): void;

  /**
   * End tagging.
   */
  end(): void;

  /**
   * Computes the next tag.
   * @param {string} tag The tag content.
   * @param {boolean} noFormat True if tag should not be formatted.
   */
  tag(tag: string, noFormat: boolean): void;

  /**
   * Call an explicit no tag.
   */
  notag(): void;

  /**
   * Entag an element by creating a table around it.
   * @param {MmlNode} node The node to be tagged.
   * @param {MmlNode} tag The tag node.
   * @return {MmlNode} The table node containing the original node and tag.
   */
  enTag(node: MmlNode, tag: MmlNode): MmlNode;
}


</t>
<t tx="ekr.20211016054411.1281">export class AbstractTags implements Tags {

  /**
   * Current equation number.
   * @type {number}
   */
  protected counter: number = 0;

  /**
   * Equation number as equation begins.
   * @type {number}
   */
  protected allCounter: number = 0;

  /**
   * @override
   */
  public configuration: ParseOptions = null;

  /**
   * @override
   */
  public ids: {[key: string]: boolean} = {};

  /**
   * @override
   */
  public allIds: {[key: string]: boolean} = {};

  /**
   * @override
   */
  public labels: {[key: string]: Label} = {};

  /**
   * @override
   */
  public allLabels: {[key: string]: Label} = {};

  /**
   * @override
   */
  public redo: boolean = false;

  /**
   * @override
   */
  public refUpdate: boolean = false;

  /**
   * @override
   */
  public currentTag: TagInfo = new TagInfo();


  /**
   * Chronology of all previous tags, in case we need to look something up in
   * the finalize method.
   * @type {TagInfo[]}
   */
  protected history: TagInfo[] = [];

  private stack: TagInfo[] = [];

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1282">public start(env: string, taggable: boolean, defaultTags: boolean) {
  if (this.currentTag) {
    this.stack.push(this.currentTag);
  }
  this.currentTag = new TagInfo(env, taggable, defaultTags);
}

public get env() {
  return this.currentTag.env;
}


</t>
<t tx="ekr.20211016054411.1283">/**
 * @override
 */
public end() {
  this.history.push(this.currentTag);
  this.currentTag = this.stack.pop();
}


</t>
<t tx="ekr.20211016054411.1284">/**
 * @override
 */
public tag(tag: string, noFormat: boolean) {
  this.currentTag.tag = tag;
  this.currentTag.tagFormat = noFormat ? tag : this.formatTag(tag);
  this.currentTag.noTag = false;
}


</t>
<t tx="ekr.20211016054411.1285">/**
 * @override
 */
public notag() {
  this.tag('', true);
  this.currentTag.noTag = true;
}

protected get noTag(): boolean {
  return this.currentTag.noTag;
}

public set label(label: string) {
  this.currentTag.labelId = label;
}

public get label() {
  return this.currentTag.labelId;
}

</t>
<t tx="ekr.20211016054411.1286">/**
 * @override
 */
public formatUrl(id: string, base: string) {
  return base + '#' + encodeURIComponent(id);
}

</t>
<t tx="ekr.20211016054411.1287">/**
 * @override
 */
public formatTag(tag: string) {
  return '(' + tag + ')';
}

/**
 * How to format ids for labelling equations.
 * @param {string} id The unique part of the id (e.g., label or number).
 * @return {string} The formatted id.
 */
protected formatId(id: string): string {
  return 'mjx-eqn:' + id.replace(/\s/g, '_');
}

/**
 * How to format numbers in tags.
 * @param {number} n The tag number.
 * @return {string} The formatted number.
 */
protected formatNumber(n: number): string {
  return n.toString();
}

// Tag handling functions.
</t>
<t tx="ekr.20211016054411.1288">/**
 * @override
 */
public autoTag() {
  if (this.currentTag.tag == null) {
    this.counter++;
    this.tag(this.formatNumber(this.counter), false);
  }
}


</t>
<t tx="ekr.20211016054411.1289">/**
 * @override
 */
public clearTag() {
  this.label = '';
  this.tag(null, true);
  this.currentTag.tagId = '';
}


</t>
<t tx="ekr.20211016054411.129"></t>
<t tx="ekr.20211016054411.1290">/**
 * @override
 */
public getTag(force: boolean = false) {
  if (force) {
    this.autoTag();
    return this.makeTag();
  }
  const ct = this.currentTag;
  if (ct.taggable &amp;&amp; !ct.noTag) {
    if (ct.defaultTags) {
      this.autoTag();
    }
    if (ct.tag) {
      return this.makeTag();
    }
  }
  return null;
}


</t>
<t tx="ekr.20211016054411.1291">/**
 * @override
 */
public resetTag() {
  this.history = [];
  this.redo = false;
  this.refUpdate = false;
  this.clearTag();
}

</t>
<t tx="ekr.20211016054411.1292">/**
 * @override
 */
public reset(offset: number = 0) {
  this.resetTag();
  this.counter = this.allCounter = offset;
  this.allLabels = {};
  this.allIds = {};
}

</t>
<t tx="ekr.20211016054411.1293">/**
 * @override
 */
public startEquation(math: MathItem&lt;any, any, any&gt;) {
  this.history = [];
  this.stack = [];
  this.clearTag();
  this.currentTag = new TagInfo('', undefined, undefined);
  this.labels = {};
  this.ids = {};
  this.counter = this.allCounter;
  this.redo = false;
  const recompile = math.inputData.recompile;
  if (recompile) {
    this.refUpdate = true;
    this.counter = recompile.counter;
  }
}

</t>
<t tx="ekr.20211016054411.1294">/**
 * @override
 */
public finishEquation(math: MathItem&lt;any, any, any&gt;) {
  if (this.redo) {
    math.inputData.recompile = {
      state: math.state(),
      counter: this.allCounter
    };
  }
  if (!this.refUpdate) {
    this.allCounter = this.counter;
  }
  Object.assign(this.allIds, this.ids);
  Object.assign(this.allLabels, this.labels);
}

</t>
<t tx="ekr.20211016054411.1295">/**
 * @override
 */
public finalize(node: MmlNode, env: EnvList): MmlNode {
  if (!env.display || this.currentTag.env ||
      this.currentTag.tag == null) {
    return node;
  }
  let tag = this.makeTag();
  let table = this.enTag(node, tag);
  return table;
}

/**
 * @override
 */
public enTag = function(node: MmlNode, tag: MmlNode): MmlNode {
  let nf = this.configuration.nodeFactory;
  let cell = nf.create('node', 'mtd', [node]);
  let row = nf.create('node', 'mlabeledtr', [tag, cell]);
  let table = nf.create('node', 'mtable', [row], {
    side: this.configuration.options['tagSide'],
    minlabelspacing: this.configuration.options['tagIndent'],
    displaystyle: true
  });
  return table;
};


</t>
<t tx="ekr.20211016054411.1296">/**
 * Sets the tag id.
 */
private makeId() {
  this.currentTag.tagId = this.formatId(
    this.configuration.options['useLabelIds'] ?
      (this.label || this.currentTag.tag) : this.currentTag.tag);
}


</t>
<t tx="ekr.20211016054411.1297">/**
 * @return {MmlNode} The actual tag node as an mtd.
 */
private makeTag(): MmlNode {
  this.makeId();
  if (this.label) {
    this.labels[this.label] = new Label(this.currentTag.tag, this.currentTag.tagId);
  }
  let mml = new TexParser('\\text{' + this.currentTag.tagFormat + '}', {},
                          this.configuration).mml();
  return this.configuration.nodeFactory.create('node', 'mtd', [mml],
                                               {id: this.currentTag.tagId});
}

</t>
<t tx="ekr.20211016054411.1298">/**
 * No tags, except where explicitly set.
 * @constructor
 * @extends {AbstractTags}
 */
export class NoTags extends AbstractTags {

  /**
   * @override
   */
  public autoTag() {}

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1299">public getTag() {
  return !this.currentTag.tag ? null : super.getTag();
}

</t>
<t tx="ekr.20211016054411.13">


const src = __dirname;

export const source = {
  'core': `${src}/core/core.js`,
  'adaptors/liteDOM': `${src}/adaptors/liteDOM/liteDOM.js`,
  'input/tex': `${src}/input/tex/tex.js`,
  'input/tex-base': `${src}/input/tex-base/tex-base.js`,
  'input/tex-full': `${src}/input/tex-full/tex-full.js`,
  '[tex]/action': `${src}/input/tex/extensions/action/action.js`,
  '[tex]/all-packages': `${src}/input/tex/extensions/all-packages/all-packages.js`,
  '[tex]/autoload': `${src}/input/tex/extensions/autoload/autoload.js`,
  '[tex]/ams': `${src}/input/tex/extensions/ams/ams.js`,
  '[tex]/amscd': `${src}/input/tex/extensions/amscd/amscd.js`,
  '[tex]/bbox': `${src}/input/tex/extensions/bbox/bbox.js`,
  '[tex]/boldsymbol': `${src}/input/tex/extensions/boldsymbol/boldsymbol.js`,
  '[tex]/braket': `${src}/input/tex/extensions/braket/braket.js`,
  '[tex]/bussproofs': `${src}/input/tex/extensions/bussproofs/bussproofs.js`,
  '[tex]/cancel': `${src}/input/tex/extensions/cancel/cancel.js`,
  '[tex]/centernot': `${src}/input/tex/extensions/centernot/centernot.js`,
  '[tex]/color': `${src}/input/tex/extensions/color/color.js`,
  '[tex]/colorv2': `${src}/input/tex/extensions/colorv2/colorv2.js`,
  '[tex]/configmacros': `${src}/input/tex/extensions/configmacros/configmacros.js`,
  '[tex]/enclose': `${src}/input/tex/extensions/enclose/enclose.js`,
  '[tex]/extpfeil': `${src}/input/tex/extensions/extpfeil/extpfeil.js`,
  '[tex]/html': `${src}/input/tex/extensions/html/html.js`,
  '[tex]/mathtools': `${src}/input/tex/extensions/mathtools/mathtools.js`,
  '[tex]/mhchem': `${src}/input/tex/extensions/mhchem/mhchem.js`,
  '[tex]/newcommand': `${src}/input/tex/extensions/newcommand/newcommand.js`,
  '[tex]/noerrors': `${src}/input/tex/extensions/noerrors/noerrors.js`,
  '[tex]/noundefined': `${src}/input/tex/extensions/noundefined/noundefined.js`,
  '[tex]/physics': `${src}/input/tex/extensions/physics/physics.js`,
  '[tex]/require': `${src}/input/tex/extensions/require/require.js`,
  '[tex]/setoptions': `${src}/input/tex/extensions/setoptions/setoptions.js`,
  '[tex]/tagformat': `${src}/input/tex/extensions/tagformat/tagformat.js`,
  '[tex]/textmacros': `${src}/input/tex/extensions/textmacros/textmacros.js`,
  '[tex]/unicode': `${src}/input/tex/extensions/unicode/unicode.js`,
  '[tex]/verb': `${src}/input/tex/extensions/verb/verb.js`,
  '[tex]/cases': `${src}/input/tex/extensions/cases/cases.js`,
  '[tex]/empheq': `${src}/input/tex/extensions/empheq/empheq.js`,
  'input/mml': `${src}/input/mml/mml.js`,
  'input/mml/entities': `${src}/input/mml/entities/entities.js`,
  '[mml]/mml3': `${src}/input/mml/extensions/mml3/mml3.js`,
  'input/asciimath': `${src}/input/asciimath/asciimath.js`,
  'output/chtml': `${src}/output/chtml/chtml.js`,
  'output/chtml/fonts/tex': `${src}/output/chtml/fonts/tex/tex.js`,
  'output/svg': `${src}/output/svg/svg.js`,
  'output/svg/fonts/tex': `${src}/output/svg/fonts/tex/tex.js`,
  'a11y/assistive-mml': `${src}/a11y/assistive-mml/assistive-mml.js`,
  'a11y/semantic-enrich': `${src}/a11y/semantic-enrich/semantic-enrich.js`,
  'a11y/complexity': `${src}/a11y/complexity/complexity.js`,
  'a11y/explorer': `${src}/a11y/explorer/explorer.js`,
  '[sre]': (typeof window === 'undefined' ? `${src}/../../js/a11y/sre-node.js` :
            `${src}/../../node_modules/speech-rule-engine/lib/sre_browser.js`),
  'ui/lazy': `${src}/ui/lazy/lazy.js`,
  'ui/menu': `${src}/ui/menu/menu.js`,
  'ui/safe': `${src}/ui/safe/safe.js`,
  'mml-chtml': `${src}/mml-chtml/mml-chtml.js`,
  'mml-svg': `${src}/mml-svg/mml-svg.js`,
  'tex-chtml': `${src}/tex-chtml/tex-chtml.js`,
  'tex-svg': `${src}/tex-svg/tex-svg.js`,
  'tex-mml-chtml': `${src}/tex-mml-chtml/tex-mml-chtml.js`,
  'tex-mml-svg': `${src}/tex-mml-svg/tex-mml-svg.js`,
  'loader': `${src}/loader/loader.js`,
  'startup': `${src}/startup/startup.js`
};
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.130">
import './lib/noundefined.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1300">/**
 * Tags every display formula. Exceptions are: Environments that explicitly
 * disallow tags, e.g., equation*.
 * @constructor
 * @extends {AbstractTags}
 */
export class AllTags extends AbstractTags {

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1301">public finalize(node: MmlNode, env: EnvList) {
  if (!env.display || this.history.find(
    function(x: TagInfo) { return x.taggable; })) {
    return node;
  }
  let tag = this.getTag(true);
  return this.enTag(node, tag);
}

</t>
<t tx="ekr.20211016054411.1302">/**
 * Class interface for factory.
 * @interface
 */
export interface TagsClass {
  new (): Tags;
}


export namespace TagsFactory {

  let tagsMapping = new Map&lt;string, TagsClass&gt;([
    ['none', NoTags],
    ['all', AllTags]
  ]);

  let defaultTags = 'none';

  /**
   * The default options for tagging
   * @type {OptionList}
   */
  export let OPTIONS: OptionList = {
    // Tagging style, used to be autonumber in v2.
    tags: defaultTags,
    // This specifies the side on which \tag{} macros will place the tags.
    // Set to 'left' to place on the left-hand side.
    tagSide: 'right',
    // This is the amount of indentation (from right or left) for the tags.
    tagIndent: '0.8em',
    // make element ID's use \label name rather than equation number
    // MJ puts in an equation prefix: mjx-eqn
    // When true it uses the label name XXX as mjx-eqn:XXX
    // If false it uses the actual number N that is displayed: mjx-eqn:N
    useLabelIds: true,
    // Set to true in order to prevent error messages for duplicate label ids
    ignoreDuplicateLabels: false
  };


  /**
   * Add a tagging object.
   * @param {string} name Name of the tagging object.
   * @param {TagsClass} constr The class of the Tagging object.
   */
  export let add = function(name: string, constr: TagsClass) {
    tagsMapping.set(name, constr);
  };


  /**
   * Adds a list of tagging objects to the factory.
   * @param {{[name: string]: TagsClass}} tags The list of tagging objects.
   */
  export let addTags = function(tags: {[name: string]: TagsClass}) {
    for (const key of Object.keys(tags)) {
      TagsFactory.add(key, tags[key]);
    }
  };


  /**
   * Creates a new tagging object.
   * @param {string} name The name of the tagging object.
   * @return {Tags} The newly created object.
   */
  export let create = function(name: string): Tags {
    let constr = tagsMapping.get(name) || tagsMapping.get(defaultTags);
    if (!constr) {
        throw Error('Unknown tags class');
    }
    return new constr();
  };


  /**
   * Set the name of the default tagging object.
   * @param {string} name The default.
   */
  export let setDefault = function(name: string) {
    defaultTags = name;
  };


  /**
   * @return {Tags} The default tagging object.
   */
  export let getDefault = function(): Tags {
    return TagsFactory.create(defaultTags);
  };

}
</t>
<t tx="ekr.20211016054411.1303">



/**
 * @fileoverview Constant definitions for the TeX Parser. These should
 *     eventually be combined with the MathML structure.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

export namespace TexConstant {

  export const Variant = {
    NORMAL: 'normal',
    BOLD: 'bold',
    ITALIC: 'italic',
    BOLDITALIC: 'bold-italic',
    DOUBLESTRUCK: 'double-struck',
    FRAKTUR: 'fraktur',
    BOLDFRAKTUR: 'bold-fraktur',
    SCRIPT: 'script',
    BOLDSCRIPT: 'bold-script',
    SANSSERIF: 'sans-serif',
    BOLDSANSSERIF: 'bold-sans-serif',
    SANSSERIFITALIC: 'sans-serif-italic',
    SANSSERIFBOLDITALIC: 'sans-serif-bold-italic',
    MONOSPACE: 'monospace',
    INITIAL: 'inital',
    TAILED: 'tailed',
    LOOPED: 'looped',
    STRETCHED: 'stretched',
    CALLIGRAPHIC: '-tex-calligraphic',
    BOLDCALLIGRAPHIC: '-tex-bold-calligraphic',
    OLDSTYLE: '-tex-oldstyle',
    BOLDOLDSTYLE: '-tex-bold-oldstyle',
    MATHITALIC: '-tex-mathit'
  };

  export const Form = {
    PREFIX: 'prefix',
    INFIX: 'infix',
    POSTFIX: 'postfix'
  };

  export const LineBreak = {
    AUTO: 'auto',
    NEWLINE: 'newline',
    NOBREAK: 'nobreak',
    GOODBREAK: 'goodbreak',
    BADBREAK: 'badbreak'
  };

  export const LineBreakStyle = {
    BEFORE: 'before',
    AFTER: 'after',
    DUPLICATE: 'duplicate',
    INFIXLINBREAKSTYLE: 'infixlinebreakstyle'
  };

  export const IndentAlign = {
    LEFT: 'left',
    CENTER: 'center',
    RIGHT: 'right',
    AUTO: 'auto',
    ID: 'id',
    INDENTALIGN: 'indentalign'
  };

  export const IndentShift = {
    INDENTSHIFT: 'indentshift'
  };

  export const LineThickness = {
    THIN: 'thin',
    MEDIUM: 'medium',
    THICK: 'thick'
  };

  export const Notation = {
    LONGDIV: 'longdiv',
    ACTUARIAL: 'actuarial',
    PHASORANGLE: 'phasorangle',
    RADICAL: 'radical',
    BOX: 'box',
    ROUNDEDBOX: 'roundedbox',
    CIRCLE: 'circle',
    LEFT: 'left',
    RIGHT: 'right',
    TOP: 'top',
    BOTTOM: 'bottom',
    UPDIAGONALSTRIKE: 'updiagonalstrike',
    DOWNDIAGONALSTRIKE: 'downdiagonalstrike',
    VERTICALSTRIKE: 'verticalstrike',
    HORIZONTALSTRIKE: 'horizontalstrike',
    NORTHEASTARROW: 'northeastarrow',
    MADRUWB: 'madruwb',
    UPDIAGONALARROW: 'updiagonalarrow'
  };

  export const Align = {
    TOP: 'top',
    BOTTOM: 'bottom',
    CENTER: 'center',
    BASELINE: 'baseline',
    AXIS: 'axis',
    LEFT: 'left',
    RIGHT: 'right'
  };

  export const Lines = {
    NONE: 'none',
    SOLID: 'solid',
    DASHED: 'dashed'
  };

  export const Side = {
    LEFT: 'left',
    RIGHT: 'right',
    LEFTOVERLAP: 'leftoverlap',
    RIGHTOVERLAP: 'rightoverlap'
  };

  export const Width = {
    AUTO: 'auto',
    FIT: 'fit'
  };

  export const Actiontype = {
    TOGGLE: 'toggle',
    STATUSLINE: 'statusline',
    TOOLTIP: 'tooltip',
    INPUT: 'input'
  };

  export const Overflow = {
    LINBREAK: 'linebreak',
    SCROLL: 'scroll',
    ELIDE: 'elide',
    TRUNCATE: 'truncate',
    SCALE: 'scale'
  };

  export const Unit = {
    EM: 'em',
    EX: 'ex',
    PX: 'px',
    IN: 'in',
    CM: 'cm',
    MM: 'mm',
    PT: 'pt',
    PC: 'pc'
  };

}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1304">



/**
 * @fileoverview Error class for the TeX parser.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


export default class TexError {

  private static pattern =
    /%(\d+|\{\d+\}|\{[a-z]+:\%\d+(?:\|(?:%\{\d+\}|%.|[^\}])*)+\}|.)/g;

  /**
   * Default error message.
   * @type {string}
   */
  public message: string;

  /**
   * The old MathJax processing function.
   * @param {string} str The basic error message.
   * @param {string[]} args The arguments to be replaced in the error message.
   * @return {string} The processed error string.
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1305">private static processString(str: string, args: string[]): string {
  let parts = str.split(TexError.pattern);
  for (let i = 1, m = parts.length; i &lt; m; i += 2) {
    let c = parts[i].charAt(0);  // first char will be { or \d or a char to be
                                 // kept literally
    if (c &gt;= '0' &amp;&amp; c &lt;= '9') {    // %n
      parts[i] = args[parseInt(parts[i], 10) - 1];
      if (typeof parts[i] === 'number') {
        parts[i] = parts[i].toString();
      }
    } else if (c === '{') {        // %{n} or %{plural:%n|...}
      c = parts[i].substr(1);
      if (c &gt;= '0' &amp;&amp; c &lt;= '9') {  // %{n}
        parts[i] = args[parseInt(parts[i].substr(1, parts[i].length - 2), 10) - 1];
        if (typeof parts[i] === 'number') {
          parts[i] = parts[i].toString();
        }
      } else {                     // %{plural:%n|...}
        let match = parts[i].match(/^\{([a-z]+):%(\d+)\|(.*)\}$/);
        if (match) {
          // Removed plural here.
          parts[i] = '%' + parts[i];
        }
      }
    }
    if (parts[i] == null) {
      parts[i] = '???';
    }
  }
  return parts.join('');
}

</t>
<t tx="ekr.20211016054411.1306">/**
 * @constructor
 * @param{string} id        message id (for localization)
 * @param{string} message   text of English message
 * @param{string[]=} rest   any substitution arguments
 */
  constructor(public id: string, message: string, ...rest: string[]) {
    this.message = TexError.processString(message, rest);
  }

}
</t>
<t tx="ekr.20211016054411.1307">



/**
 * @fileoverview The TexParser. Implements the basic parsing functionality and
 *     administers the global stack and tree objects.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import ParseUtil from './ParseUtil.js';
import {HandlerType} from './MapHandler.js';
import Stack from './Stack.js';
import StackItemFactory from './StackItemFactory.js';
import {Tags} from './Tags.js';
import TexError from './TexError.js';
import {MmlNode, AbstractMmlNode} from '../../core/MmlTree/MmlNode.js';
import {ParseInput, ParseResult} from './Types.js';
import ParseOptions from './ParseOptions.js';
import {StackItem, EnvList} from './StackItem.js';
import {Symbol} from './Symbol.js';
import {OptionList} from '../../util/Options.js';


/**
 * The main Tex Parser class.
 */
export default class TexParser {

  /**
   * Counter for recursive macros.
   * @type {number}
   */
  public macroCount: number = 0;

  /**
   * The stack for items and created nodes.
   * @type {Stack}
   */
  public stack: Stack;

  /**
   * Current position in the string that is parsed.
   * @type {number}
   */
  public i: number = 0;

  /**
   * The last command sequence
   * @type {string}
   */
  public currentCS: string = '';

  /**
   * @constructor
   * @param {string} string The string to parse.
   * @param {EnvList} env The intial environment representing the current parse
   *     state of the overall expression translation.
   * @param {ParseOptions} configuration A parser configuration.
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1308">constructor(private _string: string, env: EnvList, public configuration: ParseOptions) {
  const inner = env.hasOwnProperty('isInner');
  const isInner = env['isInner'] as boolean;
  delete env['isInner'];
  let ENV: EnvList;
  if (env) {
    ENV = {};
    for (const id of Object.keys(env)) {
      ENV[id] = env[id];
    }
  }
  this.configuration.pushParser(this);
  this.stack = new Stack(this.itemFactory, ENV, inner ? isInner : true);
  this.Parse();
  this.Push(this.itemFactory.create('stop'));
}

/**
 * @return {OptionList} The configuration options.
 */
get options(): OptionList {
  return this.configuration.options;
}

/**
 * @return {StackItemFactory} The factory for stack items.
 */
get itemFactory(): StackItemFactory {
  return this.configuration.itemFactory;
}

/**
 * @return {Tags} The tags style of this configuration.
 */
get tags(): Tags {
  return this.configuration.tags;
}

/**
 * Sets the string that should be parsed.
 * @param {string} str The new string to parse.
 */
set string(str: string) {
  this._string = str;
}

/**
 * @return {string} The string that is currently parsed.
 */
get string(): string {
  return this._string;
}


</t>
<t tx="ekr.20211016054411.1309">/**
 * Parses the input with the specified kind of map.
 * @param {HandlerType} kind Configuration name.
 * @param {ParseInput} input Input to be parsed.
 * @return {ParseResult} The output of the parsing function.
 */
public parse(kind: HandlerType, input: ParseInput): ParseResult {
  return this.configuration.handlers.get(kind).parse(input);
}


</t>
<t tx="ekr.20211016054411.131">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/noundefined', // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1310">/**
 * Maps a symbol to its "parse value" if it exists.
 * @param {HandlerType} kind Configuration name.
 * @param {string} symbol The symbol to parse.
 * @return {any} A boolean, Character, or Macro.
 */
public lookup(kind: HandlerType, symbol: string): any {
  return this.configuration.handlers.get(kind).lookup(symbol);
}


</t>
<t tx="ekr.20211016054411.1311">/**
 * Checks if a symbol is contained in one of the symbol mappings of the
 * specified kind.
 * @param {HandlerType} kind Configuration name.
 * @param {string} symbol The symbol to parse.
 * @return {boolean} True if the symbol is contained in the given types of
 *     symbol mapping.
 */
public contains(kind: HandlerType, symbol: string): boolean {
  return this.configuration.handlers.get(kind).contains(symbol);
}


</t>
<t tx="ekr.20211016054411.1312">/**
 * @override
 */
public toString(): string {
  let str = '';
  for (const config of Array.from(this.configuration.handlers.keys())) {
    str += config + ': ' +
      this.configuration.handlers.get(config as HandlerType) + '\n';
  }
  return str;
}


</t>
<t tx="ekr.20211016054411.1313">/**
 * Parses the current input string.
 */
public Parse() {
  let c: string;
  while (this.i &lt; this.string.length) {
    c = this.getCodePoint();
    this.i += c.length;
    this.parse('character', [this, c]);
  }
}


</t>
<t tx="ekr.20211016054411.1314">/**
 * Pushes a new item onto the stack. The item can also be a Mml node,
 *   but if the mml item is an inferred row, push its children instead.
 * @param {StackItem|MmlNode} arg The new item.
 */
public Push(arg: StackItem | MmlNode) {
  if (arg instanceof AbstractMmlNode &amp;&amp; arg.isInferred) {
    this.PushAll(arg.childNodes);
  } else {
    this.stack.Push(arg);
  }
}


</t>
<t tx="ekr.20211016054411.1315">/**
 * Pushes a list of new items onto the stack.
 * @param {StackItem|MmlNode[]} args The new items.
 */
public PushAll(args: (StackItem | MmlNode)[]) {
  for (const arg of args) {
    this.stack.Push(arg);
  }
}


</t>
<t tx="ekr.20211016054411.1316">/**
 * @return {MmlNode} The internal Mathml structure.
 */
public mml(): MmlNode {
  if (!this.stack.Top().isKind('mml')) {
    return null;
  }
  let node = this.stack.Top().First;
  this.configuration.popParser();
  return node;
}

/************************************************************************
 *
 *   String handling routines
 */

</t>
<t tx="ekr.20211016054411.1317">/**
 * Convert delimiter to character.
 * @param {string} c The delimiter name.
 * @return {string} The corresponding character.
 */
public convertDelimiter(c: string): string {
  const symbol = this.lookup('delimiter', c) as Symbol;
  return symbol ? symbol.char : null;
}

</t>
<t tx="ekr.20211016054411.1318">/**
 * @return {string}   Get the next unicode character in the string
 */
public getCodePoint(): string {
  const code = this.string.codePointAt(this.i);
  return code === undefined ? '' : String.fromCodePoint(code);
}

</t>
<t tx="ekr.20211016054411.1319">/**
 * @return {boolean} True if the next character to parse is a space.
 */
public nextIsSpace(): boolean {
  return !!this.string.charAt(this.i).match(/\s/);
}

</t>
<t tx="ekr.20211016054411.132"></t>
<t tx="ekr.20211016054411.1320">/**
 * @return {string} Get the next non-space character.
 */
public GetNext(): string {
  while (this.nextIsSpace()) {
    this.i++;
  }
  return this.getCodePoint();
}

</t>
<t tx="ekr.20211016054411.1321">/**
 * @return {string} Get and return a control-sequence name
 */
public GetCS(): string {
  let CS = this.string.slice(this.i).match(/^(([a-z]+) ?|[\uD800-\uDBFF].|.)/i);
  if (CS) {
    this.i += CS[0].length;
    return CS[2] || CS[1];
  } else {
    this.i++;
    return ' ';
  }
}

</t>
<t tx="ekr.20211016054411.1322">/**
 * Get and return a TeX argument (either a single character or control
 *     sequence, or the contents of the next set of braces).
 * @param {string} name Name of the current control sequence.
 * @param {boolean} noneOK? True if no argument is OK.
 * @return {string} The next argument.
 */
public GetArgument(_name: string, noneOK?: boolean): string {
  switch (this.GetNext()) {
  case '':
    if (!noneOK) {
      // @test MissingArgFor
      throw new TexError('MissingArgFor', 'Missing argument for %1', this.currentCS);
    }
    return null;
  case '}':
    if (!noneOK) {
      // @test ExtraCloseMissingOpen
      throw new TexError('ExtraCloseMissingOpen',
                          'Extra close brace or missing open brace');
    }
    return null;
  case '\\':
    this.i++;
    return '\\' + this.GetCS();
  case '{':
    let j = ++this.i, parens = 1;
    while (this.i &lt; this.string.length) {
      switch (this.string.charAt(this.i++)) {
      case '\\':  this.i++; break;
      case '{':   parens++; break;
      case '}':
        if (--parens === 0) {
          return this.string.slice(j, this.i - 1);
        }
        break;
      }
    }
    // @test MissingCloseBrace
    throw new TexError('MissingCloseBrace', 'Missing close brace');
  }
  const c = this.getCodePoint();
  this.i += c.length;
  return c;
}


</t>
<t tx="ekr.20211016054411.1323">/**
 * Get an optional LaTeX argument in brackets.
 * @param {string} name Name of the current control sequence.
 * @param {string} def? The default value for the optional argument.
 * @return {string} The optional argument.
 */
public GetBrackets(_name: string, def?: string): string {
  if (this.GetNext() !== '[') {
    return def;
  }
  let j = ++this.i, parens = 0;
  while (this.i &lt; this.string.length) {
    switch (this.string.charAt(this.i++)) {
    case '{':   parens++; break;
    case '\\':  this.i++; break;
    case '}':
      if (parens-- &lt;= 0) {
        // @test ExtraCloseLooking1
        throw new TexError('ExtraCloseLooking',
                            'Extra close brace while looking for %1', '\']\'');
      }
      break;
    case ']':
      if (parens === 0) {
        return this.string.slice(j, this.i - 1);
      }
      break;
    }
  }
  // @test MissingCloseBracket
  throw new TexError('MissingCloseBracket',
                      'Could not find closing \']\' for argument to %1', this.currentCS);
}

</t>
<t tx="ekr.20211016054411.1324">/**
 *  Get the name of a delimiter (check it in the delimiter list).
 * @param {string} name Name of the current control sequence.
 * @param {boolean} braceOK? Are braces around the delimiter OK.
 * @return {string} The delimiter name.
 */
public GetDelimiter(name: string, braceOK?: boolean): string {
  let c = this.GetNext(); this.i += c.length;
  if (this.i &lt;= this.string.length) {
    if (c === '\\') {
      c += this.GetCS();
    } else if (c === '{' &amp;&amp; braceOK) {
      this.i--;
      c = this.GetArgument(name).trim();
    }
    if (this.contains('delimiter', c)) {
      return this.convertDelimiter(c);
    }
  }
  // @test MissingOrUnrecognizedDelim1, MissingOrUnrecognizedDelim2
  throw new TexError('MissingOrUnrecognizedDelim',
                      'Missing or unrecognized delimiter for %1', this.currentCS);
}

</t>
<t tx="ekr.20211016054411.1325">/**
 * Get a dimension (including its units).
 * @param {string} name Name of the current control sequence.
 * @return {string} The dimension string.
 */
public GetDimen(name: string): string {
  if (this.GetNext() === '{') {
    let dimen = this.GetArgument(name);
    let [value, unit] = ParseUtil.matchDimen(dimen);
    if (value) {
      // @test Raise In Line, Lower 2, (Raise|Lower) Negative
      return value + unit;
    }
  } else {
    // @test Above, Raise, Lower, Modulo, Above With Delims
    let dimen = this.string.slice(this.i);
    let [value, unit, length] = ParseUtil.matchDimen(dimen, true);
    if (value) {
      this.i += length;
      return value + unit;
    }
  }
  // @test MissingDimOrUnits
  throw new TexError('MissingDimOrUnits',
                      'Missing dimension or its units for %1', this.currentCS);
}

</t>
<t tx="ekr.20211016054411.1326">/**
 *  Get everything up to the given control sequence (token)
 * @param {string} name Name of the current control sequence.
 * @param {string} token The element until where to parse.
 * @return {string} The text between the current position and the given token.
 */
public GetUpTo(_name: string, token: string): string {
  while (this.nextIsSpace()) {
    this.i++;
  }
  let j = this.i;
  let parens = 0;
  while (this.i &lt; this.string.length) {
    let k = this.i;
    let c = this.GetNext(); this.i += c.length;
    switch (c) {
    case '\\':  c += this.GetCS(); break;
    case '{':   parens++; break;
    case '}':
      if (parens === 0) {
        // @test ExtraCloseLooking2
        throw new TexError('ExtraCloseLooking',
                            'Extra close brace while looking for %1', token);
      }
      parens--;
      break;
    }
    if (parens === 0 &amp;&amp; c === token) {
      return this.string.slice(j, k);
    }
  }
  // @test TokenNotFoundForCommand
  throw new TexError('TokenNotFoundForCommand',
                      'Could not find %1 for %2', token, this.currentCS);
}

</t>
<t tx="ekr.20211016054411.1327">/**
 * Parse the arguments of a control sequence in a new parser instance.
 * @param {string} name Name of the current control sequence.
 * @return {MmlNode} The parsed node.
 */
public ParseArg(name: string): MmlNode  {
  return new TexParser(this.GetArgument(name), this.stack.env,
                       this.configuration).mml();
}

</t>
<t tx="ekr.20211016054411.1328">/**
 * Parses a given string up to a given token in a new parser instance.
 * @param {string} name Name of the current control sequence.
 * @param {string} token A Token at which to end parsing.
 * @return {MmlNode} The parsed node.
 */
public ParseUpTo(name: string, token: string): MmlNode {
  return new TexParser(this.GetUpTo(name, token), this.stack.env,
                       this.configuration).mml();
}


</t>
<t tx="ekr.20211016054411.1329">/**
 * Get a delimiter or empty argument
 * @param {string} name Name of the current control sequence.
 * @return {string} The delimiter.
 */
public GetDelimiterArg(name: string): string {
  let c = ParseUtil.trimSpaces(this.GetArgument(name));
  if (c === '') {
    return null;
  }
  if (this.contains('delimiter', c)) {
    return c;
  }
  // @test MissingOrUnrecognizedDelim
  throw new TexError('MissingOrUnrecognizedDelim',
                      'Missing or unrecognized delimiter for %1', this.currentCS);
}

</t>
<t tx="ekr.20211016054411.133">
import './lib/physics.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1330">/**
 * @return {boolean} True if a star follows the control sequence name.
 */
public GetStar(): boolean {
  let star = (this.GetNext() === '*');
  if (star) {
    this.i++;
  }
  return star;
}


</t>
<t tx="ekr.20211016054411.1331">/**
 * Convenience method to create nodes with the node factory of the current
 * configuration.
 * @param {string} kind The kind of node to create.
 * @param {any[]} ...rest The remaining arguments for the creation method.
 * @return {MmlNode} The newly created node.
 */
  public create(kind: string, ...rest: any[]): MmlNode {
    return this.configuration.nodeFactory.create(kind, ...rest);
  }


}
</t>
<t tx="ekr.20211016054411.1332">



/**
 * @fileoverview Basic type definitions.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {StackItem} from './StackItem.js';
import {Symbol} from './Symbol.js';
import TexParser from './TexParser.js';

export type Args = boolean | number | string | null;

export type Attributes = Record&lt;string, Args&gt;;

export type Environment = Record&lt;string, Args&gt;;

export type ParseInput = [TexParser, string];
export type ParseResult = void | boolean | StackItem;

export type ParseMethod = (parser: TexParser, c: string | Symbol | StackItem, ...rest: any[]) =&gt; ParseResult;
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1333"></t>
<t tx="ekr.20211016054411.1334">



/**
 * @fileoverview Configuration file for the action package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import TexParser from '../TexParser.js';
import {CommandMap} from '../SymbolMap.js';
import {ParseMethod} from '../Types.js';
import BaseMethods from '../base/BaseMethods.js';


// Namespace
export let ActionMethods: Record&lt;string, ParseMethod&gt; = {};

ActionMethods.Macro = BaseMethods.Macro;

/**
 * Implement \toggle {math1} {math2} ... \endtoggle
 *    (as an &lt;maction actiontype="toggle"&gt;)
 * @param {TexParser} parser The current tex parser.
 * @param {string} name The name of the calling macro.
 */
ActionMethods.Toggle = function(parser: TexParser, name: string) {
  const children = [];
  let arg;
  while ((arg = parser.GetArgument(name)) !== '\\endtoggle') {
    children.push(
      new TexParser(arg, parser.stack.env, parser.configuration).mml());
  }
  parser.Push(
    parser.create('node', 'maction', children, {actiontype: 'toggle'}));
};


/**
 * Implement \mathtip{math}{tip}
 *   (an an &lt;maction actiontype="tooltip"&gt;)
 * @param {TexParser} parser The current tex parser.
 * @param {string} name The name of the calling macro.
 */
ActionMethods.Mathtip = function(parser: TexParser, name: string) {
  const arg = parser.ParseArg(name);
  const tip = parser.ParseArg(name);
  parser.Push(
    parser.create('node', 'maction', [arg, tip], {actiontype: 'tooltip'}));
};


new CommandMap('action-macros', {
  toggle:  'Toggle',
  mathtip: 'Mathtip',
  texttip: ['Macro', '\\mathtip{#1}{\\text{#2}}', 2]
}, ActionMethods);


export const ActionConfiguration = Configuration.create(
  'action', {handler: {macro: ['action-macros']}}
);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1335"></t>
<t tx="ekr.20211016054411.1336">



/**
 * @fileoverview Configuration file for the AMS package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration, ParserConfiguration} from '../Configuration.js';
import {MultlineItem, FlalignItem} from './AmsItems.js';
import {AbstractTags} from '../Tags.js';
import {NEW_OPS} from './AmsMethods.js';
import './AmsMappings.js';
import {CommandMap} from '../SymbolMap.js';


/**
 * Standard AMS style tagging.
 * @constructor
 * @extends {AbstractTags}
 */
export class AmsTags extends AbstractTags { }


/**
 * Init method for AMS package.
 * @param {ParserConfiguration} config The current configuration.
 */
let init = function(config: ParserConfiguration) {
  new CommandMap(NEW_OPS, {}, {});
  config.append(Configuration.local({handler: {macro: [NEW_OPS]},
                                    priority: -1}));
};

export const AmsConfiguration = Configuration.create(
  'ams', {
    handler: {
      delimiter: ['AMSsymbols-delimiter', 'AMSmath-delimiter'],
      macro: ['AMSsymbols-mathchar0mi', 'AMSsymbols-mathchar0mo',
              'AMSsymbols-delimiter', 'AMSsymbols-macros',
              'AMSmath-mathchar0mo', 'AMSmath-macros', 'AMSmath-delimiter'],
      environment: ['AMSmath-environment']
    },
    items: {
      [MultlineItem.prototype.kind]: MultlineItem,
      [FlalignItem.prototype.kind]: FlalignItem,
    },
    tags: {'ams': AmsTags},
    init: init,
    config: (_config: ParserConfiguration, jax: any)  =&gt; {
      //
      //  Move multlineWidth from old location to ams block (remove in next version)
      //
      if (jax.parseOptions.options.multlineWidth) {
        jax.parseOptions.options.ams.multlineWidth = jax.parseOptions.options.multlineWidth;
      }
      delete jax.parseOptions.options.multlineWidth;
    },
    options: {
      multlineWidth: '',
      ams: {
        multlineWidth: '100%',  // The width to use for multline environments.
        multlineIndent: '1em',  // The margin to use on both sides of multline environments.
      }
    }
  }
);


@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1337">



/**
 * @fileoverview StackItems needed for parsing AMS math commands.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import {ArrayItem, EqnArrayItem} from '../base/BaseItems.js';
import ParseUtil from '../ParseUtil.js';
import NodeUtil from '../NodeUtil.js';
import TexError from '../TexError.js';
import {TexConstant} from '../TexConstants.js';
import {MmlNode} from '../../../core/MmlTree/MmlNode.js';


/**
 * Item dealing with multiline environments as a special case of arrays. Note,
 * that all other AMS equation environments (e.g., align, split) can be handled
 * by the regular EqnArrayItem class.
 *
 * Handles tagging information according to the given tagging style.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1338">export class MultlineItem extends ArrayItem {

  /**
   * @override
   */
  @others
}

</t>
<t tx="ekr.20211016054411.1339">constructor(factory: any, ...args: any[]) {
  super(factory);
  this.factory.configuration.tags.start('multline', true, args[0]);
}


/**
 * @override
 */
get kind() {
  return 'multline';
}


</t>
<t tx="ekr.20211016054411.134">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/physics',     // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1340">/**
 * @override
 */
public EndEntry() {
  if (this.table.length) {
    ParseUtil.fixInitialMO(this.factory.configuration, this.nodes);
  }
  const shove = this.getProperty('shove');
  const mtd = this.create('node',
                          'mtd', this.nodes, shove ? {columnalign: shove} : {});
  this.setProperty('shove', null);
  this.row.push(mtd);
  this.Clear();
}

</t>
<t tx="ekr.20211016054411.1341">/**
 * @override
 */
public EndRow() {
  if (this.row.length !== 1) {
    // @test MultlineRowsOneCol
    throw new TexError(
      'MultlineRowsOneCol',
      'The rows within the %1 environment must have exactly one column',
      'multline');
  }
  let row = this.create('node', 'mtr', this.row);
  this.table.push(row);
  this.row = [];
}

</t>
<t tx="ekr.20211016054411.1342">/**
 * @override
 */
public EndTable() {
  super.EndTable();
  if (this.table.length) {
    let m = this.table.length - 1, label = -1;
    if (!NodeUtil.getAttribute(
      NodeUtil.getChildren(this.table[0])[0], 'columnalign')) {
      NodeUtil.setAttribute(NodeUtil.getChildren(this.table[0])[0],
                            'columnalign', TexConstant.Align.LEFT);
    }
    if (!NodeUtil.getAttribute(
      NodeUtil.getChildren(this.table[m])[0], 'columnalign')) {
      NodeUtil.setAttribute(NodeUtil.getChildren(this.table[m])[0],
                            'columnalign', TexConstant.Align.RIGHT);
    }
    let tag = this.factory.configuration.tags.getTag();
    if (tag) {
      label = (this.arraydef.side === TexConstant.Align.LEFT ? 0 : this.table.length - 1);
      const mtr = this.table[label];
      const mlabel = this.create('node', 'mlabeledtr',
                                 [tag].concat(NodeUtil.getChildren(mtr)));
      NodeUtil.copyAttributes(mtr, mlabel);
      this.table[label] = mlabel;
    }
  }
  this.factory.configuration.tags.end();
}
</t>
<t tx="ekr.20211016054411.1343">/**
 * StackItem for handling flalign, xalignat, and xxalignat environments.
 */
export class FlalignItem extends EqnArrayItem {

  /**
   * @override
   */
  get kind() {
    return 'flalign';
  }


  /**
   * @override
   */
  constructor(factory: any, public name: string, public numbered: boolean,
              public padded: boolean, public center: boolean) {
    super(factory);
    this.factory.configuration.tags.start(name, numbered, numbered);
  }

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1344">public EndEntry() {
  super.EndEntry();
  const n = this.getProperty('xalignat') as number;
  if (!n) return;
  if (this.row.length &gt; n) {
    throw new TexError('XalignOverflow', 'Extra %1 in row of %2', '&amp;', this.name);
  }
}


</t>
<t tx="ekr.20211016054411.1345">/**
 * @override
 */
public EndRow() {
  let cell: MmlNode;
  let row = this.row;
  //
  //  For xalignat and xxalignat, pad the row to the expected number if it is too short.
  //
  const n = this.getProperty('xalignat') as number;
  while (row.length &lt; n) {
    row.push(this.create('node', 'mtd'));
  }
  //
  //  Insert padding cells between pairs of entries, as needed for "fit" columns,
  //    and include initial and end cells if that is needed.
  //
  this.row = [];
  if (this.padded) {
    this.row.push(this.create('node', 'mtd'));
  }
  while ((cell = row.shift())) {
    this.row.push(cell);
    cell = row.shift();
    if (cell) this.row.push(cell);
    if (row.length || this.padded) {
      this.row.push(this.create('node', 'mtd'));
    }
  }
  //
  if (this.row.length &gt; this.maxrow) {
    this.maxrow = this.row.length;
  }
  super.EndRow();
  //
  // For full-width environments with labels that aren't supposed to take up space,
  //   move the label into a zero-width mpadded element that laps in the proper direction.
  //
  const mtr = this.table[this.table.length - 1];
  if (this.getProperty('zeroWidthLabel') &amp;&amp; mtr.isKind('mlabeledtr')) {
    const mtd = NodeUtil.getChildren(mtr)[0];
    const side = this.factory.configuration.options['tagSide'];
    const def = {width: 0, ...(side === 'right' ? {lspace: '-1width'} : {})};
    const mpadded = this.create('node', 'mpadded', NodeUtil.getChildren(mtd), def);
    mtd.setChildren([mpadded]);
  }
}


</t>
<t tx="ekr.20211016054411.1346">/**
 * @override
 */
public EndTable() {
  super.EndTable();
  if (this.center) {
    //
    //  If there is only one equation (one pair):
    //    Don't make it 100%, and don't change the indentalign.
    //
    if (this.maxrow &lt;= 2) {
      const def = this.arraydef;
      delete def.width;
      delete this.global.indentalign;
    }
  }
}

</t>
<t tx="ekr.20211016054411.1347">




/**
 * @fileoverview Mappings for TeX parsing of the AMS math package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {AmsMethods} from './AmsMethods.js';
import *  as sm from '../SymbolMap.js';
import {TexConstant} from '../TexConstants.js';
import ParseMethods from '../ParseMethods.js';
import ParseUtil from '../ParseUtil.js';
import {TEXCLASS} from '../../../core/MmlTree/MmlNode.js';
import {MATHSPACE} from '../../../util/lengths.js';


/**
 * Operators from the AMS Math package.
 */
new sm.CharacterMap('AMSmath-mathchar0mo', ParseMethods.mathchar0mo, {
  iiiint:     ['\u2A0C', {texClass: TEXCLASS.OP}]
});


/**
 * Macros from the AMS Math package.
 */
new sm.CommandMap('AMSmath-macros', {
  mathring:   ['Accent', '02DA'],  // or 0x30A
  nobreakspace: 'Tilde',
  negmedspace:    ['Spacer', MATHSPACE.negativemediummathspace],
  negthickspace:  ['Spacer', MATHSPACE.negativethickmathspace],

  idotsint:   ['MultiIntegral', '\\int\\cdots\\int'],

  dddot:      ['Accent', '20DB'],
  ddddot:     ['Accent', '20DC'],

  sideset:    ['Macro', '\\mathop{\\mathop{\\rlap{\\phantom{#3}}}\\nolimits#1' +
               '\\!\\mathop{#3}\\nolimits#2}', 3],

  boxed:      ['Macro', '\\fbox{$\\displaystyle{#1}$}', 1],

  tag:         'HandleTag',
  notag:       'HandleNoTag',
  eqref:       ['HandleRef', true],

  substack:   ['Macro', '\\begin{subarray}{c}#1\\end{subarray}', 1],

  injlim:     ['NamedOp', 'inj&amp;thinsp;lim'],
  projlim:    ['NamedOp', 'proj&amp;thinsp;lim'],
  varliminf:  ['Macro', '\\mathop{\\underline{\\mmlToken{mi}{lim}}}'],
  varlimsup:  ['Macro', '\\mathop{\\overline{\\mmlToken{mi}{lim}}}'],
  varinjlim:  ['Macro', '\\mathop{\\underrightarrow{\\mmlToken{mi}{lim}}}'],
  varprojlim: ['Macro', '\\mathop{\\underleftarrow{\\mmlToken{mi}{lim}}}'],

  DeclareMathOperator: 'HandleDeclareOp',
  operatorname:        'HandleOperatorName',
  SkipLimits:          'SkipLimits',

  genfrac:     'Genfrac',
  frac:       ['Genfrac', '', '', '', ''],
  tfrac:      ['Genfrac', '', '', '', '1'],
  dfrac:      ['Genfrac', '', '', '', '0'],
  binom:      ['Genfrac', '(', ')', '0', ''],
  tbinom:     ['Genfrac', '(', ')', '0', '1'],
  dbinom:     ['Genfrac', '(', ')', '0', '0'],

  cfrac:       'CFrac',

  shoveleft:  ['HandleShove', TexConstant.Align.LEFT],
  shoveright: ['HandleShove', TexConstant.Align.RIGHT],

  xrightarrow: ['xArrow', 0x2192, 5, 10],
  xleftarrow:  ['xArrow', 0x2190, 10, 5]
}, AmsMethods);


/**
 * Environments from the AMS Math package.
 */
new sm.EnvironmentMap('AMSmath-environment', ParseMethods.environment, {
  'equation*':   ['Equation', null, false],
  'eqnarray*':   ['EqnArray', null, false, true, 'rcl',
                  ParseUtil.cols(0, MATHSPACE.thickmathspace), '.5em'],
  align:         ['EqnArray', null, true, true,  'rl',  ParseUtil.cols(0, 2)],
  'align*':      ['EqnArray', null, false, true, 'rl',  ParseUtil.cols(0, 2)],
  multline:      ['Multline', null, true],
  'multline*':   ['Multline', null, false],
  split:         ['EqnArray', null, false, false, 'rl', ParseUtil.cols(0)],
  gather:        ['EqnArray', null, true, true,  'c'],
  'gather*':     ['EqnArray', null, false, true, 'c'],

  alignat:       ['AlignAt', null, true, true],
  'alignat*':    ['AlignAt', null, false, true],
  alignedat:     ['AlignAt', null, false, false],

  aligned:       ['AmsEqnArray', null, null, null, 'rl', ParseUtil.cols(0, 2), '.5em', 'D'],
  gathered:      ['AmsEqnArray', null, null, null, 'c', null, '.5em', 'D'],

  xalignat:      ['XalignAt', null, true, true],
  'xalignat*':   ['XalignAt', null, false, true],
  xxalignat:     ['XalignAt', null, false, false],
  flalign:       ['FlalignArray', null, true, false, true, 'rlc', 'auto auto fit'],
  'flalign*':    ['FlalignArray', null, false, false, true, 'rlc', 'auto auto fit'],

  subarray:      ['Array', null, null, null, null, ParseUtil.cols(0), '0.1em', 'S', 1],
  smallmatrix:   ['Array', null, null, null, 'c', ParseUtil.cols(1 / 3),
                  '.2em', 'S', 1],
  matrix:       ['Array', null, null, null, 'c'],
  pmatrix:      ['Array', null, '(', ')', 'c'],
  bmatrix:      ['Array', null, '[', ']', 'c'],
  Bmatrix:      ['Array', null, '\\{', '\\}', 'c'],
  vmatrix:      ['Array', null, '\\vert', '\\vert', 'c'],
  Vmatrix:      ['Array', null, '\\Vert', '\\Vert', 'c'],
  cases:        ['Array', null, '\\{', '.', 'll', null, '.2em', 'T']
}, AmsMethods);


/**
 * Delimiters from the AMS Math package.
 */
new sm.DelimiterMap('AMSmath-delimiter', ParseMethods.delimiter, {
  '\\lvert':     ['\u007C', {texClass: TEXCLASS.OPEN}],
  '\\rvert':     ['\u007C', {texClass: TEXCLASS.CLOSE}],
  '\\lVert':     ['\u2016', {texClass: TEXCLASS.OPEN}],
  '\\rVert':     ['\u2016', {texClass: TEXCLASS.CLOSE}]
});


/**
 * Identifiers from the AMS Symbols package.
 */
new sm.CharacterMap('AMSsymbols-mathchar0mi', ParseMethods.mathchar0mi, {
  // Lowercase Greek letters
  digamma:                '\u03DD',
  varkappa:               '\u03F0',

  // Uppercase Greek letters
  varGamma:               ['\u0393', {mathvariant: TexConstant.Variant.ITALIC}],
  varDelta:               ['\u0394', {mathvariant: TexConstant.Variant.ITALIC}],
  varTheta:               ['\u0398', {mathvariant: TexConstant.Variant.ITALIC}],
  varLambda:              ['\u039B', {mathvariant: TexConstant.Variant.ITALIC}],
  varXi:                  ['\u039E', {mathvariant: TexConstant.Variant.ITALIC}],
  varPi:                  ['\u03A0', {mathvariant: TexConstant.Variant.ITALIC}],
  varSigma:               ['\u03A3', {mathvariant: TexConstant.Variant.ITALIC}],
  varUpsilon:             ['\u03A5', {mathvariant: TexConstant.Variant.ITALIC}],
  varPhi:                 ['\u03A6', {mathvariant: TexConstant.Variant.ITALIC}],
  varPsi:                 ['\u03A8', {mathvariant: TexConstant.Variant.ITALIC}],
  varOmega:               ['\u03A9', {mathvariant: TexConstant.Variant.ITALIC}],

  // Hebrew letters
  beth:                   '\u2136',
  gimel:                  '\u2137',
  daleth:                 '\u2138',

  // Miscellaneous symbols
  //    hbar:                   '\u0127',  // in TeX/jax.js
  backprime:              ['\u2035', {variantForm: true}],
  hslash:                 '\u210F',
  varnothing:             ['\u2205', {variantForm: true}],
  blacktriangle:          '\u25B4',
  triangledown:           ['\u25BD', {variantForm: true}],
  blacktriangledown:      '\u25BE',
  square:                 '\u25FB',
  Box:                    '\u25FB',
  blacksquare:            '\u25FC',
  lozenge:                '\u25CA',
  Diamond:                '\u25CA',
  blacklozenge:           '\u29EB',
  circledS:               ['\u24C8', {mathvariant: TexConstant.Variant.NORMAL}],
  bigstar:                '\u2605',
  //    angle:                  '\u2220',  // in TeX/jax.js
  sphericalangle:         '\u2222',
  measuredangle:          '\u2221',
  nexists:                '\u2204',
  complement:             '\u2201',
  mho:                    '\u2127',
  eth:                    ['\u00F0', {mathvariant: TexConstant.Variant.NORMAL}],
  Finv:                   '\u2132',
  diagup:                 '\u2571',
  Game:                   '\u2141',
  diagdown:               '\u2572',
  Bbbk:                   ['\u006B',
                           {mathvariant: TexConstant.Variant.DOUBLESTRUCK}],

  yen:                    '\u00A5',
  circledR:               '\u00AE',
  checkmark:              '\u2713',
  maltese:                '\u2720'
});


/**
 * Operators from the AMS Symbols package.
 */
new sm.CharacterMap('AMSsymbols-mathchar0mo', ParseMethods.mathchar0mo, {
  // Binary operators
  dotplus:                '\u2214',
  ltimes:                 '\u22C9',
  smallsetminus:          ['\u2216', {variantForm: true}],
  rtimes:                 '\u22CA',
  Cap:                    '\u22D2',
  doublecap:              '\u22D2',
  leftthreetimes:         '\u22CB',
  Cup:                    '\u22D3',
  doublecup:              '\u22D3',
  rightthreetimes:        '\u22CC',
  barwedge:               '\u22BC',
  curlywedge:             '\u22CF',
  veebar:                 '\u22BB',
  curlyvee:               '\u22CE',
  doublebarwedge:         '\u2A5E',
  boxminus:               '\u229F',
  circleddash:            '\u229D',
  boxtimes:               '\u22A0',
  circledast:             '\u229B',
  boxdot:                 '\u22A1',
  circledcirc:            '\u229A',
  boxplus:                '\u229E',
  centerdot:              ['\u22C5', {variantForm: true}],
  divideontimes:          '\u22C7',
  intercal:               '\u22BA',

  // Binary relations
  leqq:                   '\u2266',
  geqq:                   '\u2267',
  leqslant:               '\u2A7D',
  geqslant:               '\u2A7E',
  eqslantless:            '\u2A95',
  eqslantgtr:             '\u2A96',
  lesssim:                '\u2272',
  gtrsim:                 '\u2273',
  lessapprox:             '\u2A85',
  gtrapprox:              '\u2A86',
  approxeq:               '\u224A',
  lessdot:                '\u22D6',
  gtrdot:                 '\u22D7',
  lll:                    '\u22D8',
  llless:                 '\u22D8',
  ggg:                    '\u22D9',
  gggtr:                  '\u22D9',
  lessgtr:                '\u2276',
  gtrless:                '\u2277',
  lesseqgtr:              '\u22DA',
  gtreqless:              '\u22DB',
  lesseqqgtr:             '\u2A8B',
  gtreqqless:             '\u2A8C',
  doteqdot:               '\u2251',
  Doteq:                  '\u2251',
  eqcirc:                 '\u2256',
  risingdotseq:           '\u2253',
  circeq:                 '\u2257',
  fallingdotseq:          '\u2252',
  triangleq:              '\u225C',
  backsim:                '\u223D',
  thicksim:               ['\u223C', {variantForm: true}],
  backsimeq:              '\u22CD',
  thickapprox:            ['\u2248', {variantForm: true}],
  subseteqq:              '\u2AC5',
  supseteqq:              '\u2AC6',
  Subset:                 '\u22D0',
  Supset:                 '\u22D1',
  sqsubset:               '\u228F',
  sqsupset:               '\u2290',
  preccurlyeq:            '\u227C',
  succcurlyeq:            '\u227D',
  curlyeqprec:            '\u22DE',
  curlyeqsucc:            '\u22DF',
  precsim:                '\u227E',
  succsim:                '\u227F',
  precapprox:             '\u2AB7',
  succapprox:             '\u2AB8',
  vartriangleleft:        '\u22B2',
  lhd:                    '\u22B2',
  vartriangleright:       '\u22B3',
  rhd:                    '\u22B3',
  trianglelefteq:         '\u22B4',
  unlhd:                  '\u22B4',
  trianglerighteq:        '\u22B5',
  unrhd:                  '\u22B5',
  vDash:                  ['\u22A8', {variantForm: true}],
  Vdash:                  '\u22A9',
  Vvdash:                 '\u22AA',
  smallsmile:             ['\u2323', {variantForm: true}],
  shortmid:               ['\u2223', {variantForm: true}],
  smallfrown:             ['\u2322', {variantForm: true}],
  shortparallel:          ['\u2225', {variantForm: true}],
  bumpeq:                 '\u224F',
  between:                '\u226C',
  Bumpeq:                 '\u224E',
  pitchfork:              '\u22D4',
  varpropto:              ['\u221D', {variantForm: true}],
  backepsilon:            '\u220D',
  blacktriangleleft:      '\u25C2',
  blacktriangleright:     '\u25B8',
  therefore:              '\u2234',
  because:                '\u2235',
  eqsim:                  '\u2242',
  vartriangle:            ['\u25B3', {variantForm: true}],
  Join:                   '\u22C8',

  // Negated relations
  nless:                  '\u226E',
  ngtr:                   '\u226F',
  nleq:                   '\u2270',
  ngeq:                   '\u2271',
  nleqslant:              ['\u2A87', {variantForm: true}],
  ngeqslant:              ['\u2A88', {variantForm: true}],
  nleqq:                  ['\u2270', {variantForm: true}],
  ngeqq:                  ['\u2271', {variantForm: true}],
  lneq:                   '\u2A87',
  gneq:                   '\u2A88',
  lneqq:                  '\u2268',
  gneqq:                  '\u2269',
  lvertneqq:              ['\u2268', {variantForm: true}],
  gvertneqq:              ['\u2269', {variantForm: true}],
  lnsim:                  '\u22E6',
  gnsim:                  '\u22E7',
  lnapprox:               '\u2A89',
  gnapprox:               '\u2A8A',
  nprec:                  '\u2280',
  nsucc:                  '\u2281',
  npreceq:                ['\u22E0', {variantForm: true}],
  nsucceq:                ['\u22E1', {variantForm: true}],
  precneqq:               '\u2AB5',
  succneqq:               '\u2AB6',
  precnsim:               '\u22E8',
  succnsim:               '\u22E9',
  precnapprox:            '\u2AB9',
  succnapprox:            '\u2ABA',
  nsim:                   '\u2241',
  ncong:                  '\u2247',
  nshortmid:              ['\u2224', {variantForm: true}],
  nshortparallel:         ['\u2226', {variantForm: true}],
  nmid:                   '\u2224',
  nparallel:              '\u2226',
  nvdash:                 '\u22AC',
  nvDash:                 '\u22AD',
  nVdash:                 '\u22AE',
  nVDash:                 '\u22AF',
  ntriangleleft:          '\u22EA',
  ntriangleright:         '\u22EB',
  ntrianglelefteq:        '\u22EC',
  ntrianglerighteq:       '\u22ED',
  nsubseteq:              '\u2288',
  nsupseteq:              '\u2289',
  nsubseteqq:             ['\u2288', {variantForm: true}],
  nsupseteqq:             ['\u2289', {variantForm: true}],
  subsetneq:              '\u228A',
  supsetneq:              '\u228B',
  varsubsetneq:           ['\u228A', {variantForm: true}],
  varsupsetneq:           ['\u228B', {variantForm: true}],
  subsetneqq:             '\u2ACB',
  supsetneqq:             '\u2ACC',
  varsubsetneqq:          ['\u2ACB', {variantForm: true}],
  varsupsetneqq:          ['\u2ACC', {variantForm: true}],


  // Arrows
  leftleftarrows:         '\u21C7',
  rightrightarrows:       '\u21C9',
  leftrightarrows:        '\u21C6',
  rightleftarrows:        '\u21C4',
  Lleftarrow:             '\u21DA',
  Rrightarrow:            '\u21DB',
  twoheadleftarrow:       '\u219E',
  twoheadrightarrow:      '\u21A0',
  leftarrowtail:          '\u21A2',
  rightarrowtail:         '\u21A3',
  looparrowleft:          '\u21AB',
  looparrowright:         '\u21AC',
  leftrightharpoons:      '\u21CB',
  rightleftharpoons:      ['\u21CC', {variantForm: true}],
  curvearrowleft:         '\u21B6',
  curvearrowright:        '\u21B7',
  circlearrowleft:        '\u21BA',
  circlearrowright:       '\u21BB',
  Lsh:                    '\u21B0',
  Rsh:                    '\u21B1',
  upuparrows:             '\u21C8',
  downdownarrows:         '\u21CA',
  upharpoonleft:          '\u21BF',
  upharpoonright:         '\u21BE',
  downharpoonleft:        '\u21C3',
  restriction:            '\u21BE',
  multimap:               '\u22B8',
  downharpoonright:       '\u21C2',
  leftrightsquigarrow:    '\u21AD',
  rightsquigarrow:        '\u21DD',
  leadsto:                '\u21DD',
  dashrightarrow:         '\u21E2',
  dashleftarrow:          '\u21E0',

  // Negated arrows
  nleftarrow:             '\u219A',
  nrightarrow:            '\u219B',
  nLeftarrow:             '\u21CD',
  nRightarrow:            '\u21CF',
  nleftrightarrow:        '\u21AE',
  nLeftrightarrow:        '\u21CE'
});


/**
 * Delimiters from the AMS Symbols package.
 */
new sm.DelimiterMap('AMSsymbols-delimiter', ParseMethods.delimiter, {
  // corners
  '\\ulcorner':           '\u231C',
  '\\urcorner':           '\u231D',
  '\\llcorner':           '\u231E',
  '\\lrcorner':           '\u231F'
});


/**
 * Macros from the AMS Symbols package.
 */
new sm.CommandMap('AMSsymbols-macros', {
  implies:    ['Macro', '\\;\\Longrightarrow\\;'],
  impliedby:  ['Macro', '\\;\\Longleftarrow\\;']
}, AmsMethods);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1348">



/**
 * @fileoverview The AMS Parse methods.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import {StackItem} from '../StackItem.js';
import {ParseMethod} from '../Types.js';
import ParseUtil from '../ParseUtil.js';
import NodeUtil from '../NodeUtil.js';
import {TexConstant} from '../TexConstants.js';
import TexParser from '../TexParser.js';
import TexError from '../TexError.js';
import {Macro} from '../Symbol.js';
import {CommandMap} from '../SymbolMap.js';
import {ArrayItem} from '../base/BaseItems.js';
import {FlalignItem} from './AmsItems.js';
import BaseMethods from '../base/BaseMethods.js';
import {TEXCLASS} from '../../../core/MmlTree/MmlNode.js';
import {MmlMunderover} from '../../../core/MmlTree/MmlNodes/munderover.js';


// Namespace
export const AmsMethods: Record&lt;string, ParseMethod&gt; = {};


/**
 * Handle AMS array environments.
 * @param {TexParser} parser The calling parser.
 * @param {StackItem} begin The opening stackitem.
 * @param {boolean} numbered Environment numbered.
 * @param {boolean} taggable Environment taggable (e.g., align* is taggable,
 *     split is not).
 * @param {string} align Column alignment.
 * @param {string} spacing Column spacing.
 * @param {string} style Display style indicator.
 */
AmsMethods.AmsEqnArray = function(parser: TexParser, begin: StackItem,
                                      numbered: boolean, taggable: boolean,
                                      align: string, spacing: string,
                                      style: string) {
  // @test Aligned, Gathered
  const args = parser.GetBrackets('\\begin{' + begin.getName() + '}');
  const array = BaseMethods.EqnArray(parser, begin, numbered, taggable, align, spacing, style);
  return ParseUtil.setArrayAlign(array as ArrayItem, args);
};


/**
 * Handle AMS  alignat environments.
 * @param {TexParser} parser The calling parser.
 * @param {StackItem} begin The opening stackitem.
 * @param {boolean} numbered Environment numbered.
 * @param {boolean} taggable Environment taggable (e.g., align* is taggable,
 *     split is not).
 */
AmsMethods.AlignAt = function(parser: TexParser, begin: StackItem,
                              numbered: boolean, taggable: boolean) {
  const name = begin.getName();
  let n, valign, align = '', spacing = [];
  if (!taggable) {
    // @test Alignedat
    valign = parser.GetBrackets('\\begin{' + name + '}');
  }
  n = parser.GetArgument('\\begin{' + name + '}');
  if (n.match(/[^0-9]/)) {
    // @test PositiveIntegerArg
    throw new TexError('PositiveIntegerArg',
                        'Argument to %1 must me a positive integer',
                        '\\begin{' + name + '}');
  }
  let count = parseInt(n, 10);
  while (count &gt; 0) {
    align  += 'rl';
    spacing.push('0em 0em');
    count--;
  }
  let spaceStr = spacing.join(' ');
  if (taggable) {
    // @test Alignat, Alignat Star
    return AmsMethods.EqnArray(parser, begin, numbered, taggable, align, spaceStr);
  }
  // @test Alignedat
  let array = AmsMethods.EqnArray(parser, begin, numbered, taggable, align, spaceStr);
  return ParseUtil.setArrayAlign(array as ArrayItem, valign);
};


/**
 * Implements multline environment (mostly handled through STACKITEM below)
 * @param {TexParser} parser The calling parser.
 * @param {StackItem} begin The opening stackitem.
 * @param {boolean} numbered Environment numbered.
 */
AmsMethods.Multline = function (parser: TexParser, begin: StackItem, numbered: boolean) {
  // @test Shove*, Multline
  parser.Push(begin);
  ParseUtil.checkEqnEnv(parser);
  const item = parser.itemFactory.create('multline', numbered, parser.stack) as ArrayItem;
  item.arraydef = {
    displaystyle: true,
    rowspacing: '.5em',
    columnspacing: '100%',
    width: parser.options.ams['multlineWidth'],
    side: parser.options['tagSide'],
    minlabelspacing: parser.options['tagIndent'],
    framespacing: parser.options.ams['multlineIndent'] + ' 0',
    frame: '',   // Use frame spacing with no actual frame
    'data-width-includes-label': true // take label space out of 100% width
  };
  return item;
};


/**
 * Generate an align at environment.
 * @param {TexParser} parser The current TeX parser.
 * @param {StackItem} begin The begin stackitem.
 * @param {boolean} numbered Is this a numbered array.
 * @param {boolean} padded Is it padded.
 */
AmsMethods.XalignAt = function(parser: TexParser, begin: StackItem,
                                  numbered: boolean, padded: boolean) {
  let n = parser.GetArgument('\\begin{' + begin.getName() + '}');
  if (n.match(/[^0-9]/)) {
    throw new TexError('PositiveIntegerArg',
                       'Argument to %1 must me a positive integer',
                       '\\begin{' + begin.getName() + '}');
  }
  const align = (padded ? 'crl' : 'rlc');
  const width = (padded ? 'fit auto auto' : 'auto auto fit');
  const item = AmsMethods.FlalignArray(parser, begin, numbered, padded, false, align, width, true) as FlalignItem;
  item.setProperty('xalignat', 2 * parseInt(n));
  return item;
};


/**
 * Generate an flalign environment.
 * @param {TexParser} parser The current TeX parser.
 * @param {StackItem} begin The begin stackitem.
 * @param {boolean} numbered Is this a numbered array.
 * @param {boolean} padded Is it padded.
 * @param {boolean} center Is it centered.
 * @param {string} align The horizontal alignment for columns
 * @param {string} width The column widths of the table
 * @param {boolean} zeroWidthLabel True if the label should be in llap/rlap
 */
AmsMethods.FlalignArray = function(parser: TexParser, begin: StackItem, numbered: boolean,
                                  padded: boolean, center: boolean, align: string,
                                  width: string, zeroWidthLabel: boolean = false) {
  parser.Push(begin);
  ParseUtil.checkEqnEnv(parser);
  align = align
    .split('')
    .join(' ')
    .replace(/r/g, 'right')
    .replace(/l/g, 'left')
    .replace(/c/g, 'center');
  const item = parser.itemFactory.create(
    'flalign', begin.getName(), numbered, padded, center, parser.stack) as FlalignItem;
  item.arraydef = {
    width: '100%',
    displaystyle: true,
    columnalign: align,
    columnspacing: '0em',
    columnwidth: width,
    rowspacing: '3pt',
    side: parser.options['tagSide'],
    minlabelspacing: (zeroWidthLabel ? '0' : parser.options['tagIndent']),
    'data-width-includes-label': true,
  };
  item.setProperty('zeroWidthLabel', zeroWidthLabel);
  return item;
};


export const NEW_OPS = 'ams-declare-ops';

/**
 * Handle DeclareMathOperator.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
AmsMethods.HandleDeclareOp =  function (parser: TexParser, name: string) {
  let limits = (parser.GetStar() ? '' : '\\nolimits\\SkipLimits');
  let cs = ParseUtil.trimSpaces(parser.GetArgument(name));
  if (cs.charAt(0) === '\\') {
    cs = cs.substr(1);
  }
  let op = parser.GetArgument(name);
  if (!op.match(/\\text/)) {
    op = op.replace(/\*/g, '\\text{*}').replace(/-/g, '\\text{-}');
  }
  (parser.configuration.handlers.retrieve(NEW_OPS) as CommandMap).
    add(cs, new Macro(cs, AmsMethods.Macro, ['\\mathop{\\rm ' + op + '}' + limits]));
};


/**
 * Handle operatorname.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
AmsMethods.HandleOperatorName = function(parser: TexParser, name: string) {
  // @test Operatorname
  const limits = (parser.GetStar() ? '' : '\\nolimits\\SkipLimits');
  let op = ParseUtil.trimSpaces(parser.GetArgument(name));
  if (!op.match(/\\text/)) {
    op = op.replace(/\*/g, '\\text{*}').replace(/-/g, '\\text{-}');
  }
  parser.string = '\\mathop{\\rm ' + op + '}' + limits + ' ' +
    parser.string.slice(parser.i);
  parser.i = 0;
};


/**
 * Handle SkipLimits.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
AmsMethods.SkipLimits = function(parser: TexParser, _name: string) {
  // @test Operatorname
  const c = parser.GetNext(), i = parser.i;
  if (c === '\\' &amp;&amp; ++parser.i &amp;&amp; parser.GetCS() !== 'limits') {
    parser.i = i;
  }
};


/**
 * Handle multi integral signs.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} integral The actual integral sign.
 */
AmsMethods.MultiIntegral = function(parser: TexParser, name: string,
                                    integral: string) {
  let next = parser.GetNext();
  if (next === '\\') {
    // @test MultiInt with Command
    let i = parser.i;
    next = parser.GetArgument(name);
    parser.i = i;
    if (next === '\\limits') {
      if (name === '\\idotsint') {
       // @test MultiInt with Limits
        integral = '\\!\\!\\mathop{\\,\\,' + integral + '}';
      }
      else {
        // Question: This is not used anymore?
        integral = '\\!\\!\\!\\mathop{\\,\\,\\,' + integral + '}';
      }
    }
  }
  // @test MultiInt, MultiInt in Context
  parser.string = integral + ' ' + parser.string.slice(parser.i);
  parser.i = 0;
};


/**
 *  Handle stretchable arrows.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {number} chr The arrow character in hex code.
 * @param {number} l Left width.
 * @param {number} r Right width.
 */
AmsMethods.xArrow = function(parser: TexParser, name: string,
                             chr: number, l: number, r: number) {
  let def = {width: '+' + ParseUtil.Em((l + r) / 18), lspace: ParseUtil.Em(l / 18)};
  let bot = parser.GetBrackets(name);
  let first = parser.ParseArg(name);
  let dstrut = parser.create('node', 'mspace', [], {depth: '.25em'});
  let arrow = parser.create('token',
    'mo', {stretchy: true, texClass: TEXCLASS.REL}, String.fromCodePoint(chr));
  arrow = parser.create('node', 'mstyle', [arrow], {scriptlevel: 0});
  let mml = parser.create('node', 'munderover', [arrow]) as MmlMunderover;
  let mpadded = parser.create('node', 'mpadded', [first, dstrut], def);
  NodeUtil.setAttribute(mpadded, 'voffset', '-.2em');
  NodeUtil.setAttribute(mpadded, 'height', '-.2em');
  NodeUtil.setChild(mml, mml.over, mpadded);
  if (bot) {
    // @test Above Below Left Arrow, Above Below Right Arrow
    let bottom = new TexParser(bot, parser.stack.env, parser.configuration).mml();
    let bstrut = parser.create('node', 'mspace', [], {height: '.75em'});
    mpadded = parser.create('node', 'mpadded', [bottom, bstrut], def);
    NodeUtil.setAttribute(mpadded, 'voffset', '.15em');
    NodeUtil.setAttribute(mpadded, 'depth', '-.15em');
    NodeUtil.setChild(mml, mml.under, mpadded);
  }
  // @test Above Left Arrow, Above Right Arrow, Above Left Arrow in Context,
  //       Above Right Arrow in Context
  NodeUtil.setProperty(mml, 'subsupOK', true);
  parser.Push(mml);
};


/**
 * Record presence of \shoveleft and \shoveright
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} shove The shove value.
 */
AmsMethods.HandleShove = function(parser: TexParser, _name: string,
                                  shove: string) {
  let top = parser.stack.Top();
  // @test Shove (Left|Right) (Top|Middle|Bottom)
  if (top.kind !== 'multline') {
    // @test Shove Error Environment
    throw new TexError('CommandOnlyAllowedInEnv',
                        '%1 only allowed in %2 environment',
                        parser.currentCS, 'multline');
  }
  if (top.Size()) {
    // @test Shove Error (Top|Middle|Bottom)
    throw new TexError('CommandAtTheBeginingOfLine',
                        '%1 must come at the beginning of the line', parser.currentCS);
  }
  top.setProperty('shove', shove);
};


/**
 * Handle \cfrac
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
AmsMethods.CFrac = function(parser: TexParser, name: string) {
  let lr  = ParseUtil.trimSpaces(parser.GetBrackets(name, ''));
  let num = parser.GetArgument(name);
  let den = parser.GetArgument(name);
  let lrMap: {[key: string]: string} = {
    l: TexConstant.Align.LEFT, r: TexConstant.Align.RIGHT, '': ''};
  let numNode = new TexParser('\\strut\\textstyle{' + num + '}',
                              parser.stack.env, parser.configuration).mml();
  let denNode = new TexParser('\\strut\\textstyle{' + den + '}',
                              parser.stack.env, parser.configuration).mml();
  let frac = parser.create('node', 'mfrac', [numNode, denNode]);
  lr = lrMap[lr];
  if (lr == null) {
    // @test Center Fraction Error
    throw new TexError('IllegalAlign', 'Illegal alignment specified in %1', parser.currentCS);
  }
  if (lr) {
    // @test Right Fraction, Left Fraction
    NodeUtil.setProperties(frac, {numalign: lr, denomalign: lr});
  }
  // @test Center Fraction
  parser.Push(frac);
};


/**
 * Implement AMS generalized fraction.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} left Left delimiter.
 * @param {string} right Right delimiter.
 * @param {string} thick Line thickness.
 * @param {string} style Math style.
 */
AmsMethods.Genfrac = function(parser: TexParser, name: string, left: string,
                              right: string, thick: string, style: string) {
  if (left  == null) { // @test Genfrac
    left = parser.GetDelimiterArg(name);
  }
  if (right == null) { // @test Genfrac
    right = parser.GetDelimiterArg(name);
  }
  if (thick == null) { // @test Genfrac
    thick = parser.GetArgument(name);
  }
  if (style == null) { // @test Genfrac
    style = ParseUtil.trimSpaces(parser.GetArgument(name));
  }
  let num = parser.ParseArg(name);
  let den = parser.ParseArg(name);
  let frac = parser.create('node', 'mfrac', [num, den]);
  if (thick !== '') {
    // @test Normal Binomial, Text Binomial, Display Binomial
    NodeUtil.setAttribute(frac, 'linethickness', thick);
  }
  if (left || right) {
    // @test Normal Binomial, Text Binomial, Display Binomial
    NodeUtil.setProperty(frac, 'withDelims', true);
    frac = ParseUtil.fixedFence(parser.configuration, left, frac, right);
  }
  if (style !== '') {
    let styleDigit = parseInt(style, 10);
    let styleAlpha = ['D', 'T', 'S', 'SS'][styleDigit];
    if (styleAlpha == null) {
      // @test Genfrac Error
      throw new TexError('BadMathStyleFor', 'Bad math style for %1', parser.currentCS);
    }
    frac = parser.create('node', 'mstyle', [frac]);
    if (styleAlpha === 'D') {
      // @test Display Fraction, Display Sub Fraction, Display Binomial,
      //       Display Sub Binomial
      NodeUtil.setProperties(frac, {displaystyle: true, scriptlevel: 0});
    }
    else {
      // @test Text Fraction, Text Sub Fraction, Text Binomial,
      //       Text Sub Binomial
      NodeUtil.setProperties(frac, {displaystyle: false,
                                      scriptlevel: styleDigit - 1});
    }
  }
  // @test Text Fraction, Normal Sub Binomial, Normal Binomial
  parser.Push(frac);
};



/**
 * Add the tag to the environment (to be added to the table row later).
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
AmsMethods.HandleTag = function(parser: TexParser, name: string) {
  if (!parser.tags.currentTag.taggable &amp;&amp; parser.tags.env) {
    // @test Illegal Tag Error
    throw new TexError('CommandNotAllowedInEnv',
                        '%1 not allowed in %2 environment',
                        parser.currentCS, parser.tags.env);
  }
  if (parser.tags.currentTag.tag) {
    // @test Double Tag Error
    throw new TexError('MultipleCommand', 'Multiple %1', parser.currentCS);
  }
  let star = parser.GetStar();
  let tagId = ParseUtil.trimSpaces(parser.GetArgument(name));
  parser.tags.tag(tagId, star);
};


AmsMethods.HandleNoTag = BaseMethods.HandleNoTag;

AmsMethods.HandleRef = BaseMethods.HandleRef;

AmsMethods.Macro = BaseMethods.Macro;

AmsMethods.Accent = BaseMethods.Accent;

AmsMethods.Tilde = BaseMethods.Tilde;

AmsMethods.Array = BaseMethods.Array;

AmsMethods.Spacer = BaseMethods.Spacer;

AmsMethods.NamedOp = BaseMethods.NamedOp;

AmsMethods.EqnArray = BaseMethods.EqnArray;

AmsMethods.Equation = BaseMethods.Equation;
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1349"></t>
<t tx="ekr.20211016054411.135"></t>
<t tx="ekr.20211016054411.1350">



/**
 * @fileoverview Configuration file for the AMScd package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import './AmsCdMappings.js';


export const AmsCdConfiguration = Configuration.create(
  'amscd', {
    handler: {
      character: ['amscd_special'],
      macro: ['amscd_macros'],
      environment: ['amscd_environment']
    },
    options: {
      amscd: {
        colspace: '5pt',
        rowspace: '5pt',
        harrowsize: '2.75em',
        varrowsize: '1.75em',
        hideHorizontalLabels: false
      }
    }
  }
);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1351">



/**
 * @fileoverview Symbol mappings for the AMScd package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import * as sm from '../SymbolMap.js';
import ParseMethods from '../ParseMethods.js';
import AmsCdMethods from './AmsCdMethods.js';


new sm.EnvironmentMap('amscd_environment', ParseMethods.environment,
                      {CD: 'CD'}, AmsCdMethods);

new sm.CommandMap('amscd_macros', {
  minCDarrowwidth: 'minCDarrowwidth',
  minCDarrowheight: 'minCDarrowheight',
}, AmsCdMethods);

new sm.MacroMap('amscd_special', {'@': 'arrow'}, AmsCdMethods);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1352">



/**
 * @fileoverview Methods for the AMScd package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import TexParser from '../TexParser.js';
import {ParseMethod} from '../Types.js';
import {StackItem, EnvList} from '../StackItem.js';
import {ArrayItem} from '../base/BaseItems.js';
import {Other} from '../base/BaseConfiguration.js';
import {MmlMunderover} from '../../../core/MmlTree/MmlNodes/munderover.js';
import {TEXCLASS} from '../../../core/MmlTree/MmlNode.js';
import NodeUtil from '../NodeUtil.js';


// Namespace
let AmsCdMethods: Record&lt;string, ParseMethod&gt; = {};


/**
 * Handles CD environment for commutative diagrams.
 * @param {TexParser} parser The calling parser.
 * @param {StackItem} begin The opening stackitem.
 */
AmsCdMethods.CD = function(parser: TexParser, begin: StackItem) {
  parser.Push(begin);
  let item = parser.itemFactory.create('array') as ArrayItem;
  let options = parser.configuration.options.amscd;
  item.setProperties({
    minw: parser.stack.env.CD_minw || options.harrowsize,
    minh: parser.stack.env.CD_minh || options.varrowsize
  });
  item.arraydef = {
      columnalign: 'center',
      columnspacing: options.colspace,
      rowspacing: options.rowspace,
      displaystyle: true
  };
  return item;
};


/**
 * Converts arrows.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
AmsCdMethods.arrow = function(parser: TexParser, name: string) {
  let c = parser.string.charAt(parser.i);
  if (!c.match(/[&gt;&lt;VA.|=]/)) {
    return Other(parser, name);
  } else {
    parser.i++;
  }
  let first = parser.stack.Top();
  if (!first.isKind('array') || first.Size()) {
    AmsCdMethods.cell(parser, name);
    first = parser.stack.Top();
  }
  let top = first as ArrayItem;
  //
  //  Add enough cells to place the arrow correctly
  //
  let arrowRow = ((top.table.length % 2) === 1);
  let n = (top.row.length + (arrowRow ? 0 : 1)) % 2;
  while (n) {
    AmsCdMethods.cell(parser, name);
    n--;
  }

  let mml;
  let hdef = {minsize: top.getProperty('minw'), stretchy: true},
  vdef = {minsize: top.getProperty('minh'),
          stretchy: true, symmetric: true, lspace: 0, rspace: 0};

  if (c === '.') {
  } else if (c === '|') {
    mml = parser.create('token', 'mo',  vdef, '\u2225');
  } else if (c === '=') {
    mml = parser.create('token', 'mo', hdef, '=');
  } else {
    //
    //  for @&gt;&gt;&gt; @&lt;&lt;&lt; @VVV and @AAA, get the arrow and labels
    //
    // TODO: cleanup!
    let arrow: string = ({
      '&gt;': '\u2192', '&lt;': '\u2190', 'V': '\u2193', 'A': '\u2191'} as {[key: string]: string}) [c];
    let a = parser.GetUpTo(name + c, c);
    let b = parser.GetUpTo(name + c, c);
    if (c === '&gt;' || c === '&lt;') {
      //
      //  Lay out horizontal arrows with munderover if it has labels
      //
      mml = parser.create('token', 'mo', hdef, arrow);
      if (!a) {
        a = '\\kern ' + top.getProperty('minw');
      } // minsize needs work
      if (a || b) {
        let pad: EnvList = {width: '.67em', lspace: '.33em'};
        mml = parser.create('node', 'munderover', [mml]) as MmlMunderover;
        if (a) {
          let nodeA = new TexParser(a, parser.stack.env, parser.configuration).mml();
          let mpadded = parser.create('node', 'mpadded', [nodeA], pad);
          NodeUtil.setAttribute(mpadded, 'voffset', '.1em');
          NodeUtil.setChild(mml, mml.over, mpadded);
        }
        if (b) {
          let nodeB = new TexParser(b, parser.stack.env, parser.configuration).mml();
          NodeUtil.setChild(mml, mml.under, parser.create('node', 'mpadded', [nodeB], pad));
        }
          if (parser.configuration.options.amscd.hideHorizontalLabels) {
            mml = parser.create('node', 'mpadded', mml, {depth: 0, height: '.67em'});
          }
        }
      } else {
      //
      //  Lay out vertical arrows with mrow if there are labels
      //
        let arrowNode = parser.create('token', 'mo', vdef, arrow);
        mml = arrowNode;
        if (a || b) {
          mml = parser.create('node', 'mrow');
          if (a) {
            NodeUtil.appendChildren(
              mml, [new TexParser('\\scriptstyle\\llap{' + a + '}', parser.stack.env, parser.configuration).mml()]);
          }
          arrowNode.texClass = TEXCLASS.ORD;
          NodeUtil.appendChildren(mml, [arrowNode]);
          if (b) {
            NodeUtil.appendChildren(mml, [new TexParser('\\scriptstyle\\rlap{' + b + '}',
                                                       parser.stack.env, parser.configuration).mml()]);
          }
      }
    }
  }
  if (mml) {
    parser.Push(mml);
  }
  AmsCdMethods.cell(parser, name);
};


/**
 * Converts a cell in the diagram.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
AmsCdMethods.cell = function(parser: TexParser, name: string) {
  let top = parser.stack.Top() as ArrayItem;
  if ((top.table || []).length % 2 === 0 &amp;&amp; (top.row || []).length === 0) {
    //
    // Add a strut to the first cell in even rows to get
    // better spacing of arrow rows.
    //
    parser.Push(parser.create('node', 'mpadded', [], {height: '8.5pt', depth: '2pt'}));
  }
  parser.Push(parser.itemFactory.create('cell').setProperties({isEntry: true, name: name}));
};


/**
 * Sets minimal width for arrows.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
AmsCdMethods.minCDarrowwidth = function(parser: TexParser, name: string) {
  parser.stack.env.CD_minw = parser.GetDimen(name);
};


/**
 * Sets minimal height for arrows.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
AmsCdMethods.minCDarrowheight = function(parser: TexParser, name: string) {
  parser.stack.env.CD_minh = parser.GetDimen(name);
};


export default AmsCdMethods;
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1353"></t>
<t tx="ekr.20211016054411.1354">



/**
 * @fileoverview    Configuration file for the autoload package.
 *
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import {Configuration, ParserConfiguration} from '../Configuration.js';
import TexParser from '../TexParser.js';
import {CommandMap} from '../SymbolMap.js';
import {Macro} from '../Symbol.js';
import {TeX} from '../../tex.js';

import {RequireLoad, RequireConfiguration} from '../require/RequireConfiguration.js';
import {Package} from '../../../components/package.js';
import {expandable, defaultOptions} from '../../../util/Options.js';


/**
 * Autoload an extension when the first macro for it is encountered
 *   (if the extension has already been loaded, remove the autoload
 *    macros and environments so they won't try to load it again, and
 *    back up to read the macro again, call the RequireLoad command to
 *    either load the extension, or initialize it.)
 *
 * @param {TexParser} parser   The TeX input parser
 * @param {string} name        The control sequence that is running
 * @param {string} extension   The extension to load
 * @param {boolean} isMacro    True if this is a macro, false if an environment
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1355">function Autoload(parser: TexParser, name: string, extension: string, isMacro: boolean) {
  if (Package.packages.has(parser.options.require.prefix + extension)) {
    const def = parser.options.autoload[extension];
    const [macros, envs] = (def.length === 2 &amp;&amp; Array.isArray(def[0]) ? def : [def, []]);
    for (const macro of macros) {
      AutoloadMacros.remove(macro);
    }
    for (const env of envs) {
      AutoloadEnvironments.remove(env);
    }
    //
    //  Put back the macro or \begin and read it again
    //
    parser.string = (isMacro ? name + ' ' : '\\begin{' + name.slice(1) + '}' ) + parser.string.slice(parser.i);
    parser.i = 0;
  }
  RequireLoad(parser, extension);
}

</t>
<t tx="ekr.20211016054411.1356">/**
 * Check if the require extension has been initialized
 * (If autoload has been included in the TeX packages, but require isn't, then we need
 *  to set up the options here and configure the require package in configAutoload below.
 *  the priorities of the initialization and configuration are set so that autoload
 *  will run after require when both are used.)
 */
function initAutoload(config: ParserConfiguration) {
  if (!config.options.require) {
    defaultOptions(config.options, RequireConfiguration.options);
  }
}

</t>
<t tx="ekr.20211016054411.1357">/**
 * Create the macros and environments for the extensions that need to be loaded.
 * Only ones that aren't already defined are made to autoload
 *   (except for \color, which is overridden if present)
 */
function configAutoload(config: ParserConfiguration, jax: TeX&lt;any, any, any&gt;) {
  const parser = jax.parseOptions;
  const macros = parser.handlers.get('macro');
  const environments = parser.handlers.get('environment');
  const autoload = parser.options.autoload;
  parser.packageData.set('autoload', {Autoload});  // used by textmacros to tell if a macro is autoloading
  //
  // Loop through the autoload definitions
  //
  for (const extension of Object.keys(autoload)) {
    const def = autoload[extension];
    const [macs, envs] = (def.length === 2 &amp;&amp; Array.isArray(def[0]) ? def : [def, []]);
    //
    // Create the macros
    //
    for (const name of macs) {
      if (!macros.lookup(name) || name === 'color') {
        AutoloadMacros.add(name, new Macro(name, Autoload, [extension, true]));
      }
    }
    //
    // Create the environments
    //
    for (const name of envs) {
      if (!environments.lookup(name)) {
        AutoloadEnvironments.add(name, new Macro(name, Autoload, [extension, false]));
      }
    }
  }
  //
  //  Check if the require extension needs to be configured
  //
  if (!parser.packageData.get('require')) {
    RequireConfiguration.config(config, jax);
  }
}

/**
 * The command and environment maps for the macros that autoload extensions
 */
const AutoloadMacros = new CommandMap('autoload-macros', {}, {});
const AutoloadEnvironments = new CommandMap('autoload-environments', {}, {});


/**
 * The configuration object for configmacros
 */
export const AutoloadConfiguration = Configuration.create(
  'autoload', {
    handler: {
      macro: ['autoload-macros'],
      environment: ['autoload-environments']
    },
    options: {
      //
      //  These are the extension names and the macros and environments they contain.
      //    The format is [macros...] or [[macros...], [environments...]]
      //  You can prevent one from being autoloaded by setting
      //    it to [] in the options when the TeX input jax is created.
      //  You can include the prefix if it is not the default one from require
      //
      autoload: expandable({
        action: ['toggle', 'mathtip', 'texttip'],
        amscd: [[], ['CD']],
        bbox: ['bbox'],
        boldsymbol: ['boldsymbol'],
        braket: ['bra', 'ket', 'braket', 'set', 'Bra', 'Ket', 'Braket', 'Set', 'ketbra', 'Ketbra'],
        bussproofs: [[], ['prooftree']],
        cancel: ['cancel', 'bcancel', 'xcancel', 'cancelto'],
        color: ['color', 'definecolor', 'textcolor', 'colorbox', 'fcolorbox'],
        enclose: ['enclose'],
        extpfeil: ['xtwoheadrightarrow', 'xtwoheadleftarrow', 'xmapsto', 'xlongequal', 'xtofrom', 'Newextarrow'],
        html: ['href', 'class', 'style', 'cssId'],
        mhchem: ['ce', 'pu'],
        newcommand: ['newcommand', 'renewcommand', 'newenvironment', 'renewenvironment', 'def', 'let'],
        unicode: ['unicode'],
        verb: ['verb']
      })
    },
    config: configAutoload,
    init: initAutoload,
    priority: 10
  }
);
</t>
<t tx="ekr.20211016054411.1358"></t>
<t tx="ekr.20211016054411.1359">



/**
 * @fileoverview Configuration for the Base LaTeX parser.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import {MapHandler} from '../MapHandler.js';
import TexError from '../TexError.js';
import NodeUtil from '../NodeUtil.js';
import TexParser from '../TexParser.js';
import {CharacterMap} from '../SymbolMap.js';
import * as bitem from './BaseItems.js';
import {AbstractTags} from '../Tags.js';
import './BaseMappings.js';
import {getRange} from '../../../core/MmlTree/OperatorDictionary.js';
import {MmlNode} from '../../../core/MmlTree/MmlNode.js';
import ParseOptions from '../ParseOptions.js';

/**
 * Remapping some ASCII characters to their Unicode operator equivalent.
 */
new CharacterMap('remap', null, {
  '-':   '\u2212',
  '*':   '\u2217',
  '`':   '\u2018'   // map ` to back quote
});


/**
 * Default handling of characters (as &lt;mo&gt; elements).
 * @param {TexParser} parser The calling parser.
 * @param {string} char The character to parse.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.136">
import './lib/require.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1360">export function Other(parser: TexParser, char: string) {
  const font = parser.stack.env['font'];
  let def = font ?
    // @test Other Font
    {mathvariant: parser.stack.env['font']} : {};
  const remap = (MapHandler.getMap('remap') as CharacterMap).lookup(char);
  const range = getRange(char);
  const type = (range ? range[3] : 'mo');
  // @test Other
  // @test Other Remap
  let mo = parser.create('token', type, def, (remap ? remap.char : char));
  if (type === 'mo') {
    NodeUtil.setProperty(mo, 'fixStretchy', true);
    parser.configuration.addNode('fixStretchy', mo);
  }
  parser.Push(mo);
}


</t>
<t tx="ekr.20211016054411.1361">/**
 * Handle undefined control sequence.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The name of the control sequence.
 */
function csUndefined(_parser: TexParser, name: string) {
  // @test Undefined-CS
  throw new TexError('UndefinedControlSequence',
                      'Undefined control sequence %1', '\\' + name);
}


</t>
<t tx="ekr.20211016054411.1362">/**
 * Handle undefined environments.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The name of the control sequence.
 */
function envUndefined(_parser: TexParser, env: string) {
  // @test Undefined-Env
  throw new TexError('UnknownEnv', 'Unknown environment \'%1\'', env);
}

</t>
<t tx="ekr.20211016054411.1363">/**
 * Filter for removing spacing following \nonscript
 * @param{ParseOptions} data The active tex parser.
 */
function filterNonscript({data}: {data: ParseOptions}) {
  for (const mml of data.getList('nonscript')) {
    //
    //  This is the list of mspace elements or mrow &gt; mstyle &gt; mspace
    //    that followed \nonscript macros to be tested for removal.
    //
    if (mml.attributes.get('scriptlevel') &gt; 0) {
      //
      //  The mspace needs to be removed, since we are in a script style.
      //  Remove it from the DOM and from the list of mspace elements.
      //
      const parent = mml.parent;
      parent.childNodes.splice(parent.childIndex(mml), 1);
      data.removeFromList(mml.kind, [mml]);
      //
      //  If it is an mrow &gt; mstyle &gt; mspace, then we have just
      //    removed the mrow from its list, and must remove
      //    the mstyle and mspace from their lists as well.
      //
      if (mml.isKind('mrow')) {
        const mstyle = mml.childNodes[0] as MmlNode;
        data.removeFromList('mstyle', [mstyle]);
        data.removeFromList('mspace', mstyle.childNodes[0].childNodes as MmlNode[]);
      }
    } else if (mml.isKind('mrow')) {
      //
      // This is an mrow &gt; mstyle &gt; mspace  but we're not in a script
      //   style, so remove the mrow that we had added in the NonscriptItem.
      //
      mml.parent.replaceChild(mml.childNodes[0], mml);
      data.removeFromList('mrow', [mml]);
    }
  }
}


/**
 * @constructor
 * @extends {AbstractTags}
 */
export class BaseTags extends AbstractTags { }


/**
 * The base configuration.
 * @type {Configuration}
 */
export const BaseConfiguration: Configuration = Configuration.create(
  'base',  {
    handler: {
      character: ['command', 'special', 'letter', 'digit'],
      delimiter: ['delimiter'],
      // Note, that the position of the delimiters here is important!
      macro: ['delimiter', 'macros', 'mathchar0mi', 'mathchar0mo', 'mathchar7'],
      environment: ['environment']
    },
    fallback: {
      character: Other,
      macro: csUndefined,
      environment: envUndefined
    },
    items: {
      // BaseItems
      [bitem.StartItem.prototype.kind]: bitem.StartItem,
      [bitem.StopItem.prototype.kind]: bitem.StopItem,
      [bitem.OpenItem.prototype.kind]: bitem.OpenItem,
      [bitem.CloseItem.prototype.kind]: bitem.CloseItem,
      [bitem.PrimeItem.prototype.kind]: bitem.PrimeItem,
      [bitem.SubsupItem.prototype.kind]: bitem.SubsupItem,
      [bitem.OverItem.prototype.kind]: bitem.OverItem,
      [bitem.LeftItem.prototype.kind]: bitem.LeftItem,
      [bitem.Middle.prototype.kind]: bitem.Middle,
      [bitem.RightItem.prototype.kind]: bitem.RightItem,
      [bitem.BeginItem.prototype.kind]: bitem.BeginItem,
      [bitem.EndItem.prototype.kind]: bitem.EndItem,
      [bitem.StyleItem.prototype.kind]: bitem.StyleItem,
      [bitem.PositionItem.prototype.kind]: bitem.PositionItem,
      [bitem.CellItem.prototype.kind]: bitem.CellItem,
      [bitem.MmlItem.prototype.kind]: bitem.MmlItem,
      [bitem.FnItem.prototype.kind]: bitem.FnItem,
      [bitem.NotItem.prototype.kind]: bitem.NotItem,
      [bitem.NonscriptItem.prototype.kind]: bitem.NonscriptItem,
      [bitem.DotsItem.prototype.kind]: bitem.DotsItem,
      [bitem.ArrayItem.prototype.kind]: bitem.ArrayItem,
      [bitem.EqnArrayItem.prototype.kind]: bitem.EqnArrayItem,
      [bitem.EquationItem.prototype.kind]: bitem.EquationItem
    },
    options: {
      maxMacros: 1000,
      baseURL: (typeof(document) === 'undefined' ||
                document.getElementsByTagName('base').length === 0) ?
                '' : String(document.location).replace(/#.*$/, '')
    },
    tags: {
      base: BaseTags
    },
    postprocessors: [[filterNonscript, -4]]
  }
);
</t>
<t tx="ekr.20211016054411.1364">



/**
 * @fileoverview Stack items for basic Tex parsing.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import {MapHandler} from '../MapHandler.js';
import {CharacterMap} from '../SymbolMap.js';
import {entities} from '../../../util/Entities.js';
import {MmlNode, TextNode, TEXCLASS} from '../../../core/MmlTree/MmlNode.js';
import {MmlMsubsup} from '../../../core/MmlTree/MmlNodes/msubsup.js';
import TexError from '../TexError.js';
import ParseUtil from '../ParseUtil.js';
import NodeUtil from '../NodeUtil.js';
import {Property} from '../../../core/Tree/Node.js';
import StackItemFactory from '../StackItemFactory.js';
import {CheckType, BaseItem, StackItem, EnvList} from '../StackItem.js';


/**
 * Initial item on the stack. It's pushed when parsing begins.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1365">export class StartItem extends BaseItem {

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1366">constructor(factory: StackItemFactory, public global: EnvList) {
  super(factory);
}


/**
 * @override
 */
public get kind() {
  return 'start';
}


/**
 * @override
 */
get isOpen() {
  return true;
}

</t>
<t tx="ekr.20211016054411.1367">/**
 * @override
 */
public checkItem(item: StackItem): CheckType {
  if (item.isKind('stop')) {
    let node = this.toMml();
    if (!this.global.isInner) {
      node = this.factory.configuration.tags.finalize(node, this.env);
    }
    return [[this.factory.create('mml', node)], true];
  }
  return super.checkItem(item);
}

</t>
<t tx="ekr.20211016054411.1368">/**
 * Final item on the stack. Errors will be thrown if other items than the start
 * item are still on the stack.
 */
export class StopItem extends BaseItem {

  /**
   * @override
   */
  public get kind() {
    return 'stop';
  }


  /**
   * @override
   */
  get isClose() {
    return true;
  }

}


</t>
<t tx="ekr.20211016054411.1369">/**
 * Item indicating an open brace.
 */
export class OpenItem extends BaseItem {


  /**
   * @override
   */
  protected static errors = Object.assign(Object.create(BaseItem.errors), {
    // @test ExtraOpenMissingClose
    'stop': ['ExtraOpenMissingClose',
             'Extra open brace or missing close brace']
  });

  /**
   * @override
   */
  public get kind() {
    return 'open';
  }


  /**
   * @override
   */
  get isOpen() {
    return true;
  }

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.137">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/require',     // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib',
    'components/src/startup/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1370">public checkItem(item: StackItem): CheckType {
  if (item.isKind('close')) {
    // @test PrimeSup
    let mml = this.toMml();
    const node = this.create('node', 'TeXAtom', [mml]);
    return [[this.factory.create('mml', node)], true];
  }
  return super.checkItem(item);
}
</t>
<t tx="ekr.20211016054411.1371">/**
 * Item indicating a close brace. Collapses stack until an OpenItem is found.
 */
export class CloseItem extends BaseItem {

  /**
   * @override
   */
  public get kind() {
    return 'close';
  }


  /**
   * @override
   */
  get isClose() {
    return true;
  }

}


</t>
<t tx="ekr.20211016054411.1372">/**
 * Item indicating an we are currently dealing with a prime mark.
 */
export class PrimeItem extends BaseItem {

  /**
   * @override
   */
  public get kind() {
    return 'prime';
  }

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1373">public checkItem(item: StackItem): CheckType {
  let [top0, top1] = this.Peek(2);
  if (!NodeUtil.isType(top0, 'msubsup') || NodeUtil.isType(top0, 'msup')) {
    // @test Prime, Double Prime
    const node = this.create('node', 'msup', [top0, top1]);
    return [[node, item], true];
  }
  NodeUtil.setChild(top0, (top0 as MmlMsubsup).sup, top1);
  return [[top0, item], true];
}
</t>
<t tx="ekr.20211016054411.1374">/**
 * Item indicating an we are currently dealing with a sub/superscript
 * expression.
 */
export class SubsupItem extends BaseItem {

  /**
   * @override
   */
  protected static errors = Object.assign(Object.create(BaseItem.errors), {
    // @test MissingScript Sub, MissingScript Sup
    'stop': ['MissingScript',
             'Missing superscript or subscript argument'],
    // @test MissingOpenForSup
    'sup': ['MissingOpenForSup',
            'Missing open brace for superscript'],
    // @test MissingOpenForSub
    'sub': ['MissingOpenForSub',
            'Missing open brace for subscript']
  });

  /**
   * @override
   */
  public get kind() {
    return 'subsup';
  }

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1375">public checkItem(item: StackItem): CheckType | null {
  if (item.isKind('open') || item.isKind('left')) {
    return BaseItem.success;
  }
  const top = this.First;
  const position = this.getProperty('position') as number;
  if (item.isKind('mml')) {
    if (this.getProperty('primes')) {
      if (position !== 2) {
        // @test Prime on Sub
        NodeUtil.setChild(top, 2, this.getProperty('primes') as MmlNode);
      } else {
        // @test Prime on Prime
        NodeUtil.setProperty(this.getProperty('primes') as MmlNode, 'variantForm', true);
        const node = this.create('node', 'mrow', [this.getProperty('primes') as MmlNode, item.First]);
        item.First = node;
      }
    }
    NodeUtil.setChild(top, position, item.First);
    if (this.getProperty('movesupsub') != null) {
      // @test Limits Subsup (currently does not work! Check again!)
      NodeUtil.setProperty(top, 'movesupsub', this.getProperty('movesupsub') as Property);
    }
    const result = this.factory.create('mml', top);
    return [[result], true];
  }
  if (super.checkItem(item)[1]) {
    // @test Brace Superscript Error, MissingOpenForSup, MissingOpenForSub
    const error = this.getErrors(['', 'sub', 'sup'][position]);
    throw new TexError(error[0], error[1], ...error.splice(2));
  }
  return null;
}

</t>
<t tx="ekr.20211016054411.1376">/**
 * Item indicating an we are currently dealing with an \\over command.
 */
export class OverItem extends BaseItem {

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1377">constructor(factory: StackItemFactory) {
  super(factory);
  this.setProperty('name', '\\over');
}

/**
 * @override
 */
public get kind() {
  return 'over';
}


/**
 * @override
 */
get isClose() {
  return true;
}


</t>
<t tx="ekr.20211016054411.1378">/**
 * @override
 */
public checkItem(item: StackItem): CheckType {
  if (item.isKind('over')) {
    // @test Double Over
    throw new TexError(
      'AmbiguousUseOf', 'Ambiguous use of %1', item.getName());
  }
  if (item.isClose) {
    // @test Over
    let mml = this.create('node',
                          'mfrac', [this.getProperty('num') as MmlNode, this.toMml(false)]);
    if (this.getProperty('thickness') != null) {
      // @test Choose, Above, Above with Delims
      NodeUtil.setAttribute(mml, 'linethickness',
                            this.getProperty('thickness') as string);
    }
    if (this.getProperty('open') || this.getProperty('close')) {
      // @test Choose
      NodeUtil.setProperty(mml, 'withDelims', true);
      mml = ParseUtil.fixedFence(this.factory.configuration,
                                 this.getProperty('open') as string, mml,
                                 this.getProperty('close') as string);
    }
    return [[this.factory.create('mml', mml), item], true];
  }
  return super.checkItem(item);
}


</t>
<t tx="ekr.20211016054411.1379">/**
 * @override
 */
public toString() {
  return 'over[' + this.getProperty('num') +
    ' / ' + this.nodes.join('; ') + ']';
}

</t>
<t tx="ekr.20211016054411.138"></t>
<t tx="ekr.20211016054411.1380">/**
 * Item pushed when a \\left opening delimiter has been found.
 */
export class LeftItem extends BaseItem {

  /**
   * @override
   */
  protected static errors = Object.assign(Object.create(BaseItem.errors), {
    // @test ExtraLeftMissingRight
    'stop': ['ExtraLeftMissingRight',
             'Extra \\left or missing \\right']
  });


  /**
   * @override
   */
  @others
}

</t>
<t tx="ekr.20211016054411.1381">constructor(factory: StackItemFactory, delim: string) {
  super(factory);
  this.setProperty('delim', delim);
}

/**
 * @override
 */
public get kind() {
  return 'left';
}


/**
 * @override
 */
get isOpen() {
  return true;
}


</t>
<t tx="ekr.20211016054411.1382">/**
 * @override
 */
public checkItem(item: StackItem): CheckType {
  // @test Missing Right
  if (item.isKind('right')) {
    //
    //  Create the fenced structure as an mrow
    //
    return [[this.factory.create('mml', ParseUtil.fenced(
      this.factory.configuration,
      this.getProperty('delim') as string, this.toMml(),
      item.getProperty('delim') as string, '', item.getProperty('color') as string))], true];
  }
  if (item.isKind('middle')) {
    //
    //  Add the middle delimiter, with empty open and close elements around it for spacing
    //
    const def = {stretchy: true} as any;
    if (item.getProperty('color')) {
      def.mathcolor = item.getProperty('color');
    }
    this.Push(
      this.create('node', 'TeXAtom', [], {texClass: TEXCLASS.CLOSE}),
      this.create('token', 'mo', def, item.getProperty('delim')),
      this.create('node', 'TeXAtom', [], {texClass: TEXCLASS.OPEN})
    );
    this.env = {};         // Since \middle closes the group, clear the environment
    return [[this], true]; // this will reset the environment to its initial state
  }
  return super.checkItem(item);
}

</t>
<t tx="ekr.20211016054411.1383">/**
 * Item pushed when a \\middle delimiter has been found. Stack is
 * collapsed until a corresponding LeftItem is encountered.
 */
export class Middle extends BaseItem {

  /**
   * @override
   */
  @others
}

</t>
<t tx="ekr.20211016054411.1384">constructor(factory: StackItemFactory, delim: string, color: string) {
  super(factory);
  this.setProperty('delim', delim);
  color &amp;&amp; this.setProperty('color', color);
}

/**
 * @override
 */
public get kind() {
  return 'middle';
}


/**
 * @override
 */
get isClose() {
  return true;
}

</t>
<t tx="ekr.20211016054411.1385">/**
 * Item pushed when a \\right closing delimiter has been found. Stack is
 * collapsed until a corresponding LeftItem is encountered.
 */
export class RightItem extends BaseItem {

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1386">constructor(factory: StackItemFactory, delim: string, color: string) {
  super(factory);
  this.setProperty('delim', delim);
  color &amp;&amp; this.setProperty('color', color);
}

/**
 * @override
 */
public get kind() {
  return 'right';
}


/**
 * @override
 */
get isClose() {
  return true;
}

</t>
<t tx="ekr.20211016054411.1387">/**
 * Item pushed for opening an environment with \\begin{env}.
 */
export class BeginItem extends BaseItem {

  /**
   * @override
   */
  public get kind() {
    return 'begin';
  }


  /**
   * @override
   */
  get isOpen() {
    return true;
  }

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1388">public checkItem(item: StackItem): CheckType {
  if (item.isKind('end')) {
    if (item.getName() !== this.getName()) {
      // @test EnvBadEnd
      throw new TexError('EnvBadEnd', '\\begin{%1} ended with \\end{%2}',
                         this.getName(), item.getName());
    }
    if (!this.getProperty('end')) {
      // @test Hfill
      return [[this.factory.create('mml', this.toMml())], true];
    }
    return BaseItem.fail;  // TODO: This case could probably go!
  }
  if (item.isKind('stop')) {
    // @test EnvMissingEnd Array
    throw new TexError('EnvMissingEnd', 'Missing \\end{%1}', this.getName());
  }
  return super.checkItem(item);
}

</t>
<t tx="ekr.20211016054411.1389">/**
 * Item pushed for closing an environment with \\end{env}. Stack is collapsed
 * until a corresponding BeginItem for 'env' is found. Error is thrown in case
 * other open environments interfere.
 */
export class EndItem extends BaseItem {

  /**
   * @override
   */
  public get kind() {
    return 'end';
  }


  /**
   * @override
   */
  get isClose() {
    return true;
  }

}


</t>
<t tx="ekr.20211016054411.139">
import './lib/setoptions.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1390">/**
 * Item pushed for remembering styling information.
 */
export class StyleItem extends BaseItem {

  /**
   * @override
   */
  public get kind() {
    return 'style';
  }

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1391">public checkItem(item: StackItem): CheckType {
  if (!item.isClose) {
    return super.checkItem(item);
  }
  // @test Style
  const mml = this.create('node', 'mstyle', this.nodes, this.getProperty('styles'));
  return [[this.factory.create('mml', mml), item], true];
}

</t>
<t tx="ekr.20211016054411.1392">/**
 * Item pushed for remembering positioning information.
 */
export class PositionItem extends BaseItem {

  /**
   * @override
   */
  public get kind() {
    return 'position';
  }


  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1393">public checkItem(item: StackItem): CheckType {
  if (item.isClose) {
    // @test MissingBoxFor
    throw new TexError('MissingBoxFor', 'Missing box for %1', this.getName());
  }
  if (item.isFinal) {
    let mml = item.toMml();
    switch (this.getProperty('move')) {
    case 'vertical':
      // @test Raise, Lower, Raise Negative, Lower Negative
      mml = this.create('node', 'mpadded', [mml],
                        {height: this.getProperty('dh'),
                         depth: this.getProperty('dd'),
                         voffset: this.getProperty('dh')});
      return [[this.factory.create('mml', mml)], true];
    case 'horizontal':
      // @test Move Left, Move Right, Move Left Negative, Move Right Negative
      return [[this.factory.create('mml', this.getProperty('left') as MmlNode), item,
               this.factory.create('mml', this.getProperty('right') as MmlNode)], true];
    }
  }
  return super.checkItem(item);
}
</t>
<t tx="ekr.20211016054411.1394">/**
 * Item indicating a table cell.
 */
export class CellItem extends BaseItem {

  /**
   * @override
   */
  public get kind() {
    return 'cell';
  }


  /**
   * @override
   */
  get isClose() {
    return true;
  }
}


</t>
<t tx="ekr.20211016054411.1395">/**
 * Final item for collating Nodes.
 */
export class MmlItem extends BaseItem {

  /**
   * @override
   */
  public get isFinal() {
    return true;
  }

  /**
   * @override
   */
  public get kind() {
    return 'mml';
  }

}


</t>
<t tx="ekr.20211016054411.1396">/**
 * Item indicating a named function operator (e.g., \\sin) as been encountered.
 */
export class FnItem extends BaseItem {

  /**
   * @override
   */
  public get kind() {
    return 'fn';
  }

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1397">public checkItem(item: StackItem): CheckType {
  const top = this.First;
  if (top) {
    if (item.isOpen) {
      // @test Fn Stretchy
      return BaseItem.success;
    }
    if (!item.isKind('fn')) {
      // @test Named Function
      let mml = item.First;
      if (!item.isKind('mml') || !mml) {
        // @test Mathop Super
        return [[top, item], true];
      }
      if ((NodeUtil.isType(mml, 'mstyle') &amp;&amp; mml.childNodes.length &amp;&amp;
           NodeUtil.isType(mml.childNodes[0].childNodes[0] as MmlNode, 'mspace')) ||
           NodeUtil.isType(mml, 'mspace')) {
        // @test Fn Pos Space, Fn Neg Space
        return [[top, item], true];
      }
      if (NodeUtil.isEmbellished(mml)) {
        // @test MultiInt with Limits
        mml = NodeUtil.getCoreMO(mml);
      }
      const form = NodeUtil.getForm(mml);
      if (form != null &amp;&amp; [0, 0, 1, 1, 0, 1, 1, 0, 0, 0][form[2]]) {
        // @test Fn Operator
        return [[top, item], true];
      }
    }
    // @test Named Function, Named Function Arg
    const node = this.create('token', 'mo', {texClass: TEXCLASS.NONE},
                             entities.ApplyFunction);
    return [[top, node, item], true];
  }
  // @test Mathop Super, Mathop Sub
  return super.checkItem.apply(this, arguments);
}
</t>
<t tx="ekr.20211016054411.1398">/**
 * Item indicating a \\not has been encountered and needs to be applied to the
 * next operator.
 */
export class NotItem extends BaseItem {

  private remap = MapHandler.getMap('not_remap') as CharacterMap;

  /**
   * @override
   */
  public get kind() {
    return 'not';
  }

  /**
   * @override
   */
  @others
}

</t>
<t tx="ekr.20211016054411.1399">public checkItem(item: StackItem): CheckType {
  let mml: TextNode | MmlNode;
  let c: string;
  let textNode: TextNode;
  if (item.isKind('open') || item.isKind('left')) {
    // @test Negation Left Paren
    return BaseItem.success;
  }
  if (item.isKind('mml') &amp;&amp;
      (NodeUtil.isType(item.First, 'mo') || NodeUtil.isType(item.First, 'mi') ||
       NodeUtil.isType(item.First, 'mtext'))) {
    mml = item.First;
    c = NodeUtil.getText(mml as TextNode);
    if (c.length === 1 &amp;&amp; !NodeUtil.getProperty(mml, 'movesupsub') &amp;&amp;
        NodeUtil.getChildren(mml).length === 1) {
      if (this.remap.contains(c)) {
        // @test Negation Simple, Negation Complex
        textNode = this.create('text', this.remap.lookup(c).char) as TextNode;
        NodeUtil.setChild(mml, 0, textNode);
      } else {
        // @test Negation Explicit
        textNode = this.create('text', '\u0338') as TextNode;
        NodeUtil.appendChildren(mml, [textNode]);
      }
      return [[item], true];
    }
  }
  // @test Negation Large
  textNode = this.create('text', '\u29F8') as TextNode;
  const mtextNode = this.create('node', 'mtext', [], {}, textNode);
  const paddedNode = this.create('node', 'mpadded', [mtextNode], {width: 0});
  mml = this.create('node', 'TeXAtom', [paddedNode], {texClass: TEXCLASS.REL});
  return [[mml, item], true];
}
</t>
<t tx="ekr.20211016054411.14"></t>
<t tx="ekr.20211016054411.140">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/setoptions',  // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1400">/**
 * A StackItem that removes an mspace that follows it (for \nonscript).
 */
export class NonscriptItem extends BaseItem {

  /**
   * @override
   */
  public get kind() {
    return 'nonscript';
  }

  /**
   * @override
   */
  @others
}

</t>
<t tx="ekr.20211016054411.1401">public checkItem(item: StackItem): CheckType {
  //
  //  Check if the next item is an mspace (or an mspace in an mstyle) and remove it.
  //
  if (item.isKind('mml') &amp;&amp; item.Size() === 1) {
    let mml = item.First;
    //
    //  Space macros like \, are wrapped with an mstyle to set scriptlevel="0"
    //    (so size is independent of level), we look at the contents of the mstyle for the mspace.
    //
    if (mml.isKind('mstyle') &amp;&amp; mml.notParent) {
      mml = NodeUtil.getChildren(NodeUtil.getChildren(mml)[0])[0];
    }
    if (mml.isKind('mspace')) {
      //
      //  If the space is in an mstyle, wrap it in an mrow so we can test its scriptlevel
      //    in the post-filter (the mrow will be removed in the filter).  We can't test
      //    the mstyle's scriptlevel, since it is ecxplicitly setting it to 0.
      //
      if (mml !== item.First) {
        const mrow = this.create('node', 'mrow', [item.Pop()]);
        item.Push(mrow);
      }
      //
      //  Save the mspace for later post-processing.
      //
      this.factory.configuration.addNode('nonscript', item.First);
    }
  }
  return [[item], true];
}
</t>
<t tx="ekr.20211016054411.1402">/**
 * Item indicating a dots command has been encountered.
 */
export class DotsItem extends BaseItem {

  /**
   * @override
   */
  public get kind() {
    return 'dots';
  }

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1403">public checkItem(item: StackItem): CheckType {
  if (item.isKind('open') || item.isKind('left')) {
    return BaseItem.success;
  }
  let dots = this.getProperty('ldots') as MmlNode;
  let top = item.First;
  // @test Operator Dots
  if (item.isKind('mml') &amp;&amp; NodeUtil.isEmbellished(top)) {
    const tclass = NodeUtil.getTexClass(NodeUtil.getCoreMO(top));
    if (tclass === TEXCLASS.BIN || tclass === TEXCLASS.REL) {
      dots = this.getProperty('cdots') as MmlNode;
    }
  }
  return [[dots, item], true];
}
</t>
<t tx="ekr.20211016054411.1404">/**
 * Item indicating an array is assembled. It collates cells, rows and
 * information about column/row separator and framing lines.
 */
export class ArrayItem extends BaseItem {

  /**
   * The table as a list of rows.
   * @type {MmlNode[]}
   */
  public table: MmlNode[] = [];

  /**
   * The current row as a list of cells.
   * @type {MmlNode[]}
   */
  public row: MmlNode[] = [];

  /**
   * Frame specification as a list of strings.
   * @type {string[]}
   */
  public frame: string[] = [];

  /**
   * Hfill value.
   * @type {number[]}
   */
  public hfill: number[] = [];

  /**
   * Properties for special array definitions.
   * @type {{[key: string]: string|number|boolean}}
   */
  public arraydef: {[key: string]: string | number | boolean} = {};

  /**
   * True if separators are dashed.
   * @type {boolean}
   */
  public dashed: boolean = false;

  /**
   * @override
   */
  public get kind() {
    return 'array';
  }


  /**
   * @override
   */
  get isOpen() {
    return true;
  }

  /**
   * @override
   */
  get copyEnv() {
    return false;
  }

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1405">public checkItem(item: StackItem): CheckType {
  // @test Array Single
  if (item.isClose &amp;&amp; !item.isKind('over')) {
    // @test Array Single
    if (item.getProperty('isEntry')) {
      // @test Array dashed column, Array solid column
      this.EndEntry();
      this.clearEnv();
      return BaseItem.fail;
    }
    if (item.getProperty('isCR')) {
      // @test Enclosed bottom
      this.EndEntry();
      this.EndRow();
      this.clearEnv();
      return BaseItem.fail;
    }
    this.EndTable();
    this.clearEnv();
    let newItem = this.factory.create('mml', this.createMml());
    if (this.getProperty('requireClose')) {
      // @test: Label
      if (item.isKind('close')) {
        // @test: Label
        return [[newItem], true];
      }
      // @test MissingCloseBrace2
      throw new TexError('MissingCloseBrace', 'Missing close brace');
    }
    return [[newItem, item], true];
  }
  return super.checkItem(item);
}

</t>
<t tx="ekr.20211016054411.1406">/**
 * Create the MathML representation of the table.
 *
 * @return {MmlNode}
 */
public createMml(): MmlNode {
  const scriptlevel = this.arraydef['scriptlevel'];
  delete this.arraydef['scriptlevel'];
  let mml = this.create('node', 'mtable', this.table, this.arraydef);
  if (scriptlevel) {
    mml.setProperty('scriptlevel', scriptlevel);
  }
  if (this.frame.length === 4) {
    // @test Enclosed frame solid, Enclosed frame dashed
    NodeUtil.setAttribute(mml, 'frame', this.dashed ? 'dashed' : 'solid');
  } else if (this.frame.length) {
    // @test Enclosed left right
    if (this.arraydef['rowlines']) {
      // @test Enclosed dashed row, Enclosed solid row,
      this.arraydef['rowlines'] =
        (this.arraydef['rowlines'] as string).replace(/none( none)+$/, 'none');
    }
    // @test Enclosed left right
    NodeUtil.setAttribute(mml, 'frame', '');
    mml = this.create('node', 'menclose', [mml], {notation: this.frame.join(' ')});
    if ((this.arraydef['columnlines'] || 'none') !== 'none' ||
        (this.arraydef['rowlines'] || 'none') !== 'none') {
      // @test Enclosed dashed row, Enclosed solid row
      // @test Enclosed dashed column, Enclosed solid column
      NodeUtil.setAttribute(mml, 'data-padding', 0);
    }
  }
  if (this.getProperty('open') || this.getProperty('close')) {
    // @test Cross Product Formula
    mml = ParseUtil.fenced(this.factory.configuration,
                           this.getProperty('open') as string, mml,
                           this.getProperty('close') as string);
  }
  return mml;
}

</t>
<t tx="ekr.20211016054411.1407">/**
 * Finishes a single cell of the array.
 */
public EndEntry() {
  // @test Array1, Array2
  const mtd = this.create('node', 'mtd', this.nodes);
  if (this.hfill.length) {
    if (this.hfill[0] === 0) {
      NodeUtil.setAttribute(mtd, 'columnalign', 'right');
    }
    if (this.hfill[this.hfill.length - 1] === this.Size()) {
      NodeUtil.setAttribute(
        mtd, 'columnalign',
        NodeUtil.getAttribute(mtd, 'columnalign') ? 'center' : 'left');
    }
  }
  this.row.push(mtd);
  this.Clear();
  this.hfill = [];
}


</t>
<t tx="ekr.20211016054411.1408">/**
 * Finishes a single row of the array.
 */
public EndRow() {
  let node: MmlNode;
  if (this.getProperty('isNumbered') &amp;&amp; this.row.length === 3) {
    // @test Label, Matrix Numbered
    this.row.unshift(this.row.pop());  // move equation number to first
    // position
    node = this.create('node', 'mlabeledtr', this.row);
  } else {
    // @test Array1, Array2
    node = this.create('node', 'mtr', this.row);
  }
  this.table.push(node);
  this.row = [];
}


</t>
<t tx="ekr.20211016054411.1409">/**
 * Finishes the table layout.
 */
public EndTable() {
  if (this.Size() || this.row.length) {
    this.EndEntry();
    this.EndRow();
  }
  this.checkLines();
}


</t>
<t tx="ekr.20211016054411.141"></t>
<t tx="ekr.20211016054411.1410">/**
 * Finishes line layout if not already given.
 */
public checkLines() {
  if (this.arraydef['rowlines']) {
    const lines = (this.arraydef['rowlines'] as string).split(/ /);
    if (lines.length === this.table.length) {
      this.frame.push('bottom');
      lines.pop();
      this.arraydef['rowlines'] = lines.join(' ');
    } else if (lines.length &lt; this.table.length - 1) {
      this.arraydef['rowlines'] += ' none';
    }
  }
  if (this.getProperty('rowspacing')) {
    const rows = (this.arraydef['rowspacing'] as string).split(/ /);
    while (rows.length &lt; this.table.length) {
      rows.push(this.getProperty('rowspacing') + 'em');
    }
    this.arraydef['rowspacing'] = rows.join(' ');
  }
}

</t>
<t tx="ekr.20211016054411.1411">/**
 * Adds a row-spacing to the current row (padding out the rowspacing if needed to get there).
 *
 * @param {string} spacing   The rowspacing to use for the current row.
 */
public addRowSpacing(spacing: string) {
  if (this.arraydef['rowspacing']) {
    const rows = (this.arraydef['rowspacing'] as string).split(/ /);
    if (!this.getProperty('rowspacing')) {
      // @test Array Custom Linebreak
      let dimem = ParseUtil.dimen2em(rows[0]);
      this.setProperty('rowspacing', dimem);
    }
    const rowspacing = this.getProperty('rowspacing') as number;
    while (rows.length &lt; this.table.length) {
      rows.push(ParseUtil.Em(rowspacing));
    }
    rows[this.table.length - 1] = ParseUtil.Em(
      Math.max(0, rowspacing + ParseUtil.dimen2em(spacing)));
    this.arraydef['rowspacing'] = rows.join(' ');
  }
}

</t>
<t tx="ekr.20211016054411.1412">/**
 * Item dealing with equation arrays as a special case of arrays. Handles
 * tagging information according to the given tagging style.
 */
export class EqnArrayItem extends ArrayItem {

  /**
   * The length of the longest row.
   */
  public maxrow: number = 0;

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.1413">constructor(factory: any, ...args: any[]) {
  super(factory);
  this.factory.configuration.tags.start(args[0], args[2], args[1]);
}


/**
 * @override
 */
get kind() {
  return 'eqnarray';
}


</t>
<t tx="ekr.20211016054411.1414">/**
 * @override
 */
public EndEntry() {
  // @test Cubic Binomial
  if (this.row.length) {
    ParseUtil.fixInitialMO(this.factory.configuration, this.nodes);
  }
  const node = this.create('node', 'mtd', this.nodes);
  this.row.push(node);
  this.Clear();
}

</t>
<t tx="ekr.20211016054411.1415">/**
 * @override
 */
public EndRow() {
  if (this.row.length &gt; this.maxrow) {
    this.maxrow = this.row.length;
  }
  // @test Cubic Binomial
  let mtr = 'mtr';
  let tag = this.factory.configuration.tags.getTag();
  if (tag) {
    this.row = [tag].concat(this.row);
    mtr = 'mlabeledtr';
  }
  this.factory.configuration.tags.clearTag();
  const node = this.create('node', mtr, this.row);
  this.table.push(node);
  this.row = [];
}

</t>
<t tx="ekr.20211016054411.1416">/**
 * @override
 */
public EndTable() {
  // @test Cubic Binomial
  super.EndTable();
  this.factory.configuration.tags.end();
  //
  // Repeat the column align and width specifications
  //   to match the number of columns
  //
  this.extendArray('columnalign', this.maxrow);
  this.extendArray('columnwidth', this.maxrow);
  this.extendArray('columnspacing', this.maxrow - 1);
}

/**
 * Extend a column specification to include a repeating set of values
 *   so that it has enough to match the maximum row length.
 */
protected extendArray(name: string, max: number) {
  if (!this.arraydef[name]) return;
  const repeat = (this.arraydef[name] as string).split(/ /);
  const columns = [...repeat];
  if (columns.length &gt; 1) {
    while (columns.length &lt; max) {
      columns.push(...repeat);
    }
    this.arraydef[name] = columns.slice(0, max).join(' ');
  }
}
</t>
<t tx="ekr.20211016054411.1417">/**
 * Item dealing with simple equation environments.  Handles tagging information
 * according to the given tagging style.
 */
export class EquationItem extends BaseItem {

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1418">constructor(factory: any, ...args: any[]) {
  super(factory);
  this.factory.configuration.tags.start('equation', true, args[0]);
}


/**
 * @override
 */
get kind() {
  return 'equation';
}

/**
 * @override
 */
get isOpen() {
  return true;
}

</t>
<t tx="ekr.20211016054411.1419">/**
 * @override
 */
public checkItem(item: StackItem): CheckType {
  if (item.isKind('end')) {
    let mml = this.toMml();
    let tag = this.factory.configuration.tags.getTag();
    this.factory.configuration.tags.end();
    return [[tag ? this.factory.configuration.tags.enTag(mml, tag) : mml, item], true];
  }
  if (item.isKind('stop')) {
    // @test EnvMissingEnd Equation
    throw new TexError('EnvMissingEnd', 'Missing \\end{%1}', this.getName());
  }
  return super.checkItem(item);
}

</t>
<t tx="ekr.20211016054411.142">
import './lib/tagformat.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1420">



/**
 * @fileoverview Base mappings for TeX Parsing.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import *  as sm from '../SymbolMap.js';
import {TexConstant} from '../TexConstants.js';
import BaseMethods from './BaseMethods.js';
import ParseMethods from '../ParseMethods.js';
import ParseUtil from '../ParseUtil.js';
import {TEXCLASS} from '../../../core/MmlTree/MmlNode.js';
import {MATHSPACE, em} from '../../../util/lengths.js';


/**
 * Letter pattern for parsing identifiers and operators.
 */
new sm.RegExpMap('letter', ParseMethods.variable, /[a-z]/i);


/**
 * Digit pattern for parsing numbers.
 */
new sm.RegExpMap('digit', ParseMethods.digit, /[0-9.,]/);


/**
 * Pattern for spotting start of commands.
 */
new sm.RegExpMap('command', ParseMethods.controlSequence, /^\\/ );


/**
 * Treatment of special characters in LaTeX.
 */
new sm.MacroMap('special', {

  // This is now handled with a RegExp!
  // '\\':  'ControlSequence',

  '{':   'Open',
  '}':   'Close',
  '~':   'Tilde',
  '^':   'Superscript',
  '_':   'Subscript',
  ' ':   'Space',
  '\t':  'Space',
  '\r':  'Space',
  '\n':  'Space',
  '\'':  'Prime',
  '%':   'Comment',
  '&amp;':   'Entry',
  '#':   'Hash',
  '\u00A0': 'Space',
  '\u2019': 'Prime'
}, BaseMethods);


/**
 * Macros for identifiers.
 */
new sm.CharacterMap('mathchar0mi', ParseMethods.mathchar0mi, {
  // Lower-case greek
  alpha:        '\u03B1',
  beta:         '\u03B2',
  gamma:        '\u03B3',
  delta:        '\u03B4',
  epsilon:      '\u03F5',
  zeta:         '\u03B6',
  eta:          '\u03B7',
  theta:        '\u03B8',
  iota:         '\u03B9',
  kappa:        '\u03BA',
  lambda:       '\u03BB',
  mu:           '\u03BC',
  nu:           '\u03BD',
  xi:           '\u03BE',
  omicron:      '\u03BF', // added for completeness
  pi:           '\u03C0',
  rho:          '\u03C1',
  sigma:        '\u03C3',
  tau:          '\u03C4',
  upsilon:      '\u03C5',
  phi:          '\u03D5',
  chi:          '\u03C7',
  psi:          '\u03C8',
  omega:        '\u03C9',
  varepsilon:   '\u03B5',
  vartheta:     '\u03D1',
  varpi:        '\u03D6',
  varrho:       '\u03F1',
  varsigma:     '\u03C2',
  varphi:       '\u03C6',

  // Ord symbols
  S:            ['\u00A7', {mathvariant: TexConstant.Variant.NORMAL}],
  aleph:        ['\u2135', {mathvariant: TexConstant.Variant.NORMAL}],
  hbar:         ['\u210F', {variantForm: true}],
  imath:        '\u0131',
  jmath:        '\u0237',
  ell:          '\u2113',
  wp:           ['\u2118', {mathvariant: TexConstant.Variant.NORMAL}],
  Re:           ['\u211C', {mathvariant: TexConstant.Variant.NORMAL}],
  Im:           ['\u2111', {mathvariant: TexConstant.Variant.NORMAL}],
  partial:      ['\u2202', {mathvariant: TexConstant.Variant.ITALIC}],
  infty:        ['\u221E', {mathvariant: TexConstant.Variant.NORMAL}],
  prime:        ['\u2032', {variantForm: true}],
  emptyset:     ['\u2205', {mathvariant: TexConstant.Variant.NORMAL}],
  nabla:        ['\u2207', {mathvariant: TexConstant.Variant.NORMAL}],
  top:          ['\u22A4', {mathvariant: TexConstant.Variant.NORMAL}],
  bot:          ['\u22A5', {mathvariant: TexConstant.Variant.NORMAL}],
  angle:        ['\u2220', {mathvariant: TexConstant.Variant.NORMAL}],
  triangle:     ['\u25B3', {mathvariant: TexConstant.Variant.NORMAL}],
  backslash:    ['\u2216', {mathvariant: TexConstant.Variant.NORMAL}],
  forall:       ['\u2200', {mathvariant: TexConstant.Variant.NORMAL}],
  exists:       ['\u2203', {mathvariant: TexConstant.Variant.NORMAL}],
  neg:          ['\u00AC', {mathvariant: TexConstant.Variant.NORMAL}],
  lnot:         ['\u00AC', {mathvariant: TexConstant.Variant.NORMAL}],
  flat:         ['\u266D', {mathvariant: TexConstant.Variant.NORMAL}],
  natural:      ['\u266E', {mathvariant: TexConstant.Variant.NORMAL}],
  sharp:        ['\u266F', {mathvariant: TexConstant.Variant.NORMAL}],
  clubsuit:     ['\u2663', {mathvariant: TexConstant.Variant.NORMAL}],
  diamondsuit:  ['\u2662', {mathvariant: TexConstant.Variant.NORMAL}],
  heartsuit:    ['\u2661', {mathvariant: TexConstant.Variant.NORMAL}],
  spadesuit:    ['\u2660', {mathvariant: TexConstant.Variant.NORMAL}]
});


/**
 * Macros for operators.
 */
new sm.CharacterMap('mathchar0mo', ParseMethods.mathchar0mo, {
  surd:         '\u221A',

  // big ops
  coprod:       ['\u2210', {texClass: TEXCLASS.OP,
                            movesupsub: true}],
  bigvee:       ['\u22C1', {texClass: TEXCLASS.OP,
                            movesupsub: true}],
  bigwedge:     ['\u22C0', {texClass: TEXCLASS.OP,
                            movesupsub: true}],
  biguplus:     ['\u2A04', {texClass: TEXCLASS.OP,
                            movesupsub: true}],
  bigcap:       ['\u22C2', {texClass: TEXCLASS.OP,
                            movesupsub: true}],
  bigcup:       ['\u22C3', {texClass: TEXCLASS.OP,
                            movesupsub: true}],
  'int':        ['\u222B', {texClass: TEXCLASS.OP}],
  intop:        ['\u222B', {texClass: TEXCLASS.OP,
                            movesupsub: true, movablelimits: true}],
  iint:         ['\u222C', {texClass: TEXCLASS.OP}],
  iiint:        ['\u222D', {texClass: TEXCLASS.OP}],
  prod:         ['\u220F', {texClass: TEXCLASS.OP,
                            movesupsub: true}],
  sum:          ['\u2211', {texClass: TEXCLASS.OP,
                            movesupsub: true}],
  bigotimes:    ['\u2A02', {texClass: TEXCLASS.OP,
                            movesupsub: true}],
  bigoplus:     ['\u2A01', {texClass: TEXCLASS.OP,
                            movesupsub: true}],
  bigodot:      ['\u2A00', {texClass: TEXCLASS.OP,
                            movesupsub: true}],
  oint:         ['\u222E', {texClass: TEXCLASS.OP}],
  bigsqcup:     ['\u2A06', {texClass: TEXCLASS.OP,
                            movesupsub: true}],
  smallint:     ['\u222B', {largeop: false}],

  // binary operations
  triangleleft:      '\u25C3',
  triangleright:     '\u25B9',
  bigtriangleup:     '\u25B3',
  bigtriangledown:   '\u25BD',
  wedge:        '\u2227',
  land:         '\u2227',
  vee:          '\u2228',
  lor:          '\u2228',
  cap:          '\u2229',
  cup:          '\u222A',
  ddagger:      '\u2021',
  dagger:       '\u2020',
  sqcap:        '\u2293',
  sqcup:        '\u2294',
  uplus:        '\u228E',
  amalg:        '\u2A3F',
  diamond:      '\u22C4',
  bullet:       '\u2219',
  wr:           '\u2240',
  div:          '\u00F7',
  divsymbol:    '\u00F7',
  odot:         ['\u2299', {largeop: false}],
  oslash:       ['\u2298', {largeop: false}],
  otimes:       ['\u2297', {largeop: false}],
  ominus:       ['\u2296', {largeop: false}],
  oplus:        ['\u2295', {largeop: false}],
  mp:           '\u2213',
  pm:           '\u00B1',
  circ:         '\u2218',
  bigcirc:      '\u25EF',
  setminus:     '\u2216',
  cdot:         '\u22C5',
  ast:          '\u2217',
  times:        '\u00D7',
  star:         '\u22C6',


  // Relations
  propto:       '\u221D',
  sqsubseteq:   '\u2291',
  sqsupseteq:   '\u2292',
  parallel:     '\u2225',
  mid:          '\u2223',
  dashv:        '\u22A3',
  vdash:        '\u22A2',
  leq:          '\u2264',
  le:           '\u2264',
  geq:          '\u2265',
  ge:           '\u2265',
  lt:           '\u003C',
  gt:           '\u003E',
  succ:         '\u227B',
  prec:         '\u227A',
  approx:       '\u2248',
  succeq:       '\u2AB0',  // or '227C',
  preceq:       '\u2AAF',  // or '227D',
  supset:       '\u2283',
  subset:       '\u2282',
  supseteq:     '\u2287',
  subseteq:     '\u2286',
  'in':         '\u2208',
  ni:           '\u220B',
  notin:        '\u2209',
  owns:         '\u220B',
  gg:           '\u226B',
  ll:           '\u226A',
  sim:          '\u223C',
  simeq:        '\u2243',
  perp:         '\u22A5',
  equiv:        '\u2261',
  asymp:        '\u224D',
  smile:        '\u2323',
  frown:        '\u2322',
  ne:           '\u2260',
  neq:          '\u2260',
  cong:         '\u2245',
  doteq:        '\u2250',
  bowtie:       '\u22C8',
  models:       '\u22A8',

  notChar:      '\u29F8',


  // Arrows
  Leftrightarrow:     '\u21D4',
  Leftarrow:          '\u21D0',
  Rightarrow:         '\u21D2',
  leftrightarrow:     '\u2194',
  leftarrow:          '\u2190',
  gets:               '\u2190',
  rightarrow:         '\u2192',
  to:                ['\u2192', {accent: false}],
  mapsto:             '\u21A6',
  leftharpoonup:      '\u21BC',
  leftharpoondown:    '\u21BD',
  rightharpoonup:     '\u21C0',
  rightharpoondown:   '\u21C1',
  nearrow:            '\u2197',
  searrow:            '\u2198',
  nwarrow:            '\u2196',
  swarrow:            '\u2199',
  rightleftharpoons:  '\u21CC',
  hookrightarrow:     '\u21AA',
  hookleftarrow:      '\u21A9',
  longleftarrow:      '\u27F5',
  Longleftarrow:      '\u27F8',
  longrightarrow:     '\u27F6',
  Longrightarrow:     '\u27F9',
  Longleftrightarrow: '\u27FA',
  longleftrightarrow: '\u27F7',
  longmapsto:         '\u27FC',


  // Misc.
  ldots:            '\u2026',
  cdots:            '\u22EF',
  vdots:            '\u22EE',
  ddots:            '\u22F1',
  dotsc:            '\u2026',  // dots with commas
  dotsb:            '\u22EF',  // dots with binary ops and relations
  dotsm:            '\u22EF',  // dots with multiplication
  dotsi:            '\u22EF',  // dots with integrals
  dotso:            '\u2026',  // other dots

  ldotp:            ['\u002E', {texClass: TEXCLASS.PUNCT}],
  cdotp:            ['\u22C5', {texClass: TEXCLASS.PUNCT}],
  colon:            ['\u003A', {texClass: TEXCLASS.PUNCT}]
});


/**
 * Macros for special characters and identifiers.
 */
new sm.CharacterMap('mathchar7', ParseMethods.mathchar7, {
  Gamma:        '\u0393',
  Delta:        '\u0394',
  Theta:        '\u0398',
  Lambda:       '\u039B',
  Xi:           '\u039E',
  Pi:           '\u03A0',
  Sigma:        '\u03A3',
  Upsilon:      '\u03A5',
  Phi:          '\u03A6',
  Psi:          '\u03A8',
  Omega:        '\u03A9',

  '_':          '\u005F',
  '#':          '\u0023',
  '$':          '\u0024',
  '%':          '\u0025',
  '&amp;':          '\u0026',
  And:          '\u0026'
});


/**
 * Macros for delimiters.
 */
new sm.DelimiterMap('delimiter', ParseMethods.delimiter, {
  '(':                '(',
  ')':                ')',
  '[':                '[',
  ']':                ']',
  '&lt;':                '\u27E8',
  '&gt;':                '\u27E9',
  '\\lt':             '\u27E8',
  '\\gt':             '\u27E9',
  '/':                '/',
  '|':                ['|', {texClass: TEXCLASS.ORD}],
  '.':                '',
  '\\\\':             '\\',
  '\\lmoustache':     '\u23B0',  // non-standard
  '\\rmoustache':     '\u23B1',  // non-standard
  '\\lgroup':         '\u27EE',  // non-standard
  '\\rgroup':         '\u27EF',  // non-standard
  '\\arrowvert':      '\u23D0',
  '\\Arrowvert':      '\u2016',
  '\\bracevert':      '\u23AA',  // non-standard
  '\\Vert':           ['\u2016', {texClass: TEXCLASS.ORD}],
  '\\|':              ['\u2016', {texClass: TEXCLASS.ORD}],
  '\\vert':           ['|', {texClass: TEXCLASS.ORD}],
  '\\uparrow':        '\u2191',
  '\\downarrow':      '\u2193',
  '\\updownarrow':    '\u2195',
  '\\Uparrow':        '\u21D1',
  '\\Downarrow':      '\u21D3',
  '\\Updownarrow':    '\u21D5',
  '\\backslash':      '\\',
  '\\rangle':         '\u27E9',
  '\\langle':         '\u27E8',
  '\\rbrace':         '}',
  '\\lbrace':         '{',
  '\\}':              '}',
  '\\{':              '{',
  '\\rceil':          '\u2309',
  '\\lceil':          '\u2308',
  '\\rfloor':         '\u230B',
  '\\lfloor':         '\u230A',
  '\\lbrack':         '[',
  '\\rbrack':         ']'
});


/**
 * Macros for LaTeX commands.
 */
new sm.CommandMap('macros', {
  displaystyle:      ['SetStyle', 'D', true, 0],
  textstyle:         ['SetStyle', 'T', false, 0],
  scriptstyle:       ['SetStyle', 'S', false, 1],
  scriptscriptstyle: ['SetStyle', 'SS', false, 2],

  rm:                ['SetFont', TexConstant.Variant.NORMAL],
  mit:               ['SetFont', TexConstant.Variant.ITALIC],
  oldstyle:          ['SetFont', TexConstant.Variant.OLDSTYLE],
  cal:               ['SetFont', TexConstant.Variant.CALLIGRAPHIC],
  it:                ['SetFont', TexConstant.Variant.MATHITALIC], // needs special handling
  bf:                ['SetFont', TexConstant.Variant.BOLD],
  bbFont:            ['SetFont', TexConstant.Variant.DOUBLESTRUCK],
  scr:               ['SetFont', TexConstant.Variant.SCRIPT],
  frak:              ['SetFont', TexConstant.Variant.FRAKTUR],
  sf:                ['SetFont', TexConstant.Variant.SANSSERIF],
  tt:                ['SetFont', TexConstant.Variant.MONOSPACE],

  mathrm:            ['MathFont', TexConstant.Variant.NORMAL],
  mathup:            ['MathFont', TexConstant.Variant.NORMAL],
  mathnormal:        ['MathFont', ''],
  mathbf:            ['MathFont', TexConstant.Variant.BOLD],
  mathbfup:          ['MathFont', TexConstant.Variant.BOLD],
  mathit:            ['MathFont', TexConstant.Variant.MATHITALIC],
  mathbfit:          ['MathFont', TexConstant.Variant.BOLDITALIC],
  mathbb:            ['MathFont', TexConstant.Variant.DOUBLESTRUCK],
  Bbb:               ['MathFont', TexConstant.Variant.DOUBLESTRUCK],
  mathfrak:          ['MathFont', TexConstant.Variant.FRAKTUR],
  mathbffrak:        ['MathFont', TexConstant.Variant.BOLDFRAKTUR],
  mathscr:           ['MathFont', TexConstant.Variant.SCRIPT],
  mathbfscr:         ['MathFont', TexConstant.Variant.BOLDSCRIPT],
  mathsf:            ['MathFont', TexConstant.Variant.SANSSERIF],
  mathsfup:          ['MathFont', TexConstant.Variant.SANSSERIF],
  mathbfsf:          ['MathFont', TexConstant.Variant.BOLDSANSSERIF],
  mathbfsfup:        ['MathFont', TexConstant.Variant.BOLDSANSSERIF],
  mathsfit:          ['MathFont', TexConstant.Variant.SANSSERIFITALIC],
  mathbfsfit:        ['MathFont', TexConstant.Variant.SANSSERIFBOLDITALIC],
  mathtt:            ['MathFont', TexConstant.Variant.MONOSPACE],
  mathcal:           ['MathFont', TexConstant.Variant.CALLIGRAPHIC],
  mathbfcal:         ['MathFont', TexConstant.Variant.BOLDCALLIGRAPHIC],

  symrm:             ['MathFont', TexConstant.Variant.NORMAL],
  symup:             ['MathFont', TexConstant.Variant.NORMAL],
  symnormal:         ['MathFont', ''],
  symbf:             ['MathFont', TexConstant.Variant.BOLD],
  symbfup:           ['MathFont', TexConstant.Variant.BOLD],
  symit:             ['MathFont', TexConstant.Variant.ITALIC],
  symbfit:           ['MathFont', TexConstant.Variant.BOLDITALIC],
  symbb:             ['MathFont', TexConstant.Variant.DOUBLESTRUCK],
  symfrak:           ['MathFont', TexConstant.Variant.FRAKTUR],
  symbffrak:         ['MathFont', TexConstant.Variant.BOLDFRAKTUR],
  symscr:            ['MathFont', TexConstant.Variant.SCRIPT],
  symbfscr:          ['MathFont', TexConstant.Variant.BOLDSCRIPT],
  symsf:             ['MathFont', TexConstant.Variant.SANSSERIF],
  symsfup:           ['MathFont', TexConstant.Variant.SANSSERIF],
  symbfsf:           ['MathFont', TexConstant.Variant.BOLDSANSSERIF],
  symbfsfup:         ['MathFont', TexConstant.Variant.BOLDSANSSERIF],
  symsfit:           ['MathFont', TexConstant.Variant.SANSSERIFITALIC],
  symbfsfit:         ['MathFont', TexConstant.Variant.SANSSERIFBOLDITALIC],
  symtt:             ['MathFont', TexConstant.Variant.MONOSPACE],
  symcal:            ['MathFont', TexConstant.Variant.CALLIGRAPHIC],
  symbfcal:          ['MathFont', TexConstant.Variant.BOLDCALLIGRAPHIC],

  textrm:            ['HBox', null, TexConstant.Variant.NORMAL],
  textup:            ['HBox', null, TexConstant.Variant.NORMAL],
  textnormal:        ['HBox'],
  textit:            ['HBox', null, TexConstant.Variant.ITALIC],
  textbf:            ['HBox', null, TexConstant.Variant.BOLD],
  textsf:            ['HBox', null, TexConstant.Variant.SANSSERIF],
  texttt:            ['HBox', null, TexConstant.Variant.MONOSPACE],

  tiny:              ['SetSize', 0.5],
  Tiny:              ['SetSize', 0.6],  // non-standard
  scriptsize:        ['SetSize', 0.7],
  small:             ['SetSize', 0.85],
  normalsize:        ['SetSize', 1.0],
  large:             ['SetSize', 1.2],
  Large:             ['SetSize', 1.44],
  LARGE:             ['SetSize', 1.73],
  huge:              ['SetSize', 2.07],
  Huge:              ['SetSize', 2.49],

  arcsin:             'NamedFn',
  arccos:             'NamedFn',
  arctan:             'NamedFn',
  arg:                'NamedFn',
  cos:                'NamedFn',
  cosh:               'NamedFn',
  cot:                'NamedFn',
  coth:               'NamedFn',
  csc:                'NamedFn',
  deg:                'NamedFn',
  det:                'NamedOp',
  dim:                'NamedFn',
  exp:                'NamedFn',
  gcd:                'NamedOp',
  hom:                'NamedFn',
  inf:                'NamedOp',
  ker:                'NamedFn',
  lg:                 'NamedFn',
  lim:                'NamedOp',
  liminf:            ['NamedOp', 'lim&amp;thinsp;inf'],
  limsup:            ['NamedOp', 'lim&amp;thinsp;sup'],
  ln:                 'NamedFn',
  log:                'NamedFn',
  max:                'NamedOp',
  min:                'NamedOp',
  Pr:                 'NamedOp',
  sec:                'NamedFn',
  sin:                'NamedFn',
  sinh:               'NamedFn',
  sup:                'NamedOp',
  tan:                'NamedFn',
  tanh:               'NamedFn',

  limits:            ['Limits', 1],
  nolimits:          ['Limits', 0],

  overline:            ['UnderOver', '2015'],
  underline:           ['UnderOver', '2015'],
  overbrace:           ['UnderOver', '23DE', 1],
  underbrace:          ['UnderOver', '23DF', 1],
  overparen:           ['UnderOver', '23DC'],
  underparen:          ['UnderOver', '23DD'],
  overrightarrow:      ['UnderOver', '2192'],
  underrightarrow:     ['UnderOver', '2192'],
  overleftarrow:       ['UnderOver', '2190'],
  underleftarrow:      ['UnderOver', '2190'],
  overleftrightarrow:  ['UnderOver', '2194'],
  underleftrightarrow: ['UnderOver', '2194'],

  overset:            'Overset',
  underset:           'Underset',
  overunderset:       'Overunderset',
  stackrel:           ['Macro', '\\mathrel{\\mathop{#2}\\limits^{#1}}', 2],
  stackbin:           ['Macro', '\\mathbin{\\mathop{#2}\\limits^{#1}}', 2],

  over:               'Over',
  overwithdelims:     'Over',
  atop:               'Over',
  atopwithdelims:     'Over',
  above:              'Over',
  abovewithdelims:    'Over',
  brace:             ['Over', '{', '}'],
  brack:             ['Over', '[', ']'],
  choose:            ['Over', '(', ')'],

  frac:               'Frac',
  sqrt:               'Sqrt',
  root:               'Root',
  uproot:            ['MoveRoot', 'upRoot'],
  leftroot:          ['MoveRoot', 'leftRoot'],

  left:               'LeftRight',
  right:              'LeftRight',
  middle:             'LeftRight',

  llap:               'Lap',
  rlap:               'Lap',
  raise:              'RaiseLower',
  lower:              'RaiseLower',
  moveleft:           'MoveLeftRight',
  moveright:          'MoveLeftRight',

  ',':               ['Spacer', MATHSPACE.thinmathspace],
  ':':               ['Spacer', MATHSPACE.mediummathspace],
  '&gt;':               ['Spacer', MATHSPACE.mediummathspace],
  ';':               ['Spacer', MATHSPACE.thickmathspace],
  '!':               ['Spacer', MATHSPACE.negativethinmathspace],
  enspace:           ['Spacer', .5],
  quad:              ['Spacer', 1],
  qquad:             ['Spacer', 2],
  thinspace:         ['Spacer', MATHSPACE.thinmathspace],
  negthinspace:      ['Spacer', MATHSPACE.negativethinmathspace],

  hskip:              'Hskip',
  hspace:             'Hskip',
  kern:               'Hskip',
  mskip:              'Hskip',
  mspace:             'Hskip',
  mkern:              'Hskip',
  rule:               'rule',
  Rule:              ['Rule'],
  Space:             ['Rule', 'blank'],
  nonscript:          'Nonscript',

  big:               ['MakeBig', TEXCLASS.ORD, 0.85],
  Big:               ['MakeBig', TEXCLASS.ORD, 1.15],
  bigg:              ['MakeBig', TEXCLASS.ORD, 1.45],
  Bigg:              ['MakeBig', TEXCLASS.ORD, 1.75],
  bigl:              ['MakeBig', TEXCLASS.OPEN, 0.85],
  Bigl:              ['MakeBig', TEXCLASS.OPEN, 1.15],
  biggl:             ['MakeBig', TEXCLASS.OPEN, 1.45],
  Biggl:             ['MakeBig', TEXCLASS.OPEN, 1.75],
  bigr:              ['MakeBig', TEXCLASS.CLOSE, 0.85],
  Bigr:              ['MakeBig', TEXCLASS.CLOSE, 1.15],
  biggr:             ['MakeBig', TEXCLASS.CLOSE, 1.45],
  Biggr:             ['MakeBig', TEXCLASS.CLOSE, 1.75],
  bigm:              ['MakeBig', TEXCLASS.REL, 0.85],
  Bigm:              ['MakeBig', TEXCLASS.REL, 1.15],
  biggm:             ['MakeBig', TEXCLASS.REL, 1.45],
  Biggm:             ['MakeBig', TEXCLASS.REL, 1.75],

  mathord:           ['TeXAtom', TEXCLASS.ORD],
  mathop:            ['TeXAtom', TEXCLASS.OP],
  mathopen:          ['TeXAtom', TEXCLASS.OPEN],
  mathclose:         ['TeXAtom', TEXCLASS.CLOSE],
  mathbin:           ['TeXAtom', TEXCLASS.BIN],
  mathrel:           ['TeXAtom', TEXCLASS.REL],
  mathpunct:         ['TeXAtom', TEXCLASS.PUNCT],
  mathinner:         ['TeXAtom', TEXCLASS.INNER],

  vcenter:           ['TeXAtom', TEXCLASS.VCENTER],

  buildrel:           'BuildRel',

  hbox:               ['HBox', 0],
  text:               'HBox',
  mbox:               ['HBox', 0],
  fbox:               'FBox',
  boxed:              ['Macro', '\\fbox{$\\displaystyle{#1}$}', 1],
  framebox:           'FrameBox',

  strut:              'Strut',
  mathstrut:         ['Macro', '\\vphantom{(}'],
  phantom:            'Phantom',
  vphantom:          ['Phantom', 1, 0],
  hphantom:          ['Phantom', 0, 1],
  smash:              'Smash',

  acute:             ['Accent', '00B4'],  // or 0301 or 02CA
  grave:             ['Accent', '0060'],  // or 0300 or 02CB
  ddot:              ['Accent', '00A8'],  // or 0308
  tilde:             ['Accent', '007E'],  // or 0303 or 02DC
  bar:               ['Accent', '00AF'],  // or 0304 or 02C9
  breve:             ['Accent', '02D8'],  // or 0306
  check:             ['Accent', '02C7'],  // or 030C
  hat:               ['Accent', '005E'],  // or 0302 or 02C6
  vec:               ['Accent', '2192'],  // or 20D7
  dot:               ['Accent', '02D9'],  // or 0307
  widetilde:         ['Accent', '007E', 1], // or 0303 or 02DC
  widehat:           ['Accent', '005E', 1], // or 0302 or 02C6

  matrix:             'Matrix',
  array:              'Matrix',
  pmatrix:           ['Matrix', '(', ')'],
  cases:             ['Matrix', '{', '', 'left left', null, '.1em', null,
                      true],
  eqalign:           ['Matrix', null, null, 'right left',
                      em(MATHSPACE.thickmathspace), '.5em', 'D'],
  displaylines:      ['Matrix', null, null, 'center', null, '.5em', 'D'],
  cr:                 'Cr',
  '\\':               'CrLaTeX',
  newline:           ['CrLaTeX', true],
  hline:             ['HLine', 'solid'],
  hdashline:         ['HLine', 'dashed'],
  //      noalign:            'HandleNoAlign',
  eqalignno:         ['Matrix', null, null, 'right left',
                      em(MATHSPACE.thickmathspace), '.5em', 'D', null,
                      'right'],
  leqalignno:        ['Matrix', null, null, 'right left',
                      em(MATHSPACE.thickmathspace), '.5em', 'D', null,
                      'left'],
  hfill:              'HFill',
  hfil:               'HFill',   // \hfil treated as \hfill for now
  hfilll:             'HFill',   // \hfilll treated as \hfill for now

  //  TeX substitution macros
  bmod:              ['Macro', '\\mmlToken{mo}[lspace="thickmathspace"' +
                      ' rspace="thickmathspace"]{mod}'],
  pmod:              ['Macro', '\\pod{\\mmlToken{mi}{mod}\\kern 6mu #1}', 1],
  mod:               ['Macro', '\\mathchoice{\\kern18mu}{\\kern12mu}' +
                      '{\\kern12mu}{\\kern12mu}\\mmlToken{mi}{mod}\\,\\,#1',
                      1],
  pod:               ['Macro', '\\mathchoice{\\kern18mu}{\\kern8mu}' +
                      '{\\kern8mu}{\\kern8mu}(#1)', 1],
  iff:               ['Macro', '\\;\\Longleftrightarrow\\;'],
  skew:              ['Macro', '{{#2{#3\\mkern#1mu}\\mkern-#1mu}{}}', 3],

  pmb:               ['Macro', '\\rlap{#1}\\kern1px{#1}', 1],
  TeX:               ['Macro', 'T\\kern-.14em\\lower.5ex{E}\\kern-.115em X'],
  LaTeX:             ['Macro', 'L\\kern-.325em\\raise.21em' +
                      '{\\scriptstyle{A}}\\kern-.17em\\TeX'],
  ' ':               ['Macro', '\\text{ }'],

  //  Specially handled
  not:                'Not',
  dots:               'Dots',
  space:              'Tilde',
  '\u00A0':           'Tilde',


  //  LaTeX
  begin:              'BeginEnd',
  end:                'BeginEnd',

  label:              'HandleLabel',
  ref:                'HandleRef',
  nonumber:           'HandleNoTag',

  // Internal use:
  mathchoice:         'MathChoice',
  mmlToken:           'MmlToken'
}, BaseMethods);


/**
 * Macros for LaTeX environments.
 */
new sm.EnvironmentMap('environment', ParseMethods.environment, {
  array:         ['AlignedArray'],
  equation:      ['Equation', null, true],
  eqnarray:      ['EqnArray', null, true, true, 'rcl',
                  ParseUtil.cols(0, MATHSPACE.thickmathspace), '.5em']
}, BaseMethods);


/**
 * Mapping for negated operators.
 */
new sm.CharacterMap('not_remap', null, {
  '\u2190': '\u219A',
  '\u2192': '\u219B',
  '\u2194': '\u21AE',
  '\u21D0': '\u21CD',
  '\u21D2': '\u21CF',
  '\u21D4': '\u21CE',
  '\u2208': '\u2209',
  '\u220B': '\u220C',
  '\u2223': '\u2224',
  '\u2225': '\u2226',
  '\u223C': '\u2241',
  '\u007E': '\u2241',
  '\u2243': '\u2244',
  '\u2245': '\u2247',
  '\u2248': '\u2249',
  '\u224D': '\u226D',
  '\u003D': '\u2260',
  '\u2261': '\u2262',
  '\u003C': '\u226E',
  '\u003E': '\u226F',
  '\u2264': '\u2270',
  '\u2265': '\u2271',
  '\u2272': '\u2274',
  '\u2273': '\u2275',
  '\u2276': '\u2278',
  '\u2277': '\u2279',
  '\u227A': '\u2280',
  '\u227B': '\u2281',
  '\u2282': '\u2284',
  '\u2283': '\u2285',
  '\u2286': '\u2288',
  '\u2287': '\u2289',
  '\u22A2': '\u22AC',
  '\u22A8': '\u22AD',
  '\u22A9': '\u22AE',
  '\u22AB': '\u22AF',
  '\u227C': '\u22E0',
  '\u227D': '\u22E1',
  '\u2291': '\u22E2',
  '\u2292': '\u22E3',
  '\u22B2': '\u22EA',
  '\u22B3': '\u22EB',
  '\u22B4': '\u22EC',
  '\u22B5': '\u22ED',
  '\u2203': '\u2204'
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1421">



/**
 * @fileoverview The Basic Parse methods.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import * as sitem from './BaseItems.js';
import {StackItem, EnvList} from '../StackItem.js';
import {Macro} from '../Symbol.js';
import {ParseMethod} from '../Types.js';
import NodeUtil from '../NodeUtil.js';
import TexError from '../TexError.js';
import TexParser from '../TexParser.js';
import {TexConstant} from '../TexConstants.js';
import ParseUtil from '../ParseUtil.js';
import {MmlNode, TEXCLASS} from '../../../core/MmlTree/MmlNode.js';
import {MmlMsubsup} from '../../../core/MmlTree/MmlNodes/msubsup.js';
import {MmlMunderover} from '../../../core/MmlTree/MmlNodes/munderover.js';
import {Label} from '../Tags.js';
import {em} from '../../../util/lengths.js';
import {entities} from '../../../util/Entities.js';
import {lookup} from '../../../util/Options.js';


// Namespace
let BaseMethods: Record&lt;string, ParseMethod&gt; = {};

const P_HEIGHT = 1.2 / .85;   // cmex10 height plus depth over .85
const MmlTokenAllow: {[key: string]: number} = {
  fontfamily: 1, fontsize: 1, fontweight: 1, fontstyle: 1,
  color: 1, background: 1,
  id: 1, 'class': 1, href: 1, style: 1
};



/**
 * Handle LaTeX tokens.
 */

/**
 * Handle {
 * @param {TexParser} parser The calling parser.
 * @param {string} c The parsed character.
 */
BaseMethods.Open = function(parser: TexParser, _c: string) {
  // @test Identifier Font, Prime, Prime with subscript
  parser.Push(parser.itemFactory.create('open'));
};

/**
 * Handle }
 * @param {TexParser} parser The calling parser.
 * @param {string} c The parsed character.
 */
BaseMethods.Close = function(parser: TexParser, _c: string) {
  // @test Identifier Font, Prime, Prime with subscript
  parser.Push(parser.itemFactory.create('close'));
};


/**
 * Handle tilde and spaces.
 * @param {TexParser} parser The calling parser.
 * @param {string} c The parsed character.
 */
BaseMethods.Tilde = function(parser: TexParser, _c: string) {
  // @test Tilde, Tilde2
  parser.Push(parser.create('token', 'mtext', {}, entities.nbsp));
};

/**
 * Handling space, by doing nothing.
 * @param {TexParser} parser The calling parser.
 * @param {string} c The parsed character.
 */
BaseMethods.Space = function(_parser: TexParser, _c: string) {};

/**
 * Handle ^
 * @param {TexParser} parser The calling parser.
 * @param {string} c The parsed character.
 */
BaseMethods.Superscript = function(parser: TexParser, _c: string) {
  if (parser.GetNext().match(/\d/)) {
    // don't treat numbers as a unit
    parser.string = parser.string.substr(0, parser.i + 1) +
      ' ' + parser.string.substr(parser.i + 1);
  }
  let primes: MmlNode;
  let base: MmlNode | void;
  const top = parser.stack.Top();
  if (top.isKind('prime')) {
    // @test Prime on Prime
    [base, primes] = top.Peek(2);
    parser.stack.Pop();
  } else {
    // @test Empty base2, Square, Cube
    base = parser.stack.Prev();
    if (!base) {
      // @test Empty base
      base = parser.create('token', 'mi', {}, '');
    }
  }
  const movesupsub = NodeUtil.getProperty(base, 'movesupsub');
  let position = NodeUtil.isType(base, 'msubsup') ? (base as MmlMsubsup).sup :
    (base as MmlMunderover).over;
  if ((NodeUtil.isType(base, 'msubsup') &amp;&amp; !NodeUtil.isType(base, 'msup') &amp;&amp;
       NodeUtil.getChildAt(base, (base as MmlMsubsup).sup)) ||
      (NodeUtil.isType(base, 'munderover') &amp;&amp; !NodeUtil.isType(base, 'mover') &amp;&amp;
       NodeUtil.getChildAt(base, (base as MmlMunderover).over) &amp;&amp;
       !NodeUtil.getProperty(base, 'subsupOK'))) {
    // @test Double-super-error, Double-over-error
    throw new TexError('DoubleExponent', 'Double exponent: use braces to clarify');
  }
  if (!NodeUtil.isType(base, 'msubsup') || NodeUtil.isType(base, 'msup')) {
    if (movesupsub) {
      // @test Move Superscript, Large Operator
      if (!NodeUtil.isType(base, 'munderover') || NodeUtil.isType(base, 'mover') ||
          NodeUtil.getChildAt(base, (base as MmlMunderover).over)) {
        // @test Large Operator
        base = parser.create('node', 'munderover', [base], {movesupsub: true});
      }
      position = (base as MmlMunderover).over;
    } else {
      // @test Empty base, Empty base2, Square, Cube
      base = parser.create('node', 'msubsup', [base]);
      position = (base as MmlMsubsup).sup;
    }
  }
  parser.Push(
    parser.itemFactory.create('subsup', base).setProperties({
      position: position, primes: primes, movesupsub: movesupsub
    }) );
};


/**
 * Handle _
 * @param {TexParser} parser The calling parser.
 * @param {string} c The parsed character.
 */
BaseMethods.Subscript = function(parser: TexParser, _c: string) {
  if (parser.GetNext().match(/\d/)) {
    // don't treat numbers as a unit
    parser.string =
      parser.string.substr(0, parser.i + 1) + ' ' +
      parser.string.substr(parser.i + 1);
  }
  let primes, base;
  const top = parser.stack.Top();
  if (top.isKind('prime')) {
    // @test Prime on Sub
    [base, primes] = top.Peek(2);
    parser.stack.Pop();
  } else {
    base = parser.stack.Prev();
    if (!base) {
      // @test Empty Base Index
      base = parser.create('token', 'mi', {}, '');
    }
  }
  const movesupsub = NodeUtil.getProperty(base, 'movesupsub');
  let position = NodeUtil.isType(base, 'msubsup') ?
    (base as MmlMsubsup).sub : (base as MmlMunderover).under;
  if ((NodeUtil.isType(base, 'msubsup') &amp;&amp; !NodeUtil.isType(base, 'msup') &amp;&amp;
       NodeUtil.getChildAt(base, (base as MmlMsubsup).sub)) ||
      (NodeUtil.isType(base, 'munderover') &amp;&amp; !NodeUtil.isType(base, 'mover') &amp;&amp;
       NodeUtil.getChildAt(base, (base as MmlMunderover).under) &amp;&amp;
       !NodeUtil.getProperty(base, 'subsupOK'))) {
    // @test Double-sub-error, Double-under-error
    throw new TexError('DoubleSubscripts', 'Double subscripts: use braces to clarify');
  }
  if (!NodeUtil.isType(base, 'msubsup') || NodeUtil.isType(base, 'msup')) {
    if (movesupsub) {
      // @test Large Operator, Move Superscript
      if (!NodeUtil.isType(base, 'munderover') || NodeUtil.isType(base, 'mover') ||
          NodeUtil.getChildAt(base, (base as MmlMunderover).under)) {
        // @test Move Superscript
        base = parser.create('node', 'munderover', [base], {movesupsub: true});
      }
      position = (base as MmlMunderover).under;
    } else {
      // @test Empty Base Index, Empty Base Index2, Index
      base = parser.create('node', 'msubsup', [base]);
      position = (base as MmlMsubsup).sub;
    }
  }
  parser.Push(
    parser.itemFactory.create('subsup', base).setProperties({
      position: position, primes: primes, movesupsub: movesupsub
    }) );
};


/**
 * Handle '
 * @param {TexParser} parser The calling parser.
 * @param {string} c The parsed character.
 */
BaseMethods.Prime = function(parser: TexParser, c: string) {
  // @test Prime
  let base = parser.stack.Prev();
  if (!base) {
    // @test PrimeSup, PrePrime, Prime on Sup
    base = parser.create('node', 'mi');
  }
  if (NodeUtil.isType(base, 'msubsup') &amp;&amp; !NodeUtil.isType(base, 'msup') &amp;&amp;
      NodeUtil.getChildAt(base, (base as MmlMsubsup).sup)) {
    // @test Double Prime Error
    throw new TexError('DoubleExponentPrime',
                        'Prime causes double exponent: use braces to clarify');
  }
  let sup = '';
  parser.i--;
  do {
    // @test Prime, PrimeSup, Double Prime, PrePrime
    sup += entities.prime; parser.i++, c = parser.GetNext();
  } while (c === '\'' || c === entities.rsquo);
  sup = ['', '\u2032', '\u2033', '\u2034', '\u2057'][sup.length] || sup;
  const node = parser.create('token', 'mo', {variantForm: true}, sup);
  parser.Push(
    parser.itemFactory.create('prime', base, node) );
};


/**
 * Handle comments
 * @param {TexParser} parser The calling parser.
 * @param {string} c The parsed character.
 */
BaseMethods.Comment = function(parser: TexParser, _c: string) {
  while (parser.i &lt; parser.string.length &amp;&amp; parser.string.charAt(parser.i) !== '\n') {
    parser.i++;
  }
};


/**
 * Handle hash marks outside of definitions
 * @param {TexParser} parser The calling parser.
 * @param {string} c The parsed character.
 */
BaseMethods.Hash = function(_parser: TexParser, _c: string) {
  // @test Hash Error
  throw new TexError('CantUseHash1',
                      'You can\'t use \'macro parameter character #\' in math mode');
};



/**
 *
 * Handle LaTeX Macros
 *
 */


/**
 * Handle \mathrm, \mathbf, etc, allowing for multi-letter runs to be one &lt;mi&gt;.
 */
BaseMethods.MathFont = function(parser: TexParser, name: string, variant: string) {
  const text = parser.GetArgument(name);
  let mml = new TexParser(text, {
    ...parser.stack.env,
    font: variant,
    multiLetterIdentifiers: true
  }, parser.configuration).mml();
  parser.Push(parser.create('node', 'TeXAtom', [mml]));
};

/**
 * Setting font, e.g., via \\rm, \\bf etc.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} font The font name.
 */
BaseMethods.SetFont = function(parser: TexParser, _name: string, font: string) {
  parser.stack.env['font'] = font;
};

/**
 * Setting style, e.g., via \\displaystyle, \\textstyle, etc.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} texStyle The tex style name: D, T, S, SS
 * @param {boolean} style True if we are in displaystyle.
 * @param {string} level The nesting level for scripts.
 */
BaseMethods.SetStyle = function(parser: TexParser, _name: string,
                                texStyle: string, style: boolean,
                                level: string) {
  parser.stack.env['style'] = texStyle;
  parser.stack.env['level'] = level;
  parser.Push(
    parser.itemFactory.create('style').setProperty(
      'styles', {displaystyle: style, scriptlevel: level}));
};


/**
 * Setting size of an expression, e.g., \\small, \\huge.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {number} size The size value.
 */
BaseMethods.SetSize = function(parser: TexParser, _name: string, size: number) {
  parser.stack.env['size'] = size;
  parser.Push(
    parser.itemFactory.create('style').setProperty('styles', {mathsize: em(size)}));
};

/**
 * Setting explicit spaces, e.g., via commata or colons.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} space The space value.
 */
BaseMethods.Spacer = function(parser: TexParser, _name: string, space: number) {
  // @test Positive Spacing, Negative Spacing
  const node = parser.create('node', 'mspace', [], {width: em(space)});
  const style = parser.create('node', 'mstyle', [node], {scriptlevel: 0});
  parser.Push(style);
};


/**
 * Parses left/right fenced expressions.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.LeftRight = function(parser: TexParser, name: string) {
  // @test Fenced, Fenced3
  const first = name.substr(1);
  parser.Push(parser.itemFactory.create(first, parser.GetDelimiter(name), parser.stack.env.color));
};

/**
 * Handle a named math function, e.g., \\sin, \\cos
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} id Alternative string representation of the function.
 */
BaseMethods.NamedFn = function(parser: TexParser, name: string, id: string) {
  // @test Named Function
  if (!id) {
    id = name.substr(1);
  }
  const mml = parser.create('token', 'mi', {texClass: TEXCLASS.OP}, id);
  parser.Push(parser.itemFactory.create('fn', mml));
};


/**
 * Handle a named math operator, e.g., \\min, \\lim
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} id Alternative string representation of the operator.
 */
BaseMethods.NamedOp = function(parser: TexParser, name: string, id: string) {
  // @test Limit
  if (!id) {
    id = name.substr(1);
  }
  id = id.replace(/&amp;thinsp;/, '\u2006');
  const mml = parser.create('token', 'mo', {
    movablelimits: true,
    movesupsub: true,
    form: TexConstant.Form.PREFIX,
    texClass: TEXCLASS.OP
  }, id);
  parser.Push(mml);
};

/**
 * Handle a limits command for math operators.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} limits The limits arguments.
 */
BaseMethods.Limits = function(parser: TexParser, _name: string, limits: string) {
  // @test Limits
  let op = parser.stack.Prev(true);
  // Get the texclass for the core operator.
  if (!op || (NodeUtil.getTexClass(NodeUtil.getCoreMO(op)) !== TEXCLASS.OP &amp;&amp;
              NodeUtil.getProperty(op, 'movesupsub') == null)) {
    // @test Limits Error
    throw new TexError('MisplacedLimits', '%1 is allowed only on operators', parser.currentCS);
  }
  const top = parser.stack.Top();
  let node;
  if (NodeUtil.isType(op, 'munderover') &amp;&amp; !limits) {
    // @test Limits UnderOver
    node = parser.create('node', 'msubsup');
    NodeUtil.copyChildren(op, node);
    op = top.Last = node;
  } else if (NodeUtil.isType(op, 'msubsup') &amp;&amp; limits) {
    // @test Limits SubSup
    // node = parser.create('node', 'munderover', NodeUtil.getChildren(op), {});
    // Needs to be copied, otherwise we get an error in MmlNode.appendChild!
    node = parser.create('node', 'munderover');
    NodeUtil.copyChildren(op, node);
    op = top.Last = node;
  }
  NodeUtil.setProperty(op, 'movesupsub', limits ? true : false);
  NodeUtil.setProperties(NodeUtil.getCoreMO(op), {'movablelimits': false});
  if (NodeUtil.getAttribute(op, 'movablelimits') ||
      NodeUtil.getProperty(op, 'movablelimits')) {
    NodeUtil.setProperties(op, {'movablelimits': false});
  }
};


/**
 * Handle over commands.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} open The open delimiter in case of a "withdelim" version.
 * @param {string} close The close delimiter.
 */
BaseMethods.Over = function(parser: TexParser, name: string, open: string, close: string) {
  // @test Over
  const mml = parser.itemFactory.create('over').setProperty('name', parser.currentCS) ;
  if (open || close) {
    // @test Choose
    mml.setProperty('open', open);
    mml.setProperty('close', close);
  } else if (name.match(/withdelims$/)) {
    // @test Over With Delims, Above With Delims
    mml.setProperty('open', parser.GetDelimiter(name));
    mml.setProperty('close', parser.GetDelimiter(name));
  }
  if (name.match(/^\\above/)) {
    // @test Above, Above With Delims
    mml.setProperty('thickness', parser.GetDimen(name));
  }
  else if (name.match(/^\\atop/) || open || close) {
    // @test Choose
    mml.setProperty('thickness', 0);
  }
  parser.Push(mml);
};

/**
 * Parses a fraction.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.Frac = function(parser: TexParser, name: string) {
  // @test Frac
  const num = parser.ParseArg(name);
  const den = parser.ParseArg(name);
  const node = parser.create('node', 'mfrac', [num, den]);
  parser.Push(node);
};

/**
 * Parses a square root element.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.Sqrt = function(parser: TexParser, name: string) {
  const n = parser.GetBrackets(name);
  let arg = parser.GetArgument(name);
  if (arg === '\\frac') {
    arg  += '{' + parser.GetArgument(arg) + '}{' + parser.GetArgument(arg) + '}';
  }
  let mml = new TexParser(arg, parser.stack.env, parser.configuration).mml();
  if (!n) {
    // @test Square Root
    mml = parser.create('node', 'msqrt', [mml]);
  } else {
    // @test General Root
    mml = parser.create('node', 'mroot', [mml, parseRoot(parser, n)]);
  }
  parser.Push(mml);
};


// Utility
/**
 * Parse a general root.
 * @param {TexParser} parser The calling parser.
 * @param {string} n The index of the root.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1422">function parseRoot(parser: TexParser, n: string) {
  // @test General Root, Explicit Root
  const env = parser.stack.env;
  const inRoot = env['inRoot'];
  env['inRoot'] = true;
  const newParser = new TexParser(n, env, parser.configuration);
  let node = newParser.mml();
  const global = newParser.stack.global;
  if (global['leftRoot'] || global['upRoot']) {
    // @test Tweaked Root
    const def: EnvList = {};
    if (global['leftRoot']) {
      def['width'] = global['leftRoot'];
    }
    if (global['upRoot']) {
      def['voffset'] = global['upRoot'];
      def['height'] = global['upRoot'];
    }
    node = parser.create('node', 'mpadded', [node], def);
  }
  env['inRoot'] = inRoot;
  return node;
}


/**
 * Parse a general root.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.Root = function(parser: TexParser, name: string) {
  const n = parser.GetUpTo(name, '\\of');
  const arg = parser.ParseArg(name);
  const node = parser.create('node', 'mroot', [arg, parseRoot(parser, n)]);
  parser.Push(node);
};


/**
 * Parses a movable index element in a root, e.g. \\uproot, \\leftroot
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} id Argument which should be a string representation of an integer.
 */
BaseMethods.MoveRoot = function(parser: TexParser, name: string, id: string) {
  // @test Tweaked Root
  if (!parser.stack.env['inRoot']) {
    // @test Misplaced Move Root
    throw new TexError('MisplacedMoveRoot', '%1 can appear only within a root', parser.currentCS);
  }
  if (parser.stack.global[id]) {
    // @test Multiple Move Root
    throw new TexError('MultipleMoveRoot', 'Multiple use of %1', parser.currentCS);
  }
  let n = parser.GetArgument(name);
  if (!n.match(/-?[0-9]+/)) {
    // @test Incorrect Move Root
    throw new TexError('IntegerArg', 'The argument to %1 must be an integer', parser.currentCS);
  }
  n = (parseInt(n, 10) / 15) + 'em';
  if (n.substr(0, 1) !== '-') {
    n = '+' + n;
  }
  parser.stack.global[id] = n;
};


/**
 * Handle accents.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} accent The accent.
 * @param {boolean} stretchy True if accent is stretchy.
 */
BaseMethods.Accent = function(parser: TexParser, name: string, accent: string, stretchy: boolean) {
  // @test Vector
  const c = parser.ParseArg(name);
  // @test Vector Font
  const def = {...ParseUtil.getFontDef(parser), accent: true, mathaccent: true};
  const entity = NodeUtil.createEntity(accent);
  const moNode = parser.create('token', 'mo', def, entity);
  const mml = moNode;
  NodeUtil.setAttribute(mml, 'stretchy', stretchy ? true : false);
  // @test Vector Op, Vector
  const mo = (NodeUtil.isEmbellished(c) ? NodeUtil.getCoreMO(c) : c);
  if (NodeUtil.isType(mo, 'mo')) {
    // @test Vector Op
    NodeUtil.setProperties(mo, {'movablelimits': false});
  }
  const muoNode = parser.create('node', 'munderover');
  // This is necessary to get the empty element into the children.
  NodeUtil.setChild(muoNode, 0, c);
  NodeUtil.setChild(muoNode, 1, null);
  NodeUtil.setChild(muoNode, 2, mml);
  let texAtom = parser.create('node', 'TeXAtom', [muoNode]);
  parser.Push(texAtom);
};


/**
 * Handles stacked elements.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} c Character to stack.
 * @param {boolean} stack True if stacked operator.
 */
BaseMethods.UnderOver = function(parser: TexParser, name: string, c: string, stack: boolean) {
  const entity = NodeUtil.createEntity(c);
  const mo = parser.create('token', 'mo', {stretchy: true, accent: true}, entity);
  const pos = (name.charAt(1) === 'o' ? 'over' : 'under');
  const base = parser.ParseArg(name);
  parser.Push(ParseUtil.underOver(parser, base, mo, pos, stack));
};


/**
 * Handles overset.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.Overset = function(parser: TexParser, name: string) {
  // @test Overset
  const top = parser.ParseArg(name);
  const base = parser.ParseArg(name);
  ParseUtil.checkMovableLimits(base);
  const node = parser.create('node', 'mover', [base, top]);
  parser.Push(node);
};


/**
 * Handles underset.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.Underset = function(parser: TexParser, name: string) {
  // @test Underset
  const bot = parser.ParseArg(name);
  const base = parser.ParseArg(name);
  ParseUtil.checkMovableLimits(base);
  const node = parser.create('node', 'munder', [base, bot]);
  parser.Push(node);
};


/**
 * Handles overunderset.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.Overunderset = function(parser: TexParser, name: string) {
  const top = parser.ParseArg(name);
  const bot = parser.ParseArg(name);
  const base = parser.ParseArg(name);
  ParseUtil.checkMovableLimits(base);
  const node = parser.create('node', 'munderover', [base, bot, top]);
  parser.Push(node);
};


/**
 * Creates TeXAtom, when class of element is changed explicitly.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {number} mclass The new TeX class.
 */
BaseMethods.TeXAtom = function(parser: TexParser, name: string, mclass: number) {
  let def: EnvList = {texClass: mclass};
  let mml: StackItem | MmlNode;
  let node: MmlNode;
  let parsed: MmlNode;
  if (mclass === TEXCLASS.OP) {
    def['movesupsub'] = def['movablelimits'] = true;
    const arg = parser.GetArgument(name);
    const match = arg.match(/^\s*\\rm\s+([a-zA-Z0-9 ]+)$/);
    if (match) {
      // @test Mathop
      def['mathvariant'] = TexConstant.Variant.NORMAL;
      node = parser.create('token', 'mi', def, match[1]);
    } else {
      // @test Mathop Cal
      parsed = new TexParser(arg, parser.stack.env, parser.configuration).mml();
      node = parser.create('node', 'TeXAtom', [parsed], def);
    }
    mml = parser.itemFactory.create('fn', node);
  } else {
    // @test Mathrel
    parsed = parser.ParseArg(name);
    mml = parser.create('node', 'TeXAtom', [parsed], def);
  }
  parser.Push(mml);
};


/**
 * Creates mmltoken elements. Used in Macro substitutions.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.MmlToken = function(parser: TexParser, name: string) {
  // @test Modulo
  const kind = parser.GetArgument(name);
  let attr = parser.GetBrackets(name, '').replace(/^\s+/, '');
  const text = parser.GetArgument(name);
  const def: EnvList = {};
  let node: MmlNode;
  try {
    node = parser.create('node', kind);
  } catch (e) {
    node = null;
  }
  if (!node || !node.isToken) {
    // @test Token Illegal Type, Token Wrong Type
    throw new TexError('NotMathMLToken', '%1 is not a token element', kind);
  }
  while (attr !== '') {
    const match = attr.match(/^([a-z]+)\s*=\s*('[^']*'|"[^"]*"|[^ ,]*)\s*,?\s*/i);
    if (!match) {
      // @test Token Invalid Attribute
      throw new TexError('InvalidMathMLAttr', 'Invalid MathML attribute: %1', attr);
    }
    if (!node.attributes.hasDefault(match[1]) &amp;&amp; !MmlTokenAllow[match[1]]) {
      // @test Token Unknown Attribute, Token Wrong Attribute
      throw new TexError('UnknownAttrForElement',
                          '%1 is not a recognized attribute for %2',
                          match[1], kind);
    }
    let value: string | boolean = ParseUtil.MmlFilterAttribute(
      parser, match[1], match[2].replace(/^(['"])(.*)\1$/, '$2'));
    if (value) {
      if (value.toLowerCase() === 'true') {
        value = true;
      }
      else if (value.toLowerCase() === 'false') {
        value = false;
      }
      def[match[1]] = value;
    }
    attr = attr.substr(match[0].length);
  }
  const textNode = parser.create('text', text);
  node.appendChild(textNode);
  NodeUtil.setProperties(node, def);
  parser.Push(node);
};


/**
 * Handle strut.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.Strut = function(parser: TexParser, _name: string) {
  // @test Strut
  const row = parser.create('node', 'mrow');
  const padded = parser.create('node', 'mpadded', [row],
                                                         {height: '8.6pt', depth: '3pt', width: 0});
  parser.Push(padded);
};

/**
 * Handle phantom commands.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} v Vertical size.
 * @param {string} h Horizontal size.
 */
BaseMethods.Phantom = function(parser: TexParser, name: string, v: string, h: string) {
  // @test Phantom
  let box = parser.create('node', 'mphantom', [parser.ParseArg(name)]);
  if (v || h) {
    // TEMP: Changes here
    box = parser.create('node', 'mpadded', [box]);
    if (h) {
      // @test Horizontal Phantom
      NodeUtil.setAttribute(box, 'height', 0);
      NodeUtil.setAttribute(box, 'depth', 0);
    }
    if (v) {
      // @test Vertical Phantom
      NodeUtil.setAttribute(box, 'width', 0);
    }
  }
  const atom = parser.create('node', 'TeXAtom', [box]);
  parser.Push(atom);
};

/**
 * Handle smash.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.Smash = function(parser: TexParser, name: string) {
  // @test Smash, Smash Top, Smash Bottom
  const bt = ParseUtil.trimSpaces(parser.GetBrackets(name, ''));
  const smash = parser.create('node', 'mpadded', [parser.ParseArg(name)]);
  // TEMP: Changes here:
  switch (bt) {
  case 'b': NodeUtil.setAttribute(smash, 'depth', 0); break;
  case 't': NodeUtil.setAttribute(smash, 'height', 0); break;
  default:
    NodeUtil.setAttribute(smash, 'height', 0);
    NodeUtil.setAttribute(smash, 'depth', 0);
  }
  const atom = parser.create('node', 'TeXAtom', [smash]);
  parser.Push(atom);
};

/**
 * Handle rlap and llap commands.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.Lap = function(parser: TexParser, name: string) {
  // @test Llap, Rlap
  const mml = parser.create('node', 'mpadded', [parser.ParseArg(name)], {width: 0});
  if (name === '\\llap') {
    // @test Llap
    NodeUtil.setAttribute(mml, 'lspace', '-1width');
  }
  const atom = parser.create('node', 'TeXAtom', [mml]);
  parser.Push(atom);
};

/**
 * Handle raise and lower commands.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.RaiseLower = function(parser: TexParser, name: string) {
  // @test Raise, Lower, Raise Negative, Lower Negative
  let h = parser.GetDimen(name);
  let item =
    parser.itemFactory.create('position').setProperties({name: parser.currentCS, move: 'vertical'}) ;
  // TEMP: Changes here:
  if (h.charAt(0) === '-') {
    // @test Raise Negative, Lower Negative
    h = h.slice(1);
    name = name.substr(1) === 'raise' ? '\\lower' : '\\raise';
  }
  if (name === '\\lower') {
    // @test Raise, Raise Negative
    item.setProperty('dh', '-' + h);
    item.setProperty('dd', '+' + h);
  } else {
    // @test Lower, Lower Negative
    item.setProperty('dh', '+' + h);
    item.setProperty('dd', '-' + h);
  }
  parser.Push(item);
};


/**
 * Handle moveleft, moveright commands
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.MoveLeftRight = function(parser: TexParser, name: string) {
  // @test Move Left, Move Right, Move Left Negative, Move Right Negative
  let h = parser.GetDimen(name);
  let nh = (h.charAt(0) === '-' ? h.slice(1) : '-' + h);
  if (name === '\\moveleft') {
    let tmp = h;
    h = nh;
    nh = tmp;
  }
  parser.Push(
    parser.itemFactory.create('position').setProperties({
      name: parser.currentCS, move: 'horizontal',
      left:  parser.create('node', 'mspace', [], {width: h}),
      right: parser.create('node', 'mspace', [], {width: nh})}) );
};


/**
 * Handle horizontal spacing commands.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.Hskip = function(parser: TexParser, name: string) {
  // @test Modulo
  const node = parser.create('node', 'mspace', [],
                             {width: parser.GetDimen(name)});
  parser.Push(node);
};


/**
 * Handle removal of spaces in script modes
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.Nonscript = function(parser: TexParser, _name: string) {
  parser.Push(parser.itemFactory.create('nonscript'));
};


/**
 * Handle Rule and Space command
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} style The style of the rule spacer.
 */
BaseMethods.Rule = function(parser: TexParser, name: string, style: string) {
  // @test Rule 3D, Space 3D
  const w = parser.GetDimen(name),
  h = parser.GetDimen(name),
  d = parser.GetDimen(name);
  let def: EnvList = {width: w, height: h, depth: d};
  if (style !== 'blank') {
    def['mathbackground'] = (parser.stack.env['color'] || 'black');
  }
  const node = parser.create('node', 'mspace', [], def);
  parser.Push(node);
};


/**
 * Handle rule command.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.rule = function(parser: TexParser, name: string) {
  // @test Rule 2D
  const v = parser.GetBrackets(name),
  w = parser.GetDimen(name),
  h = parser.GetDimen(name);
  let mml = parser.create('node', 'mspace', [], {
    width: w, height: h,
    mathbackground: (parser.stack.env['color'] || 'black') });
  if (v) {
    mml = parser.create('node', 'mpadded', [mml], {voffset: v});
    if (v.match(/^\-/)) {
      NodeUtil.setAttribute(mml, 'height', v);
      NodeUtil.setAttribute(mml, 'depth', '+' + v.substr(1));
    } else {
      NodeUtil.setAttribute(mml, 'height', '+' + v);
    }
  }
  parser.Push(mml);
};

/**
 * Handle big command sequences, e.g., \\big, \\Bigg.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {number} mclass The TeX class of the element.
 * @param {number} size The em size.
 */
BaseMethods.MakeBig = function(parser: TexParser, name: string, mclass: number, size: number) {
  // @test Choose, Over With Delims, Above With Delims
  size *= P_HEIGHT;
  let sizeStr = String(size).replace(/(\.\d\d\d).+/, '$1') + 'em';
  const delim = parser.GetDelimiter(name, true);
  const mo = parser.create('token', 'mo', {
    minsize: sizeStr, maxsize: sizeStr,
    fence: true, stretchy: true, symmetric: true
  }, delim);
  const node = parser.create('node', 'TeXAtom', [mo], {texClass: mclass});
  parser.Push(node);
};


/**
 * Handle buildrel command.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.BuildRel = function(parser: TexParser, name: string) {
  // @test BuildRel, BuildRel Expression
  const top = parser.ParseUpTo(name, '\\over');
  const bot = parser.ParseArg(name);
  const node = parser.create('node', 'munderover');
  // This is necessary to get the empty element into the children.
  NodeUtil.setChild(node, 0, bot);
  NodeUtil.setChild(node, 1, null);
  NodeUtil.setChild(node, 2, top);
  const atom = parser.create('node', 'TeXAtom', [node], {texClass: TEXCLASS.REL});
  parser.Push(atom);
};


/**
 * Handle horizontal boxes.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} style Box style.
 * @param {string} font The mathvariant to use
 */
BaseMethods.HBox = function(parser: TexParser, name: string, style: string, font?: string) {
  // @test Hbox
  parser.PushAll(ParseUtil.internalMath(parser, parser.GetArgument(name), style, font));
};

/**
 * Handle framed boxes.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.FBox = function(parser: TexParser, name: string) {
  // @test Fbox
  const internal = ParseUtil.internalMath(parser, parser.GetArgument(name));
  const node = parser.create('node', 'menclose', internal, {notation: 'box'});
  parser.Push(node);
};

/**
 * Handle framed boxes with options.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.FrameBox = function(parser: TexParser, name: string) {
  const width = parser.GetBrackets(name);
  const pos = parser.GetBrackets(name) || 'c';
  let mml = ParseUtil.internalMath(parser, parser.GetArgument(name));
  if (width) {
    mml = [parser.create('node', 'mpadded', mml, {
      width,
      'data-align': lookup(pos, {l: 'left', r: 'right'}, 'center')
    })];
  }
  const node = parser.create('node', 'TeXAtom',
                             [parser.create('node', 'menclose', mml, {notation: 'box'})],
                             {texClass: TEXCLASS.ORD});
  parser.Push(node);
};


/**
 * Handle \\not.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.Not = function(parser: TexParser, _name: string) {
  // @test Negation Simple, Negation Complex, Negation Explicit,
  //       Negation Large
  parser.Push(parser.itemFactory.create('not'));
};


/**
 * Handle dots.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.Dots = function(parser: TexParser, _name: string) {
  // @test Operator Dots
  const ldotsEntity = NodeUtil.createEntity('2026');
  const cdotsEntity = NodeUtil.createEntity('22EF');
  const ldots = parser.create('token', 'mo', {stretchy: false}, ldotsEntity);
  const cdots = parser.create('token', 'mo', {stretchy: false}, cdotsEntity);
  parser.Push(
    parser.itemFactory.create('dots').setProperties({
      ldots: ldots,
      cdots: cdots
    }) );
};


/**
 * Handle small matrix environments.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} open Opening fence.
 * @param {string} close Closing fence.
 * @param {string} align Column alignment.
 * @param {string} spacing Column spacing.
 * @param {string} vspacing Row spacing.
 * @param {string} style Display or text style.
 * @param {boolean} cases Is it a cases environment.
 * @param {boolean} numbered Is it a numbered environment.
 */
BaseMethods.Matrix = function(parser: TexParser, _name: string,
                              open: string, close: string, align: string,
                              spacing: string, vspacing: string, style: string,
                              cases: boolean, numbered: boolean) {
  const c = parser.GetNext();
  if (c === '') {
    // @test Matrix Error
    throw new TexError('MissingArgFor', 'Missing argument for %1', parser.currentCS);
  }
  if (c === '{') {
    // @test Matrix Braces, Matrix Columns, Matrix Rows.
    parser.i++;
  } else {
    // @test Matrix Arg
    parser.string = c + '}' + parser.string.slice(parser.i + 1);
    parser.i = 0;
  }
  // @test Matrix Braces, Matrix Columns, Matrix Rows.
  const array = parser.itemFactory.create('array').setProperty('requireClose', true) as sitem.ArrayItem;
  array.arraydef = {
    rowspacing: (vspacing || '4pt'),
    columnspacing: (spacing || '1em')
  };
  if (cases) {
    // @test Matrix Cases
    array.setProperty('isCases', true);
  }
  if (numbered) {
    // @test Matrix Numbered
    array.setProperty('isNumbered', true);
    array.arraydef.side = numbered;
  }
  if (open || close) {
    // @test Matrix Parens, Matrix Parens Subscript, Matrix Cases
    array.setProperty('open', open);
    array.setProperty('close', close);
  }
  if (style === 'D') {
    // @test Matrix Numbered
    array.arraydef.displaystyle = true;
  }
  if (align != null) {
    // @test Matrix Cases, Matrix Numbered
    array.arraydef.columnalign = align;
  }
  parser.Push(array);
};


/**
 * Handle array entry.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.Entry = function(parser: TexParser, name: string) {
  // @test Label, Array, Cross Product Formula
  parser.Push(parser.itemFactory.create('cell').setProperties({isEntry: true, name: name}));
  const top = parser.stack.Top();
  const env = top.getProperty('casesEnv') as string;
  const cases = top.getProperty('isCases');
  if (!cases &amp;&amp; !env) return;
  //
  //  Make second column be in \text{...} (unless it is already
  //  in a \text{...}, for backward compatibility).
  //
  const str = parser.string;
  let braces = 0, close = -1, i = parser.i, m = str.length;
  const end = (env ? new RegExp(`^\\\\end\\s*\\{${env.replace(/\*/, '\\*')}\\}`) : null);
  //
  //  Look through the string character by character...
  //
  while (i &lt; m) {
    const c = str.charAt(i);
    if (c === '{') {
      //
      //  Increase the nested brace count and go on
      //
      braces++;
      i++;
    } else if (c === '}') {
      //
      //  If there are too many close braces, just end (we will get an
      //    error message later when the rest of the string is parsed)
      //  Otherwise
      //    decrease the nested brace count,
      //    if it is now zero and we haven't already marked the end of the
      //      first brace group, record the position (use to check for \text{} later)
      //    go on to the next character.
      //
      if (braces === 0) {
        m = 0;
      } else {
        braces--;
        if (braces === 0 &amp;&amp; close &lt; 0) {
          close = i - parser.i;
        }
        i++;
      }
    } else if (c === '&amp;' &amp;&amp; braces === 0) {
      //
      //  Extra alignment tabs are not allowed in cases
      //
      // @test ExtraAlignTab
      throw new TexError('ExtraAlignTab', 'Extra alignment tab in \\cases text');
    } else if (c === '\\') {
      //
      //  If the macro is \cr or \\, end the search, otherwise skip the macro
      //  (multi-letter names don't matter, as we will skip the rest of the
      //   characters in the main loop)
      //
      const rest = str.substr(i);
      if (rest.match(/^((\\cr)[^a-zA-Z]|\\\\)/) || (end &amp;&amp; rest.match(end))) {
        m = 0;
      } else {
        i += 2;
      }
    } else {
      //
      //  Go on to the next character
      //
      i++;
    }
  }
  //
  //  Check if the second column text is already in \text{};
  //  If not, process the second column as text and continue parsing from there,
  //    (otherwise process the second column as normal, since it is in \text{}
  //
  const text = str.substr(parser.i, i - parser.i);
  if (!text.match(/^\s*\\text[^a-zA-Z]/) || close !== text.replace(/\s+$/, '').length - 1) {
    const internal = ParseUtil.internalMath(parser, ParseUtil.trimSpaces(text), 0);
    parser.PushAll(internal);
    parser.i = i;
  }
};

/**
 * Handle newline in array.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.Cr = function(parser: TexParser, name: string) {
  // @test Cr Linebreak, Misplaced Cr
  parser.Push(
    parser.itemFactory.create('cell').setProperties({isCR: true, name: name}));
};


/**
 * Handle newline outside array.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {boolean} nobrackets Flag indicating if newline is followed by
 *     brackets.
 */
BaseMethods.CrLaTeX = function(parser: TexParser, name: string, nobrackets: boolean = false) {
  let n: string;
  if (!nobrackets) {
    // TODO: spaces before * and [ are not allowed in AMS environments like align, but
    //       should be allowed in array and eqnarray.  This distinction should be honored here.
    if (parser.string.charAt(parser.i) === '*') {  // The * controls page breaking, so ignore it
      parser.i++;
    }
    if (parser.string.charAt(parser.i) === '[') {
      let dim = parser.GetBrackets(name, '');
      let [value, unit, ] = ParseUtil.matchDimen(dim);
      // @test Custom Linebreak
      if (dim &amp;&amp; !value) {
        // @test Dimension Error
        throw new TexError('BracketMustBeDimension',
                           'Bracket argument to %1 must be a dimension', parser.currentCS);
      }
      n = value + unit;
    }
  }
  parser.Push(
    parser.itemFactory.create('cell').setProperties({isCR: true, name: name, linebreak: true})
  );
  const top = parser.stack.Top();
  let node: MmlNode;
  if (top instanceof sitem.ArrayItem) {
    // @test Array
    if (n) {
      top.addRowSpacing(n);
    }
  } else {
    if (n) {
      // @test Custom Linebreak
      node = parser.create('node', 'mspace', [], {depth: n});
      parser.Push(node);
    }
    // @test Linebreak
    node = parser.create('node', 'mspace', [], {linebreak: TexConstant.LineBreak.NEWLINE});
    parser.Push(node);
  }
};

/**
 * Handle horizontal lines in arrays.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} style Style of the line. E.g., dashed.
 */
BaseMethods.HLine = function(parser: TexParser, _name: string, style: string) {
  if (style == null) {
    style = 'solid';
  }
  const top = parser.stack.Top();
  if (!(top instanceof sitem.ArrayItem) || top.Size()) {
    // @test Misplaced hline
    throw new TexError('Misplaced', 'Misplaced %1', parser.currentCS);
  }
  if (!top.table.length) {
    // @test Enclosed top, Enclosed top bottom
    top.frame.push('top');
  } else {
    // @test Enclosed bottom, Enclosed top bottom
    const lines = (top.arraydef['rowlines'] ? (top.arraydef['rowlines'] as string).split(/ /) : []);
    while (lines.length &lt; top.table.length) {
      lines.push('none');
    }
    lines[top.table.length - 1] = style;
    top.arraydef['rowlines'] = lines.join(' ');
  }
};


/**
 * Handle hfill commands.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.HFill = function(parser: TexParser, _name: string) {
  const top = parser.stack.Top();
  if (top instanceof sitem.ArrayItem) {
    // @test Hfill
    top.hfill.push(top.Size());
  } else {
    // @test UnsupportedHFill
    throw new TexError('UnsupportedHFill', 'Unsupported use of %1', parser.currentCS);
  }
};


/**
 *   LaTeX environments
 */

/**
 * Handle begin and end environments. This is a macro method.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.BeginEnd = function(parser: TexParser, name: string) {
  // @test Array1, Array2, Array Test
  let env = parser.GetArgument(name);
  if (env.match(/\\/i)) {
    // @test InvalidEnv
    throw new TexError('InvalidEnv', 'Invalid environment name \'%1\'', env);
  }
  let macro = parser.configuration.handlers.get('environment').lookup(env) as Macro;
  if (macro &amp;&amp; name === '\\end') {
    // If the first argument is true, we have some sort of user defined
    // environment. Otherwise we have a standard LaTeX environment that is
    // handled with begin and end items.
    if (!macro.args[0]) {
      const mml = parser.itemFactory.create('end').setProperty('name', env);
      parser.Push(mml);
      return;
    }
    // Remember the user defined environment we are closing.
    parser.stack.env['closing'] = env;
  }
  ParseUtil.checkMaxMacros(parser, false);
  parser.parse('environment', [parser, env]);
};


/**
 * Handle array environment.
 * @param {TexParser} parser The calling parser.
 * @param {StackItem} begin The opening stackitem.
 * @param {string} open Opening fence.
 * @param {string} close Closing fence.
 * @param {string} align Column alignment.
 * @param {string} spacing Column spacing.
 * @param {string} vspacing Row spacing.
 * @param {string} style Display or text style.
 * @param {boolean} raggedHeight Does the height need to be adjusted?
 */
BaseMethods.Array = function(parser: TexParser, begin: StackItem,
                             open: string, close: string, align: string,
                             spacing: string, vspacing: string, style: string,
                             raggedHeight: boolean) {
  if (!align) {
    // @test Array Single
    align = parser.GetArgument('\\begin{' + begin.getName() + '}');
  }
  let lines = ('c' + align).replace(/[^clr|:]/g, '').replace(/[^|:]([|:])+/g, '$1');
  align = align.replace(/[^clr]/g, '').split('').join(' ');
  align = align.replace(/l/g, 'left').replace(/r/g, 'right').replace(/c/g, 'center');
  const array = parser.itemFactory.create('array') as sitem.ArrayItem;
  array.arraydef = {
    columnalign: align,
    columnspacing: (spacing || '1em'),
    rowspacing: (vspacing || '4pt')
  };
  if (lines.match(/[|:]/)) {
    // @test Enclosed left right
    if (lines.charAt(0).match(/[|:]/)) {
      // @test Enclosed left right, Enclosed left
      array.frame.push('left');
      array.dashed = lines.charAt(0) === ':';
    }
    if (lines.charAt(lines.length - 1).match(/[|:]/)) {
      // @test Enclosed left right, Enclosed right
      array.frame.push('right');
    }
    // @test Enclosed left right
    lines = lines.substr(1, lines.length - 2);
    array.arraydef.columnlines =
      lines.split('').join(' ').replace(/[^|: ]/g, 'none').replace(/\|/g, 'solid').replace(/:/g, 'dashed');
  }
  if (open)  {
    // @test Cross Product
    array.setProperty('open', parser.convertDelimiter(open));
  }
  if (close) {
    // @test Cross Product
    array.setProperty('close', parser.convertDelimiter(close));
  }
  if ((style || '').charAt(1) === '\'') {
    array.arraydef['data-cramped'] = true;
    style = style.charAt(0);
  }
  if (style === 'D') {
    // TODO: This case never seems to occur! No test.
    array.arraydef['displaystyle'] = true;
  }
  else if (style) {
    // @test Subarray, Small Matrix
    array.arraydef['displaystyle'] = false;
  }
  if (style === 'S') {
    // @test Subarray, Small Matrix
    array.arraydef['scriptlevel'] = 1;
  }
  if (raggedHeight)  {
    // @test Subarray, Small Matrix
    array.arraydef['useHeight'] = false;
  }
  parser.Push(begin);
  return array;
};


/**
 * Handle aligned arrays.
 * @param {TexParser} parser The calling parser.
 * @param {StackItem} begin The opening stackitem.
 */
BaseMethods.AlignedArray = function(parser: TexParser, begin: StackItem) {
  // @test Array1, Array2, Array Test
  const align = parser.GetBrackets('\\begin{' + begin.getName() + '}');
  let item = BaseMethods.Array(parser, begin);
  return ParseUtil.setArrayAlign(item as sitem.ArrayItem, align);
};


/**
 * Handle equation environment.
 * @param {TexParser} parser The calling parser.
 * @param {StackItem} begin The opening stackitem.
 * @param {boolean} numbered True if environment is numbered.
 */
BaseMethods.Equation = function (parser: TexParser, begin: StackItem, numbered: boolean) {
  parser.Push(begin);
  ParseUtil.checkEqnEnv(parser);
  return parser.itemFactory.create('equation', numbered).
    setProperty('name', begin.getName());
};


/**
 * Handle eqnarray.
 * @param {TexParser} parser The calling parser.
 * @param {StackItem} begin The opening stackitem.
 * @param {boolean} numbered True if environment is numbered.
 * @param {boolean} taggable True if taggable.
 * @param {string} align Alignment string.
 * @param {string} spacing Spacing between columns.
 */
BaseMethods.EqnArray = function(parser: TexParser, begin: StackItem,
                                numbered: boolean, taggable: boolean,
                                align: string, spacing: string) {
  // @test The Lorenz Equations, Maxwell's Equations, Cubic Binomial
  parser.Push(begin);
  if (taggable) {
    ParseUtil.checkEqnEnv(parser);
  }
  align = align.replace(/[^clr]/g, '').split('').join(' ');
  align = align.replace(/l/g, 'left').replace(/r/g, 'right').replace(/c/g, 'center');
  let newItem = parser.itemFactory.create('eqnarray', begin.getName(),
                                          numbered, taggable, parser.stack.global) as sitem.ArrayItem;
  newItem.arraydef = {
    displaystyle: true,
    columnalign: align,
    columnspacing: (spacing || '1em'),
    rowspacing: '3pt',
    side: parser.options['tagSide'],
    minlabelspacing: parser.options['tagIndent']
  };
  return newItem;
};


/**
 * Handles no tag commands.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.HandleNoTag = function(parser: TexParser, _name: string) {
  parser.tags.notag();
};


/**
 * Record a label name for a tag
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.HandleLabel = function(parser: TexParser, name: string) {
  // @test Label, Label Empty
  let label = parser.GetArgument(name);
  if (label === '') {
    // @test Label Empty
    return;
  }
  if (!parser.tags.refUpdate) {
    // @test Label, Ref, Ref Unknown
    if (parser.tags.label) {
      // @test Double Label Error
      throw new TexError('MultipleCommand', 'Multiple %1', parser.currentCS);
    }
    parser.tags.label = label;
    if ((parser.tags.allLabels[label] || parser.tags.labels[label]) &amp;&amp; !parser.options['ignoreDuplicateLabels']) {
      // @ Duplicate Label Error
      throw new TexError('MultipleLabel', 'Label \'%1\' multiply defined', label);
    }
    // TODO: This should be set in the tags structure!
    parser.tags.labels[label] = new Label(); // will be replaced by tag value later
  }
};


/**
 * Handle a label reference.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {boolean} eqref True if formatted as eqref.
 */
BaseMethods.HandleRef = function(parser: TexParser, name: string, eqref: boolean) {
  // @test Ref, Ref Unknown, Eqref, Ref Default, Ref Named
  let label = parser.GetArgument(name);
  let ref = parser.tags.allLabels[label] || parser.tags.labels[label];
  if (!ref) {
    // @test Ref Unknown
    if (!parser.tags.refUpdate) {
      parser.tags.redo = true;
    }
    ref = new Label();
  }
  let tag = ref.tag;
  if (eqref) {
    // @test Eqref
    tag = parser.tags.formatTag(tag);
  }
  let node = parser.create('node', 'mrow', ParseUtil.internalMath(parser, tag), {
    href: parser.tags.formatUrl(ref.id, parser.options.baseURL), 'class': 'MathJax_ref'
  });
  parser.Push(node);
};



/**
 * Macros
 */
BaseMethods.Macro = function(parser: TexParser, name: string,
                             macro: string, argcount: number,
                             def?: string) {
  if (argcount) {
    const args: string[] = [];
    if (def != null) {
      const optional = parser.GetBrackets(name);
      args.push(optional == null ? def : optional);
    }
    for (let i = args.length; i &lt; argcount; i++) {
      args.push(parser.GetArgument(name));
    }
    macro = ParseUtil.substituteArgs(parser, args, macro);
  }
  parser.string = ParseUtil.addArgs(parser, macro, parser.string.slice(parser.i));
  parser.i = 0;
  ParseUtil.checkMaxMacros(parser);
};


/**
 * Handle MathChoice for elements whose exact size/style properties can only be
 * determined after the expression has been parsed.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
BaseMethods.MathChoice = function(parser: TexParser, name: string) {
  const D  = parser.ParseArg(name);
  const T  = parser.ParseArg(name);
  const S  = parser.ParseArg(name);
  const SS = parser.ParseArg(name);
  parser.Push(parser.create('node', 'MathChoice', [D, T, S, SS]));
};


export default BaseMethods;
</t>
<t tx="ekr.20211016054411.1423"></t>
<t tx="ekr.20211016054411.1424">



/**
 * @fileoverview Configuration file for the bbox package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import TexParser from '../TexParser.js';
import {CommandMap} from '../SymbolMap.js';
import {ParseMethod} from '../Types.js';
import TexError from '../TexError.js';


// Namespace
export let BboxMethods: Record&lt;string, ParseMethod&gt; = {};

/**
 * Implements MathJax Bbox macro to pad and colorize background boxes.
 * @param {TexParser} parser The current tex parser.
 * @param {string} name The name of the calling macro.
 */
BboxMethods.BBox = function(parser: TexParser, name: string) {
  const bbox = parser.GetBrackets(name, '');
  let math = parser.ParseArg(name);
  const parts = bbox.split(/,/);
  let def, background, style;
  for (let i = 0, m = parts.length; i &lt; m; i++) {
    const part = parts[i].trim();
    const match = part.match(/^(\.\d+|\d+(\.\d*)?)(pt|em|ex|mu|px|in|cm|mm)$/);
    if (match) {
      // @test Bbox-Padding
      if (def) {
        // @test Bbox-Padding-Error
        throw new TexError('MultipleBBoxProperty', '%1 specified twice in %2', 'Padding', name);
      }
      const pad = BBoxPadding(match[1] + match[3]);
      if (pad) {
        // @test Bbox-Padding
        def = {
          height: '+' + pad,
          depth: '+' + pad,
          lspace: pad,
          width: '+' + (2 * parseInt(match[1], 10)) + match[3]
        };
      }
    } else if (part.match(/^([a-z0-9]+|\#[0-9a-f]{6}|\#[0-9a-f]{3})$/i)) {
      // @test Bbox-Background
      if (background) {
        // @test Bbox-Background-Error
        throw new TexError('MultipleBBoxProperty', '%1 specified twice in %2',
                           'Background', name);
      }
      background = part;
    } else if (part.match(/^[-a-z]+:/i)) {
      // @test Bbox-Frame
      if (style) {
        // @test Bbox-Frame-Error
        throw new TexError('MultipleBBoxProperty', '%1 specified twice in %2',
                           'Style', name);
      }
      style = BBoxStyle(part);
    } else if (part !== '') {
      // @test Bbox-General-Error
      throw new TexError(
        'InvalidBBoxProperty',
        '"%1" doesn\'t look like a color, a padding dimension, or a style',
        part);
    }
  }
  if (def) {
    // @test Bbox-Padding
    math = parser.create('node', 'mpadded', [math], def);
  }
  if (background || style) {
    def = {};
    if (background) {
      // @test Bbox-Background
      Object.assign(def, {mathbackground: background});
    }
    if (style) {
      // @test Bbox-Frame
      Object.assign(def, {style: style});
    }
    math = parser.create('node', 'mstyle', [math], def);
  }
  parser.Push(math);
};


// Dummy methods. Need to be made Safe with security check.
let BBoxStyle = function(styles: string) {
  return styles;
};

let BBoxPadding = function(pad: string) {
  return pad;
};


new CommandMap('bbox', {bbox: 'BBox'}, BboxMethods);


export const BboxConfiguration = Configuration.create(
  'bbox', {handler: {macro: ['bbox']}}
);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1425"></t>
<t tx="ekr.20211016054411.1426">



/**
 * @fileoverview Configuration file for the boldsymbol package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {MmlNode} from '../../../core/MmlTree/MmlNode.js';
import {Configuration} from '../Configuration.js';
import NodeUtil from '../NodeUtil.js';
import TexParser from '../TexParser.js';
import {TexConstant} from '../TexConstants.js';
import {CommandMap} from '../SymbolMap.js';
import {ParseMethod} from '../Types.js';
import {NodeFactory} from '../NodeFactory.js';
import ParseOptions from '../ParseOptions.js';

let BOLDVARIANT: {[key: string]: string} = {};
BOLDVARIANT[TexConstant.Variant.NORMAL] = TexConstant.Variant.BOLD;
BOLDVARIANT[TexConstant.Variant.ITALIC]    = TexConstant.Variant.BOLDITALIC;
BOLDVARIANT[TexConstant.Variant.FRAKTUR]   = TexConstant.Variant.BOLDFRAKTUR;
BOLDVARIANT[TexConstant.Variant.SCRIPT]    = TexConstant.Variant.BOLDSCRIPT;
BOLDVARIANT[TexConstant.Variant.SANSSERIF] = TexConstant.Variant.BOLDSANSSERIF;
BOLDVARIANT['-tex-calligraphic']   = '-tex-bold-calligraphic';
BOLDVARIANT['-tex-oldstyle']       = '-tex-bold-oldstyle';
BOLDVARIANT['-tex-mathit']         = TexConstant.Variant.BOLDITALIC;


// Namespace
export let BoldsymbolMethods: Record&lt;string, ParseMethod&gt; = {};


/**
 * Parse function for boldsymbol macro.
 * @param {TexParser} parser The current tex parser.
 * @param {string} name The name of the macro.
 */
BoldsymbolMethods.Boldsymbol = function(parser: TexParser, name: string) {
  let boldsymbol = parser.stack.env['boldsymbol'];
  parser.stack.env['boldsymbol'] = true;
  let mml = parser.ParseArg(name);
  parser.stack.env['boldsymbol'] = boldsymbol;
  parser.Push(mml);
};


new CommandMap('boldsymbol', {boldsymbol: 'Boldsymbol'}, BoldsymbolMethods);


/**
 * Creates token nodes in bold font if possible.
 * @param {NodeFactory} factory The current node factory.
 * @param {string} kind The type of token node to create.
 * @param {any} def Properties for the node.
 * @param {string} text The text content.
 * @return {MmlNode} The generated token node.
 */
export function createBoldToken(factory: NodeFactory, kind: string,
                                def: any, text: string): MmlNode  {
  let token = NodeFactory.createToken(factory, kind, def, text);
  if (kind !== 'mtext' &amp;&amp;
      factory.configuration.parser.stack.env['boldsymbol']) {
    NodeUtil.setProperty(token, 'fixBold', true);
    factory.configuration.addNode('fixBold', token);
  }
  return token;
}


/**
 * Postprocessor to rewrite token nodes to bold font, if possible.
 * @param {ParseOptions} data The parse options.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1427">export function rewriteBoldTokens(arg: {data: ParseOptions}) {
  for (let node of arg.data.getList('fixBold')) {
    if (NodeUtil.getProperty(node, 'fixBold')) {
      let variant = NodeUtil.getAttribute(node, 'mathvariant') as string;
      if (variant == null) {
        NodeUtil.setAttribute(node, 'mathvariant', TexConstant.Variant.BOLD);
      } else {
        NodeUtil.setAttribute(node,
                              'mathvariant', BOLDVARIANT[variant] || variant);
      }
      NodeUtil.removeProperties(node, 'fixBold');
    }
  }
}


export const BoldsymbolConfiguration = Configuration.create(
    'boldsymbol', {
        handler: {macro: ['boldsymbol']},
        nodes: {'token': createBoldToken},
        postprocessors: [rewriteBoldTokens]
    }
);
</t>
<t tx="ekr.20211016054411.1428"></t>
<t tx="ekr.20211016054411.1429">



/**
 * @fileoverview Configuration file for the Braket package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import {BraketItem} from './BraketItems.js';
import './BraketMappings.js';


export const BraketConfiguration = Configuration.create(
  'braket', {
    handler: {
      character: ['Braket-characters'],
      macro: ['Braket-macros']
    },
    items: {
      [BraketItem.prototype.kind]: BraketItem,
    }
  }
);


@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.143">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/tagformat',   // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1430">



/**
 * @fileoverview Stack items for parsing the braket package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import {CheckType, BaseItem, StackItem} from '../StackItem.js';
import {TEXCLASS} from '../../../core/MmlTree/MmlNode.js';
import ParseUtil from '../ParseUtil.js';


/**
 * A bra-ket command. Collates elements from the opening brace to the closing
 * brace, adding bars to a given maximal number (e.g., only one in case of
 * set). To finalise it adds the surrounding angle brackets or braces.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1431">export class BraketItem extends BaseItem {

  /**
   * @override
   */
  get kind() {
    return 'braket';
  }

  /**
   * @override
   */
  get isOpen() {
    return true;
  }

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1432">public checkItem(item: StackItem): CheckType {
  if (item.isKind('close')) {
    return [[this.factory.create('mml', this.toMml())], true];
  }
  if (item.isKind('mml')) {
    this.Push(item.toMml());
    if (this.getProperty('single')) {
      return [[this.toMml()], true];
    }
    return BaseItem.fail;
  }
  return super.checkItem(item);
}


</t>
<t tx="ekr.20211016054411.1433">/**
 * @override
 */
public toMml() {
  let inner = super.toMml();
  let open = this.getProperty('open') as string;
  let close = this.getProperty('close') as string;
  if (this.getProperty('stretchy')) {
    return ParseUtil.fenced(this.factory.configuration, open, inner, close);
  }
  let attrs = {fence: true, stretchy: false, symmetric: true, texClass: TEXCLASS.OPEN};
  let openNode = this.create('token', 'mo', attrs, open);
  attrs.texClass = TEXCLASS.CLOSE;
  let closeNode = this.create('token', 'mo', attrs, close);
  let mrow = this.create('node', 'mrow', [openNode, inner, closeNode],
                       {open: open, close: close, texClass: TEXCLASS.INNER});
  return mrow;
}

</t>
<t tx="ekr.20211016054411.1434">



/**
 * @fileoverview Mappings for TeX parsing of the braket package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {CommandMap, MacroMap} from '../SymbolMap.js';
import BraketMethods from './BraketMethods.js';


/**
 * Macros for braket package.
 */
new CommandMap('Braket-macros', {
  bra: ['Macro', '{\\langle {#1} \\vert}', 1],
  ket: ['Macro', '{\\vert {#1} \\rangle}', 1],
  braket: ['Braket', '\u27E8', '\u27E9', false, Infinity],
  'set': ['Braket', '{', '}', false, 1],
  Bra: ['Macro', '{\\left\\langle {#1} \\right\\vert}', 1],
  Ket: ['Macro', '{\\left\\vert {#1} \\right\\rangle}', 1],
  Braket: ['Braket', '\u27E8', '\u27E9', true, Infinity],
  Set: ['Braket', '{', '}', true, 1],
  // Not part of the LaTeX package:
  ketbra: ['Macro', '{\\vert {#1} \\rangle\\langle {#2} \\vert}', 2],
  Ketbra: ['Macro', '{\\left\\vert {#1} \\right\\rangle\\left\\langle {#2} \\right\\vert}', 2],
  // Treatment of bar.
  '|': 'Bar'
}, BraketMethods);


/**
 * Character map for braket package.
 */
new MacroMap('Braket-characters', {
  '|': 'Bar'
}, BraketMethods);


@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1435">



/**
 * @fileoverview Methods for TeX parsing of the braket package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {ParseMethod} from '../Types.js';
import BaseMethods from '../base/BaseMethods.js';
import TexParser from '../TexParser.js';
import {TEXCLASS} from '../../../core/MmlTree/MmlNode.js';
import TexError from '../TexError.js';


let BraketMethods: Record&lt;string, ParseMethod&gt; = {};

BraketMethods.Macro = BaseMethods.Macro;


/**
 * Generate a bra-ket expression.
 * @param {TexParser} parser The current TeX parser.
 * @param {string} name Name of the current control sequence.
 * @param {string} open Opening delimiter.
 * @param {string} close Closing delimiter.
 * @param {boolean} stretchy Is it stretchy.
 * @param {number} barmax Maximum number of bars allowed.
 */
BraketMethods.Braket = function(parser: TexParser, _name: string,
                                open: string, close: string,
                                stretchy: boolean, barmax: number) {
  let next = parser.GetNext();
  if (next === '') {
    throw new TexError('MissingArgFor', 'Missing argument for %1', parser.currentCS);
  }
  let single = true;
  if (next === '{') {
    parser.i++;
    single = false;
  }
  parser.Push(
    parser.itemFactory.create('braket')
      .setProperties({barmax: barmax, barcount: 0, open: open,
                      close: close, stretchy: stretchy, single: single}));
};


/**
 * Generate a bar. If inside a bra-ket expressions it's handled accordingly.
 * @param {TexParser} parser The current TeX parser.
 * @param {string} name Name of the current control sequence.
 */
BraketMethods.Bar = function(parser: TexParser, name: string) {
  let c = name === '|' ? '|' : '\u2225';
  let top = parser.stack.Top();
  if (top.kind !== 'braket' ||
      top.getProperty('barcount') &gt;= top.getProperty('barmax')) {
    let mml = parser.create('token', 'mo', {texClass: TEXCLASS.ORD, stretchy: false}, c);
    parser.Push(mml);
    return;
  }
  if (c === '|' &amp;&amp; parser.GetNext() === '|') {
    parser.i++;
    c = '\u2225';
  }
  let stretchy = top.getProperty('stretchy');
  if (!stretchy) {
    let node = parser.create('token', 'mo', {stretchy: false, braketbar: true}, c);
    parser.Push(node);
    return;
  }
  let node = parser.create('node', 'TeXAtom', [], {texClass: TEXCLASS.CLOSE});
  parser.Push(node);
  top.setProperty('barcount', top.getProperty('barcount') as number + 1);
  node = parser.create('token', 'mo', {stretchy: true, braketbar: true}, c);
  parser.Push(node);
  node = parser.create('node', 'TeXAtom', [], {texClass: TEXCLASS.OPEN});
  parser.Push(node);
};


export default BraketMethods;
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1436"></t>
<t tx="ekr.20211016054411.1437">



/**
 * @fileoverview Configuration file for the Bussproofs package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import {ProofTreeItem} from './BussproofsItems.js';
import {saveDocument, clearDocument, balanceRules, makeBsprAttributes} from './BussproofsUtil.js';
import './BussproofsMappings.js';


export const BussproofsConfiguration = Configuration.create(
  'bussproofs', {
    handler: {
      macro: ['Bussproofs-macros'],
      environment: ['Bussproofs-environments']
    },
    items: {
      [ProofTreeItem.prototype.kind]: ProofTreeItem,
    },
    preprocessors: [
      [saveDocument, 1]
    ],
    postprocessors: [
      [clearDocument, 3],
      [makeBsprAttributes, 2],
      [balanceRules, 1]
    ]
  }
);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1438">



/**
 * @fileoverview Items for TeX parsing of bussproofs.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import TexError from '../TexError.js';
import {BaseItem, CheckType, StackItem} from '../StackItem.js';
import {MmlNode} from '../../../core/MmlTree/MmlNode.js';
import Stack from '../Stack.js';
import * as BussproofsUtil from './BussproofsUtil.js';


@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1439">export class ProofTreeItem extends BaseItem {


  /**
   * The current left label.
   * @type {MmlNode[]}
   */
  public leftLabel: MmlNode[] = null;

  /**
   * The current right label.
   * @type {MmlNode[]}
   */
  public rigthLabel: MmlNode[] = null;

  private innerStack: Stack = new Stack(this.factory, {}, true);

  /**
   * @override
   */
  public get kind() {
    return 'proofTree';
  }


  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.144"></t>
<t tx="ekr.20211016054411.1440">public checkItem(item: StackItem): CheckType {
  if (item.isKind('end') &amp;&amp; item.getName() === 'prooftree') {
    let node = this.toMml();
    BussproofsUtil.setProperty(node, 'proof', true);
    return [[this.factory.create('mml', node), item], true];
  }
  if (item.isKind('stop')) {
    throw new TexError('EnvMissingEnd', 'Missing \\end{%1}', this.getName());
  }
  this.innerStack.Push(item);
  return BaseItem.fail;
}


</t>
<t tx="ekr.20211016054411.1441">/**
 * @override
 */
public toMml() {
  const tree = super.toMml();
  const start = this.innerStack.Top();
  if (start.isKind('start') &amp;&amp; !start.Size()) {
    return tree;
  }
  this.innerStack.Push(this.factory.create('stop'));
  let prefix = this.innerStack.Top().toMml();
  return this.create('node', 'mrow', [prefix, tree], {});
}
</t>
<t tx="ekr.20211016054411.1442">



/**
 * @fileoverview Mappings for TeX parsing for Bussproofs package commands.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import BussproofsMethods from './BussproofsMethods.js';
import ParseMethods from '../ParseMethods.js';
import {CommandMap, EnvironmentMap} from '../SymbolMap.js';


/**
 * Macros for bussproofs etc.
 */
new CommandMap('Bussproofs-macros', {
  AxiomC:           'Axiom',
  UnaryInfC:        ['Inference', 1],
  BinaryInfC:       ['Inference', 2],
  TrinaryInfC:      ['Inference', 3],
  QuaternaryInfC:   ['Inference', 4],
  QuinaryInfC:      ['Inference', 5],
  RightLabel:       ['Label', 'right'],
  LeftLabel:        ['Label', 'left'],
  // Abbreviations are automatically enabled
  AXC:              'Axiom',
  UIC:              ['Inference', 1],
  BIC:              ['Inference', 2],
  TIC:              ['Inference', 3],
  RL:               ['Label', 'right'],
  LL:               ['Label', 'left'],

  noLine:           ['SetLine', 'none', false],
  singleLine:       ['SetLine', 'solid', false],
  solidLine:        ['SetLine', 'solid', false],
  dashedLine:       ['SetLine', 'dashed', false],
  // Not yet implemented in CSS!
  // doubleLine:       ['SetLine', 'double', false],
  // dottedLine:       ['SetLine', 'dotted', false],

  alwaysNoLine:           ['SetLine', 'none', true],
  alwaysSingleLine:       ['SetLine', 'solid', true],
  alwaysSolidLine:        ['SetLine', 'solid', true],
  alwaysDashedLine:       ['SetLine', 'dashed', true],
  // Not yet implemented in CSS!
  // alwaysDoubleLine:       ['SetLine', 'double', true],
  // alwaysDottedLine:       ['SetLine', 'dotted', true],

  rootAtTop: ['RootAtTop', true],
  alwaysRootAtTop: ['RootAtTop', true],

  rootAtBottom: ['RootAtTop', false],
  alwaysRootAtBottom: ['RootAtTop', false],
  // TODO: always commands should be persistent.

  fCenter:         'FCenter',
  Axiom:           'AxiomF',
  UnaryInf:        ['InferenceF', 1],
  BinaryInf:        ['InferenceF', 2],
  TrinaryInf:        ['InferenceF', 3],
  QuaternaryInf:        ['InferenceF', 4],
  QuinaryInf:        ['InferenceF', 5]
}, BussproofsMethods);


new EnvironmentMap('Bussproofs-environments', ParseMethods.environment, {
  prooftree:        ['Prooftree', null, false]
}, BussproofsMethods);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1443">



/**
 * @fileoverview Mappings for TeX parsing for the bussproofs package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import {ParseMethod} from '../Types.js';
import TexError from '../TexError.js';
import TexParser from '../TexParser.js';
import ParseUtil from '../ParseUtil.js';
import {StackItem} from '../StackItem.js';
import {MmlNode} from '../../../core/MmlTree/MmlNode.js';
import * as BussproofsUtil from './BussproofsUtil.js';


// Namespace
let BussproofsMethods: Record&lt;string, ParseMethod&gt; = {};

/**
 * Implements the proof tree environment.
 * @param {TexParser} parser The current parser.
 * @param {StackItem} begin The opening element of the environment.
 * @return {StackItem} The proof tree stackitem.
 */
// TODO: Error handling if we have leftover elements or elements are not in the
// required order.
BussproofsMethods.Prooftree = function(parser: TexParser, begin: StackItem): StackItem {
  parser.Push(begin);
  // TODO: Check if opening a proof tree is legal.
  let newItem = parser.itemFactory.create('proofTree').
    setProperties({name: begin.getName(),
                   line: 'solid', currentLine: 'solid', rootAtTop: false});
  // parser.Push(item);
  return newItem;
};


/**
 * Implements the Axiom command.
 * @param {TexParser} parser The current parser.
 * @param {string} name The name of the command.
 */
BussproofsMethods.Axiom = function(parser: TexParser, name: string) {
  let top = parser.stack.Top();
  // TODO: Label error
  if (top.kind !== 'proofTree') {
    throw new TexError('IllegalProofCommand',
                       'Proof commands only allowed in prooftree environment.');
  }
  let content = paddedContent(parser, parser.GetArgument(name));
  BussproofsUtil.setProperty(content, 'axiom', true);
  top.Push(content);
};


/**
 * Pads content of an inference rule.
 * @param {TexParser} parser The calling parser.
 * @param {string} content The content to be padded.
 * @return {MmlNode} The mrow element with padded content.
 */
const paddedContent = function(parser: TexParser, content: string): MmlNode {
  // Add padding on either site.
  let nodes = ParseUtil.internalMath(parser, ParseUtil.trimSpaces(content), 0);
  if (!nodes[0].childNodes[0].childNodes.length) {
    return parser.create('node', 'mrow', []);
  }
  let lpad = parser.create('node', 'mspace', [], {width: '.5ex'});
  let rpad = parser.create('node', 'mspace', [], {width: '.5ex'});
  return parser.create('node', 'mrow', [lpad, ...nodes, rpad]);
};


/**
 * Implements the Inference rule commands.
 * @param {TexParser} parser The current parser.
 * @param {string} name The name of the command.
 * @param {number} n Number of premises for this inference rule.
 */
BussproofsMethods.Inference = function(parser: TexParser, name: string, n: number) {
  let top = parser.stack.Top();
  if (top.kind !== 'proofTree') {
    throw new TexError('IllegalProofCommand',
                       'Proof commands only allowed in prooftree environment.');
  }
  if (top.Size() &lt; n) {
    throw new TexError('BadProofTree', 'Proof tree badly specified.');
  }
  const rootAtTop = top.getProperty('rootAtTop') as boolean;
  const childCount = (n === 1 &amp;&amp; !top.Peek()[0].childNodes.length) ? 0 : n;
  let children: MmlNode[] = [];
  do {
    if (children.length) {
      children.unshift(parser.create('node', 'mtd', [], {}));
    }
    children.unshift(
      parser.create('node', 'mtd', [top.Pop()],
                    {'rowalign': (rootAtTop ? 'top' : 'bottom')}));
    n--;
  } while (n &gt; 0);
  let row = parser.create('node', 'mtr', children, {});
  let table = parser.create('node', 'mtable', [row], {framespacing: '0 0'});
  let conclusion = paddedContent(parser, parser.GetArgument(name));
  let style = top.getProperty('currentLine') as string;
  if (style !== top.getProperty('line')) {
    top.setProperty('currentLine', top.getProperty('line'));
  }
  let rule = createRule(
    parser, table, [conclusion], top.getProperty('left') as MmlNode,
    top.getProperty('right') as MmlNode, style, rootAtTop);
  top.setProperty('left', null);
  top.setProperty('right', null);
  BussproofsUtil.setProperty(rule, 'inference', childCount);
  parser.configuration.addNode('inference', rule);
  top.Push(rule);
};


/**
 * Creates a ND style inference rule.
 * @param {TexParser} parser The calling parser.
 * @param {MmlNode} premise The premise (a single table).
 * @param {MmlNode[]} conclusions Elements that are combined into the conclusion.
 * @param {MmlNode|null} left The left label if it exists.
 * @param {MmlNode|null} right The right label if it exists.
 * @param {string} style Style of inference rule line.
 * @param {boolean} rootAtTop Direction of inference rule: true for root at top.
 */
function createRule(parser: TexParser, premise: MmlNode,
                    conclusions: MmlNode[], left: MmlNode | null,
                    right: MmlNode | null, style: string,
                    rootAtTop: boolean) {
  const upper = parser.create(
    'node', 'mtr', [parser.create('node', 'mtd', [premise], {})], {});
  const lower = parser.create(
    'node', 'mtr', [parser.create('node', 'mtd', conclusions, {})], {});
  let rule = parser.create('node', 'mtable', rootAtTop ? [lower, upper] : [upper, lower],
                           {align: 'top 2', rowlines: style, framespacing: '0 0'});
  BussproofsUtil.setProperty(rule, 'inferenceRule', rootAtTop ? 'up' : 'down');
  let leftLabel, rightLabel;
  if (left) {
    leftLabel = parser.create(
      'node', 'mpadded', [left],
      {height: '+.5em', width: '+.5em', voffset: '-.15em'});
    BussproofsUtil.setProperty(leftLabel, 'prooflabel', 'left');
  }
  if (right) {
    rightLabel = parser.create(
      'node', 'mpadded', [right],
      {height: '+.5em', width: '+.5em', voffset: '-.15em'});
    BussproofsUtil.setProperty(rightLabel, 'prooflabel', 'right');
  }
  let children, label;
  if (left &amp;&amp; right) {
    children = [leftLabel, rule, rightLabel];
    label = 'both';
  } else if (left) {
    children = [leftLabel, rule];
    label = 'left';
  } else if (right) {
    children = [rule, rightLabel];
    label = 'right';
  } else {
    return rule;
  }
  rule = parser.create('node', 'mrow', children);
  BussproofsUtil.setProperty(rule, 'labelledRule', label);
  return rule;
}


/**
 * Implements the label command.
 * @param {TexParser} parser The current parser.
 * @param {string} name The name of the command.
 * @param {string} side The side of the label.
 */
BussproofsMethods.Label = function(parser: TexParser, name: string, side: string) {
  let top = parser.stack.Top();
  // Label error
  if (top.kind !== 'proofTree') {
    throw new TexError('IllegalProofCommand',
                       'Proof commands only allowed in prooftree environment.');
  }
  let content = ParseUtil.internalMath(parser, parser.GetArgument(name), 0);
  let label = (content.length &gt; 1) ?
    parser.create('node', 'mrow', content, {}) : content[0];
  top.setProperty(side, label);
};


/**
 * Sets line style for inference rules.
 * @param {TexParser} parser The current parser.
 * @param {string} name The name of the command.
 * @param {string} style The line style to set.
 * @param {boolean} always Set as permanent style.
 */
BussproofsMethods.SetLine = function(parser: TexParser, _name: string, style: string, always: boolean) {
  let top = parser.stack.Top();
  // Label error
  if (top.kind !== 'proofTree') {
    throw new TexError('IllegalProofCommand',
                       'Proof commands only allowed in prooftree environment.');
  }
  top.setProperty('currentLine', style);
  if (always) {
    top.setProperty('line', style);
  }
};


/**
 * Implements commands indicating where the root of the proof tree is.
 * @param {TexParser} parser The current parser.
 * @param {string} name The name of the command.
 * @param {string} where If true root is at top, otherwise at bottom.
 */
BussproofsMethods.RootAtTop = function(parser: TexParser, _name: string, where: boolean) {
  let top = parser.stack.Top();
  if (top.kind !== 'proofTree') {
    throw new TexError('IllegalProofCommand',
                       'Proof commands only allowed in prooftree environment.');
  }
  top.setProperty('rootAtTop', where);
};


/**
 * Implements Axiom command for sequents.
 * @param {TexParser} parser The current parser.
 * @param {string} name The name of the command.
 */
BussproofsMethods.AxiomF = function(parser: TexParser, name: string) {
  let top = parser.stack.Top();
  if (top.kind !== 'proofTree') {
    throw new TexError('IllegalProofCommand',
                       'Proof commands only allowed in prooftree environment.');
  }
  let line = parseFCenterLine(parser, name);
  BussproofsUtil.setProperty(line, 'axiom', true);
  top.Push(line);
};


/**
 * Parses a line with a sequent (i.e., one containing \\fcenter).
 * @param {TexParser} parser The current parser.
 * @param {string} name The name of the calling command.
 * @return {MmlNode} The parsed line.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1444">function parseFCenterLine(parser: TexParser, name: string): MmlNode {
  let dollar = parser.GetNext();
  if (dollar !== '$') {
    throw new TexError('IllegalUseOfCommand',
                       'Use of %1 does not match it\'s definition.', name);
  }
  parser.i++;
  let axiom = parser.GetUpTo(name, '$');
  if (axiom.indexOf('\\fCenter') === -1) {
    throw new TexError('IllegalUseOfCommand',
                       'Missing \\fCenter in %1.', name);
  }
  // Check for fCenter and throw error?
  let [prem, conc] = axiom.split('\\fCenter');
  let premise = (new TexParser(prem, parser.stack.env, parser.configuration)).mml();
  let conclusion = (new TexParser(conc, parser.stack.env, parser.configuration)).mml();
  let fcenter = (new TexParser('\\fCenter', parser.stack.env, parser.configuration)).mml();
  const left = parser.create('node', 'mtd', [premise], {});
  const middle = parser.create('node', 'mtd', [fcenter], {});
  const right = parser.create('node', 'mtd', [conclusion], {});
  const row = parser.create('node', 'mtr', [left, middle, right], {});
  const table = parser.create('node', 'mtable', [row], {columnspacing: '.5ex', columnalign: 'center 2'});
  BussproofsUtil.setProperty(table, 'sequent', true);
  parser.configuration.addNode('sequent', row);
  return table;
}


/**
 * Placeholder for Fcenter macro that can be overwritten with renewcommand.
 * @param {TexParser} parser The current parser.
 * @param {string} name The name of the command.
 */
BussproofsMethods.FCenter = function(_parser: TexParser, _name: string) { };


/**
 * Implements inference rules for sequents.
 * @param {TexParser} parser The current parser.
 * @param {string} name The name of the command.
 * @param {number} n Number of premises for this inference rule.
 */
BussproofsMethods.InferenceF = function(parser: TexParser, name: string, n: number) {
  let top = parser.stack.Top();
  if (top.kind !== 'proofTree') {
    throw new TexError('IllegalProofCommand',
                       'Proof commands only allowed in prooftree environment.');
  }
  if (top.Size() &lt; n) {
    throw new TexError('BadProofTree', 'Proof tree badly specified.');
  }
  const rootAtTop = top.getProperty('rootAtTop') as boolean;
  const childCount = (n === 1 &amp;&amp; !top.Peek()[0].childNodes.length) ? 0 : n;
  let children: MmlNode[] = [];
  do {
    if (children.length) {
      children.unshift(parser.create('node', 'mtd', [], {}));
    }
    children.unshift(
      parser.create('node', 'mtd', [top.Pop()],
                    {'rowalign': (rootAtTop ? 'top' : 'bottom')}));
    n--;
  } while (n &gt; 0);
  let row = parser.create('node', 'mtr', children, {});
  let table = parser.create('node', 'mtable', [row], {framespacing: '0 0'});

  let conclusion = parseFCenterLine(parser, name); // TODO: Padding
  let style = top.getProperty('currentLine') as string;
  if (style !== top.getProperty('line')) {
    top.setProperty('currentLine', top.getProperty('line'));
  }
  let rule = createRule(
    parser, table, [conclusion], top.getProperty('left') as MmlNode,
    top.getProperty('right') as MmlNode, style, rootAtTop);
  top.setProperty('left', null);
  top.setProperty('right', null);
  BussproofsUtil.setProperty(rule, 'inference', childCount);
  parser.configuration.addNode('inference', rule);
  top.Push(rule);
};

export default BussproofsMethods;
</t>
<t tx="ekr.20211016054411.1445">



/**
 * @fileoverview Postfilter utility for the Bussproofs package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import ParseOptions from '../ParseOptions.js';
import NodeUtil from '../NodeUtil.js';
import ParseUtil from '../ParseUtil.js';

import {MmlNode} from '../../../core/MmlTree/MmlNode.js';
import {Property} from '../../../core/Tree/Node.js';
import {MathItem} from '../../../core/MathItem.js';
import {MathDocument} from '../../../core/MathDocument.js';


type MATHITEM = MathItem&lt;any, any, any&gt;;
type MATHDOCUMENT = MathDocument&lt;any, any, any&gt;;

type FilterData = {math: MATHITEM, document: MATHDOCUMENT, data: ParseOptions};

/**
 *  Global constants local to the module. They instantiate an output jax for
 *  bounding box computation.
 */
let doc: MATHDOCUMENT = null;
let item: MATHITEM = null;


/**
 * Get the bounding box of a node.
 * @param {MmlNode} node The target node.
 */
let getBBox = function(node: MmlNode) {
  item.root = node;
    let {w: width} = (doc.outputJax as any).getBBox(item, doc);
  return width;
};


/**
 * Get the actual table that represents the inference rule, i.e., the rule
 * without the label. We ignore preceding elements or spaces.
 *
 * @param {MmlNode} node The out node representing the inference.
 * @return {MmlNode} The actual table representing the inference rule.
 */
let getRule = function(node: MmlNode): MmlNode {
  let i = 0;
  while (node &amp;&amp; !NodeUtil.isType(node, 'mtable')) {
    if (NodeUtil.isType(node, 'text')) {
      return null;
    }
    if (NodeUtil.isType(node, 'mrow')) {
      node = node.childNodes[0] as MmlNode;
      i = 0;
      continue;
    }
    node = node.parent.childNodes[i] as MmlNode;
    i++;
  }
  return node;
};


/*******************************
 * Convenience methods for retrieving bits of the proof tree.
 */

/**
 * Gets premises of an inference rule.
 * @param {MmlNode} rule The rule.
 * @param {string} direction Up or down.
 * @return {MmlNode} The premisses.
 */
let getPremises = function(rule: MmlNode, direction: string): MmlNode {
  return rule.childNodes[direction === 'up' ? 1 : 0].childNodes[0].
    childNodes[0].childNodes[0].childNodes[0] as MmlNode;
};


/**
 * Gets nth premise.
 * @param {MmlNode} premises The premises.
 * @param {number} n Number of premise to get.
 * @return {MmlNode} The nth premise.
 */
let getPremise = function(premises: MmlNode, n: number): MmlNode {
  return premises.childNodes[n].childNodes[0].childNodes[0] as MmlNode;
};


/**
 * Gets first premise.
 * @param {MmlNode} premises The premises.
 * @return {MmlNode} The first premise.
 */
let firstPremise = function(premises: MmlNode): MmlNode {
  return getPremise(premises, 0) as MmlNode;
};


/**
 * Gets last premise.
 * @param {MmlNode} premises The premises.
 * @return {MmlNode} The last premise.
 */
let lastPremise = function(premises: MmlNode): MmlNode {
  return getPremise(premises, premises.childNodes.length - 1);
};


/**
 * Get conclusion in an inference rule.
 * @param {MmlNode} rule The rule.
 * @param {string} direction Up or down.
 * @return {MmlNode} The conclusion.
 */
let getConclusion = function(rule: MmlNode, direction: string): MmlNode {
  return rule.childNodes[direction === 'up' ? 0 : 1].childNodes[0].childNodes[0].childNodes[0] as MmlNode;
};


/**
 * Gets the actual column element in an inference rule. I.e., digs down through
 * row, padding and space elements.
 * @param {MmlNode} inf The rule.
 * @return {MmlNode} The mtd element.
 */
let getColumn = function(inf: MmlNode): MmlNode {
  while (inf &amp;&amp; !NodeUtil.isType(inf, 'mtd')) {
    inf = inf.parent as MmlNode;
  }
  return inf;
};


/**
 * Gets the next sibling of an inference rule.
 * @param {MmlNode} inf The inference rule.
 * @return {MmlNode} The next sibling.
 */
let nextSibling = function(inf: MmlNode): MmlNode {
  return inf.parent.childNodes[inf.parent.childNodes.indexOf(inf) + 1] as MmlNode;
};


/**
 * Gets the previous sibling of an inference rule.
 * @param {MmlNode} inf The inference rule.
 * @return {MmlNode} The previous sibling.
 */
// @ts-ignore
let previousSibling = function(inf: MmlNode): MmlNode {
  return inf.parent.childNodes[inf.parent.childNodes.indexOf(inf) - 1] as MmlNode;
};


/**
 * Get the parent inference rule.
 * @param {MmlNode} inf The inference rule.
 * @return {MmlNode} Its parent.
 */
let getParentInf = function(inf: MmlNode): MmlNode {
  while (inf &amp;&amp; getProperty(inf, 'inference') == null) {
    inf = inf.parent as MmlNode;
  }
  return inf;
};


// Computes bbox spaces
//
//

/**
 * Computes spacing left or right of an inference rule. In the case of
 * right: right space + right label
 * left: left space + left label
 * @param {MmlNode} inf The overall proof tree.
 * @param {MmlNode} rule The particular inference rule.
 * @param {boolean = false} right True for right, o/w left.
 * @return {number} The spacing next to the rule.
 */
let getSpaces = function(inf: MmlNode, rule: MmlNode, right: boolean = false): number {
  let result = 0;
  if (inf === rule) {
    return result;
  }
  if (inf !== rule.parent) {
    let children = inf.childNodes as MmlNode[];
    let index = right ? children.length - 1 : 0;
    if (NodeUtil.isType(children[index], 'mspace')) {
      result += getBBox(children[index]);
    }
    inf = rule.parent;
  }
  if (inf === rule) {
    return result;
  }
  let children = inf.childNodes as MmlNode[];
  let index = right ? children.length - 1 : 0;
  if (children[index] !== rule) {
    result += getBBox(children[index]);
  }
  return result;
};


// - Get rule T from Wrapper W.
// - Get conclusion C in T.
// - w: Preceding/following space/label.
// - (x - y)/2: Distance from left boundary to middle of C.
/**
 * Computes an space adjustment value to move the inference rule.
 * @param {MmlNode} inf The inference rule.
 * @param {boolean = false} right True if adjustments are on the right.
 * @return {number} The adjustment value.
 */
let adjustValue = function(inf: MmlNode, right: boolean = false): number {
  let rule = getRule(inf);
  let conc = getConclusion(rule, getProperty(rule, 'inferenceRule') as string);
  // TODO:  Here we have to improve sequent adjustment!
  let w = getSpaces(inf, rule, right);
  let x = getBBox(rule);
  let y = getBBox(conc);
  return w + ((x - y) / 2);
};


/**
 * Adds (positive or negative) space in the column containing the inference rule.
 * @param {ParseOptions} config The parser configuration.
 * @param {MmlNode} inf The inference rule to place.
 * @param {number} space The space to be added.
 * @param {boolean = false} right True if adjustment is on the right.
 */
let addSpace = function(config: ParseOptions, inf: MmlNode,
                        space: number, right: boolean = false) {
  if (getProperty(inf, 'inferenceRule') ||
      getProperty(inf, 'labelledRule')) {
    const mrow = config.nodeFactory.create('node', 'mrow');
    inf.parent.replaceChild(mrow, inf);
    mrow.setChildren([inf]);
    moveProperties(inf, mrow);
    inf = mrow;
  }
  // TODO: Simplify below as we now have a definite mrow.
  const index = right ? inf.childNodes.length - 1 : 0;
  let mspace = inf.childNodes[index] as MmlNode;
  if (NodeUtil.isType(mspace, 'mspace')) {
    NodeUtil.setAttribute(
      mspace, 'width',
      ParseUtil.Em(ParseUtil.dimen2em(
        NodeUtil.getAttribute(mspace, 'width') as string) + space));
    return;
  }
  mspace = config.nodeFactory.create('node', 'mspace', [],
                                     {width: ParseUtil.Em(space)});
  if (right) {
    inf.appendChild(mspace);
    return;
  }
  mspace.parent = inf;
  inf.childNodes.unshift(mspace);
};


/**
 * Propagates properties up the tree.
 * @param {MmlNode} src The source node.
 * @param {MmlNode} dest The destination node.
 */
let moveProperties = function(src: MmlNode, dest: MmlNode) {
  let props = ['inference', 'proof', 'maxAdjust', 'labelledRule'];
  props.forEach(x =&gt; {
    let value = getProperty(src, x);
    if (value != null) {
      setProperty(dest, x, value);
      removeProperty(src, x);
    }
  });
};



/********************************
 * The following methods deal with sequents. There are still issues with the
 * spatial layout, though.
 */
// Sequents look like this: table row 3 cells
// The table has the 'sequent' property.
// The row is the node that is actually saved in the config object.
/**
 * Method to adjust sequent positioning after the tree is computed.
 * @param {ParseOptions} config Parser configuration options.
 */
let adjustSequents = function(config: ParseOptions) {
  let sequents = config.nodeLists['sequent'];
  if (!sequents) {
    return;
  }
  for (let i = sequents.length - 1, seq; seq = sequents[i]; i--) {
    if (getProperty(seq, 'sequentProcessed')) {
      removeProperty(seq, 'sequentProcessed');
      continue;
    }
    let collect = [];
    let inf = getParentInf(seq);
    if (getProperty(inf, 'inference') !== 1) {
      continue;
    }
    collect.push(seq);
    while (getProperty(inf, 'inference') === 1) {
      // In case we have a table with a label.
      inf = getRule(inf);
      let premise = firstPremise(getPremises(inf, getProperty(inf, 'inferenceRule') as string));
      let sequent = (getProperty(premise, 'inferenceRule')) ?
        // If the first premise is an inference rule, check the conclusions for a sequent.
        getConclusion(premise, getProperty(premise, 'inferenceRule') as string) :
        // Otherwise it is a hyp and we have to check the formula itself.
        premise;
      if (getProperty(sequent, 'sequent')) {
        seq = sequent.childNodes[0] as MmlNode;
        collect.push(seq);
        setProperty(seq, 'sequentProcessed', true);
      }
      inf = premise;
    }
    adjustSequentPairwise(config, collect);
  }
};


/**
 * Add spaces to the sequents where necessary.
 * @param {ParseOptions} config Parser configuration options.
 * @param {MmlNode} sequent The sequent inference rule.
 * @param {number} position Position of formula to adjust (0 or 2).
 * @param {string} direction Left or right of the turnstyle.
 * @param {number} width The space to add to the formulas.
 */
const addSequentSpace = function(config: ParseOptions, sequent: MmlNode,
                                 position: number, direction: string, width: number) {
  let mspace = config.nodeFactory.create('node', 'mspace', [],
                                         {width: ParseUtil.Em(width)});
  if (direction === 'left') {
    let row = sequent.childNodes[position].childNodes[0] as MmlNode;
    mspace.parent = row;
    row.childNodes.unshift(mspace);
  } else {
    sequent.childNodes[position].appendChild(mspace);
  }
  setProperty(sequent.parent, 'sequentAdjust_' + direction, width);
};


/**
 * Adjusts the sequent positioning for a list of inference rules by pairwise
 * adjusting the width of formulas in sequents. I.e.,
 *    A,B |- C
 * ------------
 *    A |- B,C
 *
 * will be adjusted to
 *
 *    A, B |- C
 * ----------------
 *       A |- B,C
 *
 * @param {ParseOptions} config Parser configuration options.
 * @param {MmlNode[]} sequents The list of sequents.
 */
const adjustSequentPairwise = function(config: ParseOptions, sequents: MmlNode[]) {
  let top = sequents.pop();
  while (sequents.length) {
    let bottom = sequents.pop();
    let [left, right] = compareSequents(top, bottom);
    if (getProperty(top.parent, 'axiom')) {
      addSequentSpace(config, left &lt; 0 ? top : bottom, 0, 'left', Math.abs(left));
      addSequentSpace(config, right &lt; 0 ? top : bottom, 2, 'right', Math.abs(right));
    }
    top = bottom;
  }
};


/**
 * Compares the top and bottom sequent of a inference rule
 * Top:     A |- B
 *        ----------
 * Bottom:  C |- D
 *
 * @param {MmlNode} top Top sequent.
 * @param {MmlNode} bottom Bottom sequent.
 * @return {[number, number]} The delta for left and right side of the sequents.
 */
const compareSequents = function(top: MmlNode, bottom: MmlNode): [number, number] {
  const tr = getBBox(top.childNodes[2] as MmlNode);
  const br = getBBox(bottom.childNodes[2] as MmlNode);
  const tl = getBBox(top.childNodes[0] as MmlNode);
  const bl = getBBox(bottom.childNodes[0] as MmlNode);
  // Deltas
  const dl = tl - bl;
  const dr = tr - br;
  return [dl, dr];
};

// For every inference rule we adjust the width of ruler by subtracting and
// adding suitable spaces around the rule. The algorithm in detail.
//
// Notions that we need:
//
//
// * Inference: The inference consisting either of an inference rule or a
//              structure containing the rule plus 0 - 2 labels and spacing
//              elements.  s l{0,1} t r{0,1} s', m,n \in IN_0
//
//              Technically this is realised as nested rows, if the spaces
//              and/or labels exist:
//              mr s mr l t r /mr s' /mr
//
// * InferenceRule: The rule without the labels and spacing.
//
// * Conclusion: The element forming the conclusion of the rule. In
//               downwards inferences this is the final row of the table.
//
// * Premises: The premises of the rule. In downwards inferences this is the
//             first row of the rule. Note that this is a rule itself,
//             with one column for each premise and an empty column
//             inbetween.
//
// * |x|: Width of bounding box of element x.
//
// Left adjustment:
//
// * For the given inference I:
//    + compute rule R of I
//    + compute premises P of I
//    + compute premise P_f, P_l as first and last premise of I
//
// * If P_f is an inference rule:
//    + compute adjust value a_f for wrapper W_f of P_f
//    + add -a_f space to wrapper W_f
//    + add  a_f space to wrapper W
//
// * If P_l is an inference rule:
//   + compute adjust value a_l for wrapper W_l of P_l
//   + if I has (right) label L: a_l = a_l + |L|
//   + add -a_l space to P_l
//   + a_l = max(a_l, A_I), where A_I is saved ajust value in the
//     "maxAdjust" attribute of I.
//
//   + Case I is proof: Add a_l space to inf. (Correct after proof.)
//   + Case I has sibling: Add a_l space to sibling.  (Correct after column.)
//   + Otherwise: Propagate a_l by
//                ++ find direct parent infererence rule I'
//                ++ Set A_{I'} = a_l.
//
/**
 * Implements the above algorithm.
 * @param {FilterData} arg The parser configuration and mathitem to filter.
 */
export let balanceRules = function(arg: FilterData) {
  item = new arg.document.options.MathItem('', null, arg.math.display);
  let config = arg.data;
  adjustSequents(config);
  let inferences = config.nodeLists['inference'] || [];
  for (let inf of inferences) {
    let isProof = getProperty(inf, 'proof');
    // This currently only works with downwards rules.
    let rule = getRule(inf);
    let premises = getPremises(rule, getProperty(rule, 'inferenceRule') as string);
    let premiseF = firstPremise(premises);
    if (getProperty(premiseF, 'inference')) {
      let adjust = adjustValue(premiseF);
      if (adjust) {
        addSpace(config, premiseF, -adjust);
        let w = getSpaces(inf, rule, false);
        addSpace(config, inf, adjust - w);
      }
    }
    // Right adjust:
    let premiseL = lastPremise(premises);
    if (getProperty(premiseL, 'inference') == null) {
      continue;
    }
    let adjust = adjustValue(premiseL, true);
    addSpace(config, premiseL, -adjust, true);
    let w = getSpaces(inf, rule, true);
    let maxAdjust = getProperty(inf, 'maxAdjust') as number;
    if (maxAdjust != null) {
      adjust = Math.max(adjust, maxAdjust);
    }
    let column: MmlNode;
    if (isProof || !(column = getColumn(inf))) {
      // After the tree we add a space with the accumulated max value.
      // If the element is not in a column, we know we have some noise and the
      // proof is an mrow around the final inference.
      addSpace(config,
               // in case the rule has been moved into an mrow in Left Adjust.
               getProperty(inf, 'proof') ? inf : inf.parent, adjust - w, true);
      continue;
    }
    let sibling = nextSibling(column);
    if (sibling) {
      // If there is a next column, it is the empty one and we make it wider by
      // the accumulated max value.
      const pos = config.nodeFactory.create('node', 'mspace', [],
                                            {width: adjust - w + 'em'});
      sibling.appendChild(pos);
      inf.removeProperty('maxAdjust');
      continue;
    }
    let parentRule = getParentInf(column);
    if (!parentRule) {
      continue;
    }
    // We are currently in rightmost inference, so we propagate the max
    // correction value up in the tree.
    adjust = getProperty(parentRule, 'maxAdjust') ?
      Math.max(getProperty(parentRule, 'maxAdjust') as number, adjust) : adjust;
    setProperty(parentRule, 'maxAdjust', adjust);
  }
};


/**
 * Facilities for semantically relevant properties. These are used by SRE and
 * are always prefixed with bspr_.
 */
let property_prefix = 'bspr_';
let blacklistedProperties = {
  [property_prefix + 'maxAdjust']: true
};


/**
 * Sets a bussproofs property used for postprocessing and to convey
 * semantics. Uses the bspr prefix.
 * @param {MmlNode} node The node.
 * @param {string} property The property to set.
 * @param {Property} value Its value.
 */
export let setProperty = function(node: MmlNode, property: string, value: Property) {
  NodeUtil.setProperty(node, property_prefix + property, value);
};


/**
 * Gets a bussproofs property.
 * @param {MmlNode} node The node.
 * @param {string} property The property to retrieve.
 * @return {Property} The property object.
 */
export let getProperty = function(node: MmlNode, property: string): Property {
  return NodeUtil.getProperty(node, property_prefix + property);
};


/**
 * Removes a bussproofs property.
 * @param {MmlNode} node
 * @param {string} property
 */
export let removeProperty = function(node: MmlNode, property: string) {
  node.removeProperty(property_prefix + property);
};


/**
 * Postprocessor that adds properties as attributes to the nodes, unless they
 * are blacklisted.
 * @param {FilterData} arg The object to post-process.
 */
export let makeBsprAttributes = function(arg: FilterData) {
  arg.data.root.walkTree((mml: MmlNode, _data?: any) =&gt; {
    let attr: string[] = [];
    mml.getPropertyNames().forEach(x =&gt; {
      if (!blacklistedProperties[x] &amp;&amp; x.match(RegExp('^' + property_prefix))) {
        attr.push(x + ':' + mml.getProperty(x));
      }
    });
    if (attr.length) {
      NodeUtil.setAttribute(mml, 'semantics', attr.join(';'));
    }
  });
};

/**
 * Preprocessor that sets the document and jax for bounding box computations
 * @param {FilterData} arg The object to pre-process.
 */
export let saveDocument = function (arg: FilterData) {
  doc = arg.document;
  if (!('getBBox' in doc.outputJax)) {
    throw Error('The bussproofs extension requires an output jax with a getBBox() method');
  }
};

/**
 * Clear the document when we are done
 * @param {FilterData} arg The object to pre-process.
 */
export let clearDocument = function (_arg: FilterData) {
  doc = null;
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1446"></t>
<t tx="ekr.20211016054411.1447">



/**
 * @fileoverview Configuration file for the cancel package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import TexParser from '../TexParser.js';
import {TexConstant} from '../TexConstants.js';
import {CommandMap} from '../SymbolMap.js';
import {ParseMethod} from '../Types.js';
import ParseUtil from '../ParseUtil.js';
import {ENCLOSE_OPTIONS} from '../enclose/EncloseConfiguration.js';


// Namespace
export let CancelMethods: Record&lt;string, ParseMethod&gt; = {};


/**
 * Parse function for cancel macros of the form \(b|x)?cancel[attributes]{math}
 * @param {TexParser} parser The current tex parser.
 * @param {string} name The name of the calling macro.
 * @param {string} notation The type of cancel notation to use.
 */
CancelMethods.Cancel = function(parser: TexParser, name: string, notation: string) {
  const attr = parser.GetBrackets(name, '');
  const math = parser.ParseArg(name);
  const def = ParseUtil.keyvalOptions(attr, ENCLOSE_OPTIONS);
  def['notation'] = notation;
  parser.Push(parser.create('node', 'menclose', [math], def));
};


/**
 * Parse function implementing \cancelto{value}[attributes]{math}
 * @param {TexParser} parser The current tex parser.
 * @param {string} name The name of the calling macro.
 */

CancelMethods.CancelTo = function(parser: TexParser, name: string) {
  const attr = parser.GetBrackets(name, '');
  let value = parser.ParseArg(name);
  const math = parser.ParseArg(name);
  const def = ParseUtil.keyvalOptions(attr, ENCLOSE_OPTIONS);
  def ['notation'] = [TexConstant.Notation.UPDIAGONALSTRIKE,
                      TexConstant.Notation.UPDIAGONALARROW,
                      TexConstant.Notation.NORTHEASTARROW].join(' ');
  value = parser.create('node', 'mpadded', [value],
                        {depth: '-.1em', height: '+.1em', voffset: '.1em'});
  parser.Push(parser.create('node', 'msup',
                            [parser.create('node', 'menclose', [math], def), value]));
};


new CommandMap('cancel', {
  cancel:   ['Cancel', TexConstant.Notation.UPDIAGONALSTRIKE],
  bcancel:  ['Cancel', TexConstant.Notation.DOWNDIAGONALSTRIKE],
  xcancel:  ['Cancel', TexConstant.Notation.UPDIAGONALSTRIKE + ' ' +
             TexConstant.Notation.DOWNDIAGONALSTRIKE],
  cancelto: 'CancelTo'
}, CancelMethods);


export const CancelConfiguration = Configuration.create(
  'cancel', {handler: {macro: ['cancel']}}
);


@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1448"></t>
<t tx="ekr.20211016054411.1449">
import {Configuration} from '../Configuration.js';
import {EnvironmentMap, MacroMap} from '../SymbolMap.js';
import ParseUtil from '../ParseUtil.js';
import BaseMethods from '../base/BaseMethods.js';
import TexParser from '../TexParser.js';
import TexError from '../TexError.js';
import {BeginItem, EqnArrayItem} from '../base/BaseItems.js';
import {AmsTags} from '../ams/AmsConfiguration.js';
import {StackItem, CheckType} from '../StackItem.js';
import {MmlMtable} from '../../../core/MmlTree/MmlNodes/mtable.js';
import {EmpheqUtil} from '../empheq/EmpheqUtil.js';

/**
 * The StackItem for the numcases environment.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.145">
import './lib/textcomp.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1450">export class CasesBeginItem extends BeginItem {

  /**
   * @override
   */
  get kind() {
    return 'cases-begin';
  }

  /**
   * @override
   */
  @others
}

</t>
<t tx="ekr.20211016054411.1451">public checkItem(item: StackItem) {
  if (item.isKind('end') &amp;&amp; item.getName() === this.getName()) {
    if (this.getProperty('end')) {
      this.setProperty('end', false);
      return [[], true] as CheckType;
    }
  }
  return super.checkItem(item);
}

</t>
<t tx="ekr.20211016054411.1452">/**
 * A tagging class for the subnumcases environment.
 */
export class CasesTags extends AmsTags {

  /**
   * The counter for the subnumber.
   */
  protected subcounter = 0;

  /**
   * @override
   */
  @others
}

export const CasesMethods = {

  /**
   * Implements the numcases environment.
   *
   * @param {TexParser} texparser   The active tex parser.
   * @param {CasesBeginItem} begin  The environment begin item.
   */
  NumCases(parser: TexParser, begin: CasesBeginItem) {
    if (parser.stack.env.closing === begin.getName()) {
      delete parser.stack.env.closing;
      parser.Push(parser.itemFactory.create('end').setProperty('name', begin.getName())); // finish eqnarray
      const cases = parser.stack.Top();
      const table = cases.Last as MmlMtable;
      const original = ParseUtil.copyNode(table, parser) as MmlMtable;
      const left = cases.getProperty('left');
      EmpheqUtil.left(table, original, left + '\\empheqlbrace\\,', parser, 'numcases-left');
      parser.Push(parser.itemFactory.create('end').setProperty('name', begin.getName()));
      return null;
    } else {
      const left = parser.GetArgument('\\begin{' + begin.getName() + '}');
      begin.setProperty('left', left);
      const array = BaseMethods.EqnArray(parser, begin, true, true, 'll', ) as EqnArrayItem;
      array.arraydef.displaystyle = false;
      array.arraydef.rowspacing = '.2em';
      array.setProperty('numCases', true);
      parser.Push(begin);
      return array;
    }
  },

  /**
   * Replacement for &amp; in cases environment.
   */
  Entry(parser: TexParser, name: string) {
    if (!parser.stack.Top().getProperty('numCases')) {
      return BaseMethods.Entry(parser, name);
    }
    parser.Push(parser.itemFactory.create('cell').setProperties({isEntry: true, name: name}));
    //
    //  Make second column be in \text{...}
    //
    const tex = parser.string;
    let braces = 0, i = parser.i, m = tex.length;
    //
    //  Look through the string character by character...
    //
    while (i &lt; m) {
      const c = tex.charAt(i);
      if (c === '{') {
        //
        //  Increase the nested brace count and go on
        //
        braces++;
        i++;
      } else if (c === '}') {
        //
        //  If there are too many close braces, just end (we will get an
        //    error message later when the rest of the string is parsed)
        //  Otherwise
        //    decrease the nested brace count,
        //    go on to the next character.
        //
        if (braces === 0) {
          break;
        } else {
          braces--;
          i++;
        }
      } else if (c === '&amp;' &amp;&amp; braces === 0) {
        //
        //  Extra alignment tabs are not allowed in cases
        //
        throw new TexError('ExtraCasesAlignTab', 'Extra alignment tab in text for numcase environment');
      } else if (c === '\\' &amp;&amp; braces === 0) {
        //
        //  If the macro is \cr or \\, end the search, otherwise skip the macro
        //  (multi-letter names don't matter, as we will skip the rest of the
        //   characters in the main loop)
        //
        const cs = (tex.slice(i + 1).match(/^[a-z]+|./i) || [])[0];
        if (cs === '\\' || cs === 'cr' || cs === 'end' || cs === 'label') {
          break;
        } else {
          i += cs.length;
        }
      } else {
        //
        //  Go on to the next character
        //
        i++;
      }
    }
    //
    //  Process the second column as text and continue parsing from there,
    //
    const text = tex.substr(parser.i, i - parser.i).replace(/^\s*/, '');
    parser.PushAll(ParseUtil.internalMath(parser, text, 0));
    parser.i = i;
  }

};

/**
 * The environments for this package
 */
new EnvironmentMap('cases-env', EmpheqUtil.environment, {
  numcases: ['NumCases', 'cases'],
  subnumcases: ['NumCases', 'cases']
}, CasesMethods);

/**
 * The macros for this package
 */
new MacroMap('cases-macros', {
  '&amp;': 'Entry'
}, CasesMethods);

//
//  Define the package for our new environment
//
export const CasesConfiguration = Configuration.create('cases', {
  handler: {
    environment: ['cases-env'],
    character: ['cases-macros']
  },
  items: {
    [CasesBeginItem.prototype.kind]: CasesBeginItem
  },
  tags: {'cases': CasesTags}
});
</t>
<t tx="ekr.20211016054411.1453">public start(env: string, taggable: boolean, defaultTags: boolean) {
  this.subcounter = 0;
  super.start(env, taggable, defaultTags);
}

</t>
<t tx="ekr.20211016054411.1454">/**
 * @override
 */
public autoTag() {
  if (this.currentTag.tag != null) return;
  if (this.currentTag.env === 'subnumcases') {
    if (this.subcounter === 0) this.counter++;
    this.subcounter++;
    this.tag(this.formatNumber(this.counter, this.subcounter), false);
  } else {
    if (this.subcounter === 0 || this.currentTag.env !== 'numcases-left') this.counter++;
    this.tag(this.formatNumber(this.counter), false);
  }
}

</t>
<t tx="ekr.20211016054411.1455">/**
 * @override
 */
public formatNumber(n: number, m: number = null) {
  return n.toString() + (m === null ? '' : String.fromCharCode(0x60 + m));
}

</t>
<t tx="ekr.20211016054411.1456"></t>
<t tx="ekr.20211016054411.1457">/**
 * @fileoverview Configuration file for the centernot package.
 *
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import {Configuration} from '../Configuration.js';
import ParseOptions from '../ParseOptions.js';
import TexParser from '../TexParser.js';
import NodeUtil from '../NodeUtil.js';
import {CommandMap} from '../SymbolMap.js';
import {MmlNode} from '../../../core/MmlTree/MmlNode.js';
import BaseMethods from '../base/BaseMethods.js';

new CommandMap('centernot', {
  centerOver: 'CenterOver',
  centernot: ['Macro', '\\centerOver{#1}{{\u29F8}}', 1]
}, {
  /**
   * Implements \centerOver{base}{symbol}
   *
   * @param {TexParser} parser   The active tex parser.
   * @param {string} name        The name of the macro being processed.
   */
  CenterOver(parser: TexParser, name: string) {
    const arg = '{' + parser.GetArgument(name) + '}';
    const over = parser.ParseArg(name);
    const base = new TexParser(arg, parser.stack.env, parser.configuration).mml();
    let mml = parser.create('node', 'TeXAtom', [
      new TexParser(arg, parser.stack.env, parser.configuration).mml(),
      parser.create('node', 'mpadded', [
        parser.create('node', 'mpadded', [over], {width: 0, lspace: '-.5width'}),
        parser.create('node', 'mphantom', [base])
      ], {width: 0, lspace: '-.5width'})
    ]);
    parser.configuration.addNode('centerOver', base);
    parser.Push(mml);
  },
  Macro: BaseMethods.Macro
});

/**
 * Filter to copy texClass to the surrounding TeXAtom so that the negated
 *   item has the same class of the base.
 *
 * @param {ParseOptions} data   The active tex parser.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1458">export function filterCenterOver({data}: {data: ParseOptions}) {
  for (const base of data.getList('centerOver')) {
    const texClass = NodeUtil.getTexClass(base.childNodes[0].childNodes[0] as MmlNode);
    if (texClass !== null) {
      NodeUtil.setProperties(base.parent.parent.parent.parent.parent.parent, {texClass});
    }
  }
}


export const CenternotConfiguration = Configuration.create(
  'centernot', {
    handler: {macro: ['centernot']},
    postprocessors: [filterCenterOver]
  }
);
</t>
<t tx="ekr.20211016054411.1459"></t>
<t tx="ekr.20211016054411.146">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/textcomp',    // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex/extensions/textmacros/lib',
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1460">/**
 * @fileoverview Configuration file for the color package.
 *
 * @author i@omardo.com (Omar Al-Ithawi)
 */


import {CommandMap} from '../SymbolMap.js';
import {Configuration, ParserConfiguration} from '../Configuration.js';
import {ColorMethods} from './ColorMethods.js';
import {ColorModel} from './ColorUtil.js';
import {TeX} from '../../tex.js';

/**
 * The color macros
 */
new CommandMap('color', {
  color: 'Color',
  textcolor: 'TextColor',
  definecolor: 'DefineColor',
  colorbox: 'ColorBox',
  fcolorbox: 'FColorBox'
}, ColorMethods);

/**
 * Config method for Color package.
 *
 * @param {Configuration} config The current configuration.
 * @param {TeX} jax              The TeX jax having that configuration
 */
const config = function(_config: ParserConfiguration, jax: TeX&lt;any, any, any&gt;) {
  jax.parseOptions.packageData.set('color', {model: new ColorModel()});
};

/**
 * The configuration for the color macros
 */
export const ColorConfiguration = Configuration.create(
  'color', {
    handler: {
      macro: ['color'],
    },
    options: {
      color: {
        padding: '5px',
        borderWidth: '2px'
      }
    },
    config: config
  }
);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1461">


/**
 * @fileoverview Constants file for the color package.
 *
 * @author i@omardo.com (Omar Al-Ithawi)
 */

export const COLORS: Map&lt;string, string&gt; = new Map&lt;string, string&gt;([
  ['Apricot', '#FBB982'],
  ['Aquamarine', '#00B5BE'],
  ['Bittersweet', '#C04F17'],
  ['Black', '#221E1F'],
  ['Blue', '#2D2F92'],
  ['BlueGreen', '#00B3B8'],
  ['BlueViolet', '#473992'],
  ['BrickRed', '#B6321C'],
  ['Brown', '#792500'],
  ['BurntOrange', '#F7921D'],
  ['CadetBlue', '#74729A'],
  ['CarnationPink', '#F282B4'],
  ['Cerulean', '#00A2E3'],
  ['CornflowerBlue', '#41B0E4'],
  ['Cyan', '#00AEEF'],
  ['Dandelion', '#FDBC42'],
  ['DarkOrchid', '#A4538A'],
  ['Emerald', '#00A99D'],
  ['ForestGreen', '#009B55'],
  ['Fuchsia', '#8C368C'],
  ['Goldenrod', '#FFDF42'],
  ['Gray', '#949698'],
  ['Green', '#00A64F'],
  ['GreenYellow', '#DFE674'],
  ['JungleGreen', '#00A99A'],
  ['Lavender', '#F49EC4'],
  ['LimeGreen', '#8DC73E'],
  ['Magenta', '#EC008C'],
  ['Mahogany', '#A9341F'],
  ['Maroon', '#AF3235'],
  ['Melon', '#F89E7B'],
  ['MidnightBlue', '#006795'],
  ['Mulberry', '#A93C93'],
  ['NavyBlue', '#006EB8'],
  ['OliveGreen', '#3C8031'],
  ['Orange', '#F58137'],
  ['OrangeRed', '#ED135A'],
  ['Orchid', '#AF72B0'],
  ['Peach', '#F7965A'],
  ['Periwinkle', '#7977B8'],
  ['PineGreen', '#008B72'],
  ['Plum', '#92268F'],
  ['ProcessBlue', '#00B0F0'],
  ['Purple', '#99479B'],
  ['RawSienna', '#974006'],
  ['Red', '#ED1B23'],
  ['RedOrange', '#F26035'],
  ['RedViolet', '#A1246B'],
  ['Rhodamine', '#EF559F'],
  ['RoyalBlue', '#0071BC'],
  ['RoyalPurple', '#613F99'],
  ['RubineRed', '#ED017D'],
  ['Salmon', '#F69289'],
  ['SeaGreen', '#3FBC9D'],
  ['Sepia', '#671800'],
  ['SkyBlue', '#46C5DD'],
  ['SpringGreen', '#C6DC67'],
  ['Tan', '#DA9D76'],
  ['TealBlue', '#00AEB3'],
  ['Thistle', '#D883B7'],
  ['Turquoise', '#00B4CE'],
  ['Violet', '#58429B'],
  ['VioletRed', '#EF58A0'],
  ['White', '#FFFFFF'],
  ['WildStrawberry', '#EE2967'],
  ['Yellow', '#FFF200'],
  ['YellowGreen', '#98CC70'],
  ['YellowOrange', '#FAA21A'],
]);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1462">


/**
 * @fileoverview Parse methods and helper functtions for the color package.
 *
 * @author i@omardo.com (Omar Al-Ithawi)
 */


import NodeUtil from '../NodeUtil.js';
import {ParseMethod} from '../Types.js';
import {PropertyList} from '../../../core/Tree/Node.js';
import ParseUtil from '../ParseUtil.js';
import TexParser from '../TexParser.js';

import {ColorModel} from './ColorUtil.js';


/**
 * Build PropertyList from padding value.
 *
 * @param {string} colorPadding: Padding for \colorbox and \fcolorbox.
 * @return {PropertyList} The padding properties.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1463">function padding(colorPadding: string): PropertyList {
  const pad = `+${colorPadding}`;
  const unit = colorPadding.replace(/^.*?([a-z]*)$/, '$1');
  const pad2 = 2 * parseFloat(pad);
  return {
    width: `+${pad2}${unit}`,
    height: pad,
    depth: pad,
    lspace: colorPadding,
  };
}


export const ColorMethods: Record&lt;string, ParseMethod&gt; = {};


/**
 * Override \color macro definition.
 *
 * @param {TexParser} parser The calling parser.
 * @param {string} name The name of the control sequence.
 */
ColorMethods.Color = function (parser: TexParser, name: string) {
  const model = parser.GetBrackets(name, '');
  const colorDef = parser.GetArgument(name);
  const colorModel: ColorModel = parser.configuration.packageData.get('color').model;
  const color = colorModel.getColor(model, colorDef);

  const style = parser.itemFactory.create('style')
    .setProperties({styles: { mathcolor: color }});
  parser.stack.env['color'] = color;

  parser.Push(style);
};


/**
 * Define the \textcolor macro.
 *
 * @param {TexParser} parser The calling parser.
 * @param {string} name The name of the control sequence.
 */
ColorMethods.TextColor = function (parser: TexParser, name: string) {
  const model = parser.GetBrackets(name, '');
  const colorDef = parser.GetArgument(name);
  const colorModel: ColorModel = parser.configuration.packageData.get('color').model;
  const color = colorModel.getColor(model, colorDef);
  const old = parser.stack.env['color'];

  parser.stack.env['color'] = color;
  const math = parser.ParseArg(name);

  if (old) {
    parser.stack.env['color'] = old;
  } else {
    delete parser.stack.env['color'];
  }

  const node = parser.create('node', 'mstyle', [math], {mathcolor: color});
  parser.Push(node);
};

/**
 * Define the \definecolor macro.
 *
 * @param {TexParser} parser The calling parser.
 * @param {string} name The name of the control sequence.
 */
ColorMethods.DefineColor = function (parser: TexParser, name: string) {
  const cname = parser.GetArgument(name);
  const model = parser.GetArgument(name);
  const def = parser.GetArgument(name);

  const colorModel: ColorModel = parser.configuration.packageData.get('color').model;
  colorModel.defineColor(model, cname, def);
};

/**
 * Produce a text box with a colored background: `\colorbox`.
 *
 * @param {TexParser} parser The calling parser.
 * @param {string} name The name of the control sequence.
 */
ColorMethods.ColorBox = function (parser: TexParser, name: string) {
  const cname = parser.GetArgument(name);
  const math = ParseUtil.internalMath(parser, parser.GetArgument(name));
  const colorModel: ColorModel = parser.configuration.packageData.get('color').model;

  const node = parser.create('node', 'mpadded', math, {
    mathbackground: colorModel.getColor('named', cname)
  });

  NodeUtil.setProperties(node, padding(parser.options.color.padding));
  parser.Push(node);
};

/**
 * Produce a framed text box with a colored background: `\fcolorbox`.
 *
 * @param {TexParser} parser The calling parser.
 * @param {string} name The name of the control sequence.
 */
ColorMethods.FColorBox = function (parser: TexParser, name: string) {
  const fname = parser.GetArgument(name);
  const cname = parser.GetArgument(name);
  const math = ParseUtil.internalMath(parser, parser.GetArgument(name));
  const options = parser.options.color;
  const colorModel: ColorModel = parser.configuration.packageData.get('color').model;

  const node = parser.create('node', 'mpadded', math, {
    mathbackground: colorModel.getColor('named', cname),
    style: `border: ${options.borderWidth} solid ${colorModel.getColor('named', fname)}`
  });

  NodeUtil.setProperties(node, padding(options.padding));
  parser.Push(node);
};
</t>
<t tx="ekr.20211016054411.1464">


/**
 * @fileoverview Utility functions and classes for the color package.
 *
 * @author i@omardo.com (Omar Al-Ithawi)
 */


import TexError from '../TexError.js';
import {COLORS} from './ColorConstants.js';

type ColorModelProcessor = (def: string) =&gt; string;
const ColorModelProcessors: Map&lt;string, ColorModelProcessor&gt; = new Map&lt;string, ColorModelProcessor&gt;();


@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1465">export class ColorModel {

  /**
   * User defined colors.
   *
   * This variable is local to the parser, so two parsers in the same
   * JavaScript thread can have two different sets of user-defined colors.
   */
  private userColors: Map&lt;string, string&gt; = new Map&lt;string, string&gt;();

  /**
   * Converts a color model from string representation to its CSS format `#44ff00`
   *
   * @param {string} model The coloring model type: `rgb` `RGB` or `gray`.
   * @param {string} def The color definition: `0.5,0,1`, `128,0,255`, `0.5`.
   * @return {string} The color definition in CSS format e.g. `#44ff00`.
   */
  @others
}


/**
 * Get an rgb color.
 *
 * @param {OptionList} parserOptions The parser options object.
 * @param {string} rgb The color definition in rgb: `0.5,0,1`.
 * @return {string} The color definition in CSS format e.g. `#44ff00`.
 */
ColorModelProcessors.set('rgb', function (rgb: string): string {
  const rgbParts: string[] = rgb.trim().split(/\s*,\s*/);
  let RGB: string = '#';

  if (rgbParts.length !== 3) {
    throw new TexError('ModelArg1', 'Color values for the %1 model require 3 numbers', 'rgb');
  }

  for (const rgbPart of rgbParts) {
    if (!rgbPart.match(/^(\d+(\.\d*)?|\.\d+)$/)) {
      throw new TexError('InvalidDecimalNumber', 'Invalid decimal number');
    }

    const n = parseFloat(rgbPart);
    if (n &lt; 0 || n &gt; 1) {
      throw new TexError('ModelArg2',
                         'Color values for the %1 model must be between %2 and %3',
                         'rgb', '0', '1');
    }

    let pn = Math.floor(n * 255).toString(16);
    if (pn.length &lt; 2) {
      pn = '0' + pn;
    }

    RGB += pn;
  }

  return RGB;
});

/**
 * Get an RGB color.
 *
 * @param {OptionList} parserOptions The parser options object.
 * @param {string} rgb The color definition in RGB: `128,0,255`.
 * @return {string} The color definition in CSS format e.g. `#44ff00`.
 */
ColorModelProcessors.set('RGB', function (rgb: string): string {
  const rgbParts: string[] = rgb.trim().split(/\s*,\s*/);
  let RGB = '#';

  if (rgbParts.length !== 3) {
    throw new TexError('ModelArg1', 'Color values for the %1 model require 3 numbers', 'RGB');
  }

  for (const rgbPart of rgbParts) {
    if (!rgbPart.match(/^\d+$/)) {
      throw new TexError('InvalidNumber', 'Invalid number');
    }

    const n = parseInt(rgbPart);
    if (n &gt; 255) {
      throw new TexError('ModelArg2',
                         'Color values for the %1 model must be between %2 and %3',
                         'RGB', '0', '255');
    }

    let pn = n.toString(16);
    if (pn.length &lt; 2) {
      pn = '0' + pn;
    }
    RGB += pn;
  }
  return RGB;
});

/**
 * Get a gray-scale value.
 *
 * @param {OptionList} parserOptions The parser options object.
 * @param {string} gray The color definition in RGB: `0.5`.
 * @return {string} The color definition in CSS format e.g. `#808080`.
 */
ColorModelProcessors.set('gray', function (gray: string): string {
  if (!gray.match(/^\s*(\d+(\.\d*)?|\.\d+)\s*$/)) {
    throw new TexError('InvalidDecimalNumber', 'Invalid decimal number');
  }

  const n: number = parseFloat(gray);
  if (n &lt; 0 || n &gt; 1) {
    throw new TexError('ModelArg2',
                       'Color values for the %1 model must be between %2 and %3',
                       'gray', '0', '1');
  }
  let pn = Math.floor(n * 255).toString(16);
  if (pn.length &lt; 2) {
    pn = '0' + pn;
  }

  return `#${pn}${pn}${pn}`;
});
</t>
<t tx="ekr.20211016054411.1466">private normalizeColor(model: string, def: string): string {
  if (!model || model === 'named') {
    // Allow to define colors directly by using the CSS format e.g. `#888`
    return def;
  }

  if (ColorModelProcessors.has(model)) {
    const modelProcessor = ColorModelProcessors.get(model);
    return modelProcessor(def);
  }

  throw new TexError('UndefinedColorModel', 'Color model \'%1\' not defined', model);
}

</t>
<t tx="ekr.20211016054411.1467">/**
 * Look up a color based on its model and definition.
 *
 * @param {string} model The coloring model type: `named`, `rgb` `RGB` or `gray`.
 * @param {string} def The color definition: `red, `0.5,0,1`, `128,0,255`, `0.5`.
 * @return {string} The color definition in CSS format e.g. `#44ff00`.
 */
public getColor(model: string, def: string): string {
  if (!model || model === 'named') {
    return this.getColorByName(def);
  }

  return this.normalizeColor(model, def);
}

</t>
<t tx="ekr.20211016054411.1468">/**
 * Get a named color.
 *
 * @param {string} name The color name e.g. `darkblue`.
 * @return {string} The color definition in CSS format e.g. `#44ff00`.
 *
 * To retain backward compatilbity with MathJax v2 this method returns
 * unknown as-is, this is useful for both passing through CSS format colors like `#ff0`,
 * or even standard CSS color names that this plugin is unaware of.
 *
 * In TeX format, this would help to let `\textcolor{#f80}{\text{Orange}}` show an
 * orange word.
 */
private getColorByName(name: string): string {
  if (this.userColors.has(name)) {
    return this.userColors.get(name);
  }

  if (COLORS.has(name)) {
    return COLORS.get(name);
  }

  // Pass the color name as-is to CSS
  return name;
}

</t>
<t tx="ekr.20211016054411.1469">/**
 * Create a new user-defined color.
 *
 * This color is local to the parser, so another MathJax parser won't be poluted.
 *
 * @param {string} model The coloring model type: e.g. `rgb`, `RGB` or `gray`.
 * @param {string} name The color name: `darkblue`.
 * @param {string} def The color definition in the color model format: `128,0,255`.
 */
public defineColor(model: string, name: string, def: string) {
  const normalized = this.normalizeColor(model, def);
  this.userColors.set(name, normalized);
}
</t>
<t tx="ekr.20211016054411.147"></t>
<t tx="ekr.20211016054411.1470"></t>
<t tx="ekr.20211016054411.1471">/**
 * @fileoverview    Configuration file for the colortbl package.
 *
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import {ArrayItem} from '../base/BaseItems.js';
import {Configuration, ParserConfiguration, ConfigurationHandler} from '../Configuration.js';
import {CommandMap} from '../SymbolMap.js';
import TexParser from '../TexParser.js';
import TexError from '../TexError.js';
import {MmlNode} from '../../../core/MmlTree/MmlNode.js';

import {TeX} from '../../tex.js';

/**
 * Information about table colors.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1472">export interface ColorData {
  cell: string;
  row: string;
  col: string[];
}

//
//  Sublcass the ArrayItem to handle colored entries
//
</t>
<t tx="ekr.20211016054411.1473">export class ColorArrayItem extends ArrayItem {
  /**
   *  Store current color for cell, row, and columns.
   */
  public color: ColorData = {
    cell: '',
    row: '',
    col: []
  };

  /**
   * True if any cell is colored (we will make sure the edge cells are full sized).
   */
  public hasColor: boolean = false;

  /**
   * @override
   */
  @others
}

//
//  Define macros for table coloring.
//
new CommandMap('colortbl', {
  cellcolor: ['TableColor', 'cell'],
  rowcolor:  ['TableColor', 'row'],
  columncolor: ['TableColor', 'col']
}, {
  /**
   * Add color to a column, row, or cell.
   *
   * @param {TexParser} parser       The active TeX parser
   * @param {string} name            The name of the macro that is being processed
   * @param {keyof ColorData} type   The type (col, row, cell) of color being added
   */
  TableColor(parser: TexParser, name: string, type: keyof ColorData) {
    const lookup = parser.configuration.packageData.get('color').model;  // use the color extension's color model
    const model = parser.GetBrackets(name, '');
    const color = lookup.getColor(model, parser.GetArgument(name));
    //
    // Check that we are in a colorable array.
    //
    const top = parser.stack.Top() as ColorArrayItem;
    if (!(top instanceof ColorArrayItem)) {
      throw new TexError('UnsupportedTableColor', 'Unsupported use of %1', parser.currentCS);
    }
    //
    //  Check the position of the macro and save the color.
    //
    if (type === 'col') {
      if (top.table.length) {
        throw new TexError('ColumnColorNotTop', '%1 must be in the top row', name);
      }
      top.color.col[top.row.length] = color;
      //
      // Ignore the left and right overlap options.
      //
      if (parser.GetBrackets(name, '')) {
        parser.GetBrackets(name, '');
      }
    } else {
      top.color[type] = color;
      if (type === 'row' &amp;&amp; (top.Size() || top.row.length)) {
        throw new TexError('RowColorNotFirst', '%1 must be at the beginning of a row', name);
      }
    }
  }
});

/**
 * The configuration function for colortbl.
 *
 * @param {ParserConfiguration} config   The configuration being used.
 * @param {Tex} jax                      The TeX jax using this configuration.
 */
const config = function (config: ParserConfiguration, jax: TeX&lt;any, any, any&gt;) {
  //
  //  Make sure color is configured.  (It doesn't have to be included in tex.packages.)
  //
  if (!jax.parseOptions.packageData.has('color')) {
    ConfigurationHandler.get('color').config(config, jax);
  }
};

//
//  Create the color-table configuration.
//
export const ColortblConfiguration = Configuration.create('colortbl', {
  handler: {macro: ['colortbl']},
  items: {'array': ColorArrayItem},  // overrides original array class
  priority: 10,                      // make sure we are processed after the base package (to override its array)
  config: [config, 10]               // make sure we configure after the color package, if it is used.
});
</t>
<t tx="ekr.20211016054411.1474">public EndEntry() {
  super.EndEntry();
  const cell = this.row[this.row.length - 1];
  const color = this.color.cell || this.color.row || this.color.col[this.row.length - 1];
  if (color) {
    cell.attributes.set('mathbackground', color);
    this.color.cell = '';
    this.hasColor = true;
  }
}

</t>
<t tx="ekr.20211016054411.1475">/**
 * @override
 */
public EndRow() {
  super.EndRow();
  this.color.row = '';
}

</t>
<t tx="ekr.20211016054411.1476">/**
 * @override
 */
public createMml() {
  //
  // If there is any color in the array, give it an empty frame,
  //   if there isn't one already.  This will make sure the color
  //   in edge cells extends past their contents.
  //
  const mml = super.createMml();
  let table = (mml.isKind('mrow') ? mml.childNodes[1] : mml) as MmlNode;
  if (table.isKind('menclose')) {
    table = table.childNodes[0].childNodes[0] as MmlNode;
  }
  if (this.hasColor &amp;&amp; table.attributes.get('frame') === 'none') {
    table.attributes.set('frame', '');
  }
  return mml;
}

</t>
<t tx="ekr.20211016054411.1477"></t>
<t tx="ekr.20211016054411.1478">


/**
 * @fileoverview Configuration file for the v2-compatible color package.
 *
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import {CommandMap} from '../SymbolMap.js';
import {Configuration} from '../Configuration.js';
import {ParseMethod} from '../Types.js';
import TexParser from '../TexParser.js';

export const ColorV2Methods: Record&lt;string, ParseMethod&gt; = {

  /**
   * Implements the v2 color macro
   *
   * @param {TexParser} parser The calling parser.
   * @param {string} name The macro name.
   */
  Color(parser: TexParser, name: string) {
    // @test Color Frac
    const color = parser.GetArgument(name);
    const old = parser.stack.env['color'];
    parser.stack.env['color'] = color;
    const math = parser.ParseArg(name);
    if (old) {
      parser.stack.env['color'] = old;
    } else {
      delete parser.stack.env['color'];
    }
    const node = parser.create('node', 'mstyle', [math], {mathcolor: color});
    parser.Push(node);
  }

};

/**
 * The color macros
 */
new CommandMap('colorv2', {color: 'Color'}, ColorV2Methods);

/**
 * The configuration for the color macros
 */
export const ColorConfiguration = Configuration.create(
  'colorv2', {handler: {macro: ['colorv2']}}
);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1479"></t>
<t tx="ekr.20211016054411.148">
import './lib/textmacros.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1480">



/**
 * @fileoverview    Configuration file for the configmacros package.
 *
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import {Configuration, ParserConfiguration} from '../Configuration.js';
import {expandable} from '../../../util/Options.js';
import {CommandMap, EnvironmentMap} from '../SymbolMap.js';
import ParseMethods from '../ParseMethods.js';
import {Macro} from '../Symbol.js';
import NewcommandMethods from '../newcommand/NewcommandMethods.js';
import {BeginEnvItem} from '../newcommand/NewcommandItems.js';
import {TeX} from '../../tex.js';

type TEX = TeX&lt;any, any, any&gt;;

/**
 * The name to use for the macros map
 */
const MACROSMAP = 'configmacros-map';

/**
 * The name to use for the environment map
 */
const ENVIRONMENTMAP = 'configmacros-env-map';

/**
 * Create the command map for the macros
 *
 * @param {Configuration} config   The configuration object for the input jax
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1481">function configmacrosInit(config: ParserConfiguration) {
  new CommandMap(MACROSMAP, {}, {});
  new EnvironmentMap(ENVIRONMENTMAP, ParseMethods.environment, {}, {});
  config.append(Configuration.local({
    handler: {
      macro: [MACROSMAP],
      environment: [ENVIRONMENTMAP]
    },
    priority: 3
  }));
}

</t>
<t tx="ekr.20211016054411.1482">/**
 * Create the user-defined macros and environments from their options
 *
 * @param {Configuration} config   The configuration object for the input jax
 * @param {TeX} jax                The TeX input jax
 */
function configmacrosConfig(_config: ParserConfiguration, jax: TEX) {
  configMacros(jax);
  configEnvironments(jax);
}

</t>
<t tx="ekr.20211016054411.1483">/**
 * Create user-defined macros from the macros option
 *
 * @param {TeX} jax                The TeX input jax
 */
function configMacros(jax: TEX) {
  const handler = jax.parseOptions.handlers.retrieve(MACROSMAP) as CommandMap;
  const macros = jax.parseOptions.options.macros;
  for (const cs of Object.keys(macros)) {
    const def = (typeof macros[cs] === 'string' ? [macros[cs]] : macros[cs]);
    const macro = Array.isArray(def[2]) ?
      new Macro(cs, NewcommandMethods.MacroWithTemplate, def.slice(0, 2).concat(def[2])) :
      new Macro(cs, NewcommandMethods.Macro, def);
    handler.add(cs, macro);
  }
}

</t>
<t tx="ekr.20211016054411.1484">/**
 * Create user-defined environments from the environments option
 *
 * @param {TeX} jax                The TeX input jax
 */
function configEnvironments(jax: TEX) {
  const handler = jax.parseOptions.handlers.retrieve(ENVIRONMENTMAP) as EnvironmentMap;
  const environments = jax.parseOptions.options.environments;
  for (const env of Object.keys(environments)) {
    handler.add(env, new Macro(env, NewcommandMethods.BeginEnv, [true].concat(environments[env])));
  }
}

/**
 * The configuration object for configmacros
 */
export const ConfigMacrosConfiguration = Configuration.create(
  'configmacros', {
    init: configmacrosInit,
    config: configmacrosConfig,
    items: {
      [BeginEnvItem.prototype.kind]: BeginEnvItem,
    },
    options: {
      macros: expandable({}),
      environments: expandable({})
    }
  }
);
</t>
<t tx="ekr.20211016054411.1485"></t>
<t tx="ekr.20211016054411.1486">



/**
 * @fileoverview Configuration file for the empheq package.
 *
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */


import {Configuration} from '../Configuration.js';
import {CommandMap, EnvironmentMap} from '../SymbolMap.js';
import ParseUtil from '../ParseUtil.js';
import TexParser from '../TexParser.js';
import TexError from '../TexError.js';
import {BeginItem} from '../base/BaseItems.js';
import {StackItem} from '../StackItem.js';
import {EmpheqUtil} from './EmpheqUtil.js';

/**
 * A StackItem for empheq environments.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1487">export class EmpheqBeginItem extends BeginItem {

  /**
   * @override
   */
  public get kind() {
    return 'empheq-begin';
  }

  /**
   * @override
   */
  @others
}

/**
 * The methods that implement the empheq package.
 */
export const EmpheqMethods = {

  /**
   * Handle an empheq environment.
   *
   * @param {TexParser} parser        The active tex parser.
   * @param {EmpheqBeginItem} begin   The begin item for this environment.
   */
  Empheq(parser: TexParser, begin: EmpheqBeginItem) {
    if (parser.stack.env.closing === begin.getName()) {
      delete parser.stack.env.closing;
      parser.Push(parser.itemFactory.create('end').setProperty('name', parser.stack.global.empheq));
      parser.stack.global.empheq = '';
      const empheq = parser.stack.Top() as EmpheqBeginItem;
      EmpheqUtil.adjustTable(empheq, parser);
      parser.Push(parser.itemFactory.create('end').setProperty('name', 'empheq'));
    } else {
      ParseUtil.checkEqnEnv(parser);
      delete parser.stack.global.eqnenv;
      const opts = parser.GetBrackets('\\begin{' + begin.getName() + '}') || '';
      const [env, n] = (parser.GetArgument('\\begin{' + begin.getName() + '}') || '').split(/=/);
      if (!EmpheqUtil.checkEnv(env)) {
        throw new TexError('UnknownEnv', 'Unknown environment "%1"', env);
      }
      if (opts) {
        begin.setProperties(EmpheqUtil.splitOptions(opts, {left: 1, right: 1}));
      }
      parser.stack.global.empheq = env;
      parser.string = '\\begin{' + env + '}' + (n ? '{' + n + '}' : '') + parser.string.slice(parser.i);
      parser.i = 0;
      parser.Push(begin);
    }
  },

  /**
   * Create an &lt;mo&gt; with a given content
   *
   * @param {TexParser} parser   The active tex parser.
   * @param {string} name        The name of the macro being processed.
   * @param {string} c           The character for the &lt;mo&gt;
   */
  EmpheqMO(parser: TexParser, _name: string, c: string) {
    parser.Push(parser.create('token', 'mo', {}, c));
  },

  /**
   * Create a delimiter &lt;mo&gt; with a given character
   *
   * @param {TexParser} parser   The active tex parser.
   * @param {string} name        The name of the macro being processed.
   */
  EmpheqDelim(parser: TexParser, name: string) {
    const c = parser.GetDelimiter(name);
    parser.Push(parser.create('token', 'mo', {stretchy: true, symmetric: true}, c));
  }

};

//
//  Define an environment map to add the new empheq environment
//
new EnvironmentMap('empheq-env', EmpheqUtil.environment, {
  empheq: ['Empheq', 'empheq'],
}, EmpheqMethods);

//
//  Define the empheq characters
//
new CommandMap('empheq-macros', {
  empheqlbrace:    ['EmpheqMO', '{'],
  empheqrbrace:    ['EmpheqMO', '}'],
  empheqlbrack:    ['EmpheqMO', '['],
  empheqrbrack:    ['EmpheqMO', ']'],
  empheqlangle:    ['EmpheqMO', '\u27E8'],
  empheqrangle:    ['EmpheqMO', '\u27E9'],
  empheqlparen:    ['EmpheqMO', '('],
  empheqrparen:    ['EmpheqMO', ')'],
  empheqlvert:     ['EmpheqMO', '|'],
  empheqrvert:     ['EmpheqMO', '|'],
  empheqlVert:     ['EmpheqMO', '\u2016'],
  empheqrVert:     ['EmpheqMO', '\u2016'],
  empheqlfloor:    ['EmpheqMO', '\u230A'],
  empheqrfloor:    ['EmpheqMO', '\u230B'],
  empheqlceil:     ['EmpheqMO', '\u2308'],
  empheqrceil:     ['EmpheqMO', '\u2309'],
  empheqbiglbrace: ['EmpheqMO', '{'],
  empheqbigrbrace: ['EmpheqMO', '}'],
  empheqbiglbrack: ['EmpheqMO', '['],
  empheqbigrbrack: ['EmpheqMO', ']'],
  empheqbiglangle: ['EmpheqMO', '\u27E8'],
  empheqbigrangle: ['EmpheqMO', '\u27E9'],
  empheqbiglparen: ['EmpheqMO', '('],
  empheqbigrparen: ['EmpheqMO', ')'],
  empheqbiglvert:  ['EmpheqMO', '|'],
  empheqbigrvert:  ['EmpheqMO', '|'],
  empheqbiglVert:  ['EmpheqMO', '\u2016'],
  empheqbigrVert:  ['EmpheqMO', '\u2016'],
  empheqbiglfloor: ['EmpheqMO', '\u230A'],
  empheqbigrfloor: ['EmpheqMO', '\u230B'],
  empheqbiglceil:  ['EmpheqMO', '\u2308'],
  empheqbigrceil:  ['EmpheqMO', '\u2309'],
  empheql:          'EmpheqDelim',
  empheqr:          'EmpheqDelim',
  empheqbigl:       'EmpheqDelim',
  empheqbigr:       'EmpheqDelim'
}, EmpheqMethods);

//
//  Define the package for our new environment
//
export const EmpheqConfiguration = Configuration.create('empheq', {
  handler: {
    macro: ['empheq-macros'],
    environment: ['empheq-env'],
  },
  items: {
    [EmpheqBeginItem.prototype.kind]: EmpheqBeginItem
  }
});
</t>
<t tx="ekr.20211016054411.1488">public checkItem(item: StackItem) {
  if (item.isKind('end') &amp;&amp; item.getName() === this.getName()) {
    this.setProperty('end', false);
  }
  return super.checkItem(item);
}

</t>
<t tx="ekr.20211016054411.1489">



/**
 * @fileoverview Utilities file for the empheq package.
 *
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */


import ParseUtil from '../ParseUtil.js';
import TexParser from '../TexParser.js';
import {EnvList} from '../StackItem.js';
import {AbstractTags} from '../Tags.js';
import {MmlNode} from '../../../core/MmlTree/MmlNode.js';
import {MmlMtable} from '../../../core/MmlTree/MmlNodes/mtable.js';
import {MmlMtd} from '../../../core/MmlTree/MmlNodes/mtd.js';
import {EmpheqBeginItem} from './EmpheqConfiguration.js';

export const EmpheqUtil = {

  /**
   * Create the needed envinronment and process it by the give function.
   *
   * @param {TexParser} parser   The active tex parser.
   * @param {string} env         The environment to create.
   * @param {Function} func      A function to process the environment.
   * @param {any[]} args         The arguments for func.
   */
  environment(parser: TexParser, env: string, func: Function, args: any[]) {
    const name = args[0];
    const item = parser.itemFactory.create(name + '-begin').setProperties({name: env, end: name});
    parser.Push(func(parser, item, ...args.slice(1)));
  },

  /**
   * Parse an options string.
   *
   * @param {string} text                   The string to parse.
   * @param {{[key:string]:number} allowed  Object containing options to allow
   * @return {EnvList}                      The parsed keys
   */
  splitOptions(text: string, allowed: {[key: string]: number} = null): EnvList {
    return ParseUtil.keyvalOptions(text, allowed, true);
  },

  /**
   * Find the number of columns in the table.
   *
   * @param {MmlMtable} table   The table whose columns to count.
   * @return {number}           The number of columns in the table.
   */
  columnCount(table: MmlMtable): number {
    let m = 0;
    for (const row of table.childNodes) {
      const n = row.childNodes.length - (row.isKind('mlabeledtr') ? 1 : 0);
      if (n &gt; m) m = n;
    }
    return m;
  },

  /**
   * Create an mpadded element with no height and depth, but whose
   *   content is the given TeX code with a phantom that is the height and
   *   depth of the given table.
   *
   * @param {string} tex        The TeX code to put in the box.
   * @param {MmlTable} table    The table used to size the box.
   * @param {TexParser} parser  The active tex parser.
   * @param {string} env        The name of the current environment.
   * @return {MmlNode}          The mpadded element.
   */
  cellBlock(tex: string, table: MmlMtable, parser: TexParser, env: string): MmlNode {
    const mpadded = parser.create('node', 'mpadded', [], {height: 0, depth: 0, voffset: '-1height'});
    const result = new TexParser(tex, parser.stack.env, parser.configuration);
    const mml = result.mml();
    if (env &amp;&amp; result.configuration.tags.label) {
      (result.configuration.tags.currentTag as any).env = env;
      (result.configuration.tags as AbstractTags).getTag(true);
    }
    for (const child of (mml.isInferred ? mml.childNodes : [mml])) {
      mpadded.appendChild(child);
    }
    mpadded.appendChild(parser.create('node', 'mphantom', [
      parser.create('node', 'mpadded', [table], {width: 0})
    ]));
    return mpadded;
  },

  /**
   * Make a copy of the table with only the first row and create a phantom element
   *   that has its height and depth.
   *
   * @param {MmlMtable} original   The original table.
   * @param {TexParser} parser     The active tex parser.
   * @return {MmlNode}             The resulting mphantom element.
   */
  topRowTable(original: MmlMtable, parser: TexParser): MmlNode {
    const table = ParseUtil.copyNode(original, parser);
    table.setChildren(table.childNodes.slice(0, 1));
    table.attributes.set('align', 'baseline 1');
    return original.factory.create('mphantom', {}, [parser.create('node', 'mpadded', [table],  {width: 0})]);
  },

  /**
   * Add an mpadded element that has zero height and depth but whose content is
   *   the cell block for the given TeX code followed by a struct the size of the top row.
   *
   * @param {MmlMtd} mtd         The mtd to add content to.
   * @param {string} tex         The TeX string to put into the cell.
   * @param {MmlMtable} table    The reference table used for its various heights.
   * @param {TexParser} parser   The active tex parser.
   * @param {srting} env         The current environment.
   */
  rowspanCell(mtd: MmlMtd, tex: string, table: MmlMtable, parser: TexParser, env: string) {
    mtd.appendChild(
      parser.create('node', 'mpadded', [
        this.cellBlock(tex, ParseUtil.copyNode(table, parser), parser, env),
        this.topRowTable(table, parser)
      ], {height: 0, depth: 0, voffset: 'height'})
    );
  },

  /**
   * Add something on the left of the original table.
   *
   * @param {MmlMtable} table     The table to modify.
   * @param {MmlMtable} original  The original table.
   * @param {string} left         The TeX code to add to the left.
   * @param {TexParser} parser    The active tex parser.
   * @param {string} env          The current environment.
   */
  left(table: MmlMtable, original: MmlMtable, left: string, parser: TexParser, env: string = '') {
    table.attributes.set('columnalign', 'right ' + (table.attributes.get('columnalign') || ''));
    table.attributes.set('columnspacing', '0em ' + (table.attributes.get('columnspacing') || ''));
    let mtd;
    for (const row of table.childNodes.slice(0).reverse()) {
      mtd = parser.create('node', 'mtd');
      row.childNodes.unshift(mtd);
      row.replaceChild(mtd, mtd);   // make sure parent is set
      if (row.isKind('mlabeledtr')) {
        row.childNodes[0] = row.childNodes[1];
        row.childNodes[1] = mtd;
      }
    }
    this.rowspanCell(mtd, left, original, parser, env);
  },

  /**
   * Add something on the right of the original table.
   *
   * @param {MmlMtable} table     The table to modify.
   * @param {MmlMtable} original  The original table.
   * @param {string} right        The TeX code to add to the right.
   * @param {TexParser} parser    The active tex parser.
   * @param {string} env          The current environment.
   */
  right(table: MmlMtable, original: MmlMtable, right: string, parser: TexParser, env: string = '') {
    if (table.childNodes.length === 0) {
      table.appendChild(parser.create('node', 'mtr'));
    }
    const m = EmpheqUtil.columnCount(table);
    const row = table.childNodes[0];
    while (row.childNodes.length &lt; m) row.appendChild(parser.create('node', 'mtd'));
    const mtd = row.appendChild(parser.create('node', 'mtd')) as MmlMtd;
    EmpheqUtil.rowspanCell(mtd, right, original, parser, env);
    table.attributes.set(
      'columnalign',
      (table.attributes.get('columnalign') as string || '').split(/ /).slice(0, m).join(' ') + ' left'
    );
    table.attributes.set(
      'columnspacing',
      (table.attributes.get('columnspacing') as string || '').split(/ /).slice(0, m - 1).join(' ') + ' 0em'
    );
  },

  /**
   * Add the left- and right-hand material to the table.
   */
  adjustTable(empheq: EmpheqBeginItem, parser: TexParser) {
    const left = empheq.getProperty('left');
    const right = empheq.getProperty('right');
    if (left || right) {
      const table = empheq.Last;
      const original = ParseUtil.copyNode(table, parser);
      if (left) this.left(table, original, left, parser);
      if (right) this.right(table, original, right, parser);
    }
  },

  /**
   * The environments allowed to be used in the empheq environment.
   */
  allowEnv: {
    equation: true,
    align: true,
    gather: true,
    flalign: true,
    alignat: true,
    multline: true
  },

  /**
   * Checks to see if the given environment is one of the allowed ones.
   *
   * @param {string} env   The environment to check.
   * @return {boolean}     True if the environment is allowed.
   */
  checkEnv(env: string): boolean {
    return this.allowEnv.hasOwnProperty(env.replace(/\*$/, '')) || false;
  }

};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.149">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/textmacros',  // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1490"></t>
<t tx="ekr.20211016054411.1491">



/**
 * @fileoverview Configuration file for the enclose package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import TexParser from '../TexParser.js';
import {CommandMap} from '../SymbolMap.js';
import {ParseMethod} from '../Types.js';
import ParseUtil from '../ParseUtil.js';


/**
 * The attributes allowed in \enclose{notation}[attributes]{math}
 * @type {{[key: string]: number}}
 */
export const ENCLOSE_OPTIONS: {[key: string]: number} = {
  'data-arrowhead': 1,
  color: 1,
  mathcolor: 1,
  background: 1,
  mathbackground: 1,
  'data-padding': 1,
  'data-thickness': 1
};


// Namespace
export let EncloseMethods: Record&lt;string, ParseMethod&gt; = {};


/**
 * Implements \enclose{notation}[attr]{math}
 * (create &lt;menclose notation="notation"&gt;math&lt;/menclose&gt;)
 * @param {TexParser} parser The current tex parser.
 * @param {string} name The name of the calling macro.
 */
EncloseMethods.Enclose = function(parser: TexParser, name: string) {
  let notation = parser.GetArgument(name).replace(/,/g, ' ');
  const attr = parser.GetBrackets(name, '');
  const math = parser.ParseArg(name);
  const def = ParseUtil.keyvalOptions(attr, ENCLOSE_OPTIONS);
  def.notation = notation;
  parser.Push(parser.create('node', 'menclose', [math], def));
};


new CommandMap('enclose', {enclose: 'Enclose'}, EncloseMethods);


export const EncloseConfiguration = Configuration.create(
  'enclose', {handler: {macro: ['enclose']}}
);


@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1492"></t>
<t tx="ekr.20211016054411.1493">



/**
 * @fileoverview Configuration file for the extpfeil package. Note that this is
 *     based on AMS package and Newcommand utilities.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration, ParserConfiguration} from '../Configuration.js';
import TexParser from '../TexParser.js';
import {CommandMap} from '../SymbolMap.js';
import {ParseMethod} from '../Types.js';
import {AmsMethods} from '../ams/AmsMethods.js';
import NewcommandUtil from '../newcommand/NewcommandUtil.js';
import {NewcommandConfiguration} from '../newcommand/NewcommandConfiguration.js';
import TexError from '../TexError.js';


// Namespace
export let ExtpfeilMethods: Record&lt;string, ParseMethod&gt; = {};

ExtpfeilMethods.xArrow = AmsMethods.xArrow;

/**
 * Implements \Newextarrow to define a new arrow.
 * @param {TexParser} parser The current tex parser.
 * @param {string} name The name of the calling macro.
 */
ExtpfeilMethods.NewExtArrow = function(parser: TexParser, name: string) {
  let cs = parser.GetArgument(name);
  const space = parser.GetArgument(name);
  const chr = parser.GetArgument(name);
  if (!cs.match(/^\\([a-z]+|.)$/i)) {
    throw new TexError('NewextarrowArg1',
               'First argument to %1 must be a control sequence name', name);
  }
  if (!space.match(/^(\d+),(\d+)$/)) {
    throw new TexError(
      'NewextarrowArg2',
      'Second argument to %1 must be two integers separated by a comma',
      name);
  }
  if (!chr.match(/^(\d+|0x[0-9A-F]+)$/i)) {
    throw new TexError(
      'NewextarrowArg3',
      'Third argument to %1 must be a unicode character number',
      name);
  }
  cs = cs.substr(1);
  let spaces = space.split(',');
  NewcommandUtil.addMacro(parser, cs, ExtpfeilMethods.xArrow,
                          [parseInt(chr), parseInt(spaces[0]), parseInt(spaces[1])]);
};


new CommandMap('extpfeil', {
  xtwoheadrightarrow: ['xArrow', 0x21A0, 12, 16],
  xtwoheadleftarrow:  ['xArrow', 0x219E, 17, 13],
  xmapsto:            ['xArrow', 0x21A6, 6, 7],
  xlongequal:         ['xArrow', 0x003D, 7, 7],
  xtofrom:            ['xArrow', 0x21C4, 12, 12],
  Newextarrow:        'NewExtArrow'
}, ExtpfeilMethods);


let init = function(config: ParserConfiguration) {
  NewcommandConfiguration.init(config);
};

export const ExtpfeilConfiguration = Configuration.create(
  'extpfeil', {
    handler: {macro: ['extpfeil']},
    init: init
  }
);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1494"></t>
<t tx="ekr.20211016054411.1495">



/**
 * @fileoverview Configuration file for the gensymb package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import {Symbol} from '../Symbol.js';
import {TexConstant} from '../TexConstants.js';
import {CharacterMap} from '../SymbolMap.js';
import TexParser from '../TexParser.js';


/**
 * Handle characters that are known units.
 * @param {TexParser} parser The current tex parser.
 * @param {Symbol} mchar The parsed symbol.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1496">function mathcharUnit(parser: TexParser, mchar: Symbol) {
  const def = mchar.attributes || {};
  def.mathvariant = TexConstant.Variant.NORMAL;
  def.class = 'MathML-Unit';
  const node = parser.create('token', 'mi', def, mchar.char);
  parser.Push(node);
}


/**
 * gensymb units.
 */
new CharacterMap('gensymb-symbols', mathcharUnit, {
  ohm:            '\u2126',
  degree:         '\u00B0',
  celsius:        '\u2103',
  perthousand:    '\u2030',
  micro:          '\u00B5'
});


export const GensymbConfiguration = Configuration.create(
  'gensymb', {
    handler: {macro: ['gensymb-symbols']},
  }
);

</t>
<t tx="ekr.20211016054411.1497"></t>
<t tx="ekr.20211016054411.1498">



/**
 * @fileoverview Configuration file for the Html package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import {CommandMap} from '../SymbolMap.js';
import HtmlMethods from './HtmlMethods.js';


new CommandMap('html_macros', {
  href:    'Href',
  'class': 'Class',
  style:   'Style',
  cssId:   'Id'
}, HtmlMethods);

export const HtmlConfiguration = Configuration.create(
  'html', {handler: { macro: ['html_macros']}}
);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1499">



/**
 * @fileoverview Methods for the Html package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import TexParser from '../TexParser.js';
import {ParseMethod} from '../Types.js';
import NodeUtil from '../NodeUtil.js';
import {MmlNode} from '../../../core/MmlTree/MmlNode.js';


// Namespace
let HtmlMethods: Record&lt;string, ParseMethod&gt; = {};


/**
 * Implements \href{url}{math}
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
HtmlMethods.Href = function(parser: TexParser, name: string) {
  const url = parser.GetArgument(name);
  const arg = GetArgumentMML(parser, name);
  NodeUtil.setAttribute(arg, 'href', url);
  parser.Push(arg);
};


/**
 * Implements \class{name}{math}
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
HtmlMethods.Class = function(parser: TexParser, name: string) {
  let CLASS = parser.GetArgument(name);
  const arg = GetArgumentMML(parser, name);
  let oldClass = NodeUtil.getAttribute(arg, 'class');
  if (oldClass) {
    CLASS = oldClass + ' ' + CLASS;
  }
  NodeUtil.setAttribute(arg, 'class', CLASS);
  parser.Push(arg);
};


/**
 * Implements \style{style-string}{math}
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
HtmlMethods.Style = function(parser: TexParser, name: string) {
  let style = parser.GetArgument(name);
  const arg = GetArgumentMML(parser, name);
  // check that it looks like a style string
  let oldStyle = NodeUtil.getAttribute(arg, 'style');
  if (oldStyle) {
    if (style.charAt(style.length - 1) !== ';') {
      style += ';';
    }
    style = oldStyle + ' ' + style;
  }
  NodeUtil.setAttribute(arg, 'style', style);
  parser.Push(arg);
};


/**
 * Implements \cssId{id}{math}
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
HtmlMethods.Id = function(parser: TexParser, name: string) {
  const ID  = parser.GetArgument(name);
  const arg = GetArgumentMML(parser, name);
  NodeUtil.setAttribute(arg, 'id', ID);
  parser.Push(arg);
};


/**
 * Parses the math argument of the above commands and returns it as single
 * node (in an mrow if necessary). The HTML attributes are then
 * attached to this element.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The calling macro name.
 * @return {MmlNode} The math node.
 */
let GetArgumentMML = function(parser: TexParser, name: string): MmlNode {
  let arg = parser.ParseArg(name);
  if (!NodeUtil.isInferred(arg)) {
    return arg;
  }
  let children = NodeUtil.getChildren(arg);
  if (children.length === 1) {
    return children[0];
  }
  const mrow = parser.create('node', 'mrow');
  NodeUtil.copyChildren(arg, mrow);
  NodeUtil.copyAttributes(arg, mrow);
  return mrow;
};


export default HtmlMethods;
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.15"></t>
<t tx="ekr.20211016054411.150"></t>
<t tx="ekr.20211016054411.1500"></t>
<t tx="ekr.20211016054411.1501">


/**
 * @fileoverview    Configuration file for the mathtools package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import {Configuration} from '../Configuration.js';
import {CommandMap} from '../SymbolMap.js';
import NodeUtil from '../NodeUtil.js';
import {expandable} from '../../../util/Options.js';
import {ParserConfiguration} from '../Configuration.js';
import {TeX} from '../../tex.js';
import ParseOptions from '../ParseOptions.js';

import './MathtoolsMappings.js';
import {MathtoolsUtil} from './MathtoolsUtil.js';
import {MathtoolsTagFormat} from './MathtoolsTags.js';
import {MultlinedItem} from './MathtoolsItems.js';

/**
 * The name of the paried-delimiters command map.
 */
export const PAIREDDELIMS = 'mathtools-paired-delims';

/**
 * Create the paired-delimiters command map, and link it into the configuration.
 * @param {ParserConfiguration} config   The current configuration.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1502">function initMathtools(config: ParserConfiguration) {
  new CommandMap(PAIREDDELIMS, {}, {});
  config.append(Configuration.local({handler: {macro: [PAIREDDELIMS]}, priority: -5}));
}

</t>
<t tx="ekr.20211016054411.1503">/**
 * Add any pre-defined paired delimiters, and subclass the configured tag format.
 * @param {ParserConfiguration} config   The current configuration.
 * @param {TeX} jac                      The TeX input jax
 */
function configMathtools(config: ParserConfiguration, jax: TeX&lt;any, any, any&gt;) {
  const parser = jax.parseOptions;
  const pairedDelims = parser.options.mathtools.pairedDelimiters;
  for (const cs of Object.keys(pairedDelims)) {
    MathtoolsUtil.addPairedDelims(parser, cs, pairedDelims[cs]);
  }
  MathtoolsTagFormat(config, jax);
}

</t>
<t tx="ekr.20211016054411.1504">/**
 * A filter to fix up mmultiscripts elements.
 * @param {ParseOptions} data   The parse options.
 */
export function fixPrescripts({data}: {data: ParseOptions}) {
  for (const node of data.getList('mmultiscripts')) {
    if (!node.getProperty('fixPrescript')) continue;
    const childNodes = NodeUtil.getChildren(node);
    let n = 0;
    for (const i of [1, 2]) {
      if (!childNodes[i]) {
        NodeUtil.setChild(node, i, data.nodeFactory.create('node', 'none'));
        n++;
      }
    }
    for (const i of [4, 5]) {
      if (NodeUtil.isType(childNodes[i], 'mrow') &amp;&amp; NodeUtil.getChildren(childNodes[i]).length === 0) {
        NodeUtil.setChild(node, i, data.nodeFactory.create('node', 'none'));
      }
    }
    if (n === 2) {
      childNodes.splice(1, 2);
    }
  }
}

/**
 * The configuration for the mathtools package
 */
export const MathtoolsConfiguration = Configuration.create(
  'mathtools', {
    handler: {
      macro: ['mathtools-macros', 'mathtools-delimiters'],
      environment: ['mathtools-environments'],
      delimiter: ['mathtools-delimiters'],
      character: ['mathtools-characters']
    },
    items: {
      [MultlinedItem.prototype.kind]: MultlinedItem
    },
    init: initMathtools,
    config: configMathtools,
    postprocessors: [[fixPrescripts, -6]],
    options: {
      mathtools: {
        'multlinegap': '1em',                   // horizontal space for multlined environments
        'multlined-pos': 'c',                   // default alignment for multlined environments
        'firstline-afterskip': '',              // space for first line of multlined (overrides multlinegap)
        'lastline-preskip': '',                 // space for last line of multlined (overrides multlinegap)
        'smallmatrix-align': 'c',               // default alignment for smallmatrix environments
        'shortvdotsadjustabove': '.2em',        // space to remove above \shortvdots
        'shortvdotsadjustbelow': '.2em',        // space to remove below \shortvdots
        'centercolon': false,                   // true to have colon automatically centered
        'centercolon-offset': '.04em',          // vertical adjustment for centered colons
        'thincolon-dx': '-.04em',               // horizontal adjustment for thin colons (e.g., \coloneqq)
        'thincolon-dw': '-.08em',               // width adjustment for thin colons
        'use-unicode': false,                   // true to use unicode characters rather than multi-character
                                                //   version for \coloneqq, etc., when possible
        'prescript-sub-format': '',             // format for \prescript subscript
        'prescript-sup-format': '',             // format for \prescript superscript
        'prescript-arg-format': '',             // format for \prescript base
        'allow-mathtoolsset': true,             // true to allow \mathtoolsset to change settings
        pairedDelimiters: expandable({}),       // predefined paired delimiters
                                                //     name: [left, right, body, argcount, pre, post]
        tagforms: expandable({}),               // tag form definitions
                                                //     name: [left, right, format]
       }
    }
  }
);
</t>
<t tx="ekr.20211016054411.1505">


/**
 * @fileoverview    Implementation of items for the mathtools package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import {MultlineItem} from '../ams/AmsItems.js';
import NodeUtil from '../NodeUtil.js';
import {TexConstant} from '../TexConstants.js';


/**
 * The StackItem for the multlined environment
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1506">export class MultlinedItem extends MultlineItem {

  /**
   * @override
   */
  get kind() {
    return 'multlined';
  }


  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1507">public EndTable() {
  if (this.Size() || this.row.length) {
    this.EndEntry();
    this.EndRow();
  }
  if (this.table.length &gt; 1) {
    const options = this.factory.configuration.options.mathtools;
    const gap = options.multlinegap;
    const firstskip = options['firstline-afterskip'] || gap;
    const lastskip = options['lastline-preskip'] || gap;
    const first = NodeUtil.getChildren(this.table[0])[0];
    if (NodeUtil.getAttribute(first, 'columnalign') !== TexConstant.Align.RIGHT) {
      first.appendChild(this.create('node', 'mspace', [], {width: firstskip}));
    }
    const last = NodeUtil.getChildren(this.table[this.table.length - 1])[0];
    if (NodeUtil.getAttribute(last, 'columnalign') !== TexConstant.Align.LEFT) {
      const top = NodeUtil.getChildren(last)[0];
      top.childNodes.unshift(null);
      const space = this.create('node', 'mspace', [], {width: lastskip});
      NodeUtil.setChild(top, 0, space);
    }
  }
  super.EndTable.call(this);
}

</t>
<t tx="ekr.20211016054411.1508">


/**
 * @fileoverview    Macro and environment mappings for the mathtools package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import ParseMethods from '../ParseMethods.js';
import {CommandMap, EnvironmentMap, DelimiterMap} from '../SymbolMap.js';
import {TexConstant} from '../TexConstants.js';

import {MathtoolsMethods} from './MathtoolsMethods.js';

//
//  Mathtools macros that are not implemented:
//
//    \smashoperator[pos]{operator with limits}
//    \SwapAboveDisplaySkip
//    \noeqref{label,label,. . . }
//    \intertext{text }
//    \shortintertext{text }
//    \reDeclarePairedDelimiterInnerWrapper{macro name}{star or nostarnonscaled or nostarscaled}{code}
//    \DeclareMathSizes{dimen}{dimen}{dimen}{dimen}
//    \newgathered{name}{pre_line}{post_line}{after}
//    \renewgathered{name}{pre_line}{post_line}{after}
//

/**
 * The macros for this package.
 */
new CommandMap('mathtools-macros', {

  shoveleft:  ['HandleShove', TexConstant.Align.LEFT],    // override AMS version
  shoveright: ['HandleShove', TexConstant.Align.RIGHT],   // override AMS version

  xleftrightarrow:    ['xArrow', 0x2194, 10, 10],
  xLeftarrow:         ['xArrow', 0x21D0, 12, 7],
  xRightarrow:        ['xArrow', 0x21D2, 7, 12],
  xLeftrightarrow:    ['xArrow', 0x21D4, 12, 12],
  xhookleftarrow:     ['xArrow', 0x21A9, 10, 5],
  xhookrightarrow:    ['xArrow', 0x21AA, 5, 10],
  xmapsto:            ['xArrow', 0x21A6, 10, 10],
  xrightharpoondown:  ['xArrow', 0x21C1, 5, 10],
  xleftharpoondown:   ['xArrow', 0x21BD, 10, 5],
  xrightleftharpoons: ['xArrow', 0x21CC, 10, 10],
  xrightharpoonup:    ['xArrow', 0x21C0, 5, 10],
  xleftharpoonup:     ['xArrow', 0x21BC, 10, 5],
  xleftrightharpoons: ['xArrow', 0x21CB, 10, 10],

  mathllap: ['MathLap', 'l', false],
  mathrlap: ['MathLap', 'r', false],
  mathclap: ['MathLap', 'c', false],
  clap:     ['MtLap', 'c'],
  textllap: ['MtLap', 'l'],
  textrlap: ['MtLap', 'r'],
  textclap: ['MtLap', 'c'],

  cramped: 'Cramped',
  crampedllap: ['MathLap', 'l', true],
  crampedrlap: ['MathLap', 'r', true],
  crampedclap: ['MathLap', 'c', true],
  crampedsubstack: ['Macro', '\\begin{crampedsubarray}{c}#1\\end{crampedsubarray}', 1],

  mathmbox:    'MathMBox',
  mathmakebox: 'MathMakeBox',

  overbracket:  'UnderOverBracket',
  underbracket: 'UnderOverBracket',

  refeq: 'HandleRef',

  MoveEqLeft: ['Macro', '\\hspace{#1em}&amp;\\hspace{-#1em}', 1, '2'],
  Aboxed: 'Aboxed',

  ArrowBetweenLines: 'ArrowBetweenLines',
  vdotswithin: 'VDotsWithin',
  shortvdotswithin: 'ShortVDotsWithin',
  MTFlushSpaceAbove: 'FlushSpaceAbove',
  MTFlushSpaceBelow: 'FlushSpaceBelow',

  DeclarePairedDelimiters:    'DeclarePairedDelimiters',
  DeclarePairedDelimitersX:   'DeclarePairedDelimitersX',
  DeclarePairedDelimitersXPP: 'DeclarePairedDelimitersXPP',

  centercolon: ['CenterColon', true, true],
  ordinarycolon: ['CenterColon', false],
  MTThinColon: ['CenterColon', true, true, true],

  coloneqq:    ['Relation', ':=', '\u2254'],
  Coloneqq:    ['Relation', '::=', '\u2A74'],
  coloneq:     ['Relation', ':-'],
  Coloneq:     ['Relation', '::-'],
  eqqcolon:    ['Relation', '=:', '\u2255'],
  Eqqcolon:    ['Relation', '=::'],
  eqcolon:     ['Relation', '-:', '\u2239'],
  Eqcolon:     ['Relation', '-::'],
  colonapprox: ['Relation', ':\\approx'],
  Colonapprox: ['Relation', '::\\approx'],
  colonsim:    ['Relation', ':\\sim'],
  Colonsim:    ['Relation', '::\\sim'],
  dblcolon:    ['Relation', '::', '\u2237'],

  nuparrow:   ['NArrow', '\u2191', '.06em'],
  ndownarrow: ['NArrow', '\u2193', '.25em'],
  bigtimes:   ['Macro', '\\mathop{\\Large\\kern-.1em\\boldsymbol{\\times}\\kern-.1em}'],

  splitfrac:  ['SplitFrac', false],
  splitdfrac: ['SplitFrac', true],

  xmathstrut: 'XMathStrut',

  prescript: 'Prescript',

  newtagform: ['NewTagForm', false],
  renewtagform: ['NewTagForm', true],
  usetagform: 'UseTagForm',

  adjustlimits: [
    'MacroWithTemplate',
    '\\mathop{{#1}\\vphantom{{#3}}}_{{#2}\\vphantom{{#4}}}\\mathop{{#3}\\vphantom{{#1}}}_{{#4}\\vphantom{{#2}}}',
    4, , '_', , '_'
  ],

  mathtoolsset: 'SetOptions'

}, MathtoolsMethods);

/**
 *  The environments for this package.
 */
new EnvironmentMap('mathtools-environments', ParseMethods.environment, {
  dcases:  ['Array', null, '\\{', '', 'll', null, '.2em', 'D'],
  rcases:  ['Array', null, '', '\\}', 'll', null, '.2em'],
  drcases: ['Array', null, '', '\\}', 'll', null, '.2em', 'D'],
  'dcases*':  ['Cases', null, '{', '', 'D'],
  'rcases*':  ['Cases', null, '', '}'],
  'drcases*': ['Cases', null, '', '}', 'D'],
  'cases*':   ['Cases', null, '{', ''],

  'matrix*':  ['MtMatrix', null, null, null],
  'pmatrix*': ['MtMatrix', null, '(', ')'],
  'bmatrix*': ['MtMatrix', null, '[', ']'],
  'Bmatrix*': ['MtMatrix', null, '\\{', '\\}'],
  'vmatrix*': ['MtMatrix', null, '\\vert', '\\vert'],
  'Vmatrix*': ['MtMatrix', null, '\\Vert', '\\Vert'],

  'smallmatrix*':  ['MtSmallMatrix', null, null, null],
  psmallmatrix:    ['MtSmallMatrix', null, '(', ')', 'c'],
  'psmallmatrix*': ['MtSmallMatrix', null, '(', ')'],
  bsmallmatrix:    ['MtSmallMatrix', null, '[', ']', 'c'],
  'bsmallmatrix*': ['MtSmallMatrix', null, '[', ']'],
  Bsmallmatrix:    ['MtSmallMatrix', null, '\\{', '\\}', 'c'],
  'Bsmallmatrix*': ['MtSmallMatrix', null, '\\{', '\\}'],
  vsmallmatrix:    ['MtSmallMatrix', null, '\\vert', '\\vert', 'c'],
  'vsmallmatrix*': ['MtSmallMatrix', null, '\\vert', '\\vert'],
  Vsmallmatrix:    ['MtSmallMatrix', null, '\\Vert', '\\Vert', 'c'],
  'Vsmallmatrix*': ['MtSmallMatrix', null, '\\Vert', '\\Vert'],

  crampedsubarray: ['Array', null, null, null, null, '0em', '0.1em', 'S\'', 1],

  multlined: 'MtMultlined',

  spreadlines: ['SpreadLines', true],

  lgathered: ['AmsEqnArray', null, null, null, 'l', null, '.5em', 'D'],
  rgathered: ['AmsEqnArray', null, null, null, 'r', null, '.5em', 'D'],

}, MathtoolsMethods);

/**
 * The delimiters for this package.
 */
new DelimiterMap('mathtools-delimiters', ParseMethods.delimiter, {
  '\\lparen': '(',
  '\\rparen': ')'
});

/**
 * The special characters for this package.
 */
new CommandMap('mathtools-characters', {
  ':' : ['CenterColon', true]
}, MathtoolsMethods);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1509">


/**
 * @fileoverview    Macro and environment implementations for the mathtools package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */


import {ArrayItem, EqnArrayItem} from '../base/BaseItems.js';
import {StackItem} from '../StackItem.js';
import ParseUtil from '../ParseUtil.js';
import {ParseMethod, ParseResult} from '../Types.js';
import {AmsMethods} from '../ams/AmsMethods.js';
import BaseMethods from '../base/BaseMethods.js';
import TexParser from '../TexParser.js';
import TexError from '../TexError.js';
import NodeUtil from '../NodeUtil.js';
import {TEXCLASS} from '../../../core/MmlTree/MmlNode.js';
import {length2em, em} from '../../../util/lengths.js';
import {lookup} from '../../../util/Options.js';
import NewcommandUtil from '../newcommand/NewcommandUtil.js';
import NewcommandMethods from '../newcommand/NewcommandMethods.js';

import {MathtoolsTags} from './MathtoolsTags.js';
import {MathtoolsUtil} from './MathtoolsUtil.js';

/**
 * The implementations for the macros and environments for the mathtools package.
 */
export const MathtoolsMethods: Record&lt;string, ParseMethod&gt; = {

  /**
   * Handle a mathtools matrix environment, with optional alignment.
   *
   * @param {TexParser} parser   The active tex parser.
   * @param {StackItem} begin    The BeginItem for the environment.
   * @param {string} open        The open delimiter for the matrix.
   * @param {string} close       The close delimiter for the matrix.
   * @return {ParserResult}      The ArrayItem for the matrix.
   */
  MtMatrix(parser: TexParser, begin: StackItem, open: string, close: string): ParseResult {
    const align = parser.GetBrackets(`\\begin{${begin.getName()}}`, 'c');
    return MathtoolsMethods.Array(parser, begin, open, close, align);
  },

  /**
   * Create a smallmatrix with given delimiters, and with optional alignment (and settable default)
   *
   * @param {TexParser} parser   The active tex parser.
   * @param {StackItem} begin    The BeginItem for the environment.
   * @param {string} open        The open delimiter for the matrix.
   * @param {string} close       The close delimiter for the matrix.
   * @param {string} align       The (optional) alignment.  If not given, use a bracket argument for it.
   * @return {ParseResult}       The ArrayItem for the matrix.
   */
  MtSmallMatrix(parser: TexParser, begin: StackItem, open: string, close: string, align?: string): ParseResult {
    if (!align) {
      align = parser.GetBrackets(`\\begin{${begin.getName()}}`, parser.options.mathtools['smallmatrix-align']);
    }
    return MathtoolsMethods.Array(
      parser, begin, open, close, align, ParseUtil.Em(1 / 3), '.2em', 'S', 1
    );
  },

  /**
   * Create the multlined StackItem.
   *
   * @param {TexParser} parser   The active tex parser.
   * @param {StackItem} begin    The BeginItem for the environment.
   * @return {ParseResult}       The MultlinedItem.
   */
  MtMultlined(parser: TexParser, begin: StackItem): ParseResult {
    const name = `\\begin{${begin.getName()}}`;
    let pos = parser.GetBrackets(name, parser.options.mathtools['multlined-pos'] || 'c');
    let width = pos ? parser.GetBrackets(name, '') : '';
    if (pos &amp;&amp; !pos.match(/^[cbt]$/)) {
      [width, pos] = [pos, width];
    }
    parser.Push(begin);
    const item = parser.itemFactory.create('multlined', parser, begin) as ArrayItem;
    item.arraydef = {
      displaystyle: true,
      rowspacing: '.5em',
      width: width || 'auto',
      columnwidth: '100%',
    };
    return ParseUtil.setArrayAlign(item as ArrayItem, pos || 'c');
  },

  /**
   * Replacement for the AMS HandleShove that includes optional spacing values
   *
   * @param {TexParser} parser   The active tex parser.
   * @param {string} name        The name of the calling macro.
   * @param {string} shove       Which way to shove the result.
   */
  HandleShove(parser: TexParser, name: string, shove: string) {
    let top = parser.stack.Top();
    if (top.kind !== 'multline' &amp;&amp; top.kind !== 'multlined') {
      throw new TexError(
        'CommandInMultlined',
        '%1 can only appear within the multline or multlined environments',
        name);
    }
    if (top.Size()) {
      throw new TexError(
        'CommandAtTheBeginingOfLine',
        '%1 must come at the beginning of the line',
        name);
    }
    top.setProperty('shove', shove);
    let shift = parser.GetBrackets(name);
    let mml = parser.ParseArg(name);
    if (shift) {
      let mrow = parser.create('node', 'mrow', []);
      let mspace = parser.create('node', 'mspace', [], {width: shift});
      if (shove === 'left') {
        mrow.appendChild(mspace);
        mrow.appendChild(mml);
      } else {
        mrow.appendChild(mml);
        mrow.appendChild(mspace);
      }
      mml = mrow;
    }
    parser.Push(mml);
  },

  /**
   * Handle the spreadlines environment.
   *
   * @param {TexParser} parser   The active tex parser.
   * @param {StackItem} begin    The BeginItem for the environment.
   */
  SpreadLines(parser: TexParser, begin: StackItem) {
    if (parser.stack.env.closing === begin.getName()) {
      //
      //  When the environment ends, look through the contents and
      //  adjust the spacing in any tables, then push the results.
      //
      delete parser.stack.env.closing;
      const top = parser.stack.Pop();
      const mml = top.toMml();
      const spread = top.getProperty('spread') as string;
      if (mml.isInferred) {
        for (const child of NodeUtil.getChildren(mml)) {
          MathtoolsUtil.spreadLines(child, spread);
        }
      } else {
        MathtoolsUtil.spreadLines(mml, spread);
      }
      parser.Push(mml);
    } else {
      //
      //  Read the spread dimension and save it, then begin the environment.
      //
      const spread = parser.GetDimen(`\\begin{${begin.getName()}}`);
      begin.setProperty('spread', spread);
      parser.Push(begin);
    }
  },

  /**
   * Implements the various cases environments.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {StackItem} begin    The BeginItem for the environment.
   * @param {string} open        The open delimiter for the matrix.
   * @param {string} close       The close delimiter for the matrix.
   * @param {string} style       The style (D, T, S, SS) for the contents of the array
   * @return {ArrayItem}         The ArrayItem for the environment
   */
  Cases(parser: TexParser, begin: StackItem, open: string, close: string, style: string): ArrayItem {
    const array = parser.itemFactory.create('array').setProperty('casesEnv', begin.getName()) as ArrayItem;
    array.arraydef = {
      rowspacing: '.2em',
      columnspacing: '1em',
      columnalign: 'left'
    };
    if (style === 'D') {
      array.arraydef.displaystyle = true;
    }
    array.setProperties({open, close});
    parser.Push(begin);
    return array;
  },

  /**
   * Handle \mathrlap, \mathllap, \mathclap, and their cramped versions.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   * @param {string} pos         The position (l, c, r) of the lapped content
   * @param {boolean} cramped    True if the style should be cramped
   */
  MathLap(parser: TexParser, name: string, pos: string, cramped: boolean) {
    const style = parser.GetBrackets(name, '').trim();
    let mml = parser.create('node', 'mstyle', [
      parser.create('node', 'mpadded', [parser.ParseArg(name)], {
        width: 0, ...(pos === 'r' ? {} : {lspace: (pos === 'l' ? '-1width' : '-.5width')})
      })
    ], {'data-cramped': cramped});
    MathtoolsUtil.setDisplayLevel(mml, style);
    parser.Push(parser.create('node', 'TeXAtom', [mml]));
  },

  /**
   * Implements \cramped.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  Cramped(parser: TexParser, name: string) {
    const style = parser.GetBrackets(name, '').trim();
    const arg = parser.ParseArg(name);
    const mml = parser.create('node', 'mstyle', [arg], {'data-cramped': true});
    MathtoolsUtil.setDisplayLevel(mml, style);
    parser.Push(mml);
  },

  /**
   * Implements \clap (and could do \llap and \rlap, where the contents are text mode).
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   * @param {string} pos         The position (l, c, r) of the lapped content
   */
  MtLap(parser: TexParser, name: string, pos: string) {
    const content = ParseUtil.internalMath(parser, parser.GetArgument(name), 0);
    let mml = parser.create('node', 'mpadded', content, {width: 0});
    if (pos !== 'r') {
      NodeUtil.setAttribute(mml, 'lspace', pos === 'l' ? '-1width' : '-.5width');
    }
    parser.Push(mml);
  },

  /**
   * Implements \mathmakebox.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  MathMakeBox(parser: TexParser, name: string) {
    const width = parser.GetBrackets(name);
    const pos = parser.GetBrackets(name, 'c');
    const mml = parser.create('node', 'mpadded', [parser.ParseArg(name)]);
    if (width) {
      NodeUtil.setAttribute(mml, 'width', width);
    }
    const align = lookup(pos, {c: 'center', r: 'right'}, '');
    if (align) {
      NodeUtil.setAttribute(mml, 'data-align', align);
    }
    parser.Push(mml);
  },

  /**
   * Implements \mathmbox.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  MathMBox(parser: TexParser, name: string) {
    parser.Push(parser.create('node', 'mrow', [parser.ParseArg(name)]));
  },

  /**
   * Implements \underbacket and \overbracket.
   * (Currently only works in CHTML, since we don't yet handle styles properly in SVG.
   *  This includes a workaround oin CHTML to the fact that the border size is not
   *  part of MathJax's bbox computations yet.  That will need to be removed when
   *  we handle borders properly.)
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  UnderOverBracket(parser: TexParser, name: string) {
    const thickness = length2em(parser.GetBrackets(name, '.1em'), .1);
    const height = parser.GetBrackets(name, '.2em');
    const arg = parser.GetArgument(name);
    const [pos, accent, border, side] = (
      name.charAt(1) === 'o' ?
        ['over', 'accent', 'bottom', 'height'] :
        ['under', 'accentunder', 'top', 'depth']
    );
    const t = em(thickness);
    const t2 = em(2 * thickness);
    const base = new TexParser(arg, parser.stack.env, parser.configuration).mml();
    const copy = new TexParser(arg, parser.stack.env, parser.configuration).mml();
    const script = parser.create('node', 'mpadded', [
      parser.create('node', 'mpadded', [
        parser.create('node', 'mphantom', [copy])
      ], {
        style: `border: ${t} solid; border-${border}: none`,
        width: `-${t2}`,
        height: height,
        depth: 0
      })
    ], {
      width: `+${t2}`,
      [side]: `+${t}`
    });
    const node = ParseUtil.underOver(parser, base, script, pos, true);
    const munderover = NodeUtil.getChildAt(NodeUtil.getChildAt(node, 0), 0);  // TeXAtom.inferredMrow child 0
    NodeUtil.setAttribute(munderover, accent, true);
    parser.Push(node);
  },

  /**
   * Implements \Aboxed.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  Aboxed(parser: TexParser, name: string) {
    //
    //  Check that the top item is an alignment, and that we are on an even number of cells
    //  (othewise add one to make it even).
    //
    const top = MathtoolsUtil.checkAlignment(parser, name);
    if (top.row.length % 2 === 1) {
      top.row.push(parser.create('node', 'mtd', []));
    }
    //
    //  Get the argument and the rest of the TeX string.
    //
    const arg = parser.GetArgument(name);
    const rest = parser.string.substr(parser.i);
    //
    //  Put the argument back, followed by "&amp;&amp;", and a marker that we look for below.
    //
    parser.string = arg + '&amp;&amp;\\endAboxed';
    parser.i = 0;
    //
    //  Get the two parts separated by ampersands, and ignore the rest.
    //
    const left = parser.GetUpTo(name, '&amp;');
    const right = parser.GetUpTo(name, '&amp;');
    parser.GetUpTo(name, '\\endAboxed');
    //
    //  Insert the TeX needed for the boxed content
    //
    const tex = ParseUtil.substituteArgs(
      parser, [left, right], '\\rlap{\\boxed{#1{}#2}}\\kern.267em\\phantom{#1}&amp;\\phantom{{}#2}\\kern.267em'
    );
    parser.string = tex + rest;
    parser.i = 0;
  },

  /**
   * Implements \ArrowBetweenLines.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  ArrowBetweenLines(parser: TexParser, name: string) {
    const top = MathtoolsUtil.checkAlignment(parser, name);
    if (top.Size() || top.row.length) {
      throw new TexError('BetweenLines', '%1 must be on a row by itself', name);
    }
    const star = parser.GetStar();
    const symbol = parser.GetBrackets(name, '\\Updownarrow');
    if (star) {
      top.EndEntry();
      top.EndEntry();
    }
    const tex = (star ? '\\quad' + symbol : symbol + '\\quad');
    const mml = new TexParser(tex, parser.stack.env, parser.configuration).mml();
    parser.Push(mml);
    top.EndEntry();
    top.EndRow();
  },

  /**
   * Implements \vdotswithin.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  VDotsWithin(parser: TexParser, name: string) {
    const top = parser.stack.Top() as EqnArrayItem;
    const isFlush = (top.getProperty('flushspaceabove') === top.table.length);
    const arg = '\\mmlToken{mi}{}' + parser.GetArgument(name) + '\\mmlToken{mi}{}';
    const base = new TexParser(arg, parser.stack.env, parser.configuration).mml();
    let mml = parser.create('node', 'mpadded', [
      parser.create('node', 'mpadded', [
        parser.create('node', 'mo', [
          parser.create('text', '\u22EE')
        ])
      ], {
        width: 0,
        lspace: '-.5width', ...(isFlush ? {height: '-.6em', voffset: '-.18em'} : {})
      }),
      parser.create('node', 'mphantom', [base])
    ], {
      lspace: '.5width'
    });
    parser.Push(mml);
  },

  /**
   * Implements \shortvdotswithin.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  ShortVDotsWithin(parser: TexParser, _name: string) {
    const top = parser.stack.Top() as EqnArrayItem;
    const star = parser.GetStar();
    MathtoolsMethods.FlushSpaceAbove(parser, '\\MTFlushSpaceAbove');
    !star &amp;&amp; top.EndEntry();
    MathtoolsMethods.VDotsWithin(parser, '\\vdotswithin');
    star &amp;&amp; top.EndEntry();
    MathtoolsMethods.FlushSpaceBelow(parser, '\\MTFlushSpaceBelow');
  },

  /**
   * Implements \MTFlushSpaceAbove.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  FlushSpaceAbove(parser: TexParser, name: string) {
    const top = MathtoolsUtil.checkAlignment(parser, name);
    top.setProperty('flushspaceabove', top.table.length);  // marker so \vdotswithin can shorten its height
    top.addRowSpacing('-' + parser.options.mathtools['shortvdotsadjustabove']);
  },

  /**
   * Implements \MTFlushSpaceBelow.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  FlushSpaceBelow(parser: TexParser, name: string) {
    const top = MathtoolsUtil.checkAlignment(parser, name);
    top.Size() &amp;&amp; top.EndEntry();
    top.EndRow();
    top.addRowSpacing('-' + parser.options.mathtools['shortvdotsadjustbelow']);
  },

  /**
   * Implements a paired delimiter (e.g., from \DeclarePairedDelimiter).
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   * @param {string} open        The open delimiter.
   * @param {string} close       The close delimiter.
   * @param {string?} body       The body betweeen the delimiters.
   * @param {number?} n          The number of arguments to use for the body.
   * @param {string?} pre        The TeX to go before the open delimiter.
   * @param {string?} post       The TeX to go after the close delimiter.
   */
  PairedDelimiters(parser: TexParser, name: string,
                   open: string, close: string,
                   body: string = '#1', n: number = 1,
                   pre: string = '',  post: string = '') {
    const star = parser.GetStar();
    const size = (star ? '' : parser.GetBrackets(name));
    const [left, right] = (star ? ['\\left', '\\right'] : size ? [size + 'l' , size + 'r'] : ['', '']);
    const delim = (star ? '\\middle' : size || '');
    if (n) {
      const args: string[] = [];
      for (let i = args.length; i &lt; n; i++) {
        args.push(parser.GetArgument(name));
      }
      body = ParseUtil.substituteArgs(parser, args, body);
    }
    body = body.replace(/\\delimsize/g, delim);
    parser.string = [pre, left, open, body, right, close, post, parser.string.substr(parser.i)]
      .reduce((s, part) =&gt; ParseUtil.addArgs(parser, s, part), '');
    parser.i = 0;
    ParseUtil.checkMaxMacros(parser);
  },

  /**
   * Implements \DeclarePairedDelimiters.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  DeclarePairedDelimiters(parser: TexParser, name: string) {
    const cs = NewcommandUtil.GetCsNameArgument(parser, name);
    const open = parser.GetArgument(name);
    const close = parser.GetArgument(name);
    MathtoolsUtil.addPairedDelims(parser.configuration, cs, [open, close]);
  },

  /**
   * Implements \DeclarePairedDelimitersX.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  DeclarePairedDelimitersX(parser: TexParser, name: string) {
    const cs = NewcommandUtil.GetCsNameArgument(parser, name);
    const n = NewcommandUtil.GetArgCount(parser, name);
    const open = parser.GetArgument(name);
    const close = parser.GetArgument(name);
    const body = parser.GetArgument(name);
    MathtoolsUtil.addPairedDelims(parser.configuration, cs, [open, close, body, n]);
  },

  /**
   * Implements \DeclarePairedDelimitersXPP.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  DeclarePairedDelimitersXPP(parser: TexParser, name: string) {
    const cs = NewcommandUtil.GetCsNameArgument(parser, name);
    const n = NewcommandUtil.GetArgCount(parser, name);
    const pre = parser.GetArgument(name);
    const open = parser.GetArgument(name);
    const close = parser.GetArgument(name);
    const post = parser.GetArgument(name);
    const body = parser.GetArgument(name);
    MathtoolsUtil.addPairedDelims(parser.configuration, cs, [open, close, body, n, pre, post]);
  },

  /**
   * Implements \centeredcolon, \ordinarycolon, \MTThinColon.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   * @param {boolean} center     True if colon should be centered
   * @param {boolean} force      True menas always center (don't use centercolon option).
   * @param {boolean} thin       True if this is a thin color (for \coloneqq, etc).
   */
  CenterColon(parser: TexParser, _name: string, center: boolean, force: boolean = false, thin: boolean = false) {
    const options = parser.options.mathtools;
    let mml = parser.create('token', 'mo', {}, ':');
    if (center &amp;&amp; (options['centercolon'] || force)) {
      const dy = options['centercolon-offset'];
      mml = parser.create('node', 'mpadded', [mml], {
        voffset: dy, height: `+${dy}`, depth: `-${dy}`,
          ...(thin ? {width: options['thincolon-dw'], lspace: options['thincolon-dx']} : {})
      });
    }
    parser.Push(mml);
  },

  /**
   * Implements \coloneqq and related macros.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   * @param {string} tex         The tex string to use (if not using unicode versions or if there isn't one).
   * @param {string} unicode     The unicode character (if there is one).
   */
  Relation(parser: TexParser, _name: string, tex: string, unicode?: string) {
    const options = parser.options.mathtools;
    if (options['use-unicode'] &amp;&amp; unicode) {
      parser.Push(parser.create('token', 'mo', {texClass: TEXCLASS.REL}, unicode));
    } else {
      tex = '\\mathrel{' + tex.replace(/:/g, '\\MTThinColon').replace(/-/g, '\\mathrel{-}') + '}';
      parser.string = ParseUtil.addArgs(parser, tex, parser.string.substr(parser.i));
      parser.i = 0;
    }
  },

  /**
   * Implements \ndownarrow and \nuparrow via a terrible hack (visual only, no chance of this working with SRE).
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   * @param {string} c           The base arrow for the slashed version
   * @param {string} dy          A vertical offset for the slash
   */
  NArrow(parser: TexParser, _name: string, c: string, dy: string) {
    parser.Push(
      parser.create('node', 'TeXAtom', [
        parser.create('token', 'mtext', {}, c),
        parser.create('node', 'mpadded', [
          parser.create('node', 'mpadded', [
            parser.create('node', 'menclose', [
              parser.create('node', 'mspace', [], {height: '.2em', depth: 0, width: '.4em'})
            ], {notation: 'updiagonalstrike', 'data-thickness': '.05em', 'data-padding': 0})
          ], {width: 0, lspace: '-.5width', voffset: dy}),
          parser.create('node', 'mphantom', [
            parser.create('token', 'mtext', {}, c)
          ])
        ], {width: 0, lspace: '-.5width'})
      ], {texClass: TEXCLASS.REL})
    );
  },

  /**
   * Implements \splitfrac and \splitdfrac.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   * @param {boolean} display    True if \splitdfrac.
   */
  SplitFrac(parser: TexParser, name: string, display: boolean) {
    const num = parser.ParseArg(name);
    const den = parser.ParseArg(name);
    parser.Push(
      parser.create('node', 'mstyle', [
        parser.create('node', 'mfrac', [
          parser.create('node', 'mstyle', [
            num,
            parser.create('token', 'mi'),
            parser.create('token', 'mspace', {width: '1em'}) // no parameter for this in mathtools.  Should we add one?
          ], {scriptlevel: 0}),
          parser.create('node', 'mstyle', [
            parser.create('token', 'mspace', {width: '1em'}),
            parser.create('token', 'mi'),
            den
          ], {scriptlevel: 0})
        ], {linethickness: 0, numalign: 'left', denomalign: 'right'})
      ], {displaystyle: display, scriptlevel: 0})
    );
  },

  /**
   * Implements \xmathstrut.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  XMathStrut(parser: TexParser, name: string) {
    let dd = parser.GetBrackets(name);
    let dh = parser.GetArgument(name);
    dh = MathtoolsUtil.plusOrMinus(name, dh);
    dd = MathtoolsUtil.plusOrMinus(name, dd || dh);
    parser.Push(
      parser.create('node', 'TeXAtom', [
        parser.create('node', 'mpadded', [
          parser.create('node', 'mphantom', [
            parser.create('token', 'mo', {stretchy: false}, '(')
          ])
        ], {width: 0, height: dh + 'height', depth: dd + 'depth'})
      ], {texClass: TEXCLASS.ORD})
    );
  },

  /**
   * Implements \prescript.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  Prescript(parser: TexParser, name: string) {
    const sup = MathtoolsUtil.getScript(parser, name, 'sup');
    const sub = MathtoolsUtil.getScript(parser, name, 'sub');
    const base = MathtoolsUtil.getScript(parser, name, 'arg');
    if (NodeUtil.isType(sup, 'none') &amp;&amp; NodeUtil.isType(sub, 'none')) {
      parser.Push(base);
      return;
    }
    const mml = parser.create('node', 'mmultiscripts', [base]);
    NodeUtil.getChildren(mml).push(null, null);
    NodeUtil.appendChildren(mml, [parser.create('node', 'mprescripts'), sub, sup]);
    mml.setProperty('fixPrescript', true);
    parser.Push(mml);
  },

  /**
   * Implements \newtagform and \renewtagform.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   * @param {boolean=} renew     True if \renewtagform.
   */
  NewTagForm(parser: TexParser, name: string, renew: boolean = false) {
    const tags = parser.tags as MathtoolsTags;
    if (!('mtFormats' in tags)) {
      throw new TexError('TagsNotMT', '%1 can only be used with ams or mathtools tags', name);
    }
    const id = parser.GetArgument(name).trim();
    if (!id) {
      throw new TexError('InvalidTagFormID', 'Tag form name can\'t be empty');
    }
    const format = parser.GetBrackets(name, '');
    const left = parser.GetArgument(name);
    const right = parser.GetArgument(name);
    if (!renew &amp;&amp; tags.mtFormats.has(id)) {
      throw new TexError('DuplicateTagForm', 'Duplicate tag form: %1', id);
    }
    tags.mtFormats.set(id, [left, right, format]);
  },

  /**
   * Implements \usetagform.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  UseTagForm(parser: TexParser, name: string) {
    const tags = parser.tags as MathtoolsTags;
    if (!('mtFormats' in tags)) {
      throw new TexError('TagsNotMT', '%1 can only be used with ams or mathtools tags', name);
    }
    const id = parser.GetArgument(name).trim();
    if (!id) {
      tags.mtCurrent = null;
      return;
    }
    if (!tags.mtFormats.has(id)) {
      throw new TexError('UndefinedTagForm', 'Undefined tag form: %1', id);
    }
    tags.mtCurrent = tags.mtFormats.get(id);
  },

  /**
   * Implements \mathtoolsset.
   *
   * @param {TexParser} parser   The calling parser.
   * @param {string} name        The macro name.
   */
  SetOptions(parser: TexParser, name: string) {
    const options = parser.options.mathtools;
    if (!options['allow-mathtoolsset']) {
      throw new TexError('ForbiddenMathtoolsSet', '%1 is disabled', name);
    }
    const allowed = {} as {[id: string]: number};
    Object.keys(options).forEach(id =&gt; {
      if (id !== 'pariedDelimiters' &amp;&amp; id !== 'tagforms' &amp;&amp; id !== 'allow-mathtoolsset') {
        allowed[id] = 1;
      }
    });
    const args = parser.GetArgument(name);
    const keys = ParseUtil.keyvalOptions(args, allowed, true);
    for (const id of Object.keys(keys)) {
      options[id] = keys[id];
    }
  },

  /**
   * Use the Base or AMS methods for these
   */
  Array:  BaseMethods.Array,
  Macro:  BaseMethods.Macro,
  xArrow:      AmsMethods.xArrow,
  HandleRef:   AmsMethods.HandleRef,
  AmsEqnArray: AmsMethods.AmsEqnArray,
  MacroWithTemplate: NewcommandMethods.MacroWithTemplate,

};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.151">
import './lib/unicode.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1510">


/**
 * @fileoverview    Tags implementation for the mathtools package.
 *
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import TexError from '../TexError.js';
import {ParserConfiguration} from '../Configuration.js';
import {TeX} from '../../tex.js';
import {AbstractTags, TagsFactory} from '../Tags.js';


/**
 * The type for the Mathtools tags (including their data).
 */
export type MathtoolsTags = AbstractTags &amp; {
  mtFormats: Map&lt;string, [string, string, string]&gt;;  // name -&gt; [left, right, format]
  mtCurrent: [string, string, string];               // [left, right, format]
};

/**
 * The ID number for the current tag class
 */
let tagID = 0;

/**
 * Creates and registers a subclass of the currently configured tag class
 * that handles the formats created by the \newtagform macro.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1511">export function MathtoolsTagFormat(config: ParserConfiguration, jax: TeX&lt;any, any, any&gt;) {
  /**
   * If the tag format is being added by one of the other extensions,
   *   as is done for the 'ams' tags, make sure it is defined so we can create it.
   */
  const tags = jax.parseOptions.options.tags;
  if (tags !== 'base' &amp;&amp; config.tags.hasOwnProperty(tags)) {
    TagsFactory.add(tags, config.tags[tags]);
  }

  /**
   * The original tag class to be extended (none, ams, or all)
   */
  const TagClass = TagsFactory.create(jax.parseOptions.options.tags).constructor as typeof AbstractTags;

  /**
   * A Tags object that uses \newtagform to define the formatting
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1512">class TagFormat extends TagClass {

  /**
   * The defined tag formats
   */
  public mtFormats: Map&lt;string, [string, string, string]&gt; = new Map();

  /**
   * The format currently in use ([left, right, format]), or null for using the default
   */
  public mtCurrent: [string, string, string] = null;

  /**
   * @override
   * @constructor
   */
  @others
}

//
//  Get a unique name for the tag class (since it is tied to the input jax)
//  Note:  These never get freed, so they will accumulate if you create many
//  TeX input jax instances with this extension.
//
tagID++;
const tagName = 'MathtoolsTags-' + tagID;
//
// Register the tag class
//
TagsFactory.add(tagName, TagFormat);
jax.parseOptions.options.tags = tagName;
</t>
<t tx="ekr.20211016054411.1513">constructor() {
  super();
  const forms = jax.parseOptions.options.mathtools.tagforms;
  for (const form of Object.keys(forms)) {
    if (!Array.isArray(forms[form]) || forms[form].length !== 3) {
      throw new TexError('InvalidTagFormDef',
                         'The tag form definition for "%1" should be an array fo three strings', form);
    }
    this.mtFormats.set(form, forms[form]);
  }
}

</t>
<t tx="ekr.20211016054411.1514">/**
 * @override
 */
public formatTag(tag: string) {
  if (this.mtCurrent) {
    const [left, right, format] = this.mtCurrent;
    return (format ? `${left}${format}{${tag}}${right}` : `${left}${tag}${right}`);
  }
  return super.formatTag(tag);
}
</t>
<t tx="ekr.20211016054411.1515">


/**
 * @fileoverview    Utility functions for the mathtools package.
 *
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import {EqnArrayItem} from '../base/BaseItems.js';
import ParseUtil from '../ParseUtil.js';
import TexParser from '../TexParser.js';
import TexError from '../TexError.js';
import {CommandMap} from '../SymbolMap.js';
import {Macro} from '../Symbol.js';
import ParseOptions from '../ParseOptions.js';
import {lookup} from '../../../util/Options.js';
import {MmlNode} from '../../../core/MmlTree/MmlNode.js';

import {MathtoolsMethods} from './MathtoolsMethods.js';
import {PAIREDDELIMS} from './MathtoolsConfiguration.js';

/**
 * Utility functions for the Mathtools package.
 */
export const MathtoolsUtil = {

  /**
   * Set the displaystyle and scriptlevel attributes of an mstyle element
   *
   * @param {MmlNode} mml     The mstyle node to modify.
   * @param {string} style    The TeX style macro to apply.
   */
  setDisplayLevel(mml: MmlNode, style: string) {
    if (!style) return;
    const [display, script] = lookup(style, {
      '\\displaystyle':      [true, 0],
      '\\textstyle':         [false, 0],
      '\\scriptstyle':       [false, 1],
      '\\scriptscriptstyle': [false, 2]
    }, [null, null]);
    if (display !== null) {
      mml.attributes.set('displaystyle', display);
      mml.attributes.set('scriptlevel', script);
    }
  },

  /**
   * Check that the top stack item is an alignment table.
   *
   * @param {TexParser} parser   The current TeX parser.
   * @param {string} name        The name of the macro doing the checking.
   * @return {EqnArrayItem}      The top item (an EqnArrayItem).
   */
  checkAlignment(parser: TexParser, name: string): EqnArrayItem {
    const top = parser.stack.Top() as EqnArrayItem;
    if (top.kind !== EqnArrayItem.prototype.kind) {
      throw new TexError('NotInAlignment', '%1 can only be used in aligment environments', name);
    }
    return top;
  },

  /**
   * Add a paired delimiter to the list of them.
   *
   * @param {ParseOptions} config   The parse options to modify.
   * @param {string} cs             The control sequence for the paired delimiters.
   * @param {string[]} args         The definition for the paired delimiters.  One of:
   *                                   [left, right]
   *                                   [left, right, body, argcount]
   *                                   [left, right, body, argcount, pre, post]
   */
  addPairedDelims(config: ParseOptions, cs: string, args: string[]) {
    const delims = config.handlers.retrieve(PAIREDDELIMS) as CommandMap;
    delims.add(cs, new Macro(cs, MathtoolsMethods.PairedDelimiters, args));
  },

  /**
   * Adjust the line spacing for a table.
   *
   * @param {MmlNode} mtable   The mtable node to adjust (if it is a table).
   * @param {string} spread    The dimension to change by (number-with-units).
   */
  spreadLines(mtable: MmlNode, spread: string) {
    if (!mtable.isKind('mtable')) return;
    let rowspacing = mtable.attributes.get('rowspacing') as string;
    if (rowspacing) {
      const add = ParseUtil.dimen2em(spread);
      rowspacing = rowspacing
        .split(/ /)
        .map(s =&gt; ParseUtil.Em(Math.max(0, ParseUtil.dimen2em(s) + add)))
        .join(' ');
    } else {
      rowspacing = spread;
    }
    mtable.attributes.set('rowspacing', rowspacing);
  },

  /**
   * Check if a string is a number and return it with an explicit plus if there isn't one.
   *
   * @param {string} name   The name of the macro doing the checking.
   * @param {string} n      The string to test as a number.
   * @return {srtring}      The number with an explicit sign.
   */
  plusOrMinus(name: string, n: string): string {
    n = n.trim();
    if (!n.match(/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)$/)) {
      throw new TexError('NotANumber', 'Argument to %1 is not a number', name);
    }
    return (n.match(/^[-+]/) ? n : '+' + n);
  },

  /**
   * Parse a \prescript argument, with its associated format, if any.
   *
   * @param {TexParser} parser   The active tex parser.
   * @param {string} name        The name of the calling macro (\prescript).
   * @param {string} pos         The position for the argument (sub, sup, arg).
   * @return {MmlNode}           The parsed MML version of the argument.
   */
  getScript(parser: TexParser, name: string, pos: string): MmlNode {
    let arg = ParseUtil.trimSpaces(parser.GetArgument(name));
    if (arg === '') {
      return parser.create('node', 'none');
    }
    const format = parser.options.mathtools[`prescript-${pos}-format`];
    format &amp;&amp; (arg = `${format}{${arg}}`);
    return new TexParser(arg, parser.stack.env, parser.configuration).mml();
  }

};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1516"></t>
<t tx="ekr.20211016054411.1517">



/**
 * @fileoverview Configuration file for the mhchem package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import {CommandMap} from '../SymbolMap.js';
import {ParseMethod} from '../Types.js';
import TexError from '../TexError.js';
import TexParser from '../TexParser.js';
import BaseMethods from '../base/BaseMethods.js';
import {AmsMethods} from '../ams/AmsMethods.js';
import {mhchemParser} from 'mhchemparser/dist/mhchemParser.js';

// Namespace
let MhchemMethods: Record&lt;string, ParseMethod&gt; = {};

MhchemMethods.Macro = BaseMethods.Macro;
MhchemMethods.xArrow = AmsMethods.xArrow;

/**
 * @param{TeXParser} parser   The parser for this expression
 * @param{string} name        The macro name being called
 * @param{string} machine     The name of the fininte-state machine to use
 */
MhchemMethods.Machine = function(parser: TexParser, name: string, machine: 'tex' | 'ce' | 'pu') {
  try {
    let arg = parser.GetArgument(name);
    let tex = mhchemParser.toTex(arg, machine);
    parser.string = tex + parser.string.substr(parser.i);
    parser.i = 0;
  } catch (err) {
    throw new TexError(err[0], err[1], err.slice(2));
  }
};

new CommandMap(
  'mhchem', {
    ce: ['Machine', 'ce'],
    pu: ['Machine', 'pu'],
    longrightleftharpoons: [
      'Macro',
      '\\stackrel{\\textstyle{-}\\!\\!{\\rightharpoonup}}{\\smash{{\\leftharpoondown}\\!\\!{-}}}'
    ],
    longRightleftharpoons: [
      'Macro',
      '\\stackrel{\\textstyle{-}\\!\\!{\\rightharpoonup}}{\\smash{\\leftharpoondown}}'
    ],
    longLeftrightharpoons: [
      'Macro',
      '\\stackrel{\\textstyle\\vphantom{{-}}{\\rightharpoonup}}{\\smash{{\\leftharpoondown}\\!\\!{-}}}'
    ],
    longleftrightarrows: [
      'Macro',
      '\\stackrel{\\longrightarrow}{\\smash{\\longleftarrow}\\Rule{0px}{.25em}{0px}}'
    ],
    //
    //  Needed for \bond for the ~ forms
    //
    tripledash: [
      'Macro',
      '\\vphantom{-}\\raise2mu{\\kern2mu\\tiny\\text{-}\\kern1mu\\text{-}\\kern1mu\\text{-}\\kern2mu}'
    ],
    xleftrightarrow:    ['xArrow', 0x2194, 6, 6],
    xrightleftharpoons: ['xArrow', 0x21CC, 5, 7],   // FIXME:  doesn't stretch in HTML-CSS output
    xRightleftharpoons: ['xArrow', 0x21CC, 5, 7],   // FIXME:  how should this be handled?
    xLeftrightharpoons: ['xArrow', 0x21CC, 5, 7]
  },
  MhchemMethods
);


export const MhchemConfiguration = Configuration.create(
  'mhchem', {handler: {macro: ['mhchem']}}
);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1518"></t>
<t tx="ekr.20211016054411.1519">



/**
 * @fileoverview Configuration file for the Newcommand package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration, ParserConfiguration} from '../Configuration.js';
import {BeginEnvItem} from './NewcommandItems.js';
import NewcommandUtil from './NewcommandUtil.js';
import './NewcommandMappings.js';
import ParseMethods from '../ParseMethods.js';
import * as sm from '../SymbolMap.js';


/**
 * Init method for Newcommand package.
 * @param {Configuration} config The current configuration.
 */
let init = function(config: ParserConfiguration) {
  new sm.DelimiterMap(NewcommandUtil.NEW_DELIMITER,
                      ParseMethods.delimiter, {});
  new sm.CommandMap(NewcommandUtil.NEW_COMMAND, {}, {});
  new sm.EnvironmentMap(NewcommandUtil.NEW_ENVIRONMENT,
                        ParseMethods.environment, {}, {});
  config.append(Configuration.local(
    {handler: {character: [],
               delimiter: [NewcommandUtil.NEW_DELIMITER],
               macro: [NewcommandUtil.NEW_DELIMITER,
                       NewcommandUtil.NEW_COMMAND],
               environment: [NewcommandUtil.NEW_ENVIRONMENT]
              },
     priority: -1}));
};


export const NewcommandConfiguration = Configuration.create(
  'newcommand', {
    handler: {
      macro: ['Newcommand-macros']
    },
    items: {
      [BeginEnvItem.prototype.kind]: BeginEnvItem,
    },
    options: {maxMacros: 1000},
    init: init
  }
);


@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.152">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/unicode',     // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1520">



/**
 * @fileoverview Items for TeX parsing of new environments.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import TexError from '../TexError.js';
import {CheckType, BaseItem, StackItem} from '../StackItem.js';


/**
 * Opening Item dealing with definitions of new environments. It's pushed onto
 * the stack whenever a user defined environment is encountered and remains
 * until a corresponding \\end collapses the stack.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1521">export class BeginEnvItem extends BaseItem {

  /**
   * @override
   */
  public get kind() {
    return 'beginEnv';
  }


  /**
   * @override
   */
  get isOpen() {
    return true;
  }


  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1522">public checkItem(item: StackItem): CheckType {
  if (item.isKind('end')) {
    // @test Newenvironment Empty, Newenvironment Align
    if (item.getName() !== this.getName()) {
      // @test (missing) \newenvironment{env}{aa}{bb}\begin{env}cc\end{equation}
      throw new TexError('EnvBadEnd', '\\begin{%1} ended with \\end{%2}',
                          this.getName(), item.getName());
    }
    return [[this.factory.create('mml', this.toMml())], true];
  }
  if (item.isKind('stop')) {
    // @test (missing) \newenvironment{env}{aa}{bb}\begin{env}cc
    throw new TexError('EnvMissingEnd', 'Missing \\end{%1}', this.getName());
  }
  // @test Newenvironment Empty, Newenvironment Align
  return super.checkItem(item);
}

</t>
<t tx="ekr.20211016054411.1523">



/**
 * @fileoverview Mappings for TeX parsing for definitorial commands.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import NewcommandMethods from './NewcommandMethods.js';
import {CommandMap} from '../SymbolMap.js';


/**
 * Macros for newcommand etc.
 */
new CommandMap('Newcommand-macros', {
  newcommand:       'NewCommand',
  renewcommand:     'NewCommand',
  newenvironment:   'NewEnvironment',
  renewenvironment: 'NewEnvironment',
  def:              'MacroDef',
  'let':            'Let'
}, NewcommandMethods);


@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1524">



/**
 * @fileoverview Mappings for TeX parsing for definitorial commands.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import {ParseMethod} from '../Types.js';
import TexError from '../TexError.js';
import TexParser from '../TexParser.js';
import * as sm from '../SymbolMap.js';
import {Symbol, Macro} from '../Symbol.js';
import BaseMethods from '../base/BaseMethods.js';
import ParseUtil from '../ParseUtil.js';
import {StackItem} from '../StackItem.js';
import NewcommandUtil from './NewcommandUtil.js';


// Namespace
let NewcommandMethods: Record&lt;string, ParseMethod&gt; = {};

/**
 * Implements \newcommand{\name}[n][default]{...}
 * @param {TexParser} parser The calling parser.
 * @param {string} name The name of the calling command.
 */
NewcommandMethods.NewCommand = function(parser: TexParser, name: string) {
  // @test Newcommand Simple
  let cs = NewcommandUtil.GetCsNameArgument(parser, name);
  let n = NewcommandUtil.GetArgCount(parser, name);
  let opt = parser.GetBrackets(name);
  let def = parser.GetArgument(name);
  NewcommandUtil.addMacro(parser, cs, NewcommandMethods.Macro, [def, n, opt]);
};


/**
 * Implements \newenvironment{name}[n][default]{begincmd}{endcmd}
 * @param {TexParser} parser The calling parser.
 * @param {string} name The name of the calling command.
 */
NewcommandMethods.NewEnvironment = function(parser: TexParser, name: string) {
  // @test Newenvironment Empty, Newenvironment Content
  let env = ParseUtil.trimSpaces(parser.GetArgument(name));
  let n = NewcommandUtil.GetArgCount(parser, name);
  let opt = parser.GetBrackets(name);
  let bdef = parser.GetArgument(name);
  let edef = parser.GetArgument(name);
  NewcommandUtil.addEnvironment(parser, env, NewcommandMethods.BeginEnv, [true, bdef, edef, n, opt]);
};


/**
 * Implements \def command.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The name of the calling command.
 */
NewcommandMethods.MacroDef = function(parser: TexParser, name: string) {
  // @test Def DoubleLet, DefReDef
  let cs = NewcommandUtil.GetCSname(parser, name);
  let params = NewcommandUtil.GetTemplate(parser, name, '\\' + cs);
  let def = parser.GetArgument(name);
  !(params instanceof Array) ?
    // @test Def DoubleLet, DefReDef
    NewcommandUtil.addMacro(parser, cs, NewcommandMethods.Macro, [def, params]) :
    // @test Def Let
    NewcommandUtil.addMacro(parser, cs, NewcommandMethods.MacroWithTemplate, [def].concat(params));
};


/**
 * Implements the \let command.
 *
 * All \let commands create either new delimiters or macros in the extension
 * maps. In the latter case if the let binds a symbol we have to generate a
 * macro with the appropriate parse methods from the SymbolMap. Otherwise we
 * simply copy the macro under a new name.
 *
 * Let does not always work on special characters as TeX does.  For example
 * "\let\car^ a\car b" will yield a superscript, on the otherhand
 * \let\bgroup={ is possible and will work fine in \bgroup a } but will fail
 * in \sqrt\bgroup a}.
 *
 * @param {TexParser} parser The calling parser.
 * @param {string} name The name of the calling command.
 */
NewcommandMethods.Let = function(parser: TexParser, name: string) {
  const cs = NewcommandUtil.GetCSname(parser, name);
  let c = parser.GetNext();
  // @test Let Bar, Let Caret
  if (c === '=') {
    // @test Let Brace Equal, Let Brace Equal Stretchy
    parser.i++;
    c = parser.GetNext();
  }
  const handlers = parser.configuration.handlers;
  if (c === '\\') {
    // @test Let Bar, Let Brace Equal Stretchy
    name = NewcommandUtil.GetCSname(parser, name);
    let macro = handlers.get('delimiter').lookup('\\' + name) as Symbol;
    if (macro) {
      // @test Let Bar, Let Brace Equal Stretchy
      NewcommandUtil.addDelimiter(parser, '\\' + cs, macro.char, macro.attributes);
      return;
    }
    const map = handlers.get('macro').applicable(name);
    if (!map) {
      // @test Let Undefined CS
      return;
    }
    if (map instanceof sm.MacroMap) {
      // @test Def Let, Newcommand Let
      const macro = (map as sm.CommandMap).lookup(name) as Macro;
      NewcommandUtil.addMacro(parser, cs, macro.func, macro.args, macro.symbol);
      return;
    }
    macro = (map as sm.CharacterMap).lookup(name) as Symbol;
    const newArgs = NewcommandUtil.disassembleSymbol(cs, macro);
    const method = (p: TexParser, _cs: string, ...rest: any[]) =&gt; {
      // @test Let Relet, Let Let, Let Circular Macro
      const symb = NewcommandUtil.assembleSymbol(rest);
      return map.parser(p, symb);
    };
    NewcommandUtil.addMacro(parser, cs, method, newArgs);
    return;
  }
  // @test Let Brace Equal, Let Caret
  parser.i++;
  const macro = handlers.get('delimiter').lookup(c) as Symbol;
  if (macro) {
    // @test Let Paren Delim, Let Paren Stretchy
    NewcommandUtil.addDelimiter(parser, '\\' + cs, macro.char, macro.attributes);
    return;
  }
  // @test Let Brace Equal, Let Caret
  NewcommandUtil.addMacro(parser, cs, NewcommandMethods.Macro, [c]);
};


/**
 * Process a macro with a parameter template by replacing parameters in the
 * parser's string.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The name of the calling command.
 * @param {string} text The text template of the macro.
 * @param {string} n The number of parameters.
 * @param {string[]} ...params The parameter values.
 */
NewcommandMethods.MacroWithTemplate = function (parser: TexParser, name: string,
                                                text: string, n: string,
                                                ...params: string[]) {
  const argCount = parseInt(n, 10);
  // @test Def Let
  if (argCount) {
    // @test Def Let
    let args = [];
    parser.GetNext();
    if (params[0] &amp;&amp; !NewcommandUtil.MatchParam(parser, params[0])) {
      // @test Missing Arguments
      throw new TexError('MismatchUseDef',
                          'Use of %1 doesn\'t match its definition', name);
    }
    for (let i = 0; i &lt; argCount; i++) {
      // @test Def Let
      args.push(NewcommandUtil.GetParameter(parser, name, params[i + 1]));
    }
    text = ParseUtil.substituteArgs(parser, args, text);
  }
  parser.string = ParseUtil.addArgs(parser, text,
                                    parser.string.slice(parser.i));
  parser.i = 0;
  ParseUtil.checkMaxMacros(parser);
};


/**
 * Process a user-defined environment.
 * @param {TexParser} parser The calling parser.
 * @param {StackItem} begin The begin stackitem.
 * @param {string} bdef The begin definition in the newenvironment macro.
 * @param {string} edef The end definition in the newenvironment macro.
 * @param {number} n The number of parameters.
 * @param {string} def Default for an optional parameter.
 */
NewcommandMethods.BeginEnv = function(parser: TexParser, begin: StackItem,
                                      bdef: string, edef: string, n: number, def: string) {
  // @test Newenvironment Empty, Newenvironment Content
  // We have an end item, and we are supposed to close this environment.
  if (begin.getProperty('end') &amp;&amp; parser.stack.env['closing'] === begin.getName()) {
    // @test Newenvironment Empty, Newenvironment Content
    delete parser.stack.env['closing'];
    // Parse the commands in the end environment definition.
    let rest = parser.string.slice(parser.i);
    parser.string = edef;
    parser.i = 0;
    parser.Parse();
    // Reset to parsing the remainder of the expression.
    parser.string = rest;
    parser.i = 0;
    // Close this environment.
    return parser.itemFactory.create('end').setProperty('name', begin.getName());
  }
  if (n) {
    // @test Newenvironment Optional, Newenvironment Arg Optional
    let args: string[] = [];
    if (def != null) {
      // @test Newenvironment Optional, Newenvironment Arg Optional
      let optional = parser.GetBrackets('\\begin{' + begin.getName() + '}');
      args.push(optional == null ? def : optional);
    }
    for (let i = args.length; i &lt; n; i++) {
      // @test Newenvironment Arg Optional
      args.push(parser.GetArgument('\\begin{' + begin.getName() + '}'));
    }
    bdef = ParseUtil.substituteArgs(parser, args, bdef);
    edef = ParseUtil.substituteArgs(parser, [], edef); // no args, but get errors for #n in edef
  }
  parser.string = ParseUtil.addArgs(parser, bdef,
                                    parser.string.slice(parser.i));
  parser.i = 0;
  return parser.itemFactory.create('beginEnv').setProperty('name', begin.getName());
};

NewcommandMethods.Macro = BaseMethods.Macro;

export default NewcommandMethods;
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1525">



/**
 * @fileoverview Utility functions for the newcommand package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import ParseUtil from '../ParseUtil.js';
import TexError from '../TexError.js';
import TexParser from '../TexParser.js';
import {Macro, Symbol} from '../Symbol.js';
import {Args, Attributes, ParseMethod} from '../Types.js';
import * as sm from '../SymbolMap.js';


namespace NewcommandUtil {

  /**
   * Transforms the attributes of a symbol into the arguments of a macro. E.g.,
   * Symbol('ell', 'l', {mathvariant: "italic"}) is turned into Macro arguments:
   * ['ell', 'l', 'mathvariant', 'italic'].
   *
   * @param {string} name The command name for the symbol.
   * @param {Symbol} symbol The symbol associated with name.
   * @return {Args[]} Arguments for a macro.
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1526">export function disassembleSymbol(name: string, symbol: Symbol): Args[] {
  let newArgs = [name, symbol.char] as Args[];
  // @test Let Relet, Let Let, Let Circular Macro
  if (symbol.attributes) {
    // @test Let Relet
    for (let key in symbol.attributes) {
      newArgs.push(key);
      newArgs.push(symbol.attributes[key] as Args);
    }
  }
  return newArgs;
}


</t>
<t tx="ekr.20211016054411.1527">/**
 * Assembles a symbol from a list of macro arguments. This is the inverse
 * method of the one above.
 *
 * @param {Args[]} args The arguments of the macro.
 * @return {Symbol} The Symbol generated from the arguments..
 */
export function assembleSymbol(args: Args[]): Symbol {
  // @test Let Relet, Let Let, Let Circular Macro
  let name = args[0] as string;
  let char = args[1] as string;
  let attrs: Attributes = {};
  for (let i = 2; i &lt; args.length; i = i + 2) {
    // @test Let Relet
    attrs[args[i] as string] = args[i + 1];
  }
  return new Symbol(name, char, attrs);
}

</t>
<t tx="ekr.20211016054411.1528">/**
 * Get the next CS name or give an error.
 * @param {TexParser} parser The calling parser.
 * @param {string} cmd The string starting with a control sequence.
 * @return {string} The control sequence.
 */
export function GetCSname(parser: TexParser, cmd: string): string {
  // @test Def ReDef, Let Bar, Let Brace Equal
  let c = parser.GetNext();
  if (c !== '\\') {
    // @test No CS
    throw new TexError('MissingCS',
                        '%1 must be followed by a control sequence', cmd);
  }
  let cs = ParseUtil.trimSpaces(parser.GetArgument(cmd));
  return cs.substr(1);
}

</t>
<t tx="ekr.20211016054411.1529">/**
 * Get a control sequence name as an argument (doesn't require the backslash)
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro that is getting the name.
 * @return {string} The control sequence.
 */
export function GetCsNameArgument(parser: TexParser, name: string): string {
  let cs = ParseUtil.trimSpaces(parser.GetArgument(name));
  if (cs.charAt(0) === '\\') {
    // @test Newcommand Simple
    cs = cs.substr(1);
  }
  if (!cs.match(/^(.|[a-z]+)$/i)) {
    // @test Illegal CS
    throw new TexError('IllegalControlSequenceName',
                       'Illegal control sequence name for %1', name);
  }
  return cs;
}

</t>
<t tx="ekr.20211016054411.153"></t>
<t tx="ekr.20211016054411.1530">/**
 * Get the number of arguments for a macro definition
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro that is getting the argument count.
 * @return {string} The number of arguments (or blank).
 */
export function GetArgCount(parser: TexParser, name: string): string {
  let n = parser.GetBrackets(name);
  if (n) {
    // @test Newcommand Optional, Newcommand Arg, Newcommand Arg Optional
    // @test Newenvironment Optional, Newenvironment Arg Optional
    n = ParseUtil.trimSpaces(n);
    if (!n.match(/^[0-9]+$/)) {
      // @test Illegal Argument Number
      throw new TexError('IllegalParamNumber',
                         'Illegal number of parameters specified in %1', name);
    }
  }
  return n;
}

</t>
<t tx="ekr.20211016054411.1531">/**
 * Get a \def parameter template.
 * @param {TexParser} parser The calling parser.
 * @param {string} cmd The string starting with the template.
 * @param {string} cs The control sequence of the \def.
 * @return {number | string[]} The number of parameters or a string array if
 *     there is an optional argument.
 */
export function GetTemplate(parser: TexParser, cmd: string, cs: string): number | string[] {
  // @test Def Double Let, Def ReDef, Def Let
  let c = parser.GetNext();
  let params: string[] = [];
  let n = 0;
  let i = parser.i;
  while (parser.i &lt; parser.string.length) {
    c = parser.GetNext();
    if (c === '#') {
      // @test Def ReDef, Def Let, Def Optional Brace
      if (i !== parser.i) {
        // @test Def Let, Def Optional Brace
        params[n] = parser.string.substr(i, parser.i - i);
      }
      c = parser.string.charAt(++parser.i);
      if (!c.match(/^[1-9]$/)) {
        // @test Illegal Hash
        throw new TexError('CantUseHash2',
                            'Illegal use of # in template for %1', cs);
      }
      if (parseInt(c) !== ++n) {
        // @test No Sequence
        throw new TexError('SequentialParam',
                            'Parameters for %1 must be numbered sequentially', cs);
      }
      i = parser.i + 1;
    } else if (c === '{') {
      // @test Def Double Let, Def ReDef, Def Let
      if (i !== parser.i) {
        // @test Optional Brace Error
        params[n] = parser.string.substr(i, parser.i - i);
      }
      if (params.length &gt; 0) {
        // @test Def Let, Def Optional Brace
        return [n.toString()].concat(params);
      } else {
        // @test Def Double Let, Def ReDef
        return n;
      }
    }
    parser.i++;
  }
  // @test No Replacement
  throw new TexError('MissingReplacementString',
                      'Missing replacement string for definition of %1', cmd);
}


</t>
<t tx="ekr.20211016054411.1532">/**
 * Find a single parameter delimited by a trailing template.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The name of the calling command.
 * @param {string} param The parameter for the macro.
 */
export function GetParameter(parser: TexParser, name: string, param: string) {
  if (param == null) {
    // @test Def Let, Def Optional Brace, Def Options CS
    return parser.GetArgument(name);
  }
  let i = parser.i;
  let j = 0;
  let hasBraces = 0;
  while (parser.i &lt; parser.string.length) {
    let c = parser.string.charAt(parser.i);
    // @test Def Let, Def Optional Brace, Def Options CS
    if (c === '{') {
      // @test Def Optional Brace, Def Options CS
      if (parser.i === i) {
        // @test Def Optional Brace
        hasBraces = 1;
      }
      parser.GetArgument(name);
      j = parser.i - i;
    } else if (MatchParam(parser, param)) {
      // @test Def Let, Def Optional Brace, Def Options CS
      if (hasBraces) {
        // @test Def Optional Brace
        i++;
        j -= 2;
      }
      return parser.string.substr(i, j);
    } else if (c === '\\') {
      // @test Def Options CS
      parser.i++;
      j++;
      hasBraces = 0;
      let match = parser.string.substr(parser.i).match(/[a-z]+|./i);
      if (match) {
        // @test Def Options CS
        parser.i += match[0].length;
        j = parser.i - i;
      }
    } else {
      // @test Def Let
      parser.i++;
      j++;
      hasBraces = 0;
    }
  }
  // @test Runaway Argument
  throw new TexError('RunawayArgument', 'Runaway argument for %1?', name);
}


</t>
<t tx="ekr.20211016054411.1533">/**
 * Check if a template is at the current location.
 * (The match must be exact, with no spacing differences. TeX is
 *  a little more forgiving than this about spaces after macro names)
 * @param {TexParser} parser The calling parser.
 * @param {string} param Tries to match an optional parameter.
 * @return {number} The number of optional parameters, either 0 or 1.
 */
export function MatchParam(parser: TexParser, param: string): number {
  // @test Def Let, Def Optional Brace, Def Options CS
  if (parser.string.substr(parser.i, param.length) !== param) {
    // @test Def Let, Def Options CS
    return 0;
  }
  if (param.match(/\\[a-z]+$/i) &amp;&amp;
      parser.string.charAt(parser.i + param.length).match(/[a-z]/i)) {
    // @test (missing)
    return 0;
  }
  // @test Def Let, Def Optional Brace, Def Options CS
  parser.i += param.length;
  return 1;
}


</t>
<t tx="ekr.20211016054411.1534">/**
 * Adds a new delimiter as extension to the parser.
 * @param {TexParser} parser The current parser.
 * @param {string} cs The control sequence of the delimiter.
 * @param {string} char The corresponding character.
 * @param {Attributes} attr The attributes needed for parsing.
 */
export function addDelimiter(parser: TexParser, cs: string, char: string, attr: Attributes) {
  const handlers = parser.configuration.handlers;
  const handler = handlers.retrieve(NEW_DELIMITER) as sm.DelimiterMap;
  handler.add(cs, new Symbol(cs, char, attr));
}

/**
 * Adds a new macro as extension to the parser.
 * @param {TexParser} parser The current parser.
 * @param {string} cs The control sequence of the delimiter.
 * @param {ParseMethod} func The parse method for this macro.
 * @param {Args[]} attr The attributes needed for parsing.
 * @param {string=} symbol Optionally original symbol for macro, in case it is
 *     different from the control sequence.
 */
export function addMacro(parser: TexParser, cs: string, func: ParseMethod, attr: Args[],
                         symbol: string = '') {
  const handlers = parser.configuration.handlers;
  const handler = handlers.retrieve(NEW_COMMAND) as sm.CommandMap;
  handler.add(cs, new Macro(symbol ? symbol : cs, func, attr));
}


</t>
<t tx="ekr.20211016054411.1535">/**
 * Adds a new environment as extension to the parser.
 * @param {TexParser} parser The current parser.
 * @param {string} env The environment name.
 * @param {ParseMethod} func The parse method for this macro.
 * @param {Args[]} attr The attributes needed for parsing.
 */
  export function addEnvironment(parser: TexParser, env: string, func: ParseMethod, attr: Args[]) {
    const handlers = parser.configuration.handlers;
    const handler = handlers.retrieve(NEW_ENVIRONMENT) as sm.EnvironmentMap;
    handler.add(env, new Macro(env, func, attr));
  }

  /**
   * Naming constants for the extension mappings.
   */
  export const NEW_DELIMITER = 'new-Delimiter';
  export const NEW_COMMAND = 'new-Command';
  export const NEW_ENVIRONMENT = 'new-Environment';

}

export default NewcommandUtil;
</t>
<t tx="ekr.20211016054411.1536"></t>
<t tx="ekr.20211016054411.1537">



/**
 * @fileoverview Configuration file for the NoErrors package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import {NodeFactory} from '../NodeFactory.js';

/**
 * Generates an error node containing the erroneous expression.
 * @param {TexParser} parser The node factory.
 * @param {string} message The error message (which is ignored).
 * @param {string} id The error id (which is ignored).
 * @param {string} expr The original LaTeX expression.
 */
function noErrors(factory: NodeFactory,
                  message: string, _id: string, expr: string) {
  let mtext = factory.create('token', 'mtext', {}, expr.replace(/\n/g, ' '));
  let error = factory.create('node', 'merror', [mtext], {'data-mjx-error': message, title: message});
  return error;
}

export const NoErrorsConfiguration = Configuration.create(
  'noerrors', {nodes: {'error': noErrors}}
);


@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1538"></t>
<t tx="ekr.20211016054411.1539">



/**
 * @fileoverview Configuration file for the AMS package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import TexParser from '../TexParser.js';

/**
 * Generates a red version of the undefined control sequence, instead of
 * throwing an error.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.154">
import './lib/upgreek.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1540">function noUndefined(parser: TexParser, name: string) {
  const textNode = parser.create('text', '\\' + name);
  const options = parser.options.noundefined || {};
  const def = {} as {[name: string]: string};
  for (const id of ['color', 'background', 'size']) {
    if (options[id]) {
      def['math' + id] = options[id];
    }
  }
  parser.Push(parser.create('node', 'mtext', [], def, textNode));
}

export const NoUndefinedConfiguration = Configuration.create(
  'noundefined', {
    fallback: {macro: noUndefined},
    options: {
      noundefined: {
        color: 'red',
        background: '',
        size: ''
      }
    },
    priority: 3
  }
);


</t>
<t tx="ekr.20211016054411.1541"></t>
<t tx="ekr.20211016054411.1542">



/**
 * @fileoverview Configuration file for the Physics package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import {AutoOpen} from './PhysicsItems.js';
import './PhysicsMappings.js';


export const PhysicsConfiguration = Configuration.create(
  'physics', {
    handler: {
      macro: [
        'Physics-automatic-bracing-macros',
        'Physics-vector-macros',
        'Physics-vector-chars',
        'Physics-derivative-macros',
        'Physics-expressions-macros',
        'Physics-quick-quad-macros',
        'Physics-bra-ket-macros',
        'Physics-matrix-macros'
      ],
      character: ['Physics-characters'],
      environment: ['Physics-aux-envs']
    },
    items: {
      [AutoOpen.prototype.kind]: AutoOpen
    },
    options: {
      physics: {
        italicdiff: false,
        arrowdel: false
      }
    }
  }
);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1543">



/**
 * @fileoverview Stack items for the physics package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import {CheckType, BaseItem, StackItem} from '../StackItem.js';
import ParseUtil from '../ParseUtil.js';
import TexParser from '../TexParser.js';


@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1544">export class AutoOpen extends BaseItem {

  /**
   * @override
   */
  public get kind() {
    return 'auto open';
  }


  /**
   * @override
   */
  get isOpen() {
    return true;
  }


  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1545">public toMml() {
  // Smash and right/left
  let parser = this.factory.configuration.parser;
  let right = this.getProperty('right') as string;
  if (this.getProperty('smash')) {
    let mml = super.toMml();
    const smash = parser.create('node', 'mpadded', [mml],
                                {height: 0, depth: 0});
    this.Clear();
    this.Push(parser.create('node', 'TeXAtom', [smash]));
  }
  if (right) {
    this.Push(new TexParser(right, parser.stack.env,
                            parser.configuration).mml());
  }
  let mml = super.toMml();
  return ParseUtil.fenced(this.factory.configuration,
                          this.getProperty('open') as string,
                          mml,
                          this.getProperty('close') as string,
                          this.getProperty('big') as string);
}

</t>
<t tx="ekr.20211016054411.1546">/**
 * @override
 */
public checkItem(item: StackItem): CheckType {
  let close = item.getProperty('autoclose');
  if (close &amp;&amp; close === this.getProperty('close')) {
    if (this.getProperty('ignore')) {
      this.Clear();
      return [[], true];
    }
    return [[this.toMml()], true];
  }
  return super.checkItem(item);
}

</t>
<t tx="ekr.20211016054411.1547">



/**
 * @fileoverview Mappings for TeX parsing of the physics package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {EnvironmentMap, CommandMap, MacroMap, CharacterMap} from '../SymbolMap.js';
import PhysicsMethods from './PhysicsMethods.js';
import {TexConstant} from '../TexConstants.js';
import ParseMethods from '../ParseMethods.js';
import {TEXCLASS} from '../../../core/MmlTree/MmlNode.js';


/**
 * Macros for physics package (section 2.1).
 */
new CommandMap('Physics-automatic-bracing-macros', {
  'quantity':       'Quantity',
  'qty':            'Quantity',
  'pqty':           ['Quantity', '(', ')', true],
  'bqty':           ['Quantity', '[', ']', true],
  'vqty':           ['Quantity', '|', '|', true],
  'Bqty':           ['Quantity', '\\{', '\\}', true],
  'absolutevalue':  ['Quantity', '|', '|', true],
  'abs':            ['Quantity', '|', '|', true],
  'norm':           ['Quantity', '\\|', '\\|', true],
  'evaluated':      'Eval',
  'eval':           'Eval',
  'order':          ['Quantity', '(', ')', true, 'O',
                     TexConstant.Variant.CALLIGRAPHIC],
  'commutator':     'Commutator',
  'comm':           'Commutator',
  'anticommutator': ['Commutator', '\\{', '\\}'],
  'acomm':          ['Commutator', '\\{', '\\}'],
  'poissonbracket': ['Commutator', '\\{', '\\}'],
  'pb':             ['Commutator', '\\{', '\\}']
}, PhysicsMethods);


/**
 * Macros for physics package (section 2.2).
 */
new CharacterMap('Physics-vector-chars', ParseMethods.mathchar0mi, {
  dotproduct:    ['\u22C5', {mathvariant: TexConstant.Variant.BOLD}],
  vdot:          ['\u22C5', {mathvariant: TexConstant.Variant.BOLD}],
  crossproduct:  '\u00D7',
  cross:         '\u00D7',
  cp:            '\u00D7',
  // This is auxiliary!
  gradientnabla: ['\u2207', {mathvariant: TexConstant.Variant.BOLD}],
  real:          ['\u211C', {mathvariant: TexConstant.Variant.NORMAL}],
  imaginary:     ['\u2111', {mathvariant: TexConstant.Variant.NORMAL}]
});

new CommandMap('Physics-vector-macros', {
  'vnabla':      'Vnabla',
  'vectorbold':  'VectorBold',
  'vb':          'VectorBold',
  'vectorarrow': ['StarMacro', 1, '\\vec{\\vb', '{#1}}'],
  'va':          ['StarMacro', 1, '\\vec{\\vb', '{#1}}'],
  'vectorunit':  ['StarMacro', 1, '\\hat{\\vb', '{#1}}'],
  'vu':          ['StarMacro', 1, '\\hat{\\vb', '{#1}}'],
  'gradient':    ['OperatorApplication', '\\vnabla', '(', '['],
  'grad':        ['OperatorApplication', '\\vnabla', '(', '['],
  'divergence':  ['VectorOperator', '\\vnabla\\vdot', '(', '['],
  'div':         ['VectorOperator', '\\vnabla\\vdot', '(', '['],
  'curl':        ['VectorOperator', '\\vnabla\\crossproduct', '(', '['],
  'laplacian':   ['OperatorApplication', '\\nabla^2', '(', '['],
}, PhysicsMethods);


/**
 * Macros for physics package (section 2.3).
 */
new CommandMap('Physics-expressions-macros', {
  'sin':              'Expression',
  'sinh':             'Expression',
  'arcsin':           'Expression',
  'asin':             'Expression',
  'cos':              'Expression',
  'cosh':             'Expression',
  'arccos':           'Expression',
  'acos':             'Expression',
  'tan':              'Expression',
  'tanh':             'Expression',
  'arctan':           'Expression',
  'atan':             'Expression',
  'csc':              'Expression',
  'csch':             'Expression',
  'arccsc':           'Expression',
  'acsc':             'Expression',
  'sec':              'Expression',
  'sech':             'Expression',
  'arcsec':           'Expression',
  'asec':             'Expression',
  'cot':              'Expression',
  'coth':             'Expression',
  'arccot':           'Expression',
  'acot':             'Expression',
  'exp':              ['Expression', false],
  'log':              'Expression',
  'ln':               'Expression',
  'det':              ['Expression', false],
  'Pr':               ['Expression', false],
  // New expressions.
  'tr':               ['Expression', false],
  'trace':            ['Expression', false, 'tr'],
  'Tr':               ['Expression', false],
  'Trace':            ['Expression', false, 'Tr'],
  'rank':             'NamedFn',
  'erf':              ['Expression', false],
  'Residue':          ['Macro', '\\mathrm{Res}'],
  'Res':              ['OperatorApplication', '\\Residue', '(', '[', '{'],
  'principalvalue':   ['OperatorApplication', '{\\cal P}'],
  'pv':               ['OperatorApplication', '{\\cal P}'],
  'PV':               ['OperatorApplication', '{\\rm P.V.}'],
  'Re':               ['OperatorApplication', '\\mathrm{Re}', '{'],
  'Im':               ['OperatorApplication', '\\mathrm{Im}', '{'],
  // Old named functions.
  'sine':             ['NamedFn', 'sin'],
  'hypsine':          ['NamedFn', 'sinh'],
  'arcsine':          ['NamedFn', 'arcsin'],
  'asine':            ['NamedFn', 'asin'],
  'cosine':           ['NamedFn', 'cos'],
  'hypcosine':        ['NamedFn', 'cosh'],
  'arccosine':        ['NamedFn', 'arccos'],
  'acosine':          ['NamedFn', 'acos'],
  'tangent':          ['NamedFn', 'tan'],
  'hyptangent':       ['NamedFn', 'tanh'],
  'arctangent':       ['NamedFn', 'arctan'],
  'atangent':         ['NamedFn', 'atan'],
  'cosecant':         ['NamedFn', 'csc'],
  'hypcosecant':      ['NamedFn', 'csch'],
  'arccosecant':      ['NamedFn', 'arccsc'],
  'acosecant':        ['NamedFn', 'acsc'],
  'secant':           ['NamedFn', 'sec'],
  'hypsecant':        ['NamedFn', 'sech'],
  'arcsecant':        ['NamedFn', 'arcsec'],
  'asecant':          ['NamedFn', 'asec'],
  'cotangent':        ['NamedFn', 'cot'],
  'hypcotangent':     ['NamedFn', 'coth'],
  'arccotangent':     ['NamedFn', 'arccot'],
  'acotangent':       ['NamedFn', 'acot'],
  'exponential':      ['NamedFn', 'exp'],
  'logarithm':        ['NamedFn', 'log'],
  'naturallogarithm': ['NamedFn', 'ln'],
  'determinant':      ['NamedFn', 'det'],
  'Probability':      ['NamedFn', 'Pr'],
}, PhysicsMethods);


/**
 * Macros for physics package (section 2.4).
 */
new CommandMap('Physics-quick-quad-macros', {
  'qqtext':     'Qqtext',
  'qq':         'Qqtext',
  'qcomma':     ['Macro', '\\qqtext*{,}'],
  'qc':         ['Macro', '\\qqtext*{,}'],
  'qcc':        ['Qqtext', 'c.c.'],
  'qif':        ['Qqtext', 'if'],
  'qthen':      ['Qqtext', 'then'],
  'qelse':      ['Qqtext', 'else'],
  'qotherwise': ['Qqtext', 'otherwise'],
  'qunless':    ['Qqtext', 'unless'],
  'qgiven':     ['Qqtext', 'given'],
  'qusing':     ['Qqtext', 'using'],
  'qassume':    ['Qqtext', 'assume'],
  'qsince':     ['Qqtext', 'since'],
  'qlet':       ['Qqtext', 'let'],
  'qfor':       ['Qqtext', 'for'],
  'qall':       ['Qqtext', 'all'],
  'qeven':      ['Qqtext', 'even'],
  'qodd':       ['Qqtext', 'odd'],
  'qinteger':   ['Qqtext', 'integer'],
  'qand':       ['Qqtext', 'and'],
  'qor':        ['Qqtext', 'or'],
  'qas':        ['Qqtext', 'as'],
  'qin':        ['Qqtext', 'in'],
}, PhysicsMethods);


/**
 * Macros for physics package (section 2.5).
 */
new CommandMap('Physics-derivative-macros', {
  'diffd':                'DiffD',
  'flatfrac':             ['Macro', '\\left.#1\\middle/#2\\right.', 2],
  'differential':         ['Differential', '\\diffd'],
  'dd':                   ['Differential', '\\diffd'],
  'variation':            ['Differential', '\\delta'],
  'var':                  ['Differential', '\\delta'],
  'derivative':           ['Derivative', 2, '\\diffd'],
  'dv':                   ['Derivative', 2, '\\diffd'],
  'partialderivative':    ['Derivative', 3, '\\partial'],
  'pderivative':          ['Derivative', 3, '\\partial'],
  'pdv':                  ['Derivative', 3, '\\partial'],
  'functionalderivative': ['Derivative', 2, '\\delta'],
  'fderivative':          ['Derivative', 2, '\\delta'],
  'fdv':                  ['Derivative', 2, '\\delta'],
}, PhysicsMethods);


/**
 * Macros for physics package (section 2.6).
 */
new CommandMap('Physics-bra-ket-macros', {
  'bra':              'Bra',
  'ket':              'Ket',
  'innerproduct':     'BraKet',
  'ip':               'BraKet',
  'braket':           'BraKet',
  'outerproduct':     'KetBra',
  'dyad':             'KetBra',
  'ketbra':           'KetBra',
  'op':               'KetBra',
  'expectationvalue': 'Expectation',
  'expval':           'Expectation',
  'ev':               'Expectation',
  'matrixelement':    'MatrixElement',
  'matrixel':         'MatrixElement',
  'mel':              'MatrixElement',
}, PhysicsMethods);


/**
 * Macros for physics package (section 2.7).
 */
new CommandMap('Physics-matrix-macros', {
  'matrixquantity':      'MatrixQuantity',
  'mqty'          :      'MatrixQuantity',
  'pmqty':               ['Macro', '\\mqty(#1)', 1],
  'Pmqty':               ['Macro', '\\mqty*(#1)', 1],
  'bmqty':               ['Macro', '\\mqty[#1]', 1],
  'vmqty':               ['Macro', '\\mqty|#1|', 1],
  // Smallmatrices
  'smallmatrixquantity': ['MatrixQuantity', true],
  'smqty':               ['MatrixQuantity', true],
  'spmqty':              ['Macro', '\\smqty(#1)', 1],
  'sPmqty':              ['Macro', '\\smqty*(#1)', 1],
  'sbmqty':              ['Macro', '\\smqty[#1]', 1],
  'svmqty':              ['Macro', '\\smqty|#1|', 1],
  'matrixdeterminant':   ['Macro', '\\vmqty{#1}', 1],
  'mdet':                ['Macro', '\\vmqty{#1}', 1],
  'smdet':               ['Macro', '\\svmqty{#1}', 1],
  'identitymatrix':      'IdentityMatrix',
  'imat':                'IdentityMatrix',
  'xmatrix':             'XMatrix',
  'xmat':                'XMatrix',
  'zeromatrix':          ['Macro', '\\xmat{0}{#1}{#2}', 2],
  'zmat':                ['Macro', '\\xmat{0}{#1}{#2}', 2],
  'paulimatrix':         'PauliMatrix',
  'pmat':                'PauliMatrix',
  'diagonalmatrix': 'DiagonalMatrix',
  'dmat': 'DiagonalMatrix',
  'antidiagonalmatrix': ['DiagonalMatrix', true],
  'admat': ['DiagonalMatrix', true]
}, PhysicsMethods);



/**
 * Auxiliary environment map to define smallmatrix. This makes Physics
 * independent of AmsMath.
 */
new EnvironmentMap('Physics-aux-envs', ParseMethods.environment, {
  smallmatrix:   ['Array', null, null, null, 'c', '0.333em', '.2em', 'S', 1]
}, PhysicsMethods);


/**
 * Character map for braket package.
 */
new MacroMap('Physics-characters', {
  '|': ['AutoClose', TEXCLASS.ORD],   // texClass: TEXCLASS.ORD, // Have to push the closer as mml with special property
  ')': 'AutoClose',
  ']': 'AutoClose'
}, PhysicsMethods);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1548">



/**
 * @fileoverview Methods for TeX parsing of the physics package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {ParseMethod} from '../Types.js';
import BaseMethods from '../base/BaseMethods.js';
import TexParser from '../TexParser.js';
import TexError from '../TexError.js';
import {TEXCLASS, MmlNode} from '../../../core/MmlTree/MmlNode.js';
import ParseUtil from '../ParseUtil.js';
import NodeUtil from '../NodeUtil.js';
import {NodeFactory} from '../NodeFactory.js';
import {Macro} from '../Symbol.js';


let PhysicsMethods: Record&lt;string, ParseMethod&gt; = {};


/***********************
 * Physics package section 2.1
 * Automatic bracing
 */

/**
 * Pairs open and closed fences.
 * @type {{[fence: string]: string}}
 */
const pairs: {[fence: string]: string} = {
  '(': ')',
  '[': ']',
  '{': '}',
  '|': '|',
};


/**
 * Regular expression for matching big fence arguments.
 * @type {RegExp}
 */
const biggs: RegExp = /^(b|B)i(g{1,2})$/;


/**
 * Automatic sizing of fences, e.g., \\qty(x). Some with content.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string=} open Opening fence.
 * @param {string=} close Closing fence.
 * @param {boolean=} arg Fences contain an argument.
 * @param {string=} named Name operator.
 * @param {string=} variant A font for the mathvariant.
 */
PhysicsMethods.Quantity = function(parser: TexParser, name: string,
                                   open: string = '(', close: string = ')',
                                   arg: boolean = false, named: string = '',
                                   variant: string = '') {
  let star = arg ? parser.GetStar() : false;
  let next = parser.GetNext();
  let position = parser.i;
  let big = null;
  if (next === '\\') {
    parser.i++;
    big = parser.GetCS();
    if (!big.match(biggs)) {
      // empty
      let empty = parser.create('node', 'mrow');
      parser.Push(ParseUtil.fenced(parser.configuration, open, empty, close));
      parser.i = position;
      return;
    }
    next = parser.GetNext();
  }
  let right = pairs[next];
  if (arg &amp;&amp; next !== '{') {
    throw new TexError('MissingArgFor', 'Missing argument for %1', parser.currentCS);
  }
  if (!right) {
    let empty = parser.create('node', 'mrow');
    parser.Push(ParseUtil.fenced(parser.configuration, open, empty, close));
    parser.i = position;
    return;
  }
  // Get the fences
  if (named) {
    const mml = parser.create('token', 'mi', {texClass: TEXCLASS.OP}, named);
    if (variant) {
      NodeUtil.setAttribute(mml, 'mathvariant', variant);
    }
    parser.Push(parser.itemFactory.create('fn', mml));
  }
  if (next === '{') {
    let argument = parser.GetArgument(name);
    next = arg ? open : '\\{';
    right = arg ? close : '\\}';
    // TODO: Make all these fenced expressions.
    argument = star ? next + ' ' + argument + ' ' + right :
      (big ?
       '\\' + big + 'l' + next + ' ' + argument + ' ' + '\\' + big + 'r' + right :
       '\\left' + next + ' ' + argument + ' ' + '\\right' + right);
    parser.Push(new TexParser(argument, parser.stack.env,
                              parser.configuration).mml());
    return;
  }
  if (arg) {
    next = open;
    right = close;
  }
  parser.i++;
  parser.Push(parser.itemFactory.create('auto open')
              .setProperties({open: next, close: right, big: big}));
};


/**
 * The evaluate macro.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
PhysicsMethods.Eval = function(parser: TexParser, name: string) {
  let star = parser.GetStar();
  let next = parser.GetNext();
  if (next === '{') {
    let arg = parser.GetArgument(name);
    let replace = '\\left. ' +
      (star ? '\\smash{' + arg + '}' : arg) +
      ' ' + '\\vphantom{\\int}\\right|';
    parser.string = parser.string.slice(0, parser.i) + replace +
      parser.string.slice(parser.i);
    return;
  }
  if (next === '(' || next === '[') {
    parser.i++;
    parser.Push(parser.itemFactory.create('auto open')
                .setProperties(
                  {open: next, close: '|',
                   smash: star, right: '\\vphantom{\\int}'}));
    return;
  }
  throw new TexError('MissingArgFor', 'Missing argument for %1', parser.currentCS);
};


/**
 * The anti/commutator and poisson macros.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string=} open Opening fence.
 * @param {string=} close Closing fence.
 */
PhysicsMethods.Commutator = function(parser: TexParser, name: string,
                                     open: string = '[', close: string = ']') {
  let star = parser.GetStar();
  let next = parser.GetNext();
  let big = null;
  if (next === '\\') {
    parser.i++;
    big = parser.GetCS();
    if (!big.match(biggs)) {
      // Actually a commutator error arg1 error.
      throw new TexError('MissingArgFor', 'Missing argument for %1', parser.currentCS);
    }
    next = parser.GetNext();
  }
  if (next !== '{') {
    throw new TexError('MissingArgFor', 'Missing argument for %1', parser.currentCS);
  }
  let arg1 = parser.GetArgument(name);
  let arg2 = parser.GetArgument(name);
  let argument = arg1 + ',' + arg2;
  argument = star ? open + ' ' + argument + ' ' + close :
    (big ?
     '\\' + big + 'l' + open + ' ' + argument + ' ' + '\\' + big + 'r' + close :
     '\\left' + open + ' ' + argument + ' ' + '\\right' + close);
  parser.Push(new TexParser(argument, parser.stack.env,
                            parser.configuration).mml());
};


/***********************
 * Physics package section 2.2
 * Vector notation
 */

let latinCap: [number, number] = [0x41, 0x5A];
let latinSmall: [number, number] = [0x61, 0x7A];
let greekCap: [number, number] = [0x391, 0x3A9];
let greekSmall: [number, number] = [0x3B1, 0x3C9];
let digits: [number, number] = [0x30, 0x39];

/**
 * Checks if a value is in a given numerical interval.
 * @param {number} value The value.
 * @param {[number, number]} range The closed interval.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1549">function inRange(value: number, range: [number, number]) {
  return (value &gt;= range[0] &amp;&amp; value &lt;= range[1]);
}


/**
 * Method to create a token for the vector commands. It creates a vector token
 * with the specific vector font (e.g., bold) in case it is a Latin or capital
 * Greek character, accent or small Greek character if command is starred. This
 * is a replacement for the original token method in the node factory.
 * @param {NodeFactory} factory The current node factory.
 * @param {string} kind The type of token to create.
 * @param {any} def The attributes for the node.
 * @param {string} text The text contained in the token node.
 * @return {MmlNode} The newly create token node.
 */
function createVectorToken(factory: NodeFactory, kind: string,
                           def: any, text: string): MmlNode  {
  let parser = factory.configuration.parser;
  let token = NodeFactory.createToken(factory, kind, def, text);
  let code: number = text.codePointAt(0);
  if (text.length === 1 &amp;&amp; !parser.stack.env.font &amp;&amp;
      parser.stack.env.vectorFont &amp;&amp;
      (inRange(code, latinCap) || inRange(code, latinSmall) ||
       inRange(code, greekCap) || inRange(code, digits) ||
       (inRange(code, greekSmall) &amp;&amp; parser.stack.env.vectorStar) ||
       NodeUtil.getAttribute(token, 'accent'))) {
    NodeUtil.setAttribute(token, 'mathvariant', parser.stack.env.vectorFont);
  }
  return token;
}


/**
 * Bold vector notation.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
PhysicsMethods.VectorBold = function(parser: TexParser, name: string) {
  let star = parser.GetStar();
  let arg = parser.GetArgument(name);
  let oldToken = parser.configuration.nodeFactory.get('token');
  let oldFont = parser.stack.env.font;
  delete parser.stack.env.font;
  parser.configuration.nodeFactory.set('token', createVectorToken);
  parser.stack.env.vectorFont = star ? 'bold-italic' : 'bold';
  parser.stack.env.vectorStar = star;
  let node = new TexParser(arg, parser.stack.env, parser.configuration).mml();
  if (oldFont) {
    parser.stack.env.font = oldFont;
  }
  delete parser.stack.env.vectorFont;
  delete parser.stack.env.vectorStar;
  parser.configuration.nodeFactory.set('token', oldToken);
  parser.Push(node);
};


/**
 * Macros that can have an optional star which is propagated.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {number} argcount Number of arguments.
 * @param {string[]} ...parts List of parts from which to assemble the macro.
 *     If the original command is starred, a star will be injected at each part.
 */
PhysicsMethods.StarMacro = function(parser: TexParser, name: string,
                                argcount: number, ...parts: string[]) {
  let star = parser.GetStar();
  const args: string[] = [];
  if (argcount) {
    for (let i = args.length; i &lt; argcount; i++) {
      args.push(parser.GetArgument(name));
    }
  }
  let macro = parts.join(star ? '*' : '');
  macro = ParseUtil.substituteArgs(parser, args, macro);
  parser.string = ParseUtil.addArgs(parser, macro, parser.string.slice(parser.i));
  parser.i = 0;
  ParseUtil.checkMaxMacros(parser);
};


/**
 * Computes the application of a vector operation.
 * @param {TexParser} parser The calling parser.
 * @param {string} kind The type of stack item to parse the operator into.
 * @param {string} name The macro name.
 * @param {string} operator The operator expression.
 * @param {string[]} ...fences List of opening fences that should be
 *     automatically sized and paired to its corresponding closing fence.
 */
let vectorApplication = function(
  parser: TexParser, kind: string, name: string, operator: string,
  fences: string[]) {
  let op = new TexParser(operator, parser.stack.env,
                         parser.configuration).mml();
  parser.Push(parser.itemFactory.create(kind, op));
  let left = parser.GetNext();
  let right = pairs[left];
  if (!right) {
    return;
  }
  let lfence = '', rfence = '', arg = '';
  let enlarge = fences.indexOf(left) !== -1;
  if (left === '{') {
    arg = parser.GetArgument(name);
    lfence = enlarge ? '\\left\\{' : '';
    rfence = enlarge ? '\\right\\}' : '';
    let macro = lfence + ' ' + arg + ' ' + rfence;
    parser.string = macro + parser.string.slice(parser.i);
    parser.i = 0;
    return;
  }
  if (!enlarge) {
    return;
  }
  parser.i++;
  parser.Push(parser.itemFactory.create('auto open')
              .setProperties({open: left, close: right}));
};


/**
 * An operator that needs to be parsed (e.g., a Greek letter or nabla) and
 * applied to a possibly fenced expression. By default automatic fences are
 * parentheses and brakets, with braces being ignored.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} operator The operator expression.
 * @param {string[]} ...fences List of opening fences that should be
 *     automatically sized and paired to its corresponding closing fence.
 */
PhysicsMethods.OperatorApplication = function(
  parser: TexParser, name: string, operator: string,
  ...fences: string[]) {
  vectorApplication(parser, 'fn', name, operator, fences);
};

/**
 * A vector operator that needs to be parsed (e.g., a Greek letter or nabla with
 * a crossproduct) and connected to a possibly fenced expression. By default
 * automatic fences are parentheses and brakets.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} operator The operator expression.
 * @param {string[]} ...fences List of opening fences that should be
 *     automatically sized and paired to its corresponding closing fence.
 */
PhysicsMethods.VectorOperator = function(
  parser: TexParser, name: string, operator: string,
  ...fences: string[]) {
  vectorApplication(parser, 'mml', name, operator, fences);
};


/***********************
 * Physics package section 2.3
 * Operators
 */

/**
 * Operator expression with automatic fences and optional exponent.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {boolean=} opt Set to false if no optional exponent is allowed.
 * @param {string=} id The name of the function if different from name.
 */
PhysicsMethods.Expression = function(parser: TexParser, name: string,
                                     opt: boolean = true, id: string = '') {
  id = id || name.slice(1);
  const exp = opt ? parser.GetBrackets(name) : null;
  let mml = parser.create('token', 'mi', {texClass: TEXCLASS.OP}, id);
  if (exp) {
    const sup = new TexParser(exp,
                              parser.stack.env, parser.configuration).mml();
    mml = parser.create('node', 'msup', [mml, sup]);
  }
  parser.Push(parser.itemFactory.create('fn', mml));
  if (parser.GetNext() !== '(') {
    return;
  }
  parser.i++;
  parser.Push(parser.itemFactory.create('auto open')
              .setProperties({open: '(', close: ')'}));
};


/***********************
 * Physics package section 2.4
 * Quick quad text
 */

/**
 * Quad text macros.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} text The text that is to be padded with quad spaces.
 */
PhysicsMethods.Qqtext = function(parser: TexParser, name: string,
                                 text: string) {
  let star = parser.GetStar();
  let arg = text ? text : parser.GetArgument(name);
  let replace = (star ? '' : '\\quad') + '\\text{' + arg + '}\\quad ';
  parser.string = parser.string.slice(0, parser.i) + replace +
    parser.string.slice(parser.i);
};


/***********************
 * Physics package section 2.5
 * Derivatives
 */

/**
 * The differential and variation macros.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {string} op The operator. It will be parsed.
 */
PhysicsMethods.Differential = function(parser: TexParser, name: string,
                                       op: string) {
  const optArg = parser.GetBrackets(name);
  const power = optArg != null ? '^{' + optArg + '}' : ' ';
  const parens = parser.GetNext() === '(';
  const braces = parser.GetNext() === '{';
  let macro = op + power;
  if (!(parens || braces)) {
    macro += parser.GetArgument(name, true) || '';
    let mml = new TexParser(macro, parser.stack.env,
                            parser.configuration).mml();
    parser.Push(mml);
    return;
  }
  if (braces) {
    macro += parser.GetArgument(name);
    const mml = new TexParser(macro, parser.stack.env,
                              parser.configuration).mml();
    parser.Push(parser.create('node', 'TeXAtom', [mml], {texClass: TEXCLASS.OP}));
    return;
  }
  parser.Push(new TexParser(macro, parser.stack.env,
                            parser.configuration).mml());
  parser.i++;
  parser.Push(parser.itemFactory.create('auto open')
              .setProperties({open: '(', close: ')'}));
};


/**
 * The derivative macro. Its behaviour depends on the number of arguments
 * provided. In case of
 * 1 argument: will be part of the denominator.
 * 2 arguments: argument one is numerator, argument two is denominator.
 * 3+ arguments: arguments above 2 will be part of the denominator and the
 *   exponent of the enumerator will depend on the number of denominator
 *   arguments. In particular, the optional exponent argument will be ignored!
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {number} argMax The maximum number of arguments for the macro.
 * @param {string} op The derivative operator.
 */
PhysicsMethods.Derivative = function(parser: TexParser, name: string,
                                     argMax: number, op: string) {
  const star = parser.GetStar();
  const optArg = parser.GetBrackets(name);
  let argCounter = 1;
  const args = [];
  args.push(parser.GetArgument(name));
  while (parser.GetNext() === '{' &amp;&amp; argCounter &lt; argMax) {
    args.push(parser.GetArgument(name));
    argCounter++;
  }
  let ignore = false;
  let power1 = ' ';
  let power2 = ' ';
  if (argMax &gt; 2 &amp;&amp; args.length &gt; 2) {
    power1 = '^{' + (args.length - 1) + '}';
    ignore = true;
  } else if (optArg != null) {
    if (argMax &gt; 2 &amp;&amp; args.length &gt; 1) {
      ignore = true;
    }
    power1 = '^{' + optArg + '}';
    power2 = power1;
  }
  const frac = star ? '\\flatfrac' : '\\frac';
  const first = args.length &gt; 1 ? args[0] : '';
  const second = args.length &gt; 1 ? args[1] : args[0];
  let rest = '';
  for (let i = 2, arg; arg = args[i]; i++) {
    rest += op + ' ' + arg;
  }
  const macro = frac + '{' + op + power1 + first + '}' +
    '{' + op + ' ' + second + power2 + ' ' + rest + '}';
  parser.Push(new TexParser(macro, parser.stack.env,
                            parser.configuration).mml());
  if (parser.GetNext() === '(') {
    parser.i++;
    parser.Push(parser.itemFactory.create('auto open')
                .setProperties({open: '(', close: ')', ignore: ignore}));
  }
};


/***********************
 * Physics package section 2.6
 * Dirac bra-ket notation
 */

/**
 * The bra macro.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
PhysicsMethods.Bra = function(parser: TexParser, name: string) {
  let starBra = parser.GetStar();
  let bra = parser.GetArgument(name);
  let ket = '';
  let hasKet = false;
  let starKet = false;
  if (parser.GetNext() === '\\') {
    let saveI = parser.i;
    parser.i++;
    // This ensures that bra-ket also works if \let bound versions of \ket.
    let cs = parser.GetCS();
    let symbol = parser.lookup('macro', cs) as Macro;
    if (symbol &amp;&amp; symbol.symbol === 'ket') {
      hasKet = true;
      saveI = parser.i;
      starKet = parser.GetStar();
      if (parser.GetNext() === '{') {
        ket = parser.GetArgument(cs, true);
      } else {
        parser.i = saveI;
        starKet = false;
      }
    } else {
      parser.i = saveI;
    }
  }
  let macro = '';
  if (hasKet) {
    macro = (starBra || starKet) ?
    `\\langle{${bra}}\\vert{${ket}}\\rangle` :
      `\\left\\langle{${bra}}\\middle\\vert{${ket}}\\right\\rangle`;
  } else {
    macro = (starBra || starKet) ?
    `\\langle{${bra}}\\vert` : `\\left\\langle{${bra}}\\right\\vert{${ket}}`;
  }
  parser.Push(new TexParser(macro, parser.stack.env,
                            parser.configuration).mml());
};


/**
 * The ket macro.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
PhysicsMethods.Ket = function(parser: TexParser, name: string) {
  let star = parser.GetStar();
  let ket = parser.GetArgument(name);
  let macro = star ? `\\vert{${ket}}\\rangle` :
    `\\left\\vert{${ket}}\\right\\rangle`;
  parser.Push(new TexParser(macro, parser.stack.env,
                            parser.configuration).mml());
};


/**
 * The braket macro.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
PhysicsMethods.BraKet = function(parser: TexParser, name: string) {
  let star = parser.GetStar();
  let bra = parser.GetArgument(name);
  let ket = null;
  if (parser.GetNext() === '{') {
    ket = parser.GetArgument(name, true);
  }
  let macro = '';
  if (ket == null) {
    macro = star ?
      `\\langle{${bra}}\\vert{${bra}}\\rangle` :
      `\\left\\langle{${bra}}\\middle\\vert{${bra}}\\right\\rangle`;
  } else {
    macro = star ?
      `\\langle{${bra}}\\vert{${ket}}\\rangle` :
      `\\left\\langle{${bra}}\\middle\\vert{${ket}}\\right\\rangle`;
  }
  parser.Push(new TexParser(macro, parser.stack.env,
                            parser.configuration).mml());
};


/**
 * The ketbra macro.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
PhysicsMethods.KetBra = function(parser: TexParser, name: string) {
  let star = parser.GetStar();
  let ket = parser.GetArgument(name);
  let bra = null;
  if (parser.GetNext() === '{') {
    bra = parser.GetArgument(name, true);
  }
  let macro = '';
  if (bra == null) {
    macro = star ?
      `\\vert{${ket}}\\rangle\\!\\langle{${ket}}\\vert` :
      `\\left\\vert{${ket}}\\middle\\rangle\\!\\middle\\langle{${ket}}\\right\\vert`;
  } else {
    macro = star ?
      `\\vert{${ket}}\\rangle\\!\\langle{${bra}}\\vert` :
      `\\left\\vert{${ket}}\\middle\\rangle\\!\\middle\\langle{${bra}}\\right\\vert`;
  }
  parser.Push(new TexParser(macro, parser.stack.env,
                            parser.configuration).mml());
};


/**
 * Generates the expanded braket LaTeX code for matrix operations.
 * @param {[string, string, string]} [arg1, arg2, arg3] The three arguments
 *     &lt;arg1|arg2|arg3&gt;.
 * @param {boolean} star1 No automatic sizing of fences.
 * @param {boolean} star2 Automatic sizing of fences wrt. to arg1 &amp; arg3 only.
 */
function outputBraket([arg1, arg2, arg3]: [string, string, string],
                      star1: boolean, star2: boolean) {
  return (star1 &amp;&amp; star2) ?
    `\\left\\langle{${arg1}}\\middle\\vert{${arg2}}\\middle\\vert{${arg3}}\\right\\rangle` :
    (star1 ? `\\langle{${arg1}}\\vert{${arg2}}\\vert{${arg3}}\\rangle` :
     `\\left\\langle{${arg1}}\\right\\vert{${arg2}}\\left\\vert{${arg3}}\\right\\rangle`);
}


/**
 * The expectation value macro.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
PhysicsMethods.Expectation = function(parser: TexParser, name: string) {
  let star1 = parser.GetStar();
  let star2 = star1 &amp;&amp; parser.GetStar();
  let arg1 = parser.GetArgument(name);
  let arg2 = null;
  if (parser.GetNext() === '{') {
    arg2 = parser.GetArgument(name, true);
  }
  let macro = (arg1 &amp;&amp; arg2) ?
    outputBraket([arg2, arg1, arg2], star1, star2) :
    // Braces for semantics, similar to braket package.
    (star1 ? `\\langle {${arg1}} \\rangle` :
     `\\left\\langle {${arg1}} \\right\\rangle`);
  parser.Push(new TexParser(macro, parser.stack.env,
                            parser.configuration).mml());
};


/**
 * The matrix element macro.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
PhysicsMethods.MatrixElement = function(parser: TexParser, name: string) {
  const star1 = parser.GetStar();
  const star2 = star1 &amp;&amp; parser.GetStar();
  const arg1 = parser.GetArgument(name);
  const arg2 = parser.GetArgument(name);
  const arg3 = parser.GetArgument(name);
  const macro = outputBraket([arg1, arg2, arg3], star1, star2);
  parser.Push(new TexParser(macro, parser.stack.env,
                            parser.configuration).mml());
};



/********************
 * Physics package Section 2.7
 * Matrix macros
 */
/**
 * The matrix quantity macro.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {boolean=} small Use small matrix.
 */
PhysicsMethods.MatrixQuantity = function(parser: TexParser, name: string, small?: boolean) {
  const star = parser.GetStar();
  const next = parser.GetNext();
  const array = small ? 'smallmatrix' : 'array';
  let arg = '';
  let open = '';
  let close = '';
  switch (next) {
  case '{':
    arg = parser.GetArgument(name);
    break;
  case '(':
    parser.i++;
    open = star ? '\\lgroup' : '(';
    close = star ? '\\rgroup' : ')';
    arg = parser.GetUpTo(name, ')');
    break;
  case '[':
    parser.i++;
    open = '[';
    close = ']';
    arg = parser.GetUpTo(name, ']');
    break;
  case '|':
    parser.i++;
    open = '|';
    close = '|';
    arg = parser.GetUpTo(name, '|');
    break;
  default:
    open = '(';
    close = ')';
    break;
  }
  const macro = (open ? '\\left' : '') + open +
    '\\begin{' + array + '}{} ' + arg + '\\end{' + array + '}' +
    (open ? '\\right' : '') + close;
  parser.Push(new TexParser(macro, parser.stack.env,
                            parser.configuration).mml());
};


/**
 * Generation of identity matrices.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
PhysicsMethods.IdentityMatrix = function(parser: TexParser, name: string) {
  const arg = parser.GetArgument(name);
  const size = parseInt(arg, 10);
  if (isNaN(size)) {
    throw new TexError('InvalidNumber', 'Invalid number');
  }
  if (size &lt;= 1) {
    parser.string = '1' + parser.string.slice(parser.i);
    parser.i = 0;
    return;
  }
  let zeros = Array(size).fill('0');
  let columns = [];
  for (let i = 0; i &lt; size; i++) {
    let row = zeros.slice();
    row[i] = '1';
    columns.push(row.join(' &amp; '));
  }
  parser.string = columns.join('\\\\ ') + parser.string.slice(parser.i);
  parser.i = 0;
};


/**
 * Generation of matrices with fixed value.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
PhysicsMethods.XMatrix = function(parser: TexParser, name: string) {
  const star = parser.GetStar();
  const arg1 = parser.GetArgument(name);
  const arg2 = parser.GetArgument(name);
  const arg3 = parser.GetArgument(name);
  let n = parseInt(arg2, 10);
  let m = parseInt(arg3, 10);
  if (isNaN(n) || isNaN(m) || m.toString() !== arg3 || n.toString() !== arg2) {
    throw new TexError('InvalidNumber', 'Invalid number');
  }
  n = n &lt; 1 ? 1 : n;
  m = m &lt; 1 ? 1 : m;
  // Elements
  if (!star) {
    const row = Array(m).fill(arg1).join(' &amp; ');
    const matrix = Array(n).fill(row).join('\\\\ ');
    parser.string = matrix + parser.string.slice(parser.i);
    parser.i = 0;
    return;
  }
  let matrix = '';
  if (n === 1 &amp;&amp; m === 1) {
    // Case 1: n=m=1, no index.
    matrix = arg1;
  } else if (n === 1) {
    // Case 2: n=1, row vector, single index.
    let row = [];
    for (let i = 1; i &lt;= m; i++) {
      row.push(`${arg1}_{${i}}`);
    }
    matrix = row.join(' &amp; ');
  } else if (m === 1) {
    // Case 3: m=1, column vector, single index.
    let row = [];
    for (let i = 1; i &lt;= n; i++) {
      row.push(`${arg1}_{${i}}`);
    }
    matrix = row.join('\\\\ ');
  } else {
    // Case 4: matrix, double index. Note the extra mrows for indices.
    let rows = [];
    for (let i = 1; i &lt;= n; i++) {
      let row = [];
      for (let j = 1; j &lt;= m; j++) {
        row.push(`${arg1}_{{${i}}{${j}}}`);
      }
      rows.push(row.join(' &amp; '));
    }
    matrix = rows.join('\\\\ ');
  }
  parser.string = matrix + parser.string.slice(parser.i);
  parser.i = 0;
  return;
};


/**
 * Generation of Pauli matrices. Matrix 0 is the 2x2 identity.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
PhysicsMethods.PauliMatrix = function(parser: TexParser, name: string) {
  const arg = parser.GetArgument(name);
  let matrix = arg.slice(1);
  switch (arg[0]) {
  case '0':
    matrix += ' 1 &amp; 0\\\\ 0 &amp; 1';
    break;
  case '1':
  case 'x':
    matrix += ' 0 &amp; 1\\\\ 1 &amp; 0';
    break;
  case '2':
  case 'y':
    matrix += ' 0 &amp; -i\\\\ i &amp; 0';
    break;
  case '3':
  case 'z':
    matrix += ' 1 &amp; 0\\\\ 0 &amp; -1';
    break;
  default:
  }
  parser.string = matrix + parser.string.slice(parser.i);
  parser.i = 0;
};


/**
 * Generation of anti/diagonal matrices.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 * @param {boolean=} anti True if constructing anti-diagonal matrix.
 */
PhysicsMethods.DiagonalMatrix = function(parser: TexParser, name: string,
                                         anti?: boolean) {
  if (parser.GetNext() !== '{') {
    return;
  }
  let startI = parser.i;
  /* let arg =*/ parser.GetArgument(name);
  let endI = parser.i;
  parser.i = startI + 1;
  let elements = [];
  let element = '';
  let currentI = parser.i;
  while (currentI &lt; endI) {
    try {
      element = parser.GetUpTo(name, ',');
    } catch (e) {
      parser.i = endI;
      elements.push(parser.string.slice(currentI, endI - 1));
      break;
    }
    if (parser.i &gt;= endI) {
      elements.push(parser.string.slice(currentI, endI));
      break;
    }
    currentI = parser.i;
    elements.push(element);
  }
  parser.string = makeDiagMatrix(elements, anti) + parser.string.slice(endI);
  parser.i = 0;
};


</t>
<t tx="ekr.20211016054411.155">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/upgreek',    // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1550">/**
 * Creates the a (anti)diagonal matrix string.
 * @param {string[]} elements The elements on the diagonal.
 * @param {boolean} anti True if constructing anti-diagonal matrix.
 */
function makeDiagMatrix(elements: string[], anti: boolean) {
  let length = elements.length;
  let matrix = [];
  for (let i = 0; i &lt; length; i++) {
    matrix.push(Array(anti ? length - i : i + 1).join('&amp;') +
                '\\mqty{' + elements[i] + '}');
  }
  return matrix.join('\\\\ ');
}


/**
 * Closes an automatic fence if one was opened.
 * @param {TexParser} parser The calling parser.
 * @param {string} fence The fence.
 * @param {number} texclass The TeX class.
 */
PhysicsMethods.AutoClose = function(parser: TexParser, fence: string, _texclass: number) {
  const mo = parser.create('token', 'mo', {stretchy: false}, fence);
  const item = parser.itemFactory.create('mml', mo).
    setProperties({autoclose: fence});
  parser.Push(item);
};


/**
 * Generates the vector nabla depending on the arrowdel option.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
PhysicsMethods.Vnabla = function(parser: TexParser, _name: string) {
  let argument = parser.options.physics.arrowdel ?
    '\\vec{\\gradientnabla}' : '{\\gradientnabla}';
  return parser.Push(new TexParser(argument, parser.stack.env,
                                   parser.configuration).mml());
};


/**
 * Generates the differential d depending on the italicdiff option.
 * @param {TexParser} parser The calling parser.
 * @param {string} name The macro name.
 */
PhysicsMethods.DiffD = function(parser: TexParser, _name: string) {
  let argument = parser.options.physics.italicdiff ? 'd' : '{\\rm d}';
  return parser.Push(new TexParser(argument, parser.stack.env,
                                   parser.configuration).mml());
};


/**
 *  Methods taken from Base package.
 */
PhysicsMethods.Macro = BaseMethods.Macro;

PhysicsMethods.NamedFn = BaseMethods.NamedFn;

PhysicsMethods.Array = BaseMethods.Array;


export default PhysicsMethods;
</t>
<t tx="ekr.20211016054411.1551"></t>
<t tx="ekr.20211016054411.1552">



/**
 * @fileoverview    Configuration file for the require package.
 *
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import {Configuration, ParserConfiguration, ConfigurationHandler} from '../Configuration.js';
import TexParser from '../TexParser.js';
import {CommandMap} from '../SymbolMap.js';
import {ParseMethod} from '../Types.js';
import TexError from '../TexError.js';
import {TeX} from '../../tex.js';

import {MathJax} from '../../../components/global.js';
import {Package} from '../../../components/package.js';
import {Loader, CONFIG as LOADERCONFIG} from '../../../components/loader.js';
import {mathjax} from '../../../mathjax.js';
import {expandable} from '../../../util/Options.js';

/**
 * The MathJax configuration block (for looking up user-defined package options)
 */
const MJCONFIG = MathJax.config;

/**
 * Add an extension to the configuration, and configure its user options
 *
 * @param {TeX} jax       The TeX jax whose configuration is to be modified
 * @param {string} name   The name of the extension being added (e.g., '[tex]/amscd')
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1553">function RegisterExtension(jax: TeX&lt;any, any, any&gt;, name: string) {
  const require = jax.parseOptions.options.require;
  const required = jax.parseOptions.packageData.get('require').required as string[];
  const extension = name.substr(require.prefix.length);
  if (required.indexOf(extension) &lt; 0) {
    required.push(extension);
    //
    //  Register any dependencies that were loaded to handle this one
    //
    RegisterDependencies(jax, LOADERCONFIG.dependencies[name]);
    //
    //  If the required file loaded an extension...
    //
    const handler = ConfigurationHandler.get(extension);
    if (handler) {
      //
      //  Check if there are user-supplied options
      //    (place them in a block for the extension, if needed)
      //
      let options = MJCONFIG[name] || {};
      if (handler.options &amp;&amp; Object.keys(handler.options).length === 1 &amp;&amp; handler.options[extension]) {
        options = {[extension]: options};
      }
      //
      //  Register the extension with the jax's configuration
      //
      (jax as any).configuration.add(extension, jax, options);
      //
      // If there are preprocessors, restart so that they run
      // (we don't have access to the document or MathItem needed to call
      //  the preprocessors from here)
      //
      const configured = jax.parseOptions.packageData.get('require').configured;
      if (handler.preprocessors.length &amp;&amp; !configured.has(extension)) {
        configured.set(extension, true);
        mathjax.retryAfter(Promise.resolve());
      }
    }
  }
}

</t>
<t tx="ekr.20211016054411.1554">/**
 * Register any dependencies for the loaded extension
 *
 * @param {TeX} jax          The jax whose configuration is being modified
 * @param {string[]} names   The names of the dependencies to register
 */
function RegisterDependencies(jax: TeX&lt;any, any, any&gt;, names: string[] = []) {
  const prefix = jax.parseOptions.options.require.prefix;
  for (const name of names) {
    if (name.substr(0, prefix.length) === prefix) {
      RegisterExtension(jax, name);
    }
  }
}

</t>
<t tx="ekr.20211016054411.1555">/**
 * Load a required package
 *
 * @param {TexParser} parser   The current tex parser.
 * @param {string} name        The name of the package to load.
 */
export function RequireLoad(parser: TexParser, name: string) {
  const options = parser.options.require;
  const allow = options.allow;
  const extension = (name.substr(0, 1) === '[' ? '' : options.prefix) + name;
  const allowed = (allow.hasOwnProperty(extension) ? allow[extension] :
                   allow.hasOwnProperty(name) ? allow[name] : options.defaultAllow);
  if (!allowed) {
    throw new TexError('BadRequire', 'Extension "%1" is not allowed to be loaded', extension);
  }
  if (Package.packages.has(extension)) {
    RegisterExtension(parser.configuration.packageData.get('require').jax, extension);
  } else {
    mathjax.retryAfter(Loader.load(extension));
  }
}

</t>
<t tx="ekr.20211016054411.1556">/**
 * Save the jax so that it can be used when \require{} is processed.
 */
function config(_config: ParserConfiguration, jax: TeX&lt;any, any, any&gt;) {
  jax.parseOptions.packageData.set('require', {
    jax: jax,                             // \require needs access to this
    required: [...jax.options.packages],  // stores the names of the packages that have been added
    configured: new Map()                 // stores the packages that have been configured
  });
  const options = jax.parseOptions.options.require;
  const prefix = options.prefix;
  if (prefix.match(/[^_a-zA-Z0-9]/)) {
    throw Error('Illegal characters used in \\require prefix');
  }
  if (!LOADERCONFIG.paths[prefix]) {
    LOADERCONFIG.paths[prefix] = '[mathjax]/input/tex/extensions';
  }
  options.prefix = '[' + prefix + ']/';
}


/**
 * Namespace for \require methods
 */
export const RequireMethods: Record&lt;string, ParseMethod&gt; = {

  /**
   * Implements \require macro to load TeX extensions
   *
   * @param {TexParser} parser   The current tex parser.
   * @param {string} name        The name of the calling macro.
   */
  Require(parser: TexParser, name: string) {
    const required = parser.GetArgument(name);
    if (required.match(/[^_a-zA-Z0-9]/) || required === '') {
      throw new TexError('BadPackageName', 'Argument for %1 is not a valid package name', name);
    }
    RequireLoad(parser, required);
  }

};

/**
 * The options for the require extension
 */
export const options = {
  require: {
    //
    // Specifies which extensions can/can't be required.
    // The keys are the names of extensions, and the value is true
    //   if the extension can be required, and false if it can't
    //
    allow: expandable({
      base: false,
      'all-packages': false,
      autoload: false,
      configmacros: false,
      tagformat: false,
      setoptions: false
    }),
    //
    //  The default allow value if the extension isn't in the list above
    //
    defaultAllow: true,
    //
    //  The path prefix to use for exensions:  'tex' means use '[tex]/'
    //  before the extension name.
    //
    prefix: 'tex'
  }
};

/**
 * The command map for the \require macro
 */
new CommandMap('require', {require: 'Require'}, RequireMethods);

/**
 * The configuration for the \require macro
 */
export const RequireConfiguration = Configuration.create(
  'require', {handler: {macro: ['require']}, config, options}
);
</t>
<t tx="ekr.20211016054411.1557"></t>
<t tx="ekr.20211016054411.1558">



/**
 * @fileoverview Configuration file for the setoptions package.
 *
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import {Configuration, ConfigurationHandler, ParserConfiguration} from '../Configuration.js';
import {TeX} from '../../tex.js';
import TexParser from '../TexParser.js';
import {CommandMap} from '../SymbolMap.js';
import TexError from '../TexError.js';
import ParseUtil from '../ParseUtil.js';
import {Macro} from '../Symbol.js';
import BaseMethods from '../base/BaseMethods.js';
import {expandable, isObject} from '../../../util/Options.js';

export const SetOptionsUtil = {

  /**
   * Check if options can be set for a given pacakge, and error otherwise.
   *
   * @param {TexParser} parser   The active tex parser.
   * @param {string} extension   The name of the package whose option is being set.
   * @return {boolean}           True when options can be set for this package.
   */
  filterPackage(parser: TexParser, extension: string): boolean {
    if (extension !== 'tex' &amp;&amp; !ConfigurationHandler.get(extension)) {
      throw new TexError('NotAPackage', 'Not a defined package: %1', extension);
    }
    const config = parser.options.setoptions;
    const options = config.allowOptions[extension];
    if ((options === undefined &amp;&amp; !config.allowPackageDefault) || options === false) {
      throw new TexError('PackageNotSettable', 'Options can\'t be set for package "%1"', extension);
    }
    return true;
  },

  /**
   * Check if an option can be set and error otherwise.
   *
   * @param {TexParser} parser   The active tex parser.
   * @param {string} extension   The name of the package whose option is being set.
   * @param {string} option      The name of the option being set.
   * @return {boolean}           True when the option can be set.
   */
  filterOption(parser: TexParser, extension: string, option: string): boolean {
    const config = parser.options.setoptions;
    const options = config.allowOptions[extension] || {};
    const allow = (options.hasOwnProperty(option) &amp;&amp; !isObject(options[option]) ? options[option] : null);
    if (allow === false || (allow === null &amp;&amp; !config.allowOptionsDefault)) {
      throw new TexError('OptionNotSettable', 'Option "%1" is not allowed to be set', option);
    }
    if (!(extension === 'tex' ? parser.options : parser.options[extension])?.hasOwnProperty(option)) {
      if (extension === 'tex') {
        throw new TexError('InvalidTexOption', 'Invalid TeX option "%1"', option);
      } else {
        throw new TexError('InvalidOptionKey', 'Invalid option "%1" for package "%2"', option, extension);
      }
    }
    return true;
  },

  /**
   * Verify an option's value before setting it.
   *
   * @param {TexParser} parser   The active tex parser.
   * @param {string} extension   The name of the package whose option this is.
   * @param {string} option      The name of the option being set.
   * @param {string} value       The value to give to the option.
   * @return {string}            The (possibly modified) value for the option
   */
  filterValue(_parser: TexParser, _extension: string, _option: string, value: string): string {
    return value;
  }

};

const setOptionsMap = new CommandMap('setoptions', {
  setOptions: 'SetOptions'
}, {
  /**
   * Implements \setOptions[package]{option-values}
   *
   * @param {TexParser} parser   The active tex parser.
   * @param {string} name        The name of the macro being processed.
   */
  SetOptions(parser: TexParser, name: string) {
    const extension = parser.GetBrackets(name) || 'tex';
    const options = ParseUtil.keyvalOptions(parser.GetArgument(name));
    const config = parser.options.setoptions;
    if (!config.filterPackage(parser, extension)) return;
    for (const key of Object.keys(options)) {
      if (config.filterOption(parser, extension, key)) {
        (extension === 'tex' ? parser.options : parser.options[extension])[key] =
          config.filterValue(parser, extension, key, options[key]);
      }
    }
  }
});

/**
 * If the require package is available, save the original require,
 *   and define a macro that loads the extension and sets
 *   its options, if any.
 *
 * @param {ParserConfiguration} config  The current configuration.
 * @param {TeX} jax                     The active tex input jax.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1559">function setoptionsConfig(_config: ParserConfiguration, jax: TeX&lt;any, any, any&gt;) {
  const require = jax.parseOptions.handlers.get('macro').lookup('require') as any;
  if (require) {
    setOptionsMap.add('Require', new Macro('Require', require._func));
    setOptionsMap.add('require', new Macro('require', BaseMethods.Macro,
                                           ['\\Require{#2}\\setOptions[#2]{#1}', 2, '']));
  }
}

export const SetOptionsConfiguration = Configuration.create(
  'setoptions', {
    handler: {macro: ['setoptions']},
    config: setoptionsConfig,
    priority: 3,  // must be less than the priority of the require package (which is 5).
    options: {
      setoptions: {
        filterPackage: SetOptionsUtil.filterPackage,  // filter for whether a package can be configured
        filterOption: SetOptionsUtil.filterOption,    // filter for whether an option can be set
        filterValue: SetOptionsUtil.filterValue,      // filter for the value to assign to an option
        allowPackageDefault: true,       // default for allowing packages when not explicitly set in allowOptions
        allowOptionsDefault: true,       // default for allowing option that isn't explicitly set in allowOptions
        allowOptions: expandable({       // list of packages to allow/disallow, and their options to allow/disallow
          //
          //  top-level tex items can be set, but not these
          //    (that leaves digits and the tagging options)
          //
          tex: {
            FindTeX: false,
            formatError: false,
            package: false,
            baseURL: false,
            tags: false,
            maxBuffer: false,
            maxMaxros: false,
            macros: false,
            environments: false
          },
          //
          // These packages can't be configured at all
          //
          setoptions: false,
          autoload: false,
          require: false,
          configmacros: false,
          tagformat: false
        })
      }
    }
  }
);
</t>
<t tx="ekr.20211016054411.156"></t>
<t tx="ekr.20211016054411.1560"></t>
<t tx="ekr.20211016054411.1561">



/**
 * @fileoverview    Configuration file for the tagformat package.
 *
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import {Configuration, ParserConfiguration} from '../Configuration.js';
import {TeX} from '../../tex.js';
import {AbstractTags, TagsFactory} from '../Tags.js';

/**
 * Number used to make tag class unique (each TeX input has to have its own because
 *  it needs access to the parse options)
 */
let tagID = 0;

/**
 * Configure a class to use for the tag handler that uses the input jax's options
 *   to control the formatting of the tags
 * @param {Configuration} config   The configuration for the input jax
 * @param {TeX} jax                The TeX input jax
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1562">export function tagformatConfig(config: ParserConfiguration, jax: TeX&lt;any, any, any&gt;) {

  /**
   * If the tag format is being added by one of the other extensions,
   *   as is done for the 'ams' tags, make sure it is defined so we can create it.
   */
  const tags = jax.parseOptions.options.tags;
  if (tags !== 'base' &amp;&amp; config.tags.hasOwnProperty(tags)) {
    TagsFactory.add(tags, config.tags[tags]);
  }

  /**
   * The original tag class to be extended (none, ams, or all)
   */
  const TagClass = TagsFactory.create(jax.parseOptions.options.tags).constructor as typeof AbstractTags;

  /**
   * A Tags object that uses the input jax options to perform the formatting
   *
   * Note:  We have to make a new class for each input jax since the format
   * methods don't have access to the input jax, and hence to its options.
   * If they did, we would use a common configTags class instead.
   */
  @others
}

/**
 * The configuration object for configTags
 */
export const TagFormatConfiguration = Configuration.create(
  'tagformat', {
    config: [tagformatConfig, 10],
    options: {
      tagformat: {
        number: (n: number) =&gt; n.toString(),
        tag:    (tag: string) =&gt; '(' + tag + ')',
        id:     (id: string) =&gt; 'mjx-eqn:' + id.replace(/\s/g, '_'),
        url:    (id: string, base: string) =&gt; base + '#' + encodeURIComponent(id),
      }
    }
  }
);
</t>
<t tx="ekr.20211016054411.1563">class TagFormat extends TagClass {

  /**
   * @override
   */
  @others
}

//
//  Get a unique name for the tag class (since it is tied to the input jax)
//  Note:  These never get freed, so they will accumulate if you create many
//  TeX input jax instances with this extension.
//
tagID++;
const tagName = 'configTags-' + tagID;
//
// Register the tag class
//
TagsFactory.add(tagName, TagFormat);
jax.parseOptions.options.tags = tagName;
</t>
<t tx="ekr.20211016054411.1564">public formatNumber(n: number) {
  return jax.parseOptions.options.tagformat.number(n);
}

</t>
<t tx="ekr.20211016054411.1565">/**
 * @override
 */
public formatTag(tag: string) {
  return jax.parseOptions.options.tagformat.tag(tag);
}

</t>
<t tx="ekr.20211016054411.1566">/**
 * @override
 */
public formatId(id: string) {
  return jax.parseOptions.options.tagformat.id(id);
}

</t>
<t tx="ekr.20211016054411.1567">/**
 * @override
 */
public formatUrl(id: string, base: string) {
  return jax.parseOptions.options.tagformat.url(id, base);
}
</t>
<t tx="ekr.20211016054411.1568"></t>
<t tx="ekr.20211016054411.1569">



/**
 * @fileoverview Configuration file for the textcomp package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import './TextcompMappings.js';


export const TextcompConfiguration = Configuration.create(
  'textcomp', {
    handler: {macro: ['textcomp-macros']}
  }
);

@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.157">
import './lib/verb.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1570">



/**
 * @fileoverview Mappings for the textcomp package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import {CommandMap} from '../SymbolMap.js';
import {TexConstant} from '../TexConstants.js';
import {TextMacrosMethods} from '../textmacros/TextMacrosMethods.js';
import TexParser from '../TexParser.js';
import ParseUtil from '../ParseUtil.js';
import {TextParser} from '../textmacros/TextParser.js';


/**
 * Identifiers from the Textcomp package.
 */
new CommandMap('textcomp-macros', {

  // Table 3: Predefined LATEX 2 Text-Mode Commands
  'textasciicircum':     ['Insert', '\u005E'],
  'textasciitilde':      ['Insert', '\u007E'],
  'textasteriskcentered': ['Insert', '\u002A'],
  'textbackslash':       ['Insert', '\u005C'],
  'textbar':             ['Insert', '\u007C'],
  'textbraceleft':       ['Insert', '\u007B'],
  'textbraceright':      ['Insert', '\u007D'],
  'textbullet':          ['Insert', '\u2022'],
  'textdagger':          ['Insert', '\u2020'],
  'textdaggerdbl':       ['Insert', '\u2021'],
  'textellipsis':        ['Insert', '\u2026'],
  'textemdash':          ['Insert', '\u2014'],
  'textendash':          ['Insert', '\u2013'],
  'textexclamdown':      ['Insert', '\u00A1'],
  'textgreater':         ['Insert', '\u003E'],
  'textless':            ['Insert', '\u003C'],
  'textordfeminine':     ['Insert', '\u00AA'],
  'textordmasculine':    ['Insert', '\u00BA'],
  'textparagraph':       ['Insert', '\u00B6'],
  'textperiodcentered':  ['Insert', '\u00B7'],
  'textquestiondown':    ['Insert', '\u00BF'],
  'textquotedblleft':    ['Insert', '\u201C'],
  'textquotedblright':   ['Insert', '\u201D'],
  'textquoteleft':       ['Insert', '\u2018'],
  'textquoteright':      ['Insert', '\u2019'],
  'textsection':         ['Insert', '\u00A7'],
  'textunderscore':      ['Insert', '\u005F'],
  'textvisiblespace':    ['Insert', '\u2423'],

  // Table 12: textcomp Diacritics
  'textacutedbl':        ['Insert', '\u02DD'],
  'textasciiacute':      ['Insert', '\u00B4'],
  'textasciibreve':      ['Insert', '\u02D8'],
  'textasciicaron':      ['Insert', '\u02C7'],
  'textasciidieresis':   ['Insert', '\u00A8'],
  'textasciimacron':     ['Insert', '\u00AF'],
  'textgravedbl':        ['Insert', '\u02F5'],
  'texttildelow':        ['Insert', '\u02F7'],

  // Table 13: textcomp Currency Symbols
  'textbaht':            ['Insert', '\u0E3F'],
  'textcent':            ['Insert', '\u00A2'],
  'textcolonmonetary':   ['Insert', '\u20A1'],
  'textcurrency':        ['Insert', '\u00A4'],
  'textdollar':          ['Insert', '\u0024'],
  'textdong':            ['Insert', '\u20AB'],
  'texteuro':            ['Insert', '\u20AC'],
  'textflorin':          ['Insert', '\u0192'],
  'textguarani':         ['Insert', '\u20B2'],
  'textlira':            ['Insert', '\u20A4'],
  'textnaira':           ['Insert', '\u20A6'],
  'textpeso':            ['Insert', '\u20B1'],
  'textsterling':        ['Insert', '\u00A3'],
  'textwon':             ['Insert', '\u20A9'],
  'textyen':             ['Insert', '\u00A5'],

  // Table 15: textcomp Legal Symbols
  'textcircledP':        ['Insert', '\u2117'],
  'textcompwordmark':    ['Insert', '\u200C'],
  'textcopyleft':        ['Insert', '\u{1F12F}'],
  'textcopyright':       ['Insert', '\u00A9'],
  'textregistered':      ['Insert', '\u00AE'],
  'textservicemark':     ['Insert', '\u2120'],
  'texttrademark':       ['Insert', '\u2122'],

  // Table 20: Miscellaneous textcomp Symbol
  'textbardbl':          ['Insert', '\u2016'],
  'textbigcircle':       ['Insert', '\u25EF'],
  'textblank':           ['Insert', '\u2422'],
  'textbrokenbar':       ['Insert', '\u00A6'],
  'textdiscount':        ['Insert', '\u2052'],
  'textestimated':       ['Insert', '\u212E'],
  'textinterrobang':     ['Insert', '\u203D'],
  'textinterrobangdown': ['Insert', '\u2E18'],
  'textmusicalnote':     ['Insert', '\u266A'],
  'textnumero':          ['Insert', '\u2116'],
  'textopenbullet':      ['Insert', '\u25E6'],
  'textpertenthousand':  ['Insert', '\u2031'],
  'textperthousand':     ['Insert', '\u2030'],
  'textrecipe':          ['Insert', '\u211E'],
  'textreferencemark':   ['Insert', '\u203B'],
  // 'textthreequartersemdash'
  // 'texttwelveudash'

  // Table 51: textcomp Text-Mode Delimiters
  'textlangle':          ['Insert', '\u2329'],
  'textrangle':          ['Insert', '\u232A'],
  'textlbrackdbl':       ['Insert', '\u27E6'],
  'textrbrackdbl':       ['Insert', '\u27E7'],
  'textlquill':          ['Insert', '\u2045'],
  'textrquill':          ['Insert', '\u2046'],

  // Table 62: textcomp Text-Mode Math and Science Symbols
  'textcelsius':         ['Insert', '\u2103'],
  'textdegree':          ['Insert', '\u00B0'],
  'textdiv':             ['Insert', '\u00F7'],
  'textdownarrow':       ['Insert', '\u2193'],
  'textfractionsolidus': ['Insert', '\u2044'],
  'textleftarrow':       ['Insert', '\u2190'],
  'textlnot':            ['Insert', '\u00AC'],
  'textmho':             ['Insert', '\u2127'],
  'textminus':           ['Insert', '\u2212'],
  'textmu':              ['Insert', '\u00B5'],
  'textohm':             ['Insert', '\u2126'],
  'textonehalf':         ['Insert', '\u00BD'],
  'textonequarter':      ['Insert', '\u00BC'],
  'textonesuperior':     ['Insert', '\u00B9'],
  'textpm':              ['Insert', '\u00B1'],
  'textrightarrow':      ['Insert', '\u2192'],
  'textsurd':            ['Insert', '\u221A'],
  'textthreequarters':   ['Insert', '\u00BE'],
  'textthreesuperior':   ['Insert', '\u00B3'],
  'texttimes':           ['Insert', '\u00D7'],
  'texttwosuperior':     ['Insert', '\u00B2'],
  'textuparrow':         ['Insert', '\u2191'],

  // Table 110: textcomp Genealogical Symbols
  'textborn':            ['Insert', '\u002A'],
  'textdied':            ['Insert', '\u2020'],
  'textdivorced':        ['Insert', '\u26AE'],
  //  'textleaf'
  'textmarried':         ['Insert', '\u26AD'],

  // This is not the correct glyph
  'textcentoldstyle':    ['Insert', '\u00A2', TexConstant.Variant.OLDSTYLE],
  // This is not the correct glyph
  'textdollaroldstyle':  ['Insert', '\u0024', TexConstant.Variant.OLDSTYLE],

  // Table 16: textcomp Old-Style Numerals
  'textzerooldstyle':    ['Insert', '0', TexConstant.Variant.OLDSTYLE],
  'textoneoldstyle':     ['Insert', '1', TexConstant.Variant.OLDSTYLE],
  'texttwooldstyle':     ['Insert', '2', TexConstant.Variant.OLDSTYLE],
  'textthreeoldstyle':   ['Insert', '3', TexConstant.Variant.OLDSTYLE],
  'textfouroldstyle':    ['Insert', '4', TexConstant.Variant.OLDSTYLE],
  'textfiveoldstyle':    ['Insert', '5', TexConstant.Variant.OLDSTYLE],
  'textsixoldstyle':     ['Insert', '6', TexConstant.Variant.OLDSTYLE],
  'textsevenoldstyle':   ['Insert', '7', TexConstant.Variant.OLDSTYLE],
  'texteightoldstyle':   ['Insert', '8', TexConstant.Variant.OLDSTYLE],
  'textnineoldstyle':    ['Insert', '9', TexConstant.Variant.OLDSTYLE]
}, {
  Insert: function(parser: TexParser, name: string, c: string, font: string) {
    if (parser instanceof TextParser) {
      if (!font) {
        TextMacrosMethods.Insert(parser, name, c);
        return;
      }
      parser.saveText();
    }
    parser.Push(ParseUtil.internalText(
      parser, c, font ? {mathvariant: font} : {}));
  }
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1571"></t>
<t tx="ekr.20211016054411.1572">



/**
 * @fileoverview Configuration file for the textmacros package
 *
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import {TeX} from '../../tex.js';
import TexParser from '../TexParser.js';
import {Configuration, ParserConfiguration} from '../Configuration.js';
import ParseOptions from '../ParseOptions.js';
import {TagsFactory} from '../Tags.js';
import {StartItem, StopItem, MmlItem, StyleItem} from '../base/BaseItems.js';
import {TextParser} from './TextParser.js';
import {TextMacrosMethods} from './TextMacrosMethods.js';
import {MmlNode} from '../../../core/MmlTree/MmlNode.js';

import './TextMacrosMappings.js';

/**
 *  The base text macro configuration (used in the TextParser)
 */
export const TextBaseConfiguration = Configuration.create('text-base', {
  parser: 'text',
  handler: {
    character: ['command', 'text-special'],
    macro: ['text-macros']
  },
  fallback: {
    //
    // Unknown characters are added to the text verbatim
    //
    character: (parser: TextParser, c: string) =&gt; {
      parser.text += c;
    },
    //
    // For unknown macros, if they are defined in the main TeX parser
    //   and not string-replacement macros, give an error, otherwise
    //   run the macro (this either does the string replacement or
    //   produces the error as configured in the main TeX parser, so
    //   this will respect the noundefined package, if loaded).
    //
    macro: (parser: TextParser, name: string) =&gt; {
      const texParser = parser.texParser;
      const macro = texParser.lookup('macro', name);
      if (macro &amp;&amp; macro._func !== TextMacrosMethods.Macro) {
        parser.Error('MathMacro', '%1 is only supported in math mode', '\\' + name);
      }
      texParser.parse('macro', [parser, name]);
    }
  },
  items: {
    [StartItem.prototype.kind]: StartItem,
    [StopItem.prototype.kind]: StopItem,
    [MmlItem.prototype.kind]: MmlItem,
    [StyleItem.prototype.kind]: StyleItem     // needed for \color
  }
});

/**
 * Replacement for ParseUtil.internalMath that handles text-mode macros.
 *
 * @param {TexParser} parser      The TexParser calling this function
 * @param {string} text           The text-mode string to be processed
 * @param {number|string} level   The scriptlevel of the text
 * @param {string} mathvariant    The mathvariant for the text
 * @return {MmlNode[]}            The final MmlNode generated for the text
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1573">function internalMath(parser: TexParser, text: string, level?: number | string, mathvariant?: string): MmlNode[] {
  const config = parser.configuration.packageData.get('textmacros');
  if (!(parser instanceof TextParser)) {
    config.texParser = parser;
  }
  return [(new TextParser(text, mathvariant ? {mathvariant} : {}, config.parseOptions, level)).mml()];
}

//
//  The textmacros package configuration
//
export const TextMacrosConfiguration = Configuration.create('textmacros', {
  /**
   * @param {ParserConfiguration} config   The configuration object we are being configured within
   * @param {TeX&lt;any,any,any&gt;} jax         The TeX input jax in which we are running
   */
  config(_config: ParserConfiguration, jax: TeX&lt;any, any, any&gt;) {
    //
    //  Create the configuration and parseOptions objects for the
    //    internal TextParser and add the textBase configuration.
    //
    const textConf = new ParserConfiguration(jax.parseOptions.options.textmacros.packages, ['tex', 'text']);
    textConf.init();
    const parseOptions = new ParseOptions(textConf, []);
    parseOptions.options = jax.parseOptions.options;      // share the TeX options
    textConf.config(jax);
    TagsFactory.addTags(textConf.tags);
    parseOptions.tags = TagsFactory.getDefault();
    parseOptions.tags.configuration = parseOptions;
    //
    // Share the TeX input jax's parseOptions packageData object
    //   so that require and other packages will work in both parsers,
    //   set the textmacros data (texParser will be filled in later),
    //   and replace the internalMath function with our own.
    //
    parseOptions.packageData = jax.parseOptions.packageData;
    parseOptions.packageData.set('textmacros', {parseOptions, jax, texParser: null});
    parseOptions.options.internalMath = internalMath;
  },
  preprocessors: [(data: {data: ParseOptions}) =&gt; {
    //
    //  Set the MmlFactory for the nodeFactory, since it was not available
    //  durring configuration above.
    //
    const config = data.data.packageData.get('textmacros');
    config.parseOptions.nodeFactory.setMmlFactory(config.jax.mmlFactory);
  }],
  options: {
    textmacros: {
      packages: ['text-base']    // textmacro packages to load
    }
  }
});
</t>
<t tx="ekr.20211016054411.1574">



/**
 * @fileoverview  Character and Macro mappings for the textmacros package
 *
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import {MacroMap, CommandMap} from '../SymbolMap.js';
import {TexConstant} from '../TexConstants.js';
import {TextMacrosMethods} from './TextMacrosMethods.js';
import {MATHSPACE} from '../../../util/lengths.js';

//
//  The special characters in text-mode
//
new MacroMap('text-special', {
  '$':          'Math',
  '%':          'Comment',
  '^':          'MathModeOnly',
  '_':          'MathModeOnly',
  '&amp;':          'Misplaced',
  '#':          'Misplaced',
  '~':          'Tilde',
  ' ':          'Space',
  '\t':         'Space',
  '\r':         'Space',
  '\n':         'Space',
  '\u00A0':     'Tilde',
  '{':          'OpenBrace',
  '}':          'CloseBrace',
  '`':          'OpenQuote',
  '\'':         'CloseQuote'
}, TextMacrosMethods);

//
//  The text-mode macro mappings
//
new CommandMap('text-macros', {
  '(':          'Math',

  '$':          'SelfQuote',
  '_':          'SelfQuote',
  '%':          'SelfQuote',
  '{':          'SelfQuote',
  '}':          'SelfQuote',
  ' ':          'SelfQuote',
  '&amp;':          'SelfQuote',
  '#':          'SelfQuote',
  '\\':         'SelfQuote',

  '\'':         ['Accent', '\u00B4'],
  '\u2019':     ['Accent', '\u00B4'],
  '`':          ['Accent', '\u0060'],
  '\u2018':     ['Accent', '\u0060'],
  '^':          ['Accent', '^'],
  '\"':         ['Accent', '\u00A8'],
  '~':          ['Accent', '~'],
  '=':          ['Accent', '\u00AF'],
  '.':          ['Accent', '\u02D9'],
  'u':          ['Accent', '\u02D8'],
  'v':          ['Accent', '\u02C7'],

  emph:         'Emph',
  rm:           ['SetFont', TexConstant.Variant.NORMAL],
  mit:          ['SetFont', TexConstant.Variant.ITALIC],
  oldstyle:     ['SetFont', TexConstant.Variant.OLDSTYLE],
  cal:          ['SetFont', TexConstant.Variant.CALLIGRAPHIC],
  it:           ['SetFont', '-tex-mathit'], // needs special handling
  bf:           ['SetFont', TexConstant.Variant.BOLD],
  bbFont:       ['SetFont', TexConstant.Variant.DOUBLESTRUCK],
  scr:          ['SetFont', TexConstant.Variant.SCRIPT],
  frak:         ['SetFont', TexConstant.Variant.FRAKTUR],
  sf:           ['SetFont', TexConstant.Variant.SANSSERIF],
  tt:           ['SetFont', TexConstant.Variant.MONOSPACE],

  tiny:         ['SetSize', 0.5],
  Tiny:         ['SetSize', 0.6],  // non-standard
  scriptsize:   ['SetSize', 0.7],
  small:        ['SetSize', 0.85],
  normalsize:   ['SetSize', 1.0],
  large:        ['SetSize', 1.2],
  Large:        ['SetSize', 1.44],
  LARGE:        ['SetSize', 1.73],
  huge:         ['SetSize', 2.07],
  Huge:         ['SetSize', 2.49],

  Bbb:          ['Macro', '{\\bbFont #1}', 1],
  textrm:       ['Macro', '{\\rm #1}', 1],
  textit:       ['Macro', '{\\it #1}', 1],
  textbf:       ['Macro', '{\\bf #1}', 1],
  textsf:       ['Macro', '{\\sf #1}', 1],
  texttt:       ['Macro', '{\\tt #1}', 1],

  dagger:       ['Insert', '\u2020'],
  ddagger:      ['Insert', '\u2021'],
  S:            ['Insert', '\u00A7'],

  ',':          ['Spacer', MATHSPACE.thinmathspace],
  ':':          ['Spacer', MATHSPACE.mediummathspace],
  '&gt;':          ['Spacer', MATHSPACE.mediummathspace],
  ';':          ['Spacer', MATHSPACE.thickmathspace],
  '!':          ['Spacer', MATHSPACE.negativethinmathspace],
  enspace:      ['Spacer', .5],
  quad:         ['Spacer', 1],
  qquad:        ['Spacer', 2],
  thinspace:    ['Spacer', MATHSPACE.thinmathspace],
  negthinspace: ['Spacer', MATHSPACE.negativethinmathspace],

  hskip:        'Hskip',
  hspace:       'Hskip',
  kern:         'Hskip',
  mskip:        'Hskip',
  mspace:       'Hskip',
  mkern:        'Hskip',
  rule:         'rule',
  Rule:         ['Rule'],
  Space:        ['Rule', 'blank'],

  color:        'CheckAutoload',
  textcolor:    'CheckAutoload',
  colorbox:     'CheckAutoload',
  fcolorbox:    'CheckAutoload',
  href:         'CheckAutoload',
  style:        'CheckAutoload',
  class:        'CheckAutoload',
  cssId:        'CheckAutoload',
  unicode:      'CheckAutoload',

  ref:          ['HandleRef', false],
  eqref:        ['HandleRef', true],

}, TextMacrosMethods);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1575">



/**
 * @fileoverview  Method definitions for the textmacros package
 *
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import TexParser from '../TexParser.js';
import {retryAfter} from '../../../util/Retries.js';
import {TextParser} from './TextParser.js';
import BaseMethods from '../base/BaseMethods.js';

/**
 * The methods used to implement the text-mode macros
 */
export const TextMacrosMethods = {

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} c            The character that called this function
   */
  Comment(parser: TextParser, _c: string) {
    while (parser.i &lt; parser.string.length &amp;&amp; parser.string.charAt(parser.i) !== '\n') {
      parser.i++;
    }
    parser.i++;
  },

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} open         The delimiter used to open math-mode in text-mode
   */
  Math(parser: TextParser, open: string) {
    parser.saveText();
    let i = parser.i;
    let j, c;
    let braces = 0;
    //
    // Loop through the string looking for the closing delimiter, while matching braces
    //
    while ((c = parser.GetNext())) {
      j = parser.i++;
      switch (c) {

      case '\\':
        const cs = parser.GetCS();
        if (cs === ')') c = '\\(';  // \( is the opening delimiter for \)
      case '$':
        //
        //  If there are no unbalanced braces and we have found the close delimiter,
        //    process the contents of the delimiters in math mode (using the original TeX parser)
        //
        if (braces === 0 &amp;&amp; open === c) {
          const config = parser.texParser.configuration;
          const mml = (new TexParser(parser.string.substr(i, j - i), parser.stack.env, config)).mml();
          parser.PushMath(mml);
          return;
        }
        break;

      case '{':
        braces++;
        break;

      case '}':
        if (braces === 0) {
          parser.Error('ExtraCloseMissingOpen', 'Extra close brace or missing open brace');
        }
        braces--;
        break;
      }
    }
    parser.Error('MathNotTerminated', 'Math-mode is not properly terminated');
  },

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} c            The character that called this function
   */
  MathModeOnly(parser: TextParser, c: string) {
    parser.Error('MathModeOnly', '\'%1\' allowed only in math mode', c);
  },

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} c            The character that called this function
   */
  Misplaced(parser: TextParser, c: string) {
    parser.Error('Misplaced', '\'%1\' can not be used here', c);
  },

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} c            The character that called this function
   */
  OpenBrace(parser: TextParser, _c: string) {
    //
    //  Save the current stack environment and make a copy of it for
    //    use within the braced group.
    //
    const env = parser.stack.env;
    parser.envStack.push(env);
    parser.stack.env = Object.assign({}, env);
  },

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} c            The character that called this function
   */
  CloseBrace(parser: TextParser, _c: string) {
    //
    //  Restore the saved stack environment, if there was one
    //
    if (parser.envStack.length) {
      parser.saveText();
      parser.stack.env = parser.envStack.pop();
    } else {
      parser.Error('ExtraCloseMissingOpen', 'Extra close brace or missing open brace');
    }
  },

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} c            The character that called this function
   */
  OpenQuote(parser: TextParser, c: string) {
    //
    //  Handle smart open quotes
    //
    if (parser.string.charAt(parser.i) === c) {
      parser.text += '\u201C';
      parser.i++;
    } else {
      parser.text += '\u2018';
    }
  },

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} c            The character that called this function
   */
  CloseQuote(parser: TextParser, c: string) {
    //
    //  Handle smart close quotes
    //
    if (parser.string.charAt(parser.i) === c) {
      parser.text += '\u201D';
      parser.i++;
    } else {
      parser.text += '\u2019';
    }
  },

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} c            The character that called this function
   */
  Tilde(parser: TextParser, _c: string) {
    parser.text += '\u00A0';  // non-breaking space
  },

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} c            The character that called this function
   */
  Space(parser: TextParser, _c: string) {
    parser.text += ' ';  // regular space, but skipping multiple spaces
    while (parser.GetNext().match(/\s/)) parser.i++;
  },

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} name         The control sequence that called this function
   */
  SelfQuote(parser: TextParser, name: string) {
    parser.text += name.substr(1);  // add in the quoted character
  },

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} name         The control sequence that called this function
   * @param {string} c            The character to insert into the string
   */
  Insert(parser: TextParser, _name: string, c: string) {
    parser.text += c;
  },

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} name         The control sequence that called this function
   * @param {string} c            The character to insert into the string
   */
  Accent(parser: TextParser, name: string, c: string) {
    //
    //  Create an accented character using mover
    //
    const base = parser.ParseArg(name);
    const accent = parser.create('token', 'mo', {}, c);
    parser.addAttributes(accent);
    parser.Push(parser.create('node', 'mover', [base, accent]));
  },

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} name         The control sequence that called this function
   */
  Emph(parser: TextParser, name: string) {
    //
    //  Switch to/from italics
    //
    const variant = (parser.stack.env.mathvariant === '-tex-mathit' ? 'normal' : '-tex-mathit');
    parser.Push(parser.ParseTextArg(name, {mathvariant: variant}));
  },

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} name         The control sequence that called this function
   * @param {string} variant      The font variant to use from now on
   */
  SetFont(parser: TextParser, _name: string, variant: string) {
    parser.saveText();
    parser.stack.env.mathvariant = variant;
  },

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} name         The control sequence that called this function
   * @param {number} size         The font size to use from now on
   */
  SetSize(parser: TextParser, _name: string, size: number) {
    parser.saveText();
    parser.stack.env.mathsize = size;
  },

  /**
   * @param {TextParser} parser   The text-mode parser
   * @param {string} name         The control sequence that called this function
   */
  CheckAutoload(parser: TextParser, name: string) {
    const autoload = parser.configuration.packageData.get('autoload');
    const texParser = parser.texParser;
    name = name.slice(1);
    //
    // Check if a macro is undefined, or currently set to autoload an extension.
    // If so, process the macro in the original TexParser:
    //    This will handle the undefined macro using the TeX parser's configuration, then return,
    //    or will cause the autoloaded extension to load or be processed and restart the expression.
    // Otherwise, process the macro in text mode.
    //
    const macro = texParser.lookup('macro', name);
    if (!macro || (autoload &amp;&amp; macro._func === autoload.Autoload)) {
      texParser.parse('macro', [texParser, name]);
      if (!macro) return;
      retryAfter(Promise.resolve());
    }
    texParser.parse('macro', [parser, name]);
  },

  //
  // Copy some methods from the base package
  //
  Macro: BaseMethods.Macro,
  Spacer: BaseMethods.Spacer,
  Hskip: BaseMethods.Hskip,
  rule: BaseMethods.rule,
  Rule: BaseMethods.Rule,
  HandleRef: BaseMethods.HandleRef

};

@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1576">



/**
 * @fileoverview  The TextParser class for the textmacros package
 *
 * @author dpvc@mathjax.org (Davide P. Cervone)
 */

import TexParser from '../TexParser.js';
import TexError from '../TexError.js';
import ParseOptions from '../ParseOptions.js';
import ParseUtil from '../ParseUtil.js';
import {StackItem} from '../StackItem.js';
import {MmlNode, AbstractMmlNode} from '../../../core/MmlTree/MmlNode.js';
import {EnvList} from '../StackItem.js';
import NodeUtil from '../NodeUtil.js';
import {StopItem, StyleItem} from '../base/BaseItems.js';

/**
 * Subclass of the TexParser but for handling text-mode material
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1577">export class TextParser extends TexParser {

  /**
   * The accumulated text material to go into an mtext element
   */
  public text: string;

  /**
   * Saved stack environments for processing braces
   */
  public envStack: EnvList[];

  /**
   * The scriptlevel of this text-mode material
   */
  public level: number | string | undefined;

  /**
   * The accumulated MmlNodes generated by parsing the text-mode material
   */
  protected nodes: MmlNode[];

  /**
   * Short-hand for obtaining the saved TexParser
   */
  public get texParser() {
    return this.configuration.packageData.get('textmacros').texParser;
  }

  /**
   * @override
   */
  public get tags() {
    return this.texParser.tags;
  }

  /**
   * @override
   * @constructor
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1578">constructor(text: string, env: EnvList, configuration: ParseOptions, level?: number | string) {
  super(text, env, configuration);
  this.level = level;
}

</t>
<t tx="ekr.20211016054411.1579">/**
 * Make sure we only return one element (wrap multiple ones in an mrow or mstyle, as needed).
 *
 * @override
 */
public mml() {
  return (this.level != null ?
          this.create('node', 'mstyle', this.nodes, {displaystyle: false, scriptlevel: this.level}) :
          this.nodes.length === 1 ? this.nodes[0] : this.create('node', 'mrow', this.nodes));
}

</t>
<t tx="ekr.20211016054411.158">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/verb',        // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1580">/**
 * @override
 */
public Parse() {
  this.text = '';
  this.nodes = [];
  this.envStack = [];
  super.Parse();
}

</t>
<t tx="ekr.20211016054411.1581">/**
 * Creates an mtext element for the saved text and pushes that onto the node list
 */
public saveText() {
  if (this.text) {
    const mathvariant = this.stack.env.mathvariant;
    const text = ParseUtil.internalText(this, this.text, mathvariant ? {mathvariant} : {});
    this.text = '';
    this.Push(text);
  }
}

</t>
<t tx="ekr.20211016054411.1582">/**
 * @override
 */
public Push(mml: MmlNode | StackItem) {
  if (this.text) {
    this.saveText();
  }
  if (mml instanceof StopItem) {
    return super.Push(mml);
  }
  if (mml instanceof StyleItem) {
    this.stack.env.mathcolor = this.stack.env.color;
    return;
  }
  if (mml instanceof AbstractMmlNode) {
    this.addAttributes(mml);
    this.nodes.push(mml);
  }
}

</t>
<t tx="ekr.20211016054411.1583">/**
 * Push some math into the node list, adding mathsize and mathcolor
 *   if specified in the environment.
 *
 * @param {MmlNode} mml   The math nodes to push
 */
public PushMath(mml: MmlNode) {
  const env = this.stack.env;
  for (const name of ['mathsize', 'mathcolor']) {
    if (env[name] &amp;&amp; !mml.attributes.getExplicit(name)) {
      if (!mml.isToken &amp;&amp; !mml.isKind('mstyle')) {
        mml = this.create('node', 'mstyle', [mml]);
      }
      NodeUtil.setAttribute(mml, name, env[name]);
    }
  }
  if (mml.isInferred) {
    mml = this.create('node', 'mrow', mml.childNodes);
  }
  this.nodes.push(mml);
}

</t>
<t tx="ekr.20211016054411.1584">/**
 * Add mathsize, mathcolor, and mathvariant to token nodes,
 *   if they are specified in the environment
 *
 * @param {MmlNode} mml   The node to adjust
 */
public addAttributes(mml: MmlNode) {
  const env = this.stack.env;
  if (!mml.isToken) return;
  for (const name of ['mathsize', 'mathcolor', 'mathvariant']) {
    if (env[name] &amp;&amp; !mml.attributes.getExplicit(name)) {
      NodeUtil.setAttribute(mml, name, env[name]);
    }
  }
}

</t>
<t tx="ekr.20211016054411.1585">/**
 * Process the argument as text with the given environment settings
 *
 * @param {string} name   The macro that is calling for a parameter
 * @param {EnvList} env   The environment to use
 */
public ParseTextArg(name: string, env: EnvList) {
  const text = this.GetArgument(name);
  env = Object.assign(Object.assign({}, this.stack.env), env);
  return (new TextParser(text, env, this.configuration)).mml();
}

</t>
<t tx="ekr.20211016054411.1586">/**
 * Process an argument as text rather than math
 *
 * @override
 */
public ParseArg(name: string) {
  return (new TextParser(this.GetArgument(name), this.stack.env, this.configuration)).mml();
}

</t>
<t tx="ekr.20211016054411.1587">/**
 * Throw an error
 *
 * @param {string} id        The id for the message string
 * @param {string} message   The English version of the message
 * @param {string[]} args    Any substitution args for the message
 */
public Error(id: string, message: string, ...args: string[]) {
  throw new TexError(id, message, ...args);
}

</t>
<t tx="ekr.20211016054411.1588"></t>
<t tx="ekr.20211016054411.1589">



/**
 * @fileoverview Configuration file for the unicode package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import {EnvList} from '../StackItem.js';
import TexParser from '../TexParser.js';
import TexError from '../TexError.js';
import {CommandMap} from '../SymbolMap.js';
import {ParseMethod} from '../Types.js';
import ParseUtil from '../ParseUtil.js';
import NodeUtil from '../NodeUtil.js';
import {numeric} from '../../../util/Entities.js';

// Namespace
export let UnicodeMethods: Record&lt;string, ParseMethod&gt; = {};

let UnicodeCache: {[key: number]: [number, number, string, number]} = {};

/**
 * Parse function for unicode macro.
 * @param {TexParser} parser The current tex parser.
 * @param {string} name The name of the macro.
 */
UnicodeMethods.Unicode = function(parser: TexParser, name: string) {
  let HD = parser.GetBrackets(name);
  let HDsplit = null;
  let font = null;
  if (HD) {
    if (HD.replace(/ /g, '').
        match(/^(\d+(\.\d*)?|\.\d+),(\d+(\.\d*)?|\.\d+)$/)) {
      HDsplit = HD.replace(/ /g, '').split(/,/);
      font = parser.GetBrackets(name);
    } else {
      font = HD;
    }
  }
  let n = ParseUtil.trimSpaces(parser.GetArgument(name)).replace(/^0x/, 'x');
  if (!n.match(/^(x[0-9A-Fa-f]+|[0-9]+)$/)) {
    throw new TexError('BadUnicode', 'Argument to \\unicode must be a number');
  }
  let N = parseInt(n.match(/^x/) ? '0' + n : n);
  if (!UnicodeCache[N]) {
    UnicodeCache[N] = [800, 200, font, N];
  } else if (!font) {
    font = UnicodeCache[N][2];
  }
  if (HDsplit) {
    UnicodeCache[N][0] = Math.floor(parseFloat(HDsplit[0]) * 1000);
    UnicodeCache[N][1] = Math.floor(parseFloat(HDsplit[1]) * 1000);
  }
  let variant = parser.stack.env.font as string;
  let def: EnvList = {};
  if (font) {
    UnicodeCache[N][2] = def.fontfamily = font.replace(/'/g, '\'');
    if (variant) {
      if (variant.match(/bold/)) {
        def.fontweight = 'bold';
      }
      if (variant.match(/italic|-mathit/)) {
        def.fontstyle = 'italic';
      }
    }
  } else if (variant) {
    def.mathvariant = variant;
  }
  let node = parser.create('token', 'mtext', def, numeric(n));
  NodeUtil.setProperty(node, 'unicode', true);
  parser.Push(node);
};


new CommandMap('unicode', {unicode: 'Unicode'}, UnicodeMethods);


export const UnicodeConfiguration = Configuration.create(
  'unicode', {handler: {macro: ['unicode']}}
);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.159"></t>
<t tx="ekr.20211016054411.1590"></t>
<t tx="ekr.20211016054411.1591">



/**
 * @fileoverview Configuration file for the upgreek package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import {Symbol} from '../Symbol.js';
import {CharacterMap} from '../SymbolMap.js';
import {TexConstant} from '../TexConstants.js';
import TexParser from '../TexParser.js';


/**
 * Handle greek mathchar as mi in normal variant.
 * @param {TexParser} parser The current tex parser.
 * @param {Symbol} mchar The parsed symbol.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1592">function mathchar0miNormal(parser: TexParser, mchar: Symbol) {
  const def = mchar.attributes || {};
  def.mathvariant = TexConstant.Variant.NORMAL;
  const node = parser.create('token', 'mi', def, mchar.char);
  parser.Push(node);
}

/**
 * Upright Greek characters.
 */
new CharacterMap('upgreek', mathchar0miNormal, {
  upalpha:        '\u03B1',
  upbeta:         '\u03B2',
  upgamma:        '\u03B3',
  updelta:        '\u03B4',
  upepsilon:      '\u03F5',
  upzeta:         '\u03B6',
  upeta:          '\u03B7',
  uptheta:        '\u03B8',
  upiota:         '\u03B9',
  upkappa:        '\u03BA',
  uplambda:       '\u03BB',
  upmu:           '\u03BC',
  upnu:           '\u03BD',
  upxi:           '\u03BE',
  upomicron:      '\u03BF',
  uppi:           '\u03C0',
  uprho:          '\u03C1',
  upsigma:        '\u03C3',
  uptau:          '\u03C4',
  upupsilon:      '\u03C5',
  upphi:          '\u03D5',
  upchi:          '\u03C7',
  uppsi:          '\u03C8',
  upomega:        '\u03C9',
  upvarepsilon:   '\u03B5',
  upvartheta:     '\u03D1',
  upvarpi:        '\u03D6',
  upvarrho:       '\u03F1',
  upvarsigma:     '\u03C2',
  upvarphi:       '\u03C6',

  Upgamma:        '\u0393',
  Updelta:        '\u0394',
  Uptheta:        '\u0398',
  Uplambda:       '\u039B',
  Upxi:           '\u039E',
  Uppi:           '\u03A0',
  Upsigma:        '\u03A3',
  Upupsilon:      '\u03A5',
  Upphi:          '\u03A6',
  Uppsi:          '\u03A8',
  Upomega:        '\u03A9'
});


export const UpgreekConfiguration = Configuration.create(
  'upgreek', {
    handler: {macro: ['upgreek']},
  }
);

</t>
<t tx="ekr.20211016054411.1593"></t>
<t tx="ekr.20211016054411.1594">



/**
 * @fileoverview Configuration file for the verb package.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */

import {Configuration} from '../Configuration.js';
import {TexConstant} from '../TexConstants.js';
import TexParser from '../TexParser.js';
import {CommandMap} from '../SymbolMap.js';
import {ParseMethod} from '../Types.js';
import TexError from '../TexError.js';


// Namespace
export let VerbMethods: Record&lt;string, ParseMethod&gt; = {};


/**
 * Implements the verbatim notation \verb|...|.
 * @param {TexParser} parser The current tex parser.
 * @param {string} name The name of the calling macro.
 */
VerbMethods.Verb = function(parser: TexParser, name: string) {
  const c = parser.GetNext();
  const start = ++parser.i;
  if (c === '' ) {
    throw new TexError('MissingArgFor', 'Missing argument for %1', name);
  }
  while (parser.i &lt; parser.string.length &amp;&amp;
         parser.string.charAt(parser.i) !== c) {
    parser.i++;
  }
  if (parser.i === parser.string.length) {
    throw new TexError('NoClosingDelim',
                       'Can\'t find closing delimiter for %1',
                       parser.currentCS);
  }
  const text = parser.string.slice(start, parser.i).replace(/ /g, '\u00A0');
  parser.i++;
  parser.Push(parser.create('token', 'mtext',
                            {mathvariant: TexConstant.Variant.MONOSPACE},
                            text));
};


new CommandMap('verb', {verb: 'Verb'}, VerbMethods);


export const VerbConfiguration = Configuration.create(
  'verb', {handler: {macro: ['verb']}}
);
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1595"></t>
<t tx="ekr.20211016054411.1596">


/**
 * @fileoverview  Implements the CHTML OutputJax object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CommonOutputJax} from './common/OutputJax.js';
import {CommonWrapper} from './common/Wrapper.js';
import {StyleList} from '../util/Styles.js';
import {StyleList as CssStyleList, CssStyles} from '../util/StyleList.js';
import {OptionList} from '../util/Options.js';
import {MathDocument} from '../core/MathDocument.js';
import {MathItem} from '../core/MathItem.js';
import {MmlNode} from '../core/MmlTree/MmlNode.js';
import {CHTMLWrapper} from './chtml/Wrapper.js';
import {CHTMLWrapperFactory} from './chtml/WrapperFactory.js';
import {CHTMLFontData} from './chtml/FontData.js';
import {Usage} from './chtml/Usage.js';
import {TeXFont} from './chtml/fonts/tex.js';
import * as LENGTHS from '../util/lengths.js';
import {unicodeChars} from '../util/string.js';


/*****************************************************************/
/**
 *  Implements the CHTML class (extends AbstractOutputJax)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class CHTML&lt;N, T, D&gt; extends
CommonOutputJax&lt;N, T, D, CHTMLWrapper&lt;N, T, D&gt;, CHTMLWrapperFactory&lt;N, T, D&gt;, CHTMLFontData, typeof CHTMLFontData&gt; {

  /**
   * The name of this output jax
   */
  public static NAME: string = 'CHTML';

  /**
   * @override
   */
  public static OPTIONS: OptionList = {
    ...CommonOutputJax.OPTIONS,
    adaptiveCSS: true,            // true means only produce CSS that is used in the processed equations
    matchFontHeight: true,        // true to match ex-height of surrounding font
  };

  /**
   *  The default styles for CommonHTML
   */
  public static commonStyles: CssStyleList = {
    'mjx-container[jax="CHTML"]': {'line-height': 0},

    'mjx-container [space="1"]': {'margin-left': '.111em'},
    'mjx-container [space="2"]': {'margin-left': '.167em'},
    'mjx-container [space="3"]': {'margin-left': '.222em'},
    'mjx-container [space="4"]': {'margin-left': '.278em'},
    'mjx-container [space="5"]': {'margin-left': '.333em'},

    'mjx-container [rspace="1"]': {'margin-right': '.111em'},
    'mjx-container [rspace="2"]': {'margin-right': '.167em'},
    'mjx-container [rspace="3"]': {'margin-right': '.222em'},
    'mjx-container [rspace="4"]': {'margin-right': '.278em'},
    'mjx-container [rspace="5"]': {'margin-right': '.333em'},

    'mjx-container [size="s"]' : {'font-size': '70.7%'},
    'mjx-container [size="ss"]': {'font-size': '50%'},
    'mjx-container [size="Tn"]': {'font-size': '60%'},
    'mjx-container [size="sm"]': {'font-size': '85%'},
    'mjx-container [size="lg"]': {'font-size': '120%'},
    'mjx-container [size="Lg"]': {'font-size': '144%'},
    'mjx-container [size="LG"]': {'font-size': '173%'},
    'mjx-container [size="hg"]': {'font-size': '207%'},
    'mjx-container [size="HG"]': {'font-size': '249%'},

    'mjx-container [width="full"]': {width: '100%'},

    'mjx-box': {display: 'inline-block'},
    'mjx-block': {display: 'block'},
    'mjx-itable': {display: 'inline-table'},
    'mjx-row': {display: 'table-row'},
    'mjx-row &gt; *': {display: 'table-cell'},

    //
    //  These don't have Wrapper subclasses, so add their styles here
    //
    'mjx-mtext': {
      display: 'inline-block'
    },
    'mjx-mstyle': {
      display: 'inline-block'
    },
    'mjx-merror': {
      display: 'inline-block',
      color: 'red',
      'background-color': 'yellow'
    },
    'mjx-mphantom': {
      visibility: 'hidden'
    },

    //
    //  WebKit-specific CSS to handle bug with clipped characters.
    //  (test found at https://browserstrangeness.bitbucket.io/css_hacks.html#safari)
    //
    '_::-webkit-full-page-media, _:future, :root mjx-container': {
      'will-change': 'opacity'
    }
  };

  /**
   * The ID for the stylesheet element for the styles for the SVG output
   */
  public static STYLESHEETID = 'MJX-CHTML-styles';

  /**
   *  Used to store the CHTMLWrapper factory.
   */
  public factory: CHTMLWrapperFactory&lt;N, T, D&gt;;

  /**
   * The usage information for the wrapper classes
   */
  public wrapperUsage: Usage&lt;string&gt;;

  /**
   * The CHTML stylesheet, once it is constructed
   */
  public chtmlStyles: N = null;

  /**
   * @override
   * @constructor
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1597">constructor(options: OptionList = null) {
  super(options, CHTMLWrapperFactory as any, TeXFont);
  this.font.adaptiveCSS(this.options.adaptiveCSS);
  this.wrapperUsage = new Usage&lt;string&gt;();
}

</t>
<t tx="ekr.20211016054411.1598">/**
 * @override
 */
public escaped(math: MathItem&lt;N, T, D&gt;, html: MathDocument&lt;N, T, D&gt;) {
  this.setDocument(html);
  return this.html('span', {}, [this.text(math.math)]);
}

</t>
<t tx="ekr.20211016054411.1599">/**
 * @override
 */
public styleSheet(html: MathDocument&lt;N, T, D&gt;) {
  if (this.chtmlStyles) {
    if (this.options.adaptiveCSS) {
      //
      // Update the style sheet rules
      //
      const styles = new CssStyles();
      this.addWrapperStyles(styles);
      this.updateFontStyles(styles);
      this.adaptor.insertRules(this.chtmlStyles, styles.getStyleRules());
    }
    return this.chtmlStyles;  // stylesheet is already added to the document
  }
  const sheet = this.chtmlStyles = super.styleSheet(html);
  this.adaptor.setAttribute(sheet, 'id', CHTML.STYLESHEETID);
  this.wrapperUsage.update();
  return sheet;
}

/**
 * @param {CssStyles} styles   The styles to update with newly used character styles
 */
protected updateFontStyles(styles: CssStyles) {
  styles.addStyles(this.font.updateStyles({}));
}

/**
 * @override
 */
protected addWrapperStyles(styles: CssStyles) {
  if (!this.options.adaptiveCSS) {
    super.addWrapperStyles(styles);
    return;
  }
  for (const kind of this.wrapperUsage.update()) {
    const wrapper = this.factory.getNodeClass(kind) as any as typeof CommonWrapper;
    wrapper &amp;&amp; this.addClassStyles(wrapper, styles);
  }
}

/**
 * @override
 */
protected addClassStyles(wrapper: typeof CommonWrapper, styles: CssStyles) {
  const CLASS = wrapper as typeof CHTMLWrapper;
  if (CLASS.autoStyle &amp;&amp; CLASS.kind !== 'unknown') {
    styles.addStyles({
      ['mjx-' + CLASS.kind]: {
        display: 'inline-block',
        'text-align': 'left'
      }
    });
  }
  this.wrapperUsage.add(CLASS.kind);
  super.addClassStyles(wrapper, styles);
}

/**
 * @param {MmlNode} math  The MML node whose HTML is to be produced
 * @param {N} parent      The HTML node to contain the HTML
 */
protected processMath(math: MmlNode, parent: N) {
  this.factory.wrap(math).toCHTML(parent);
}

</t>
<t tx="ekr.20211016054411.16">
import './lib/assistive-mml.js';

import {AssistiveMmlHandler} from '../../../../js/a11y/assistive-mml.js';

if (MathJax.startup) {
  MathJax.startup.extendHandler(handler =&gt; AssistiveMmlHandler(handler));
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.160">
import './lib/tex-base.js';

import {registerTeX} from '../tex/register.js';

registerTeX(['base']);

@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1600">/**
 * Clear the cache of which items need their styles to be output
 */
public clearCache() {
  this.cssStyles.clear();
  this.font.clearCache();
  this.wrapperUsage.clear();
  this.chtmlStyles = null;
}

</t>
<t tx="ekr.20211016054411.1601">/**
 * @override
 */
public reset() {
  this.clearCache();
}

/*****************************************************************/

</t>
<t tx="ekr.20211016054411.1602">/**
 * @override
 */
public unknownText(text: string, variant: string, width: number = null) {
  const styles: StyleList = {};
  const scale = 100 / this.math.metrics.scale;
  if (scale !== 100) {
    styles['font-size'] = this.fixed(scale, 1) + '%';
    styles.padding = LENGTHS.em(75 / scale) + ' 0 ' + LENGTHS.em(20 / scale) + ' 0';
  }
  if (variant !== '-explicitFont') {
    const c = unicodeChars(text);
    if (c.length !== 1 || c[0] &lt; 0x1D400 || c[0] &gt; 0x1D7FF) {
      this.cssFontStyles(this.font.getCssFont(variant), styles);
    }
  }
  //
  // Work around Safari bug with the MJXZERO font by forcing the width.
  //   (If MJXZERO can be made to work with Safari, then remove width parameter
  //    and call to getBBox().w in TextNode.ts)
  //
  if (width !== null) {
    const metrics = this.math.metrics;
    styles.width = Math.round(width * metrics.em * metrics.scale) + 'px';
  }
  //
  return this.html('mjx-utext', {variant: variant, style: styles}, [this.text(text)]);
}

</t>
<t tx="ekr.20211016054411.1603">/**
 * Measure the width of a text element by placing it in the page
 *  and looking up its size (fake the height and depth, since we can't measure that)
 *
 * @override
 */

  public measureTextNode(textNode: N) {
    const adaptor = this.adaptor;
    const text = adaptor.clone(textNode);
    //
    // Work arround Safari bug with the MJXZERO font.
    //
    adaptor.setStyle(text, 'font-family', adaptor.getStyle(text, 'font-family').replace(/MJXZERO, /g, ''));
    //
    const style = {position: 'absolute', 'white-space': 'nowrap'};
    const node = this.html('mjx-measure-text', {style}, [text]);
    adaptor.append(adaptor.parent(this.math.start.node), this.container);
    adaptor.append(this.container, node);
    let w = adaptor.nodeSize(text, this.math.metrics.em)[0] / this.math.metrics.scale;
    adaptor.remove(this.container);
    adaptor.remove(node);
    return {w: w, h: .75, d: .2};
  }

}
</t>
<t tx="ekr.20211016054411.1604">


/**
 * @fileoverview  Implements the SVG OutputJax object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CommonOutputJax, UnknownBBox} from './common/OutputJax.js';
import {OptionList} from '../util/Options.js';
import {MathDocument} from '../core/MathDocument.js';
import {MathItem} from '../core/MathItem.js';
import {MmlNode} from '../core/MmlTree/MmlNode.js';
import {SVGWrapper} from './svg/Wrapper.js';
import {SVGWrapperFactory} from './svg/WrapperFactory.js';
import {SVGFontData} from './svg/FontData.js';
import {TeXFont} from './svg/fonts/tex.js';
import {StyleList as CssStyleList} from '../util/StyleList.js';
import {FontCache} from './svg/FontCache.js';
import {unicodeChars} from '../util/string.js';
import {percent} from '../util/lengths.js';

export const SVGNS = 'http://www.w3.org/2000/svg';
export const XLINKNS = 'http://www.w3.org/1999/xlink';

/*****************************************************************/
/**
 *  Implements the CHTML class (extends AbstractOutputJax)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class SVG&lt;N, T, D&gt; extends
CommonOutputJax&lt;N, T, D, SVGWrapper&lt;N, T, D&gt;, SVGWrapperFactory&lt;N, T, D&gt;, SVGFontData, typeof SVGFontData&gt; {

  /**
   * The name of the output jax
   */
  public static NAME: string = 'SVG';

  /**
   * @override
   */
  public static OPTIONS: OptionList = {
    ...CommonOutputJax.OPTIONS,
    internalSpeechTitles: true,     // insert &lt;title&gt; tags with speech content
    titleID: 0,                     // initial id number to use for aria-labeledby titles
    fontCache: 'local',             // or 'global' or 'none'
    localID: null,                  // ID to use for local font cache (for single equation processing)
  };

  /**
   *  The default styles for SVG
   */
  public static commonStyles: CssStyleList = {
    'mjx-container[jax="SVG"]': {
      direction: 'ltr'
    },
    'mjx-container[jax="SVG"] &gt; svg': {
      overflow: 'visible',
      'min-height': '1px',
      'min-width': '1px'
    },
    'mjx-container[jax="SVG"] &gt; svg a': {
      fill: 'blue', stroke: 'blue'
    }
  };

  /**
   * The ID for the SVG element that stores the cached font paths
   */
  public static FONTCACHEID = 'MJX-SVG-global-cache';

  /**
   * The ID for the stylesheet element for the styles for the SVG output
   */
  public static STYLESHEETID = 'MJX-SVG-styles';

  /**
   * Stores the CHTMLWrapper factory
   */
  public factory: SVGWrapperFactory&lt;N, T, D&gt;;

  /**
   * Stores the information about the cached character glyphs
   */
  public fontCache: FontCache&lt;N, T, D&gt;;

  /**
   * Minimum width for tables with labels,
   */
  public minwidth: number = 0;
  /**
   * The shift for the main equation
   */
  public shift: number = 0;

  /**
   * The container element for the math
   */
  public container: N = null;

  /**
   * The SVG stylesheet, once it is constructed
   */
  public svgStyles: N = null;

  /**
   * @override
   * @constructor
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1605">constructor(options: OptionList = null) {
  super(options, SVGWrapperFactory as any, TeXFont);
  this.fontCache = new FontCache(this);
}

</t>
<t tx="ekr.20211016054411.1606">/**
 * @override
 */
public initialize() {
  if (this.options.fontCache === 'global') {
    this.fontCache.clearCache();
  }
}

</t>
<t tx="ekr.20211016054411.1607">/**
 * Clear the font cache (use for resetting the global font cache)
 */
public clearFontCache() {
  this.fontCache.clearCache();
}

</t>
<t tx="ekr.20211016054411.1608">/**
 * @override
 */
public reset() {
  this.clearFontCache();
}

/**
 * @override
 */
protected setScale(node: N) {
  if (this.options.scale !== 1) {
    this.adaptor.setStyle(node, 'fontSize', percent(this.options.scale));
  }
}

</t>
<t tx="ekr.20211016054411.1609">/**
 * @override
 */
public escaped(math: MathItem&lt;N, T, D&gt;, html: MathDocument&lt;N, T, D&gt;) {
  this.setDocument(html);
  return this.html('span', {}, [this.text(math.math)]);
}

</t>
<t tx="ekr.20211016054411.161">
const PACKAGE = require('../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex-base',                   // the package to build
  '../../../../js',                   // location of the MathJax js library
  ['components/src/core/lib'],        // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1610">/**
 * @override
 */
public styleSheet(html: MathDocument&lt;N, T, D&gt;) {
  if (this.svgStyles) {
    return this.svgStyles;  // stylesheet is already added to the document
  }
  const sheet = this.svgStyles = super.styleSheet(html);
  this.adaptor.setAttribute(sheet, 'id', SVG.STYLESHEETID);
  return sheet;
}

</t>
<t tx="ekr.20211016054411.1611">/**
 * @override
 */
public pageElements(html: MathDocument&lt;N, T, D&gt;) {
  if (this.options.fontCache === 'global' &amp;&amp; !this.findCache(html)) {
    return this.svg('svg', {id: SVG.FONTCACHEID, style: {display: 'none'}}, [this.fontCache.getCache()]);
  }
  return null as N;
}

/**
 * Checks if there is already a font-cache element in the page
 *
 * @param {MathDocument} html   The document to search
 * @return {boolean}            True if a font cache already exists in the page
 */
protected findCache(html: MathDocument&lt;N, T, D&gt;): boolean {
  const adaptor = this.adaptor;
  const svgs = adaptor.tags(adaptor.body(html.document), 'svg');
  for (let i = svgs.length - 1; i &gt;= 0; i--) {
    if (this.adaptor.getAttribute(svgs[i], 'id') === SVG.FONTCACHEID) {
      return true;
    }
  }
  return false;
}

/**
 * @param {MmlNode} math  The MML node whose SVG is to be produced
 * @param {N} parent      The HTML node to contain the SVG
 */
protected processMath(math: MmlNode, parent: N) {
  //
  // Cache the container (tooltips process into separate containers)
  //
  const container = this.container;
  this.container = parent;
  //
  //  Get the wrapped math element and the SVG container
  //  Then typeset the math into the SVG
  //
  const wrapper = this.factory.wrap(math);
  const [svg, g] = this.createRoot(wrapper);
  this.typesetSVG(wrapper, svg, g);
  //
  //  Put back the original container
  //
  this.container = container;
}

/**
 * @param {SVGWrapper} wrapper   The wrapped math to process
 * @return {[N, N]}              The svg and g nodes for the math
 */
protected createRoot(wrapper: SVGWrapper&lt;N, T, D&gt;): [N, N] {
  const {w, h, d, pwidth} = wrapper.getBBox();
  const px = wrapper.metrics.em / 1000;
  const W = Math.max(w, px); // make sure we are at least one unitpx wide (needed for e.g. \llap)
  const H = Math.max(h + d, px); // make sure we are at least one px tall (needed for e.g., \smash)
  //
  //  The container that flips the y-axis and sets the colors to inherit from the surroundings
  //
  const g = this.svg('g', {
    stroke: 'currentColor', fill: 'currentColor',
    'stroke-width': 0, transform: 'scale(1,-1)'
  }) as N;
  //
  //  The svg element with its viewBox, size and alignment
  //
  const adaptor = this.adaptor;
  const svg = adaptor.append(this.container, this.svg('svg', {
    xmlns: SVGNS,
    width: this.ex(W), height: this.ex(H),
    role: 'img', focusable: false,
    style: {'vertical-align': this.ex(-d)},
    viewBox: [0, this.fixed(-h * 1000, 1), this.fixed(W * 1000, 1), this.fixed(H * 1000, 1)].join(' ')
  }, [g])) as N;
  if (W === .001) {
    adaptor.setAttribute(svg, 'preserveAspectRatio', 'xMidYMid slice');
    if (w &lt; 0) {
      adaptor.setStyle(this.container, 'margin-right', this.ex(w));
    }
  }
  if (pwidth) {
    //
    // Use width 100% with no viewbox, and instead scale and translate to achieve the same result
    //
    adaptor.setStyle(svg, 'min-width', this.ex(W));
    adaptor.setAttribute(svg, 'width', pwidth);
    adaptor.removeAttribute(svg, 'viewBox');
    const scale = this.fixed(wrapper.metrics.ex / (this.font.params.x_height * 1000), 6);
    adaptor.setAttribute(g, 'transform', `scale(${scale},-${scale}) translate(0, ${this.fixed(-h * 1000, 1)})`);
  }
  if (this.options.fontCache !== 'none') {
    adaptor.setAttribute(svg, 'xmlns:xlink', XLINKNS);
  }
  return [svg, g];
}

/**
 * Typeset the math and add minwidth (from mtables), or set the alignment and indentation
 * of the finalized expression.
 *
 * @param {SVGWrapper} wrapper   The wrapped math to typeset
 * @param {N} svg                The main svg element for the typeet math
 * @param {N} g                  The group in which the math is typeset
 */
protected typesetSVG(wrapper: SVGWrapper&lt;N, T, D&gt;, svg: N, g: N) {
  const adaptor = this.adaptor;
  //
  //  Typeset the math and add minWidth (from mtables), or set the alignment and indentation
  //    of the finalized expression
  //
  this.minwidth = this.shift = 0;
  if (this.options.fontCache === 'local') {
    this.fontCache.clearCache();
    this.fontCache.useLocalID(this.options.localID);
    adaptor.insert(this.fontCache.getCache(), g);
  }
  wrapper.toSVG(g);
  this.fontCache.clearLocalID();
  if (this.minwidth) {
    adaptor.setStyle(svg, 'minWidth', this.ex(this.minwidth));
    adaptor.setStyle(this.container, 'minWidth', this.ex(this.minwidth));
  } else if (this.shift) {
    const align = adaptor.getAttribute(this.container, 'justify') || 'center';
    this.setIndent(svg, align, this.shift);
  }
}

/**
 * @param {N} svg         The svg node whose indentation is to be adjusted
 * @param {string} align  The alignment for the node
 * @param {number} shift  The indent (positive or negative) for the node
 */
protected setIndent(svg: N, align: string, shift: number) {
  if (align === 'center' || align === 'left') {
    this.adaptor.setStyle(svg, 'margin-left', this.ex(shift));
  }
  if (align === 'center' || align === 'right') {
    this.adaptor.setStyle(svg, 'margin-right', this.ex(-shift));
  }
}

</t>
<t tx="ekr.20211016054411.1612">/**
 * @param {number} m  A number to be shown in ex
 * @return {string}   The number with units of ex
 */
public ex(m: number): string {
  m /= this.font.params.x_height;
  return (Math.abs(m) &lt; .001 ? '0' : m.toFixed(3).replace(/\.?0+$/, '') + 'ex');
}

</t>
<t tx="ekr.20211016054411.1613">/**
 * @param {string} kind             The kind of node to create
 * @param {OptionList} properties   The properties to set for the element
 * @param {(N|T)[]} children            The child nodes for this node
 * @return {N}                      The newly created node in the SVG namespace
 */
public svg(kind: string, properties: OptionList = {}, children: (N | T)[] = []): N {
  return this.html(kind, properties, children, SVGNS);
}

</t>
<t tx="ekr.20211016054411.1614">/**
 * @param {string} text      The text to be displayed
 * @param {string} variant   The name of the variant for the text
 * @return {N}               The text element containing the text
 */
public unknownText(text: string, variant: string): N {
  const metrics = this.math.metrics;
  const scale = this.font.params.x_height / metrics.ex * metrics.em * 1000;
  const svg = this.svg('text', {
    'data-variant': variant,
    transform: 'scale(1,-1)', 'font-size': this.fixed(scale, 1) + 'px'
  }, [this.text(text)]);
  const adaptor = this.adaptor;
  if (variant !== '-explicitFont') {
    const c = unicodeChars(text);
    if (c.length !== 1 || c[0] &lt; 0x1D400 || c[0] &gt; 0x1D7FF) {
      const [family, italic, bold] = this.font.getCssFont(variant);
      adaptor.setAttribute(svg, 'font-family', family);
      if (italic) {
        adaptor.setAttribute(svg, 'font-style', 'italic');
      }
      if (bold) {
        adaptor.setAttribute(svg, 'font-weight', 'bold');
      }
    }
  }
  return svg;
}

</t>
<t tx="ekr.20211016054411.1615">/**
 * Measure the width of a text element by placing it in the page
 *  and looking up its size (fake the height and depth, since we can't measure that)
 *
 * @param {N} text         The text element to measure
 * @return {Object}        The width, height and depth for the text
 */
  public measureTextNode(text: N): UnknownBBox {
    const adaptor = this.adaptor;
    text = adaptor.clone(text);
    adaptor.removeAttribute(text, 'transform');
    const ex = this.fixed(this.font.params.x_height * 1000, 1);
    const svg = this.svg('svg', {
      position: 'absolute', visibility: 'hidden',
      width: '1ex', height: '1ex',
      viewBox: [0, 0, ex, ex].join(' ')
    }, [text]);
    adaptor.append(adaptor.body(adaptor.document), svg);
    let w = adaptor.nodeSize(text, 1000, true)[0];
    adaptor.remove(svg);
    return {w: w, h: .75, d: .2};
  }

}
</t>
<t tx="ekr.20211016054411.1616"></t>
<t tx="ekr.20211016054411.1617">


/**
 * @fileoverview  Implements the CHTMLFontData class and AddCSS() function.
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CharMap, CharOptions, CharData, VariantData, DelimiterData, FontData, DIRECTION} from '../common/FontData.js';
import {Usage} from './Usage.js';
import {StringMap} from './Wrapper.js';
import {StyleList, StyleData} from '../../util/StyleList.js';
import {em} from '../../util/lengths.js';

export * from '../common/FontData.js';

/****************************************************************************/

/**
 * Add the extra data needed for CharOptions in CHTML
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1618">export interface CHTMLCharOptions extends CharOptions {
  c?: string;                   // the content value (for css)
  f?: string;                   // the font postfix (for css)
}

/**
 * Shorthands for CHTML char maps and char data
 */
export type CHTMLCharMap = CharMap&lt;CHTMLCharOptions&gt;;
export type CHTMLCharData = CharData&lt;CHTMLCharOptions&gt;;

</t>
<t tx="ekr.20211016054411.1619">/**
 * The extra data needed for a Variant in CHTML output
 */
export interface CHTMLVariantData extends VariantData&lt;CHTMLCharOptions&gt; {
  classes?: string;             // the classes to use for this variant
  letter: string;               // the font letter(s) for the default font for this variant
}

</t>
<t tx="ekr.20211016054411.162"></t>
<t tx="ekr.20211016054411.1620">/**
 * The extra data needed for a Delimiter in CHTML output
 */
export interface CHTMLDelimiterData extends DelimiterData {
}

/****************************************************************************/

</t>
<t tx="ekr.20211016054411.1621">/**
 * The CHTML FontData class
 */
export class CHTMLFontData extends FontData&lt;CHTMLCharOptions, CHTMLVariantData, CHTMLDelimiterData&gt; {
  /**
   * Default options
   */
  public static OPTIONS = {
    ...FontData.OPTIONS,
    fontURL: 'js/output/chtml/fonts/tex-woff-v2'
  };

  /**
   * The default class names to use for each variant
   */
  protected static defaultVariantClasses: StringMap = {};

  /**
   * The default font letter to use for each variant
   */
  protected static defaultVariantLetters: StringMap = {};

  /**
   * The CSS styles needed for this font.
   */
  protected static defaultStyles = {
    'mjx-c::before': {
      display: 'block',
      width: 0
    }
  };

  /**
   * The default @font-face declarations with %%URL%% where the font path should go
   */
  protected static defaultFonts = {
    '@font-face /* 0 */': {
      'font-family': 'MJXZERO',
      src: 'url("%%URL%%/MathJax_Zero.woff") format("woff")'
    }
  };

  /***********************************************************************/

  /**
   * Data about the characters used (for adaptive CSS)
   */
  public charUsage: Usage&lt;[string, number]&gt; = new Usage&lt;[string, number]&gt;();

  /**
   * Data about the delimiters used (for adpative CSS)
   */
  public delimUsage: Usage&lt;number&gt; = new Usage&lt;number&gt;();

  /***********************************************************************/

  /**
   * @override
   */
  @others
</t>
<t tx="ekr.20211016054411.1622">public static charOptions(font: CHTMLCharMap, n: number) {
  return super.charOptions(font, n) as CHTMLCharOptions;
}

/***********************************************************************/

</t>
<t tx="ekr.20211016054411.1623">/**
 * @param {boolean} adapt   Whether to use adaptive CSS or not
 */
public adaptiveCSS(adapt: boolean) {
  this.options.adaptiveCSS = adapt;
}

</t>
<t tx="ekr.20211016054411.1624">/**
 * Clear the cache of which characters have been used
 */
public clearCache() {
  if (this.options.adaptiveCSS) {
    this.charUsage.clear();
    this.delimUsage.clear();
  }
}

</t>
<t tx="ekr.20211016054411.1625">/**
 * @override
 */
public createVariant(name: string, inherit: string = null, link: string = null) {
  super.createVariant(name, inherit, link);
  let CLASS = (this.constructor as CHTMLFontDataClass);
  this.variant[name].classes = CLASS.defaultVariantClasses[name];
  this.variant[name].letter = CLASS.defaultVariantLetters[name];
}

</t>
<t tx="ekr.20211016054411.1626">/**
 * @override
 */
public defineChars(name: string, chars: CHTMLCharMap) {
  super.defineChars(name, chars);
  const letter = this.variant[name].letter;
  for (const n of Object.keys(chars)) {
    const options = CHTMLFontData.charOptions(chars, parseInt(n));
    if (options.f === undefined) {
      options.f = letter;
    }
  }
}

/***********************************************************************/

/**
 * @return {StyleList}  The (computed) styles for this font
 */
get styles(): StyleList {
  const CLASS = this.constructor as typeof CHTMLFontData;
  //
  //  Include the default styles
  //
  const styles: StyleList = {...CLASS.defaultStyles};
  //
  //  Add fonts with proper URL
  //
  this.addFontURLs(styles, CLASS.defaultFonts, this.options.fontURL);
  //
  //  Add the styles for delimiters and characters
  //
  this.updateStyles(styles);
  //
  //  Return the final style sheet
  //
  return styles;
}

</t>
<t tx="ekr.20211016054411.1627">/**
 * Get the styles for any newly used characters and delimiters
 *
 * @param {StyleList} styles  The style list to add delimiter styles to.
 * @return {StyleList}        The modified style list.
 */
public updateStyles(styles: StyleList): StyleList {
  for (const N of this.delimUsage.update()) {
    this.addDelimiterStyles(styles, N, this.delimiters[N]);
  }
  for (const [name, N] of this.charUsage.update()) {
    const variant = this.variant[name];
    this.addCharStyles(styles, variant.letter, N, variant.chars[N]);
  }
  return styles;
}

/**
 * @param {StyleList} styles    The style object to add styles to
 * @param {StyleList} fonts     The default font-face directives with %%URL%% where the url should go
 * @param {string} url          The actual URL to insert into the src strings
 */
protected addFontURLs(styles: StyleList, fonts: StyleList, url: string) {
  for (const name of Object.keys(fonts)) {
    const font = {...fonts[name]};
    font.src = (font.src as string).replace(/%%URL%%/, url);
    styles[name] = font;
  }
}

/*******************************************************/

/**
 * @param {StyleList} styles         The style object to add styles to
 * @param {number} n                 The unicode character number of the delimiter
 * @param {CHTMLDelimiterData} data  The data for the delimiter whose CSS is to be added
 */
protected addDelimiterStyles(styles: StyleList, n: number, data: CHTMLDelimiterData) {
  let c = this.charSelector(n);
  if (data.c &amp;&amp; data.c !== n) {
    c = this.charSelector(data.c);
    styles['.mjx-stretched mjx-c' + c + '::before'] = {
      content: this.charContent(data.c)
    };
  }
  if (!data.stretch) return;
  if (data.dir === DIRECTION.Vertical) {
    this.addDelimiterVStyles(styles, c, data);
  } else {
    this.addDelimiterHStyles(styles, c, data);
  }
}

/*******************************************************/

/**
 * @param {StyleList} styles         The style object to add styles to
 * @param {string} c                 The delimiter character string
 * @param {CHTMLDelimiterData} data  The data for the delimiter whose CSS is to be added
 */
protected addDelimiterVStyles(styles: StyleList, c: string, data: CHTMLDelimiterData) {
  const HDW = data.HDW as CHTMLCharData;
  const [beg, ext, end, mid] = data.stretch;
  const Hb = this.addDelimiterVPart(styles, c, 'beg', beg, HDW);
  this.addDelimiterVPart(styles, c, 'ext', ext, HDW);
  const He = this.addDelimiterVPart(styles, c, 'end', end, HDW);
  const css: StyleData = {};
  if (mid) {
    const Hm = this.addDelimiterVPart(styles, c, 'mid', mid, HDW);
    css.height = '50%';
    styles['mjx-stretchy-v' + c + ' &gt; mjx-mid'] = {
      'margin-top': this.em(-Hm / 2),
      'margin-bottom': this.em(-Hm / 2)
    };
  }
  if (Hb) {
    css['border-top-width'] = this.em0(Hb - .03);
  }
  if (He) {
    css['border-bottom-width'] = this.em0(He - .03);
    styles['mjx-stretchy-v' + c + ' &gt; mjx-end'] = {'margin-top': this.em(-He)};
  }
  if (Object.keys(css).length) {
    styles['mjx-stretchy-v' + c + ' &gt; mjx-ext'] = css;
  }
}

/**
 * @param {StyleList} styles  The style object to add styles to
 * @param {string} c          The vertical character whose part is being added
 * @param {string} part       The name of the part (beg, ext, end, mid) that is being added
 * @param {number} n          The unicode character to use for the part
 * @param {number} HDW        The height-depth-width data for the stretchy delimiter
 * @return {number}           The total height of the character
 */
protected addDelimiterVPart(styles: StyleList, c: string, part: string, n: number, HDW: CHTMLCharData): number {
  if (!n) return 0;
  const data = this.getDelimiterData(n);
  const dw = (HDW[2] - data[2]) / 2;
  const css: StyleData = {content: this.charContent(n)};
  if (part !== 'ext') {
    css.padding = this.padding(data, dw);
  } else {
    css.width = this.em0(HDW[2]);
    if (dw) {
      css['padding-left'] = this.em0(dw);
    }
  }
  styles['mjx-stretchy-v' + c + ' mjx-' + part + ' mjx-c::before'] = css;
  return data[0] + data[1];
}

/*******************************************************/

/**
 * @param {StyleList} styles         The style object to add styles to
 * @param {string} c                 The delimiter character string
 * @param {CHTMLDelimiterData} data  The data for the delimiter whose CSS is to be added
 */
protected addDelimiterHStyles(styles: StyleList, c: string, data: CHTMLDelimiterData) {
  const [beg, ext, end, mid] = data.stretch;
  const HDW = data.HDW as CHTMLCharData;
  this.addDelimiterHPart(styles, c, 'beg', beg, HDW);
  this.addDelimiterHPart(styles, c, 'ext', ext, HDW);
  this.addDelimiterHPart(styles, c, 'end', end, HDW);
  if (mid) {
    this.addDelimiterHPart(styles, c, 'mid', mid, HDW);
    styles['mjx-stretchy-h' + c + ' &gt; mjx-ext'] = {width: '50%'};
  }
}

/**
 * @param {StyleList} styles  The style object to add styles to
 * @param {string} c          The vertical character whose part is being added
 * @param {string} part       The name of the part (beg, ext, end, mid) that is being added
 * @param {number} n          The unicode character to use for the part
 * @param {CHTMLCharData} HDW The height-depth-width data for the stretchy character
 */
protected addDelimiterHPart(styles: StyleList, c: string, part: string, n: number, HDW: CHTMLCharData) {
  if (!n) return;
  const data = this.getDelimiterData(n);
  const options = data[3] as CHTMLCharOptions;
  const css: StyleData = {content: (options &amp;&amp; options.c ? '"' + options.c + '"' : this.charContent(n))};
  css.padding = this.padding(HDW as CHTMLCharData, 0, -HDW[2]);
  styles['mjx-stretchy-h' + c + ' mjx-' + part + ' mjx-c::before'] = css;
}

/*******************************************************/

/**
 * @param {StyleList} styles  The style object to add styles to
 * @param {string} vletter    The variant class letter (e.g., `B`, `SS`) where this character is being defined
 * @param {number} n          The unicode character being defined
 * @param {CHTMLCharData} data     The bounding box data and options for the character
 */
protected addCharStyles(styles: StyleList, vletter: string, n: number, data: CHTMLCharData) {
  const options = data[3] as CHTMLCharOptions;
  const letter = (options.f !== undefined ? options.f : vletter);
  const selector = 'mjx-c' + this.charSelector(n) + (letter ? '.TEX-' + letter : '');
  styles[selector + '::before'] = {
    padding: this.padding(data, 0, options.ic || 0),
    content: (options.c != null ? '"' + options.c + '"' : this.charContent(n))
  };
}

/***********************************************************************/

/**
 * @param {number} n         The character number to find
 * @return {CHTMLCharData}   The data for that character to be used for stretchy delimiters
 */
protected getDelimiterData(n: number): CHTMLCharData {
  return this.getChar('-smallop', n);
}

</t>
<t tx="ekr.20211016054411.1628">/**
 * @param {number} n  The number of ems
 * @return {string}   The string representing the number with units of "em"
 */
public em(n: number): string {
  return em(n);
}

</t>
<t tx="ekr.20211016054411.1629">/**
 * @param {number} n  The number of ems (will be restricted to non-negative values)
 * @return {string}   The string representing the number with units of "em"
 */
public em0(n: number): string {
  return em(Math.max(0, n));
}

</t>
<t tx="ekr.20211016054411.163">
import './lib/tex-full.js';

import {registerTeX} from '../tex/register.js';
import {Loader} from '../../../../js/components/loader.js';
import {AllPackages} from '../../../../js/input/tex/AllPackages.js';
import '../../../../js/input/tex/require/RequireConfiguration.js';

Loader.preLoad(
  'input/tex-base',
  '[tex]/all-packages',
  '[tex]/require'
);

registerTeX(['require',...AllPackages]);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1630">/**
 * @param {CHTMLCharData} data   The [h, d, w] data for the character
 * @param {number} dw            The (optional) left offset of the glyph
 * @param {number} ic            The (optional) italic correction value
 * @return {string}              The padding string for the h, d, w.
 */
public padding([h, d, w]: CHTMLCharData, dw: number = 0, ic: number = 0): string {
  return [h, w + ic, d, dw].map(this.em0).join(' ');
}

</t>
<t tx="ekr.20211016054411.1631">/**
 * @param {number} n  A unicode code point to be converted to character content for use with the
 *                    CSS rules for fonts (either a literal character for most ASCII values, or \nnnn
 *                    for higher values, or for the double quote and backslash characters).
 * @return {string}   The character as a properly encoded string in quotes.
 */
public charContent(n: number): string {
  return '"' + (n &gt;= 0x20 &amp;&amp; n &lt;= 0x7E &amp;&amp; n !== 0x22 &amp;&amp; n !== 0x27 &amp;&amp; n !== 0x5C ?
                String.fromCharCode(n) : '\\' + n.toString(16).toUpperCase()) + '"';
}

</t>
<t tx="ekr.20211016054411.1632">/**
 * @param {number} n  A unicode code point to be converted to a selector for use with the
 *                    CSS rules for fonts
 * @return {string}   The character as a selector value.
 */
  public charSelector(n: number): string {
    return '.mjx-c' + n.toString(16).toUpperCase();
  }

}

/**
 * The CHTMLFontData constructor class
 */
export type CHTMLFontDataClass = typeof CHTMLFontData;

/****************************************************************************/

/**
 * Data needed for AddCSS()
 */
export type CharOptionsMap = {[name: number]: CHTMLCharOptions};
export type CssMap = {[name: number]: number};

</t>
<t tx="ekr.20211016054411.1633">/**
 * @param {CHTMLCharMap} font        The font to augment
 * @param {CharOptionsMap} options   Any additional options for characters in the font
 * @return {CHTMLCharMap}            The augmented font
 */
export function AddCSS(font: CHTMLCharMap, options: CharOptionsMap): CHTMLCharMap {
  for (const c of Object.keys(options)) {
    const n = parseInt(c);
    Object.assign(FontData.charOptions(font, n), options[n]);
  }
  return font;
}
</t>
<t tx="ekr.20211016054411.1634">


/**
 * @fileoverview  Implements utilities for notations for menclose elements
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLmenclose} from './Wrappers/menclose.js';
import * as Notation from '../common/Notation.js';
export * from '../common/Notation.js';

/*
 * Shorthands for common types
 */
export type RENDERER&lt;N, T, D&gt; = Notation.Renderer&lt;CHTMLmenclose&lt;N, T, D&gt;, N&gt;;
export type DEFPAIR&lt;N, T, D&gt; = Notation.DefPair&lt;CHTMLmenclose&lt;N, T, D&gt;, N&gt;;

/**
 * Create a named element (handled by CSS), and adjust it if thickness is non-standard
 *
 * @param {string} name    The name of the element to create
 * @param {string} offset  The offset direction to adjust if thickness is non-standard
 * @return {RENDERER}      The renderer function for the given element name
 */
export const RenderElement = function&lt;N, T, D&gt;(name: string, offset: string = ''):  RENDERER&lt;N, T, D&gt; {
  return ((node, _child) =&gt; {
    const shape = node.adjustBorder(node.html('mjx-' + name));
    if (offset) {
      const d = node.getOffset(offset);
      if (node.thickness !== Notation.THICKNESS || d)  {
        const transform = `translate${offset}(${node.em(node.thickness / 2 - d)})`;
        node.adaptor.setStyle(shape, 'transform', transform);
      }
    }
    node.adaptor.append(node.chtml, shape);
  }) as Notation.Renderer&lt;CHTMLmenclose&lt;N, T, D&gt;, N&gt;;
};

/**
 * @param {Notation.Side} side   The side on which a border should appear
 * @return {DEFPAIR}      The notation definition for the notation having a line on the given side
 */
export const Border = function&lt;N, T, D&gt;(side: Notation.Side): DEFPAIR&lt;N, T, D&gt; {
  return Notation.CommonBorder&lt;CHTMLmenclose&lt;N, T, D&gt;, N&gt;((node, child) =&gt; {
    node.adaptor.setStyle(child, 'border-' + side, node.em(node.thickness) + ' solid');
  })(side);
};


/**
 * @param {string} name    The name of the notation to define
 * @param {Notation.Side} side1   The first side to get a border
 * @param {Notation.Side} side2   The second side to get a border
 * @return {DEFPAIR}       The notation definition for the notation having lines on two sides
 */
export const Border2 = function&lt;N, T, D&gt;(name: string, side1: Notation.Side, side2: Notation.Side): DEFPAIR&lt;N, T, D&gt; {
  return Notation.CommonBorder2&lt;CHTMLmenclose&lt;N, T, D&gt;, N&gt;((node, child) =&gt; {
    const border = node.em(node.thickness) + ' solid';
    node.adaptor.setStyle(child, 'border-' + side1, border);
    node.adaptor.setStyle(child, 'border-' + side2, border);
  })(name, side1, side2);
};

/**
 * @param {string} name  The name of the diagonal strike to define
 * @param {number} neg   1 or -1 to use with the angle
 * @return {DEFPAIR}     The notation definition for the diagonal strike
 */
export const DiagonalStrike = function&lt;N, T, D&gt;(name: string, neg: number): DEFPAIR&lt;N, T, D&gt; {
  return Notation.CommonDiagonalStrike&lt;CHTMLmenclose&lt;N, T, D&gt;, N&gt;((cname: string) =&gt; (node, _child) =&gt; {
    const {w, h, d} = node.getBBox();
    const [a, W] = node.getArgMod(w, h + d);
    const t = neg * node.thickness / 2;
    const strike = node.adjustBorder(node.html(cname, {style: {
      width: node.em(W),
      transform: 'rotate(' + node.fixed(-neg * a) + 'rad) translateY(' + t + 'em)',
    }}));
    node.adaptor.append(node.chtml, strike);
  })(name);
};

/**
 * @param {string} name   The name of the diagonal arrow to define
 * @return {DEFPAIR}      The notation definition for the diagonal arrow
 */
export const DiagonalArrow = function&lt;N, T, D&gt;(name: string): DEFPAIR&lt;N, T, D&gt; {
  return Notation.CommonDiagonalArrow&lt;CHTMLmenclose&lt;N, T, D&gt;, N&gt;((node, arrow) =&gt; {
    node.adaptor.append(node.chtml, arrow);
  })(name);
};

/**
 * @param {string} name   The name of the horizontal or vertical arrow to define
 * @return {DEFPAIR}      The notation definition for the arrow
 */
export const Arrow = function&lt;N, T, D&gt;(name: string): DEFPAIR&lt;N, T, D&gt; {
  return Notation.CommonArrow&lt;CHTMLmenclose&lt;N, T, D&gt;, N&gt;((node, arrow) =&gt; {
    node.adaptor.append(node.chtml, arrow);
  })(name);
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1635">


/**
 * @fileoverview  Keeps track of usage of font characters and wrappers
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

/**
 * Class used for tracking usage of font characters or wrappers
 *  (should extend Set&lt;T&gt;, but that doesn't work for compiling to ES2015).
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1636">export class Usage&lt;T&gt; {

  /**
   * The used items.
   */
  protected used: Set&lt;T&gt; = new Set&lt;T&gt;();

  /**
   * The items marked as used since last update.
   */
  protected needsUpdate: T[] = [];

  /**
   * @param {T} item   The item that has been used
   */
  @others
}

</t>
<t tx="ekr.20211016054411.1637">public add(item: T) {
  if (!this.used.has(item)) {
    this.needsUpdate.push(item);
  }
  this.used.add(item);
}

</t>
<t tx="ekr.20211016054411.1638">/**
 * @param {T} item     The item to check for being used
 * @return {boolean}   True if the item has been used
 */
public has(item: T): boolean {
  return this.used.has(item);
}

</t>
<t tx="ekr.20211016054411.1639">/**
 * Clear the usage information
 */
public clear() {
  this.used.clear();
  this.needsUpdate = [];
}

</t>
<t tx="ekr.20211016054411.164">
const PACKAGE = require('../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex-full',                   // the package to build
  '../../../../js',                   // location of the MathJax js library
  [                                   // packages to link to
    'components/src/startup/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1640">/**
 * Get the items marked as used since the last update.
 */
public update() {
  const update = this.needsUpdate;
  this.needsUpdate = [];
  return update;
}

</t>
<t tx="ekr.20211016054411.1641">


/**
 * @fileoverview  Implements the CHTMLWrapper class
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {OptionList} from '../../util/Options.js';
import * as LENGTHS from '../../util/lengths.js';
import {CommonWrapper, AnyWrapperClass, Constructor, StringMap} from '../common/Wrapper.js';
import {CHTML} from '../chtml.js';
import {CHTMLWrapperFactory} from './WrapperFactory.js';
import {BBox} from '../../util/BBox.js';
import {CHTMLFontData, CHTMLCharOptions, CHTMLDelimiterData} from './FontData.js';

export {Constructor, StringMap} from '../common/Wrapper.js';

/*****************************************************************/

/**
 * Some standard sizes to use in predefind CSS properties
 */
export const FONTSIZE: StringMap = {
  '70.7%': 's',
  '70%': 's',
  '50%': 'ss',
  '60%': 'Tn',
  '85%': 'sm',
  '120%': 'lg',
  '144%': 'Lg',
  '173%': 'LG',
  '207%': 'hg',
  '249%': 'HG'
};

export const SPACE: StringMap = {
  /* tslint:disable:whitespace */
  [LENGTHS.em(2/18)]: '1',
  [LENGTHS.em(3/18)]: '2',
  [LENGTHS.em(4/18)]: '3',
  [LENGTHS.em(5/18)]: '4',
  [LENGTHS.em(6/18)]: '5'
  /* tslint:enable */
};


/**
 * Shorthand for making a CHTMLWrapper constructor
 */
export type CHTMLConstructor&lt;N, T, D&gt; = Constructor&lt;CHTMLWrapper&lt;N, T, D&gt;&gt;;


/*****************************************************************/
/**
 *  The type of the CHTMLWrapper class (used when creating the wrapper factory for this class)
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1642">export interface CHTMLWrapperClass extends AnyWrapperClass {

  kind: string;

  /**
   * If true, this causes a style for the node type to be generated automatically
   * that sets display:inline-block (as needed for the output for MmlNodes).
   */
  autoStyle: boolean;

}

/*****************************************************************/
/**
 *  The base CHTMLWrapper class
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class CHTMLWrapper&lt;N, T, D&gt; extends
CommonWrapper&lt;
  CHTML&lt;N, T, D&gt;,
  CHTMLWrapper&lt;N, T, D&gt;,
  CHTMLWrapperClass,
  CHTMLCharOptions,
  CHTMLDelimiterData,
  CHTMLFontData
&gt; {

  /**
   * The wrapper type
   */
  public static kind: string = 'unknown';

  /**
   * If true, this causes a style for the node type to be generated automatically
   * that sets display:inline-block (as needed for the output for MmlNodes).
   */
  public static autoStyle = true;

  /**
   * @override
   */
  protected factory: CHTMLWrapperFactory&lt;N, T, D&gt;;

  /**
   * @override
   */
  public parent: CHTMLWrapper&lt;N, T, D&gt;;
  /**
   * @override
   */
  public childNodes: CHTMLWrapper&lt;N, T, D&gt;[];

  /**
   * The HTML element generated for this wrapped node
   */
  public chtml: N = null;

  /*******************************************************************/

  
</t>
<t tx="ekr.20211016054411.1643">/**
   * Create the HTML for the wrapped node.
   *
   * @param {N} parent  The HTML node where the output is added
   */
public toCHTML(parent: N) {
  const chtml = this.standardCHTMLnode(parent);
  for (const child of this.childNodes) {
    child.toCHTML(chtml);
  }
}

/*******************************************************************/

/**
 * Create the standard CHTML element for the given wrapped node.
 *
 * @param {N} parent  The HTML element in which the node is to be created
 * @returns {N}  The root of the HTML tree for the wrapped node's output
 */
protected standardCHTMLnode(parent: N): N {
  this.markUsed();
  const chtml = this.createCHTMLnode(parent);
  this.handleStyles();
  this.handleVariant();
  this.handleScale();
  this.handleColor();
  this.handleSpace();
  this.handleAttributes();
  this.handlePWidth();
  return chtml;
}

</t>
<t tx="ekr.20211016054411.1644">/**
 * Mark this class as having been typeset (so its styles will be output)
 */
public markUsed() {
  this.jax.wrapperUsage.add(this.kind);
}

/**
 * @param {N} parent  The HTML element in which the node is to be created
 * @returns {N}  The root of the HTML tree for the wrapped node's output
 */
protected createCHTMLnode(parent: N): N {
  const href = this.node.attributes.get('href');
  if (href) {
    parent = this.adaptor.append(parent, this.html('a', {href: href})) as N;
  }
  this.chtml = this.adaptor.append(parent, this.html('mjx-' + this.node.kind)) as N;
  return this.chtml;
}

/**
 * Set the CSS styles for the chtml element
 */
protected handleStyles() {
  if (!this.styles) return;
  const styles = this.styles.cssText;
  if (styles) {
    this.adaptor.setAttribute(this.chtml, 'style', styles);
    const family = this.styles.get('font-family');
    if (family) {
      this.adaptor.setStyle(this.chtml, 'font-family', 'MJXZERO, ' + family);
    }
  }
}

/**
 * Set the CSS for the math variant
 */
protected handleVariant() {
  if (this.node.isToken &amp;&amp; this.variant !== '-explicitFont') {
    this.adaptor.setAttribute(this.chtml, 'class',
                              (this.font.getVariant(this.variant) || this.font.getVariant('normal')).classes);
  }
}

/**
 * Set the (relative) scaling factor for the node
 */
protected handleScale() {
  this.setScale(this.chtml, this.bbox.rscale);
}

/**
 * @param {N} chtml  The HTML node to scale
 * @param {number} rscale      The relatie scale to apply
 * @return {N}       The HTML node (for chaining)
 */
protected setScale(chtml: N, rscale: number): N {
  const scale = (Math.abs(rscale - 1) &lt; .001 ? 1 : rscale);
  if (chtml &amp;&amp; scale !== 1) {
    const size = this.percent(scale);
    if (FONTSIZE[size]) {
      this.adaptor.setAttribute(chtml, 'size', FONTSIZE[size]);
    } else {
      this.adaptor.setStyle(chtml, 'fontSize', size);
    }
  }
  return chtml;
}

/**
 * Add the proper spacing
 */
protected handleSpace() {
  for (const data of [[this.bbox.L, 'space',  'marginLeft'],
                      [this.bbox.R, 'rspace', 'marginRight']]) {
    const [dimen, name, margin] = data as [number, string, string];
    if (dimen) {
      const space = this.em(dimen);
      if (SPACE[space]) {
        this.adaptor.setAttribute(this.chtml, name, SPACE[space]);
      } else {
        this.adaptor.setStyle(this.chtml, margin, space);
      }
    }
  }
}

/**
 * Add the foreground and background colors
 * (Only look at explicit attributes, since inherited ones will
 *  be applied to a parent element, and we will inherit from that)
 */
protected handleColor() {
  const attributes = this.node.attributes;
  const mathcolor = attributes.getExplicit('mathcolor') as string;
  const color = attributes.getExplicit('color') as string;
  const mathbackground = attributes.getExplicit('mathbackground') as string;
  const background = attributes.getExplicit('background') as string;
  if (mathcolor || color) {
    this.adaptor.setStyle(this.chtml, 'color', mathcolor || color);
  }
  if (mathbackground || background) {
    this.adaptor.setStyle(this.chtml, 'backgroundColor', mathbackground || background);
  }
}

/**
 * Copy RDFa, aria, and other tags from the MathML to the CHTML output nodes.
 * Don't copy those in the skipAttributes list, or anything that already exists
 * as a property of the node (e.g., no "onlick", etc.).  If a name in the
 * skipAttributes object is set to false, then the attribute WILL be copied.
 * Add the class to any other classes already in use.
 */
protected handleAttributes() {
  const attributes = this.node.attributes;
  const defaults = attributes.getAllDefaults();
  const skip = CHTMLWrapper.skipAttributes;
  for (const name of attributes.getExplicitNames()) {
    if (skip[name] === false || (!(name in defaults) &amp;&amp; !skip[name] &amp;&amp;
                                 !this.adaptor.hasAttribute(this.chtml, name))) {
      this.adaptor.setAttribute(this.chtml, name, attributes.getExplicit(name) as string);
    }
  }
  if (attributes.get('class')) {
    const names = (attributes.get('class') as string).trim().split(/ +/);
    for (const name of names) {
      this.adaptor.addClass(this.chtml, name);
    }
  }
}

/**
 * Handle the attributes needed for percentage widths
 */
protected handlePWidth() {
  if (this.bbox.pwidth) {
    if (this.bbox.pwidth === BBox.fullWidth) {
      this.adaptor.setAttribute(this.chtml, 'width', 'full');
    } else {
      this.adaptor.setStyle(this.chtml, 'width', this.bbox.pwidth);
    }
  }
}

/*******************************************************************/

/**
 * @param {N} chtml       The HTML node whose indentation is to be adjusted
 * @param {string} align  The alignment for the node
 * @param {number} shift  The indent (positive or negative) for the node
 */
protected setIndent(chtml: N, align: string, shift: number) {
  const adaptor = this.adaptor;
  if (align === 'center' || align === 'left') {
    const L = this.getBBox().L;
    adaptor.setStyle(chtml, 'margin-left', this.em(shift + L));
  }
  if (align === 'center' || align === 'right') {
    const R = this.getBBox().R;
    adaptor.setStyle(chtml, 'margin-right', this.em(-shift + R));
  }
}

/*******************************************************************/
</t>
<t tx="ekr.20211016054411.1645">/**
 * For debugging
 */

public drawBBox() {
  let {w, h, d, R}  = this.getBBox();
  const box = this.html('mjx-box', {style: {
    opacity: .25, 'margin-left': this.em(-w - R)
  }}, [
    this.html('mjx-box', {style: {
      height: this.em(h),
      width: this.em(w),
      'background-color': 'red'
    }}),
    this.html('mjx-box', {style: {
      height: this.em(d),
      width: this.em(w),
      'margin-left': this.em(-w),
      'vertical-align': this.em(-d),
      'background-color': 'green'
    }})
  ] as N[]);
  const node = this.chtml || this.parent.chtml;
  const size = this.adaptor.getAttribute(node, 'size');
  if (size) {
    this.adaptor.setAttribute(box, 'size', size);
  }
  const fontsize = this.adaptor.getStyle(node, 'fontSize');
  if (fontsize) {
    this.adaptor.setStyle(box, 'fontSize', fontsize);
  }
  this.adaptor.append(this.adaptor.parent(node), box);
  this.adaptor.setStyle(node, 'backgroundColor', '#FFEE00');
}

/*******************************************************************/
/*
 * Easy access to some utility routines
 */

</t>
<t tx="ekr.20211016054411.1646">/**
 * @param {string} type      The tag name of the HTML node to be created
 * @param {OptionList} def   The properties to set for the created node
 * @param {(N|T)[]} content  The child nodes for the created HTML node
 * @return {N}               The generated HTML tree
 */
public html(type: string, def: OptionList = {}, content: (N | T)[] = []): N {
  return this.jax.html(type, def, content);
}

</t>
<t tx="ekr.20211016054411.1647">/**
 * @param {string} text  The text from which to create an HTML text node
 * @return {T}           The generated text node with the given text
 */
  public text(text: string): T {
    return this.jax.text(text);
  }

  /**
   * @param {number} n  A unicode code point to be converted to a character className reference.
   * @return {string}   The className for the character
   */
  protected char(n: number): string {
    return this.font.charSelector(n).substr(1);
  }

}
</t>
<t tx="ekr.20211016054411.1648">


/**
 * @fileoverview  Implements the CHTMLWrapperFactory class
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTML} from '../chtml.js';
import {CommonWrapperFactory} from '../common/WrapperFactory.js';
import {CHTMLWrapper, CHTMLWrapperClass} from './Wrapper.js';
import {CHTMLWrappers} from './Wrappers.js';
import {CHTMLCharOptions, CHTMLDelimiterData, CHTMLFontData} from './FontData.js';

/*****************************************************************/
/**
 *  The CHTMLWrapperFactory class for creating CHTMLWrapper nodes
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class CHTMLWrapperFactory&lt;N, T, D&gt; extends
CommonWrapperFactory&lt;
  CHTML&lt;N, T, D&gt;,
  CHTMLWrapper&lt;N, T, D&gt;,
  CHTMLWrapperClass,
  CHTMLCharOptions,
  CHTMLDelimiterData,
  CHTMLFontData
&gt; {

  /**
   * The default list of wrapper nodes this factory can create
   */
  public static defaultNodes = CHTMLWrappers;

  /**
   * The CHTML output jax associated with this factory
   */
  public jax: CHTML&lt;N, T, D&gt;;

}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1649">


/**
 * @fileoverview  An object listing all the CHTMLWrapper classes
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {WrapperConstructor} from '../common/Wrapper.js';
import {CHTMLWrapper} from './Wrapper.js';
import {CHTMLmath} from './Wrappers/math.js';
import {CHTMLmi} from './Wrappers/mi.js';
import {CHTMLmo} from './Wrappers/mo.js';
import {CHTMLmn} from './Wrappers/mn.js';
import {CHTMLms} from './Wrappers/ms.js';
import {CHTMLmtext} from './Wrappers/mtext.js';
import {CHTMLmspace} from './Wrappers/mspace.js';
import {CHTMLmpadded} from './Wrappers/mpadded.js';
import {CHTMLmenclose} from './Wrappers/menclose.js';
import {CHTMLmrow, CHTMLinferredMrow} from './Wrappers/mrow.js';
import {CHTMLmfenced} from './Wrappers/mfenced.js';
import {CHTMLmfrac} from './Wrappers/mfrac.js';
import {CHTMLmsqrt} from './Wrappers/msqrt.js';
import {CHTMLmroot} from './Wrappers/mroot.js';
import {CHTMLmsub, CHTMLmsup, CHTMLmsubsup} from './Wrappers/msubsup.js';
import {CHTMLmover, CHTMLmunder, CHTMLmunderover} from './Wrappers/munderover.js';
import {CHTMLmmultiscripts} from './Wrappers/mmultiscripts.js';
import {CHTMLmtable} from './Wrappers/mtable.js';
import {CHTMLmtr, CHTMLmlabeledtr} from './Wrappers/mtr.js';
import {CHTMLmtd} from './Wrappers/mtd.js';
import {CHTMLmaction} from './Wrappers/maction.js';
import {CHTMLmglyph} from './Wrappers/mglyph.js';
import {CHTMLsemantics, CHTMLannotation, CHTMLannotationXML, CHTMLxml} from './Wrappers/semantics.js';
import {CHTMLTeXAtom} from './Wrappers/TeXAtom.js';
import {CHTMLTextNode} from './Wrappers/TextNode.js';

export const CHTMLWrappers: {[kind: string]: WrapperConstructor}  = {
  [CHTMLmath.kind]: CHTMLmath,
  [CHTMLmrow.kind]: CHTMLmrow,
  [CHTMLinferredMrow.kind]: CHTMLinferredMrow,
  [CHTMLmi.kind]: CHTMLmi,
  [CHTMLmo.kind]: CHTMLmo,
  [CHTMLmn.kind]: CHTMLmn,
  [CHTMLms.kind]: CHTMLms,
  [CHTMLmtext.kind]: CHTMLmtext,
  [CHTMLmspace.kind]: CHTMLmspace,
  [CHTMLmpadded.kind]: CHTMLmpadded,
  [CHTMLmenclose.kind]: CHTMLmenclose,
  [CHTMLmfrac.kind]: CHTMLmfrac,
  [CHTMLmsqrt.kind]: CHTMLmsqrt,
  [CHTMLmroot.kind]: CHTMLmroot,
  [CHTMLmsub.kind]: CHTMLmsub,
  [CHTMLmsup.kind]: CHTMLmsup,
  [CHTMLmsubsup.kind]: CHTMLmsubsup,
  [CHTMLmunder.kind]: CHTMLmunder,
  [CHTMLmover.kind]: CHTMLmover,
  [CHTMLmunderover.kind]: CHTMLmunderover,
  [CHTMLmmultiscripts.kind]: CHTMLmmultiscripts,
  [CHTMLmfenced.kind]: CHTMLmfenced,
  [CHTMLmtable.kind]: CHTMLmtable,
  [CHTMLmtr.kind]: CHTMLmtr,
  [CHTMLmlabeledtr.kind]: CHTMLmlabeledtr,
  [CHTMLmtd.kind]: CHTMLmtd,
  [CHTMLmaction.kind]: CHTMLmaction,
  [CHTMLmglyph.kind]: CHTMLmglyph,
  [CHTMLsemantics.kind]: CHTMLsemantics,
  [CHTMLannotation.kind]: CHTMLannotation,
  [CHTMLannotationXML.kind]: CHTMLannotationXML,
  [CHTMLxml.kind]: CHTMLxml,
  [CHTMLTeXAtom.kind]: CHTMLTeXAtom,
  [CHTMLTextNode.kind]: CHTMLTextNode,
  [CHTMLWrapper.kind]: CHTMLWrapper
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.165"></t>
<t tx="ekr.20211016054411.1650"></t>
<t tx="ekr.20211016054411.1651">


/**
 * @fileoverview  Implements the CHTMLmaction wrapper for the MmlMaction object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonMactionMixin} from '../../common/Wrappers/maction.js';
import {ActionDef} from '../../common/Wrappers/maction.js';
import {EventHandler, TooltipData} from '../../common/Wrappers/maction.js';
import {MmlMaction} from '../../../core/MmlTree/MmlNodes/maction.js';
import {TextNode} from '../../../core/MmlTree/MmlNode.js';
import {StyleList} from '../../../util/StyleList.js';

/*****************************************************************/
/**
 * The CHTMLmaction wrapper for the MmlMaction object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmaction&lt;N, T, D&gt; extends
CommonMactionMixin&lt;CHTMLWrapper&lt;any, any, any&gt;, CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The maction wrapper
   */
  public static kind = MmlMaction.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-maction': {
      position: 'relative'
    },
    'mjx-maction &gt; mjx-tool': {
      display: 'none',
      position: 'absolute',
      bottom: 0, right: 0,
      width: 0, height: 0,
      'z-index': 500
    },
    'mjx-tool &gt; mjx-tip': {
      display: 'inline-block',
      padding: '.2em',
      border: '1px solid #888',
      'font-size': '70%',
      'background-color': '#F8F8F8',
      color: 'black',
      'box-shadow': '2px 2px 5px #AAAAAA'
    },
    'mjx-maction[toggle]': {
      cursor: 'pointer'
    },
    'mjx-status': {
      display: 'block',
      position: 'fixed',
      left: '1em',
      bottom: '1em',
      'min-width': '25%',
      padding: '.2em .4em',
      border: '1px solid #888',
      'font-size': '90%',
      'background-color': '#F8F8F8',
      color: 'black'
    }
  };

  /**
   * The valid action types and their handlers
   */
  public static actions = new Map([
    ['toggle', [(node, _data) =&gt; {
      //
      // Mark which child is selected
      //
      node.adaptor.setAttribute(node.chtml, 'toggle', node.node.attributes.get('selection') as string);
      //
      // Cache the data needed to select another node
      //
      const math = node.factory.jax.math;
      const document = node.factory.jax.document;
      const mml = node.node as MmlMaction;
      //
      // Add a click handler that changes the selection and rerenders the expression
      //
      node.setEventHandler('click', (event: Event) =&gt; {
        if (!math.end.node) {
          //
          // If the MathItem was created by hand, it might not have a node
          // telling it where to replace the existing math, so set it.
          //
          math.start.node = math.end.node = math.typesetRoot;
          math.start.n = math.end.n = 0;
        }
        mml.nextToggleSelection();
        math.rerender(document);
        event.stopPropagation();
      });
    }, {}]],

    ['tooltip', [(node, data) =&gt; {
      const tip = node.childNodes[1];
      if (!tip) return;
      if (tip.node.isKind('mtext')) {
        //
        // Text tooltips are handled through title attributes
        //
        const text = (tip.node as TextNode).getText();
        node.adaptor.setAttribute(node.chtml, 'title', text);
      } else {
        //
        // Math tooltips are handled through hidden nodes and event handlers
        //
        const adaptor = node.adaptor;
        const tool = adaptor.append(node.chtml, node.html('mjx-tool', {
          style: {bottom: node.em(-node.dy), right: node.em(-node.dx)}
        }, [node.html('mjx-tip')]));
        tip.toCHTML(adaptor.firstChild(tool));
        //
        // Set up the event handlers to display and remove the tooltip
        //
        node.setEventHandler('mouseover', (event: Event) =&gt; {
          data.stopTimers(node, data);
          const timeout = setTimeout(() =&gt; adaptor.setStyle(tool, 'display', 'block'), data.postDelay);
          data.hoverTimer.set(node, timeout);
          event.stopPropagation();
        });
        node.setEventHandler('mouseout',  (event: Event) =&gt; {
          data.stopTimers(node, data);
          const timeout = setTimeout(() =&gt; adaptor.setStyle(tool, 'display', ''), data.clearDelay);
          data.clearTimer.set(node, timeout);
          event.stopPropagation();
        });
      }
    }, TooltipData]],

    ['statusline', [(node, data) =&gt; {
      const tip = node.childNodes[1];
      if (!tip) return;
      if (tip.node.isKind('mtext')) {
        const adaptor = node.adaptor;
        const text = (tip.node as TextNode).getText();
        adaptor.setAttribute(node.chtml, 'statusline', text);
        //
        // Set up event handlers to change the status window
        //
        node.setEventHandler('mouseover', (event: Event) =&gt; {
          if (data.status === null) {
            const body = adaptor.body(adaptor.document);
            data.status = adaptor.append(body, node.html('mjx-status', {}, [node.text(text)]));
          }
          event.stopPropagation();
        });
        node.setEventHandler('mouseout', (event: Event) =&gt; {
          if (data.status) {
            adaptor.remove(data.status);
            data.status = null;
          }
          event.stopPropagation();
        });
      }
    }, {
      status: null  // cached status line
    }]]

  ] as ActionDef&lt;CHTMLmaction&lt;any, any, any&gt;&gt;[]);

  /*************************************************************/

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1652">public toCHTML(parent: N) {
  const chtml = this.standardCHTMLnode(parent);
  const child = this.selected;
  child.toCHTML(chtml);
  this.action(this, this.data);
}

</t>
<t tx="ekr.20211016054411.1653">/**
 * Add an event handler to the output for this maction
 */
  public setEventHandler(type: string, handler: EventHandler) {
    (this.chtml as any).addEventListener(type, handler);
  }

}
</t>
<t tx="ekr.20211016054411.1654">


/**
 * @fileoverview  Implements the CHTMLmath wrapper for the MmlMath object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonMathMixin} from '../../common/Wrappers/math.js';
import {MmlMath} from '../../../core/MmlTree/MmlNodes/math.js';
import {StyleList} from '../../../util/StyleList.js';
import {BBox} from '../../../util/BBox.js';

/*****************************************************************/
/**
 * The CHTMLmath wrapper for the MmlMath object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmath&lt;N, T, D&gt; extends
CommonMathMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The math wrapper
   */
  public static kind = MmlMath.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-math': {
      'line-height': 0,
      'text-align': 'left',
      'text-indent': 0,
      'font-style': 'normal',
      'font-weight': 'normal',
      'font-size': '100%',
      'font-size-adjust': 'none',
      'letter-spacing': 'normal',
      'word-wrap': 'normal',
      'word-spacing': 'normal',
      'white-space': 'nowrap',
      'direction': 'ltr',
      'padding': '1px 0'
    },
    'mjx-container[jax="CHTML"][display="true"]': {
      display: 'block',
      'text-align': 'center',
      margin: '1em 0'
    },
    'mjx-container[jax="CHTML"][display="true"][width="full"]': {
      display: 'flex'
    },
    'mjx-container[jax="CHTML"][display="true"] mjx-math': {
      padding: 0
    },
    'mjx-container[jax="CHTML"][justify="left"]': {
      'text-align': 'left'
    },
    'mjx-container[jax="CHTML"][justify="right"]': {
      'text-align': 'right'
    }
  };

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1655">public toCHTML(parent: N) {
  super.toCHTML(parent);
  const chtml = this.chtml;
  const adaptor = this.adaptor;
  const display = (this.node.attributes.get('display') === 'block');
  if (display) {
    adaptor.setAttribute(chtml, 'display', 'true');
    adaptor.setAttribute(parent, 'display', 'true');
    this.handleDisplay(parent);
  } else {
    this.handleInline(parent);
  }
  adaptor.addClass(chtml, 'MJX-TEX');
}

/**
 *  Handle displayed equations (set min-width, and so on).
 */
protected handleDisplay(parent: N) {
  const adaptor = this.adaptor;
  const [align, shift] = this.getAlignShift();
  if (align !== 'center') {
    adaptor.setAttribute(parent, 'justify', align);
  }
  if (this.bbox.pwidth === BBox.fullWidth) {
    adaptor.setAttribute(parent, 'width', 'full');
    if (this.jax.table) {
      let {L, w, R} = this.jax.table.getBBox();
      if (align === 'right') {
        R = Math.max(R || -shift, -shift);
      } else if (align === 'left') {
        L = Math.max(L || shift, shift);
      } else if (align === 'center') {
        w += 2 * Math.abs(shift);
      }
      const W = this.em(Math.max(0, L + w + R));
      adaptor.setStyle(parent, 'min-width', W);
      adaptor.setStyle(this.jax.table.chtml, 'min-width', W);
    }
  } else {
    this.setIndent(this.chtml, align, shift);
  }
}

/**
 * Handle in-line expressions
 */
protected handleInline(parent: N) {
  //
  // Transfer right margin to container (for things like $x\hskip -2em y$)
  //
  const adaptor = this.adaptor;
  const margin = adaptor.getStyle(this.chtml, 'margin-right');
  if (margin) {
    adaptor.setStyle(this.chtml, 'margin-right', '');
    adaptor.setStyle(parent, 'margin-right', margin);
    adaptor.setStyle(parent, 'width', '0');
  }
}

</t>
<t tx="ekr.20211016054411.1656">/**
 * @override
 */
  public setChildPWidths(recompute: boolean, w: number = null, clear: boolean = true) {
    return (this.parent ? super.setChildPWidths(recompute, w, clear) : false);
  }

}
</t>
<t tx="ekr.20211016054411.1657">


/**
 * @fileoverview  Implements the CHTMLmenclose wrapper for the MmlMenclose object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonMencloseMixin} from '../../common/Wrappers/menclose.js';
import {CHTMLmsqrt} from './msqrt.js';
import * as Notation from '../Notation.js';
import {MmlMenclose} from '../../../core/MmlTree/MmlNodes/menclose.js';
import {OptionList} from '../../../util/Options.js';
import {StyleList} from '../../../util/StyleList.js';
import {em} from '../../../util/lengths.js';

/*****************************************************************/

/**
 *  The skew angle needed for the arrow head pieces
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1658">function Angle(x: number, y: number) {
  return Math.atan2(x, y).toFixed(3).replace(/\.?0+$/, '');
}

const ANGLE = Angle(Notation.ARROWDX, Notation.ARROWY);

/*****************************************************************/
/**
 * The CHTMLmenclose wrapper for the MmlMenclose object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmenclose&lt;N, T, D&gt; extends
CommonMencloseMixin&lt;
  CHTMLWrapper&lt;any, any, any&gt;,
  CHTMLmsqrt&lt;any, any, any&gt;,
  any,
  CHTMLConstructor&lt;any, any, any&gt;
&gt;(CHTMLWrapper) {

  /**
   * The menclose wrapper
   */
  public static kind = MmlMenclose.prototype.kind;

  /**
   * Styles needed for the various notations
   */
  public static styles: StyleList = {
    'mjx-menclose': {
      position: 'relative'
    },
    'mjx-menclose &gt; mjx-dstrike': {
      display: 'inline-block',
      left: 0, top: 0,
      position: 'absolute',
      'border-top': Notation.SOLID,
      'transform-origin': 'top left'
    },
    'mjx-menclose &gt; mjx-ustrike': {
      display: 'inline-block',
      left: 0, bottom: 0,
      position: 'absolute',
      'border-top': Notation.SOLID,
      'transform-origin': 'bottom left'
    },
    'mjx-menclose &gt; mjx-hstrike': {
      'border-top': Notation.SOLID,
      position: 'absolute',
      left: 0, right: 0, bottom: '50%',
      transform: 'translateY(' + em(Notation.THICKNESS / 2) + ')'
    },
    'mjx-menclose &gt; mjx-vstrike': {
      'border-left': Notation.SOLID,
      position: 'absolute',
      top: 0, bottom: 0, right: '50%',
      transform: 'translateX(' + em(Notation.THICKNESS / 2) + ')'
    },
    'mjx-menclose &gt; mjx-rbox': {
      position: 'absolute',
      top: 0, bottom: 0, right: 0, left: 0,
      'border': Notation.SOLID,
      'border-radius': em(Notation.THICKNESS + Notation.PADDING)
    },
    'mjx-menclose &gt; mjx-cbox': {
      position: 'absolute',
      top: 0, bottom: 0, right: 0, left: 0,
      'border': Notation.SOLID,
      'border-radius': '50%'
    },
    'mjx-menclose &gt; mjx-arrow': {
      position: 'absolute',
      left: 0, bottom: '50%', height: 0, width: 0
    },
    'mjx-menclose &gt; mjx-arrow &gt; *': {
      display: 'block',
      position: 'absolute',
      'transform-origin': 'bottom',
      'border-left': em(Notation.THICKNESS * Notation.ARROWX) + ' solid',
      'border-right': 0,
      'box-sizing': 'border-box'
    },
    'mjx-menclose &gt; mjx-arrow &gt; mjx-aline': {
      left: 0, top: em(-Notation.THICKNESS / 2),
      right: em(Notation.THICKNESS * (Notation.ARROWX - 1)), height: 0,
      'border-top': em(Notation.THICKNESS) + ' solid',
      'border-left': 0
    },
    'mjx-menclose &gt; mjx-arrow[double] &gt; mjx-aline': {
      left: em(Notation.THICKNESS * (Notation.ARROWX - 1)), height: 0,
    },
    'mjx-menclose &gt; mjx-arrow &gt; mjx-rthead': {
      transform: 'skewX(' + ANGLE + 'rad)',
      right: 0, bottom: '-1px',
      'border-bottom': '1px solid transparent',
      'border-top': em(Notation.THICKNESS * Notation.ARROWY) + ' solid transparent'
    },
    'mjx-menclose &gt; mjx-arrow &gt; mjx-rbhead': {
      transform: 'skewX(-' + ANGLE + 'rad)',
      'transform-origin': 'top',
      right: 0, top: '-1px',
      'border-top': '1px solid transparent',
      'border-bottom': em(Notation.THICKNESS * Notation.ARROWY) + ' solid transparent'
    },
    'mjx-menclose &gt; mjx-arrow &gt; mjx-lthead': {
      transform: 'skewX(-' + ANGLE + 'rad)',
      left: 0, bottom: '-1px',
      'border-left': 0,
      'border-right': em(Notation.THICKNESS * Notation.ARROWX) + ' solid',
      'border-bottom': '1px solid transparent',
      'border-top': em(Notation.THICKNESS * Notation.ARROWY) + ' solid transparent'
    },
    'mjx-menclose &gt; mjx-arrow &gt; mjx-lbhead': {
      transform: 'skewX(' + ANGLE + 'rad)',
      'transform-origin': 'top',
      left: 0, top: '-1px',
      'border-left': 0,
      'border-right': em(Notation.THICKNESS * Notation.ARROWX) + ' solid',
      'border-top': '1px solid transparent',
      'border-bottom': em(Notation.THICKNESS * Notation.ARROWY) + ' solid transparent'
    },
    'mjx-menclose &gt; dbox': {
      position: 'absolute',
      top: 0, bottom: 0, left: em(-1.5 * Notation.PADDING),
      width: em(3 * Notation.PADDING),
      border: em(Notation.THICKNESS) + ' solid',
      'border-radius': '50%',
      'clip-path': 'inset(0 0 0 ' + em(1.5 * Notation.PADDING) + ')',
      'box-sizing': 'border-box'
    }
  };

  /**
   *  The definitions of the various notations
   */
  public static notations: Notation.DefList&lt;CHTMLmenclose&lt;any, any, any&gt;, any&gt; = new Map([

    Notation.Border('top'),
    Notation.Border('right'),
    Notation.Border('bottom'),
    Notation.Border('left'),

    Notation.Border2('actuarial', 'top', 'right'),
    Notation.Border2('madruwb', 'bottom', 'right'),

    Notation.DiagonalStrike('up', 1),
    Notation.DiagonalStrike('down', -1),

    ['horizontalstrike', {
      renderer: Notation.RenderElement('hstrike', 'Y'),
      bbox: (node) =&gt; [0, node.padding, 0, node.padding]
    }],

    ['verticalstrike', {
      renderer: Notation.RenderElement('vstrike', 'X'),
      bbox: (node) =&gt; [node.padding, 0, node.padding, 0]
    }],

    ['box', {
      renderer: (node, child) =&gt; {
        node.adaptor.setStyle(child, 'border', node.em(node.thickness) + ' solid');
      },
      bbox: Notation.fullBBox,
      border: Notation.fullBorder,
      remove: 'left right top bottom'
    }],

    ['roundedbox', {
      renderer: Notation.RenderElement('rbox'),
      bbox: Notation.fullBBox
    }],

    ['circle', {
      renderer: Notation.RenderElement('cbox'),
      bbox: Notation.fullBBox
    }],

    ['phasorangle', {
      //
      // Use a bottom border and an upward strike properly angled
      //
      renderer: (node, child) =&gt; {
        const {h, d} = node.getBBox();
        const [a, W] = node.getArgMod(1.75 * node.padding, h + d);
        const t = node.thickness * Math.sin(a) * .9;
        node.adaptor.setStyle(child, 'border-bottom', node.em(node.thickness) + ' solid');
        const strike = node.adjustBorder(node.html('mjx-ustrike', {style: {
          width: node.em(W),
          transform: 'translateX(' + node.em(t) + ') rotate(' + node.fixed(-a) + 'rad)',
        }}));
        node.adaptor.append(node.chtml, strike);
      },
      bbox: (node) =&gt; {
        const p = node.padding / 2;
        const t = node.thickness;
        return [2 * p, p, p + t, 3 * p + t];
      },
      border: (node) =&gt; [0, 0, node.thickness, 0],
      remove: 'bottom'
    }],

    Notation.Arrow('up'),
    Notation.Arrow('down'),
    Notation.Arrow('left'),
    Notation.Arrow('right'),

    Notation.Arrow('updown'),
    Notation.Arrow('leftright'),

    Notation.DiagonalArrow('updiagonal'),  // backward compatibility
    Notation.DiagonalArrow('northeast'),
    Notation.DiagonalArrow('southeast'),
    Notation.DiagonalArrow('northwest'),
    Notation.DiagonalArrow('southwest'),

    Notation.DiagonalArrow('northeastsouthwest'),
    Notation.DiagonalArrow('northwestsoutheast'),

    ['longdiv', {
      //
      // Use a line along the top followed by a half ellipse at the left
      //
      renderer: (node, child) =&gt; {
        const adaptor = node.adaptor;
        adaptor.setStyle(child, 'border-top', node.em(node.thickness) + ' solid');
        const arc = adaptor.append(node.chtml, node.html('dbox'));
        const t = node.thickness;
        const p = node.padding;
        if (t !== Notation.THICKNESS) {
          adaptor.setStyle(arc, 'border-width', node.em(t));
        }
        if (p !== Notation.PADDING) {
          adaptor.setStyle(arc, 'left', node.em(-1.5 * p));
          adaptor.setStyle(arc, 'width', node.em(3 * p));
          adaptor.setStyle(arc, 'clip-path', 'inset(0 0 0 ' + node.em(1.5 * p) + ')');
        }
      },
      bbox: (node) =&gt; {
        const p = node.padding;
        const t = node.thickness;
        return [p + t, p, p, 2 * p + t / 2];
      }
    }],

    ['radical', {
      //
      //  Use the msqrt rendering, but remove the extra space due to the radical
      //    (it is added in at the end, so other notations overlap the root)
      //
      renderer: (node, child) =&gt; {
        node.msqrt.toCHTML(child);
        const TRBL = node.sqrtTRBL();
        node.adaptor.setStyle(node.msqrt.chtml, 'margin', TRBL.map(x =&gt; node.em(-x)).join(' '));
      },
      //
      //  Create the needed msqrt wrapper
      //
      init: (node) =&gt; {
        node.msqrt = node.createMsqrt(node.childNodes[0]);
      },
      //
      //  Add back in the padding for the square root
      //
      bbox: (node) =&gt; node.sqrtTRBL(),
      //
      //  This notation replaces the child
      //
      renderChild: true
    }]

  ] as Notation.DefPair&lt;CHTMLmenclose&lt;any, any, any&gt;, any&gt;[]);

  /********************************************************/

  
</t>
<t tx="ekr.20211016054411.1659">/**
   * @override
   */
public toCHTML(parent: N) {
  const adaptor = this.adaptor;
  const chtml = this.standardCHTMLnode(parent);
  //
  //  Create a box for the child (that can have padding and borders added by the notations)
  //    and add the child HTML into it
  //
  const block = adaptor.append(chtml, this.html('mjx-box')) as N;
  if (this.renderChild) {
    this.renderChild(this, block);
  } else {
    this.childNodes[0].toCHTML(block);
  }
  //
  //  Render all the notations for this menclose element
  //
  for (const name of Object.keys(this.notations)) {
    const notation = this.notations[name];
    !notation.renderChild &amp;&amp; notation.renderer(this, block);
  }
  //
  //  Add the needed padding, if any
  //
  const pbox = this.getPadding();
  for (const name of Notation.sideNames) {
    const i = Notation.sideIndex[name];
    pbox[i] &gt; 0 &amp;&amp; adaptor.setStyle(block, 'padding-' + name, this.em(pbox[i]));
  }
}

/********************************************************/

</t>
<t tx="ekr.20211016054411.166">
import {loadLatest} from '../../../js/components/latest.js';

loadLatest();
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1660">/**
 * Create an arrow using HTML elements
 *
 * @param {number} w        The length of the arrow
 * @param {number} a        The angle for the arrow
 * @param {boolean} double  True if this is a double-headed arrow
 * @param {string} offset   'X' for vertical arrow, 'Y' for horizontal
 * @param {number} dist     Distance to translate in the offset direction
 * @return {N}              The newly created arrow
 */
public arrow(w: number, a: number, double: boolean, offset: string = '', dist: number = 0): N {
  const W = this.getBBox().w;
  const style = {width: this.em(w)} as OptionList;
  if (W !== w) {
    style.left = this.em((W - w) / 2);
  }
  if (a) {
    style.transform = 'rotate(' + this.fixed(a) + 'rad)';
  }
  const arrow = this.html('mjx-arrow', {style: style}, [
    this.html('mjx-aline'), this.html('mjx-rthead'), this.html('mjx-rbhead')
  ]);
  if (double) {
    this.adaptor.append(arrow, this.html('mjx-lthead'));
    this.adaptor.append(arrow, this.html('mjx-lbhead'));
    this.adaptor.setAttribute(arrow, 'double', 'true');
  }
  this.adjustArrow(arrow, double);
  this.moveArrow(arrow, offset, dist);
  return arrow;
}

/**
 * @param {N} arrow          The arrow whose thickness and arrow head is to be adjusted
 * @param {boolean} double   True if the arrow is double-headed
 */
protected adjustArrow(arrow: N, double: boolean) {
  const t = this.thickness;
  const head = this.arrowhead;
  if (head.x === Notation.ARROWX &amp;&amp; head.y === Notation.ARROWY &amp;&amp;
      head.dx === Notation.ARROWDX &amp;&amp; t === Notation.THICKNESS) return;
  const [x, y] = [t * head.x, t * head.y].map(x =&gt; this.em(x));
  const a = Angle(head.dx, head.y);
  const [line, rthead, rbhead, lthead, lbhead] = this.adaptor.childNodes(arrow);
  this.adjustHead(rthead, [y, '0', '1px', x], a);
  this.adjustHead(rbhead, ['1px', '0', y, x], '-' + a);
  this.adjustHead(lthead, [y, x, '1px', '0'], '-' + a);
  this.adjustHead(lbhead, ['1px', x, y, '0'], a);
  this.adjustLine(line, t, head.x, double);
}

/**
 * @param {N} head            The piece of arrow head to be adjusted
 * @param {string[]} border   The border sizes [T, R, B, L]
 * @param {string} a          The skew angle for the piece
 */
protected adjustHead(head: N, border: string[], a: string) {
  if (head) {
    this.adaptor.setStyle(head, 'border-width', border.join(' '));
    this.adaptor.setStyle(head, 'transform', 'skewX(' + a + 'rad)');
  }
}

/**
 * @param {N} line           The arrow shaft to be adjusted
 * @param {number} t         The arrow shaft thickness
 * @param {number} x         The arrow head x size
 * @param {boolean} double   True if the arrow is double-headed
 */
protected adjustLine(line: N, t: number, x: number, double: boolean) {
  this.adaptor.setStyle(line, 'borderTop', this.em(t) + ' solid');
  this.adaptor.setStyle(line, 'top', this.em(-t / 2));
  this.adaptor.setStyle(line, 'right', this.em(t * (x - 1)));
  if (double) {
    this.adaptor.setStyle(line, 'left', this.em(t * (x - 1)));
  }
}

/**
 * @param {N} arrow        The arrow whose position is to be adjusted
 * @param {string} offset  The direction to move the arrow
 * @param {number} d       The distance to translate in that direction
 */
protected moveArrow(arrow: N, offset: string, d: number) {
  if (!d) return;
  const transform = this.adaptor.getStyle(arrow, 'transform');
  this.adaptor.setStyle(
    arrow, 'transform', `translate${offset}(${this.em(-d)})${(transform ? ' ' + transform : '')}`
  );
}

/********************************************************/

</t>
<t tx="ekr.20211016054411.1661">/**
 * @param {N} node   The HTML element whose border width must be
 *                   adjusted if the thickness isn't the default
 * @return {N}       The adjusted element
 */
public adjustBorder(node: N): N {
  if (this.thickness !== Notation.THICKNESS) {
    this.adaptor.setStyle(node, 'borderWidth', this.em(this.thickness));
  }
  return node;
}

</t>
<t tx="ekr.20211016054411.1662">/**
 * @param {N} shape   The svg element whose stroke-thickness must be
 *                    adjusted if the thickness isn't the default
 * @return {N}        The adjusted element
 */
public adjustThickness(shape: N): N {
  if (this.thickness !== Notation.THICKNESS) {
    this.adaptor.setStyle(shape, 'strokeWidth', this.fixed(this.thickness));
  }
  return shape;
}

/********************************************************/

</t>
<t tx="ekr.20211016054411.1663">/**
 * @param {number} m    A number to be shown with a fixed number of digits
 * @param {number=} n   The number of digits to use
 * @return {string}     The formatted number
 */
public fixed(m: number, n: number = 3): string {
  if (Math.abs(m) &lt; .0006) {
    return '0';
  }
  return m.toFixed(n).replace(/\.?0+$/, '');
}

</t>
<t tx="ekr.20211016054411.1664">/**
 * @override
 * (make it public so it can be called by the notation functions)
 */
  public em(m: number) {
    return super.em(m);
  }

}
</t>
<t tx="ekr.20211016054411.1665">


/**
 * @fileoverview  Implements the CHTMLmfenced wrapper for the MmlMfenced object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonMfencedMixin} from '../../common/Wrappers/mfenced.js';
import {MmlMfenced} from '../../../core/MmlTree/MmlNodes/mfenced.js';
import {CHTMLinferredMrow} from './mrow.js';

/*****************************************************************/
/**
 * The CHTMLmfenced wrapper for the MmlMfenced object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1666">export class CHTMLmfenced&lt;N, T, D&gt; extends CommonMfencedMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The mfenced wrapper
   */
  public static kind = MmlMfenced.prototype.kind;

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1667">public toCHTML(parent: N) {
  const chtml = this.standardCHTMLnode(parent);
  (this.mrow as CHTMLinferredMrow&lt;N, T, D&gt;).toCHTML(chtml);
}

</t>
<t tx="ekr.20211016054411.1668">


/**
 * @fileoverview  Implements the CHTMLmfrac wrapper for the MmlMfrac object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonMfracMixin} from '../../common/Wrappers/mfrac.js';
import {MmlMfrac} from '../../../core/MmlTree/MmlNodes/mfrac.js';
import {CHTMLmo} from './mo.js';
import {StyleList} from '../../../util/StyleList.js';
import {OptionList} from '../../../util/Options.js';

/*****************************************************************/
/**
 * The CHTMLmfrac wrapper for the MmlMfrac object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1669">export class CHTMLmfrac&lt;N, T, D&gt; extends CommonMfracMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The mfrac wrapper
   */
  public static kind = MmlMfrac.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-frac': {
      display: 'inline-block',
      'vertical-align': '0.17em',  // axis_height - 1.5 * rule_thickness
      padding: '0 .22em'           // nulldelimiterspace + .1 (for line's -.1em margin)
    },
    'mjx-frac[type="d"]': {
      'vertical-align': '.04em'    // axis_height - 3.5 * rule_thickness
    },
    'mjx-frac[delims]': {
      padding: '0 .1em'            // .1 (for line's -.1em margin)
    },
    'mjx-frac[atop]': {
      padding: '0 .12em'           // nulldelimiterspace
    },
    'mjx-frac[atop][delims]': {
      padding: '0'
    },
    'mjx-dtable': {
      display: 'inline-table',
      width: '100%'
    },
    'mjx-dtable &gt; *': {
      'font-size': '2000%'
    },
    'mjx-dbox': {
      display: 'block',
      'font-size': '5%'
    },
    'mjx-num': {
      display: 'block',
      'text-align': 'center'
    },
    'mjx-den': {
      display: 'block',
      'text-align': 'center'
    },
    'mjx-mfrac[bevelled] &gt; mjx-num': {
      display: 'inline-block'
    },
    'mjx-mfrac[bevelled] &gt; mjx-den': {
      display: 'inline-block'
    },

    'mjx-den[align="right"], mjx-num[align="right"]': {
      'text-align': 'right'
    },
    'mjx-den[align="left"], mjx-num[align="left"]': {
      'text-align': 'left'
    },

    'mjx-nstrut': {
      display: 'inline-block',
      height: '.054em',              // num2 - a - 1.5t
      width: 0,
      'vertical-align': '-.054em'    // ditto
    },
    'mjx-nstrut[type="d"]': {
      height: '.217em',              // num1 - a - 3.5t
      'vertical-align': '-.217em',   // ditto
    },
    'mjx-dstrut': {
      display: 'inline-block',
      height: '.505em',              // denom2 + a - 1.5t
      width: 0
    },
    'mjx-dstrut[type="d"]': {
      height: '.726em',              // denom1 + a - 3.5t
    },

    'mjx-line': {
      display: 'block',
      'box-sizing': 'border-box',
      'min-height': '1px',
      height: '.06em',               // t = rule_thickness
      'border-top': '.06em solid',   // t
      margin: '.06em -.1em',         // t
      overflow: 'hidden'
    },
    'mjx-line[type="d"]': {
      margin: '.18em -.1em'          // 3t
    }

  };

  /**
   * An mop element to use for bevelled fractions
   */
  public bevel: CHTMLmo&lt;N, T, D&gt;;

  /************************************************/

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.167">
const PACKAGE = require('../../webpack.common.js');

module.exports = PACKAGE(
  'latest',                           // the package to build
  '../../../js',                      // location of the MathJax js library
  [],                                 // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1670">public toCHTML(parent: N) {
  this.standardCHTMLnode(parent);
  const {linethickness, bevelled} = this.node.attributes.getList('linethickness', 'bevelled');
  const display = this.isDisplay();
  if (bevelled) {
    this.makeBevelled(display);
  } else {
    const thickness = this.length2em(String(linethickness), .06);
    if (thickness === 0) {
      this.makeAtop(display);
    } else {
      this.makeFraction(display, thickness);
    }
  }
}

/************************************************/

/**
 * @param {boolean} display  True when fraction is in display mode
 * @param {number} t         The rule line thickness
 */
protected makeFraction(display: boolean, t: number) {
  const {numalign, denomalign} = this.node.attributes.getList('numalign', 'denomalign');
  const withDelims = this.node.getProperty('withDelims');
  //
  // Attributes to set for the different elements making up the fraction
  //
  const attr = (display ? {type: 'd'} : {}) as OptionList;
  const fattr = (withDelims ? {...attr, delims: 'true'} : {...attr}) as OptionList;
  const nattr = (numalign !== 'center' ? {align: numalign} : {}) as OptionList;
  const dattr = (denomalign !== 'center' ? {align: denomalign} : {}) as OptionList;
  const dsattr = {...attr}, nsattr = {...attr};
  //
  // Set the styles to handle the linethickness, if needed
  //
  const tex = this.font.params;
  if (t !== .06) {
    const a = tex.axis_height;
    const tEm = this.em(t);
    const {T, u, v} = this.getTUV(display, t);
    const m = (display ? this.em(3 * t) : tEm) + ' -.1em';
    attr.style = {height: tEm, 'border-top': tEm + ' solid', margin: m};
    const nh = this.em(Math.max(0, u));
    nsattr.style = {height: nh, 'vertical-align': '-' + nh};
    dsattr.style = {height: this.em(Math.max(0, v))};
    fattr.style  = {'vertical-align': this.em(a - T)};
  }
  //
  // Create the DOM tree
  //
  let num, den;
  this.adaptor.append(this.chtml, this.html('mjx-frac', fattr, [
    num = this.html('mjx-num', nattr, [this.html('mjx-nstrut', nsattr)]),
    this.html('mjx-dbox', {}, [
      this.html('mjx-dtable', {}, [
        this.html('mjx-line', attr),
        this.html('mjx-row', {}, [
          den = this.html('mjx-den', dattr, [this.html('mjx-dstrut', dsattr)])
        ])
      ])
    ])
  ]));
  this.childNodes[0].toCHTML(num);
  this.childNodes[1].toCHTML(den);
}

/************************************************/

/**
 * @param {boolean} display  True when fraction is in display mode
 */
protected makeAtop(display: boolean) {
  const {numalign, denomalign} = this.node.attributes.getList('numalign', 'denomalign');
  const withDelims = this.node.getProperty('withDelims');
  //
  // Attributes to set for the different elements making up the fraction
  //
  const attr = (display ? {type: 'd', atop: true} : {atop: true}) as OptionList;
  const fattr = (withDelims ? {...attr, delims: true} : {...attr}) as OptionList;
  const nattr = (numalign !== 'center' ? {align: numalign} : {}) as OptionList;
  const dattr = (denomalign !== 'center' ? {align: denomalign} : {}) as OptionList;
  //
  // Determine sparation and positioning
  //
  const {v, q} = this.getUVQ(display);
  nattr.style = {'padding-bottom': this.em(q)};
  fattr.style = {'vertical-align': this.em(-v)};
  //
  // Create the DOM tree
  //
  let num, den;
  this.adaptor.append(this.chtml, this.html('mjx-frac', fattr, [
    num = this.html('mjx-num', nattr),
    den = this.html('mjx-den', dattr)
  ]));
  this.childNodes[0].toCHTML(num);
  this.childNodes[1].toCHTML(den);
}

/************************************************/

/**
 * @param {boolean} display  True when fraction is in display mode
 */
protected makeBevelled(display: boolean) {
  const adaptor = this.adaptor;
  //
  //  Create HTML tree
  //
  adaptor.setAttribute(this.chtml, 'bevelled', 'ture');
  const num = adaptor.append(this.chtml, this.html('mjx-num'));
  this.childNodes[0].toCHTML(num);
  this.bevel.toCHTML(this.chtml);
  const den = adaptor.append(this.chtml, this.html('mjx-den'));
  this.childNodes[1].toCHTML(den);
  //
  //  Place the parts
  //
  const {u, v, delta, nbox, dbox} = this.getBevelData(display);
  if (u) {
    adaptor.setStyle(num, 'verticalAlign', this.em(u / nbox.scale));
  }
  if (v) {
    adaptor.setStyle(den, 'verticalAlign', this.em(v / dbox.scale));
  }
  const dx = this.em(-delta / 2);
  adaptor.setStyle(this.bevel.chtml, 'marginLeft', dx);
  adaptor.setStyle(this.bevel.chtml, 'marginRight', dx);
}

</t>
<t tx="ekr.20211016054411.1671">


/**
 * @fileoverview  Implements the CHTMLmglyph wrapper for the MmlMglyph object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonMglyphMixin} from '../../common/Wrappers/mglyph.js';
import {MmlMglyph} from '../../../core/MmlTree/MmlNodes/mglyph.js';
import {StyleList, StyleData} from '../../../util/StyleList.js';

/*****************************************************************/
/**
 * The CHTMLmglyph wrapper for the MmlMglyph object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmglyph&lt;N, T, D&gt; extends
CommonMglyphMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The mglyph wrapper
   */
  public static kind = MmlMglyph.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-mglyph &gt; img': {
      display: 'inline-block',
      border: 0,
      padding: 0
    }
  };

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1672">  public toCHTML(parent: N) {
    const chtml = this.standardCHTMLnode(parent);
    const {src, alt} = this.node.attributes.getList('src', 'alt');
    const styles: StyleData = {
      width: this.em(this.width),
      height: this.em(this.height)
    };
    if (this.valign) {
      styles.verticalAlign = this.em(this.valign);
    }
    const img = this.html('img', {src: src, style: styles, alt: alt, title: alt});
    this.adaptor.append(chtml, img);
  }

}
</t>
<t tx="ekr.20211016054411.1673">


/**
 * @fileoverview  Implements the CHTMLmi wrapper for the MmlMi object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonMiMixin} from '../../common/Wrappers/mi.js';
import {MmlMi} from '../../../core/MmlTree/MmlNodes/mi.js';

/*****************************************************************/
/**
 *  The CHTMLmi wrapper for the MmlMi object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmi&lt;N, T, D&gt; extends
CommonMiMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The mi wrapper
   */
  public static kind = MmlMi.prototype.kind;

}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1674">


/**
 * @fileoverview  Implements the CHTMLmmultiscripts wrapper for the MmlMmultiscripts object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, Constructor} from '../Wrapper.js';
import {CHTMLmsubsup} from './msubsup.js';
import {CommonMmultiscriptsMixin} from '../../common/Wrappers/mmultiscripts.js';
import {MmlMmultiscripts} from '../../../core/MmlTree/MmlNodes/mmultiscripts.js';
import {BBox} from '../../../util/BBox.js';
import {StyleList} from '../../../util/StyleList.js';

/*****************************************************************/
/**
 * The CHTMLmmultiscripts wrapper for the MmlMmultiscripts object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmmultiscripts&lt;N, T, D&gt; extends
CommonMmultiscriptsMixin&lt;CHTMLWrapper&lt;any, any, any&gt;, Constructor&lt;CHTMLmsubsup&lt;any, any, any&gt;&gt;&gt;(CHTMLmsubsup) {

  /**
   * The mmultiscripts wrapper
   */
  public static kind = MmlMmultiscripts.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-prescripts': {
      display: 'inline-table',
      'padding-left': '.05em'   // scriptspace
    },
    'mjx-scripts': {
      display: 'inline-table',
      'padding-right': '.05em'   // scriptspace
    },
    'mjx-prescripts &gt; mjx-row &gt; mjx-cell': {
      'text-align': 'right'
    }
  };

  /*************************************************************/

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1675">  public toCHTML(parent: N) {
    const chtml = this.standardCHTMLnode(parent);
    const data = this.scriptData;
    //
    //  Combine the bounding boxes of the pre- and post-scripts,
    //  and get the resulting baseline offsets
    //
    const sub = this.combinePrePost(data.sub, data.psub);
    const sup = this.combinePrePost(data.sup, data.psup);
    const [u, v] = this.getUVQ(sub, sup);
    //
    //  Place the pre-scripts, then the base, then the post-scripts
    //
    if (data.numPrescripts) {
      this.addScripts(u, -v, true, data.psub, data.psup, this.firstPrescript, data.numPrescripts);
    }
    this.childNodes[0].toCHTML(chtml);
    if (data.numScripts) {
      this.addScripts(u, -v, false, data.sub, data.sup, 1, data.numScripts);
    }
  }

  /**
   * Create a table with the super and subscripts properly separated and aligned.
   *
   * @param {number} u       The baseline offset for the superscripts
   * @param {number} v       The baseline offset for the subscripts
   * @param {boolean} isPre  True for prescripts, false for scripts
   * @param {BBox} sub       The subscript bounding box
   * @param {BBox} sup       The superscript bounding box
   * @param {number} i       The starting index for the scripts
   * @param {number} n       The number of sub/super-scripts
   */
  protected addScripts(u: number, v: number, isPre: boolean, sub: BBox, sup: BBox, i: number, n: number) {
    const adaptor = this.adaptor;
    const q = (u - sup.d) + (v - sub.h);             // separation of scripts
    const U = (u &lt; 0 &amp;&amp; v === 0 ? sub.h + u : u);    // vertical offset of table
    const rowdef = (q &gt; 0 ? {style: {height: this.em(q)}} : {});
    const tabledef = (U ? {style: {'vertical-align': this.em(U)}} : {});
    const supRow = this.html('mjx-row');
    const sepRow = this.html('mjx-row', rowdef);
    const subRow = this.html('mjx-row');
    const name = 'mjx-' + (isPre ? 'pre' : '') + 'scripts';
    adaptor.append(this.chtml, this.html(name, tabledef, [supRow, sepRow, subRow]));
    let m = i + 2 * n;
    while (i &lt; m) {
      this.childNodes[i++].toCHTML(adaptor.append(subRow, this.html('mjx-cell')) as N);
      this.childNodes[i++].toCHTML(adaptor.append(supRow, this.html('mjx-cell')) as N);
    }
  }

}
</t>
<t tx="ekr.20211016054411.1676">


/**
 * @fileoverview  Implements the CHTMLmn wrapper for the MmlMn object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonMnMixin} from '../../common/Wrappers/mn.js';
import {MmlMn} from '../../../core/MmlTree/MmlNodes/mn.js';

/*****************************************************************/
/**
 * The CHTMLmn wrapper for the MmlMn object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmn&lt;N, T, D&gt; extends
CommonMnMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The mn wrapper
   */
  public static kind = MmlMn.prototype.kind;

}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1677">


/**
 * @fileoverview  Implements the CHTMLmo wrapper for the MmlMo object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor, StringMap} from '../Wrapper.js';
import {CommonMoMixin, DirectionVH} from '../../common/Wrappers/mo.js';
import {MmlMo} from '../../../core/MmlTree/MmlNodes/mo.js';
import {StyleList} from '../../../util/StyleList.js';
import {DIRECTION} from '../FontData.js';

/*****************************************************************/
/**
 * The CHTMLmo wrapper for the MmlMo object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmo&lt;N, T, D&gt; extends
CommonMoMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The mo wrapper
   */
  public static kind = MmlMo.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-stretchy-h': {
      display: 'inline-table',
      width: '100%'
    },
    'mjx-stretchy-h &gt; *': {
      display: 'table-cell',
      width: 0
    },
    'mjx-stretchy-h &gt; * &gt; mjx-c': {
      display: 'inline-block',
      transform: 'scalex(1.0000001)'      // improves blink positioning
    },
    'mjx-stretchy-h &gt; * &gt; mjx-c::before': {
      display: 'inline-block',
      width: 'initial'
    },
    'mjx-stretchy-h &gt; mjx-ext': {
      '/* IE */ overflow': 'hidden',
      '/* others */ overflow': 'clip visible',
      width: '100%'
    },
    'mjx-stretchy-h &gt; mjx-ext &gt; mjx-c::before': {
      transform: 'scalex(500)'
    },
    'mjx-stretchy-h &gt; mjx-ext &gt; mjx-c': {
      width: 0
    },
    'mjx-stretchy-h &gt; mjx-beg &gt; mjx-c': {
      'margin-right': '-.1em'
    },
    'mjx-stretchy-h &gt; mjx-end &gt; mjx-c': {
      'margin-left': '-.1em'
    },

    'mjx-stretchy-v': {
      display: 'inline-block'
    },
    'mjx-stretchy-v &gt; *': {
      display: 'block'
    },
    'mjx-stretchy-v &gt; mjx-beg': {
      height: 0
    },
    'mjx-stretchy-v &gt; mjx-end &gt; mjx-c': {
      display: 'block'
    },
    'mjx-stretchy-v &gt; * &gt; mjx-c': {
      transform: 'scaley(1.0000001)',       // improves Firefox and blink positioning
      'transform-origin': 'left center',
      overflow: 'hidden'
    },
    'mjx-stretchy-v &gt; mjx-ext': {
      display: 'block',
      height: '100%',
      'box-sizing': 'border-box',
      border: '0px solid transparent',
      '/* IE */ overflow': 'hidden',
      '/* others */ overflow': 'visible clip',
    },
    'mjx-stretchy-v &gt; mjx-ext &gt; mjx-c::before': {
      width: 'initial',
      'box-sizing': 'border-box'
    },
    'mjx-stretchy-v &gt; mjx-ext &gt; mjx-c': {
      transform: 'scaleY(500) translateY(.075em)',
      overflow: 'visible'
    },
    'mjx-mark': {
      display: 'inline-block',
      height: '0px'
    }

  };

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1678">  public toCHTML(parent: N) {
    const attributes = this.node.attributes;
    const symmetric = (attributes.get('symmetric') as boolean) &amp;&amp; this.stretch.dir !== DIRECTION.Horizontal;
    const stretchy = this.stretch.dir !== DIRECTION.None;
    if (stretchy &amp;&amp; this.size === null) {
      this.getStretchedVariant([]);
    }
    let chtml = this.standardCHTMLnode(parent);
    if (stretchy &amp;&amp; this.size &lt; 0) {
      this.stretchHTML(chtml);
    } else {
      if (symmetric || attributes.get('largeop')) {
        const u = this.em(this.getCenterOffset());
        if (u !== '0') {
          this.adaptor.setStyle(chtml, 'verticalAlign', u);
        }
      }
      if (this.node.getProperty('mathaccent')) {
        this.adaptor.setStyle(chtml, 'width', '0');
        this.adaptor.setStyle(chtml, 'margin-left', this.em(this.getAccentOffset()));
      }
      for (const child of this.childNodes) {
        child.toCHTML(chtml);
      }
    }
  }

  /**
   * Create the HTML for a multi-character stretchy delimiter
   *
   * @param {N} chtml  The parent element in which to put the delimiter
   */
  protected stretchHTML(chtml: N) {
    const c = this.getText().codePointAt(0);
    this.font.delimUsage.add(c);
    this.childNodes[0].markUsed();
    const delim = this.stretch;
    const stretch = delim.stretch;
    const content: N[] = [];
    //
    //  Set up the beginning, extension, and end pieces
    //
    if (stretch[0]) {
      content.push(this.html('mjx-beg', {}, [this.html('mjx-c')]));
    }
    content.push(this.html('mjx-ext', {}, [this.html('mjx-c')]));
    if (stretch.length === 4) {
      //
      //  Braces have a middle and second extensible piece
      //
      content.push(
        this.html('mjx-mid', {}, [this.html('mjx-c')]),
        this.html('mjx-ext', {}, [this.html('mjx-c')])
      );
    }
    if (stretch[2]) {
      content.push(this.html('mjx-end', {}, [this.html('mjx-c')]));
    }
    //
    //  Set the styles needed
    //
    const styles: StringMap = {};
    const {h, d, w} = this.bbox;
    if (delim.dir === DIRECTION.Vertical) {
      //
      //  Vertical needs an extra (empty) element to get vertical position right
      //  in some browsers (e.g., Safari)
      //
      content.push(this.html('mjx-mark'));
      styles.height = this.em(h + d);
      styles.verticalAlign = this.em(-d);
    } else {
      styles.width = this.em(w);
    }
    //
    //  Make the main element and add it to the parent
    //
    const dir = DirectionVH[delim.dir];
    const properties = {class: this.char(delim.c || c), style: styles};
    const html = this.html('mjx-stretchy-' + dir, properties, content);
    this.adaptor.append(chtml, html);
  }

}
</t>
<t tx="ekr.20211016054411.1679">


/**
 * @fileoverview  Implements the CHTMLmpadded wrapper for the MmlMpadded object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor, StringMap} from '../Wrapper.js';
import {CommonMpaddedMixin} from '../../common/Wrappers/mpadded.js';
import {MmlMpadded} from '../../../core/MmlTree/MmlNodes/mpadded.js';
import {StyleList} from '../../../util/StyleList.js';

/*****************************************************************/
/**
 * The CHTMLmpadded wrapper for the MmlMpadded object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmpadded&lt;N, T, D&gt; extends
CommonMpaddedMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The mpadded wrapper
   */
  public static kind = MmlMpadded.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-mpadded': {
      display: 'inline-block'
    },
    'mjx-rbox': {
      display: 'inline-block',
      position: 'relative'
    }
  };

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.168"></t>
<t tx="ekr.20211016054411.1680">  public toCHTML(parent: N) {
    let chtml = this.standardCHTMLnode(parent);
    const content: N[] = [];
    const style: StringMap = {};
    const [ , , W, dh, dd, dw, x, y, dx] = this.getDimens();
    //
    // If the width changed, set the width explicitly
    //
    if (dw) {
      style.width = this.em(W + dw);
    }
    //
    // If the height or depth changed, use margin to make the change
    //
    if (dh || dd) {
      style.margin = this.em(dh) + ' 0 ' + this.em(dd);
    }
    //
    // If there is a horizontal or vertical shift,
    //   use relative positioning to move the contents
    //
    if (x + dx || y) {
      style.position = 'relative';
      const rbox = this.html('mjx-rbox', {
        style: {left: this.em(x + dx), top: this.em(-y), 'max-width': style.width}
      });
      if (x + dx &amp;&amp; this.childNodes[0].getBBox().pwidth) {
        this.adaptor.setAttribute(rbox, 'width', 'full');
        this.adaptor.setStyle(rbox, 'left', this.em(x));
      }
      content.push(rbox);
    }
    //
    //  Create the HTML with the proper styles and content
    //
    chtml = this.adaptor.append(chtml, this.html('mjx-block', {style: style}, content)) as N;
    for (const child of this.childNodes) {
      child.toCHTML(content[0] || chtml);
    }
  }

}
</t>
<t tx="ekr.20211016054411.1681">


/**
 * @fileoverview  Implements the CHTMLMroot wrapper for the MmlMroot object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper} from '../Wrapper.js';
import {CHTMLmsqrt} from './msqrt.js';
import {CommonMrootMixin, MrootConstructor} from '../../common/Wrappers/mroot.js';
import {BBox} from '../../../util/BBox.js';
import {MmlMroot} from '../../../core/MmlTree/MmlNodes/mroot.js';

/*****************************************************************/
/**
 * The CHTMLmroot wrapper for the MmlMroot object (extends CHTMLmsqrt)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1682">export class CHTMLmroot&lt;N, T, D&gt; extends CommonMrootMixin&lt;MrootConstructor&gt;(CHTMLmsqrt) {

  /**
   * The mroot wrapper
   */
  public static kind = MmlMroot.prototype.kind;

  /**
   * @override
   */
  protected addRoot(ROOT: N, root: CHTMLWrapper&lt;N, T, D&gt;, sbox: BBox, H: number) {
    root.toCHTML(ROOT);
    const [x, h, dx] = this.getRootDimens(sbox, H);
    this.adaptor.setStyle(ROOT, 'verticalAlign', this.em(h));
    this.adaptor.setStyle(ROOT, 'width', this.em(x));
    if (dx) {
      this.adaptor.setStyle(this.adaptor.firstChild(ROOT) as N, 'paddingLeft', this.em(dx));
    }
  }

}
</t>
<t tx="ekr.20211016054411.1683">


/**
 * @fileoverview  Implements the CHTMLmrow wrapper for the MmlMrow object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor, Constructor} from '../Wrapper.js';
import {CommonMrowMixin} from '../../common/Wrappers/mrow.js';
import {CommonInferredMrowMixin} from '../../common/Wrappers/mrow.js';
import {MmlMrow, MmlInferredMrow} from '../../../core/MmlTree/MmlNodes/mrow.js';

/*****************************************************************/
/**
 * The CHTMLmrow wrapper for the MmlMrow object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmrow&lt;N, T, D&gt; extends
CommonMrowMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The mrow wrapper
   */
  public static kind = MmlMrow.prototype.kind;

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1684">  public toCHTML(parent: N) {
    const chtml = (this.node.isInferred ? (this.chtml = parent) : this.standardCHTMLnode(parent));
    let hasNegative = false;
    for (const child of this.childNodes) {
      child.toCHTML(chtml);
      if (child.bbox.w &lt; 0) {
        hasNegative = true;
      }
    }
    // FIXME:  handle line breaks
    if (hasNegative) {
      const {w} = this.getBBox();
      if (w) {
        this.adaptor.setStyle(chtml, 'width', this.em(Math.max(0, w)));
        if (w &lt; 0) {
          this.adaptor.setStyle(chtml, 'marginRight', this.em(w));
        }
      }
    }
  }

}

/*****************************************************************/
/**
 *  The CHTMLinferredMrow wrapper for the MmlInferredMrow object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLinferredMrow&lt;N, T, D&gt; extends
CommonInferredMrowMixin&lt;Constructor&lt;CHTMLmrow&lt;any, any, any&gt;&gt;&gt;(CHTMLmrow) {

  /**
   * The inferred-mrow wrapper
   */
  public static kind = MmlInferredMrow.prototype.kind;

}
</t>
<t tx="ekr.20211016054411.1685">


/**
 * @fileoverview  Implements the CHTMLms wrapper for the MmlMs object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonMsMixin} from '../../common/Wrappers/ms.js';
import {MmlMs} from '../../../core/MmlTree/MmlNodes/ms.js';

/*****************************************************************/
/**
 * The CHTMLms wrapper for the MmlMs object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLms&lt;N, T, D&gt; extends
CommonMsMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The ms wrapper
   */
  public static kind = MmlMs.prototype.kind;

}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1686">


/**
 * @fileoverview  Implements the CHTMLmspace wrapper for the MmlMspace object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonMspaceMixin} from '../../common/Wrappers/mspace.js';
import {MmlMspace} from '../../../core/MmlTree/MmlNodes/mspace.js';

/*****************************************************************/
/**
 * The CHTMLmspace wrapper for the MmlMspace object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmspace&lt;N, T, D&gt; extends
CommonMspaceMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The mspace wrapper
   */
  public static kind = MmlMspace.prototype.kind;

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1687">  public toCHTML(parent: N) {
    let chtml = this.standardCHTMLnode(parent);
    let {w, h, d} = this.getBBox();
    if (w &lt; 0) {
      this.adaptor.setStyle(chtml, 'marginRight', this.em(w));
      w = 0;
    }
    if (w) {
      this.adaptor.setStyle(chtml, 'width', this.em(w));
    }
    h = Math.max(0, h + d);
    if (h) {
      this.adaptor.setStyle(chtml, 'height', this.em(Math.max(0, h)));
    }
    if (d) {
      this.adaptor.setStyle(chtml, 'verticalAlign', this.em(-d));
    }
  }

}
</t>
<t tx="ekr.20211016054411.1688">


/**
 * @fileoverview  Implements the CHTMLmsqrt wrapper for the MmlMsqrt object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonMsqrtMixin} from '../../common/Wrappers/msqrt.js';
import {CHTMLmo} from './mo.js';
import {BBox} from '../../../util/BBox.js';
import {MmlMsqrt} from '../../../core/MmlTree/MmlNodes/msqrt.js';
import {StyleList} from '../../../util/StyleList.js';

/*****************************************************************/
/**
 * The CHTMLmsqrt wrapper for the MmlMsqrt object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1689">export class CHTMLmsqrt&lt;N, T, D&gt; extends CommonMsqrtMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The msqrt wrapper
   */
  public static kind = MmlMsqrt.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-root': {
      display: 'inline-block',
      'white-space': 'nowrap'
    },
    'mjx-surd': {
      display: 'inline-block',
      'vertical-align': 'top'
    },
    'mjx-sqrt': {
      display: 'inline-block',
      'padding-top': '.07em'
    },
    'mjx-sqrt &gt; mjx-box': {
      'border-top': '.07em solid'
    },
    'mjx-sqrt.mjx-tall &gt; mjx-box': {
      'padding-left': '.3em',
      'margin-left': '-.3em'
    }
  };

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.169">
import './lib/loader.js';

import {Loader, CONFIG} from '../../../js/components/loader.js';
import {combineDefaults} from '../../../js/components/global.js';
import {dependencies, paths, provides} from '../dependencies.js';

combineDefaults(MathJax.config.loader, 'dependencies', dependencies);
combineDefaults(MathJax.config.loader, 'paths', paths);
combineDefaults(MathJax.config.loader, 'provides', provides);

Loader.load(...CONFIG.load)
      .then(() =&gt; CONFIG.ready())
      .catch((message, name) =&gt; CONFIG.failed(message, name));
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1690">public toCHTML(parent: N) {
  const surd = this.childNodes[this.surd] as CHTMLmo&lt;N, T, D&gt;;
  const base = this.childNodes[this.base];
  //
  //  Get the parameters for the spacing of the parts
  //
  const sbox = surd.getBBox();
  const bbox = base.getBBox();
  const [ , q] = this.getPQ(sbox);
  const t = this.font.params.rule_thickness;
  const H = bbox.h + q + t;
  //
  //  Create the HTML structure for the root
  //
  const CHTML = this.standardCHTMLnode(parent);
  let SURD, BASE, ROOT, root;
  if (this.root != null) {
    ROOT = this.adaptor.append(CHTML, this.html('mjx-root')) as N;
    root = this.childNodes[this.root];
  }
  const SQRT = this.adaptor.append(CHTML, this.html('mjx-sqrt', {}, [
    SURD = this.html('mjx-surd'),
    BASE = this.html('mjx-box', {style: {paddingTop: this.em(q)}})
  ])) as N;
  //
  //  Add the child content
  //
  this.addRoot(ROOT, root, sbox, H);
  surd.toCHTML(SURD);
  base.toCHTML(BASE);
  if (surd.size &lt; 0) {
    //
    // size &lt; 0 means surd is multi-character.  The angle glyph at the
    // top is hard to align with the horizontal line, so overlap them
    // using CSS.
    //
    this.adaptor.addClass(SQRT, 'mjx-tall');
  }
}

/**
 * Add root HTML (overridden in mroot)
 *
 * @param {N} ROOT             The container for the root
 * @param {CHTMLWrapper} root  The wrapped MML root content
 * @param {BBox} sbox          The bounding box of the surd
 * @param {number} H           The height of the root as a whole
 */
protected addRoot(_ROOT: N, _root: CHTMLWrapper&lt;N, T, D&gt;, _sbox: BBox, _H: number) {
}

</t>
<t tx="ekr.20211016054411.1691">


/**
 * @fileoverview  Implements the CHTMLmsubsup wrapper for the MmlMsubsup object
 *                and the special cases CHTMLmsub and CHTMLmsup
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, Constructor} from '../Wrapper.js';
import {CHTMLscriptbase} from './scriptbase.js';
import {CommonMsubMixin} from '../../common/Wrappers/msubsup.js';
import {CommonMsupMixin} from '../../common/Wrappers/msubsup.js';
import {CommonMsubsupMixin} from '../../common/Wrappers/msubsup.js';
import {MmlMsubsup, MmlMsub, MmlMsup} from '../../../core/MmlTree/MmlNodes/msubsup.js';
import {StyleList} from '../../../util/StyleList.js';

/*****************************************************************/
/**
 * The CHTMLmsub wrapper for the MmlMsub object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmsub&lt;N, T, D&gt; extends
CommonMsubMixin&lt;CHTMLWrapper&lt;any, any, any&gt;, Constructor&lt;CHTMLscriptbase&lt;any, any, any&gt;&gt;&gt;(CHTMLscriptbase)  {

  /**
   * The msub wrapper
   */
  public static kind = MmlMsub.prototype.kind;

}

/*****************************************************************/
/**
 * The CHTMLmsup wrapper for the MmlMsup object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmsup&lt;N, T, D&gt; extends
CommonMsupMixin&lt;CHTMLWrapper&lt;any, any, any&gt;, Constructor&lt;CHTMLscriptbase&lt;any, any, any&gt;&gt;&gt;(CHTMLscriptbase)  {

  /**
   * The msup wrapper
   */
  public static kind = MmlMsup.prototype.kind;

}

/*****************************************************************/
/**
 * The CHTMLmsubsup wrapper for the MmlMsubsup object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmsubsup&lt;N, T, D&gt; extends
CommonMsubsupMixin&lt;CHTMLWrapper&lt;any, any, any&gt;, Constructor&lt;CHTMLscriptbase&lt;any, any, any&gt;&gt;&gt;(CHTMLscriptbase)  {

  /**
   * The msubsup wrapper
   */
  public static kind = MmlMsubsup.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-script': {
      display: 'inline-block',
      'padding-right': '.05em',  // scriptspace
      'padding-left': '.033em'   // extra_ic
    },
    'mjx-script &gt; *': {
      display: 'block'
    }
  };

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1692">  public toCHTML(parent: N) {
    const adaptor = this.adaptor;
    const chtml = this.standardCHTMLnode(parent);
    const [base, sup, sub] = [this.baseChild, this.supChild, this.subChild];
    const [ , v, q] = this.getUVQ();
    const style = {'vertical-align': this.em(v)};
    base.toCHTML(chtml);
    const stack = adaptor.append(chtml, this.html('mjx-script', {style})) as N;
    sup.toCHTML(stack);
    adaptor.append(stack, this.html('mjx-spacer', {style: {'margin-top': this.em(q)}}));
    sub.toCHTML(stack);
    const ic = this.getAdjustedIc();
    if (ic) {
      adaptor.setStyle(sup.chtml, 'marginLeft', this.em(ic / sup.bbox.rscale));
    }
    if (this.baseRemoveIc) {
      adaptor.setStyle(stack, 'marginLeft', this.em(-this.baseIc));
    }
  }

}
</t>
<t tx="ekr.20211016054411.1693">


/**
 * @fileoverview  Implements the CHTMLmtable wrapper for the MmlMtable object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CHTMLWrapperFactory} from '../WrapperFactory.js';
import {CommonMtableMixin} from '../../common/Wrappers/mtable.js';
import {CHTMLmtr} from './mtr.js';
import {CHTMLmtd} from './mtd.js';
import {MmlMtable} from '../../../core/MmlTree/MmlNodes/mtable.js';
import {MmlNode} from '../../../core/MmlTree/MmlNode.js';
import {StyleList} from '../../../util/StyleList.js';
import {isPercent} from '../../../util/string.js';
import {OptionList} from '../../../util/Options.js';

/*****************************************************************/
/**
 * The CHTMLmtable wrapper for the MmlMtable object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class CHTMLmtable&lt;N, T, D&gt; extends
CommonMtableMixin&lt;CHTMLmtd&lt;any, any, any&gt;, CHTMLmtr&lt;any, any, any&gt;, CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The mtable wrapper
   */
  public static kind = MmlMtable.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-mtable': {
      'vertical-align': '.25em',
      'text-align': 'center',
      'position': 'relative',
      'box-sizing': 'border-box',
      'border-spacing': 0,            // prevent this from being inherited from an outer table
      'border-collapse': 'collapse'   // similarly here
    },
    'mjx-mstyle[size="s"] mjx-mtable': {
      'vertical-align': '.354em'
    },
    'mjx-labels': {
      position: 'absolute',
      left: 0,
      top: 0
    },
    'mjx-table': {
      'display': 'inline-block',
      'vertical-align': '-.5ex',
      'box-sizing': 'border-box'
    },
    'mjx-table &gt; mjx-itable': {
      'vertical-align': 'middle',
      'text-align': 'left',
      'box-sizing': 'border-box'
    },
    'mjx-labels &gt; mjx-itable': {
      position: 'absolute',
      top: 0
    },
    'mjx-mtable[justify="left"]': {
      'text-align': 'left'
    },
    'mjx-mtable[justify="right"]': {
      'text-align': 'right'
    },
    'mjx-mtable[justify="left"][side="left"]': {
      'padding-right': '0 ! important'
    },
    'mjx-mtable[justify="left"][side="right"]': {
      'padding-left': '0 ! important'
    },
    'mjx-mtable[justify="right"][side="left"]': {
      'padding-right': '0 ! important'
    },
    'mjx-mtable[justify="right"][side="right"]': {
      'padding-left': '0 ! important'
    },
    'mjx-mtable[align]': {
      'vertical-align': 'baseline'
    },
    'mjx-mtable[align="top"] &gt; mjx-table': {
      'vertical-align': 'top'
    },
    'mjx-mtable[align="bottom"] &gt; mjx-table': {
      'vertical-align': 'bottom'
    },
    'mjx-mtable[side="right"] mjx-labels': {
      'min-width': '100%'
    }
  };

  /**
   * The column for labels
   */
  public labels: N;

  /**
   * The inner table DOM node
   */
  public itable: N;

  /******************************************************************/

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1694">constructor(factory: CHTMLWrapperFactory&lt;N, T, D&gt;, node: MmlNode, parent: CHTMLWrapper&lt;N, T, D&gt; = null) {
  super(factory, node, parent);
  this.itable = this.html('mjx-itable');
  this.labels = this.html('mjx-itable');
}

</t>
<t tx="ekr.20211016054411.1695">/**
 * @override
 */
public getAlignShift() {
  const data = super.getAlignShift();
  if (!this.isTop) {
    data[1] = 0;
  }
  return data;
}

</t>
<t tx="ekr.20211016054411.1696">/**
 * @override
 */
  public toCHTML(parent: N) {
    //
    //  Create the rows inside an mjx-itable (which will be used to center the table on the math axis)
    //
    const chtml = this.standardCHTMLnode(parent);
    this.adaptor.append(chtml, this.html('mjx-table', {}, [this.itable]));
    for (const child of this.childNodes) {
      child.toCHTML(this.itable);
    }
    //
    //  Pad the rows of the table, if needed
    //  Then set the column and row attributes for alignment, spacing, and lines
    //  Finally, add the frame, if needed
    //
    this.padRows();
    this.handleColumnSpacing();
    this.handleColumnLines();
    this.handleColumnWidths();
    this.handleRowSpacing();
    this.handleRowLines();
    this.handleRowHeights();
    this.handleFrame();
    this.handleWidth();
    this.handleLabels();
    this.handleAlign();
    this.handleJustify();
    this.shiftColor();
  }

  /**
   * Move background color (if any) to inner itable node so that labeled tables are
   * only colored on the main part of the table.
   */
  protected shiftColor() {
    const adaptor = this.adaptor;
    const color = adaptor.getStyle(this.chtml, 'backgroundColor');
    if (color) {
      adaptor.setStyle(this.chtml, 'backgroundColor', '');
      adaptor.setStyle(this.itable, 'backgroundColor', color);
    }
  }

  /******************************************************************/

  /**
   * Pad any short rows with extra cells
   */
  protected padRows() {
    const adaptor = this.adaptor;
    for (const row of adaptor.childNodes(this.itable) as N[]) {
      while (adaptor.childNodes(row).length &lt; this.numCols) {
        adaptor.append(row, this.html('mjx-mtd', {'extra': true}));
      }
    }
  }

  /**
   * Set the inter-column spacing for all columns
   *  (Use frame spacing on the outsides, if needed, and use half the column spacing on each
   *   neighboring column, so that if column lines are needed, they fall in the middle
   *   of the column space.)
   */
  protected handleColumnSpacing() {
    const scale = (this.childNodes[0] ? 1 / this.childNodes[0].getBBox().rscale : 1);
    const spacing = this.getEmHalfSpacing(this.fSpace[0], this.cSpace, scale);
    const frame = this.frame;
    //
    //  For each row...
    //
    for (const row of this.tableRows) {
      let i = 0;
      //
      //  For each cell in the row...
      //
      for (const cell of row.tableCells) {
        //
        //  Get the left and right-hand spacing
        //
        const lspace = spacing[i++];
        const rspace = spacing[i];
        //
        //  Set the style for the spacing, if it is needed, and isn't the
        //  default already set in the mtd styles
        //
        const styleNode = (cell ? cell.chtml : this.adaptor.childNodes(row.chtml)[i] as N);
        if ((i &gt; 1 &amp;&amp; lspace !== '0.4em') || (frame &amp;&amp; i === 1)) {
          this.adaptor.setStyle(styleNode, 'paddingLeft', lspace);
        }
        if ((i &lt; this.numCols &amp;&amp; rspace !== '0.4em') || (frame &amp;&amp; i === this.numCols)) {
          this.adaptor.setStyle(styleNode, 'paddingRight', rspace);
        }
      }
    }
  }

  /**
   * Add borders to the left of cells to make the column lines
   */
  protected handleColumnLines() {
    if (this.node.attributes.get('columnlines') === 'none') return;
    const lines = this.getColumnAttributes('columnlines');
    for (const row of this.childNodes) {
      let i = 0;
      for (const cell of this.adaptor.childNodes(row.chtml).slice(1) as N[]) {
        const line = lines[i++];
        if (line === 'none') continue;
        this.adaptor.setStyle(cell, 'borderLeft', '.07em ' + line);
      }
    }
  }

  /**
   * Add widths to the cells for the column widths
   */
  protected handleColumnWidths() {
    for (const row of this.childNodes) {
      let i = 0;
      for (const cell of this.adaptor.childNodes(row.chtml) as N[]) {
        const w = this.cWidths[i++];
        if (w !== null) {
          const width = (typeof w === 'number' ? this.em(w) : w);
          this.adaptor.setStyle(cell, 'width', width);
          this.adaptor.setStyle(cell, 'maxWidth', width);
          this.adaptor.setStyle(cell, 'minWidth', width);
        }
      }
    }
  }

  /**
   * Set the inter-row spacing for all rows
   *  (Use frame spacing on the outsides, if needed, and use half the row spacing on each
   *   neighboring row, so that if row lines are needed, they fall in the middle
   *   of the row space.)
   */
  protected handleRowSpacing() {
    const scale = (this.childNodes[0] ? 1 / this.childNodes[0].getBBox().rscale : 1);
    const spacing = this.getEmHalfSpacing(this.fSpace[1], this.rSpace, scale);
    const frame = this.frame;
    //
    //  For each row...
    //
    let i = 0;
    for (const row of this.childNodes) {
      //
      //  Get the top and bottom spacing
      //
      const tspace = spacing[i++];
      const bspace = spacing[i];
      //
      //  For each cell in the row...
      //
      for (const cell of row.childNodes) {
        //
        //  Set the style for the spacing, if it is needed, and isn't the
        //  default already set in the mtd styles
        //
        if ((i &gt; 1 &amp;&amp; tspace !== '0.215em') || (frame &amp;&amp; i === 1)) {
          this.adaptor.setStyle(cell.chtml, 'paddingTop', tspace);
        }
        if ((i &lt; this.numRows &amp;&amp; bspace !== '0.215em') || (frame &amp;&amp; i === this.numRows)) {
          this.adaptor.setStyle(cell.chtml, 'paddingBottom', bspace);
        }
      }
    }
  }

  /**
   * Add borders to the tops of cells to make the row lines
   */
  protected handleRowLines() {
    if (this.node.attributes.get('rowlines') === 'none') return;
    const lines = this.getRowAttributes('rowlines');
    let i = 0;
    for (const row of this.childNodes.slice(1)) {
      const line = lines[i++];
      if (line === 'none') continue;
      for (const cell of this.adaptor.childNodes(row.chtml) as N[]) {
        this.adaptor.setStyle(cell, 'borderTop', '.07em ' + line);
      }
    }
  }

  /**
   * Adjust row heights for equal-sized rows
   */
  protected handleRowHeights() {
    if (this.node.attributes.get('equalrows')) {
      this.handleEqualRows();
    }
  }

  /**
   * Set the heights of all rows to be the same, and properly center
   * baseline or axis rows within the newly sized
   */
  protected handleEqualRows() {
    const space = this.getRowHalfSpacing();
    const {H, D, NH, ND} = this.getTableData();
    const HD = this.getEqualRowHeight();
    //
    // Loop through the rows and set their heights
    //
    for (let i = 0; i &lt; this.numRows; i++) {
      const row = this.childNodes[i];
      this.setRowHeight(row, HD + space[i] + space[i + 1] + this.rLines[i]);
      if (HD !== NH[i] + ND[i]) {
        this.setRowBaseline(row, HD, (HD - H[i] + D[i]) / 2);
      }
    }
  }

  /**
   * @param {CHTMLWrapper} row   The row whose height is to be set
   * @param {number} HD          The height to be set for the row
   */
  protected setRowHeight(row: CHTMLWrapper&lt;N, T, D&gt;, HD: number) {
      this.adaptor.setStyle(row.chtml, 'height', this.em(HD));
  }

  /**
   * Make sure the baseline is in the right position for cells
   *   that are row aligned to baseline ot axis
   *
   * @param {CHTMLWrapper} row   The row to be set
   * @param {number} HD          The total height+depth for the row
   * @param {number] D           The new depth for the row
   */
  protected setRowBaseline(row: CHTMLWrapper&lt;N, T, D&gt;, HD: number, D: number) {
    const ralign = row.node.attributes.get('rowalign') as string;
    //
    //  Loop through the cells and set the strut height and depth.
    //    The strut is the last element in the cell.
    //
    for (const cell of row.childNodes) {
      if (this.setCellBaseline(cell, ralign, HD, D)) break;
    }
  }

  /**
   * Make sure the baseline is in the correct place for cells aligned on baseline or axis
   *
   * @param {CHTMLWrapper} cell  The cell to modify
   * @param {string} ralign      The alignment of the row
   * @param {number} HD          The total height+depth for the row
   * @param {number] D           The new depth for the row
   * @return {boolean}           True if no other cells in this row need to be processed
   */
  protected setCellBaseline(cell: CHTMLWrapper&lt;N, T, D&gt;, ralign: string, HD: number, D: number): boolean {
    const calign = cell.node.attributes.get('rowalign');
    if (calign === 'baseline' || calign === 'axis') {
      const adaptor = this.adaptor;
      const child = adaptor.lastChild(cell.chtml) as N;
      adaptor.setStyle(child, 'height', this.em(HD));
      adaptor.setStyle(child, 'verticalAlign', this.em(-D));
      const row = cell.parent;
      if ((!row.node.isKind('mlabeledtr') || cell !== row.childNodes[0]) &amp;&amp;
          (ralign === 'baseline' || ralign === 'axis')) {
        return true;
      }
    }
    return false;
  }

  /**
   * Add a frame to the mtable, if needed
   */
  protected handleFrame() {
    if (this.frame &amp;&amp; this.fLine) {
      this.adaptor.setStyle(this.itable, 'border', '.07em ' + this.node.attributes.get('frame'));
    }
  }

  /**
   * Handle percentage widths and fixed widths
   */
  protected handleWidth() {
    const adaptor = this.adaptor;
    const {w, L, R} = this.getBBox();
    adaptor.setStyle(this.chtml, 'minWidth', this.em(L + w + R));
    let W = this.node.attributes.get('width') as string;
    if (isPercent(W)) {
      adaptor.setStyle(this.chtml, 'width', '');
      adaptor.setAttribute(this.chtml, 'width', 'full');
    } else if (!this.hasLabels) {
      if (W === 'auto') return;
      W = this.em(this.length2em(W) + 2 * this.fLine);
    }
    const table = adaptor.firstChild(this.chtml) as N;
    adaptor.setStyle(table, 'width', W);
    adaptor.setStyle(table, 'minWidth', this.em(w));
    if (L || R) {
      adaptor.setStyle(this.chtml, 'margin', '');
      const style = (this.node.attributes.get('data-width-includes-label') ? 'padding' : 'margin');
      if (L === R) {
        adaptor.setStyle(table, style, '0 ' + this.em(R));
      } else {
        adaptor.setStyle(table, style, '0 ' + this.em(R) + ' 0 ' + this.em(L));
      }
    }
    adaptor.setAttribute(this.itable, 'width', 'full');
  }

  /**
   * Handle alignment of table to surrounding baseline
   */
  protected handleAlign() {
    const [align, row] = this.getAlignmentRow();
    if (row === null) {
      if (align !== 'axis') {
        this.adaptor.setAttribute(this.chtml, 'align', align);
      }
    } else {
      const y = this.getVerticalPosition(row, align);
      this.adaptor.setAttribute(this.chtml, 'align', 'top');
      this.adaptor.setStyle(this.chtml, 'verticalAlign', this.em(y));
    }
  }

  /**
   * Mark the alignment of the table
   */
  protected handleJustify() {
    const align = this.getAlignShift()[0];
    if (align !== 'center') {
      this.adaptor.setAttribute(this.chtml, 'justify', align);
    }
  }

  /******************************************************************/

  /**
   * Handle addition of labels to the table
   */
  protected handleLabels() {
    if (!this.hasLabels) return;
    const labels = this.labels;
    const attributes = this.node.attributes;
    const adaptor = this.adaptor;
    //
    //  Set the side for the labels
    //
    const side = attributes.get('side') as string;
    adaptor.setAttribute(this.chtml, 'side', side);
    adaptor.setAttribute(labels, 'align', side);
    adaptor.setStyle(labels, side, '0');
    //
    //  Make sure labels don't overlap table
    //
    const [align, shift] = this.addLabelPadding(side);
    //
    //  Handle indentation
    //
    if (shift) {
      const table = adaptor.firstChild(this.chtml) as N;
      this.setIndent(table, align, shift);
    }
    //
    // Add the labels to the table
    //
    this.updateRowHeights();
    this.addLabelSpacing();
  }

  /**
   * @param {string} side         The side for the labels
   * @return {[string, number]}   The alignment and shift values
   */
  protected addLabelPadding(side: string): [string, number] {
    const [ , align, shift] = this.getPadAlignShift(side);
    const styles: OptionList = {};
    if (side === 'right' &amp;&amp; !this.node.attributes.get('data-width-includes-label')) {
      const W = this.node.attributes.get('width') as string;
      const {w, L, R} = this.getBBox();
      styles.style = {
        width: (isPercent(W) ? 'calc(' + W + ' + ' + this.em(L + R) + ')' : this.em(L + w + R))
      };
    }
    this.adaptor.append(this.chtml, this.html('mjx-labels', styles, [this.labels]));
    return [align, shift] as [string, number];
  }

  /**
   * Update any rows that are not naturally tall enough for the labels,
   *   and set the baseline for labels that are baseline aligned.
   */
  protected updateRowHeights() {
    let {H, D, NH, ND} = this.getTableData();
    const space = this.getRowHalfSpacing();
    for (let i = 0; i &lt; this.numRows; i++) {
      const row = this.childNodes[i];
      this.setRowHeight(row, H[i] + D[i] + space[i] + space[i + 1] + this.rLines[i]);
      if (H[i] !== NH[i] || D[i] !== ND[i]) {
        this.setRowBaseline(row, H[i] + D[i], D[i]);
      } else if (row.node.isKind('mlabeledtr')) {
        this.setCellBaseline(row.childNodes[0], '', H[i] + D[i], D[i]);
      }
    }
  }

  /**
   * Add spacing elements between the label rows to align them with the rest of the table
   */
  protected addLabelSpacing() {
    const adaptor = this.adaptor;
    const equal = this.node.attributes.get('equalrows') as boolean;
    const {H, D} = this.getTableData();
    const HD = (equal ? this.getEqualRowHeight() : 0);
    const space = this.getRowHalfSpacing();
    //
    //  Start with frame size and add in spacing, height and depth,
    //    and line thickness for each non-labeled row.
    //
    let h = this.fLine;
    let current = adaptor.firstChild(this.labels) as N;
    for (let i = 0; i &lt; this.numRows; i++) {
      const row = this.childNodes[i];
      if (row.node.isKind('mlabeledtr')) {
        h &amp;&amp; adaptor.insert(this.html('mjx-mtr', {style: {height: this.em(h)}}), current);
        adaptor.setStyle(current, 'height', this.em((equal ? HD : H[i] + D[i]) + space[i] + space[i + 1]));
        current = adaptor.next(current) as N;
        h = this.rLines[i];
      } else {
        h += space[i] + (equal ? HD : H[i] + D[i]) + space[i + 1] + this.rLines[i];
      }
    }
  }

}
</t>
<t tx="ekr.20211016054411.1697">


/**
 * @fileoverview  Implements the CHTMLmtd wrapper for the MmlMtd object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonMtdMixin} from '../../common/Wrappers/mtd.js';
import {MmlMtd} from '../../../core/MmlTree/MmlNodes/mtd.js';
import {StyleList} from '../../../util/StyleList.js';

/*****************************************************************/
/**
 * The CHTMLmtd wrapper for the MmlMtd object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmtd&lt;N, T, D&gt; extends
CommonMtdMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The mtd wrapper
   */
  public static kind = MmlMtd.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-mtd': {
      display: 'table-cell',
      'text-align': 'center',
      'padding': '.215em .4em'
    },
    'mjx-mtd:first-child': {
      'padding-left': 0
    },
    'mjx-mtd:last-child': {
      'padding-right': 0
    },
    'mjx-mtable &gt; * &gt; mjx-itable &gt; *:first-child &gt; mjx-mtd': {
      'padding-top': 0
    },
    'mjx-mtable &gt; * &gt; mjx-itable &gt; *:last-child &gt; mjx-mtd': {
      'padding-bottom': 0
    },
    'mjx-tstrut': {
      display: 'inline-block',
      height: '1em',
      'vertical-align': '-.25em'
    },
    'mjx-labels[align="left"] &gt; mjx-mtr &gt; mjx-mtd': {
      'text-align': 'left'
    },
    'mjx-labels[align="right"] &gt; mjx-mtr &gt; mjx-mtd': {
      'text-align': 'right'
    },
    'mjx-mtd[extra]': {
      padding: 0
    },
    'mjx-mtd[rowalign="top"]': {
      'vertical-align': 'top'
    },
    'mjx-mtd[rowalign="center"]': {
      'vertical-align': 'middle'
    },
    'mjx-mtd[rowalign="bottom"]': {
      'vertical-align': 'bottom'
    },
    'mjx-mtd[rowalign="baseline"]': {
      'vertical-align': 'baseline'
    },
    'mjx-mtd[rowalign="axis"]': {
      'vertical-align': '.25em'
    }
  };

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1698">  public toCHTML(parent: N) {
    super.toCHTML(parent);
    const ralign = this.node.attributes.get('rowalign') as string;
    const calign = this.node.attributes.get('columnalign') as string;
    const palign = this.parent.node.attributes.get('rowalign') as string;
    if (ralign !== palign) {
      this.adaptor.setAttribute(this.chtml, 'rowalign', ralign);
    }
    if (calign !== 'center' &amp;&amp;
        (this.parent.kind !== 'mlabeledtr' || this !== this.parent.childNodes[0] ||
         calign !== this.parent.parent.node.attributes.get('side'))) {
      this.adaptor.setStyle(this.chtml, 'textAlign', calign);
    }
    //
    // If we are using minimum row heights,
    //   Include a strut to force minimum height and depth
    //
    if (this.parent.parent.node.getProperty('useHeight')) {
      this.adaptor.append(this.chtml, this.html('mjx-tstrut'));
    }
  }

}
</t>
<t tx="ekr.20211016054411.1699">


/**
 * @fileoverview  Implements the CHTMLmtext wrapper for the MmlMtext object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonMtextMixin} from '../../common/Wrappers/mtext.js';
import {MmlMtext} from '../../../core/MmlTree/MmlNodes/mtext.js';

/*****************************************************************/
/**
 * The CHTMLmtext wrapper for the MmlMtext object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmtext&lt;N, T, D&gt; extends
CommonMtextMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The mtext wrapper
   */
  public static kind = MmlMtext.prototype.kind;

}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.17">
const PACKAGE = require('../../../webpack.common.js');

module.exports = PACKAGE(
  'a11y/assistive-mml',               // the package to build
  '../../../../js',                   // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/mml/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.170">
const PACKAGE = require('../../webpack.common.js');

module.exports = PACKAGE(
  'loader',                           // the package to build
  '../../../js',                      // location of the MathJax js library
  [],                                 // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1700">


/**
 * @fileoverview  Implements the CHTMLmtr wrapper for the MmlMtr object
 *                and CHTMLmlabeledtr for MmlMlabeledtr
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor, Constructor} from '../Wrapper.js';
import {CommonMtrMixin} from '../../common/Wrappers/mtr.js';
import {CommonMlabeledtrMixin} from '../../common/Wrappers/mtr.js';
import {CHTMLmtable} from './mtable.js';
import {CHTMLmtd} from './mtd.js';
import {MmlMtr, MmlMlabeledtr} from '../../../core/MmlTree/MmlNodes/mtr.js';
import {StyleList} from '../../../util/StyleList.js';

/*****************************************************************/
/**
 * The CHTMLmtr wrapper for the MmlMtr object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmtr&lt;N, T, D&gt; extends
CommonMtrMixin&lt;CHTMLmtd&lt;any, any, any&gt;, CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The mtr wrapper
   */
  public static kind = MmlMtr.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-mtr': {
      display: 'table-row',
    },
    'mjx-mtr[rowalign="top"] &gt; mjx-mtd': {
      'vertical-align': 'top'
    },
    'mjx-mtr[rowalign="center"] &gt; mjx-mtd': {
      'vertical-align': 'middle'
    },
    'mjx-mtr[rowalign="bottom"] &gt; mjx-mtd': {
      'vertical-align': 'bottom'
    },
    'mjx-mtr[rowalign="baseline"] &gt; mjx-mtd': {
      'vertical-align': 'baseline'
    },
    'mjx-mtr[rowalign="axis"] &gt; mjx-mtd': {
      'vertical-align': '.25em'
    }
  };

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1701">  public toCHTML(parent: N) {
    super.toCHTML(parent);
    const align = this.node.attributes.get('rowalign') as string;
    if (align !== 'baseline') {
      this.adaptor.setAttribute(this.chtml, 'rowalign', align);
    }
  }

}

/*****************************************************************/
/**
 * The CHTMLlabeledmtr wrapper for the MmlMlabeledtr object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class CHTMLmlabeledtr&lt;N, T, D&gt; extends
CommonMlabeledtrMixin&lt;CHTMLmtd&lt;any, any, any&gt;, Constructor&lt;CHTMLmtr&lt;any, any, any&gt;&gt;&gt;(CHTMLmtr) {

  /**
   * The mlabeledtr wrapper
   */
  public static kind = MmlMlabeledtr.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-mlabeledtr': {
      display: 'table-row'
    },
    'mjx-mlabeledtr[rowalign="top"] &gt; mjx-mtd': {
      'vertical-align': 'top'
    },
    'mjx-mlabeledtr[rowalign="center"] &gt; mjx-mtd': {
      'vertical-align': 'middle'
    },
    'mjx-mlabeledtr[rowalign="bottom"] &gt; mjx-mtd': {
      'vertical-align': 'bottom'
    },
    'mjx-mlabeledtr[rowalign="baseline"] &gt; mjx-mtd': {
      'vertical-align': 'baseline'
    },
    'mjx-mlabeledtr[rowalign="axis"] &gt; mjx-mtd': {
      'vertical-align': '.25em'
    }
  };

  
</t>
<t tx="ekr.20211016054411.1702">/**
   * @override
   */
public toCHTML(parent: N) {
  super.toCHTML(parent);
  const child = this.adaptor.firstChild(this.chtml) as N;
  if (child) {
    //
    // Remove label and put it into the labels box inside a row
    //
    this.adaptor.remove(child);
    const align = this.node.attributes.get('rowalign') as string;
    const attr = (align !== 'baseline' &amp;&amp; align !== 'axis' ? {rowalign: align} : {});
    const row = this.html('mjx-mtr', attr, [child]);
    this.adaptor.append((this.parent as CHTMLmtable&lt;N, T, D&gt;).labels, row);
  }
}

</t>
<t tx="ekr.20211016054411.1703">/**
 * @override
 */
  public markUsed() {
    super.markUsed();
    this.jax.wrapperUsage.add(CHTMLmtr.kind);
  }

}
</t>
<t tx="ekr.20211016054411.1704">


/**
 * @fileoverview  Implements the CHTMLmunderover wrapper for the MmlMunderover object
 *                and the special cases CHTMLmunder and CHTMLmsup
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, Constructor} from '../Wrapper.js';
import {CHTMLmsubsup, CHTMLmsub, CHTMLmsup} from './msubsup.js';
import {CommonMunderMixin} from '../../common/Wrappers/munderover.js';
import {CommonMoverMixin} from '../../common/Wrappers/munderover.js';
import {CommonMunderoverMixin} from '../../common/Wrappers/munderover.js';
import {MmlMunderover, MmlMunder, MmlMover} from '../../../core/MmlTree/MmlNodes/munderover.js';
import {StyleList} from '../../../util/StyleList.js';

/*****************************************************************/
/**
 * The CHTMLmunder wrapper for the MmlMunder object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmunder&lt;N, T, D&gt; extends
CommonMunderMixin&lt;CHTMLWrapper&lt;any, any, any&gt;, Constructor&lt;CHTMLmsub&lt;any, any, any&gt;&gt;&gt;(CHTMLmsub)  {

  /**
   * The munder wrapper
   */
  public static kind = MmlMunder.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-over': {
      'text-align': 'left'
    },
    'mjx-munder:not([limits="false"])': {
      display: 'inline-table',
    },
    'mjx-munder &gt; mjx-row': {
      'text-align': 'left'
    },
    'mjx-under': {
      'padding-bottom': '.1em'           // big_op_spacing5
    }
  };

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1705">  public toCHTML(parent: N) {
    if (this.hasMovableLimits()) {
      super.toCHTML(parent);
      this.adaptor.setAttribute(this.chtml, 'limits', 'false');
      return;
    }
    this.chtml = this.standardCHTMLnode(parent);
    const base = this.adaptor.append(
      this.adaptor.append(this.chtml, this.html('mjx-row')) as N,
      this.html('mjx-base')
    ) as N;
    const under = this.adaptor.append(
      this.adaptor.append(this.chtml, this.html('mjx-row')) as N,
      this.html('mjx-under')
    ) as N;
    this.baseChild.toCHTML(base);
    this.scriptChild.toCHTML(under);
    const basebox = this.baseChild.getBBox();
    const underbox = this.scriptChild.getBBox();
    const k = this.getUnderKV(basebox, underbox)[0];
    const delta = (this.isLineBelow ? 0 : this.getDelta(true));
    this.adaptor.setStyle(under, 'paddingTop', this.em(k));
    this.setDeltaW([base, under], this.getDeltaW([basebox, underbox], [0, -delta]));
    this.adjustUnderDepth(under, underbox);
  }

}

/*****************************************************************/
/**
 * The CHTMLmover wrapper for the MmlMover object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmover&lt;N, T, D&gt; extends
CommonMoverMixin&lt;CHTMLWrapper&lt;any, any, any&gt;, Constructor&lt;CHTMLmsup&lt;any, any, any&gt;&gt;&gt;(CHTMLmsup)  {

  /**
   * The mover wrapper
   */
  public static kind = MmlMover.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-mover:not([limits="false"])': {
      'padding-top': '.1em'        // big_op_spacing5
    },
    'mjx-mover:not([limits="false"]) &gt; *': {
      display: 'block',
      'text-align': 'left'
    }
  };

  
</t>
<t tx="ekr.20211016054411.1706">/**
   * @override
   */
  public toCHTML(parent: N) {
    if (this.hasMovableLimits()) {
      super.toCHTML(parent);
      this.adaptor.setAttribute(this.chtml, 'limits', 'false');
      return;
    }
    this.chtml = this.standardCHTMLnode(parent);
    const over = this.adaptor.append(this.chtml, this.html('mjx-over')) as N;
    const base = this.adaptor.append(this.chtml, this.html('mjx-base')) as N;
    this.scriptChild.toCHTML(over);
    this.baseChild.toCHTML(base);
    const overbox = this.scriptChild.getBBox();
    const basebox = this.baseChild.getBBox();
    const k = this.getOverKU(basebox, overbox)[0];
    const delta = (this.isLineAbove ? 0 : this.getDelta());
    this.adaptor.setStyle(over, 'paddingBottom', this.em(k));
    this.setDeltaW([base, over], this.getDeltaW([basebox, overbox], [0, delta]));
    this.adjustOverDepth(over, overbox);
  }

}

/*****************************************************************/
/*
 * The CHTMLmunderover wrapper for the MmlMunderover object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLmunderover&lt;N, T, D&gt; extends
CommonMunderoverMixin&lt;CHTMLWrapper&lt;any, any, any&gt;, Constructor&lt;CHTMLmsubsup&lt;any, any, any&gt;&gt;&gt;(CHTMLmsubsup)  {

  /**
   * The munderover wrapper
   */
  public static kind = MmlMunderover.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-munderover:not([limits="false"])': {
      'padding-top': '.1em'        // big_op_spacing5
    },
    'mjx-munderover:not([limits="false"]) &gt; *': {
      display: 'block'
    },
  };

  
</t>
<t tx="ekr.20211016054411.1707">/**
   * @override
   */
public toCHTML(parent: N) {
  if (this.hasMovableLimits()) {
    super.toCHTML(parent);
    this.adaptor.setAttribute(this.chtml, 'limits', 'false');
    return;
  }
  this.chtml = this.standardCHTMLnode(parent);
  const over = this.adaptor.append(this.chtml, this.html('mjx-over')) as N;
  const table = this.adaptor.append(
    this.adaptor.append(this.chtml, this.html('mjx-box')) as N,
    this.html('mjx-munder')
  ) as N;
  const base = this.adaptor.append(
    this.adaptor.append(table, this.html('mjx-row')) as N,
    this.html('mjx-base')
  ) as N;
  const under = this.adaptor.append(
    this.adaptor.append(table, this.html('mjx-row')) as N,
    this.html('mjx-under')
  ) as N;
  this.overChild.toCHTML(over);
  this.baseChild.toCHTML(base);
  this.underChild.toCHTML(under);
  const overbox = this.overChild.getBBox();
  const basebox = this.baseChild.getBBox();
  const underbox = this.underChild.getBBox();
  const ok = this.getOverKU(basebox, overbox)[0];
  const uk = this.getUnderKV(basebox, underbox)[0];
  const delta = this.getDelta();
  this.adaptor.setStyle(over, 'paddingBottom', this.em(ok));
  this.adaptor.setStyle(under, 'paddingTop', this.em(uk));
  this.setDeltaW([base, under, over],
                 this.getDeltaW([basebox, underbox, overbox],
                                [0, this.isLineBelow ? 0 : -delta, this.isLineAbove ? 0 : delta]));
  this.adjustOverDepth(over, overbox);
  this.adjustUnderDepth(under, underbox);
}

</t>
<t tx="ekr.20211016054411.1708">/**
 * Make sure styles get output when called from munderover with movable limits
 *
 * @override
 */
  public markUsed() {
    super.markUsed();
    this.jax.wrapperUsage.add(CHTMLmsubsup.kind);
  }

}
</t>
<t tx="ekr.20211016054411.1709">


/**
 * @fileoverview  Implements the a base class for CHTMLmsubsup, CHTMLmunderover
 *                and their relatives.  (Since munderover can become msubsup
 *                when movablelimits is set, munderover needs to be able to
 *                do the same thing as msubsup in some cases.)
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonScriptbaseMixin} from '../../common/Wrappers/scriptbase.js';
import {BBox} from '../../../util/BBox.js';
import {StyleData} from '../../../util/StyleList.js';

/*****************************************************************/
/**
 * A base class for msup/msub/msubsup and munder/mover/munderover
 * wrapper implementations
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLscriptbase&lt;N, T, D&gt; extends
CommonScriptbaseMixin&lt;CHTMLWrapper&lt;any, any, any&gt;, CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The scriptbase wrapper
   */
  public static kind = 'scriptbase';

  /**
   * This gives the common output for msub and msup.  It is overridden
   * for all the others (msubsup, munder, mover, munderover).
   *
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.171"></t>
<t tx="ekr.20211016054411.1710">  public toCHTML(parent: N) {
    this.chtml = this.standardCHTMLnode(parent);
    const [x, v] = this.getOffset();
    const dx = x - (this.baseRemoveIc ? this.baseIc : 0);
    const style: StyleData = {'vertical-align': this.em(v)};
    if (dx) {
      style['margin-left'] = this.em(dx);
    }
    this.baseChild.toCHTML(this.chtml);
    this.scriptChild.toCHTML(this.adaptor.append(this.chtml, this.html('mjx-script', {style})) as N);
  }

  /**
   * @param {N[]} nodes    The HTML elements to be centered in a stack
   * @param {number[]} dx  The x offsets needed to center the elements
   */
  protected setDeltaW(nodes: N[], dx: number[]) {
    for (let i = 0; i &lt; dx.length; i++) {
      if (dx[i]) {
        this.adaptor.setStyle(nodes[i], 'paddingLeft', this.em(dx[i]));
      }
    }
  }

  /**
   * @param {N} over        The HTML element for the overscript
   * @param {BBox} overbox  The bbox for the overscript
   */
  protected adjustOverDepth(over: N, overbox: BBox) {
    if (overbox.d &gt;= 0) return;
    this.adaptor.setStyle(over, 'marginBottom', this.em(overbox.d * overbox.rscale));
  }

  /**
   * @param {N} under        The HTML element for the underscript
   * @param {BBox} underbox  The bbox for the underscript
   */
  protected adjustUnderDepth(under: N, underbox: BBox) {
    if (underbox.d &gt;= 0) return;
    const adaptor = this.adaptor;
    const v = this.em(underbox.d);
    const box = this.html('mjx-box', {style: {'margin-bottom': v, 'vertical-align': v}});
    for (const child of adaptor.childNodes(adaptor.firstChild(under) as N) as N[]) {
      adaptor.append(box, child);
    }
    adaptor.append(adaptor.firstChild(under) as N, box);
  }

}
</t>
<t tx="ekr.20211016054411.1711">


/**
 * @fileoverview  Implements the CHTMLsemantics wrapper for the MmlSemantics object
 *                and the associated wrappers for annotations
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonSemanticsMixin} from '../../common/Wrappers/semantics.js';
import {BBox} from '../../../util/BBox.js';
import {MmlSemantics, MmlAnnotation, MmlAnnotationXML} from '../../../core/MmlTree/MmlNodes/semantics.js';
import {XMLNode} from '../../../core/MmlTree/MmlNode.js';
import {StyleList} from '../../../util/StyleList.js';

/*****************************************************************/
/**
 * The CHTMLsemantics wrapper for the MmlSemantics object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLsemantics&lt;N, T, D&gt; extends
CommonSemanticsMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The semantics wrapper
   */
  public static kind = MmlSemantics.prototype.kind;

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1712">  public toCHTML(parent: N) {
    const chtml = this.standardCHTMLnode(parent);
    if (this.childNodes.length) {
      this.childNodes[0].toCHTML(chtml);
    }
  }

}


/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1713">/**
 * The CHTMLannotation wrapper for the MmlAnnotation object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class CHTMLannotation&lt;N, T, D&gt; extends CHTMLWrapper&lt;N, T, D&gt; {

  /**
   * The annotation wrapper
   */
  public static kind = MmlAnnotation.prototype.kind;

  /**
   * @override
   */
  @others
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1714">public toCHTML(parent: N) {
  // FIXME:  output as plain text
  super.toCHTML(parent);
}

</t>
<t tx="ekr.20211016054411.1715">/**
 * @override
 */
public computeBBox() {
  // FIXME:  compute using the DOM, if possible
  return this.bbox;
}

</t>
<t tx="ekr.20211016054411.1716">/**
 * The CHTMLannotationXML wrapper for the MmlAnnotationXML object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class CHTMLannotationXML&lt;N, T, D&gt; extends CHTMLWrapper&lt;N, T, D&gt; {

  /**
   * The annotation-xml wrapper
   */
  public static kind = MmlAnnotationXML.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-annotation-xml': {
      'font-family': 'initial',
      'line-height': 'normal'
    }
  };

}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1717">/**
 * The CHTMLxml wrapper for the XMLNode object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class CHTMLxml&lt;N, T, D&gt; extends CHTMLWrapper&lt;N, T, D&gt; {

  /**
   * The xml wrapper
   */
  public static kind = XMLNode.prototype.kind;

  /**
   * Don't set up inline-block styles for this
   */
  public static autoStyle = false;

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.1718">public toCHTML(parent: N) {
  this.chtml = this.adaptor.append(parent, this.adaptor.clone((this.node as XMLNode).getXML() as N));
}

</t>
<t tx="ekr.20211016054411.1719">/**
 * @override
 */
public computeBBox(bbox: BBox, _recompute: boolean = false) {
  const {w, h, d} = this.jax.measureXMLnode((this.node as XMLNode).getXML() as N);
  bbox.w = w;
  bbox.h = h;
  bbox.d = d;
}

/**
 * @override
 */
protected getStyles() {}

/**
 * @override
 */
protected getScale() {}

/**
 * @override
 */
protected getVariant() {}

</t>
<t tx="ekr.20211016054411.172">
import '../startup/lib/startup.js';
import './preload.js';
import '../core/core.js';
import '../input/mml/mml.js';
import '../output/chtml/chtml.js';
import '../output/chtml/fonts/tex/tex.js';
import '../ui/menu/menu.js';
import '../a11y/assistive-mml/assistive-mml.js';
import '../startup/startup.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1720">


/**
 * @fileoverview  Implements the CHTMLTeXAtom wrapper for the MmlTeXAtom object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonTeXAtomMixin} from '../../common/Wrappers/TeXAtom.js';
import {TeXAtom} from '../../../core/MmlTree/MmlNodes/TeXAtom.js';
import {TEXCLASS, TEXCLASSNAMES} from '../../../core/MmlTree/MmlNode.js';

/*****************************************************************/
/**
 * The CHTMLTeXAtom wrapper for the TeXAtom object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLTeXAtom&lt;N, T, D&gt; extends
CommonTeXAtomMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The TeXAtom wrapper
   */
  public static kind = TeXAtom.prototype.kind;

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1721">  public toCHTML(parent: N) {
    super.toCHTML(parent);
    this.adaptor.setAttribute(this.chtml, 'texclass', TEXCLASSNAMES[this.node.texClass]);
    //
    // Center VCENTER atoms vertically
    //
    if (this.node.texClass === TEXCLASS.VCENTER) {
      const bbox = this.childNodes[0].getBBox();  // get unmodified bbox of children
      const {h, d} = bbox;
      const a = this.font.params.axis_height;
      const dh = ((h + d) / 2 + a) - h;  // new height minus old height
      this.adaptor.setStyle(this.chtml, 'verticalAlign', this.em(dh));
    }
  }

}
</t>
<t tx="ekr.20211016054411.1722">


/**
 * @fileoverview  Implements the CHTMLTextNode wrapper for the TextNode object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {TextNode} from '../../../core/MmlTree/MmlNode.js';
import {CHTMLWrapper, CHTMLConstructor} from '../Wrapper.js';
import {CommonTextNodeMixin} from '../../common/Wrappers/TextNode.js';
import {StyleList} from '../../../util/StyleList.js';

/*****************************************************************/
/**
 *  The CHTMLTextNode wrapper for the TextNode object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class CHTMLTextNode&lt;N, T, D&gt; extends
CommonTextNodeMixin&lt;CHTMLConstructor&lt;any, any, any&gt;&gt;(CHTMLWrapper) {

  /**
   * The TextNode wrapper
   */
  public static kind = TextNode.prototype.kind;

  /**
   * @override
   */
  public static autoStyle = false;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-c': {
      display: 'inline-block'
    },
    'mjx-utext': {
      display: 'inline-block',
      padding: '.75em 0 .2em 0'
    }
  };

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1723">  public toCHTML(parent: N) {
    this.markUsed();
    const adaptor = this.adaptor;
    const variant = this.parent.variant;
    const text = (this.node as TextNode).getText();
    if (variant === '-explicitFont') {
      adaptor.append(parent, this.jax.unknownText(text, variant, this.getBBox().w));
    } else {
      const chars = this.remappedText(text, variant);
      for (const n of chars) {
        const data = this.getVariantChar(variant, n)[3];
        const font = (data.f ? ' TEX-' + data.f : '');
        const node = (data.unknown ?
                      this.jax.unknownText(String.fromCodePoint(n), variant) :
                      this.html('mjx-c', {class: this.char(n) + font}));
        adaptor.append(parent, node);
        !data.unknown &amp;&amp; this.font.charUsage.add([variant, n]);
      }
    }
  }

}
</t>
<t tx="ekr.20211016054411.1724"></t>
<t tx="ekr.20211016054411.1725">


/**
 * @fileoverview  The MathJax TeXFont object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CHTMLFontData, CHTMLCharOptions, CHTMLVariantData, CHTMLDelimiterData, CHTMLFontDataClass,
        DelimiterMap, CharMapMap} from '../FontData.js';
import {CommonTeXFontMixin} from '../../common/fonts/tex.js';
import {StringMap} from '../Wrapper.js';

import {boldItalic} from './tex/bold-italic.js';
import {bold} from './tex/bold.js';
import {doubleStruck} from './tex/double-struck.js';
import {frakturBold} from './tex/fraktur-bold.js';
import {fraktur} from './tex/fraktur.js';
import {italic} from './tex/italic.js';
import {largeop} from './tex/largeop.js';
import {monospace} from './tex/monospace.js';
import {normal} from './tex/normal.js';
import {sansSerifBoldItalic} from './tex/sans-serif-bold-italic.js';
import {sansSerifBold} from './tex/sans-serif-bold.js';
import {sansSerifItalic} from './tex/sans-serif-italic.js';
import {sansSerif} from './tex/sans-serif.js';
import {scriptBold} from './tex/script-bold.js';
import {script} from './tex/script.js';
import {smallop} from './tex/smallop.js';
import {texCalligraphicBold} from './tex/tex-calligraphic-bold.js';
import {texCalligraphic} from './tex/tex-calligraphic.js';
import {texMathit} from './tex/tex-mathit.js';
import {texOldstyleBold} from './tex/tex-oldstyle-bold.js';
import {texOldstyle} from './tex/tex-oldstyle.js';
import {texSize3} from './tex/tex-size3.js';
import {texSize4} from './tex/tex-size4.js';
import {texVariant} from './tex/tex-variant.js';

import {delimiters} from '../../common/fonts/tex/delimiters.js';

/*=================================================================================*/
/**
 *  The TeXFont class
 */
export class TeXFont extends
CommonTeXFontMixin&lt;CHTMLCharOptions, CHTMLVariantData, CHTMLDelimiterData, CHTMLFontDataClass&gt;(CHTMLFontData) {

  /**
   * Fonts to prefix any explicit ones
   */
  protected static defaultCssFamilyPrefix = 'MJXZERO';

  /**
   * The classes to use for each variant
   */
  protected static defaultVariantClasses: StringMap = {
    'normal': 'mjx-n',
    'bold': 'mjx-b',
    'italic': 'mjx-i',
    'bold-italic': 'mjx-b mjx-i',
    'double-struck': 'mjx-ds mjx-b',
    'fraktur': 'mjx-fr',
    'bold-fraktur': 'mjx-fr mjx-b',
    'script': 'mjx-sc mjx-i',
    'bold-script': 'mjx-sc mjx-b mjx-i',
    'sans-serif': 'mjx-ss',
    'bold-sans-serif': 'mjx-ss mjx-b',
    'sans-serif-italic': 'mjx-ss mjx-i',
    'sans-serif-bold-italic': 'mjx-ss mjx-b mjx-i',
    'monospace': 'mjx-ty',
    '-smallop': 'mjx-sop',
    '-largeop': 'mjx-lop',
    '-size3': 'mjx-s3',
    '-size4': 'mjx-s4',
    '-tex-calligraphic': 'mjx-cal mjx-i',
    '-tex-bold-calligraphic': 'mjx-cal mjx-b',
    '-tex-mathit': 'mjx-mit mjx-i',
    '-tex-oldstyle': 'mjx-os',
    '-tex-bold-oldstyle': 'mjx-os mjx-b',
    '-tex-variant': 'mjx-var'
  };

  /**
   * The letters that identify the default font for each varaint
   */
  protected static defaultVariantLetters: StringMap = {
    'normal': '',
    'bold': 'B',
    'italic': 'MI',
    'bold-italic': 'BI',
    'double-struck': 'A',
    'fraktur': 'FR',
    'bold-fraktur': 'FRB',
    'script': 'SC',
    'bold-script': 'SCB',
    'sans-serif': 'SS',
    'bold-sans-serif': 'SSB',
    'sans-serif-italic': 'SSI',
    'sans-serif-bold-italic': 'SSBI',
    'monospace': 'T',
    '-smallop': 'S1',
    '-largeop': 'S2',
    '-size3': 'S3',
    '-size4': 'S4',
    '-tex-calligraphic': 'C',
    '-tex-bold-calligraphic': 'CB',
    '-tex-mathit': 'MI',
    '-tex-oldstyle': 'C',
    '-tex-bold-oldstyle': 'CB',
    '-tex-variant': 'A'
  };

  /**
   *  The stretchy delimiter data
   */
  protected static defaultDelimiters: DelimiterMap&lt;CHTMLDelimiterData&gt; = delimiters;

  /**
   *  The character data by variant
   */
  protected static defaultChars: CharMapMap&lt;CHTMLCharOptions&gt; = {
    'normal': normal,
    'bold': bold,
    'italic': italic,
    'bold-italic': boldItalic,
    'double-struck': doubleStruck,
    'fraktur': fraktur,
    'bold-fraktur': frakturBold,
    'script': script,
    'bold-script': scriptBold,
    'sans-serif': sansSerif,
    'bold-sans-serif': sansSerifBold,
    'sans-serif-italic': sansSerifItalic,
    'sans-serif-bold-italic': sansSerifBoldItalic,
    'monospace': monospace,
    '-smallop': smallop,
    '-largeop': largeop,
    '-size3': texSize3,
    '-size4': texSize4,
    '-tex-calligraphic': texCalligraphic,
    '-tex-bold-calligraphic': texCalligraphicBold,
    '-tex-mathit': texMathit,
    '-tex-oldstyle': texOldstyle,
    '-tex-bold-oldstyle': texOldstyleBold,
    '-tex-variant': texVariant
  };

  /*=====================================================*/
  /**
   * The CSS styles needed for this font.
   */
  protected static defaultStyles = {
    ...CHTMLFontData.defaultStyles,

    '.MJX-TEX': {
      'font-family': 'MJXZERO, MJXTEX'
    },

    '.TEX-B': {
      'font-family': 'MJXZERO, MJXTEX-B'
    },

    '.TEX-I': {
      'font-family': 'MJXZERO, MJXTEX-I'
    },

    '.TEX-MI': {
      'font-family': 'MJXZERO, MJXTEX-MI'
    },

    '.TEX-BI': {
      'font-family': 'MJXZERO, MJXTEX-BI'
    },

    '.TEX-S1': {
      'font-family': 'MJXZERO, MJXTEX-S1'
    },

    '.TEX-S2': {
      'font-family': 'MJXZERO, MJXTEX-S2'
    },

    '.TEX-S3': {
      'font-family': 'MJXZERO, MJXTEX-S3'
    },

    '.TEX-S4': {
      'font-family': 'MJXZERO, MJXTEX-S4'
    },

    '.TEX-A': {
      'font-family': 'MJXZERO, MJXTEX-A'
    },

    '.TEX-C': {
      'font-family': 'MJXZERO, MJXTEX-C'
    },

    '.TEX-CB': {
      'font-family': 'MJXZERO, MJXTEX-CB'
    },

    '.TEX-FR': {
      'font-family': 'MJXZERO, MJXTEX-FR'
    },

    '.TEX-FRB': {
      'font-family': 'MJXZERO, MJXTEX-FRB'
    },

    '.TEX-SS': {
      'font-family': 'MJXZERO, MJXTEX-SS'
    },

    '.TEX-SSB': {
      'font-family': 'MJXZERO, MJXTEX-SSB'
    },

    '.TEX-SSI': {
      'font-family': 'MJXZERO, MJXTEX-SSI'
    },

    '.TEX-SC': {
      'font-family': 'MJXZERO, MJXTEX-SC'
    },

    '.TEX-T': {
      'font-family': 'MJXZERO, MJXTEX-T'
    },

    '.TEX-V': {
      'font-family': 'MJXZERO, MJXTEX-V'
    },

    '.TEX-VB': {
      'font-family': 'MJXZERO, MJXTEX-VB'
    },

    'mjx-stretchy-v mjx-c, mjx-stretchy-h mjx-c': {
      'font-family': 'MJXZERO, MJXTEX-S1, MJXTEX-S4, MJXTEX, MJXTEX-A ! important'
    }
  };

  /**
   * The default @font-face declarations with %%URL%% where the font path should go
   */
  protected static defaultFonts = {
    ...CHTMLFontData.defaultFonts,

    '@font-face /* 1 */': {
      'font-family': 'MJXTEX',
      src: 'url("%%URL%%/MathJax_Main-Regular.woff") format("woff")'
    },

    '@font-face /* 2 */': {
      'font-family': 'MJXTEX-B',
      src: 'url("%%URL%%/MathJax_Main-Bold.woff") format("woff")'
    },

    '@font-face /* 3 */': {
      'font-family': 'MJXTEX-I',
      src: 'url("%%URL%%/MathJax_Math-Italic.woff") format("woff")'
    },

    '@font-face /* 4 */': {
      'font-family': 'MJXTEX-MI',
      src: 'url("%%URL%%/MathJax_Main-Italic.woff") format("woff")'
    },

    '@font-face /* 5 */': {
      'font-family': 'MJXTEX-BI',
      src: 'url("%%URL%%/MathJax_Math-BoldItalic.woff") format("woff")'
    },

    '@font-face /* 6 */': {
      'font-family': 'MJXTEX-S1',
      src: 'url("%%URL%%/MathJax_Size1-Regular.woff") format("woff")'
    },

    '@font-face /* 7 */': {
      'font-family': 'MJXTEX-S2',
      src: 'url("%%URL%%/MathJax_Size2-Regular.woff") format("woff")'
    },

    '@font-face /* 8 */': {
      'font-family': 'MJXTEX-S3',
      src: 'url("%%URL%%/MathJax_Size3-Regular.woff") format("woff")'
    },

    '@font-face /* 9 */': {
      'font-family': 'MJXTEX-S4',
      src: 'url("%%URL%%/MathJax_Size4-Regular.woff") format("woff")'
    },

    '@font-face /* 10 */': {
      'font-family': 'MJXTEX-A',
      src: 'url("%%URL%%/MathJax_AMS-Regular.woff") format("woff")'
    },

    '@font-face /* 11 */': {
      'font-family': 'MJXTEX-C',
      src: 'url("%%URL%%/MathJax_Calligraphic-Regular.woff") format("woff")'
    },

    '@font-face /* 12 */': {
      'font-family': 'MJXTEX-CB',
      src: 'url("%%URL%%/MathJax_Calligraphic-Bold.woff") format("woff")'
    },

    '@font-face /* 13 */': {
      'font-family': 'MJXTEX-FR',
      src: 'url("%%URL%%/MathJax_Fraktur-Regular.woff") format("woff")'
    },

    '@font-face /* 14 */': {
      'font-family': 'MJXTEX-FRB',
      src: 'url("%%URL%%/MathJax_Fraktur-Bold.woff") format("woff")'
    },

    '@font-face /* 15 */': {
      'font-family': 'MJXTEX-SS',
      src: 'url("%%URL%%/MathJax_SansSerif-Regular.woff") format("woff")'
    },

    '@font-face /* 16 */': {
      'font-family': 'MJXTEX-SSB',
      src: 'url("%%URL%%/MathJax_SansSerif-Bold.woff") format("woff")'
    },

    '@font-face /* 17 */': {
      'font-family': 'MJXTEX-SSI',
      src: 'url("%%URL%%/MathJax_SansSerif-Italic.woff") format("woff")'
    },

    '@font-face /* 18 */': {
      'font-family': 'MJXTEX-SC',
      src: 'url("%%URL%%/MathJax_Script-Regular.woff") format("woff")'
    },

    '@font-face /* 19 */': {
      'font-family': 'MJXTEX-T',
      src: 'url("%%URL%%/MathJax_Typewriter-Regular.woff") format("woff")'
    },

    '@font-face /* 20 */': {
      'font-family': 'MJXTEX-V',
      src: 'url("%%URL%%/MathJax_Vector-Regular.woff") format("woff")'
    },

    '@font-face /* 21 */': {
      'font-family': 'MJXTEX-VB',
      src: 'url("%%URL%%/MathJax_Vector-Bold.woff") format("woff")'
    },
  };

}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1726"></t>
<t tx="ekr.20211016054411.1727">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {boldItalic as font} from '../../../common/fonts/tex/bold-italic.js';

export const boldItalic: CHTMLCharMap = AddCSS(font, {
    0x131: {f: 'B'},
    0x237: {f: 'B'},
    0x2044: {c: '/'},
    0x2206: {c: '\\394'},
    0x29F8: {c: '/'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1728">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {bold as font} from '../../../common/fonts/tex/bold.js';

export const bold: CHTMLCharMap = AddCSS(font, {
    0xB7: {c: '\\22C5'},
    0x131: {f: ''},
    0x237: {f: ''},
    0x2B9: {c: '\\2032'},
    0x2002: {c: ''},
    0x2003: {c: ''},
    0x2004: {c: ''},
    0x2005: {c: ''},
    0x2006: {c: ''},
    0x2009: {c: ''},
    0x200A: {c: ''},
    0x2015: {c: '\\2014'},
    0x2016: {c: '\\2225'},
    0x2017: {c: '_'},
    0x2022: {c: '\\2219'},
    0x2033: {c: '\\2032\\2032'},
    0x2034: {c: '\\2032\\2032\\2032'},
    0x203E: {c: '\\2C9'},
    0x2044: {c: '/'},
    0x2057: {c: '\\2032\\2032\\2032\\2032'},
    0x20D7: {c: '\\2192', f: 'VB'},
    0x219A: {c: '\\2190\\338'},
    0x219B: {c: '\\2192\\338'},
    0x21AE: {c: '\\2194\\338'},
    0x21CD: {c: '\\21D0\\338'},
    0x21CE: {c: '\\21D4\\338'},
    0x21CF: {c: '\\21D2\\338'},
    0x2204: {c: '\\2203\\338'},
    0x2206: {c: '\\394'},
    0x220C: {c: '\\220B\\338'},
    0x2224: {c: '\\2223\\338'},
    0x2226: {c: '\\2225\\338'},
    0x2241: {c: '\\223C\\338'},
    0x2244: {c: '\\2243\\338'},
    0x2247: {c: '\\2245\\338'},
    0x2249: {c: '\\2248\\338'},
    0x2262: {c: '\\2261\\338'},
    0x226D: {c: '\\224D\\338'},
    0x226E: {c: '&lt;\\338'},
    0x226F: {c: '&gt;\\338'},
    0x2270: {c: '\\2264\\338'},
    0x2271: {c: '\\2265\\338'},
    0x2280: {c: '\\227A\\338'},
    0x2281: {c: '\\227B\\338'},
    0x2284: {c: '\\2282\\338'},
    0x2285: {c: '\\2283\\338'},
    0x2288: {c: '\\2286\\338'},
    0x2289: {c: '\\2287\\338'},
    0x22AC: {c: '\\22A2\\338'},
    0x22AD: {c: '\\22A8\\338'},
    0x22E2: {c: '\\2291\\338'},
    0x22E3: {c: '\\2292\\338'},
    0x2329: {c: '\\27E8'},
    0x232A: {c: '\\27E9'},
    0x25B5: {c: '\\25B3'},
    0x25BF: {c: '\\25BD'},
    0x2758: {c: '\\2223'},
    0x29F8: {c: '/', f: 'BI'},
    0x2A2F: {c: '\\D7'},
    0x3008: {c: '\\27E8'},
    0x3009: {c: '\\27E9'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1729">

export {doubleStruck} from '../../../common/fonts/tex/double-struck.js';
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.173">
import {Loader} from '../../../js/components/loader.js';

Loader.preLoad(
  'loader', 'startup',
  'core',
  'input/mml',
  'output/chtml', 'output/chtml/fonts/tex.js',
  'ui/menu', 'a11y/assistive-mml'
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1730">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {frakturBold as font} from '../../../common/fonts/tex/fraktur-bold.js';

export const frakturBold: CHTMLCharMap = AddCSS(font, {
    0x2044: {c: '/'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1731">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {fraktur as font} from '../../../common/fonts/tex/fraktur.js';

export const fraktur: CHTMLCharMap = AddCSS(font, {
    0x2044: {c: '/'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1732">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {italic as font} from '../../../common/fonts/tex/italic.js';

export const italic: CHTMLCharMap = AddCSS(font, {
    0x2F: {f: 'I'},
    0x3DD: {c: '\\E008', f: 'A'},
    0x2015: {c: '\\2014'},
    0x2017: {c: '_'},
    0x2044: {c: '/', f: 'I'},
    0x2206: {c: '\\394', f: 'I'},
    0x29F8: {c: '/', f: 'I'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1733">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {largeop as font} from '../../../common/fonts/tex/largeop.js';

export const largeop: CHTMLCharMap = AddCSS(font, {
    0x2016: {f: 'S1'},
    0x2044: {c: '/'},
    0x2191: {f: 'S1'},
    0x2193: {f: 'S1'},
    0x21D1: {f: 'S1'},
    0x21D3: {f: 'S1'},
    0x2223: {f: 'S1'},
    0x2225: {f: 'S1'},
    0x2329: {c: '\\27E8'},
    0x232A: {c: '\\27E9'},
    0x23D0: {f: 'S1'},
    0x2758: {c: '\\2223', f: 'S1'},
    0x2A0C: {c: '\\222C\\222C'},
    0x3008: {c: '\\27E8'},
    0x3009: {c: '\\27E9'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1734">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {monospace as font} from '../../../common/fonts/tex/monospace.js';

export const monospace: CHTMLCharMap = AddCSS(font, {
    0x2B9: {c: '\\2032'},
    0x391: {c: 'A'},
    0x392: {c: 'B'},
    0x395: {c: 'E'},
    0x396: {c: 'Z'},
    0x397: {c: 'H'},
    0x399: {c: 'I'},
    0x39A: {c: 'K'},
    0x39C: {c: 'M'},
    0x39D: {c: 'N'},
    0x39F: {c: 'O'},
    0x3A1: {c: 'P'},
    0x3A4: {c: 'T'},
    0x3A7: {c: 'X'},
    0x2017: {c: '_'},
    0x2033: {c: '\\2032\\2032'},
    0x2034: {c: '\\2032\\2032\\2032'},
    0x2044: {c: '/'},
    0x2057: {c: '\\2032\\2032\\2032\\2032'},
    0x2206: {c: '\\394'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1735">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {normal as font} from '../../../common/fonts/tex/normal.js';

export const normal: CHTMLCharMap = AddCSS(font, {
    0xA3: {f: 'MI'},
    0xA5: {f: 'A'},
    0xAE: {f: 'A'},
    0xB7: {c: '\\22C5'},
    0xF0: {f: 'A'},
    0x2B9: {c: '\\2032'},
    0x391: {c: 'A'},
    0x392: {c: 'B'},
    0x395: {c: 'E'},
    0x396: {c: 'Z'},
    0x397: {c: 'H'},
    0x399: {c: 'I'},
    0x39A: {c: 'K'},
    0x39C: {c: 'M'},
    0x39D: {c: 'N'},
    0x39F: {c: 'O'},
    0x3A1: {c: 'P'},
    0x3A4: {c: 'T'},
    0x3A7: {c: 'X'},
    0x2000: {c: ''},
    0x2001: {c: ''},
    0x2002: {c: ''},
    0x2003: {c: ''},
    0x2004: {c: ''},
    0x2005: {c: ''},
    0x2006: {c: ''},
    0x2009: {c: ''},
    0x200A: {c: ''},
    0x200B: {c: ''},
    0x200C: {c: ''},
    0x2015: {c: '\\2014'},
    0x2016: {c: '\\2225'},
    0x2017: {c: '_'},
    0x2022: {c: '\\2219'},
    0x2033: {c: '\\2032\\2032'},
    0x2034: {c: '\\2032\\2032\\2032'},
    0x2035: {f: 'A'},
    0x2036: {c: '\\2035\\2035', f: 'A'},
    0x2037: {c: '\\2035\\2035\\2035', f: 'A'},
    0x203E: {c: '\\2C9'},
    0x2044: {c: '/'},
    0x2057: {c: '\\2032\\2032\\2032\\2032'},
    0x2060: {c: ''},
    0x2061: {c: ''},
    0x2062: {c: ''},
    0x2063: {c: ''},
    0x2064: {c: ''},
    0x20D7: {c: '\\2192', f: 'V'},
    0x2102: {c: 'C', f: 'A'},
    0x210B: {c: 'H', f: 'SC'},
    0x210C: {c: 'H', f: 'FR'},
    0x210D: {c: 'H', f: 'A'},
    0x210E: {c: 'h', f: 'I'},
    0x210F: {f: 'A'},
    0x2110: {c: 'I', f: 'SC'},
    0x2111: {c: 'I', f: 'FR'},
    0x2112: {c: 'L', f: 'SC'},
    0x2115: {c: 'N', f: 'A'},
    0x2119: {c: 'P', f: 'A'},
    0x211A: {c: 'Q', f: 'A'},
    0x211B: {c: 'R', f: 'SC'},
    0x211C: {c: 'R', f: 'FR'},
    0x211D: {c: 'R', f: 'A'},
    0x2124: {c: 'Z', f: 'A'},
    0x2126: {c: '\\3A9'},
    0x2127: {f: 'A'},
    0x2128: {c: 'Z', f: 'FR'},
    0x212C: {c: 'B', f: 'SC'},
    0x212D: {c: 'C', f: 'FR'},
    0x2130: {c: 'E', f: 'SC'},
    0x2131: {c: 'F', f: 'SC'},
    0x2132: {f: 'A'},
    0x2133: {c: 'M', f: 'SC'},
    0x2136: {f: 'A'},
    0x2137: {f: 'A'},
    0x2138: {f: 'A'},
    0x2141: {f: 'A'},
    0x219A: {f: 'A'},
    0x219B: {f: 'A'},
    0x219E: {f: 'A'},
    0x21A0: {f: 'A'},
    0x21A2: {f: 'A'},
    0x21A3: {f: 'A'},
    0x21AB: {f: 'A'},
    0x21AC: {f: 'A'},
    0x21AD: {f: 'A'},
    0x21AE: {f: 'A'},
    0x21B0: {f: 'A'},
    0x21B1: {f: 'A'},
    0x21B6: {f: 'A'},
    0x21B7: {f: 'A'},
    0x21BA: {f: 'A'},
    0x21BB: {f: 'A'},
    0x21BE: {f: 'A'},
    0x21BF: {f: 'A'},
    0x21C2: {f: 'A'},
    0x21C3: {f: 'A'},
    0x21C4: {f: 'A'},
    0x21C6: {f: 'A'},
    0x21C7: {f: 'A'},
    0x21C8: {f: 'A'},
    0x21C9: {f: 'A'},
    0x21CA: {f: 'A'},
    0x21CB: {f: 'A'},
    0x21CD: {f: 'A'},
    0x21CE: {f: 'A'},
    0x21CF: {f: 'A'},
    0x21DA: {f: 'A'},
    0x21DB: {f: 'A'},
    0x21DD: {f: 'A'},
    0x21E0: {f: 'A'},
    0x21E2: {f: 'A'},
    0x2201: {f: 'A'},
    0x2204: {c: '\\2203\\338'},
    0x2206: {c: '\\394'},
    0x220C: {c: '\\220B\\338'},
    0x220D: {f: 'A'},
    0x220F: {f: 'S1'},
    0x2210: {f: 'S1'},
    0x2211: {f: 'S1'},
    0x2214: {f: 'A'},
    0x2221: {f: 'A'},
    0x2222: {f: 'A'},
    0x2224: {f: 'A'},
    0x2226: {f: 'A'},
    0x222C: {f: 'S1'},
    0x222D: {f: 'S1'},
    0x222E: {f: 'S1'},
    0x2234: {f: 'A'},
    0x2235: {f: 'A'},
    0x223D: {f: 'A'},
    0x2241: {f: 'A'},
    0x2242: {f: 'A'},
    0x2244: {c: '\\2243\\338'},
    0x2247: {c: '\\2246', f: 'A'},
    0x2249: {c: '\\2248\\338'},
    0x224A: {f: 'A'},
    0x224E: {f: 'A'},
    0x224F: {f: 'A'},
    0x2251: {f: 'A'},
    0x2252: {f: 'A'},
    0x2253: {f: 'A'},
    0x2256: {f: 'A'},
    0x2257: {f: 'A'},
    0x225C: {f: 'A'},
    0x2262: {c: '\\2261\\338'},
    0x2266: {f: 'A'},
    0x2267: {f: 'A'},
    0x2268: {f: 'A'},
    0x2269: {f: 'A'},
    0x226C: {f: 'A'},
    0x226D: {c: '\\224D\\338'},
    0x226E: {f: 'A'},
    0x226F: {f: 'A'},
    0x2270: {f: 'A'},
    0x2271: {f: 'A'},
    0x2272: {f: 'A'},
    0x2273: {f: 'A'},
    0x2274: {c: '\\2272\\338'},
    0x2275: {c: '\\2273\\338'},
    0x2276: {f: 'A'},
    0x2277: {f: 'A'},
    0x2278: {c: '\\2276\\338'},
    0x2279: {c: '\\2277\\338'},
    0x227C: {f: 'A'},
    0x227D: {f: 'A'},
    0x227E: {f: 'A'},
    0x227F: {f: 'A'},
    0x2280: {f: 'A'},
    0x2281: {f: 'A'},
    0x2284: {c: '\\2282\\338'},
    0x2285: {c: '\\2283\\338'},
    0x2288: {f: 'A'},
    0x2289: {f: 'A'},
    0x228A: {f: 'A'},
    0x228B: {f: 'A'},
    0x228F: {f: 'A'},
    0x2290: {f: 'A'},
    0x229A: {f: 'A'},
    0x229B: {f: 'A'},
    0x229D: {f: 'A'},
    0x229E: {f: 'A'},
    0x229F: {f: 'A'},
    0x22A0: {f: 'A'},
    0x22A1: {f: 'A'},
    0x22A9: {f: 'A'},
    0x22AA: {f: 'A'},
    0x22AC: {f: 'A'},
    0x22AD: {f: 'A'},
    0x22AE: {f: 'A'},
    0x22AF: {f: 'A'},
    0x22B2: {f: 'A'},
    0x22B3: {f: 'A'},
    0x22B4: {f: 'A'},
    0x22B5: {f: 'A'},
    0x22B8: {f: 'A'},
    0x22BA: {f: 'A'},
    0x22BB: {f: 'A'},
    0x22BC: {f: 'A'},
    0x22C0: {f: 'S1'},
    0x22C1: {f: 'S1'},
    0x22C2: {f: 'S1'},
    0x22C3: {f: 'S1'},
    0x22C7: {f: 'A'},
    0x22C9: {f: 'A'},
    0x22CA: {f: 'A'},
    0x22CB: {f: 'A'},
    0x22CC: {f: 'A'},
    0x22CD: {f: 'A'},
    0x22CE: {f: 'A'},
    0x22CF: {f: 'A'},
    0x22D0: {f: 'A'},
    0x22D1: {f: 'A'},
    0x22D2: {f: 'A'},
    0x22D3: {f: 'A'},
    0x22D4: {f: 'A'},
    0x22D6: {f: 'A'},
    0x22D7: {f: 'A'},
    0x22D8: {f: 'A'},
    0x22D9: {f: 'A'},
    0x22DA: {f: 'A'},
    0x22DB: {f: 'A'},
    0x22DE: {f: 'A'},
    0x22DF: {f: 'A'},
    0x22E0: {f: 'A'},
    0x22E1: {f: 'A'},
    0x22E2: {c: '\\2291\\338'},
    0x22E3: {c: '\\2292\\338'},
    0x22E6: {f: 'A'},
    0x22E7: {f: 'A'},
    0x22E8: {f: 'A'},
    0x22E9: {f: 'A'},
    0x22EA: {f: 'A'},
    0x22EB: {f: 'A'},
    0x22EC: {f: 'A'},
    0x22ED: {f: 'A'},
    0x2305: {c: '\\22BC', f: 'A'},
    0x2306: {c: '\\2A5E', f: 'A'},
    0x231C: {c: '\\250C', f: 'A'},
    0x231D: {c: '\\2510', f: 'A'},
    0x231E: {c: '\\2514', f: 'A'},
    0x231F: {c: '\\2518', f: 'A'},
    0x2329: {c: '\\27E8'},
    0x232A: {c: '\\27E9'},
    0x23D0: {f: 'S1'},
    0x24C8: {f: 'A'},
    0x250C: {f: 'A'},
    0x2510: {f: 'A'},
    0x2514: {f: 'A'},
    0x2518: {f: 'A'},
    0x2571: {f: 'A'},
    0x2572: {f: 'A'},
    0x25A0: {f: 'A'},
    0x25A1: {f: 'A'},
    0x25AA: {c: '\\25A0', f: 'A'},
    0x25B2: {f: 'A'},
    0x25B4: {c: '\\25B2', f: 'A'},
    0x25B5: {c: '\\25B3'},
    0x25B6: {f: 'A'},
    0x25B8: {c: '\\25B6', f: 'A'},
    0x25BC: {f: 'A'},
    0x25BE: {c: '\\25BC', f: 'A'},
    0x25BF: {c: '\\25BD'},
    0x25C0: {f: 'A'},
    0x25C2: {c: '\\25C0', f: 'A'},
    0x25CA: {f: 'A'},
    0x25FB: {c: '\\25A1', f: 'A'},
    0x25FC: {c: '\\25A0', f: 'A'},
    0x2605: {f: 'A'},
    0x2713: {f: 'A'},
    0x2720: {f: 'A'},
    0x2758: {c: '\\2223'},
    0x29EB: {f: 'A'},
    0x29F8: {c: '/', f: 'I'},
    0x2A00: {f: 'S1'},
    0x2A01: {f: 'S1'},
    0x2A02: {f: 'S1'},
    0x2A04: {f: 'S1'},
    0x2A06: {f: 'S1'},
    0x2A0C: {c: '\\222C\\222C', f: 'S1'},
    0x2A2F: {c: '\\D7'},
    0x2A5E: {f: 'A'},
    0x2A7D: {f: 'A'},
    0x2A7E: {f: 'A'},
    0x2A85: {f: 'A'},
    0x2A86: {f: 'A'},
    0x2A87: {f: 'A'},
    0x2A88: {f: 'A'},
    0x2A89: {f: 'A'},
    0x2A8A: {f: 'A'},
    0x2A8B: {f: 'A'},
    0x2A8C: {f: 'A'},
    0x2A95: {f: 'A'},
    0x2A96: {f: 'A'},
    0x2AB5: {f: 'A'},
    0x2AB6: {f: 'A'},
    0x2AB7: {f: 'A'},
    0x2AB8: {f: 'A'},
    0x2AB9: {f: 'A'},
    0x2ABA: {f: 'A'},
    0x2AC5: {f: 'A'},
    0x2AC6: {f: 'A'},
    0x2ACB: {f: 'A'},
    0x2ACC: {f: 'A'},
    0x3008: {c: '\\27E8'},
    0x3009: {c: '\\27E9'},
    0xE006: {f: 'A'},
    0xE007: {f: 'A'},
    0xE008: {f: 'A'},
    0xE009: {f: 'A'},
    0xE00C: {f: 'A'},
    0xE00D: {f: 'A'},
    0xE00E: {f: 'A'},
    0xE00F: {f: 'A'},
    0xE010: {f: 'A'},
    0xE011: {f: 'A'},
    0xE016: {f: 'A'},
    0xE017: {f: 'A'},
    0xE018: {f: 'A'},
    0xE019: {f: 'A'},
    0xE01A: {f: 'A'},
    0xE01B: {f: 'A'},
    0x1D400: {c: 'A', f: 'B'},
    0x1D401: {c: 'B', f: 'B'},
    0x1D402: {c: 'C', f: 'B'},
    0x1D403: {c: 'D', f: 'B'},
    0x1D404: {c: 'E', f: 'B'},
    0x1D405: {c: 'F', f: 'B'},
    0x1D406: {c: 'G', f: 'B'},
    0x1D407: {c: 'H', f: 'B'},
    0x1D408: {c: 'I', f: 'B'},
    0x1D409: {c: 'J', f: 'B'},
    0x1D40A: {c: 'K', f: 'B'},
    0x1D40B: {c: 'L', f: 'B'},
    0x1D40C: {c: 'M', f: 'B'},
    0x1D40D: {c: 'N', f: 'B'},
    0x1D40E: {c: 'O', f: 'B'},
    0x1D40F: {c: 'P', f: 'B'},
    0x1D410: {c: 'Q', f: 'B'},
    0x1D411: {c: 'R', f: 'B'},
    0x1D412: {c: 'S', f: 'B'},
    0x1D413: {c: 'T', f: 'B'},
    0x1D414: {c: 'U', f: 'B'},
    0x1D415: {c: 'V', f: 'B'},
    0x1D416: {c: 'W', f: 'B'},
    0x1D417: {c: 'X', f: 'B'},
    0x1D418: {c: 'Y', f: 'B'},
    0x1D419: {c: 'Z', f: 'B'},
    0x1D41A: {c: 'a', f: 'B'},
    0x1D41B: {c: 'b', f: 'B'},
    0x1D41C: {c: 'c', f: 'B'},
    0x1D41D: {c: 'd', f: 'B'},
    0x1D41E: {c: 'e', f: 'B'},
    0x1D41F: {c: 'f', f: 'B'},
    0x1D420: {c: 'g', f: 'B'},
    0x1D421: {c: 'h', f: 'B'},
    0x1D422: {c: 'i', f: 'B'},
    0x1D423: {c: 'j', f: 'B'},
    0x1D424: {c: 'k', f: 'B'},
    0x1D425: {c: 'l', f: 'B'},
    0x1D426: {c: 'm', f: 'B'},
    0x1D427: {c: 'n', f: 'B'},
    0x1D428: {c: 'o', f: 'B'},
    0x1D429: {c: 'p', f: 'B'},
    0x1D42A: {c: 'q', f: 'B'},
    0x1D42B: {c: 'r', f: 'B'},
    0x1D42C: {c: 's', f: 'B'},
    0x1D42D: {c: 't', f: 'B'},
    0x1D42E: {c: 'u', f: 'B'},
    0x1D42F: {c: 'v', f: 'B'},
    0x1D430: {c: 'w', f: 'B'},
    0x1D431: {c: 'x', f: 'B'},
    0x1D432: {c: 'y', f: 'B'},
    0x1D433: {c: 'z', f: 'B'},
    0x1D434: {c: 'A', f: 'I'},
    0x1D435: {c: 'B', f: 'I'},
    0x1D436: {c: 'C', f: 'I'},
    0x1D437: {c: 'D', f: 'I'},
    0x1D438: {c: 'E', f: 'I'},
    0x1D439: {c: 'F', f: 'I'},
    0x1D43A: {c: 'G', f: 'I'},
    0x1D43B: {c: 'H', f: 'I'},
    0x1D43C: {c: 'I', f: 'I'},
    0x1D43D: {c: 'J', f: 'I'},
    0x1D43E: {c: 'K', f: 'I'},
    0x1D43F: {c: 'L', f: 'I'},
    0x1D440: {c: 'M', f: 'I'},
    0x1D441: {c: 'N', f: 'I'},
    0x1D442: {c: 'O', f: 'I'},
    0x1D443: {c: 'P', f: 'I'},
    0x1D444: {c: 'Q', f: 'I'},
    0x1D445: {c: 'R', f: 'I'},
    0x1D446: {c: 'S', f: 'I'},
    0x1D447: {c: 'T', f: 'I'},
    0x1D448: {c: 'U', f: 'I'},
    0x1D449: {c: 'V', f: 'I'},
    0x1D44A: {c: 'W', f: 'I'},
    0x1D44B: {c: 'X', f: 'I'},
    0x1D44C: {c: 'Y', f: 'I'},
    0x1D44D: {c: 'Z', f: 'I'},
    0x1D44E: {c: 'a', f: 'I'},
    0x1D44F: {c: 'b', f: 'I'},
    0x1D450: {c: 'c', f: 'I'},
    0x1D451: {c: 'd', f: 'I'},
    0x1D452: {c: 'e', f: 'I'},
    0x1D453: {c: 'f', f: 'I'},
    0x1D454: {c: 'g', f: 'I'},
    0x1D456: {c: 'i', f: 'I'},
    0x1D457: {c: 'j', f: 'I'},
    0x1D458: {c: 'k', f: 'I'},
    0x1D459: {c: 'l', f: 'I'},
    0x1D45A: {c: 'm', f: 'I'},
    0x1D45B: {c: 'n', f: 'I'},
    0x1D45C: {c: 'o', f: 'I'},
    0x1D45D: {c: 'p', f: 'I'},
    0x1D45E: {c: 'q', f: 'I'},
    0x1D45F: {c: 'r', f: 'I'},
    0x1D460: {c: 's', f: 'I'},
    0x1D461: {c: 't', f: 'I'},
    0x1D462: {c: 'u', f: 'I'},
    0x1D463: {c: 'v', f: 'I'},
    0x1D464: {c: 'w', f: 'I'},
    0x1D465: {c: 'x', f: 'I'},
    0x1D466: {c: 'y', f: 'I'},
    0x1D467: {c: 'z', f: 'I'},
    0x1D468: {c: 'A', f: 'BI'},
    0x1D469: {c: 'B', f: 'BI'},
    0x1D46A: {c: 'C', f: 'BI'},
    0x1D46B: {c: 'D', f: 'BI'},
    0x1D46C: {c: 'E', f: 'BI'},
    0x1D46D: {c: 'F', f: 'BI'},
    0x1D46E: {c: 'G', f: 'BI'},
    0x1D46F: {c: 'H', f: 'BI'},
    0x1D470: {c: 'I', f: 'BI'},
    0x1D471: {c: 'J', f: 'BI'},
    0x1D472: {c: 'K', f: 'BI'},
    0x1D473: {c: 'L', f: 'BI'},
    0x1D474: {c: 'M', f: 'BI'},
    0x1D475: {c: 'N', f: 'BI'},
    0x1D476: {c: 'O', f: 'BI'},
    0x1D477: {c: 'P', f: 'BI'},
    0x1D478: {c: 'Q', f: 'BI'},
    0x1D479: {c: 'R', f: 'BI'},
    0x1D47A: {c: 'S', f: 'BI'},
    0x1D47B: {c: 'T', f: 'BI'},
    0x1D47C: {c: 'U', f: 'BI'},
    0x1D47D: {c: 'V', f: 'BI'},
    0x1D47E: {c: 'W', f: 'BI'},
    0x1D47F: {c: 'X', f: 'BI'},
    0x1D480: {c: 'Y', f: 'BI'},
    0x1D481: {c: 'Z', f: 'BI'},
    0x1D482: {c: 'a', f: 'BI'},
    0x1D483: {c: 'b', f: 'BI'},
    0x1D484: {c: 'c', f: 'BI'},
    0x1D485: {c: 'd', f: 'BI'},
    0x1D486: {c: 'e', f: 'BI'},
    0x1D487: {c: 'f', f: 'BI'},
    0x1D488: {c: 'g', f: 'BI'},
    0x1D489: {c: 'h', f: 'BI'},
    0x1D48A: {c: 'i', f: 'BI'},
    0x1D48B: {c: 'j', f: 'BI'},
    0x1D48C: {c: 'k', f: 'BI'},
    0x1D48D: {c: 'l', f: 'BI'},
    0x1D48E: {c: 'm', f: 'BI'},
    0x1D48F: {c: 'n', f: 'BI'},
    0x1D490: {c: 'o', f: 'BI'},
    0x1D491: {c: 'p', f: 'BI'},
    0x1D492: {c: 'q', f: 'BI'},
    0x1D493: {c: 'r', f: 'BI'},
    0x1D494: {c: 's', f: 'BI'},
    0x1D495: {c: 't', f: 'BI'},
    0x1D496: {c: 'u', f: 'BI'},
    0x1D497: {c: 'v', f: 'BI'},
    0x1D498: {c: 'w', f: 'BI'},
    0x1D499: {c: 'x', f: 'BI'},
    0x1D49A: {c: 'y', f: 'BI'},
    0x1D49B: {c: 'z', f: 'BI'},
    0x1D49C: {c: 'A', f: 'SC'},
    0x1D49E: {c: 'C', f: 'SC'},
    0x1D49F: {c: 'D', f: 'SC'},
    0x1D4A2: {c: 'G', f: 'SC'},
    0x1D4A5: {c: 'J', f: 'SC'},
    0x1D4A6: {c: 'K', f: 'SC'},
    0x1D4A9: {c: 'N', f: 'SC'},
    0x1D4AA: {c: 'O', f: 'SC'},
    0x1D4AB: {c: 'P', f: 'SC'},
    0x1D4AC: {c: 'Q', f: 'SC'},
    0x1D4AE: {c: 'S', f: 'SC'},
    0x1D4AF: {c: 'T', f: 'SC'},
    0x1D4B0: {c: 'U', f: 'SC'},
    0x1D4B1: {c: 'V', f: 'SC'},
    0x1D4B2: {c: 'W', f: 'SC'},
    0x1D4B3: {c: 'X', f: 'SC'},
    0x1D4B4: {c: 'Y', f: 'SC'},
    0x1D4B5: {c: 'Z', f: 'SC'},
    0x1D504: {c: 'A', f: 'FR'},
    0x1D505: {c: 'B', f: 'FR'},
    0x1D507: {c: 'D', f: 'FR'},
    0x1D508: {c: 'E', f: 'FR'},
    0x1D509: {c: 'F', f: 'FR'},
    0x1D50A: {c: 'G', f: 'FR'},
    0x1D50D: {c: 'J', f: 'FR'},
    0x1D50E: {c: 'K', f: 'FR'},
    0x1D50F: {c: 'L', f: 'FR'},
    0x1D510: {c: 'M', f: 'FR'},
    0x1D511: {c: 'N', f: 'FR'},
    0x1D512: {c: 'O', f: 'FR'},
    0x1D513: {c: 'P', f: 'FR'},
    0x1D514: {c: 'Q', f: 'FR'},
    0x1D516: {c: 'S', f: 'FR'},
    0x1D517: {c: 'T', f: 'FR'},
    0x1D518: {c: 'U', f: 'FR'},
    0x1D519: {c: 'V', f: 'FR'},
    0x1D51A: {c: 'W', f: 'FR'},
    0x1D51B: {c: 'X', f: 'FR'},
    0x1D51C: {c: 'Y', f: 'FR'},
    0x1D51E: {c: 'a', f: 'FR'},
    0x1D51F: {c: 'b', f: 'FR'},
    0x1D520: {c: 'c', f: 'FR'},
    0x1D521: {c: 'd', f: 'FR'},
    0x1D522: {c: 'e', f: 'FR'},
    0x1D523: {c: 'f', f: 'FR'},
    0x1D524: {c: 'g', f: 'FR'},
    0x1D525: {c: 'h', f: 'FR'},
    0x1D526: {c: 'i', f: 'FR'},
    0x1D527: {c: 'j', f: 'FR'},
    0x1D528: {c: 'k', f: 'FR'},
    0x1D529: {c: 'l', f: 'FR'},
    0x1D52A: {c: 'm', f: 'FR'},
    0x1D52B: {c: 'n', f: 'FR'},
    0x1D52C: {c: 'o', f: 'FR'},
    0x1D52D: {c: 'p', f: 'FR'},
    0x1D52E: {c: 'q', f: 'FR'},
    0x1D52F: {c: 'r', f: 'FR'},
    0x1D530: {c: 's', f: 'FR'},
    0x1D531: {c: 't', f: 'FR'},
    0x1D532: {c: 'u', f: 'FR'},
    0x1D533: {c: 'v', f: 'FR'},
    0x1D534: {c: 'w', f: 'FR'},
    0x1D535: {c: 'x', f: 'FR'},
    0x1D536: {c: 'y', f: 'FR'},
    0x1D537: {c: 'z', f: 'FR'},
    0x1D538: {c: 'A', f: 'A'},
    0x1D539: {c: 'B', f: 'A'},
    0x1D53B: {c: 'D', f: 'A'},
    0x1D53C: {c: 'E', f: 'A'},
    0x1D53D: {c: 'F', f: 'A'},
    0x1D53E: {c: 'G', f: 'A'},
    0x1D540: {c: 'I', f: 'A'},
    0x1D541: {c: 'J', f: 'A'},
    0x1D542: {c: 'K', f: 'A'},
    0x1D543: {c: 'L', f: 'A'},
    0x1D544: {c: 'M', f: 'A'},
    0x1D546: {c: 'O', f: 'A'},
    0x1D54A: {c: 'S', f: 'A'},
    0x1D54B: {c: 'T', f: 'A'},
    0x1D54C: {c: 'U', f: 'A'},
    0x1D54D: {c: 'V', f: 'A'},
    0x1D54E: {c: 'W', f: 'A'},
    0x1D54F: {c: 'X', f: 'A'},
    0x1D550: {c: 'Y', f: 'A'},
    0x1D56C: {c: 'A', f: 'FRB'},
    0x1D56D: {c: 'B', f: 'FRB'},
    0x1D56E: {c: 'C', f: 'FRB'},
    0x1D56F: {c: 'D', f: 'FRB'},
    0x1D570: {c: 'E', f: 'FRB'},
    0x1D571: {c: 'F', f: 'FRB'},
    0x1D572: {c: 'G', f: 'FRB'},
    0x1D573: {c: 'H', f: 'FRB'},
    0x1D574: {c: 'I', f: 'FRB'},
    0x1D575: {c: 'J', f: 'FRB'},
    0x1D576: {c: 'K', f: 'FRB'},
    0x1D577: {c: 'L', f: 'FRB'},
    0x1D578: {c: 'M', f: 'FRB'},
    0x1D579: {c: 'N', f: 'FRB'},
    0x1D57A: {c: 'O', f: 'FRB'},
    0x1D57B: {c: 'P', f: 'FRB'},
    0x1D57C: {c: 'Q', f: 'FRB'},
    0x1D57D: {c: 'R', f: 'FRB'},
    0x1D57E: {c: 'S', f: 'FRB'},
    0x1D57F: {c: 'T', f: 'FRB'},
    0x1D580: {c: 'U', f: 'FRB'},
    0x1D581: {c: 'V', f: 'FRB'},
    0x1D582: {c: 'W', f: 'FRB'},
    0x1D583: {c: 'X', f: 'FRB'},
    0x1D584: {c: 'Y', f: 'FRB'},
    0x1D585: {c: 'Z', f: 'FRB'},
    0x1D586: {c: 'a', f: 'FRB'},
    0x1D587: {c: 'b', f: 'FRB'},
    0x1D588: {c: 'c', f: 'FRB'},
    0x1D589: {c: 'd', f: 'FRB'},
    0x1D58A: {c: 'e', f: 'FRB'},
    0x1D58B: {c: 'f', f: 'FRB'},
    0x1D58C: {c: 'g', f: 'FRB'},
    0x1D58D: {c: 'h', f: 'FRB'},
    0x1D58E: {c: 'i', f: 'FRB'},
    0x1D58F: {c: 'j', f: 'FRB'},
    0x1D590: {c: 'k', f: 'FRB'},
    0x1D591: {c: 'l', f: 'FRB'},
    0x1D592: {c: 'm', f: 'FRB'},
    0x1D593: {c: 'n', f: 'FRB'},
    0x1D594: {c: 'o', f: 'FRB'},
    0x1D595: {c: 'p', f: 'FRB'},
    0x1D596: {c: 'q', f: 'FRB'},
    0x1D597: {c: 'r', f: 'FRB'},
    0x1D598: {c: 's', f: 'FRB'},
    0x1D599: {c: 't', f: 'FRB'},
    0x1D59A: {c: 'u', f: 'FRB'},
    0x1D59B: {c: 'v', f: 'FRB'},
    0x1D59C: {c: 'w', f: 'FRB'},
    0x1D59D: {c: 'x', f: 'FRB'},
    0x1D59E: {c: 'y', f: 'FRB'},
    0x1D59F: {c: 'z', f: 'FRB'},
    0x1D5A0: {c: 'A', f: 'SS'},
    0x1D5A1: {c: 'B', f: 'SS'},
    0x1D5A2: {c: 'C', f: 'SS'},
    0x1D5A3: {c: 'D', f: 'SS'},
    0x1D5A4: {c: 'E', f: 'SS'},
    0x1D5A5: {c: 'F', f: 'SS'},
    0x1D5A6: {c: 'G', f: 'SS'},
    0x1D5A7: {c: 'H', f: 'SS'},
    0x1D5A8: {c: 'I', f: 'SS'},
    0x1D5A9: {c: 'J', f: 'SS'},
    0x1D5AA: {c: 'K', f: 'SS'},
    0x1D5AB: {c: 'L', f: 'SS'},
    0x1D5AC: {c: 'M', f: 'SS'},
    0x1D5AD: {c: 'N', f: 'SS'},
    0x1D5AE: {c: 'O', f: 'SS'},
    0x1D5AF: {c: 'P', f: 'SS'},
    0x1D5B0: {c: 'Q', f: 'SS'},
    0x1D5B1: {c: 'R', f: 'SS'},
    0x1D5B2: {c: 'S', f: 'SS'},
    0x1D5B3: {c: 'T', f: 'SS'},
    0x1D5B4: {c: 'U', f: 'SS'},
    0x1D5B5: {c: 'V', f: 'SS'},
    0x1D5B6: {c: 'W', f: 'SS'},
    0x1D5B7: {c: 'X', f: 'SS'},
    0x1D5B8: {c: 'Y', f: 'SS'},
    0x1D5B9: {c: 'Z', f: 'SS'},
    0x1D5BA: {c: 'a', f: 'SS'},
    0x1D5BB: {c: 'b', f: 'SS'},
    0x1D5BC: {c: 'c', f: 'SS'},
    0x1D5BD: {c: 'd', f: 'SS'},
    0x1D5BE: {c: 'e', f: 'SS'},
    0x1D5BF: {c: 'f', f: 'SS'},
    0x1D5C0: {c: 'g', f: 'SS'},
    0x1D5C1: {c: 'h', f: 'SS'},
    0x1D5C2: {c: 'i', f: 'SS'},
    0x1D5C3: {c: 'j', f: 'SS'},
    0x1D5C4: {c: 'k', f: 'SS'},
    0x1D5C5: {c: 'l', f: 'SS'},
    0x1D5C6: {c: 'm', f: 'SS'},
    0x1D5C7: {c: 'n', f: 'SS'},
    0x1D5C8: {c: 'o', f: 'SS'},
    0x1D5C9: {c: 'p', f: 'SS'},
    0x1D5CA: {c: 'q', f: 'SS'},
    0x1D5CB: {c: 'r', f: 'SS'},
    0x1D5CC: {c: 's', f: 'SS'},
    0x1D5CD: {c: 't', f: 'SS'},
    0x1D5CE: {c: 'u', f: 'SS'},
    0x1D5CF: {c: 'v', f: 'SS'},
    0x1D5D0: {c: 'w', f: 'SS'},
    0x1D5D1: {c: 'x', f: 'SS'},
    0x1D5D2: {c: 'y', f: 'SS'},
    0x1D5D3: {c: 'z', f: 'SS'},
    0x1D5D4: {c: 'A', f: 'SSB'},
    0x1D5D5: {c: 'B', f: 'SSB'},
    0x1D5D6: {c: 'C', f: 'SSB'},
    0x1D5D7: {c: 'D', f: 'SSB'},
    0x1D5D8: {c: 'E', f: 'SSB'},
    0x1D5D9: {c: 'F', f: 'SSB'},
    0x1D5DA: {c: 'G', f: 'SSB'},
    0x1D5DB: {c: 'H', f: 'SSB'},
    0x1D5DC: {c: 'I', f: 'SSB'},
    0x1D5DD: {c: 'J', f: 'SSB'},
    0x1D5DE: {c: 'K', f: 'SSB'},
    0x1D5DF: {c: 'L', f: 'SSB'},
    0x1D5E0: {c: 'M', f: 'SSB'},
    0x1D5E1: {c: 'N', f: 'SSB'},
    0x1D5E2: {c: 'O', f: 'SSB'},
    0x1D5E3: {c: 'P', f: 'SSB'},
    0x1D5E4: {c: 'Q', f: 'SSB'},
    0x1D5E5: {c: 'R', f: 'SSB'},
    0x1D5E6: {c: 'S', f: 'SSB'},
    0x1D5E7: {c: 'T', f: 'SSB'},
    0x1D5E8: {c: 'U', f: 'SSB'},
    0x1D5E9: {c: 'V', f: 'SSB'},
    0x1D5EA: {c: 'W', f: 'SSB'},
    0x1D5EB: {c: 'X', f: 'SSB'},
    0x1D5EC: {c: 'Y', f: 'SSB'},
    0x1D5ED: {c: 'Z', f: 'SSB'},
    0x1D5EE: {c: 'a', f: 'SSB'},
    0x1D5EF: {c: 'b', f: 'SSB'},
    0x1D5F0: {c: 'c', f: 'SSB'},
    0x1D5F1: {c: 'd', f: 'SSB'},
    0x1D5F2: {c: 'e', f: 'SSB'},
    0x1D5F3: {c: 'f', f: 'SSB'},
    0x1D5F4: {c: 'g', f: 'SSB'},
    0x1D5F5: {c: 'h', f: 'SSB'},
    0x1D5F6: {c: 'i', f: 'SSB'},
    0x1D5F7: {c: 'j', f: 'SSB'},
    0x1D5F8: {c: 'k', f: 'SSB'},
    0x1D5F9: {c: 'l', f: 'SSB'},
    0x1D5FA: {c: 'm', f: 'SSB'},
    0x1D5FB: {c: 'n', f: 'SSB'},
    0x1D5FC: {c: 'o', f: 'SSB'},
    0x1D5FD: {c: 'p', f: 'SSB'},
    0x1D5FE: {c: 'q', f: 'SSB'},
    0x1D5FF: {c: 'r', f: 'SSB'},
    0x1D600: {c: 's', f: 'SSB'},
    0x1D601: {c: 't', f: 'SSB'},
    0x1D602: {c: 'u', f: 'SSB'},
    0x1D603: {c: 'v', f: 'SSB'},
    0x1D604: {c: 'w', f: 'SSB'},
    0x1D605: {c: 'x', f: 'SSB'},
    0x1D606: {c: 'y', f: 'SSB'},
    0x1D607: {c: 'z', f: 'SSB'},
    0x1D608: {c: 'A', f: 'SSI'},
    0x1D609: {c: 'B', f: 'SSI'},
    0x1D60A: {c: 'C', f: 'SSI'},
    0x1D60B: {c: 'D', f: 'SSI'},
    0x1D60C: {c: 'E', f: 'SSI'},
    0x1D60D: {c: 'F', f: 'SSI'},
    0x1D60E: {c: 'G', f: 'SSI'},
    0x1D60F: {c: 'H', f: 'SSI'},
    0x1D610: {c: 'I', f: 'SSI'},
    0x1D611: {c: 'J', f: 'SSI'},
    0x1D612: {c: 'K', f: 'SSI'},
    0x1D613: {c: 'L', f: 'SSI'},
    0x1D614: {c: 'M', f: 'SSI'},
    0x1D615: {c: 'N', f: 'SSI'},
    0x1D616: {c: 'O', f: 'SSI'},
    0x1D617: {c: 'P', f: 'SSI'},
    0x1D618: {c: 'Q', f: 'SSI'},
    0x1D619: {c: 'R', f: 'SSI'},
    0x1D61A: {c: 'S', f: 'SSI'},
    0x1D61B: {c: 'T', f: 'SSI'},
    0x1D61C: {c: 'U', f: 'SSI'},
    0x1D61D: {c: 'V', f: 'SSI'},
    0x1D61E: {c: 'W', f: 'SSI'},
    0x1D61F: {c: 'X', f: 'SSI'},
    0x1D620: {c: 'Y', f: 'SSI'},
    0x1D621: {c: 'Z', f: 'SSI'},
    0x1D622: {c: 'a', f: 'SSI'},
    0x1D623: {c: 'b', f: 'SSI'},
    0x1D624: {c: 'c', f: 'SSI'},
    0x1D625: {c: 'd', f: 'SSI'},
    0x1D626: {c: 'e', f: 'SSI'},
    0x1D627: {c: 'f', f: 'SSI'},
    0x1D628: {c: 'g', f: 'SSI'},
    0x1D629: {c: 'h', f: 'SSI'},
    0x1D62A: {c: 'i', f: 'SSI'},
    0x1D62B: {c: 'j', f: 'SSI'},
    0x1D62C: {c: 'k', f: 'SSI'},
    0x1D62D: {c: 'l', f: 'SSI'},
    0x1D62E: {c: 'm', f: 'SSI'},
    0x1D62F: {c: 'n', f: 'SSI'},
    0x1D630: {c: 'o', f: 'SSI'},
    0x1D631: {c: 'p', f: 'SSI'},
    0x1D632: {c: 'q', f: 'SSI'},
    0x1D633: {c: 'r', f: 'SSI'},
    0x1D634: {c: 's', f: 'SSI'},
    0x1D635: {c: 't', f: 'SSI'},
    0x1D636: {c: 'u', f: 'SSI'},
    0x1D637: {c: 'v', f: 'SSI'},
    0x1D638: {c: 'w', f: 'SSI'},
    0x1D639: {c: 'x', f: 'SSI'},
    0x1D63A: {c: 'y', f: 'SSI'},
    0x1D63B: {c: 'z', f: 'SSI'},
    0x1D670: {c: 'A', f: 'T'},
    0x1D671: {c: 'B', f: 'T'},
    0x1D672: {c: 'C', f: 'T'},
    0x1D673: {c: 'D', f: 'T'},
    0x1D674: {c: 'E', f: 'T'},
    0x1D675: {c: 'F', f: 'T'},
    0x1D676: {c: 'G', f: 'T'},
    0x1D677: {c: 'H', f: 'T'},
    0x1D678: {c: 'I', f: 'T'},
    0x1D679: {c: 'J', f: 'T'},
    0x1D67A: {c: 'K', f: 'T'},
    0x1D67B: {c: 'L', f: 'T'},
    0x1D67C: {c: 'M', f: 'T'},
    0x1D67D: {c: 'N', f: 'T'},
    0x1D67E: {c: 'O', f: 'T'},
    0x1D67F: {c: 'P', f: 'T'},
    0x1D680: {c: 'Q', f: 'T'},
    0x1D681: {c: 'R', f: 'T'},
    0x1D682: {c: 'S', f: 'T'},
    0x1D683: {c: 'T', f: 'T'},
    0x1D684: {c: 'U', f: 'T'},
    0x1D685: {c: 'V', f: 'T'},
    0x1D686: {c: 'W', f: 'T'},
    0x1D687: {c: 'X', f: 'T'},
    0x1D688: {c: 'Y', f: 'T'},
    0x1D689: {c: 'Z', f: 'T'},
    0x1D68A: {c: 'a', f: 'T'},
    0x1D68B: {c: 'b', f: 'T'},
    0x1D68C: {c: 'c', f: 'T'},
    0x1D68D: {c: 'd', f: 'T'},
    0x1D68E: {c: 'e', f: 'T'},
    0x1D68F: {c: 'f', f: 'T'},
    0x1D690: {c: 'g', f: 'T'},
    0x1D691: {c: 'h', f: 'T'},
    0x1D692: {c: 'i', f: 'T'},
    0x1D693: {c: 'j', f: 'T'},
    0x1D694: {c: 'k', f: 'T'},
    0x1D695: {c: 'l', f: 'T'},
    0x1D696: {c: 'm', f: 'T'},
    0x1D697: {c: 'n', f: 'T'},
    0x1D698: {c: 'o', f: 'T'},
    0x1D699: {c: 'p', f: 'T'},
    0x1D69A: {c: 'q', f: 'T'},
    0x1D69B: {c: 'r', f: 'T'},
    0x1D69C: {c: 's', f: 'T'},
    0x1D69D: {c: 't', f: 'T'},
    0x1D69E: {c: 'u', f: 'T'},
    0x1D69F: {c: 'v', f: 'T'},
    0x1D6A0: {c: 'w', f: 'T'},
    0x1D6A1: {c: 'x', f: 'T'},
    0x1D6A2: {c: 'y', f: 'T'},
    0x1D6A3: {c: 'z', f: 'T'},
    0x1D6A8: {c: 'A', f: 'B'},
    0x1D6A9: {c: 'B', f: 'B'},
    0x1D6AA: {c: '\\393', f: 'B'},
    0x1D6AB: {c: '\\394', f: 'B'},
    0x1D6AC: {c: 'E', f: 'B'},
    0x1D6AD: {c: 'Z', f: 'B'},
    0x1D6AE: {c: 'H', f: 'B'},
    0x1D6AF: {c: '\\398', f: 'B'},
    0x1D6B0: {c: 'I', f: 'B'},
    0x1D6B1: {c: 'K', f: 'B'},
    0x1D6B2: {c: '\\39B', f: 'B'},
    0x1D6B3: {c: 'M', f: 'B'},
    0x1D6B4: {c: 'N', f: 'B'},
    0x1D6B5: {c: '\\39E', f: 'B'},
    0x1D6B6: {c: 'O', f: 'B'},
    0x1D6B7: {c: '\\3A0', f: 'B'},
    0x1D6B8: {c: 'P', f: 'B'},
    0x1D6BA: {c: '\\3A3', f: 'B'},
    0x1D6BB: {c: 'T', f: 'B'},
    0x1D6BC: {c: '\\3A5', f: 'B'},
    0x1D6BD: {c: '\\3A6', f: 'B'},
    0x1D6BE: {c: 'X', f: 'B'},
    0x1D6BF: {c: '\\3A8', f: 'B'},
    0x1D6C0: {c: '\\3A9', f: 'B'},
    0x1D6C1: {c: '\\2207', f: 'B'},
    0x1D6E2: {c: 'A', f: 'I'},
    0x1D6E3: {c: 'B', f: 'I'},
    0x1D6E4: {c: '\\393', f: 'I'},
    0x1D6E5: {c: '\\394', f: 'I'},
    0x1D6E6: {c: 'E', f: 'I'},
    0x1D6E7: {c: 'Z', f: 'I'},
    0x1D6E8: {c: 'H', f: 'I'},
    0x1D6E9: {c: '\\398', f: 'I'},
    0x1D6EA: {c: 'I', f: 'I'},
    0x1D6EB: {c: 'K', f: 'I'},
    0x1D6EC: {c: '\\39B', f: 'I'},
    0x1D6ED: {c: 'M', f: 'I'},
    0x1D6EE: {c: 'N', f: 'I'},
    0x1D6EF: {c: '\\39E', f: 'I'},
    0x1D6F0: {c: 'O', f: 'I'},
    0x1D6F1: {c: '\\3A0', f: 'I'},
    0x1D6F2: {c: 'P', f: 'I'},
    0x1D6F4: {c: '\\3A3', f: 'I'},
    0x1D6F5: {c: 'T', f: 'I'},
    0x1D6F6: {c: '\\3A5', f: 'I'},
    0x1D6F7: {c: '\\3A6', f: 'I'},
    0x1D6F8: {c: 'X', f: 'I'},
    0x1D6F9: {c: '\\3A8', f: 'I'},
    0x1D6FA: {c: '\\3A9', f: 'I'},
    0x1D6FC: {c: '\\3B1', f: 'I'},
    0x1D6FD: {c: '\\3B2', f: 'I'},
    0x1D6FE: {c: '\\3B3', f: 'I'},
    0x1D6FF: {c: '\\3B4', f: 'I'},
    0x1D700: {c: '\\3B5', f: 'I'},
    0x1D701: {c: '\\3B6', f: 'I'},
    0x1D702: {c: '\\3B7', f: 'I'},
    0x1D703: {c: '\\3B8', f: 'I'},
    0x1D704: {c: '\\3B9', f: 'I'},
    0x1D705: {c: '\\3BA', f: 'I'},
    0x1D706: {c: '\\3BB', f: 'I'},
    0x1D707: {c: '\\3BC', f: 'I'},
    0x1D708: {c: '\\3BD', f: 'I'},
    0x1D709: {c: '\\3BE', f: 'I'},
    0x1D70A: {c: '\\3BF', f: 'I'},
    0x1D70B: {c: '\\3C0', f: 'I'},
    0x1D70C: {c: '\\3C1', f: 'I'},
    0x1D70D: {c: '\\3C2', f: 'I'},
    0x1D70E: {c: '\\3C3', f: 'I'},
    0x1D70F: {c: '\\3C4', f: 'I'},
    0x1D710: {c: '\\3C5', f: 'I'},
    0x1D711: {c: '\\3C6', f: 'I'},
    0x1D712: {c: '\\3C7', f: 'I'},
    0x1D713: {c: '\\3C8', f: 'I'},
    0x1D714: {c: '\\3C9', f: 'I'},
    0x1D715: {c: '\\2202'},
    0x1D716: {c: '\\3F5', f: 'I'},
    0x1D717: {c: '\\3D1', f: 'I'},
    0x1D718: {c: '\\E009', f: 'A'},
    0x1D719: {c: '\\3D5', f: 'I'},
    0x1D71A: {c: '\\3F1', f: 'I'},
    0x1D71B: {c: '\\3D6', f: 'I'},
    0x1D71C: {c: 'A', f: 'BI'},
    0x1D71D: {c: 'B', f: 'BI'},
    0x1D71E: {c: '\\393', f: 'BI'},
    0x1D71F: {c: '\\394', f: 'BI'},
    0x1D720: {c: 'E', f: 'BI'},
    0x1D721: {c: 'Z', f: 'BI'},
    0x1D722: {c: 'H', f: 'BI'},
    0x1D723: {c: '\\398', f: 'BI'},
    0x1D724: {c: 'I', f: 'BI'},
    0x1D725: {c: 'K', f: 'BI'},
    0x1D726: {c: '\\39B', f: 'BI'},
    0x1D727: {c: 'M', f: 'BI'},
    0x1D728: {c: 'N', f: 'BI'},
    0x1D729: {c: '\\39E', f: 'BI'},
    0x1D72A: {c: 'O', f: 'BI'},
    0x1D72B: {c: '\\3A0', f: 'BI'},
    0x1D72C: {c: 'P', f: 'BI'},
    0x1D72E: {c: '\\3A3', f: 'BI'},
    0x1D72F: {c: 'T', f: 'BI'},
    0x1D730: {c: '\\3A5', f: 'BI'},
    0x1D731: {c: '\\3A6', f: 'BI'},
    0x1D732: {c: 'X', f: 'BI'},
    0x1D733: {c: '\\3A8', f: 'BI'},
    0x1D734: {c: '\\3A9', f: 'BI'},
    0x1D736: {c: '\\3B1', f: 'BI'},
    0x1D737: {c: '\\3B2', f: 'BI'},
    0x1D738: {c: '\\3B3', f: 'BI'},
    0x1D739: {c: '\\3B4', f: 'BI'},
    0x1D73A: {c: '\\3B5', f: 'BI'},
    0x1D73B: {c: '\\3B6', f: 'BI'},
    0x1D73C: {c: '\\3B7', f: 'BI'},
    0x1D73D: {c: '\\3B8', f: 'BI'},
    0x1D73E: {c: '\\3B9', f: 'BI'},
    0x1D73F: {c: '\\3BA', f: 'BI'},
    0x1D740: {c: '\\3BB', f: 'BI'},
    0x1D741: {c: '\\3BC', f: 'BI'},
    0x1D742: {c: '\\3BD', f: 'BI'},
    0x1D743: {c: '\\3BE', f: 'BI'},
    0x1D744: {c: '\\3BF', f: 'BI'},
    0x1D745: {c: '\\3C0', f: 'BI'},
    0x1D746: {c: '\\3C1', f: 'BI'},
    0x1D747: {c: '\\3C2', f: 'BI'},
    0x1D748: {c: '\\3C3', f: 'BI'},
    0x1D749: {c: '\\3C4', f: 'BI'},
    0x1D74A: {c: '\\3C5', f: 'BI'},
    0x1D74B: {c: '\\3C6', f: 'BI'},
    0x1D74C: {c: '\\3C7', f: 'BI'},
    0x1D74D: {c: '\\3C8', f: 'BI'},
    0x1D74E: {c: '\\3C9', f: 'BI'},
    0x1D74F: {c: '\\2202', f: 'B'},
    0x1D750: {c: '\\3F5', f: 'BI'},
    0x1D751: {c: '\\3D1', f: 'BI'},
    0x1D752: {c: '\\E009', f: 'A'},
    0x1D753: {c: '\\3D5', f: 'BI'},
    0x1D754: {c: '\\3F1', f: 'BI'},
    0x1D755: {c: '\\3D6', f: 'BI'},
    0x1D756: {c: 'A', f: 'SSB'},
    0x1D757: {c: 'B', f: 'SSB'},
    0x1D758: {c: '\\393', f: 'SSB'},
    0x1D759: {c: '\\394', f: 'SSB'},
    0x1D75A: {c: 'E', f: 'SSB'},
    0x1D75B: {c: 'Z', f: 'SSB'},
    0x1D75C: {c: 'H', f: 'SSB'},
    0x1D75D: {c: '\\398', f: 'SSB'},
    0x1D75E: {c: 'I', f: 'SSB'},
    0x1D75F: {c: 'K', f: 'SSB'},
    0x1D760: {c: '\\39B', f: 'SSB'},
    0x1D761: {c: 'M', f: 'SSB'},
    0x1D762: {c: 'N', f: 'SSB'},
    0x1D763: {c: '\\39E', f: 'SSB'},
    0x1D764: {c: 'O', f: 'SSB'},
    0x1D765: {c: '\\3A0', f: 'SSB'},
    0x1D766: {c: 'P', f: 'SSB'},
    0x1D768: {c: '\\3A3', f: 'SSB'},
    0x1D769: {c: 'T', f: 'SSB'},
    0x1D76A: {c: '\\3A5', f: 'SSB'},
    0x1D76B: {c: '\\3A6', f: 'SSB'},
    0x1D76C: {c: 'X', f: 'SSB'},
    0x1D76D: {c: '\\3A8', f: 'SSB'},
    0x1D76E: {c: '\\3A9', f: 'SSB'},
    0x1D7CE: {c: '0', f: 'B'},
    0x1D7CF: {c: '1', f: 'B'},
    0x1D7D0: {c: '2', f: 'B'},
    0x1D7D1: {c: '3', f: 'B'},
    0x1D7D2: {c: '4', f: 'B'},
    0x1D7D3: {c: '5', f: 'B'},
    0x1D7D4: {c: '6', f: 'B'},
    0x1D7D5: {c: '7', f: 'B'},
    0x1D7D6: {c: '8', f: 'B'},
    0x1D7D7: {c: '9', f: 'B'},
    0x1D7E2: {c: '0', f: 'SS'},
    0x1D7E3: {c: '1', f: 'SS'},
    0x1D7E4: {c: '2', f: 'SS'},
    0x1D7E5: {c: '3', f: 'SS'},
    0x1D7E6: {c: '4', f: 'SS'},
    0x1D7E7: {c: '5', f: 'SS'},
    0x1D7E8: {c: '6', f: 'SS'},
    0x1D7E9: {c: '7', f: 'SS'},
    0x1D7EA: {c: '8', f: 'SS'},
    0x1D7EB: {c: '9', f: 'SS'},
    0x1D7EC: {c: '0', f: 'SSB'},
    0x1D7ED: {c: '1', f: 'SSB'},
    0x1D7EE: {c: '2', f: 'SSB'},
    0x1D7EF: {c: '3', f: 'SSB'},
    0x1D7F0: {c: '4', f: 'SSB'},
    0x1D7F1: {c: '5', f: 'SSB'},
    0x1D7F2: {c: '6', f: 'SSB'},
    0x1D7F3: {c: '7', f: 'SSB'},
    0x1D7F4: {c: '8', f: 'SSB'},
    0x1D7F5: {c: '9', f: 'SSB'},
    0x1D7F6: {c: '0', f: 'T'},
    0x1D7F7: {c: '1', f: 'T'},
    0x1D7F8: {c: '2', f: 'T'},
    0x1D7F9: {c: '3', f: 'T'},
    0x1D7FA: {c: '4', f: 'T'},
    0x1D7FB: {c: '5', f: 'T'},
    0x1D7FC: {c: '6', f: 'T'},
    0x1D7FD: {c: '7', f: 'T'},
    0x1D7FE: {c: '8', f: 'T'},
    0x1D7FF: {c: '9', f: 'T'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1736">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {sansSerifBoldItalic as font} from '../../../common/fonts/tex/sans-serif-bold-italic.js';

export const sansSerifBoldItalic: CHTMLCharMap = AddCSS(font, {
    0x131: {f: 'SSB'},
    0x237: {f: 'SSB'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1737">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {sansSerifBold as font} from '../../../common/fonts/tex/sans-serif-bold.js';

export const sansSerifBold: CHTMLCharMap = AddCSS(font, {
    0x2015: {c: '\\2014'},
    0x2017: {c: '_'},
    0x2044: {c: '/'},
    0x2206: {c: '\\394'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1738">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {sansSerifItalic as font} from '../../../common/fonts/tex/sans-serif-italic.js';

export const sansSerifItalic: CHTMLCharMap = AddCSS(font, {
    0x391: {c: 'A'},
    0x392: {c: 'B'},
    0x395: {c: 'E'},
    0x396: {c: 'Z'},
    0x397: {c: 'H'},
    0x399: {c: 'I'},
    0x39A: {c: 'K'},
    0x39C: {c: 'M'},
    0x39D: {c: 'N'},
    0x39F: {c: 'O'},
    0x3A1: {c: 'P'},
    0x3A4: {c: 'T'},
    0x3A7: {c: 'X'},
    0x2015: {c: '\\2014'},
    0x2017: {c: '_'},
    0x2044: {c: '/'},
    0x2206: {c: '\\394'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1739">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {sansSerif as font} from '../../../common/fonts/tex/sans-serif.js';

export const sansSerif: CHTMLCharMap = AddCSS(font, {
    0x391: {c: 'A'},
    0x392: {c: 'B'},
    0x395: {c: 'E'},
    0x396: {c: 'Z'},
    0x397: {c: 'H'},
    0x399: {c: 'I'},
    0x39A: {c: 'K'},
    0x39C: {c: 'M'},
    0x39D: {c: 'N'},
    0x39F: {c: 'O'},
    0x3A1: {c: 'P'},
    0x3A4: {c: 'T'},
    0x3A7: {c: 'X'},
    0x2015: {c: '\\2014'},
    0x2017: {c: '_'},
    0x2044: {c: '/'},
    0x2206: {c: '\\394'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.174">
const PACKAGE = require('../../webpack.common.js');

module.exports = PACKAGE(
  'mml-chtml',                        // the package to build
  '../../../js',                      // location of the MathJax js library
  [],                                 // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1740">

export {scriptBold} from '../../../common/fonts/tex/script-bold.js';
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1741">

export {script} from '../../../common/fonts/tex/script.js';
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1742">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {smallop as font} from '../../../common/fonts/tex/smallop.js';

export const smallop: CHTMLCharMap = AddCSS(font, {
    0x2044: {c: '/'},
    0x2329: {c: '\\27E8'},
    0x232A: {c: '\\27E9'},
    0x2758: {c: '\\2223'},
    0x2A0C: {c: '\\222C\\222C'},
    0x3008: {c: '\\27E8'},
    0x3009: {c: '\\27E9'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1743">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {texCalligraphicBold as font} from '../../../common/fonts/tex/tex-calligraphic-bold.js';

export const texCalligraphicBold: CHTMLCharMap = AddCSS(font, {
    0x131: {f: 'B'},
    0x237: {f: 'B'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1744">

export {texCalligraphic} from '../../../common/fonts/tex/tex-calligraphic.js';
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1745">

export {texMathit} from '../../../common/fonts/tex/tex-mathit.js';
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1746">

export {texOldstyleBold} from '../../../common/fonts/tex/tex-oldstyle-bold.js';
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1747">

export {texOldstyle} from '../../../common/fonts/tex/tex-oldstyle.js';
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1748">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {texSize3 as font} from '../../../common/fonts/tex/tex-size3.js';

export const texSize3: CHTMLCharMap = AddCSS(font, {
    0x2044: {c: '/'},
    0x2329: {c: '\\27E8'},
    0x232A: {c: '\\27E9'},
    0x3008: {c: '\\27E8'},
    0x3009: {c: '\\27E9'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1749">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {texSize4 as font} from '../../../common/fonts/tex/tex-size4.js';

export const texSize4: CHTMLCharMap = AddCSS(font, {
    0x2044: {c: '/'},
    0x2329: {c: '\\27E8'},
    0x232A: {c: '\\27E9'},
    0x3008: {c: '\\27E8'},
    0x3009: {c: '\\27E9'},
    0xE155: {c: '\\E153\\E152'},
    0xE156: {c: '\\E151\\E150'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.175"></t>
<t tx="ekr.20211016054411.1750">

import {CHTMLCharMap, AddCSS} from '../../FontData.js';
import {texVariant as font} from '../../../common/fonts/tex/tex-variant.js';

export const texVariant: CHTMLCharMap = AddCSS(font, {
    0x3F0: {c: '\\E009'},
    0x210F: {f: ''},
    0x2224: {c: '\\E006'},
    0x2226: {c: '\\E007'},
    0x2268: {c: '\\E00C'},
    0x2269: {c: '\\E00D'},
    0x2270: {c: '\\E011'},
    0x2271: {c: '\\E00E'},
    0x2288: {c: '\\E016'},
    0x2289: {c: '\\E018'},
    0x228A: {c: '\\E01A'},
    0x228B: {c: '\\E01B'},
    0x2A87: {c: '\\E010'},
    0x2A88: {c: '\\E00F'},
    0x2ACB: {c: '\\E017'},
    0x2ACC: {c: '\\E019'},
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1751"></t>
<t tx="ekr.20211016054411.1752">


/**
 * @fileoverview  Implements the FontData class for character bbox data
 *                and stretchy delimiters.
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {OptionList, defaultOptions, userOptions} from '../../util/Options.js';
import {StyleList} from '../../util/StyleList.js';

/****************************************************************************/

/**
 * The extra options allowed in a CharData array
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1753">export interface CharOptions {
  ic?: number;                  // italic correction value
  sk?: number;                  // skew value
  dx?: number;                  // offset for combining characters
  unknown?: boolean;            // true if not found in the given variant
  smp?: number;                 // Math Alphanumeric codepoint this char is mapped to
}

/****************************************************************************/

/**
 * Data about a character
 *   [height, depth, width, {italic-correction, skew, options}]
 *
 * @template C  The CharOptions type
 */
export type CharData&lt;C extends CharOptions&gt; =
  [number, number, number] |
  [number, number, number, C];

/**
 * An object making character positions to character data
 *
 * @template C  The CharOptions type
 */
export type CharMap&lt;C extends CharOptions&gt; = {
  [n: number]: CharData&lt;C&gt;;
};

/**
 * An object making variants to character maps
 *
 * @template C  The CharOptions type
 */
export type CharMapMap&lt;C extends CharOptions&gt; = {
  [name: string]: CharMap&lt;C&gt;;
};

/****************************************************************************/

</t>
<t tx="ekr.20211016054411.1754">/**
 * Data for a variant
 *
 * @template C  The CharOptions type
 */
export interface VariantData&lt;C extends CharOptions&gt; {
  /**
   * A list of CharMaps that must be updated when characters are
   * added to this variant
   */
  linked: CharMap&lt;C&gt;[];
  /**
   * The character data for this variant
   */
  chars: CharMap&lt;C&gt;;
}

/**
 * An object making variants names to variant data
 *
 * @template C  The CharOptions type
 * @template V  The VariantData type
 */
export type VariantMap&lt;C extends CharOptions, V extends VariantData&lt;C&gt;&gt; = {
  [name: string]: V;
};


/**
 * Data to use to map unknown characters in a variant to a
 * generic CSS font:
 *
 *    [fontname, italic, bold]
 */
export type CssFontData = [string, boolean, boolean];

/**
 * An object mapping a variant name to the CSS data needed for it
 */
export type CssFontMap = {
  [name: string]: CssFontData;
};

/****************************************************************************/

/**
 * Stretchy delimiter data
 */
export const enum DIRECTION {None, Vertical, Horizontal}
export const V = DIRECTION.Vertical;
export const H = DIRECTION.Horizontal;

/****************************************************************************/

/**
 * Data needed for stretchy vertical and horizontal characters
 */
export type DelimiterData = {
  dir: DIRECTION;       // vertical or horizontal direction
  sizes?: number[];     // Array of fixed sizes for this character
  variants?: number[];  // The variants in which the different sizes can be found (if not the default)
  schar?: number[];     // The character number to use for each size (if different from the default)
  stretch?: number[];   // The unicode code points for the parts of multi-character versions [beg, ext, end, mid?]
  stretchv?: number[];  // the variants to use for the stretchy characters (index into variant name array)
  HDW?: number[];       // [h, d, w] (for vertical, h and d are the normal size, w is the multi-character width,
                        //            for horizontal, h and d are the multi-character ones, w is for the normal size).
  min?: number;         // The minimum size a multi-character version can be
  c?: number;           // The character number (for aliased delimiters)
  fullExt?: [number, number]  // When present, extenders must be full sized, and the first number is
                              //   the size of the extender, while the second is the total size of the ends
};

/**
 * An object mapping character numbers to delimiter data
 *
 * @template D  The DelimiterData type
 */
export type DelimiterMap&lt;D extends DelimiterData&gt; = {
  [n: number]: D;
};

/**
 * Delimiter data for a non-stretchy character
 */
export const NOSTRETCH: DelimiterData = {dir: DIRECTION.None};

/****************************************************************************/

/**
 * Data for remapping characters
 */
export type RemapData = string;
export type RemapMap = {
  [key: number]: RemapData;
};
export type RemapMapMap = {
  [key: string]: RemapMap;
};

/**
 * Character remapping data for Math Alphanumerics
 */
export type SmpMap = {
  [c: number]: number;
};

/**
 * Data for Math Alphanumeric conversion:  starting positions for
 *  [Alpha, alpha, Greek, greek, Numbers]
 */
export type SmpData = [number, number, number?, number?, number?];


/****************************************************************************/

/**
 * Font parameters (for TeX typesetting rules)
 */
export type FontParameters = {
  x_height: number,
  quad: number,
  num1: number,
  num2: number,
  num3: number,
  denom1: number,
  denom2: number,
  sup1: number,
  sup2: number,
  sup3: number,
  sub1: number,
  sub2: number,
  sup_drop: number,
  sub_drop: number,
  delim1: number,
  delim2: number,
  axis_height: number,
  rule_thickness: number,
  big_op_spacing1: number,
  big_op_spacing2: number,
  big_op_spacing3: number,
  big_op_spacing4: number,
  big_op_spacing5: number,

  surd_height: number,

  scriptspace: number,
  nulldelimiterspace: number,
  delimiterfactor: number,
  delimitershortfall: number,

  min_rule_thickness: number,
  separation_factor: number,
  extra_ic: number
};

/****************************************************************************/
</t>
<t tx="ekr.20211016054411.1755">/**
 *  The FontData class (for storing character bounding box data by variant,
 *                      and the stretchy delimiter data).
 *
 * @template C  The CharOptions type
 * @template V  The VariantData type
 * @template D  The DelimiterData type
 */
export class FontData&lt;C extends CharOptions, V extends VariantData&lt;C&gt;, D extends DelimiterData&gt; {

  /**
   * Options for the font
   */
  public static OPTIONS: OptionList = {
    unknownFamily: 'serif'     // Should use 'monospace' with LiteAdaptor
  };

  /**
   *  The standard variants to define
   */
  public static defaultVariants = [
    ['normal'],
    ['bold', 'normal'],
    ['italic', 'normal'],
    ['bold-italic', 'italic', 'bold'],
    ['double-struck', 'bold'],
    ['fraktur', 'normal'],
    ['bold-fraktur', 'bold', 'fraktur'],
    ['script', 'italic'],
    ['bold-script', 'bold-italic', 'script'],
    ['sans-serif', 'normal'],
    ['bold-sans-serif', 'bold', 'sans-serif'],
    ['sans-serif-italic', 'italic', 'sans-serif'],
    ['sans-serif-bold-italic', 'bold-italic', 'bold-sans-serif'],
    ['monospace', 'normal']
  ];

  /**
   * The family, style, and weight to use for each variant (for unknown characters)
   * The 'unknown' family is replaced by options.unknownFamily
   */
  public static defaultCssFonts: CssFontMap = {
    normal: ['unknown', false, false],
    bold: ['unknown', false, true],
    italic: ['unknown', true, false],
    'bold-italic': ['unknown', true, true],
    'double-struck': ['unknown', false, true],
    fraktur: ['unknown', false, false],
    'bold-fraktur': ['unknown', false, true],
    script: ['cursive', false, false],
    'bold-script': ['cursive', false, true],
    'sans-serif': ['sans-serif', false, false],
    'bold-sans-serif': ['sans-serif', false, true],
    'sans-serif-italic': ['sans-serif', true, false],
    'sans-serif-bold-italic': ['sans-serif', true, true],
    monospace: ['monospace', false, false]
  };

  /**
   * The default prefix for explicit font-family settings
   */
  protected static defaultCssFamilyPrefix = '';

  /**
   * Variant locations in the Math Alphabnumerics block:
   *  [upper-alpha, lower-alpha, upper-Greek, lower-Greek, numbers]
   */
  public static VariantSmp: {[name: string]: SmpData} = {
    bold: [0x1D400, 0x1D41A, 0x1D6A8, 0x1D6C2, 0x1D7CE],
    italic: [0x1D434, 0x1D44E, 0x1D6E2, 0x1D6FC],
    'bold-italic': [0x1D468, 0x1D482, 0x1D71C, 0x1D736],
    script: [0x1D49C, 0x1D4B6],
    'bold-script': [0x1D4D0, 0x1D4EA],
    fraktur: [0x1D504, 0x1D51E],
    'double-struck': [0x1D538, 0x1D552, , , 0x1D7D8],
    'bold-fraktur': [0x1D56C, 0x1D586],
    'sans-serif': [0x1D5A0, 0x1D5BA, , , 0x1D7E2],
    'bold-sans-serif': [0x1D5D4, 0x1D5EE, 0x1D756, 0x1D770, 0x1D7EC],
    'sans-serif-italic': [0x1D608, 0x1D622],
    'sans-serif-bold-italic': [0x1D63C, 0x1D656, 0x1D790, 0x1D7AA],
    'monospace': [0x1D670, 0x1D68A, , , 0x1D7F6]
  };

  /**
   * Character ranges to remap into Math Alphanumerics
   */
  public static SmpRanges = [
    [0, 0x41, 0x5A],   // Upper-case alpha
    [1, 0x61, 0x7A],   // Lower-case alpha
    [2, 0x391, 0x3A9], // Upper-case Greek
    [3, 0x3B1, 0x3C9], // Lower-case Greek
    [4, 0x30, 0x39]    // Numbers
  ];

  /**
   * Characters to map back top other Unicode positions
   * (holes in the Math Alphanumeric ranges)
   */
  public static SmpRemap: SmpMap = {
    0x1D455: 0x210E,   // PLANCK CONSTANT
    0x1D49D: 0x212C,   // SCRIPT CAPITAL B
    0x1D4A0: 0x2130,   // SCRIPT CAPITAL E
    0x1D4A1: 0x2131,   // SCRIPT CAPITAL F
    0x1D4A3: 0x210B,   // SCRIPT CAPITAL H
    0x1D4A4: 0x2110,   // SCRIPT CAPITAL I
    0x1D4A7: 0x2112,   // SCRIPT CAPITAL L
    0x1D4A8: 0x2133,   // SCRIPT CAPITAL M
    0x1D4AD: 0x211B,   // SCRIPT CAPITAL R
    0x1D4BA: 0x212F,   // SCRIPT SMALL E
    0x1D4BC: 0x210A,   // SCRIPT SMALL G
    0x1D4C4: 0x2134,   // SCRIPT SMALL O
    0x1D506: 0x212D,   // BLACK-LETTER CAPITAL C
    0x1D50B: 0x210C,   // BLACK-LETTER CAPITAL H
    0x1D50C: 0x2111,   // BLACK-LETTER CAPITAL I
    0x1D515: 0x211C,   // BLACK-LETTER CAPITAL R
    0x1D51D: 0x2128,   // BLACK-LETTER CAPITAL Z
    0x1D53A: 0x2102,   // DOUBLE-STRUCK CAPITAL C
    0x1D53F: 0x210D,   // DOUBLE-STRUCK CAPITAL H
    0x1D545: 0x2115,   // DOUBLE-STRUCK CAPITAL N
    0x1D547: 0x2119,   // DOUBLE-STRUCK CAPITAL P
    0x1D548: 0x211A,   // DOUBLE-STRUCK CAPITAL Q
    0x1D549: 0x211D,   // DOUBLE-STRUCK CAPITAL R
    0x1D551: 0x2124,   // DOUBLE-STRUCK CAPITAL Z
  };

  /**
   * Greek upper-case variants
   */
  public static SmpRemapGreekU: SmpMap = {
    0x2207: 0x19,  // nabla
    0x03F4: 0x11   // theta symbol
  };

  /**
   * Greek lower-case variants
   */
  public static SmpRemapGreekL: SmpMap = {
    0x3D1: 0x1B,  // theta symbol
    0x3D5: 0x1D,  // phi symbol
    0x3D6: 0x1F,  // omega symbol
    0x3F0: 0x1C,  // kappa symbol
    0x3F1: 0x1E,  // rho symbol
    0x3F5: 0x1A,  // lunate epsilon symbol
    0x2202: 0x19  // partial differential
  };

  /**
   *  The default remappings
   */
  protected static defaultAccentMap: RemapMap = {
    0x0300: '\u02CB',  // grave accent
    0x0301: '\u02CA',  // acute accent
    0x0302: '\u02C6',  // curcumflex
    0x0303: '\u02DC',  // tilde accent
    0x0304: '\u02C9',  // macron
    0x0306: '\u02D8',  // breve
    0x0307: '\u02D9',  // dot
    0x0308: '\u00A8',  // diaresis
    0x030A: '\u02DA',  // ring above
    0x030C: '\u02C7',  // caron
    0x2192: '\u20D7',
    0x2032: '\'',
    0x2033: '\'\'',
    0x2034: '\'\'\'',
    0x2035: '`',
    0x2036: '``',
    0x2037: '```',
    0x2057: '\'\'\'\'',
    0x20D0: '\u21BC', // combining left harpoon
    0x20D1: '\u21C0', // combining right harpoon
    0x20D6: '\u2190', // combining left arrow
    0x20E1: '\u2194', // combining left-right arrow
    0x20F0: '*',      // combining asterisk
    0x20DB: '...',    // combining three dots above
    0x20DC: '....',   // combining four dots above
    0x20EC: '\u21C1', // combining low left harpoon
    0x20ED: '\u21BD', // combining low right harpoon
    0x20EE: '\u2190', // combining low left arrows
    0x20EF: '\u2192'  // combining low right arrows
  };

  /**
   * Default map for characters inside &lt;mo&gt;
   */
  protected static defaultMoMap: RemapMap = {
    0x002D: '\u2212' // hyphen
  };

  /**
   * Default map for characters inside &lt;mn&gt;
   */
  protected static defaultMnMap: RemapMap = {
    0x002D: '\u2212' // hyphen
  };

  /**
   *  The default font parameters for the font
   */
  public static defaultParams: FontParameters = {
    x_height:         .442,
    quad:             1,
    num1:             .676,
    num2:             .394,
    num3:             .444,
    denom1:           .686,
    denom2:           .345,
    sup1:             .413,
    sup2:             .363,
    sup3:             .289,
    sub1:             .15,
    sub2:             .247,
    sup_drop:         .386,
    sub_drop:         .05,
    delim1:          2.39,
    delim2:          1.0,
    axis_height:      .25,
    rule_thickness:   .06,
    big_op_spacing1:  .111,
    big_op_spacing2:  .167,
    big_op_spacing3:  .2,
    big_op_spacing4:  .6,
    big_op_spacing5:  .1,

    surd_height:      .075,

    scriptspace:         .05,
    nulldelimiterspace:  .12,
    delimiterfactor:     901,
    delimitershortfall:   .3,

    min_rule_thickness:  1.25,     // in pixels
    separation_factor:   1.75,     // expansion factor for spacing e.g. between accents and base
    extra_ic:            .033      // extra spacing for scripts (compensate for not having actual ic values)
  };

  /**
   * The default delimiter data
   */
  protected static defaultDelimiters: DelimiterMap&lt;any&gt; = {};

  /**
   * The default character data
   */
  protected static defaultChars: CharMapMap&lt;any&gt; = {};

  /**
   * The default variants for the fixed size stretchy delimiters
   */
  protected static defaultSizeVariants: string[] = [];

  /**
   * The default variants for the assembly parts for stretchy delimiters
   */
  protected static defaultStretchVariants: string[] = [];

  /**
   * The font options
   */
  protected options: OptionList;

  /**
   * The actual variant information for this font
   */
  protected variant: VariantMap&lt;C, V&gt; = {};

  /**
   * The actual delimiter information for this font
   */
  protected delimiters: DelimiterMap&lt;D&gt; = {};

  /**
   * The actual size variants to use for this font
   */
  protected sizeVariants: string[];

  /**
   * The actual stretchy variants to use for this font
   */
  protected stretchVariants: string[];

  /**
   * The data to use to make variants to default fonts and css for unknown characters
   */
  protected cssFontMap: CssFontMap = {};

  /**
   * A prefix to use for explicit font-family CSS settings
   */
  public cssFamilyPrefix: string;

  /**
   * The character maps
   */
  protected remapChars: RemapMapMap = {};

  /**
   * The actual font parameters for this font
   */
  public params: FontParameters;

  /**
   * Factor by which to multiply italic correction for computation of delta in munderover
   */
  public skewIcFactor: number = .75;

  /**
   * Any styles needed for the font
   */
  protected _styles: StyleList;

  /**
   * @param {CharMap} font   The font to check
   * @param {number} n       The character to get options for
   * @return {CharOptions}   The options for the character
   */
  @others
}

</t>
<t tx="ekr.20211016054411.1756">public static charOptions(font: CharMap&lt;CharOptions&gt;, n: number): CharOptions {
  const char = font[n];
  if (char.length === 3) {
    (char as any)[3] = {};
  }
  return char[3];
}

</t>
<t tx="ekr.20211016054411.1757">/**
 * Copies the data from the defaults to the instance
 *
 * @param {OptionList} options   The options for this font
 *
 * @constructor
 */
constructor(options: OptionList = null) {
  let CLASS = (this.constructor as typeof FontData);
  this.options = userOptions(defaultOptions({}, CLASS.OPTIONS), options);
  this.params = {...CLASS.defaultParams};
  this.sizeVariants = [...CLASS.defaultSizeVariants];
  this.stretchVariants = [...CLASS.defaultStretchVariants];
  this.cssFontMap = {...CLASS.defaultCssFonts};
  for (const name of Object.keys(this.cssFontMap)) {
    if (this.cssFontMap[name][0] === 'unknown') {
      this.cssFontMap[name][0] = this.options.unknownFamily;
    }
  }
  this.cssFamilyPrefix = CLASS.defaultCssFamilyPrefix;
  this.createVariants(CLASS.defaultVariants);
  this.defineDelimiters(CLASS.defaultDelimiters);
  for (const name of Object.keys(CLASS.defaultChars)) {
    this.defineChars(name, CLASS.defaultChars[name]);
  }
  this.defineRemap('accent', CLASS.defaultAccentMap);
  this.defineRemap('mo', CLASS.defaultMoMap);
  this.defineRemap('mn', CLASS.defaultMnMap);
}

/**
 * Returns list of styles needed for the font
 */
get styles(): StyleList {
  return this._styles;
}

/**
 * Sets styles needed for that font.
 */
set styles(style: StyleList) {
  this._styles = style;
}

</t>
<t tx="ekr.20211016054411.1758">/**
 * Creates the data structure for a variant -- an object with
 *   prototype chain that includes a copy of the linked variant,
 *   and then the inherited variant chain.
 *
 *   The reason for this extra link is that for a mathvariant like
 *   bold-italic, you want to inherit from both the bold and
 *   italic variants, but the prototype chain can only inherit
 *   from one. So for bold-italic, we make an object that has a
 *   prototype consisting of a copy of the bold data, and add the
 *   italic data as the prototype chain. (Since this is a copy, we
 *   keep a record of this link so that if bold is changed later,
 *   we can update this copy. That is not needed for the prototype
 *   chain, since the prototypes are the actual objects, not
 *   copies.) We then use this bold-plus-italic object as the
 *   prototype chain for the bold-italic object
 *
 *   That means that bold-italic will first look in its own object
 *   for specifically bold-italic glyphs that are defined there,
 *   then in the copy of the bold glyphs (only its top level is
 *   copied, not its prototype chain), and then the specifically
 *   italic glyphs, and then the prototype chain for italics,
 *   which is the normal glyphs. Effectively, this means
 *   bold-italic looks for bold-italic, then bold, then italic,
 *   then normal glyphs in order to find the given character.
 *
 * @param {string} name     The new variant to create
 * @param {string} inherit  The variant to use if a character is not in this one
 * @param {string} link     A variant to search before the inherit one (but only
 *                           its top-level object).
 */
public createVariant(name: string, inherit: string = null, link: string = null) {
  let variant = {
    linked: [] as CharMap&lt;C&gt;[],
    chars: (inherit ? Object.create(this.variant[inherit].chars) : {}) as CharMap&lt;C&gt;
  } as V;
  if (link &amp;&amp; this.variant[link]) {
    Object.assign(variant.chars, this.variant[link].chars);
    this.variant[link].linked.push(variant.chars);
    variant.chars = Object.create(variant.chars);
  }
  this.remapSmpChars(variant.chars, name);
  this.variant[name] = variant;
}

/**
 * Create the mapping from Basic Latin and Greek blocks to
 * the Math Alphanumeric block for a given variant.
 */
protected remapSmpChars(chars: CharMap&lt;C&gt;, name: string) {
  const CLASS = (this.constructor as typeof FontData);
  if (CLASS.VariantSmp[name]) {
    const SmpRemap = CLASS.SmpRemap;
    const SmpGreek = [null, null, CLASS.SmpRemapGreekU, CLASS.SmpRemapGreekL];
    for (const [i, lo, hi] of CLASS.SmpRanges) {
      const base = CLASS.VariantSmp[name][i];
      if (!base) continue;
      for (let n = lo; n &lt;= hi; n++) {
        if (n === 0x3A2) continue;
        const smp = base + n - lo;
        chars[n] = this.smpChar(SmpRemap[smp] || smp);
      }
      if (SmpGreek[i]) {
        for (const n of Object.keys(SmpGreek[i]).map((x) =&gt; parseInt(x))) {
          chars[n] = this.smpChar(base + SmpGreek[i][n]);
        }
      }
    }
  }
  if (name === 'bold') {
    chars[0x3DC] = this.smpChar(0x1D7CA);
    chars[0x3DD] = this.smpChar(0x1D7CB);
  }
}

/**
 * @param {number} n      Math Alphanumerics position for this remapping
 * @return {CharData&lt;C&gt;}  The character data for the remapping
 */
protected smpChar(n: number): CharData&lt;C&gt; {
  return [ , , , {smp: n} as C];
}

</t>
<t tx="ekr.20211016054411.1759">/**
 * Create a collection of variants
 *
 * @param {string[][]} variants  Array of [name, inherit?, link?] values for
 *                              the variants to define
 */
public createVariants(variants: string[][]) {
  for (const variant of variants) {
    this.createVariant(variant[0], variant[1], variant[2]);
  }
}

</t>
<t tx="ekr.20211016054411.176">
import '../startup/lib/startup.js';
import './preload.js';
import '../core/core.js';
import '../input/mml/mml.js';
import '../output/svg/svg.js';
import '../output/svg/fonts/tex/tex.js';
import '../ui/menu/menu.js';
import '../a11y/assistive-mml/assistive-mml.js';
import '../startup/startup.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1760">/**
 * Defines new character data in a given variant
 *  (We use Object.assign() here rather than the spread operator since
 *  the character maps are objeccts with prototypes, and we don't
 *  want to loose those by doing {...chars} or something similar.)
 *
 * @param {string} name    The variant for these characters
 * @param {CharMap} chars  The characters to define
 */
public defineChars(name: string, chars: CharMap&lt;C&gt;) {
  let variant = this.variant[name];
  Object.assign(variant.chars, chars);
  for (const link of variant.linked) {
    Object.assign(link, chars);
  }
}

</t>
<t tx="ekr.20211016054411.1761">/**
 * Defines stretchy delimiters
 *
 * @param {DelimiterMap} delims  The delimiters to define
 */
public defineDelimiters(delims: DelimiterMap&lt;D&gt;) {
  Object.assign(this.delimiters, delims);
}

</t>
<t tx="ekr.20211016054411.1762">/**
 * Defines a character remapping map
 *
 * @param {string} name     The name of the map to define or augment
 * @param {RemapMap} remap  The characters to remap
 */
public defineRemap(name: string, remap: RemapMap) {
  if (!this.remapChars.hasOwnProperty(name)) {
    this.remapChars[name] = {};
  }
  Object.assign(this.remapChars[name], remap);
}

</t>
<t tx="ekr.20211016054411.1763">/**
 * @param {number} n  The delimiter character number whose data is desired
 * @return {DelimiterData}  The data for that delimiter (or undefined)
 */
public getDelimiter(n: number): DelimiterData {
  return this.delimiters[n];
}

</t>
<t tx="ekr.20211016054411.1764">/**
 * @param {number} n  The delimiter character number whose variant is needed
 * @param {number} i  The index in the size array of the size whose variant is needed
 * @return {string}   The variant of the i-th size for delimiter n
 */
public getSizeVariant(n: number, i: number): string {
  if (this.delimiters[n].variants) {
    i = this.delimiters[n].variants[i];
  }
  return this.sizeVariants[i];
}

</t>
<t tx="ekr.20211016054411.1765">/**
 * @param {number} n  The delimiter character number whose variant is needed
 * @param {number} i  The index in the stretch array of the part whose variant is needed
 * @return {string}   The variant of the i-th part for delimiter n
 */
public getStretchVariant(n: number, i: number): string {
  return this.stretchVariants[this.delimiters[n].stretchv ? this.delimiters[n].stretchv[i] : 0];
}

</t>
<t tx="ekr.20211016054411.1766">/**
 * @param {string} name  The variant whose character data is being querried
 * @param {number} n     The unicode number for the character to be found
 * @return {CharData}    The data for the given character (or undefined)
 */
public getChar(name: string, n: number): CharData&lt;C&gt; {
  return this.variant[name].chars[n];
}

</t>
<t tx="ekr.20211016054411.1767">/**
 * @param {string} name   The name of the variant whose data is to be obtained
 * @return {V}            The data for the requested variant (or undefined)
 */
public getVariant(name: string): V {
  return this.variant[name];
}

</t>
<t tx="ekr.20211016054411.1768">/**
 * @param {string} variant   The name of the variant whose data is to be obtained
 * @return {CssFontData}     The CSS data for the requested variant
 */
public getCssFont(variant: string): CssFontData {
  return this.cssFontMap[variant] || ['serif', false, false];
}

</t>
<t tx="ekr.20211016054411.1769">/**
 * @param {string} family   The font camily to use
 * @return {string}         The family with the css prefix
 */
public getFamily(family: string): string {
  return (this.cssFamilyPrefix ? this.cssFamilyPrefix + ', ' + family : family);
}

</t>
<t tx="ekr.20211016054411.177">
import {Loader} from '../../../js/components/loader.js';

Loader.preLoad(
  'loader', 'startup',
  'core',
  'input/mml',
  'output/svg', 'output/svg/fonts/tex.js',
  'ui/menu', 'a11y/assistive-mml'
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1770">/**
 * @param {string} name   The name of the map to query
 * @param {number} c      The character to remap
 * @return {string}       The remapped character (or the original)
 */
public getRemappedChar(name: string, c: number): string {
  const map = this.remapChars[name] || {} as RemapMap;
  return map[c];
}

</t>
<t tx="ekr.20211016054411.1771">/**
 * The class interface for the FontData class
 *
 * @template C  The CharOptions type
 * @template V  The VariantData type
 * @template D  The DelimiterData type
 */
export interface FontDataClass&lt;C extends CharOptions, V extends VariantData&lt;C&gt;, D extends DelimiterData&gt; {
  OPTIONS: OptionList;
  defaultCssFonts: CssFontMap;
  defaultVariants: string[][];
  defaultParams: FontParameters;
  /* tslint:disable-next-line:jsdoc-require */
  charOptions(font: CharMap&lt;C&gt;, n: number): C;
  new(...args: any[]): FontData&lt;C, V, D&gt;;
}
</t>
<t tx="ekr.20211016054411.1772">


/**
 * @fileoverview  Implements utilities for notations for menclose elements
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper} from './Wrapper.js';
import {CommonMenclose} from './Wrappers/menclose.js';

/*****************************************************************/

export const ARROWX = 4, ARROWDX = 1, ARROWY = 2;  // default relative arrowhead values

export const THICKNESS = .067;  // default rule thickness
export const PADDING = .2;      // default padding

export const SOLID = THICKNESS + 'em solid';  // a solid border

/*****************************************************************/

/**
 * Shorthand for CommonMenclose
 */
export type Menclose = CommonMenclose&lt;any, any, any&gt;;

/**
 * Top, right, bottom, left padding data
 */
export type PaddingData = [number, number, number, number];

/**
 * The functions used for notation definitions
 *
 * @templare N  The DOM node class
 */
export type Renderer&lt;W extends AnyWrapper, N&gt; = (node: W, child: N) =&gt; void;
export type BBoxExtender&lt;W extends AnyWrapper&gt; = (node: W) =&gt; PaddingData;
export type BBoxBorder&lt;W extends AnyWrapper&gt; = (node: W) =&gt; PaddingData;
export type Initializer&lt;W extends AnyWrapper&gt; = (node: W) =&gt; void;

/**
 * The definition of a notation
 *
 * @template W  The menclose wrapper class
 * @templare N  The DOM node class
 */
export type NotationDef&lt;W extends AnyWrapper, N&gt; = {
  renderer: Renderer&lt;W, N&gt;;  // renders the DOM nodes for the notation
  bbox: BBoxExtender&lt;W&gt;;     // gives the offsets to the child bounding box: [top, right, bottom, left]
  border?: BBoxBorder&lt;W&gt;;    // gives the amount of the bbox offset that is due to borders on the child
  renderChild?: boolean;     // true if the notation is used to render the child directly (e.g., radical)
  init?: Initializer&lt;W&gt;;     // function to be called during wrapper construction
  remove?: string;           // list of notations that are suppressed by this one
};

/**
 * For defining notation maps
 *
 * @template W  The menclose wrapper class
 * @templare N  The DOM node class
 */
export type DefPair&lt;W extends AnyWrapper, N&gt; = [string, NotationDef&lt;W, N&gt;];
export type DefList&lt;W extends AnyWrapper, N&gt; = Map&lt;string, NotationDef&lt;W, N&gt;&gt;;

export type DefPairF&lt;T, W extends AnyWrapper, N&gt; = (name: T) =&gt; DefPair&lt;W, N&gt;;

/**
 * The list of notations for an menclose element
 *
 * @template W  The menclose wrapper class
 * @templare N  The DOM node class
 */
export type List&lt;W extends AnyWrapper, N&gt; = {[notation: string]: NotationDef&lt;W, N&gt;};

/*****************************************************************/

/**
 * The names and indices of sides for borders, padding, etc.
 */
export const sideIndex = {top: 0, right: 1, bottom: 2, left: 3};
export type Side = keyof typeof sideIndex;
export const sideNames = Object.keys(sideIndex) as Side[];

/**
 * Common BBox and Border functions
 */
export const fullBBox = ((node) =&gt; new Array(4).fill(node.thickness + node.padding)) as BBoxExtender&lt;Menclose&gt;;
export const fullPadding = ((node) =&gt; new Array(4).fill(node.padding)) as BBoxExtender&lt;Menclose&gt;;
export const fullBorder = ((node) =&gt; new Array(4).fill(node.thickness)) as BBoxBorder&lt;Menclose&gt;;

/*****************************************************************/

/**
 * The length of an arrowhead
 */
export const arrowHead = (node: Menclose) =&gt; {
  return Math.max(node.padding, node.thickness * (node.arrowhead.x + node.arrowhead.dx + 1));
};

/**
 * Adjust short bbox for tall arrow heads
 */
export const arrowBBoxHD = (node: Menclose, TRBL: PaddingData) =&gt; {
  if (node.childNodes[0]) {
    const {h, d} = node.childNodes[0].getBBox();
    TRBL[0] = TRBL[2] = Math.max(0, node.thickness * node.arrowhead.y - (h + d) / 2);
  }
  return TRBL;
};

/**
 * Adjust thin bbox for wide arrow heads
 */
export const arrowBBoxW = (node: Menclose, TRBL: PaddingData) =&gt; {
  if (node.childNodes[0]) {
    const {w} = node.childNodes[0].getBBox();
    TRBL[1] = TRBL[3] = Math.max(0, node.thickness * node.arrowhead.y - w / 2);
  }
  return TRBL;
};

/**
 * The data for horizontal and vertical arrow notations
 *   [angle, double, isVertical, remove]
 */
export const arrowDef = {
  up:        [-Math.PI / 2, false, true,  'verticalstrike'],
  down:      [ Math.PI / 2, false, true,  'verticakstrike'],
  right:     [ 0,           false, false, 'horizontalstrike'],
  left:      [ Math.PI,     false, false, 'horizontalstrike'],
  updown:    [ Math.PI / 2, true,  true,  'verticalstrike uparrow downarrow'],
  leftright: [ 0,           true,  false, 'horizontalstrike leftarrow rightarrow']
} as {[name: string]: [number, boolean, boolean, string]};

/**
 * The data for diagonal arrow notations
 *   [c, pi, double, remove]
 */
export const diagonalArrowDef = {
  updiagonal:         [-1, 0,       false, 'updiagonalstrike northeastarrow'],
  northeast:          [-1, 0,       false, 'updiagonalstrike updiagonalarrow'],
  southeast:          [ 1, 0,       false, 'downdiagonalstrike'],
  northwest:          [ 1, Math.PI, false, 'downdiagonalstrike'],
  southwest:          [-1, Math.PI, false, 'updiagonalstrike'],
  northeastsouthwest: [-1, 0,       true,  'updiagonalstrike northeastarrow updiagonalarrow southwestarrow'],
  northwestsoutheast: [ 1, 0,       true,  'downdiagonalstrike northwestarrow southeastarrow']
} as {[name: string]: [number, number, boolean, string]};

/**
 * The BBox functions for horizontal and vertical arrows
 */
export const arrowBBox = {
  up:    (node) =&gt; arrowBBoxW(node, [arrowHead(node), 0, node.padding, 0]),
  down:  (node) =&gt; arrowBBoxW(node, [node.padding, 0, arrowHead(node), 0]),
  right: (node) =&gt; arrowBBoxHD(node, [0, arrowHead(node), 0, node.padding]),
  left:  (node) =&gt; arrowBBoxHD(node, [0, node.padding, 0, arrowHead(node)]),
  updown:    (node) =&gt; arrowBBoxW(node, [arrowHead(node), 0, arrowHead(node), 0]),
  leftright: (node) =&gt; arrowBBoxHD(node, [0, arrowHead(node), 0, arrowHead(node)])
} as {[name: string]: BBoxExtender&lt;Menclose&gt;};

/*****************************************************************/

/**
 * @param {Renderer} render     The function for adding the border to the node
 * @return {string =&gt; DefPair}  The function returingn the notation definition
 *                              for the notation having a line on the given side
 */
export const CommonBorder = function&lt;W extends Menclose, N&gt;(render: Renderer&lt;W, N&gt;): DefPairF&lt;Side, W, N&gt; {
  /**
   * @param {string} side   The side on which a border should appear
   * @return {DefPair}      The notation definition for the notation having a line on the given side
   */
  return (side: Side) =&gt; {
    const i = sideIndex[side];
    return [side, {
      //
      // Add the border to the main child object
      //
      renderer: render,
      //
      // Indicate the extra space on the given side
      //
      bbox: (node) =&gt; {
        const bbox = [0, 0, 0, 0] as PaddingData;
        bbox[i] = node.thickness + node.padding;
        return bbox;
      },
      //
      // Indicate the border on the given side
      //
      border: (node) =&gt; {
        const bbox = [0, 0, 0, 0] as PaddingData;
        bbox[i] = node.thickness;
        return bbox;
      }
    }];
  };
};

/**
 * @param {Renderer} render                    The function for adding the borders to the node
 * @return {(sring, Side, Side) =&gt; DefPair}    The function returning the notation definition
 *                                             for the notation having lines on two sides
 */
export const CommonBorder2 = function&lt;W extends Menclose, N&gt;(render: Renderer&lt;W, N&gt;):
(name: string, side1: Side, side2: Side) =&gt; DefPair&lt;W, N&gt; {
  /**
   * @param {string} name    The name of the notation to define
   * @param {Side} side1   The first side to get a border
   * @param {Side} side2   The second side to get a border
   * @return {DefPair}       The notation definition for the notation having lines on two sides
   */
  return (name: string, side1: Side, side2: Side) =&gt; {
    const i1 = sideIndex[side1];
    const i2 = sideIndex[side2];
    return [name, {
      //
      // Add the border along the given sides
      //
      renderer: render,
      //
      // Mark the extra space along the two sides
      //
      bbox: (node) =&gt; {
        const t = node.thickness + node.padding;
        const bbox = [0, 0, 0, 0] as PaddingData;
        bbox[i1] = bbox[i2] = t;
        return bbox;
      },
      //
      // Indicate the border on the two sides
      //
      border: (node) =&gt; {
        const bbox = [0, 0, 0, 0] as PaddingData;
        bbox[i1] = bbox[i2] = node.thickness;
        return bbox;
      },
      //
      // Remove the single side notations, if present
      //
      remove: side1 + ' ' + side2
    }];
  };
};

/*****************************************************************/

/**
 * @param {string =&gt; Renderer} render      The function for adding the strike to the node
 * @return {string =&gt; DefPair}   The function returning the notation definition for the diagonal strike
 */
export const CommonDiagonalStrike = function&lt;W extends Menclose, N&gt;(render: (sname: string) =&gt; Renderer&lt;W, N&gt;):
DefPairF&lt;string, W, N&gt; {
  /**
   * @param {string} name  The name of the diagonal strike to define
   * @return {DefPair}     The notation definition for the diagonal strike
   */
  return (name: string) =&gt; {
    const cname = 'mjx-' + name.charAt(0) + 'strike';
    return [name + 'diagonalstrike', {
      //
      // Find the angle and width from the bounding box size and create the diagonal line
      //
      renderer: render(cname),
      //
      //  Add padding all around
      //
      bbox: fullBBox
    }];
  };
};

/*****************************************************************/

/**
 * @param {Renderer} render     The function to add the arrow to the node
 * @return {string =&gt; DefPair}  The funciton returning the notation definition for the diagonal arrow
 */
export const CommonDiagonalArrow = function&lt;W extends Menclose, N&gt;(render: Renderer&lt;W, N&gt;): DefPairF&lt;string, W, N&gt; {
  /**
   * @param {string} name   The name of the diagonal arrow to define
   * @return {DefPair}      The notation definition for the diagonal arrow
   */
  return (name: string) =&gt; {
    const [c, pi, double, remove] = diagonalArrowDef[name];
    return [name + 'arrow', {
      //
      // Find the angle and width from the bounding box size and create
      //   the arrow from them and the other arrow data
      //
      renderer: (node, _child) =&gt; {
        const [a, W] = node.arrowAW();
       const arrow = node.arrow(W, c * (a - pi), double);
        render(node, arrow);
      },
      //
      // Add space for the arrowhead all around
      //
      bbox: (node) =&gt; {
        const {a, x, y} = node.arrowData();
        const [ax, ay, adx] = [node.arrowhead.x, node.arrowhead.y, node.arrowhead.dx];
        const [b, ar] = node.getArgMod(ax + adx, ay);
        const dy = y + (b &gt; a ? node.thickness * ar * Math.sin(b - a) : 0);
        const dx = x + (b &gt; Math.PI / 2 - a ? node.thickness * ar * Math.sin(b + a - Math.PI / 2) : 0);
        return [dy, dx, dy, dx];
      },
      //
      // Remove redundant notations
      //
      remove: remove
    }];
  };
};

/**
 * @param {Renderer} render     The function to add the arrow to the node
 * @return {string =&gt; DefPair}  The function returning the notation definition for the arrow
 */
export const CommonArrow = function&lt;W extends Menclose, N&gt;(render: Renderer&lt;W, N&gt;): DefPairF&lt;string, W, N&gt; {
  /**
   * @param {string} name   The name of the horizontal or vertical arrow to define
   * @return {DefPair}      The notation definition for the arrow
   */
  return (name: string) =&gt; {
    const [angle, double, isVertical, remove] = arrowDef[name];
    return [name + 'arrow', {
      //
      // Get the arrow height and depth from the bounding box and the arrow direction
      //   then create the arrow from that and the other data
      //
      renderer: (node, _child) =&gt; {
        const {w, h, d} = node.getBBox();
        const [W, offset] = (isVertical ? [h + d, 'X'] : [w, 'Y']);
        const dd = node.getOffset(offset);
        const arrow = node.arrow(W, angle, double, offset, dd);
        render(node, arrow);
      },
      //
      // Add the padding to the proper sides
      //
      bbox: arrowBBox[name],
      //
      // Remove redundant notations
      //
      remove: remove
    }];
  };
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1773">


/**
 * @fileoverview  Implements the abstract class for the CommonOutputJax
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AbstractOutputJax} from '../../core/OutputJax.js';
import {MathDocument} from '../../core/MathDocument.js';
import {MathItem, Metrics, STATE} from '../../core/MathItem.js';
import {MmlNode} from '../../core/MmlTree/MmlNode.js';
import {FontData, FontDataClass, CharOptions, DelimiterData, CssFontData} from './FontData.js';
import {OptionList, separateOptions} from '../../util/Options.js';
import {CommonWrapper, AnyWrapper, AnyWrapperClass} from './Wrapper.js';
import {CommonWrapperFactory, AnyWrapperFactory} from './WrapperFactory.js';
import {percent} from '../../util/lengths.js';
import {StyleList, Styles} from '../../util/Styles.js';
import {StyleList as CssStyleList, CssStyles} from '../../util/StyleList.js';

/*****************************************************************/

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1774">export interface ExtendedMetrics extends Metrics {
  family: string;     // the font family for the surrounding text
}

/**
 * Maps linking a node to the test node it contains,
 *  and a map linking a node to the metrics within that node.
 */
export type MetricMap&lt;N&gt; = Map&lt;N, ExtendedMetrics&gt;;
type MetricDomMap&lt;N&gt; = Map&lt;N, N&gt;;

/**
 * Maps for unknown characters
 */
export type UnknownBBox = {w: number, h: number, d: number};
export type UnknownMap = Map&lt;string, UnknownBBox&gt;;
export type UnknownVariantMap = Map&lt;string, UnknownMap&gt;;

/*****************************************************************/

/**
 *  The CommonOutputJax class on which the CHTML and SVG jax are built
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 * @template W  The Wrapper class
 * @template F  The WrapperFactory class
 * @template FD The FontData class
 * @template FC The FontDataClass object
 */
export abstract class CommonOutputJax&lt;
  N, T, D,
  W extends AnyWrapper,
  F extends AnyWrapperFactory,
  FD extends FontData&lt;any, any, any&gt;,
  FC extends FontDataClass&lt;any, any, any&gt;
&gt; extends AbstractOutputJax&lt;N, T, D&gt; {

  /**
   * The name of this output jax
   */
  public static NAME: string = 'Common';

  /**
   * @override
   */
  public static OPTIONS: OptionList = {
      ...AbstractOutputJax.OPTIONS,
    scale: 1,                      // global scaling factor for all expressions
    minScale: .5,                  // smallest scaling factor to use
    mtextInheritFont: false,       // true to make mtext elements use surrounding font
    merrorInheritFont: false,      // true to make merror text use surrounding font
    mtextFont: '',                 // font to use for mtext, if not inheriting (empty means use MathJax fonts)
    merrorFont: 'serif',           // font to use for merror, if not inheriting (empty means use MathJax fonts)
    mathmlSpacing: false,          // true for MathML spacing rules, false for TeX rules
    skipAttributes: {},            // RFDa and other attributes NOT to copy to the output
    exFactor: .5,                  // default size of ex in em units
    displayAlign: 'center',        // default for indentalign when set to 'auto'
    displayIndent: '0',            // default for indentshift when set to 'auto'
    wrapperFactory: null,          // The wrapper factory to use
    font: null,                    // The FontData object to use
    cssStyles: null                // The CssStyles object to use
  };

  /**
   *  The default styles for the output jax
   */
  public static commonStyles: CssStyleList = {};

  /**
   * Used for collecting styles needed for the output jax
   */
  public cssStyles: CssStyles;

  /**
   * The MathDocument for the math we find
   */
  public document: MathDocument&lt;N, T, D&gt;;

  /**
   * the MathItem currently being processed
   */
  public math: MathItem&lt;N, T, D&gt;;

  /**
   * The container element for the math
   */
  public container: N;

  /**
   * The top-level table, if any
   */
  public table: AnyWrapper;

  /**
   * The pixels per em for the math item being processed
   */
  public pxPerEm: number;

  /**
   * The data for the font in use
   */
  public font: FD;

  /**
   * The wrapper factory for the MathML nodes
   */
  public factory: F;

  /**
   * A map from the nodes in the expression currently being processed to the
   * wrapper nodes for them (used by functions like core() to locate the wrappers
   * from the core nodes)
   */
  public nodeMap: Map&lt;MmlNode, W&gt;;

  /**
   * Node used to test for in-line metric data
   */
  public testInline: N;

  /**
   * Node used to test for display metric data
   */
  public testDisplay: N;

  /**
   * Cache of unknonw character bounding boxes for this element
   */
  protected unknownCache: UnknownVariantMap;

  /*****************************************************************/

  /**
   * Get the WrapperFactory and connect it to this output jax
   * Get the cssStyle and font objects
   *
   * @param {OptionList} options         The configuration options
   * @param {CommonWrapperFactory} defaultFactory  The default wrapper factory class
   * @param {FC} defaultFont  The default FontData constructor
   * @constructor
   */
  constructor(options: OptionList = null,
              defaultFactory: typeof CommonWrapperFactory = null,
              defaultFont: FC = null) {
    const [jaxOptions, fontOptions] = separateOptions(options, defaultFont.OPTIONS);
    super(jaxOptions);
    this.factory = this.options.wrapperFactory ||
      new defaultFactory&lt;CommonOutputJax&lt;N, T, D, W, F, FD, FC&gt;, W,
    AnyWrapperClass, CharOptions, DelimiterData, FD&gt;();
    this.factory.jax = this;
    this.cssStyles = this.options.cssStyles || new CssStyles();
    this.font = this.options.font || new defaultFont(fontOptions);
    this.unknownCache = new Map();
  }

  /*****************************************************************/

  
</t>
<t tx="ekr.20211016054411.1775">/**
   * Save the math document
   * Create the mjx-container node
   * Create the DOM output for the root MathML math node in the container
   * Return the container node
   *
   * @override
   */
public typeset(math: MathItem&lt;N, T, D&gt;, html: MathDocument&lt;N, T, D&gt;) {
  this.setDocument(html);
  let node = this.createNode();
  this.toDOM(math, node, html);
  return node;
}

/**
 * @return {N}  The container DOM node for the typeset math
 */
protected createNode(): N {
  const jax = (this.constructor as typeof CommonOutputJax).NAME;
  return this.html('mjx-container', {'class': 'MathJax', jax: jax});
}

/**
 * @param {N} node   The container whose scale is to be set
 */
protected setScale(node: N) {
  const scale = this.math.metrics.scale * this.options.scale;
  if (scale !== 1) {
    this.adaptor.setStyle(node, 'fontSize', percent(scale));
  }
}

</t>
<t tx="ekr.20211016054411.1776">/**
 * Save the math document, if any, and the math item
 * Set the document where HTML nodes will be created via the adaptor
 * Recursively set the TeX classes for the nodes
 * Set the scaling for the DOM node
 * Create the nodeMap (maps MathML nodes to corresponding wrappers)
 * Create the HTML output for the root MathML node in the container
 * Clear the nodeMape
 * Execute the post-filters
 *
 * @param {MathItem} math      The math item to convert
 * @param {N} node             The contaier to place the result into
 * @param {MathDocument} html  The document containing the math
 */
public toDOM(math: MathItem&lt;N, T, D&gt;, node: N, html: MathDocument&lt;N, T, D&gt; = null) {
  this.setDocument(html);
  this.math = math;
  this.pxPerEm = math.metrics.ex / this.font.params.x_height;
  math.root.setTeXclass(null);
  this.setScale(node);
  this.nodeMap = new Map&lt;MmlNode, W&gt;();
  this.container = node;
  this.processMath(math.root, node);
  this.nodeMap = null;
  this.executeFilters(this.postFilters, math, html, node);
}

/**
 * This is the actual typesetting function supplied by the subclass
 *
 * @param {MmlNode} math   The intenral MathML node of the root math element to process
 * @param {N} node         The container node where the math is to be typeset
 */
protected abstract processMath(math: MmlNode, node: N): void;

/*****************************************************************/

</t>
<t tx="ekr.20211016054411.1777">/**
 * @param {MathItem} math      The MathItem to get the bounding box for
 * @param {MathDocument} html  The MathDocument for the math
 */
public getBBox(math: MathItem&lt;N, T, D&gt;, html: MathDocument&lt;N, T, D&gt;) {
  this.setDocument(html);
  this.math = math;
  math.root.setTeXclass(null);
  this.nodeMap = new Map&lt;MmlNode, W&gt;();
  let bbox = this.factory.wrap(math.root).getBBox();
  this.nodeMap = null;
  return bbox;
}

/*****************************************************************/

</t>
<t tx="ekr.20211016054411.1778">/**
 * @override
 */
public getMetrics(html: MathDocument&lt;N, T, D&gt;) {
  this.setDocument(html);
  const adaptor = this.adaptor;
  const maps = this.getMetricMaps(html);
  for (const math of html.math) {
    const parent = adaptor.parent(math.start.node);
    if (math.state() &lt; STATE.METRICS &amp;&amp; parent) {
      const map = maps[math.display ? 1 : 0];
      const {em, ex, containerWidth, lineWidth, scale, family} = map.get(parent);
      math.setMetrics(em, ex, containerWidth, lineWidth, scale);
      if (this.options.mtextInheritFont) {
        math.outputData.mtextFamily = family;
      }
      if (this.options.merrorInheritFont) {
        math.outputData.merrorFamily = family;
      }
      math.state(STATE.METRICS);
    }
  }
}

</t>
<t tx="ekr.20211016054411.1779">/**
 * @param {N} node            The container node whose metrics are to be measured
 * @param {boolean} display   True if the metrics are for displayed math
 * @return {Metrics}          Object containing em, ex, containerWidth, etc.
 */
public getMetricsFor(node: N, display: boolean): ExtendedMetrics {
  const getFamily = (this.options.mtextInheritFont || this.options.merrorInheritFont);
  const test = this.getTestElement(node, display);
  const metrics = this.measureMetrics(test, getFamily);
  this.adaptor.remove(test);
  return metrics;
}

/**
 * Get a MetricMap for the math list
 *
 * @param {MathDocument} html  The math document whose math list is to be processed.
 * @return {MetricMap[]}       The node-to-metrics maps for all the containers that have math
 */
protected getMetricMaps(html: MathDocument&lt;N, T, D&gt;): MetricMap&lt;N&gt;[] {
  const adaptor = this.adaptor;
  const domMaps = [new Map() as MetricDomMap&lt;N&gt;, new Map() as MetricDomMap&lt;N&gt;];
  //
  // Add the test elements all at once (so only one reflow)
  // Currently, we do one test for each container element for in-line and one for display math
  //   (since we need different techniques for the two forms to avoid a WebKit bug).
  //   This may need to be changed to handle floating elements better, since that has to be
  //   done at the location of the math itself, not necessarily the end of the container.
  //
  for (const math of html.math) {
    const node = adaptor.parent(math.start.node);
    if (node &amp;&amp; math.state() &lt; STATE.METRICS) {
      const map = domMaps[math.display ? 1 : 0];
      if (!map.has(node)) {
        map.set(node, this.getTestElement(node, math.display));
      }
    }
  }
  //
  // Measure the metrics for all the mapped elements
  //
  const getFamily = this.options.mtextInheritFont || this.options.merrorInheritFont;
  const maps = [new Map() as MetricMap&lt;N&gt;, new Map() as MetricMap&lt;N&gt;];
  for (const i of maps.keys()) {
    for (const node of domMaps[i].keys()) {
      maps[i].set(node, this.measureMetrics(domMaps[i].get(node), getFamily));
    }
  }
  //
  // Remove the test elements
  //
  for (const i of maps.keys()) {
    for (const node of domMaps[i].values()) {
      adaptor.remove(node);
    }
  }
  return maps;
}

/**
 * @param {N} node    The math element to be measured
 * @return {N}        The test elements that were added
 */
protected getTestElement(node: N, display: boolean): N {
  const adaptor = this.adaptor;
  if (!this.testInline) {
    this.testInline = this.html('mjx-test', {style: {
      display:            'inline-block',
      width:              '100%',
      'font-style':       'normal',
      'font-weight':      'normal',
      'font-size':        '100%',
      'font-size-adjust': 'none',
      'text-indent':      0,
      'text-transform':   'none',
      'letter-spacing':   'normal',
      'word-spacing':     'normal',
      overflow:           'hidden',
      height:             '1px',
      'margin-right':     '-1px'
    }}, [
      this.html('mjx-left-box', {style: {
        display: 'inline-block',
        width: 0,
        'float': 'left'
      }}),
      this.html('mjx-ex-box', {style: {
        position: 'absolute',
        overflow: 'hidden',
        width: '1px', height: '60ex'
      }}),
      this.html('mjx-right-box', {style: {
        display: 'inline-block',
        width: 0,
        'float': 'right'
      }})
    ]);
    this.testDisplay = adaptor.clone(this.testInline);
    adaptor.setStyle(this.testDisplay, 'display', 'table');
    adaptor.setStyle(this.testDisplay, 'margin-right', '');
    adaptor.setStyle(adaptor.firstChild(this.testDisplay) as N, 'display', 'none');
    const right = adaptor.lastChild(this.testDisplay) as N;
    adaptor.setStyle(right, 'display', 'table-cell');
    adaptor.setStyle(right, 'width', '10000em');
    adaptor.setStyle(right, 'float', '');
  }
  return adaptor.append(node, adaptor.clone(display ? this.testDisplay : this.testInline) as N) as N;
}

/**
 * @param {N} node              The test node to measure
 * @param {boolean} getFamily   True if font family of surroundings is to be determined
 * @return {ExtendedMetrics}    The metric data for the given node
 */
protected measureMetrics(node: N, getFamily: boolean): ExtendedMetrics {
  const adaptor = this.adaptor;
  const family = (getFamily ? adaptor.fontFamily(node) : '');
  const em = adaptor.fontSize(node);
  const [w, h] = adaptor.nodeSize(adaptor.childNode(node, 1) as N);
  const ex = (w ? h / 60 : em * this.options.exFactor);
  const containerWidth = (!w ? 1000000 : adaptor.getStyle(node, 'display') === 'table' ?
                          adaptor.nodeSize(adaptor.lastChild(node) as N)[0] - 1 :
                          adaptor.nodeBBox(adaptor.lastChild(node) as N).left -
                          adaptor.nodeBBox(adaptor.firstChild(node) as N).left - 2);
  const scale = Math.max(this.options.minScale,
                         this.options.matchFontHeight ? ex / this.font.params.x_height / em : 1);
  const lineWidth = 1000000;      // no linebreaking (otherwise would be a percentage of cwidth)
  return {em, ex, containerWidth, lineWidth, scale, family};
}

/*****************************************************************/

</t>
<t tx="ekr.20211016054411.178">
const PACKAGE = require('../../webpack.common.js');

module.exports = PACKAGE(
  'mml-svg',                          // the package to build
  '../../../js',                      // location of the MathJax js library
  [],                                 // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1780">/**
 * @override
 */
public styleSheet(html: MathDocument&lt;N, T, D&gt;) {
  this.setDocument(html);
  //
  // Start with the common styles
  //
  this.cssStyles.clear();
  this.cssStyles.addStyles((this.constructor as typeof CommonOutputJax).commonStyles);
  //
  // Add document-specific styles
  //
  if ('getStyles' in html) {
    for (const styles of ((html as any).getStyles() as CssStyleList[])) {
      this.cssStyles.addStyles(styles);
    }
  }
  //
  // Gather the CSS from the classes and font
  //
  this.addWrapperStyles(this.cssStyles);
  this.addFontStyles(this.cssStyles);
  //
  // Create the stylesheet for the CSS
  //
  const sheet = this.html('style', {id: 'MJX-styles'}, [this.text('\n' + this.cssStyles.cssText + '\n')]);
  return sheet as N;
}

/**
 * @param {CssStyles} styles   The style object to add to
 */
protected addFontStyles(styles: CssStyles) {
  styles.addStyles(this.font.styles);
}

/**
 * @param {CssStyles} styles   The style object to add to
 */
protected addWrapperStyles(styles: CssStyles) {
  for (const kind of this.factory.getKinds()) {
    this.addClassStyles(this.factory.getNodeClass(kind), styles);
  }
}

/**
 * @param {typeof CommonWrapper} CLASS  The Wrapper class whose styles are to be added
 * @param {CssStyles} styles            The style object to add to.
 */
protected addClassStyles(CLASS: typeof CommonWrapper, styles: CssStyles) {
  styles.addStyles(CLASS.styles);
}

/*****************************************************************/

/**
 * @param {MathDocument} html  The document to be used
 */
protected setDocument(html: MathDocument&lt;N, T, D&gt;) {
  if (html) {
    this.document = html;
    this.adaptor.document = html.document;
  }
}

</t>
<t tx="ekr.20211016054411.1781">/**
 * @param {string} type      The type of HTML node to create
 * @param {OptionList} def   The properties to set on the HTML node
 * @param {(N|T)[]} content  Array of child nodes to set for the HTML node
 * @param {string} ns        The namespace for the element
 * @return {N}               The newly created DOM tree
 */
public html(type: string, def: OptionList = {}, content: (N | T)[] = [], ns?: string): N {
  return this.adaptor.node(type, def, content, ns);
}

</t>
<t tx="ekr.20211016054411.1782">/**
 * @param {string} text  The text string for which to make a text node
 *
 * @return {T}  A text node with the given text
 */
public text(text: string): T {
  return this.adaptor.text(text);
}

</t>
<t tx="ekr.20211016054411.1783">/**
 * @param {number} m    A number to be shown with a fixed number of digits
 * @param {number=} n   The number of digits to use
 * @return {string}     The formatted number
 */
public fixed(m: number, n: number = 3): string {
  if (Math.abs(m) &lt; .0006) {
    return '0';
  }
  return m.toFixed(n).replace(/\.?0+$/, '');
}

/*****************************************************************/
/*
 *  Methods for handling text that is not in the current MathJax font
 */

/**
 * Create a DOM node for text from a specific CSS font, or that is
 *  not in the current MathJax font
 *
 * @param {string} text        The text to be displayed
 * @param {string} variant     The name of the variant for the text
 * @return {N}                 The text element containing the text
 */
public abstract unknownText(text: string, variant: string): N;

</t>
<t tx="ekr.20211016054411.1784">/**
 * Measure text from a specific font, or that isn't in the MathJax font
 *
 * @param {string} text        The text to measure
 * @param {string} variant     The variant for the text
 * @param {CssFontData} font   The family, italic, and bold data for explicit fonts
 * @return {UnknownBBox}       The width, height, and depth of the text (in ems)
 */
public measureText(text: string, variant: string, font: CssFontData = ['', false, false]): UnknownBBox {
  const node = this.unknownText(text, variant);
  if (variant === '-explicitFont') {
    const styles = this.cssFontStyles(font);
    this.adaptor.setAttributes(node, {style: styles});
  }
  return this.measureTextNodeWithCache(node, text, variant, font);
}

/**
 * Get the size of a text node, caching the result, and using
 *   a cached result, if there is one.
 *
 * @param {N} text         The text element to measure
 * @param {string} chars   The string contained in the text node
 * @param {string} variant     The variant for the text
 * @param {CssFontData} font   The family, italic, and bold data for explicit fonts
 * @return {UnknownBBox}   The width, height and depth for the text
 */
public measureTextNodeWithCache(
  text: N, chars: string, variant: string,
  font: CssFontData = ['', false, false]
): UnknownBBox {
  if (variant === '-explicitFont') {
    variant = [font[0], font[1] ? 'T' : 'F', font[2] ? 'T' : 'F', ''].join('-');
  }
  if (!this.unknownCache.has(variant)) {
    this.unknownCache.set(variant, new Map());
  }
  const map = this.unknownCache.get(variant);
  const cached = map.get(chars);
  if (cached) return cached;
  const bbox = this.measureTextNode(text);
  map.set(chars, bbox);
  return bbox;
}

/**
 * Measure the width of a text element by placing it in the page
 *  and looking up its size (fake the height and depth, since we can't measure that)
 *
 * @param {N} text            The text element to measure
 * @return {UnknownBBox}      The width, height and depth for the text (in ems)
 */
public abstract measureTextNode(text: N): UnknownBBox;

</t>
<t tx="ekr.20211016054411.1785">/**
 * Measure the width, height and depth of an annotation-xml node's content
 *
 * @param{N} xml          The xml content node to be measured
 * @return {UnknownBBox}  The width, height, and depth of the content
 */
public measureXMLnode(xml: N): UnknownBBox {
  const adaptor = this.adaptor;
  const content =  this.html('mjx-xml-block', {style: {display: 'inline-block'}}, [adaptor.clone(xml)]);
  const base = this.html('mjx-baseline', {style: {display: 'inline-block', width: 0, height: 0}});
  const style = {
    position: 'absolute',
    display: 'inline-block',
    'font-family': 'initial',
    'line-height': 'normal'
  };
  const node = this.html('mjx-measure-xml', {style}, [base, content]);
  adaptor.append(adaptor.parent(this.math.start.node), this.container);
  adaptor.append(this.container, node);
  const em = this.math.metrics.em * this.math.metrics.scale;
  const {left, right, bottom, top} = adaptor.nodeBBox(content);
  const w = (right - left) / em;
  const h = (adaptor.nodeBBox(base).top - top) / em;
  const d = (bottom - top) / em - h;
  adaptor.remove(this.container);
  adaptor.remove(node);
  return {w, h, d};
}

</t>
<t tx="ekr.20211016054411.1786">/**
 * @param {CssFontData} font   The family, style, and weight for the given font
 * @param {StyleList} styles   The style object to add the font data to
 * @return {StyleList}         The modified (or initialized) style object
 */
public cssFontStyles(font: CssFontData, styles: StyleList = {}): StyleList {
  const [family, italic, bold] = font;
  styles['font-family'] = this.font.getFamily(family);
  if (italic) styles['font-style'] = 'italic';
  if (bold) styles['font-weight'] = 'bold';
  return styles;
}

</t>
<t tx="ekr.20211016054411.1787">/**
 * @param {Styles} styles   The style object to query
 * @return {CssFontData}    The family, italic, and boolean values
 */
  public getFontData(styles: Styles): CssFontData {
    if (!styles) {
      styles = new Styles();
    }
    return [this.font.getFamily(styles.get('font-family')),
            styles.get('font-style') === 'italic',
            styles.get('font-weight') === 'bold'] as CssFontData;
  }

}
</t>
<t tx="ekr.20211016054411.1788">


/**
 * @fileoverview  Implements the CommonWrapper class
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AbstractWrapper, WrapperClass} from '../../core/Tree/Wrapper.js';
import {PropertyList} from '../../core/Tree/Node.js';
import {MmlNode, TextNode, AbstractMmlNode, indentAttributes} from '../../core/MmlTree/MmlNode.js';
import {MmlMo} from '../../core/MmlTree/MmlNodes/mo.js';
import {Property} from '../../core/Tree/Node.js';
import {unicodeChars} from '../../util/string.js';
import * as LENGTHS from '../../util/lengths.js';
import {Styles} from '../../util/Styles.js';
import {StyleList} from '../../util/StyleList.js';
import {CommonOutputJax} from './OutputJax.js';
import {CommonWrapperFactory} from './WrapperFactory.js';
import {BBox} from '../../util/BBox.js';
import {FontData, DelimiterData, CharData, CharOptions, DIRECTION, NOSTRETCH} from './FontData.js';

/*****************************************************************/

/**
 * Shorthand for a dictionary object (an object of key:value pairs)
 */
export type StringMap = {[key: string]: string};

/**
 * MathML spacing rules
 */
/* tslint:disable-next-line:whitespace */
const SMALLSIZE = 2/18;

/**
 * @param {boolean} script   The scriptlevel
 * @param {number} size      The space size
 * @return {number}          The size clamped to SMALLSIZE when scriptlevel &gt; 0
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1789">function MathMLSpace(script: boolean, size: number): number {
  return (script ? size &lt; SMALLSIZE ? 0 : SMALLSIZE : size);
}

export type Constructor&lt;T&gt; = new(...args: any[]) =&gt; T;

/**
 * Shorthands for wrappers and their constructors
 */
export type AnyWrapper = CommonWrapper&lt;any, any, any, any, any, any&gt;;
export type AnyWrapperClass = CommonWrapperClass&lt;any, any, any, any, any, any&gt;;
export type WrapperConstructor = Constructor&lt;AnyWrapper&gt;;

/*********************************************************/
/**
 *  The CommonWrapper class interface
 *
 * @template J  The OutputJax type
 * @template W  The Wrapper type
 * @template C  The WrapperClass type
 * @template CC The CharOptions type
 * @template FD The FontData type
 */
export interface CommonWrapperClass&lt;
  J extends CommonOutputJax&lt;any, any, any, W, CommonWrapperFactory&lt;J, W, C, CC, DD, FD&gt;, FD, any&gt;,
  W extends CommonWrapper&lt;J, W, C, CC, DD, FD&gt;,
  C extends CommonWrapperClass&lt;J, W, C, CC, DD, FD&gt;,
  CC extends CharOptions,
  DD extends DelimiterData,
  FD extends FontData&lt;CC, any, DD&gt;
&gt; extends WrapperClass&lt;MmlNode, CommonWrapper&lt;J, W, C, CC, DD, FD&gt;&gt; {
  /**
   * @override
   */
  new(factory: CommonWrapperFactory&lt;J, W, C, CC, DD, FD&gt;, node: MmlNode, ...args: any[]): W;
}

/*****************************************************************/
/**
 *  The base CommonWrapper class
 *
 * @template J  The OutputJax type
 * @template W  The Wrapper type
 * @template C  The WrapperClass type
 * @template CC The CharOptions type
 * @template FD The FontData type
 */
export class CommonWrapper&lt;
  J extends CommonOutputJax&lt;any, any, any, W, CommonWrapperFactory&lt;J, W, C, CC, DD, FD&gt;, FD, any&gt;,
  W extends CommonWrapper&lt;J, W, C, CC, DD, FD&gt;,
  C extends CommonWrapperClass&lt;J, W, C, CC, DD, FD&gt;,
  CC extends CharOptions,
  DD extends DelimiterData,
  FD extends FontData&lt;CC, any, DD&gt;
&gt; extends AbstractWrapper&lt;MmlNode, CommonWrapper&lt;J, W, C, CC, DD, FD&gt;&gt; {

  /**
   * The wrapper kind
   */
  public static kind: string = 'unknown';

  /**
   * Any styles needed for the class
   */
  public static styles: StyleList = {};

  /**
   * Styles that should not be passed on from style attribute
   */
  public static removeStyles: string[] = [
    'fontSize', 'fontFamily', 'fontWeight',
    'fontStyle', 'fontVariant', 'font'
  ];

  /**
   * Non-MathML attributes on MathML elements NOT to be copied to the
   * corresponding DOM elements.  If set to false, then the attribute
   * WILL be copied.  Most of these (like the font attributes) are handled
   * in other ways.
   */
  public static skipAttributes: {[name: string]: boolean} = {
    fontfamily: true, fontsize: true, fontweight: true, fontstyle: true,
    color: true, background: true,
    'class': true, href: true, style: true,
    xmlns: true
  };

  /**
   * The translation of mathvariant to bold styles, or to remove
   * bold from a mathvariant.
   */
  public static BOLDVARIANTS: {[name: string]: StringMap} =  {
    bold: {
      normal: 'bold',
      italic: 'bold-italic',
      fraktur: 'bold-fraktur',
      script: 'bold-script',
      'sans-serif': 'bold-sans-serif',
      'sans-serif-italic': 'sans-serif-bold-italic'
    },
    normal: {
      bold: 'normal',
      'bold-italic': 'italic',
      'bold-fraktur': 'fraktur',
      'bold-script': 'script',
      'bold-sans-serif': 'sans-serif',
      'sans-serif-bold-italic': 'sans-serif-italic'
    }
  };

  /**
   * The translation of mathvariant to italic styles, or to remove
   * italic from a mathvariant.
   */
  public static ITALICVARIANTS: {[name: string]: StringMap} = {
    italic: {
      normal: 'italic',
      bold: 'bold-italic',
      'sans-serif': 'sans-serif-italic',
      'bold-sans-serif': 'sans-serif-bold-italic'
    },
    normal: {
      italic: 'normal',
      'bold-italic': 'bold',
      'sans-serif-italic': 'sans-serif',
      'sans-serif-bold-italic': 'bold-sans-serif'
    }
  };

  /**
   * The factory used to create more wrappers
   */
  protected factory: CommonWrapperFactory&lt;J, W, C, CC, DD, FD&gt;;

  /**
   * The parent of this node
   */
  public parent: W = null;

  /**
   * The children of this node
   */
  public childNodes: W[];

  /**
   * Styles that must be handled directly by the wrappers (mostly having to do with fonts)
   */
  protected removedStyles: StringMap = null;

  /**
   * The explicit styles set by the node
   */
  protected styles: Styles = null;

  /**
   * The mathvariant for this node
   */
  public variant: string = '';

  /**
   * The bounding box for this node
   */
  public bbox: BBox;
  /**
   * Whether the bounding box has been computed yet
   */
  protected bboxComputed: boolean = false;

  /**
   * Delimiter data for stretching this node (NOSTRETCH means not yet determined)
   */
  public stretch: DD = NOSTRETCH as DD;

  /**
   * Easy access to the font parameters
   */
  public font: FD = null;

  /**
   * Easy access to the output jax for this node
   */
  get jax() {
    return this.factory.jax;
  }

  /**
   * Easy access to the DOMAdaptor object
   */
  get adaptor() {
    return this.factory.jax.adaptor;
  }

  /**
   * Easy access to the metric data for this node
   */
  get metrics() {
    return this.factory.jax.math.metrics;
  }

  /**
   * True if children with percentage widths should be resolved by this container
   */
  get fixesPWidth() {
    return !this.node.notParent &amp;&amp; !this.node.isToken;
  }

  /*******************************************************************/

  
</t>
<t tx="ekr.20211016054411.179"></t>
<t tx="ekr.20211016054411.1790">/**
   * @override
   */
constructor(factory: CommonWrapperFactory&lt;J, W, C, CC, DD, FD&gt;, node: MmlNode, parent: W = null) {
  super(factory, node);
  this.parent = parent;
  this.font = factory.jax.font;
  this.bbox = BBox.zero();
  this.getStyles();
  this.getVariant();
  this.getScale();
  this.getSpace();
  this.childNodes = node.childNodes.map((child: MmlNode) =&gt; {
    const wrapped = this.wrap(child);
    if (wrapped.bbox.pwidth &amp;&amp; (node.notParent || node.isKind('math'))) {
      this.bbox.pwidth = BBox.fullWidth;
    }
    return wrapped;
  });
}

</t>
<t tx="ekr.20211016054411.1791">/**
 * @param {MmlNode} node  The node to the wrapped
 * @param {W} parent  The wrapped parent node
 * @return {W}  The newly wrapped node
 */
public wrap(node: MmlNode, parent: W = null): W {
  const wrapped = this.factory.wrap(node, parent || this);
  if (parent) {
    parent.childNodes.push(wrapped);
  }
  this.jax.nodeMap.set(node, wrapped);
  return wrapped;
}

/*******************************************************************/
</t>
<t tx="ekr.20211016054411.1792">/**
 * Return the wrapped node's bounding box, either the cached one, if it exists,
 *   or computed directly if not.
 *
 * @param {boolean} save  Whether to cache the bbox or not (used for stretchy elements)
 * @return {BBox}  The computed bounding box
 */
public getBBox(save: boolean = true): BBox {
  if (this.bboxComputed) {
    return this.bbox;
  }
  const bbox = (save ? this.bbox : BBox.zero());
  this.computeBBox(bbox);
  this.bboxComputed = save;
  return bbox;
}

/**
 * @param {BBox} bbox           The bounding box to modify (either this.bbox, or an empty one)
 * @param {boolean} recompute   True if we are recomputing due to changes in children that have percentage widths
 */
protected computeBBox(bbox: BBox, recompute: boolean = false) {
  bbox.empty();
  for (const child of this.childNodes) {
    bbox.append(child.getBBox());
  }
  bbox.clean();
  if (this.fixesPWidth &amp;&amp; this.setChildPWidths(recompute)) {
    this.computeBBox(bbox, true);
  }
}

</t>
<t tx="ekr.20211016054411.1793">/**
 * Recursively resolve any percentage widths in the child nodes using the given
 *   container width (or the child width, if none was passed).
 *   Overriden for mtables in order to compute the width.
 *
 * @param {boolean} recompute  True if we are recomputing due to changes in children
 * @param {(number|null)=} w   The width of the container (from which percentages are computed)
 * @param {boolean=} clear     True if pwidth marker is to be cleared
 * @return {boolean}           True if a percentage width was found
 */
public setChildPWidths(recompute: boolean, w: (number | null) = null, clear: boolean = true): boolean {
  if (recompute) {
    return false;
  }
  if (clear) {
    this.bbox.pwidth = '';
  }
  let changed = false;
  for (const child of this.childNodes) {
    const cbox = child.getBBox();
    if (cbox.pwidth &amp;&amp; child.setChildPWidths(recompute, w === null ? cbox.w : w, clear)) {
      changed = true;
    }
  }
  return changed;
}

</t>
<t tx="ekr.20211016054411.1794">/**
 * Mark BBox to be computed again (e.g., when an mo has stretched)
 */
public invalidateBBox() {
  if (this.bboxComputed) {
    this.bboxComputed = false;
    if (this.parent) {
      this.parent.invalidateBBox();
    }
  }
}

/**
 * Copy child skew and italic correction
 *
 * @param {BBox} bbox  The bounding box to modify
 */
protected copySkewIC(bbox: BBox) {
  const first = this.childNodes[0];
  if (first?.bbox.sk) {
    bbox.sk = first.bbox.sk;
  }
  if (first?.bbox.dx) {
    bbox.dx = first.bbox.dx;
  }
  const last = this.childNodes[this.childNodes.length - 1];
  if (last?.bbox.ic) {
    bbox.ic = last.bbox.ic;
    bbox.w += bbox.ic;
  }
}

/*******************************************************************/

/**
 * Add the style attribute, but remove any font-related styles
 *   (since these are handled separately by the variant)
 */
protected getStyles() {
  const styleString = this.node.attributes.getExplicit('style') as string;
  if (!styleString) return;
  const style = this.styles = new Styles(styleString);
  for (let i = 0, m = CommonWrapper.removeStyles.length; i &lt; m; i++) {
    const id = CommonWrapper.removeStyles[i];
    if (style.get(id)) {
      if (!this.removedStyles) this.removedStyles = {};
      this.removedStyles[id] = style.get(id);
      style.set(id, '');
    }
  }
}

/**
 * Get the mathvariant (or construct one, if needed).
 */
protected getVariant() {
  if (!this.node.isToken) return;
  const attributes = this.node.attributes;
  let variant = attributes.get('mathvariant') as string;
  if (!attributes.getExplicit('mathvariant')) {
    const values = attributes.getList('fontfamily', 'fontweight', 'fontstyle') as StringMap;
    if (this.removedStyles) {
      const style = this.removedStyles;
      if (style.fontFamily) values.family = style.fontFamily;
      if (style.fontWeight) values.weight = style.fontWeight;
      if (style.fontStyle)  values.style  = style.fontStyle;
    }
    if (values.fontfamily) values.family = values.fontfamily;
    if (values.fontweight) values.weight = values.fontweight;
    if (values.fontstyle)  values.style  = values.fontstyle;
    if (values.weight &amp;&amp; values.weight.match(/^\d+$/)) {
      values.weight = (parseInt(values.weight) &gt; 600 ? 'bold' : 'normal');
    }
    if (values.family) {
      variant = this.explicitVariant(values.family, values.weight, values.style);
    } else {
      if (this.node.getProperty('variantForm')) variant = '-tex-variant';
      variant = (CommonWrapper.BOLDVARIANTS[values.weight] || {})[variant] || variant;
      variant = (CommonWrapper.ITALICVARIANTS[values.style] || {})[variant] || variant;
    }
  }
  this.variant = variant;
}

/**
 * Set the CSS for a token element having an explicit font (rather than regular mathvariant).
 *
 * @param {string} fontFamily  The font family to use
 * @param {string} fontWeight  The font weight to use
 * @param {string} fontStyle   The font style to use
 */
protected explicitVariant(fontFamily: string, fontWeight: string, fontStyle: string) {
  let style = this.styles;
  if (!style) style = this.styles = new Styles();
  style.set('fontFamily', fontFamily);
  if (fontWeight) style.set('fontWeight', fontWeight);
  if (fontStyle)  style.set('fontStyle', fontStyle);
  return '-explicitFont';
}

/**
 * Determine the scaling factor to use for this wrapped node, and set the styles for it.
 */
protected getScale() {
  let scale = 1, parent = this.parent;
  let pscale = (parent ? parent.bbox.scale : 1);
  let attributes = this.node.attributes;
  let scriptlevel = Math.min(attributes.get('scriptlevel') as number, 2);
  let fontsize = attributes.get('fontsize');
  let mathsize = (this.node.isToken || this.node.isKind('mstyle') ?
                  attributes.get('mathsize') : attributes.getInherited('mathsize'));
  //
  // If scriptsize is non-zero, set scale based on scriptsizemultiplier
  //
  if (scriptlevel !== 0) {
    scale = Math.pow(attributes.get('scriptsizemultiplier') as number, scriptlevel);
    let scriptminsize = this.length2em(attributes.get('scriptminsize'), .8, 1);
    if (scale &lt; scriptminsize) scale = scriptminsize;
  }
  //
  // If there is style="font-size:...", and not fontsize attribute, use that as fontsize
  //
  if (this.removedStyles &amp;&amp; this.removedStyles.fontSize &amp;&amp; !fontsize) {
    fontsize = this.removedStyles.fontSize;
  }
  //
  // If there is a fontsize and no mathsize attribute, is that
  //
  if (fontsize &amp;&amp; !attributes.getExplicit('mathsize')) {
    mathsize = fontsize;
  }
  //
  //  Incorporate the mathsize, if any
  //
  if (mathsize !== '1') {
    scale *= this.length2em(mathsize, 1, 1);
  }
  //
  // Record the scaling factors and set the element's CSS
  //
  this.bbox.scale = scale;
  this.bbox.rscale = scale / pscale;
}

/**
 * Sets the spacing based on TeX or MathML algorithm
 */
protected getSpace() {
  const isTop = this.isTopEmbellished();
  const hasSpacing = this.node.hasSpacingAttributes();
  if (this.jax.options.mathmlSpacing || hasSpacing) {
    isTop &amp;&amp; this.getMathMLSpacing();
  } else {
    this.getTeXSpacing(isTop, hasSpacing);
  }
}

/**
 * Get the spacing using MathML rules based on the core MO
 */
protected getMathMLSpacing() {
  const node = this.node.coreMO() as MmlMo;
  //
  // If the mo is not within a multi-node mrow, don't add space
  //
  const child = node.coreParent();
  const parent = child.parent;
  if (!parent || !parent.isKind('mrow') || parent.childNodes.length === 1) return;
  //
  // Get the lspace and rspace
  //
  const attributes = node.attributes;
  const isScript = (attributes.get('scriptlevel') &gt; 0);
  this.bbox.L = (attributes.isSet('lspace') ?
                 Math.max(0, this.length2em(attributes.get('lspace'))) :
                 MathMLSpace(isScript, node.lspace));
  this.bbox.R = (attributes.isSet('rspace') ?
                 Math.max(0, this.length2em(attributes.get('rspace'))) :
                 MathMLSpace(isScript, node.rspace));
  //
  // If there are two adjacent &lt;mo&gt;, use enough left space to make it
  //   the maximum of the rspace of the first and lspace of the second
  //
  const n = parent.childIndex(child);
  if (n === 0) return;
  const prev = parent.childNodes[n - 1] as AbstractMmlNode;
  if (!prev.isEmbellished) return;
  const bbox = this.jax.nodeMap.get(prev).getBBox();
  if (bbox.R) {
    this.bbox.L = Math.max(0, this.bbox.L - bbox.R);
  }
}

/**
 * Get the spacing using the TeX rules
 *
 * @parm {boolean} isTop       True when this is a top-level embellished operator
 * @parm {boolean} hasSpacing  True when there is an explicit or inherited 'form' attribute
 */
protected getTeXSpacing(isTop: boolean, hasSpacing: boolean) {
  if (!hasSpacing) {
    const space = this.node.texSpacing();
    if (space) {
      this.bbox.L = this.length2em(space);
    }
  }
  if (isTop || hasSpacing) {
    const attributes = this.node.coreMO().attributes;
    if (attributes.isSet('lspace')) {
      this.bbox.L = Math.max(0, this.length2em(attributes.get('lspace')));
    }
    if (attributes.isSet('rspace')) {
      this.bbox.R = Math.max(0, this.length2em(attributes.get('rspace')));
    }
  }
}

/**
 * @return {boolean}   True if this is the top-most container of an embellished operator that is
 *                       itself an embellished operator (the maximal embellished operator for its core)
 */
protected isTopEmbellished(): boolean {
  return (this.node.isEmbellished &amp;&amp;
          !(this.node.parent &amp;&amp; this.node.parent.isEmbellished));
}

/*******************************************************************/

</t>
<t tx="ekr.20211016054411.1795">/**
 * @return {CommonWrapper}  The wrapper for this node's core node
 */
public core(): CommonWrapper&lt;J, W, C, CC, DD, FD&gt; {
  return this.jax.nodeMap.get(this.node.core());
}

</t>
<t tx="ekr.20211016054411.1796">/**
 * @return {CommonWrapper}  The wrapper for this node's core &lt;mo&gt; node
 */
public coreMO(): CommonWrapper&lt;J, W, C, CC, DD, FD&gt; {
  return this.jax.nodeMap.get(this.node.coreMO());
}

</t>
<t tx="ekr.20211016054411.1797">/**
 * @return {string}  For a token node, the combined text content of the node's children
 */
public getText(): string {
  let text = '';
  if (this.node.isToken) {
    for (const child of this.node.childNodes) {
      if (child instanceof TextNode) {
        text += child.getText();
      }
    }
  }
  return text;
}

</t>
<t tx="ekr.20211016054411.1798">/**
 * @param {DIRECTION} direction  The direction to stretch this node
 * @return {boolean}             Whether the node can stretch in that direction
 */
public canStretch(direction: DIRECTION): boolean {
  this.stretch = NOSTRETCH as DD;
  if (this.node.isEmbellished) {
    let core = this.core();
    if (core &amp;&amp; core.node !== this.node) {
      if (core.canStretch(direction)) {
        this.stretch = core.stretch;
      }
    }
  }
  return this.stretch.dir !== DIRECTION.None;
}

/**
 * @return {[string, number]}  The alignment and indentation shift for the expression
 */
protected getAlignShift(): [string, number] {
  let {indentalign, indentshift, indentalignfirst, indentshiftfirst} =
    this.node.attributes.getList(...indentAttributes) as StringMap;
  if (indentalignfirst !== 'indentalign') {
    indentalign = indentalignfirst;
  }
  if (indentalign === 'auto') {
    indentalign = this.jax.options.displayAlign;
  }
  if (indentshiftfirst !== 'indentshift') {
    indentshift = indentshiftfirst;
  }
  if (indentshift === 'auto') {
    indentshift = this.jax.options.displayIndent;
    if (indentalign === 'right' &amp;&amp; !indentshift.match(/^\s*0[a-z]*\s*$/)) {
      indentshift = ('-' + indentshift.trim()).replace(/^--/, '');
    }
  }
  const shift = this.length2em(indentshift, this.metrics.containerWidth);
  return [indentalign, shift] as [string, number];
}

/**
 * @param {number} W       The total width
 * @param {BBox} bbox      The bbox to be aligned
 * @param {string} align   How to align (left, center, right)
 * @return {number}        The x position of the aligned width
 */
protected getAlignX(W: number, bbox: BBox, align: string): number {
  return (align === 'right' ? W - (bbox.w + bbox.R) * bbox.rscale :
          align === 'left' ? bbox.L * bbox.rscale :
          (W - bbox.w * bbox.rscale) / 2);
}

/**
 * @param {number} H        The total height
 * @param {number} D        The total depth
 * @param {number} h        The height to be aligned
 * @param {number} d        The depth to be aligned
 * @param {string} align    How to align (top, bottom, center, axis, baseline)
 * @return {number}         The y position of the aligned baseline
 */
protected getAlignY(H: number, D: number, h: number, d: number, align: string): number {
  return (align === 'top' ? H - h :
          align === 'bottom' ? d - D :
          align === 'center' ? ((H - h) - (D - d)) / 2 :
          0); // baseline and axis
}

</t>
<t tx="ekr.20211016054411.1799">/**
 * @param {number} i   The index of the child element whose container is needed
 * @return {number}    The inner width as a container (for percentage widths)
 */
public getWrapWidth(i: number): number {
  return this.childNodes[i].getBBox().w;
}

</t>
<t tx="ekr.20211016054411.18"></t>
<t tx="ekr.20211016054411.180">


const path = eval("require('path')");  // use actual node version, not webpack's version

/*
 * Load the needed MathJax components
 */
require('../startup/lib/startup.js');
const {Loader, CONFIG} = require('../../../js/components/loader.js');
const {combineDefaults, combineConfig} = require('../../../js/components/global.js');
const {dependencies, paths, provides} = require('../dependencies.js');

/*
 * Set up the initial configuration
 */
combineDefaults(MathJax.config, 'loader', {
  require: eval('require'),      // use node's require() to load files
  failed: (err) =&gt; {throw err}   // pass on error message to init()'s catch function
});
combineDefaults(MathJax.config.loader, 'dependencies', dependencies);
combineDefaults(MathJax.config.loader, 'paths', paths);
combineDefaults(MathJax.config.loader, 'provides', provides);

/*
 * Preload core and liteDOM adaptor (needed for node)
 */
Loader.preLoad('loader', 'startup', 'core', 'adaptors/liteDOM');
require('../core/core.js');
require('../adaptors/liteDOM/liteDOM.js');

/*
 * Set the mathjax root path to the location where node-main.js was loaded from,
 * using the actual node __dirname, not the webpack one, and removing
 * the directory if we are loaded from components/src/node-main.
 */
const dir = CONFIG.paths.mathjax = eval('__dirname');
if (path.basename(dir) === 'node-main') {
  CONFIG.paths.mathjax = path.dirname(dir);
  combineDefaults(CONFIG, 'source', require('../source.js').source);
  //
  //  Set the asynchronous loader to use the js directory, so we can load
  //  other files like entity definitions
  //
  const ROOT = path.resolve(dir, '../../../js');
  const REQUIRE = MathJax.config.loader.require;
  @others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1800">/**
 * @param {number} i   The index of the child element whose container is needed
 * @return {string}    The alignment child element
 */
public getChildAlign(_i: number): string {
  return 'left';
}

/*******************************************************************/
/*
 * Easy access to some utility routines
 */

/**
 * @param {number} m  A number to be shown as a percent
 * @return {string}  The number m as a percent
 */
protected percent(m: number): string {
  return LENGTHS.percent(m);
}

/**
 * @param {number} m  A number to be shown in ems
 * @return {string}  The number with units of ems
 */
protected em(m: number): string {
  return LENGTHS.em(m);
}

/**
 * @param {number} m   A number of em's to be shown as pixels
 * @param {number} M   The minimum number of pixels to allow
 * @return {string}  The number with units of px
 */
protected px(m: number, M: number = -LENGTHS.BIGDIMEN): string {
  return LENGTHS.px(m, M, this.metrics.em);
}

/**
 * @param {Property} length  A dimension (giving number and units) or number to be converted to ems
 * @param {number} size  The default size of the dimension (for percentage values)
 * @param {number} scale  The current scaling factor (to handle absolute units)
 * @return {number}  The dimension converted to ems
 */
protected length2em(length: Property, size: number = 1, scale: number = null): number {
  if (scale === null) {
    scale = this.bbox.scale;
  }
  return LENGTHS.length2em(length as string, size, scale, this.jax.pxPerEm);
}

/**
 * @param {string} text   The text to turn into unicode locations
 * @param {string} name   The name of the variant for the characters
 * @return {number[]}     Array of numbers represeting the string's unicode character positions
 */
protected unicodeChars(text: string, name: string = this.variant): number[] {
  let chars = unicodeChars(text);
  //
  //  Remap to Math Alphanumerics block
  //
  const variant = this.font.getVariant(name);
  if (variant &amp;&amp; variant.chars) {
    const map = variant.chars;
    //
    //  Is map[n] doesn't exist, (map[n] || []) still gives an CharData array.
    //  If the array doesn't have a CharOptions element use {} instead.
    //  Then check if the options has an smp property, which gives
    //    the Math Alphabet mapping for this character.
    //  Otherwise use the original code point, n.
    //
    chars = chars.map((n) =&gt; ((map[n] || [])[3] || {}).smp || n);
  }
  return chars;
}

</t>
<t tx="ekr.20211016054411.1801">/**
 * @param {number[]} chars    The array of unicode character numbers to remap
 * @return {number[]}         The converted array
 */
public remapChars(chars: number[]): number[] {
  return chars;
}

</t>
<t tx="ekr.20211016054411.1802">/**
 * @param {string} text   The text from which to create a TextNode object
 * @return {TextNode}     The TextNode with the given text
 */
public mmlText(text: string): TextNode {
  return ((this.node as AbstractMmlNode).factory.create('text') as TextNode).setText(text);
}

</t>
<t tx="ekr.20211016054411.1803">/**
 * @param {string} kind             The kind of MmlNode to create
 * @param {ProperyList} properties  The properties to set initially
 * @param {MmlNode[]} children      The child nodes to add to the created node
 * @return {MmlNode}                The newly created MmlNode
 */
  public mmlNode(kind: string, properties: PropertyList = {}, children: MmlNode[] = []): MmlNode {
    return (this.node as AbstractMmlNode).factory.create(kind, properties, children);
  }

  /**
   * Create an mo wrapper with the given text,
   *   link it in, and give it the right defaults.
   *
   * @param {string} text     The text for the wrapped element
   * @return {CommonWrapper}  The wrapped MmlMo node
   */
  protected createMo(text: string): CommonWrapper&lt;J, W, C, CC, DD, FD&gt; {
    const mmlFactory = (this.node as AbstractMmlNode).factory;
    const textNode = (mmlFactory.create('text') as TextNode).setText(text);
    const mml = mmlFactory.create('mo', {stretchy: true}, [textNode]);
    mml.inheritAttributesFrom(this.node);
    const node = this.wrap(mml);
    node.parent = this as any as W;
    return node;
  }

  /**
   * @param {string} variant   The variant in which to look for the character
   * @param {number} n         The number of the character to look up
   * @return {CharData}        The full CharData object, with CharOptions guaranteed to be defined
   */
  protected getVariantChar(variant: string, n: number): CharData&lt;CC&gt; {
    const char = this.font.getChar(variant, n) || [0, 0, 0, {unknown: true} as CC];
    if (char.length === 3) {
      (char as any)[3] = {};
    }
    return char as [number, number, number, CC];
  }

}
</t>
<t tx="ekr.20211016054411.1804">


/**
 * @fileoverview  Implements the OutputWrapperFactory class
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CommonOutputJax} from './OutputJax.js';
import {AbstractWrapperFactory} from '../../core/Tree/WrapperFactory.js';
import {CommonWrapper, CommonWrapperClass} from './Wrapper.js';
import {CharOptions, DelimiterData, FontData} from './FontData.js';
import {MmlNode} from '../../core/MmlTree/MmlNode.js';

/*****************************************************************/
/**
 *  The OutputWrapperFactory class for creating OutputWrapper nodes
 *
 * @template J  The OutputJax type
 * @template W  The Wrapper type
 * @template C  The WrapperClass type
 * @template CC The CharOptions type
 * @template FD The FontData type
 */
export class CommonWrapperFactory&lt;
  J extends CommonOutputJax&lt;any, any, any, W, CommonWrapperFactory&lt;J, W, C, CC, DD, FD&gt;, FD, any&gt;,
  W extends CommonWrapper&lt;J, W, C, CC, DD, FD&gt;,
  C extends CommonWrapperClass&lt;J, W, C, CC, DD, FD&gt;,
  CC extends CharOptions,
  DD extends DelimiterData,
  FD extends FontData&lt;CC, any, DD&gt;
&gt; extends AbstractWrapperFactory&lt;MmlNode, W, C&gt; {

  /**
   * The default list of wrapper nodes this factory can create
   *   (filled in by subclasses)
   */
  public static defaultNodes: {[kind: string]: CommonWrapperClass&lt;any, any, any, any, any, any&gt;} = {};

  /**
   * The output jax associated with this factory
   */
  public jax: J = null;

  /**
   * @return {Object}  The list of node-creation functions
   */
  get Wrappers(): Object {
    return this.node;
  }

}

export type AnyWrapperFactory = CommonWrapperFactory&lt;any, any, any, any, any, any&gt;;
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1805"></t>
<t tx="ekr.20211016054411.1806">


/**
 * @fileoverview  Implements the CommonMaction wrapper mixin for the MmlMaction object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor, AnyWrapperClass} from '../Wrapper.js';
import {MmlMaction} from '../../../core/MmlTree/MmlNodes/maction.js';
import {BBox} from '../../../util/BBox.js';
import {split} from '../../../util/string.js';

/*****************************************************************/
/**
 * The types needed to define the actiontypes
 *
 * @template W  The maction wrapper type
 */
export type ActionData = {[name: string]: any};
export type ActionHandler&lt;W extends AnyWrapper&gt; = (node: W, data?: ActionData) =&gt; void;
export type ActionPair&lt;W extends AnyWrapper&gt; = [ActionHandler&lt;W&gt;, ActionData];
export type ActionMap&lt;W extends AnyWrapper&gt; = Map&lt;string, ActionPair&lt;W&gt;&gt;;
export type ActionDef&lt;W extends AnyWrapper&gt; = [string, [ActionHandler&lt;W&gt;, ActionData]];

export type EventHandler = (event: Event) =&gt; void;

/**
 * Data used for tooltip actions
 */
export const TooltipData = {
  dx: '.2em',          // x-offset of tooltip from right side of maction bbox
  dy: '.1em',          // y-offset of tooltip from bottom of maction bbox

  postDelay: 600,      // milliseconds before tooltip posts
  clearDelay: 100,     // milliseconds before tooltip is removed

  hoverTimer: new Map&lt;any, number&gt;(),    // timers for posting tooltips
  clearTimer: new Map&lt;any, number&gt;(),    // timers for removing tooltips

  /*
   * clear the timers if any are active
   */
  stopTimers: (node: any, data: ActionData) =&gt; {
    if (data.clearTimer.has(node)) {
      clearTimeout(data.clearTimer.get(node));
      data.clearTimer.delete(node);
    }
    if (data.hoverTimer.has(node)) {
      clearTimeout(data.hoverTimer.get(node));
      data.hoverTimer.delete(node);
    }
  }

};

/*****************************************************************/
/**
 * The CommonMaction interface
 *
 * @template W  The maction wrapper type
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1807">export interface CommonMaction&lt;W extends AnyWrapper&gt; extends AnyWrapper {
  /**
   * The handler for the specified actiontype
   */
  action: ActionHandler&lt;W&gt;;
  data: ActionData;

  /**
   * Tooltip offsets
   */
  dx: number;
  dy: number;

  /**
   * The selected child wrapper
   */
  readonly selected: W;

}

</t>
<t tx="ekr.20211016054411.1808">/**
 * The CommonMaction class interface
 *
 * @template W  The maction wrapper type
 */
export interface CommonMactionClass&lt;W extends AnyWrapper&gt; extends AnyWrapperClass {
  /**
   * The valid action types and their handlers
   */
  actions: ActionMap&lt;W&gt;;
}

/**
 * Shorthand for the CommonMaction constructor
 *
 * @template W  The maction wrapper type
 */
export type MactionConstructor&lt;W extends AnyWrapper&gt; = Constructor&lt;CommonMaction&lt;W&gt;&gt;;

/*****************************************************************/
/**
 * The CommonMaction wrapper mixin for the MmlMaction object
 *
 * @template W  The maction wrapper type
 * @template T  The Wrapper class constructor type
 */
export function CommonMactionMixin&lt;
  W extends AnyWrapper,
  T extends WrapperConstructor
&gt;(Base: T): MactionConstructor&lt;W&gt; &amp; T {

  return class extends Base {

    /**
     * The handler for the specified actiontype
     */
    public action: ActionHandler&lt;W&gt;;
    /**
     * The data for the specified actiontype
     */
    public data: ActionData;

    /**
     * The x-offset for tooltips
     */
    public dx: number;
    /**
     * The y-offset for tooltips
     */
    public dy: number;

    /**
     * @return {W}  The selected child wrapper
     */
    public get selected(): W {
      const selection = this.node.attributes.get('selection') as number;
      const i = Math.max(1, Math.min(this.childNodes.length, selection)) - 1;
      return this.childNodes[i] || this.wrap((this.node as MmlMaction).selected);
    }

    /*************************************************************/

    
</t>
<t tx="ekr.20211016054411.1809">/**
     * @override
     */
constructor(...args: any[]) {
  super(...args);
  const actions = (this.constructor as CommonMactionClass&lt;W&gt;).actions;
  const action = this.node.attributes.get('actiontype') as string;
  const [handler, data] = actions.get(action) || [((_node, _data) =&gt; {}) as ActionHandler&lt;W&gt;, {}];
  this.action = handler;
  this.data = data;
  this.getParameters();
}

</t>
<t tx="ekr.20211016054411.181">  MathJax._.mathjax.mathjax.asyncLoad = function (name) {
    return REQUIRE(name.charAt(0) === '.' ? path.resolve(ROOT, name) : name);
  };
}


</t>
<t tx="ekr.20211016054411.1810">/**
 * Look up attribute parameters
 */
public getParameters() {
  const offsets = this.node.attributes.get('data-offsets') as string;
  let [dx, dy] = split(offsets || '');
  this.dx = this.length2em(dx || TooltipData.dx);
  this.dy = this.length2em(dy || TooltipData.dy);
}

</t>
<t tx="ekr.20211016054411.1811">/**
 * @override
 */
    public computeBBox(bbox: BBox, recompute: boolean = false) {
      bbox.updateFrom(this.selected.getBBox());
      this.selected.setChildPWidths(recompute);
    }

  };

}
</t>
<t tx="ekr.20211016054411.1812">


/**
 * @fileoverview  Implements the CommonMath wrapper mixin for the MmlMath object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';

/*****************************************************************/
/**
 * The CommonMath interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1813">export interface CommonMath extends AnyWrapper {
}

/**
 * Shorthand for the CommonMath constructor
 */
export type MathConstructor = Constructor&lt;CommonMath&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1814">/**
 *  The CommonMath wrapper mixin for the MmlMath object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonMathMixin&lt;T extends WrapperConstructor&gt;(Base: T): MathConstructor &amp; T {

  return class extends Base {

    /**
     * @override
     */
    @others
}
</t>
<t tx="ekr.20211016054411.1815">  public getWrapWidth(_i: number) {
    return (this.parent ? this.getBBox().w : this.metrics.containerWidth / this.jax.pxPerEm);
  }

};

</t>
<t tx="ekr.20211016054411.1816">


/**
 * @fileoverview  Implements the CommonMenclose wrapper mixin for the MmlMenclose object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor, AnyWrapperClass} from '../Wrapper.js';
import * as Notation from '../Notation.js';
import {CommonMsqrt} from './msqrt.js';
import {BBox} from '../../../util/BBox.js';
import {AbstractMmlNode} from '../../../core/MmlTree/MmlNode.js';
import {split} from '../../../util/string.js';

/*****************************************************************/
/**
 * The CommonMenclose interface
 *
 * @template W  The menclose wrapper type
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1817">export interface CommonMenclose&lt;W extends AnyWrapper, S extends CommonMsqrt, N&gt; extends AnyWrapper {
  /**
   *  The notations active on this menclose, and the one to use for the child, if any
   */
  notations: Notation.List&lt;W, N&gt;;
  renderChild: Notation.Renderer&lt;W, N&gt;;

  /**
   * fake msqrt for radial notation (if used)
   */
  msqrt: S;

  /**
   * The padding, thickness, and shape of the arrow head
   *   (may be overridden using data-padding, data-thickness, and data-arrowhead attibutes)
   */
  padding: number;
  thickness: number;
  arrowhead: {x: number, y: number, dx: number};

  /**
   * The top, right, bottom, and left padding, added by notations
   */
  TRBL: Notation.PaddingData;

  /**
   * Look up the data-* attributes and override the default values
   */
  getParameters(): void;

  /**
   *  Get the notations given in the notation attribute
   *    and check if any are used to render the child nodes
   */
  getNotations(): void;

  /**
   *  Remove any redundant notations
   */
  removeRedundantNotations(): void;

  /**
   *  Run any initialization needed by notations in use
   */
  initializeNotations(): void;

  /**
   * @return {Notation.PaddingData}  Array of the maximum extra space from the notations along each side
   */
  getBBoxExtenders(): Notation.PaddingData;

  /**
   * @return {Notation.PaddingData}  Array of padding (i.e., BBox minus border) along each side
   */
  getPadding(): Notation.PaddingData;

  /**
   * Each entry in X gets replaced by the corresponding one in Y if it is larger
   *
   * @param {Notation.PaddingData} X   An array of numbers
   * @param {Notation.PaddingData} Y   An array of numbers that replace smaller ones in X
   */
  maximizeEntries(X: Notation.PaddingData, Y: Notation.PaddingData): void;

  /**
   * Get the offset amount for the given direction for vertical and horizontal centering
   *
   * @param {string} direction    The direction 'X' or 'Y' for the offset
   * @return {number}             The amount of offset in that direction
   */
  getOffset(direction: string): number;

  /**
   * @param {number} w    The width of the box whose diagonal is needed
   * @param {number} h    The height of the box whose diagonal is needed
   * @return {number[]}   The angle and width of the diagonal of the box
   */
  getArgMod(w: number, h: number): [number, number];

  /**
   * Create an arrow for output
   *
   * @param {number} w         The length of the arrow
   * @param {number} a         The angle for the arrow
   * @param {boolean} double   True if this is a double-headed arrow
   * @param {string} offset    'X' for vertical arrow, 'Y' for horizontal
   * @param {number} trans     Distance to translate in the offset direction
   * @return {N}               The newly created arrow
   */
  arrow(w: number, a: number, double: boolean, offset?: string, trans?: number): N;

  /**
   * Get the angle and width of a diagonal arrow, plus the x and y extension
   *   past the content bounding box
   */
  arrowData(): {a: number, W: number, x: number, y: number};

  /**
   * Get the angle and width for a diagonal arrow
   *
   * @return {[number, number]}   The angle and width
   */
  arrowAW(): [number, number];

  /**
   * Create an unattached msqrt wrapper to render the 'radical' notation.
   *   We replace the inferred mrow of the msqrt with the one from the menclose
   *   but without changing the parent pointer, so as not to detach it from
   *   the menclose (which would desrtoy the original MathML tree).
   *
   * @param {W} child   The inferred mrow that is the child of this menclose
   * @return {S}        The newly created (but detached) msqrt wrapper
   */
  createMsqrt(child: W): S;

  /**
   * @return {number[]}  The differences between the msqrt bounding box
   *                     and its child bounding box (i.e., the extra space
   *                     created by the radical symbol).
   */
  sqrtTRBL(): number[];
}

</t>
<t tx="ekr.20211016054411.1818">/**
 * The CommonMenclose class interface
 *
 * @template W  The menclose wrapper type
 * @templare N  The DOM node class
 */
export interface CommonMencloseClass&lt;W extends AnyWrapper, N&gt; extends AnyWrapperClass {
  /**
   *  The definitions of the various notations
   */
  notations: Notation.DefList&lt;W, N&gt;;
}

/**
 * Shorthand for the CommonMenclose constructor
 *
 * @template W  The menclose wrapper type
 */
export type MencloseConstructor&lt;W extends AnyWrapper, S extends CommonMsqrt, N&gt; = Constructor&lt;CommonMenclose&lt;W, S, N&gt;&gt;;

/*****************************************************************/
/**
 * The CommonMenclose wrapper mixin for the MmlMenclose object
 *
 * @template W  The menclose wrapper type
 * @templare N  The DOM node class
 * @templare S  The msqrt wrapper class
 * @template T  The Wrapper class constructor type
 */
export function CommonMencloseMixin&lt;
  W extends AnyWrapper,
  S extends CommonMsqrt,
  N,
  T extends WrapperConstructor
&gt;(Base: T): MencloseConstructor&lt;W, S, N&gt; &amp; T {

  return class extends Base {

    /**
     *  The notations active on this menclose, if any
     */
    public notations: Notation.List&lt;W, N&gt; = {};

    /**
     *  The notation to use for the child, if any
     */
    public renderChild: Notation.Renderer&lt;W, N&gt; = null;

    /**
     * fake msqrt for radial notation (if used)
     */
    public msqrt: S = null;

    /**
     * The padding of the arrow head (may be overridden using data-padding attibute)
     */
    public padding: number = Notation.PADDING;
    /**
     * The thickness of the arrow head (may be overridden using data-thickness attibute)
     */
    public thickness: number = Notation.THICKNESS;
    /**
     * The shape of the arrow head (may be overridden using data-arrowhead attibutes)
     */
    public arrowhead = {x: Notation.ARROWX, y: Notation.ARROWY, dx: Notation.ARROWDX};

    /**
     * The top, right, bottom, and left padding (added by notations)
     */
    public TRBL: Notation.PaddingData = [0, 0, 0, 0];

    
</t>
<t tx="ekr.20211016054411.1819">/**
     * @override
     * @constructor
     */
constructor(...args: any[]) {
  super(...args);
  this.getParameters();
  this.getNotations();
  this.removeRedundantNotations();
  this.initializeNotations();
  this.TRBL = this.getBBoxExtenders();
}

</t>
<t tx="ekr.20211016054411.182">/*
 * The initialization function.  Use as:
 *
 *   require('mathjax').init({ ... }).then((MathJax) =&gt; { ... });
 *
 * where the argument to init() is a MathJax configuration (what would be set as MathJax = {...}).
 * The init() function returns a promise that is resolved when MathJax is loaded and ready, and that
 * is passed the MathJax global variable when it is called.
 */
const init = (config = {}) =&gt; {
  combineConfig(MathJax.config, config);
  return Loader.load(...CONFIG.load)
    .then(() =&gt; CONFIG.ready())
    .then(() =&gt; MathJax)                    // Pass MathJax global as argument to subsequent .then() calls
    .catch(error =&gt; CONFIG.failed(error));
}

/*
 * Export the init() function
 */
export {init};
</t>
<t tx="ekr.20211016054411.1820">/**
 * Look up the data-* attributes and override the default values
 */
public getParameters() {
  const attributes = this.node.attributes;
  const padding = attributes.get('data-padding');
  if (padding !== undefined) {
    this.padding = this.length2em(padding, Notation.PADDING);
  }
  const thickness = attributes.get('data-thickness');
  if (thickness !== undefined) {
    this.thickness = this.length2em(thickness, Notation.THICKNESS);
  }
  const arrowhead = attributes.get('data-arrowhead') as string;
  if (arrowhead !== undefined) {
    let [x, y, dx] = split(arrowhead);
    this.arrowhead = {
      x: (x ? parseFloat(x) : Notation.ARROWX),
      y: (y ? parseFloat(y) : Notation.ARROWY),
      dx: (dx ? parseFloat(dx) : Notation.ARROWDX)
    };
  }
}

</t>
<t tx="ekr.20211016054411.1821">/**
 *  Get the notations given in the notation attribute
 *    and check if any are used to render the child nodes
 */
public getNotations() {
  const Notations = (this.constructor as CommonMencloseClass&lt;W, N&gt;).notations;
  for (const name of split(this.node.attributes.get('notation') as string)) {
    const notation = Notations.get(name);
    if (notation) {
      this.notations[name] = notation;
      if (notation.renderChild) {
        this.renderChild = notation.renderer;
      }
    }
  }
}

</t>
<t tx="ekr.20211016054411.1822">/**
 *  Remove any redundant notations
 */
public removeRedundantNotations() {
  for (const name of Object.keys(this.notations)) {
    if (this.notations[name]) {
      const remove = this.notations[name].remove || '';
      for (const notation of remove.split(/ /)) {
        delete this.notations[notation];
      }
    }
  }
}

</t>
<t tx="ekr.20211016054411.1823">/**
 *  Run any initialization needed by notations in use
 */
public initializeNotations() {
  for (const name of Object.keys(this.notations)) {
    const init = this.notations[name].init;
    init &amp;&amp; init(this as any);
  }
}

/********************************************************/

</t>
<t tx="ekr.20211016054411.1824">/**
 * @override
 */
public computeBBox(bbox: BBox, recompute: boolean = false) {
  //
  //  Combine the BBox from the child and add the extenders
  //
  let [T, R, B, L] = this.TRBL;
  const child = this.childNodes[0].getBBox();
  bbox.combine(child, L, 0);
  bbox.h += T;
  bbox.d += B;
  bbox.w += R;
  this.setChildPWidths(recompute);
}

</t>
<t tx="ekr.20211016054411.1825">/**
 * @return {Notation.PaddingData}  Array of the maximum extra space from the notations along each side
 */
public getBBoxExtenders(): Notation.PaddingData {
  let TRBL = [0, 0, 0, 0] as Notation.PaddingData;
  for (const name of Object.keys(this.notations)) {
    this.maximizeEntries(TRBL, this.notations[name].bbox(this as any));
  }
  return TRBL;
}

</t>
<t tx="ekr.20211016054411.1826">/**
 * @return {Notation.PaddingData}  Array of padding (i.e., BBox minus border) along each side
 */
public getPadding(): Notation.PaddingData {
  let BTRBL = [0, 0, 0, 0] as Notation.PaddingData;
  for (const name of Object.keys(this.notations)) {
    const border = this.notations[name].border;
    if (border) {
      this.maximizeEntries(BTRBL, border(this as any));
    }
  }
  return [0, 1, 2, 3].map(i =&gt; this.TRBL[i] - BTRBL[i]) as Notation.PaddingData;
}

</t>
<t tx="ekr.20211016054411.1827">/**
 * Each entry in X gets replaced by the corresponding one in Y if it is larger
 *
 * @param {Notation.PaddingData} X   An array of numbers
 * @param {Notation.PaddingData} Y   An array of numbers that replace smaller ones in X
 */
public maximizeEntries(X: Notation.PaddingData, Y: Notation.PaddingData) {
  for (let i = 0; i &lt; X.length; i++) {
    if (X[i] &lt; Y[i]) {
      X[i] = Y[i];
    }
  }
}

/********************************************************/

</t>
<t tx="ekr.20211016054411.1828">/**
 * Get the offset amount for the given direction for vertical and horizontal centering
 *
 * @param {string} direction    The direction 'X' or 'Y' for the offset
 * @return {number}             The amount of offset in that direction
 */
public getOffset(direction: string): number {
  let [T, R, B, L] = this.TRBL;
  const d = (direction === 'X' ? R - L : B - T) / 2;
  return (Math.abs(d) &gt; .001 ? d : 0);
}

</t>
<t tx="ekr.20211016054411.1829">/**
 * @param {number} w    The width of the box whose diagonal is needed
 * @param {number} h    The height of the box whose diagonal is needed
 * @return {number[]}   The angle and width of the diagonal of the box
 */
public getArgMod(w: number, h: number): [number, number] {
  return [Math.atan2(h, w), Math.sqrt(w * w + h * h)];
}

</t>
<t tx="ekr.20211016054411.183">
const PACKAGE = require('../../webpack.common.js');

const package = PACKAGE(
  'node-main',                        // the package to build
  '../../../js',                      // location of the MathJax js library
  [],                                 // packages to link to
  __dirname                           // our directory
);

// make node-main.js exports available to caller
package.output.library = {
  name: 'init',
  type: 'commonjs',
  export: 'init'
};

module.exports = package;
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1830">/**
 * Create an arrow using an svg element
 *
 * @param {number} w        The length of the arrow
 * @param {number} a        The angle for the arrow
 * @param {boolean} double  True if this is a double-headed arrow
 * @param {string} offset   'X' for vertical arrow, 'Y' for horizontal
 * @param {number} dist     Distance to translate in the offset direction
 * @return {N}              The newly created arrow
 */
public arrow(_w: number, _a: number, _double: boolean, _offset: string = '', _dist: number = 0): N {
  return null as N;
}

</t>
<t tx="ekr.20211016054411.1831">/**
 * Get the angle and width of a diagonal arrow, plus the x and y extension
 *   past the content bounding box
 *
 * @return {Object}  The angle, width, and x and y extentions
 */
public arrowData(): {a: number, W: number, x: number, y: number} {
  const [p, t] = [this.padding, this.thickness];
  const r = t * (this.arrowhead.x + Math.max(1, this.arrowhead.dx));
  const {h, d, w} = this.childNodes[0].getBBox();
  const H = h + d;
  const R = Math.sqrt(H * H + w * w);
  const x = Math.max(p, r * w / R);
  const y = Math.max(p, r * H / R);
  const [a, W] = this.getArgMod(w + 2 * x, H + 2 * y);
  return {a, W, x, y};
}

</t>
<t tx="ekr.20211016054411.1832">/**
 * Get the angle and width for a diagonal arrow
 *
 * @return {[number, number]}   The angle and width
 */
public arrowAW(): [number, number] {
  const {h, d, w} = this.childNodes[0].getBBox();
  const [T, R, B, L] = this.TRBL;
  return this.getArgMod(L + w + R, T + h + d + B);
}

/********************************************************/

</t>
<t tx="ekr.20211016054411.1833">/**
 * Create an unattached msqrt wrapper to render the 'radical' notation.
 *   We replace the inferred mrow of the msqrt with the one from the menclose
 *   but without changing the parent pointer, so as not to detach it from
 *   the menclose (which would desrtoy the original MathML tree).
 *
 * @param {W} child   The inferred mrow that is the child of this menclose
 * @return {S}        The newly created (but detached) msqrt wrapper
 */
public createMsqrt(child: W): S {
  const mmlFactory = (this.node as AbstractMmlNode).factory;
  const mml = mmlFactory.create('msqrt');
  mml.inheritAttributesFrom(this.node);
  mml.childNodes[0] = child.node;
  const node = this.wrap(mml) as S;
  node.parent = this;
  return node;
}

</t>
<t tx="ekr.20211016054411.1834">/**
 * @return {number[]}  The differences between the msqrt bounding box
 *                     and its child bounding box (i.e., the extra space
 *                     created by the radical symbol).
 */
    public sqrtTRBL(): [number, number, number, number] {
      const bbox = this.msqrt.getBBox();
      const cbox = this.msqrt.childNodes[0].getBBox();
      return [bbox.h - cbox.h, 0, bbox.d - cbox.d, bbox.w - cbox.w];
    }

  };
}
</t>
<t tx="ekr.20211016054411.1835">


/**
 * @fileoverview  Implements the CommonMfenced wrapper mixin for the MmlMfenced object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';
import {CommonInferredMrow} from './mrow.js';
import {MmlNode, AbstractMmlNode} from '../../../core/MmlTree/MmlNode.js';
import {MmlMfenced} from '../../../core/MmlTree/MmlNodes/mfenced.js';
import {BBox} from '../../../util/BBox.js';

/*****************************************************************/
/**
 * The CommonMfenced interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1836">export interface CommonMfenced extends AnyWrapper {
  /**
   * An mrow to use for the layout of the mfenced
   */
  mrow: CommonInferredMrow;

  /**
   * Creates the mrow wrapper to use for the layout
   */
  createMrow(): void;

  /**
   * Populate the mrow with wrapped mo elements interleaved
   *   with the mfenced children (the mo's are already created
   *   in the mfenced object)
   */
  addMrowChildren(): void;

  /**
   * Wrap an mo element and push it onto the mrow
   *
   * @param {MmlNode} node  The mo element to push on the mrow
   */
  addMo(node: MmlNode): void;
}

/**
 * Shorthand for the CommonMfenced constructor
 */
export type MfencedConstructor = Constructor&lt;CommonMfenced&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1837">/**
 * The CommonMfenced wrapper mixin for the MmlMfenced object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonMfencedMixin&lt;T extends WrapperConstructor&gt;(Base: T): MfencedConstructor &amp; T {

  return class extends Base {

    /**
     * An mrow to use for the layout of the mfenced
     */
    public mrow: CommonInferredMrow = null;

    /**
     * @override
     * @constructor
     */
    @others
}
</t>
<t tx="ekr.20211016054411.1838">constructor(...args: any[]) {
  super(...args);
  this.createMrow();
  this.addMrowChildren();
}

</t>
<t tx="ekr.20211016054411.1839">/**
 * Creates the mrow wrapper to use for the layout
 */
public createMrow() {
  const mmlFactory = (this.node as AbstractMmlNode).factory;
  const mrow = mmlFactory.create('inferredMrow');
  mrow.inheritAttributesFrom(this.node);
  this.mrow = this.wrap(mrow) as CommonInferredMrow;
  this.mrow.parent = this;
}

</t>
<t tx="ekr.20211016054411.184"></t>
<t tx="ekr.20211016054411.1840">/**
 * Populate the mrow with wrapped mo elements interleaved
 *   with the mfenced children (the mo's are already created
 *   in the mfenced object)
 */
public addMrowChildren() {
  const mfenced = this.node as MmlMfenced;
  const mrow = this.mrow;
  this.addMo(mfenced.open);
  if (this.childNodes.length) {
    mrow.childNodes.push(this.childNodes[0]);
  }
  let i = 0;
  for (const child of this.childNodes.slice(1)) {
    this.addMo(mfenced.separators[i++]);
    mrow.childNodes.push(child);
  }
  this.addMo(mfenced.close);
  mrow.stretchChildren();
}

</t>
<t tx="ekr.20211016054411.1841">/**
 * Wrap an mo element and push it onto the mrow
 *
 * @param {MmlNode} node  The mo element to push on the mrow
 */
public addMo(node: MmlNode) {
  if (!node) return;
  const mo = this.wrap(node);
  this.mrow.childNodes.push(mo);
  mo.parent = this.mrow;
}

</t>
<t tx="ekr.20211016054411.1842">/**
 * @override
 */
  public computeBBox(bbox: BBox, recompute: boolean = false) {
    bbox.updateFrom(this.mrow.getBBox());
    this.setChildPWidths(recompute);
  }

};

</t>
<t tx="ekr.20211016054411.1843">


/**
 * @fileoverview  Implements the CommonMfrac wrapper mixin for the MmlMfrac object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';
import {CommonMo} from './mo.js';
import {BBox} from '../../../util/BBox.js';
import {DIRECTION} from '../FontData.js';

/*****************************************************************/
/**
 * The CommonMfrac interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1844">export interface CommonMfrac extends AnyWrapper {
  /**
   * @param {BBox} bbox        The buonding box to modify
   * @param {boolean} display  True for display-mode fractions
   * @param {number} t         The thickness of the line
   */
  getFractionBBox(bbox: BBox, display: boolean, t: number): void;

  /**
   * @param {boolean} display  True for display-mode fractions
   * @param {number} t         The thickness of the line
   * @return {Object}          The expanded rule thickness (T), and baseline offsets
   *                             for numerator and denomunator (u and v)
   */
  getTUV(display: boolean, t: number): {T: number, u: number, v: number};

  /**
   * @param {BBox} bbox        The bounding box to modify
   * @param {boolean} display  True for display-mode fractions
   */
  getAtopBBox(bbox: BBox, display: boolean): void;

  /**
   * @param {boolean} display  True for diplay-mode fractions
   * @return {Object}
   *    The vertical offsets of the numerator (u), the denominator (v),
   *    the separation between the two, and the bboxes themselves.
   */
  getUVQ(display: boolean): {u: number, v: number, q: number, nbox: BBox, dbox: BBox};

  /**
   * @param {BBox} bbox        The boundng box to modify
   * @param {boolean} display  True for display-mode fractions
   */
  getBevelledBBox(bbox: BBox, display: boolean): void;

  /**
   * @param {boolean} display  True for display-style fractions
   * @return {Object}          The height (H) of the bevel, horizontal offest (delta)
   *                             vertical offsets (u and v) of the parts, and
   *                             bounding boxes of the parts.
   */
  getBevelData(display: boolean): {H: number, delta: number, u: number, v: number, nbox: BBox, dbox: BBox};

  /**
   * @return {boolean}   True if in display mode, false otherwise
   */
  isDisplay(): boolean;
}

/**
 * Shorthand for the CommonMfrac constructor
 */
export type MfracConstructor = Constructor&lt;CommonMfrac&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1845">/**
 * The CommonMfrac wrapper mixin for the MmlMfrac object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonMfracMixin&lt;T extends WrapperConstructor&gt;(Base: T): MfracConstructor &amp; T {

  return class extends Base {

    /**
     * Wrapper for &lt;mo&gt; to use for bevelled fraction
     */
    public bevel: CommonMo = null;

    /**
     * Padding around fractions
     */
    public pad: number;

    /************************************************/

    /**
     * @override
     * @constructor
     */
    @others
}
</t>
<t tx="ekr.20211016054411.1846">constructor(...args: any[]) {
  super(...args);
  this.pad = (this.node.getProperty('withDelims') as boolean ? 0 : this.font.params.nulldelimiterspace);
  //
  //  create internal bevel mo element
  //
  if (this.node.attributes.get('bevelled')) {
    const {H} = this.getBevelData(this.isDisplay());
    const bevel = this.bevel = this.createMo('/') as CommonMo;
    bevel.node.attributes.set('symmetric', true);
    bevel.canStretch(DIRECTION.Vertical);
    bevel.getStretchedVariant([H], true);
  }
}

</t>
<t tx="ekr.20211016054411.1847">/**
 * @override
 */
public computeBBox(bbox: BBox, recompute: boolean = false) {
  bbox.empty();
  const {linethickness, bevelled} = this.node.attributes.getList('linethickness', 'bevelled');
  const display = this.isDisplay();
  let w = null as (number | null);
  if (bevelled) {
    this.getBevelledBBox(bbox, display);
  } else {
    const thickness = this.length2em(String(linethickness), .06);
    w = -2 * this.pad;
    if (thickness === 0) {
      this.getAtopBBox(bbox, display);
    } else {
      this.getFractionBBox(bbox, display, thickness);
      w -= .2;
    }
    w += bbox.w;
  }
  bbox.clean();
  this.setChildPWidths(recompute, w);
}

/************************************************/

</t>
<t tx="ekr.20211016054411.1848">/**
 * @param {BBox} bbox        The buonding box to modify
 * @param {boolean} display  True for display-mode fractions
 * @param {number} t         The thickness of the line
 */
public getFractionBBox(bbox: BBox, display: boolean, t: number) {
  const nbox = this.childNodes[0].getBBox();
  const dbox = this.childNodes[1].getBBox();
  const tex = this.font.params;
  const a = tex.axis_height;
  const {T, u, v} = this.getTUV(display, t);
  bbox.combine(nbox, 0, a + T + Math.max(nbox.d * nbox.rscale, u));
  bbox.combine(dbox, 0, a - T - Math.max(dbox.h * dbox.rscale, v));
  bbox.w += 2 * this.pad + .2;
}

</t>
<t tx="ekr.20211016054411.1849">/**
 * @param {boolean} display  True for display-mode fractions
 * @param {number} t         The thickness of the line
 * @return {Object}          The expanded rule thickness (T), and baseline offsets
 *                             for numerator and denomunator (u and v)
 */
public getTUV(display: boolean, t: number): {T: number, u: number, v: number} {
  const tex = this.font.params;
  const a = tex.axis_height;
  const T = (display ? 3.5 : 1.5) * t;
  return {T: (display ? 3.5 : 1.5) * t,
          u: (display ? tex.num1 : tex.num2) - a - T,
          v: (display ? tex.denom1 : tex.denom2) + a - T};
}

/************************************************/

</t>
<t tx="ekr.20211016054411.185"></t>
<t tx="ekr.20211016054411.1850">/**
 * @param {BBox} bbox        The bounding box to modify
 * @param {boolean} display  True for display-mode fractions
 */
public getAtopBBox(bbox: BBox, display: boolean) {
  const {u, v, nbox, dbox} = this.getUVQ(display);
  bbox.combine(nbox, 0, u);
  bbox.combine(dbox, 0, -v);
  bbox.w += 2 * this.pad;
}

</t>
<t tx="ekr.20211016054411.1851">/**
 * @param {boolean} display  True for diplay-mode fractions
 * @return {Object}
 *    The vertical offsets of the numerator (u), the denominator (v),
 *    the separation between the two, and the bboxes themselves.
 */
public getUVQ(display: boolean): {u: number, v: number, q: number, nbox: BBox, dbox: BBox} {
  const nbox = this.childNodes[0].getBBox() as BBox;
  const dbox = this.childNodes[1].getBBox() as BBox;
  const tex = this.font.params;
  //
  //  Initial offsets (u, v)
  //  Minimum separation (p)
  //  Actual separation with initial positions (q)
  //
  let [u, v] = (display ? [tex.num1, tex.denom1] : [tex.num3, tex.denom2]);
  let p = (display ? 7 : 3) * tex.rule_thickness;
  let q = (u - nbox.d * nbox.scale) - (dbox.h * dbox.scale - v);
  //
  //  If actual separation is less than minimum, move them farther apart
  //
  if (q &lt; p) {
    u += (p - q) / 2;
    v += (p - q) / 2;
    q = p;
  }
  return {u, v, q, nbox, dbox};
}

/************************************************/

</t>
<t tx="ekr.20211016054411.1852">/**
 * @param {BBox} bbox        The boundng box to modify
 * @param {boolean} display  True for display-mode fractions
 */
public getBevelledBBox(bbox: BBox, display: boolean) {
  const {u, v, delta, nbox, dbox} = this.getBevelData(display);
  const lbox = this.bevel.getBBox();
  bbox.combine(nbox, 0, u);
  bbox.combine(lbox, bbox.w - delta / 2, 0);
  bbox.combine(dbox, bbox.w - delta / 2, v);
}

</t>
<t tx="ekr.20211016054411.1853">/**
 * @param {boolean} display  True for display-style fractions
 * @return {Object}          The height (H) of the bevel, horizontal offest (delta)
 *                             vertical offsets (u and v) of the parts, and
 *                             bounding boxes of the parts.
 */
public getBevelData(display: boolean): {
  H: number, delta: number, u: number, v: number, nbox: BBox, dbox: BBox
} {
  const nbox = this.childNodes[0].getBBox() as BBox;
  const dbox = this.childNodes[1].getBBox() as BBox;
  const delta = (display ? .4 : .15);
  const H = Math.max(nbox.scale * (nbox.h + nbox.d), dbox.scale * (dbox.h + dbox.d)) + 2 * delta;
  const a = this.font.params.axis_height;
  const u = nbox.scale * (nbox.d - nbox.h) / 2 + a + delta;
  const v = dbox.scale * (dbox.d - dbox.h) / 2 + a - delta;
  return {H, delta, u, v, nbox, dbox};
}

/************************************************/

</t>
<t tx="ekr.20211016054411.1854">/**
 * @override
 */
public canStretch(_direction: DIRECTION) {
  return false;
}

</t>
<t tx="ekr.20211016054411.1855">/**
 * @return {boolean}   True if in display mode, false otherwise
 */
public isDisplay(): boolean {
  const {displaystyle, scriptlevel} = this.node.attributes.getList('displaystyle', 'scriptlevel');
  return displaystyle &amp;&amp; scriptlevel === 0;
}

</t>
<t tx="ekr.20211016054411.1856">/**
 * @override
 */
public getWrapWidth(i: number) {
  const attributes = this.node.attributes;
  if (attributes.get('bevelled')) {
    return this.childNodes[i].getBBox().w;
  }
  const w = this.getBBox().w;
  const thickness = this.length2em(attributes.get('linethickness'));
  return w - (thickness ? .2 : 0) -  2 * this.pad;
}

</t>
<t tx="ekr.20211016054411.1857">/**
 * @override
 */
  public getChildAlign(i: number) {
    const attributes = this.node.attributes;
    return (attributes.get('bevelled') ? 'left' : attributes.get(['numalign', 'denomalign'][i]) as string);
  }

};

</t>
<t tx="ekr.20211016054411.1858">


/**
 * @fileoverview  Implements the CommonMglyph wrapper mixin for the MmlMglyph object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';
import {BBox} from '../../../util/BBox.js';

/*****************************************************************/
/**
 * The CommonMglyph interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1859">export interface CommonMglyph extends AnyWrapper {
  /**
   * The image's width, height, and valign values converted to em's
   */
  width: number;
  height: number;
  valign: number;

  /**
   * Obtain the width, height, and valign.
   */
  getParameters(): void;
}

/**
 * Shorthand for the CommonMglyph constructor
 */
export type MglyphConstructor = Constructor&lt;CommonMglyph&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.186">
import './lib/chtml.js';

import {combineDefaults} from '../../../../js/components/global.js';
import {CHTML} from '../../../../js/output/chtml.js';

if (MathJax.loader) {
  combineDefaults(MathJax.config.loader, 'output/chtml', {
    checkReady() {
      return MathJax.loader.load("output/chtml/fonts/tex");
    }
  });
}

if (MathJax.startup) {
  MathJax.startup.registerConstructor('chtml', CHTML);
  MathJax.startup.useOutput('chtml');
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1860">/**
 * The CommonMglyph wrapper mixin for the MmlMglyph object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonMglyphMixin&lt;T extends WrapperConstructor&gt;(Base: T): MglyphConstructor &amp; T {

  return class extends Base {

    /**
     * The image's width converted to em's
     */
    public width: number;
    /**
     * The image's height converted to em's
     */
    public height: number;
    /**
     * The image's valign values converted to em's
     */
    public valign: number;

    /**
     * @override
     * @constructor
     */
    @others
}
</t>
<t tx="ekr.20211016054411.1861">constructor(...args: any[]) {
  super(...args);
  this.getParameters();
}

</t>
<t tx="ekr.20211016054411.1862">/**
 * Obtain the width, height, and valign.
 * Note:  Currently, the width and height must be specified explicitly, or they default to 1em
 *   Since loading the image may be asynchronous, it would require a restart.
 *   A future extension could implement this either by subclassing this object, or
 *   perhaps as a post-filter on the MathML input jax that adds the needed dimensions
 */
public getParameters() {
  const {width, height, valign} = this.node.attributes.getList('width', 'height', 'valign');
  this.width = (width === 'auto' ? 1 : this.length2em(width));
  this.height = (height === 'auto' ? 1 : this.length2em(height));
  this.valign = this.length2em(valign || '0');
}

</t>
<t tx="ekr.20211016054411.1863">/**
 * @override
 */
  public computeBBox(bbox: BBox, _recompute: boolean = false) {
    bbox.w = this.width;
    bbox.h = this.height + this.valign;
    bbox.d = -this.valign;
  }

};

</t>
<t tx="ekr.20211016054411.1864">


/**
 * @fileoverview  Implements the CommonMi wrapper mixin for the MmlMi object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';
import {BBox} from '../../../util/BBox.js';

/*****************************************************************/
/**
 * The CommonMi interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1865">export interface CommonMi extends AnyWrapper {
}

/**
 * Shorthand for the CommonMi constructor
 */
export type MiConstructor = Constructor&lt;CommonMi&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1866">/**
 *  The CommonMi wrapper mixin for the MmlMi object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonMiMixin&lt;T extends WrapperConstructor&gt;(Base: T): MiConstructor &amp; T {

  return class extends Base {

    /**
     * @override
     */
    @others
}
</t>
<t tx="ekr.20211016054411.1867">  public computeBBox(bbox: BBox, _recompute: boolean = false) {
    super.computeBBox(bbox);
    this.copySkewIC(bbox);
  }
};

</t>
<t tx="ekr.20211016054411.1868">


/**
 * @fileoverview  Implements the CommonMmultiscripts wrapper mixin for the MmlMmultiscripts object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, Constructor} from '../Wrapper.js';
import {CommonMsubsup, MsubsupConstructor} from './msubsup.js';
import {BBox} from '../../../util/BBox.js';

/*****************************************************************/

/**
 * The data about the scripts and base
 */
export type ScriptData = {
  base: BBox;
  sub: BBox;   // combined bbox for all subscripts
  sup: BBox;   // combined bbox for all superscripts
  psub: BBox;  // combined bbox for all presubscripts
  psup: BBox;  // combined bbox for all presuperscripts
  numPrescripts: number;
  numScripts: number;
};
export type ScriptDataName = keyof ScriptData;

/**
 * The lists of all the individual script bboxes
 */
export type ScriptLists = {
  base: BBox[];
  subList: BBox[];
  supList: BBox[];
  psubList: BBox[];
  psupList: BBox[];
};
export type ScriptListName = keyof ScriptLists;

/**
 * The type of script that follows the given type
 */
export const NextScript: {[key: string]: ScriptListName} = {
  base: 'subList',
  subList: 'supList',
  supList: 'subList',
  psubList: 'psupList',
  psupList: 'psubList',
};

/**
 * The names of the scripts (for looping)
 */
export const ScriptNames = ['sup', 'sup', 'psup', 'psub'] as ScriptDataName[];

/*****************************************************************/
/**
 * The CommonMmultiscripts interface
 *
 * @template W  The child-node Wrapper class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1869">export interface CommonMmultiscripts&lt;W extends AnyWrapper&gt; extends CommonMsubsup&lt;W&gt; {

  /**
   *  The cached data for the various bounding boxes
   */
  scriptData: ScriptData;

  /**
   *  The index of the child following the &lt;mprescripts/&gt; tag
   */
  firstPrescript: number;

  /**
   * @param {BBox} pre   The prescript bounding box
   * @param {BBox} post  The postcript bounding box
   * @return {BBox}      The combined bounding box
   */
  combinePrePost(pre: BBox, post: BBox): BBox;

  /**
   * Compute the bounding box information about all the scripts
   */
  getScriptData(): void;

  /**
   * @return {ScriptLists}  The bounding boxes for all the scripts divided into lists by position
   */
  getScriptBBoxLists(): ScriptLists;

  /**
   * Pad the second list, if it is one short
   *
   * @param {BBox[]} list1   The first list
   * @param {BBox[]} list2   The second list
   */
  padLists(list1: BBox[], list2: BBox[]): void;

  /**
   * @param {BBox} bbox1    The bbox for the combined subscripts
   * @param {BBox} bbox2    The bbox for the combined superscripts
   * @param {BBox[]} list1  The list of subscripts to combine
   * @param {BBox[]} list2  The list of superscripts to combine
   */
  combineBBoxLists(bbox1: BBox, bbox2: BBox, list1: BBox[], list2: BBox[]): void;

  /**
   * @param {BBox} bbox  The bounding box from which to get the (scaled) width, height, and depth
   */
  getScaledWHD(bbox: BBox): void;

}

/**
 * Shorthand for the CommonMmultiscripts constructor
 *
 * @template W  The child-node Wrapper class
 */
export type MmultiscriptsConstructor&lt;W extends AnyWrapper&gt; = Constructor&lt;CommonMmultiscripts&lt;W&gt;&gt;;

/*****************************************************************/
/**
 * The CommonMmultiscripts wrapper mixin for the MmlMmultiscripts object
 *
 * @template W  The child-node Wrapper class
 * @template T  The Wrapper class constructor type
 */
export function CommonMmultiscriptsMixin&lt;
  W extends AnyWrapper,
  T extends MsubsupConstructor&lt;W&gt;
&gt;(Base: T): MmultiscriptsConstructor&lt;W&gt; &amp; T {

  return class extends Base {

    /**
     *  The cached data for the various bounding boxes
     */
    public scriptData: ScriptData = null;

    /**
     *  The index of the child following the &lt;mprescripts/&gt; tag
     */
    public firstPrescript = 0;

    
</t>
<t tx="ekr.20211016054411.187">
import {FontData} from '../../../../js/output/chtml/FontData.js';

export class TeXFont extends FontData {};

TeXFont.OPTIONS = {fontURL: '.'};
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1870">/**
     * @override
     */
constructor(...args: any[]) {
  super(...args);
  this.getScriptData();
}

/*************************************************************/

</t>
<t tx="ekr.20211016054411.1871">/**
 * @param {BBox} pre   The prescript bounding box
 * @param {BBox} post  The postcript bounding box
 * @return {BBox}      The combined bounding box
 */
public combinePrePost(pre: BBox, post: BBox): BBox {
  const bbox = new BBox(pre);
  bbox.combine(post, 0, 0);
  return bbox;
}

/*************************************************************/

</t>
<t tx="ekr.20211016054411.1872">/**
 * @override
 */
public computeBBox(bbox: BBox, recompute: boolean = false) {
  //
  // Get the bounding boxes, and combine the pre- and post-scripts
  //  to get a common offset for both
  //
  const scriptspace = this.font.params.scriptspace;
  const data = this.scriptData;
  const sub = this.combinePrePost(data.sub, data.psub);
  const sup = this.combinePrePost(data.sup, data.psup);
  const [u, v] = this.getUVQ(sub, sup);
  //
  //  Lay out the pre-scripts, then the base, then the post-scripts
  //
  bbox.empty();
  if (data.numPrescripts) {
    bbox.combine(data.psup, scriptspace, u);
    bbox.combine(data.psub, scriptspace, v);
  }
  bbox.append(data.base);
  if (data.numScripts) {
    const w = bbox.w;
    bbox.combine(data.sup, w, u);
    bbox.combine(data.sub, w, v);
    bbox.w += scriptspace;
  }
  bbox.clean();
  this.setChildPWidths(recompute);
}

</t>
<t tx="ekr.20211016054411.1873">/**
 * Compute the bounding box information about all the scripts
 */
public getScriptData() {
  //
  //  Initialize the bounding box data
  //
  const data: ScriptData = this.scriptData = {
    base: null, sub: BBox.empty(), sup: BBox.empty(), psub: BBox.empty(), psup: BBox.empty(),
    numPrescripts: 0, numScripts: 0
  };
  //
  //  Get the bboxes for all the scripts and combine them into the scriptData
  //
  const lists = this.getScriptBBoxLists();
  this.combineBBoxLists(data.sub, data.sup, lists.subList, lists.supList);
  this.combineBBoxLists(data.psub, data.psup, lists.psubList, lists.psupList);
  data.base = lists.base[0];
  //
  //  Save the lengths and return the data
  //
  data.numPrescripts = lists.psubList.length;
  data.numScripts = lists.subList.length;
}

</t>
<t tx="ekr.20211016054411.1874">/**
 * @return {ScriptLists}  The bounding boxes for all the scripts divided into lists by position
 */
public getScriptBBoxLists(): ScriptLists {
  const lists: ScriptLists = {
    base: [], subList: [], supList: [], psubList: [], psupList: []
  };
  //
  // The first entry is the base, and then they altername sub- and superscripts.
  // Once we find the &lt;mprescripts/&gt; element, switch to presub- and presuperscript lists.
  //
  let script: ScriptListName = 'base';
  for (const child of this.childNodes) {
    if (child.node.isKind('mprescripts')) {
      script = 'psubList';
    } else {
      lists[script].push(child.getBBox());
      script = NextScript[script];
    }
  }
  //
  //  The index of the first prescript (skip over base, sub- and superscripts, and mprescripts)
  //
  this.firstPrescript = lists.subList.length + lists.supList.length + 2;
  //
  //  Make sure the lists are the same length
  //
  this.padLists(lists.subList, lists.supList);
  this.padLists(lists.psubList, lists.psupList);
  return lists;
}

</t>
<t tx="ekr.20211016054411.1875">/**
 * Pad the second list, if it is one short
 *
 * @param {BBox[]} list1   The first list
 * @param {BBox[]} list2   The second list
 */
public padLists(list1: BBox[], list2: BBox[]) {
  if (list1.length &gt; list2.length) {
    list2.push(BBox.empty());
  }
}

</t>
<t tx="ekr.20211016054411.1876">/**
 * @param {BBox} bbox1    The bbox for the combined subscripts
 * @param {BBox} bbox2    The bbox for the combined superscripts
 * @param {BBox[]} list1  The list of subscripts to combine
 * @param {BBox[]} list2  The list of superscripts to combine
 */
public combineBBoxLists(bbox1: BBox, bbox2: BBox, list1: BBox[], list2: BBox[]) {
  for (let i = 0; i &lt; list1.length; i++) {
    const [w1, h1, d1] = this.getScaledWHD(list1[i]);
    const [w2, h2, d2] = this.getScaledWHD(list2[i]);
    const w = Math.max(w1, w2);
    bbox1.w += w;
    bbox2.w += w;
    if (h1 &gt; bbox1.h) bbox1.h = h1;
    if (d1 &gt; bbox1.d) bbox1.d = d1;
    if (h2 &gt; bbox2.h) bbox2.h = h2;
    if (d2 &gt; bbox2.d) bbox2.d = d2;
  }
}

</t>
<t tx="ekr.20211016054411.1877">/**
 * @param {BBox} bbox  The bounding box from which to get the (scaled) width, height, and depth
 */
public getScaledWHD(bbox: BBox) {
  const {w, h, d, rscale} = bbox;
  return [w * rscale, h * rscale, d * rscale];
}

/*************************************************************/

</t>
<t tx="ekr.20211016054411.1878">/**
 * @override
 */
    public getUVQ(subbox: BBox, supbox: BBox) {
      if (!this.UVQ) {
        let [u, v, q] = [0, 0, 0];
        if (subbox.h === 0 &amp;&amp; subbox.d === 0) {
          //
          //  Use placement for superscript only
          //
          u = this.getU();
        } else if (supbox.h === 0 &amp;&amp; supbox.d === 0) {
          //
          //  Use placement for subsccript only
          //
          u = -this.getV();
        } else {
          //
          //  Use placement for both
          //
          [u, v, q] = super.getUVQ(subbox, supbox);
        }
        this.UVQ = [u, v, q];
      }
      return this.UVQ;
    }

  };

}
</t>
<t tx="ekr.20211016054411.1879">


/**
 * @fileoverview  Implements the CommonMn wrapper mixin for the MmlMn object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';

/*****************************************************************/
/**
 * The CommonMn interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.188">
const webpack = require("webpack");
const PACKAGE = require('../../../webpack.common.js');

module.exports = PACKAGE(
  'output/chtml',                     // the package to build
  '../../../../js',                   // location of the MathJax js library
  ['components/src/core/lib'],        // packages to link to
  __dirname                           // our directory
);

module.exports.plugins.push(
  new webpack.NormalModuleReplacementPlugin(
    /\/fonts\/tex\.js$/,
    @others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1880">export interface CommonMn extends AnyWrapper {
}

/**
 * Shorthand for the CommonMn constructor
 */
export type MnConstructor = Constructor&lt;CommonMn&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1881">/**
 * The CommonMn wrapper mixin for the MmlMn object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonMnMixin&lt;T extends WrapperConstructor&gt;(Base: T): MnConstructor &amp; T {

  return class extends Base {

    /**
     * @override
     */
    @others
}
</t>
<t tx="ekr.20211016054411.1882">  public remapChars(chars: number[]) {
    //
    //  Convert a leading hyphen to a minus
    //
    if (chars.length) {
      const text = this.font.getRemappedChar('mn', chars[0]);
      if (text) {
        const c = this.unicodeChars(text, this.variant);
        if (c.length === 1) {
          chars[0] = c[0];
        } else {
          chars = c.concat(chars.slice(1));
        }
      }
    }
    return chars;
  }
};

</t>
<t tx="ekr.20211016054411.1883">


/**
 * @fileoverview  Implements the CommonMo wrapper mixin for the MmlMo object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';
import {MmlMo} from '../../../core/MmlTree/MmlNodes/mo.js';
import {BBox} from '../../../util/BBox.js';
import {unicodeChars} from '../../../util/string.js';
import {DelimiterData} from '../FontData.js';
import {DIRECTION, NOSTRETCH} from '../FontData.js';

/*****************************************************************/
/**
 * Convert direction to letter
 */
export const DirectionVH: {[n: number]: string} = {
  [DIRECTION.Vertical]: 'v',
  [DIRECTION.Horizontal]: 'h'
};

/*****************************************************************/
/**
 * The CommonMo interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1884">export interface CommonMo extends AnyWrapper {

  /**
   * The font size that a stretched operator uses.
   * If -1, then stretch arbitrarily, and bbox gives the actual height, depth, width
   */
  size: number;

  /**
   * True if used as an accent in an munderover construct
   */
  isAccent: boolean;

  /**
   * Get the (unmodified) bbox of the contents (before centering or setting accents to width 0)
   *
   * @param {BBox} bbox   The bbox to fill
   */
  protoBBox(bbox: BBox): void;

  /**
   * @return {number}    Offset to the left by half the actual width of the accent
   */
  getAccentOffset(): number;

  /**
   * @param {BBox} bbox   The bbox to center, or null to compute the bbox
   * @return {number}     The offset to move the glyph to center it
   */
  getCenterOffset(bbox?: BBox): number;

  /**
   * Determint variant for vertically/horizontally stretched character
   *
   * @param {number[]} WH  size to stretch to, either [W] or [H, D]
   * @param {boolean} exact  True if not allowed to use delimiter factor and shortfall
   */
  getStretchedVariant(WH: number[], exact?: boolean): void;

  /**
   * @param {string} name   The name of the attribute to get
   * @param {number} value  The default value to use
   * @return {number}       The size in em's of the attribute (or the default value)
   */
  getSize(name: string, value: number): number;

  /**
   * @param {number[]} WH  Either [W] for width, [H, D] for height and depth, or [] for min/max size
   * @return {number}      Either the width or the total height of the character
   */
  getWH(WH: number[]): number;

  /**
   * @param {number[]} WHD     The [W] or [H, D] being requested from the parent mrow
   * @param {number} D         The full dimension (including symmetry, etc)
   * @param {DelimiterData} C  The delimiter data for the stretchy character
   */
  getStretchBBox(WHD: number[], D: number, C: DelimiterData): void;

  /**
   * @param {number[]} WHD     The [H, D] being requested from the parent mrow
   * @param {number} HD        The full height (including symmetry, etc)
   * @param {DelimiterData} C  The delimiter data for the stretchy character
   * @return {number[]}        The height and depth for the vertically stretched delimiter
   */
  getBaseline(WHD: number[], HD: number, C: DelimiterData): number[];

  /**
   * Determine the size of the delimiter based on whether full extenders should be used or not.
   *
   * @param {number} D          The requested size of the delimiter
   * @param {DelimiterData} C   The data for the delimiter
   * @return {number}           The final size of the assembly
   */
  checkExtendedHeight(D: number, C: DelimiterData): number;

}

/**
 * Shorthand for the CommonMo constructor
 */
export type MoConstructor = Constructor&lt;CommonMo&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1885">/**
 * The CommomMo wrapper mixin for the MmlMo object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonMoMixin&lt;T extends WrapperConstructor&gt;(Base: T): MoConstructor &amp; T {

  return class extends Base {

    /**
     * The font size that a stretched operator uses.
     * If -1, then stretch arbitrarily, and bbox gives the actual height, depth, width
     */
    public size: number = null;

    /**
     * True if used as an accent in an munderover construct
     */
    public isAccent: boolean;

    /**
     * @override
     */
    @others
}
</t>
<t tx="ekr.20211016054411.1886">constructor(...args: any[]) {
  super(...args);
  this.isAccent = (this.node as MmlMo).isAccent;
}

</t>
<t tx="ekr.20211016054411.1887">/**
 * @override
 */
public computeBBox(bbox: BBox, _recompute: boolean = false) {
  this.protoBBox(bbox);
  if (this.node.attributes.get('symmetric') &amp;&amp;
      this.stretch.dir !== DIRECTION.Horizontal) {
    const d = this.getCenterOffset(bbox);
    bbox.h += d;
    bbox.d -= d;
  }
  if (this.node.getProperty('mathaccent') &amp;&amp;
      (this.stretch.dir === DIRECTION.None || this.size &gt;= 0)) {
    bbox.w = 0;
  }
}

</t>
<t tx="ekr.20211016054411.1888">/**
 * Get the (unmodified) bbox of the contents (before centering or setting accents to width 0)
 *
 * @param {BBox} bbox   The bbox to fill
 */
public protoBBox(bbox: BBox) {
  const stretchy = (this.stretch.dir !== DIRECTION.None);
  if (stretchy &amp;&amp; this.size === null) {
    this.getStretchedVariant([0]);
  }
  if (stretchy &amp;&amp; this.size &lt; 0) return;
  super.computeBBox(bbox);
  this.copySkewIC(bbox);
}

</t>
<t tx="ekr.20211016054411.1889">/**
 * @return {number}    Offset to the left by half the actual width of the accent
 */
public getAccentOffset(): number {
  const bbox = BBox.empty();
  this.protoBBox(bbox);
  return -bbox.w / 2;
}

</t>
<t tx="ekr.20211016054411.189">    function (resource) {
      resource.request = '../../components/src/output/chtml/nofont.js';
    }
  )
);
</t>
<t tx="ekr.20211016054411.1890">/**
 * @param {BBox} bbox   The bbox to center, or null to compute the bbox
 * @return {number}     The offset to move the glyph to center it
 */
public getCenterOffset(bbox: BBox = null): number {
  if (!bbox) {
    bbox = BBox.empty();
    super.computeBBox(bbox);
  }
  return ((bbox.h + bbox.d) / 2 + this.font.params.axis_height) - bbox.h;
}

</t>
<t tx="ekr.20211016054411.1891">/**
 * @override
 */
public getVariant() {
  if (this.node.attributes.get('largeop')) {
    this.variant = (this.node.attributes.get('displaystyle') ? '-largeop' : '-smallop');
    return;
  }
  if (!this.node.attributes.getExplicit('mathvariant') &amp;&amp;
      this.node.getProperty('pseudoscript') === false) {
    this.variant = '-tex-variant';
    return;
  }
  super.getVariant();
}

</t>
<t tx="ekr.20211016054411.1892">/**
 * @override
 */
public canStretch(direction: DIRECTION) {
  if (this.stretch.dir !== DIRECTION.None) {
    return this.stretch.dir === direction;
  }
  const attributes = this.node.attributes;
  if (!attributes.get('stretchy')) return false;
  const c = this.getText();
  if (Array.from(c).length !== 1) return false;
  const delim = this.font.getDelimiter(c.codePointAt(0));
  this.stretch = (delim &amp;&amp; delim.dir === direction ? delim : NOSTRETCH);
  return this.stretch.dir !== DIRECTION.None;
}

</t>
<t tx="ekr.20211016054411.1893">/**
 * Determint variant for vertically/horizontally stretched character
 *
 * @param {number[]} WH  size to stretch to, either [W] or [H, D]
 * @param {boolean} exact  True if not allowed to use delimiter factor and shortfall
 */
public getStretchedVariant(WH: number[], exact: boolean = false) {
  if (this.stretch.dir !== DIRECTION.None) {
    let D = this.getWH(WH);
    const min = this.getSize('minsize', 0);
    const max = this.getSize('maxsize', Infinity);
    const mathaccent = this.node.getProperty('mathaccent');
    //
    //  Clamp the dimension to the max and min
    //  then get the target size via TeX rules
    //
    D = Math.max(min, Math.min(max, D));
    const df = this.font.params.delimiterfactor / 1000;
    const ds = this.font.params.delimitershortfall;
    const m = (min || exact ? D : mathaccent ? Math.min(D / df, D + ds) :  Math.max(D * df, D - ds));
    //
    //  Look through the delimiter sizes for one that matches
    //
    const delim = this.stretch;
    const c = delim.c || this.getText().codePointAt(0);
    let i = 0;
    if (delim.sizes) {
      for (const d of delim.sizes) {
        if (d &gt;= m) {
          if (mathaccent &amp;&amp; i) {
            i--;
          }
          this.variant = this.font.getSizeVariant(c, i);
          this.size = i;
          if (delim.schar &amp;&amp; delim.schar[i]) {
            this.stretch = {...this.stretch, c: delim.schar[i]};
          }
          return;
        }
        i++;
      }
    }
    //
    //  No size matches, so if we can make multi-character delimiters,
    //  record the data for that, otherwise, use the largest fixed size.
    //
    if (delim.stretch) {
      this.size = -1;
      this.invalidateBBox();
      this.getStretchBBox(WH, this.checkExtendedHeight(D, delim), delim);
    } else {
      this.variant = this.font.getSizeVariant(c, i - 1);
      this.size = i - 1;
    }
  }
}

</t>
<t tx="ekr.20211016054411.1894">/**
 * @param {string} name   The name of the attribute to get
 * @param {number} value  The default value to use
 * @return {number}       The size in em's of the attribute (or the default value)
 */
public getSize(name: string, value: number): number {
  let attributes = this.node.attributes;
  if (attributes.isSet(name)) {
    value = this.length2em(attributes.get(name), 1, 1); // FIXME: should use height of actual character
  }
  return value;
}

</t>
<t tx="ekr.20211016054411.1895">/**
 * @param {number[]} WH  Either [W] for width, [H, D] for height and depth, or [] for min/max size
 * @return {number}      Either the width or the total height of the character
 */
public getWH(WH: number[]): number {
  if (WH.length === 0) return 0;
  if (WH.length === 1) return WH[0];
  let [H, D] = WH;
  const a = this.font.params.axis_height;
  return (this.node.attributes.get('symmetric') ? 2 * Math.max(H - a, D + a) : H + D);
}

</t>
<t tx="ekr.20211016054411.1896">/**
 * @param {number[]} WHD     The [W] or [H, D] being requested from the parent mrow
 * @param {number} D         The full dimension (including symmetry, etc)
 * @param {DelimiterData} C  The delimiter data for the stretchy character
 */
public getStretchBBox(WHD: number[], D: number, C: DelimiterData) {
  if (C.hasOwnProperty('min') &amp;&amp; C.min &gt; D) {
    D = C.min;
  }
  let [h, d, w] = C.HDW;
  if (this.stretch.dir === DIRECTION.Vertical) {
    [h, d] = this.getBaseline(WHD, D, C);
  } else {
    w = D;
  }
  this.bbox.h = h;
  this.bbox.d = d;
  this.bbox.w = w;
}

</t>
<t tx="ekr.20211016054411.1897">/**
 * @param {number[]} WHD     The [H, D] being requested from the parent mrow
 * @param {number} HD        The full height (including symmetry, etc)
 * @param {DelimiterData} C  The delimiter data for the stretchy character
 * @return {[number, number]}        The height and depth for the vertically stretched delimiter
 */
public getBaseline(WHD: number[], HD: number, C: DelimiterData): [number, number] {
  const hasWHD = (WHD.length === 2 &amp;&amp; WHD[0] + WHD[1] === HD);
  const symmetric = this.node.attributes.get('symmetric');
  const [H, D] = (hasWHD ? WHD : [HD, 0]);
  let [h, d] = [H + D, 0];
  if (symmetric) {
    //
    //  Center on the math axis
    //
    const a = this.font.params.axis_height;
    if (hasWHD) {
      h = 2 * Math.max(H - a, D + a);
    }
    d = h / 2 - a;
  } else if (hasWHD) {
    //
    //  Use the given depth (from mrow)
    //
    d = D;
  } else {
    //
    //  Use depth proportional to the normal-size character
    //  (when stretching for minsize or maxsize by itself)
    //
    let [ch, cd] = (C.HDW || [.75, .25]);
    d = cd * (h / (ch + cd));
  }
  return [h - d, d];
}

</t>
<t tx="ekr.20211016054411.1898">/**
 * @override
 */
public checkExtendedHeight(D: number, C: DelimiterData): number {
  if (C.fullExt) {
    const [extSize, endSize] = C.fullExt;
    const n = Math.ceil(Math.max(0, D - endSize) / extSize);
    D = endSize + n * extSize;
  }
  return D;
}

</t>
<t tx="ekr.20211016054411.1899">/**
 * @override
 */
  public remapChars(chars: number[]) {
    const primes = this.node.getProperty('primes') as string;
    if (primes) {
      return unicodeChars(primes);
    }
    if (chars.length === 1) {
      const parent = (this.node as MmlMo).coreParent().parent;
      const isAccent = this.isAccent &amp;&amp; !parent.isKind('mrow');
      const map = (isAccent ? 'accent' : 'mo');
      const text = this.font.getRemappedChar(map, chars[0]);
      if (text) {
        chars = this.unicodeChars(text, this.variant);
      }
    }
    return chars;
  }

};

</t>
<t tx="ekr.20211016054411.19">
import './lib/complexity.js';

import {combineDefaults} from '../../../../js/components/global.js';
import {ComplexityHandler} from '../../../../js/a11y/complexity.js';

if (MathJax.startup) {
  MathJax.startup.extendHandler(handler =&gt; ComplexityHandler(handler));
  combineDefaults(MathJax.config, 'options', MathJax.config['a11y/complexity'] || {});
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.190"></t>
<t tx="ekr.20211016054411.1900">


/**
 * @fileoverview  Implements the CommonMpadded wrapper mixin for the MmlMpadded object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';
import {BBox} from '../../../util/BBox.js';
import {Property} from '../../../core/Tree/Node.js';

/*****************************************************************/
/**
 * The CommonMpadded interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1901">export interface CommonMpadded extends AnyWrapper {
  /**
   * Get the content bounding box, and the change in size and offsets
   *   as specified by the parameters
   *
   * @return {number[]}  The original height, depth, width, the changes in height, depth,
   *                    and width, and the horizontal and vertical offsets of the content
   */
  getDimens(): number[];

  /**
   * Get a particular dimension, which can be relative to any of the BBox dimensions,
   *   and can be an offset from the default size of the given dimension.
   *
   * @param {Property} length   The value to be converted to a length in ems
   * @param {BBox} bbox         The bbox of the mpadded content
   * @param {string=} d         The default dimension to use for relative sizes ('w', 'h', or 'd')
   * @param {number=} m         The minimum value allowed for the dimension
   * @return {number}           The final dimension in ems
   */
  dimen(length: Property, bbox: BBox, d?: string, m?: number): number;
}

/**
 * Shorthand for the CommonMpadded constructor
 */
export type MpaddedConstructor = Constructor&lt;CommonMpadded&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1902">/**
 * The CommomMpadded wrapper for the MmlMpadded object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonMpaddedMixin&lt;T extends WrapperConstructor&gt;(Base: T): MpaddedConstructor &amp; T {

  return class extends Base {

    /**
     * Get the content bounding box, and the change in size and offsets
     *   as specified by the parameters
     *
     * @return {number[]}  The original height, depth, width, the changes in height, depth,
     *                    and width, and the horizontal and vertical offsets of the content
     */
    @others
}
</t>
<t tx="ekr.20211016054411.1903">public getDimens(): number[] {
  const values = this.node.attributes.getList('width', 'height', 'depth', 'lspace', 'voffset');
  const bbox = this.childNodes[0].getBBox();  // get unmodified bbox of children
  let {w, h, d} = bbox;
  let W = w, H = h, D = d, x = 0, y = 0, dx = 0;
  if (values.width !== '')   w = this.dimen(values.width, bbox, 'w', 0);
  if (values.height !== '')  h = this.dimen(values.height, bbox, 'h', 0);
  if (values.depth !== '')   d = this.dimen(values.depth, bbox, 'd', 0);
  if (values.voffset !== '') y = this.dimen(values.voffset, bbox);
  if (values.lspace !== '')  x = this.dimen(values.lspace, bbox);
  const align = this.node.attributes.get('data-align') as string;
  if (align) {
    dx = this.getAlignX(w, bbox, align);
  }
  return [H, D, W, h - H, d - D, w - W, x, y, dx];
}

</t>
<t tx="ekr.20211016054411.1904">/**
 * Get a particular dimension, which can be relative to any of the BBox dimensions,
 *   and can be an offset from the default size of the given dimension.
 *
 * @param {Property} length   The value to be converted to a length in ems
 * @param {BBox} bbox         The bbox of the mpadded content
 * @param {string} d          The default dimension to use for relative sizes ('w', 'h', or 'd')
 * @param {number} m          The minimum value allowed for the dimension
 * @return {number}           The final dimension in ems
 */
public dimen(length: Property, bbox: BBox, d: string = '', m: number = null): number {
  length = String(length);
  const match = length.match(/width|height|depth/);
  const size = (match ? bbox[match[0].charAt(0) as (keyof BBox)] :
                (d ? bbox[d as (keyof BBox)] : 0)) as number;
  let dimen = (this.length2em(length, size) || 0);
  if (length.match(/^[-+]/) &amp;&amp; d) {
    dimen += size;
  }
  if (m != null) {
    dimen = Math.max(m, dimen);
  }
  return dimen;
}

</t>
<t tx="ekr.20211016054411.1905">/**
 * @override
 */
public computeBBox(bbox: BBox, recompute: boolean = false) {
  const [H, D, W, dh, dd, dw] = this.getDimens();
  bbox.w = W + dw;
  bbox.h = H + dh;
  bbox.d = D + dd;
  this.setChildPWidths(recompute, bbox.w);
}

</t>
<t tx="ekr.20211016054411.1906">/**
 * @override
 */
public getWrapWidth(_i: number) {
  return this.getBBox().w;
}

</t>
<t tx="ekr.20211016054411.1907">/**
 * @override
 */
  public getChildAlign(_i: number) {
    return this.node.attributes.get('data-align') as string || 'left';
  }
};

</t>
<t tx="ekr.20211016054411.1908">


/**
 * @fileoverview  Implements the CommonMroot wrapper mixin for the MmlMroot object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {Constructor} from '../../common/Wrapper.js';
import {CommonMsqrt, MsqrtConstructor} from './msqrt.js';
import {CommonMo} from './mo.js';
import {BBox} from '../../../util/BBox.js';

/*****************************************************************/
/**
 * The CommonMroot interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1909">export interface CommonMroot extends CommonMsqrt {
}

/**
 * Shorthand for the CommonMroot constructor
 */
export type MrootConstructor = Constructor&lt;CommonMroot&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.191"></t>
<t tx="ekr.20211016054411.1910">/**
 * The CommonMroot wrapper mixin for the MmlMroot object (extends CommonMsqrt)
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonMrootMixin&lt;T extends MsqrtConstructor&gt;(Base: T): MrootConstructor &amp; T {

  return class extends Base {

    /**
     * @override
     */
    get surd() {
      return 2;
    }

    /**
     * @override
     */
    get root(): number {
      return 1;
    }

    /**
     * @override
     */
    @others
}
</t>
<t tx="ekr.20211016054411.1911">public combineRootBBox(BBOX: BBox, sbox: BBox, H: number) {
  const bbox = this.childNodes[this.root].getBBox();
  const h = this.getRootDimens(sbox, H)[1];
  BBOX.combine(bbox, 0, h);
}

</t>
<t tx="ekr.20211016054411.1912">/**
 * @override
 */
public getRootDimens(sbox: BBox, H: number) {
  const surd = this.childNodes[this.surd] as CommonMo;
  const bbox = this.childNodes[this.root].getBBox();
  const offset = (surd.size &lt; 0 ? .5 : .6) * sbox.w;
  const {w, rscale} = bbox;
  const W = Math.max(w, offset / rscale);
  const dx = Math.max(0, W - w);
  const h = this.rootHeight(bbox, sbox, surd.size, H);
  const x = W * rscale - offset;
  return [x, h, dx];
}

</t>
<t tx="ekr.20211016054411.1913">/**
 * @param {BBox} rbox      The bbox of the root
 * @param {BBox} sbox      The bbox of the surd
 * @param {number} size    The size of the surd
 * @param {number} H       The height of the root as a whole
 * @return {number}        The height of the root within the surd
 */
  public rootHeight(rbox: BBox, sbox: BBox, size: number, H: number): number {
    const h = sbox.h + sbox.d;
    const b = (size &lt; 0 ? 1.9 : .55 * h) - (h - H);
    return b + Math.max(0, rbox.d * rbox.rscale);
  }

};

</t>
<t tx="ekr.20211016054411.1914">


/**
 * @fileoverview  Implements the CommonMrow wrapper minin for the MmlMrow object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';
import {CommonMo} from './mo.js';
import {BBox} from '../../../util/BBox.js';
import {DIRECTION} from '../FontData.js';

/*****************************************************************/
/**
 * The CommonMrow interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1915">export interface CommonMrow extends AnyWrapper {
  /**
   * Handle vertical stretching of children to match height of
   *  other nodes in the row.
   */
  stretchChildren(): void;
}

/**
 * Shorthand for the CommonMrow constructor
 */
export type MrowConstructor = Constructor&lt;CommonMrow&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1916">/**
 * The CommonMrow wrapper mixin for the MmlMrow object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonMrowMixin&lt;T extends WrapperConstructor&gt;(Base: T): MrowConstructor &amp; T {

  return class extends Base {

    /**
     * @override
     */
    get fixesPWidth() {
      return false;
    }

    /**
     * @override
     * @constructor
     */
    @others
}

/*****************************************************************/
/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1917">constructor(...args: any[]) {
  super(...args);
  this.stretchChildren();
  for (const child of this.childNodes) {
    if (child.bbox.pwidth) {
      this.bbox.pwidth = BBox.fullWidth;
      break;
    }
  }
}

</t>
<t tx="ekr.20211016054411.1918">/**
 * Handle vertical stretching of children to match height of
 *  other nodes in the row.
 */
  public stretchChildren() {
    let stretchy: AnyWrapper[] = [];
    //
    //  Locate and count the stretchy children
    //
    for (const child of this.childNodes) {
      if (child.canStretch(DIRECTION.Vertical)) {
        stretchy.push(child);
      }
    }
    let count = stretchy.length;
    let nodeCount = this.childNodes.length;
    if (count &amp;&amp; nodeCount &gt; 1) {
      let H = 0, D = 0;
      //
      //  If all the children are stretchy, find the largest one,
      //  otherwise, find the height and depth of the non-stretchy
      //  children.
      //
      let all = (count &gt; 1 &amp;&amp; count === nodeCount);
      for (const child of this.childNodes) {
        const noStretch = (child.stretch.dir === DIRECTION.None);
        if (all || noStretch) {
          let {h, d, rscale} = child.getBBox(noStretch);
          h *= rscale;
          d *= rscale;
          if (h &gt; H) H = h;
          if (d &gt; D) D = d;
        }
      }
      //
      //  Stretch the stretchable children
      //
      for (const child of stretchy) {
        (child.coreMO() as CommonMo).getStretchedVariant([H, D]);
      }
    }
  }

};
</t>
<t tx="ekr.20211016054411.1919">/**
 * The CommonInferredMrow interface
 */
export interface CommonInferredMrow extends CommonMrow {
}

/**
 * Shorthand for the CommonInferredMrow constructor
 */
export type InferredMrowConstructor = Constructor&lt;CommonInferredMrow&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.192">
import './lib/tex.js';

import {combineDefaults} from '../../../../../../js/components/global.js';
import {Package} from '../../../../../../js/components/package.js';
import {selectOptionsFromKeys} from '../../../../../../js/util/Options.js';
import {TeXFont} from '../../../../../../js/output/chtml/fonts/tex.js';

if (MathJax.startup) {
  combineDefaults(MathJax.config, 'chtml', {
    fontURL: Package.resolvePath('output/chtml/fonts/woff-v2', false)
  });
  const options = selectOptionsFromKeys(MathJax.config.chtml || {}, TeXFont.OPTIONS);
  combineDefaults(MathJax.config, 'chtml', {font: new TeXFont(options)});
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1920">/**
 * The CommonInferredMrow wrapper mixin for the MmlInferredMrow object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonInferredMrowMixin&lt;T extends MrowConstructor&gt;(Base: T): InferredMrowConstructor &amp; T {

  return class extends Base {

    /**
     * Since inferred rows don't produce a container span, we can't
     * set a font-size for it, so we inherit the parent scale
     *
     * @override
     */
    @others
}
</t>
<t tx="ekr.20211016054411.1921">  public getScale() {
    this.bbox.scale = this.parent.bbox.scale;
    this.bbox.rscale = 1;
  }
};

</t>
<t tx="ekr.20211016054411.1922">


/**
 * @fileoverview  Implements the CommonMs wrapper mixin for the MmlMs object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';

/*****************************************************************/
/**
 * The CommonMs interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1923">export interface CommonMs extends AnyWrapper {
  /**
   * Create a text wrapper with the given text;
   *
   * @param {string} text  The text for the wrapped element
   * @return {CommonWrapper}   The wrapped text node
   */
  createText(text: string): AnyWrapper;
}

/**
 * Shorthand for the CommonMs constructor
 */
export type MsConstructor = Constructor&lt;CommonMs&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1924">/**
 * The CommonMs wrapper mixin for the MmlMs object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonMsMixin&lt;T extends WrapperConstructor&gt;(Base: T): MsConstructor &amp; T {

  return class extends Base {

    /**
     * Add the quote characters to the wrapper children so they will be output
     *
     * @override
     */
    @others
}
</t>
<t tx="ekr.20211016054411.1925">constructor(...args: any[]) {
  super(...args);
  const attributes = this.node.attributes;
  let quotes = attributes.getList('lquote', 'rquote');
  if (this.variant !== 'monospace') {
    if (!attributes.isSet('lquote') &amp;&amp; quotes.lquote === '"') quotes.lquote = '\u201C';
    if (!attributes.isSet('rquote') &amp;&amp; quotes.rquote === '"') quotes.rquote = '\u201D';
  }
  this.childNodes.unshift(this.createText(quotes.lquote as string));
  this.childNodes.push(this.createText(quotes.rquote as string));
}

</t>
<t tx="ekr.20211016054411.1926">/**
 * Create a text wrapper with the given text;
 *
 * @param {string} text   The text for the wrapped element
 * @return {AnyWrapper}   The wrapped text node
 */
  public createText(text: string): AnyWrapper {
    const node = this.wrap(this.mmlText(text));
    node.parent = this;
    return node;
  }
};

</t>
<t tx="ekr.20211016054411.1927">


/**
 * @fileoverview  Implements the CommonMspace wrapper mixin for the MmlMspace object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';
import {BBox} from '../../../util/BBox.js';

/*****************************************************************/
/**
 * The CommonMspance interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1928">export interface CommonMspace extends AnyWrapper {
}

/**
 * Shorthand for the CommonMspace constructor
 */
export type MspaceConstructor = Constructor&lt;CommonMspace&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1929">/**
 * The CommonMspace wrapper mixin for the MmlMspace object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonMspaceMixin&lt;T extends WrapperConstructor&gt;(Base: T): MspaceConstructor &amp; T {

  return class extends Base {

    /**
     * @override
     */
    @others
}
</t>
<t tx="ekr.20211016054411.193">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'output/chtml/fonts/tex',           // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/core/lib',
    'components/src/output/chtml/lib',
    'components/src/startup/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1930">public computeBBox(bbox: BBox, _recompute: boolean = false) {
  const attributes = this.node.attributes;
  bbox.w = this.length2em(attributes.get('width'), 0);
  bbox.h = this.length2em(attributes.get('height'), 0);
  bbox.d = this.length2em(attributes.get('depth'), 0);
}

</t>
<t tx="ekr.20211016054411.1931">/**
 * No contents, so no need for variant class
 *
 * @override
 */
  public handleVariant() {
  }

};

</t>
<t tx="ekr.20211016054411.1932">


/**
 * @fileoverview  Implements the CommonMsqrt wrapper for the MmlMsqrt object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';
import {CommonMo} from './mo.js';
import {BBox} from '../../../util/BBox.js';
import {DIRECTION} from '../FontData.js';

/*****************************************************************/
/**
 * The CommonMsqrt interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1933">export interface CommonMsqrt extends AnyWrapper {
  /**
   * The index of the base of the root in childNodes
   */
  readonly base: number;

  /**
   * The index of the surd in childNodes
   */
  readonly surd: number;

  /**
   * The index of the root in childNodes (or null if none)
   */
  readonly root: number;

  /**
   * The requested height of the stretched surd character
   */
  surdH: number;

  /**
   * Combine the bounding box of the root (overridden in mroot)
   *
   * @param {BBox} bbox  The bounding box so far
   * @param {BBox} sbox  The bounding box of the surd
   * @param {number} H   The height of the root as a whole
   */
  combineRootBBox(bbox: BBox, sbox: BBox, H: number): void;

  /**
   * @param {BBox} sbox  The bounding box for the surd character
   * @return {number[]}  The p, q, and x values for the TeX layout computations
   */
  getPQ(sbox: BBox): number[];

  /**
   * @param {BBox} sbox  The bounding box of the surd
   * @param {number} H   The height of the root as a whole
   * @return {number[]}  The x offset of the surd, and the height, x offset, and scale of the root
   */
  getRootDimens(sbox: BBox, H: Number): number[];

}

/**
 * Shorthand for the CommonMsqrt constructor
 */
export type MsqrtConstructor = Constructor&lt;CommonMsqrt&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1934">/**
 * The CommonMsqrt wrapper mixin for the MmlMsqrt object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonMsqrtMixin&lt;T extends WrapperConstructor&gt;(Base: T): MsqrtConstructor &amp; T {

  return class extends Base {

    /**
     * @return {number}  The index of the base of the root in childNodes
     */
    get base(): number {
      return 0;
    }

    /**
     * @return {number}  The index of the surd in childNodes
     */
    get surd(): number {
      return 1;
    }

    /**
     * @return {number}  The index of the root in childNodes (or null if none)
     */
    get root(): number {
      return null;
    }

    /**
     * The requested height of the stretched surd character
     */
    public surdH: number;

    /**
     * Add the surd character so we can display it later
     *
     * @override
     */
    @others
}
</t>
<t tx="ekr.20211016054411.1935">constructor(...args: any[]) {
  super(...args);
  const surd = this.createMo('\u221A');
  surd.canStretch(DIRECTION.Vertical);
  const {h, d} = this.childNodes[this.base].getBBox();
  const t = this.font.params.rule_thickness;
  const p = (this.node.attributes.get('displaystyle') ? this.font.params.x_height : t);
  this.surdH = h + d + 2 * t + p / 4;
  (surd as CommonMo).getStretchedVariant([this.surdH - d, d], true);
}

</t>
<t tx="ekr.20211016054411.1936">/**
 * @override
 */
public createMo(text: string) {
  const node = super.createMo(text);
  this.childNodes.push(node);
  return node;
}

</t>
<t tx="ekr.20211016054411.1937">/**
 * @override
 */
public computeBBox(bbox: BBox, recompute: boolean = false) {
  const surdbox = this.childNodes[this.surd].getBBox();
  const basebox = new BBox(this.childNodes[this.base].getBBox());
  const q = this.getPQ(surdbox)[1];
  const t = this.font.params.rule_thickness;
  const H = basebox.h + q + t;
  const [x] = this.getRootDimens(surdbox, H);
  bbox.h = H + t;
  this.combineRootBBox(bbox, surdbox, H);
  bbox.combine(surdbox, x, H - surdbox.h);
  bbox.combine(basebox, x + surdbox.w, 0);
  bbox.clean();
  this.setChildPWidths(recompute);
}

</t>
<t tx="ekr.20211016054411.1938">/**
 * Combine the bounding box of the root (overridden in mroot)
 *
 * @param {BBox} bbox  The bounding box so far
 * @param {BBox} sbox  The bounding box of the surd
 * @param {number} H   The height of the root as a whole
 */
public combineRootBBox(_bbox: BBox, _sbox: BBox, _H: number) {
}

</t>
<t tx="ekr.20211016054411.1939">/**
 * @param {BBox} sbox  The bounding box for the surd character
 * @return {[number, number]}  The p, q, and x values for the TeX layout computations
 */
public getPQ(sbox: BBox): [number, number] {
  const t = this.font.params.rule_thickness;
  const p = (this.node.attributes.get('displaystyle') ? this.font.params.x_height : t);
  const q = (sbox.h + sbox.d &gt; this.surdH ?
             ((sbox.h + sbox.d) - (this.surdH - 2 * t - p / 2)) / 2 :
             t + p / 4);
  return [p, q];
}

</t>
<t tx="ekr.20211016054411.194"></t>
<t tx="ekr.20211016054411.1940">/**
 * @param {BBox} sbox  The bounding box of the surd
 * @param {number} H   The height of the root as a whole
 * @return {[number, number, number, number]} The x offset of the surd, and
 *     the height, x offset, and scale of the root
 */
  public getRootDimens(_sbox: BBox, _H: number): [number, number, number, number] {
    return [0, 0, 0, 0];
  }

};

</t>
<t tx="ekr.20211016054411.1941">


/**
 * @fileoverview  Implements the CommonMsubsup wrapper mixin for the MmlMsubsup object
 *                and the special cases CommonMsub and CommonMsup
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, Constructor} from '../Wrapper.js';
import {CommonScriptbase, ScriptbaseConstructor} from './scriptbase.js';
import {BBox} from '../../../util/BBox.js';
import {MmlMsubsup, MmlMsub, MmlMsup} from '../../../core/MmlTree/MmlNodes/msubsup.js';

/*****************************************************************/
/**
 * The CommonMsub interface
 *
 * @template W  The child-node Wrapper class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1942">export interface CommonMsub&lt;W extends AnyWrapper&gt; extends CommonScriptbase&lt;W&gt; {
}

/**
 * Shorthand for the CommonMsub constructor
 *
 * @template W  The child-node Wrapper class
 */
export type MsubConstructor&lt;W extends AnyWrapper&gt; = Constructor&lt;CommonMsub&lt;W&gt;&gt;;

/*****************************************************************/
/**
 * The CommonMsub wrapper mixin for the MmlMsub object
 *
 * @template W  The child-node Wrapper class
 * @template T  The Wrapper class constructor type
 */
export function CommonMsubMixin&lt;
  W extends AnyWrapper,
  T extends ScriptbaseConstructor&lt;W&gt;
&gt;(Base: T): MsubConstructor&lt;W&gt; &amp; T {

  return class extends Base {

    /**
     * Do not include italic correction
     */
    public static useIC: boolean = false;

    /**
     * @override
     */
    public get scriptChild() {
      return this.childNodes[(this.node as MmlMsub).sub];
    }

    
</t>
<t tx="ekr.20211016054411.1943">/**
     * Get the shift for the subscript
     *
     * @override
     */
    public getOffset() {
      return [0, -this.getV()];
    }

  };

}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1944">/**
 * The CommonMsup interface
 *
 * @template W  The child-node Wrapper class
 */
export interface CommonMsup&lt;W extends AnyWrapper&gt; extends CommonScriptbase&lt;W&gt; {
}

/**
 * Shorthand for the CommonMsup constructor
 *
 * @template W  The child-node Wrapper class
 */
export type MsupConstructor&lt;W extends AnyWrapper&gt; = Constructor&lt;CommonMsup&lt;W&gt;&gt;;

/*****************************************************************/
/**
 * The CommonMsup wrapper mixin for the MmlMsup object
 *
 * @template W  The child-node Wrapper class
 * @template T  The Wrapper class constructor type
 */
export function CommonMsupMixin&lt;
  W extends AnyWrapper,
  T extends ScriptbaseConstructor&lt;W&gt;
&gt;(Base: T): MsupConstructor&lt;W&gt; &amp; T {

  return class extends Base {

    /**
     * @override
     */
    public get scriptChild() {
      return this.childNodes[(this.node as MmlMsup).sup];
    }

    
</t>
<t tx="ekr.20211016054411.1945">/**
     * Get the shift for the superscript
     *
     * @override
     */
    public getOffset() {
      const x = this.getAdjustedIc() - (this.baseRemoveIc ? 0 : this.baseIc);
      return [x, this.getU()];
    }

  };

}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1946">/**
 * The CommonMsubsup interface
 *
 * @template W  The child-node Wrapper class
 */
export interface CommonMsubsup&lt;W extends AnyWrapper&gt; extends CommonScriptbase&lt;W&gt; {

  /**
   *  Cached values for the script offsets and separation (so if they are
   *  computed in computeBBox(), they don't have to be recomputed during output)
   */
  UVQ: number[];

  /**
   * The wrapper for the subscript
   */
  readonly subChild: W;

  /**
   * The wrapper for the superscript
   */
  readonly supChild: W;

  /**
   * Get the shift for the scripts and their separation (TeXBook Appendix G 18adef)
   *
   * @param {BBox} subbox     The bounding box of the superscript
   * @param {BBox} supbox     The bounding box of the subscript
   * @return {number[]}       The vertical offsets for super and subscripts, and the space between them
   */
  getUVQ(subbox?: BBox, supbox?: BBox): number[];
}

/**
 * Shorthand for the CommonMsubsup constructor
 *
 * @template W  The child-node Wrapper class
 */
export type MsubsupConstructor&lt;W extends AnyWrapper&gt; = Constructor&lt;CommonMsubsup&lt;W&gt;&gt;;

/*****************************************************************/
/**
 * The CommomMsubsup wrapper for the MmlMsubsup object
 *
 * @template W  The child-node Wrapper class
 * @template T  The Wrapper class constructor type
 */
export function CommonMsubsupMixin&lt;
  W extends AnyWrapper,
  T extends ScriptbaseConstructor&lt;W&gt;
&gt;(Base: T): MsubsupConstructor&lt;W&gt; &amp; T {

  return class extends Base {

    /**
     * Do not include italic correction
     */
    public static useIC: boolean = false;

    /**
     *  Cached values for the script offsets and separation (so if they are
     *  computed in computeBBox(), they don't have to be recomputed during output)
     */
    public UVQ: number[] = null;

    /**
     * @return {W}  The wrapper for the subscript
     */
    public get subChild(): W {
      return this.childNodes[(this.node as MmlMsubsup).sub];
    }

    /**
     * @return {W}  The wrapper for the superscript
     */
    public get supChild(): W {
      return this.childNodes[(this.node as MmlMsubsup).sup];
    }

    
</t>
<t tx="ekr.20211016054411.1947">/**
     * @override
     */
    public computeBBox(bbox: BBox, recompute: boolean = false) {
      const basebox = this.baseChild.getBBox();
      const [subbox, supbox] = [this.subChild.getBBox(), this.supChild.getBBox()];
      bbox.empty();
      bbox.append(basebox);
      const w = this.getBaseWidth();
      const x = this.getAdjustedIc();
      const [u, v] = this.getUVQ();
      bbox.combine(subbox, w, v);
      bbox.combine(supbox, w + x, u);
      bbox.w += this.font.params.scriptspace;
      bbox.clean();
      this.setChildPWidths(recompute);
    }

    /**
     * Get the shift for the scripts and their separation (TeXBook Appendix G 18adef)
     *
     * @param {BBox} subbox     The bounding box of the superscript
     * @param {BBox} supbox     The bounding box of the subscript
     * @return {number[]}       The vertical offsets for super and subscripts, and the space between them
     */
    public getUVQ(
      subbox: BBox = this.subChild.getBBox(),
      supbox: BBox = this.supChild.getBBox()
    ): number[] {
      const basebox = this.baseCore.getBBox();
      if (this.UVQ) return this.UVQ;
      const tex = this.font.params;
      const t = 3 * tex.rule_thickness;
      const subscriptshift = this.length2em(this.node.attributes.get('subscriptshift'), tex.sub2);
      const drop = this.baseCharZero(basebox.d * this.baseScale + tex.sub_drop * subbox.rscale);
      //
      // u and v are the veritcal shifts of the scripts, initially set to minimum values and then adjusted
      //
      let [u, v] = [this.getU(), Math.max(drop, subscriptshift)];
      //
      // q is the space currently between the super- and subscripts.
      // If it is less than 3 rule thicknesses,
      //   increase the subscript offset to make the space 3 rule thicknesses
      //   If the bottom of the superscript is below 4/5 of the x-height
      //     raise both the super- and subscripts by the difference
      //     (make the bottom of the superscript be at 4/5 the x-height, and the
      //      subscript 3 rule thickness below that).
      //
      let q = (u - supbox.d * supbox.rscale) - (subbox.h * subbox.rscale - v);
      if (q &lt; t) {
        v += t - q;
        const p = (4 / 5) * tex.x_height - (u - supbox.d * supbox.rscale);
        if (p &gt; 0) {
          u += p;
          v -= p;
        }
      }
      //
      // Make sure the shifts are at least the minimum amounts and
      // return the shifts and the space between the scripts
      //
      u = Math.max(this.length2em(this.node.attributes.get('superscriptshift'), u), u);
      v = Math.max(this.length2em(this.node.attributes.get('subscriptshift'), v), v);
      q = (u - supbox.d * supbox.rscale) - (subbox.h * subbox.rscale - v);
      this.UVQ = [u, -v, q];
      return this.UVQ;
    }

  };

}
</t>
<t tx="ekr.20211016054411.1948">


/**
 * @fileoverview  Implements the CommonMtable wrapper mixin for the MmlMtable object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';
import {CommonMtr} from './mtr.js';
import {CommonMo} from './mo.js';
import {BBox} from '../../../util/BBox.js';
import {DIRECTION} from '../FontData.js';
import {split, isPercent} from '../../../util/string.js';
import {sum, max} from '../../../util/numeric.js';

/*****************************************************************/
/**
 * The heights, depths, and widths of the rows and columns
 * Plus the natural height and depth (i.e., without the labels)
 * Plus the label column width
 */
export type TableData = {
  H: number[];
  D: number[];
  W: number[];
  NH: number[];
  ND: number[];
  L: number;
};

/**
 * An array of table dimensions
 */
export type ColumnWidths = (string | number | null)[];

/*****************************************************************/
/**
 * The CommonMtable interface
 *
 * @template C   The class for table cells
 * @template R   The class for table rows
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1949">export interface CommonMtable&lt;C extends AnyWrapper, R extends CommonMtr&lt;C&gt;&gt; extends AnyWrapper {

  /**
   * The number of columns and rows in the table
   */
  numCols: number;
  numRows: number;

  /**
   * True if there are labeled rows
   */
  hasLabels: boolean;

  /**
   * True if this mtable is the top element, or in a top-most mrow
   */
  isTop: boolean;

  /**
   * The parent node of this table (skipping non-parents and mrows)
   *   and the position of the table as a child node
   */
  container: AnyWrapper;
  containerI: number;

  /**
   * The spacing and line data
   */
  frame: boolean;
  fLine: number;
  fSpace: number[];
  cSpace: number[];
  rSpace: number[];
  cLines: number[];
  rLines: number[];
  cWidths: (number | string)[];

  /**
   * The bounding box information for the table rows and columns
   */
  data: TableData;

  /**
   * The table cells that have percentage-width content
   */
  pwidthCells: [C, number][];

  /**
   * The full width of a percentage-width table
   */
  pWidth: number;

  /**
   * The rows of the table
   */
  readonly tableRows: R[];

  /**
   * @override
   */
  childNodes: R[];

  /**
   * Find the container and the child position of the table
   */
  findContainer(): void;

  /**
   * If the table has a precentage width or has labels, set the pwidth of the bounding box
   */
  getPercentageWidth(): void;

  /**
   * Stretch the rows to the equal height or natural height
   */
  stretchRows(): void;

  /**
   * Stretch the columns to their proper widths
   */
  stretchColumns(): void;

  /**
   * Handle horizontal stretching within the ith column
   *
   * @param {number} i   The column number
   * @param {number} W   The computed width of the column (or null of not computed)
   */
  stretchColumn(i: number, W: number): void;

  /**
   * Determine the row heights and depths, the column widths,
   * and the natural width and height of the table.
   *
   * @return {TableData}  The dimensions of the rows and columns
   */
  getTableData(): TableData;

  /**
   * @param {C} cell         The cell whose height, depth, and width are to be added into the H, D, W arrays
   * @param {number} i       The column number for the cell
   * @param {number} j       The row number for the cell
   * @param {string} align   The row alignment
   * @param {number[]} H     The maximum height for each of the rows
   * @param {number[]} D     The maximum depth for each of the rows
   * @param {number[]} W     The maximum width for each column
   * @param {number} M       The current height for items aligned top and bottom
   * @return {number}        The updated value for M
   */
  updateHDW(cell: C, i: number, j: number, align: string, H: number[], D: number[], W: number[], M: number): number;

  /**
   * Extend the H and D of a row to cover the maximum height needed by top/bottom aligned items
   *
   * @param {number} i     The row whose hight and depth should be adjusted
   * @param {number[]} H   The row heights
   * @param {number[]} D   The row depths
   * @param {number} M     The maximum height of top/bottom aligned items
   */
  extendHD(i: number, H: number[], D: number[], M: number): void;

  /**
   * Set cell widths for columns with percentage width children
   */
  setColumnPWidths(): void;

  /**
   * @param {number} height   The total height of the table
   * @return {number[]}       The [height, depth] for the aligned table
   */
  getBBoxHD(height: number): number[];

  /**
   * Get bbox left and right amounts to cover labels
   */
  getBBoxLR(): number[];

  /**
   * @param {string} side                 The side for the labels
   * @return {[number, string, number]}   The padding, alignment, and shift amounts
   */
  getPadAlignShift(side: string): [number, string, number];

  /**
   * @return {number}    The true width of the table (without labels)
   */
  getWidth(): number;

  /**
   * @return {number}   The maximum height of a row
   */
  getEqualRowHeight(): number;

  /**
   * @return {number[]}   The array of computed widths
   */
  getComputedWidths(): number[];

  /**
   * Determine the column widths that can be computed (and need to be set).
   * The resulting arrays will have numbers for fixed-size arrays,
   *   strings for percentage sizes that can't be determined now,
   *   and null for stretchy columns tht will expand to fill the extra space.
   * Depending on the width specified for the table, different column
   *  values can be determined.
   *
   * @return {ColumnWidths}  The array of widths
   */
  getColumnWidths(): ColumnWidths;

  /**
   * For tables with equal columns, get the proper amount per row.
   *
   * @return {ColumnWidths}  The array of widths
   */
  getEqualColumns(width: string): ColumnWidths;

  /**
   * For tables with width="auto", auto and fit columns
   * will end up being natural width, so don't need to
   * set those explicitly.
   *
   * @return {ColumnWidths}  The array of widths
   */
  getColumnWidthsAuto(swidths: string[]): ColumnWidths;

  /**
   * For tables with percentage widths, let 'fit' columns (or 'auto'
   * columns if there are not 'fit' ones) will stretch automatically,
   * but for 'auto' columns (when there are 'fit' ones), set the size
   * to the natural size of the column.
   *
   * @param {string[]} widths  Strings giving the widths
   * @return {ColumnWidths}    The array of widths
   */
  getColumnWidthsPercent(widths: string[]): ColumnWidths;

  /**
   * For fixed-width tables, compute the column widths of all columns.
   *
   * @return {ColumnWidths}  The array of widths
   */
  getColumnWidthsFixed(swidths: string[], width: number): ColumnWidths;

  /**
   * @param {number} i      The row number (starting at 0)
   * @param {string} align  The alignment on that row
   * @return {number}       The offest of the alignment position from the top of the table
   */
  getVerticalPosition(i: number, align: string): number;

  /**
   * @param {number} fspace   The frame spacing to use
   * @param {number[]} space  The array of spacing values to convert to strings
   * @param {number} scale    A scaling factor to use for the sizes
   * @return {string[]}       The half-spacing as stings with units of "em"
   *                           with frame spacing at the beginning and end
   */
  getEmHalfSpacing(fspace: number, space: number[], scale?: number): string[];

  /**
   * @return {number[]}   The half-spacing for rows with frame spacing at the ends
   */
  getRowHalfSpacing(): number[];

  /**
   * @return {number[]}   The half-spacing for columns with frame spacing at the ends
   */
  getColumnHalfSpacing(): number[];

  /**
   * @return {[string,number|null]}  The alignment and row number (based at 0) or null
   */
  getAlignmentRow(): [string, number | null];

  /**
   * @param {string} name           The name of the attribute to get as an array
   * @param {number=} i             Return this many fewer than numCols entries
   * @return {string[]}             The array of values in the given attribute, split at spaces,
   *                                 padded to the number of table columns (minus 1) by repeating the last entry
   */
  getColumnAttributes(name: string, i?: number): string[];

  /**
   * @param {string} name           The name of the attribute to get as an array
   * @param {number=} i             Return this many fewer than numRows entries
   * @return {string[]}             The array of values in the given attribute, split at spaces,
   *                                 padded to the number of table rows (minus 1) by repeating the last entry
   */
  getRowAttributes(name: string, i?: number): string[];

  /**
   * @param {string} name           The name of the attribute to get as an array
   * @return {string[]}             The array of values in the given attribute, split at spaces
   *                                 (after leading and trailing spaces are removed, and multiple
   *                                  spaces have been collapsed to one).
   */
  getAttributeArray(name: string): string[];

  /**
   * Adds "em" to a list of dimensions, after dividing by n (defaults to 1).
   *
   * @param {string[]} list   The array of dimensions (in em's)
   * @param {nunber=} n       The number to divide each dimension by after converted
   * @return {string[]}       The array of values with "em" added
   */
  addEm(list: number[], n?: number): string[];

  /**
   * Converts an array of dimensions (with arbitrary units) to an array of numbers
   *   representing the dimensions in units of em's.
   *
   * @param {string[]} list   The array of dimensions to be turned into em's
   * @return {number[]}       The array of values converted to em's
   */
  convertLengths(list: string[]): number[];

}

/**
 * Shorthand for the CommonMtable constructor
 */
export type MtableConstructor&lt;C extends AnyWrapper, R extends CommonMtr&lt;C&gt;&gt; = Constructor&lt;CommonMtable&lt;C, R&gt;&gt;;

/*****************************************************************/
/**
 * The CommonMtable wrapper mixin for the MmlMtable object
 *
 * @template C  The table cell class
 * @temlpate R  the table row class
 * @template T  The Wrapper class constructor type
 */
export function CommonMtableMixin&lt;
  C extends AnyWrapper,
  R extends CommonMtr&lt;C&gt;,
  T extends WrapperConstructor
&gt;(Base: T): MtableConstructor&lt;C, R&gt; &amp; T {

  return class extends Base {

    /**
     * The number of columns in the table
     */
    public numCols: number = 0;
    /**
     * The number of rows in the table
     */
    public numRows: number = 0;

    /**
     * True if there are labeled rows
     */
    public hasLabels: boolean;

    /**
     * True if this mtable is the top element, or in a top-most mrow
     */
    public isTop: boolean;

    /**
     * The parent node of this table (skipping non-parents and mrows)
     */
    public container: AnyWrapper;
    /**
     * The position of the table as a child node of its container
     */
    public containerI: number;

    /**
     * True if there is a frame
     */
    public frame: boolean;
    /**
     * The size of the frame line (or 0 if none)
     */
    public fLine: number;
    /**
     * frame spacing on the left and right
     */
    public fSpace: number[];
    /**
     * The spacing between columns
     */
    public cSpace: number[];
    /**
     * The spacing between rows
     */
    public rSpace: number[];
    /**
     * The width of columns lines (or 0 if no line for the column)
     */
    public cLines: number[];
    /**
     * The width of row lines (or 0 if no lone for that row)
     */
    public rLines: number[];
    /**
     * The column widths (or percentages, etc.)
     */
    public cWidths: (number | string)[];

    /**
     * The bounding box information for the table rows and columns
     */
    public data: TableData = null;

    /**
     * The table cells that have percentage-width content
     */
    public pwidthCells: [C, number][] = [];

    /**
     * The full width of a percentage-width table
     */
    public pWidth: number = 0;

    /**
     * @return {R[]}  The rows of the table
     */
    get tableRows(): R[] {
      return this.childNodes;
    }

    /******************************************************************/

    
</t>
<t tx="ekr.20211016054411.195">
import {FontData} from '../../../../js/output/svg/FontData.js';

export class TeXFont extends FontData {};

TeXFont.OPTIONS = {fontURL: '.'};
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1950">/**
     * @override
     * @constructor
     */
constructor(...args: any[]) {
  super(...args);
  //
  // Determine the number of columns and rows, and whether the table is stretchy
  //
  this.numCols = max(this.tableRows.map(row =&gt; row.numCells));
  this.numRows = this.childNodes.length;
  this.hasLabels = this.childNodes.reduce((value, row) =&gt; value || row.node.isKind('mlabeledtr'), false);
  this.findContainer();
  this.isTop = !this.container || (this.container.node.isKind('math') &amp;&amp; !this.container.parent);
  if (this.isTop) {
    this.jax.table = this;
  }
  this.getPercentageWidth();
  //
  // Get the frame, row, and column parameters
  //
  const attributes = this.node.attributes;
  this.frame = attributes.get('frame') !== 'none';
  this.fLine = (this.frame &amp;&amp; attributes.get('frame') ? .07 : 0);
  this.fSpace = (this.frame ? this.convertLengths(this.getAttributeArray('framespacing')) : [0, 0]);
  this.cSpace = this.convertLengths(this.getColumnAttributes('columnspacing'));
  this.rSpace = this.convertLengths(this.getRowAttributes('rowspacing'));
  this.cLines = this.getColumnAttributes('columnlines').map(x =&gt; (x === 'none' ? 0 : .07));
  this.rLines = this.getRowAttributes('rowlines').map(x =&gt; (x === 'none' ? 0 : .07));
  this.cWidths = this.getColumnWidths();
  //
  // Stretch the rows and columns
  //
  this.stretchRows();
  this.stretchColumns();
}

</t>
<t tx="ekr.20211016054411.1951">/**
 * Find the container and the child position of the table
 */
public findContainer() {
  let node = this as AnyWrapper;
  let parent = node.parent as AnyWrapper;
  while (parent &amp;&amp; (parent.node.notParent || parent.node.isKind('mrow'))) {
    node = parent;
    parent = parent.parent;
  }
  this.container = parent;
  this.containerI = node.node.childPosition();
}

</t>
<t tx="ekr.20211016054411.1952">/**
 * If the table has a precentage width or has labels, set the pwidth of the bounding box
 */
public getPercentageWidth() {
  if (this.hasLabels) {
    this.bbox.pwidth = BBox.fullWidth;
  } else {
    const width = this.node.attributes.get('width') as string;
    if (isPercent(width)) {
      this.bbox.pwidth = width;
    }
  }
}

</t>
<t tx="ekr.20211016054411.1953">/**
 * Stretch the rows to the equal height or natural height
 */
public stretchRows() {
  const equal = this.node.attributes.get('equalrows') as boolean;
  const HD = (equal ? this.getEqualRowHeight() : 0);
  const {H, D} = (equal ? this.getTableData() : {H: [0], D: [0]});
  const rows = this.tableRows;
  for (let i = 0; i &lt; this.numRows; i++) {
    const hd = (equal ? [(HD + H[i] - D[i]) / 2, (HD - H[i] + D[i]) / 2] : null);
    rows[i].stretchChildren(hd);
  }
}

</t>
<t tx="ekr.20211016054411.1954">/**
 * Stretch the columns to their proper widths
 */
public stretchColumns() {
  for (let i = 0; i &lt; this.numCols; i++) {
    const width = (typeof this.cWidths[i] === 'number' ? this.cWidths[i] as number : null);
    this.stretchColumn(i, width);
  }
}

</t>
<t tx="ekr.20211016054411.1955">/**
 * Handle horizontal stretching within the ith column
 *
 * @param {number} i   The column number
 * @param {number} W   The computed width of the column (or null of not computed)
 */
public stretchColumn(i: number, W: number) {
  let stretchy: AnyWrapper[] = [];
  //
  //  Locate and count the stretchy children
  //
  for (const row of this.tableRows) {
    const cell = row.getChild(i);
    if (cell) {
      const child = cell.childNodes[0];
      if (child.stretch.dir === DIRECTION.None &amp;&amp;
          child.canStretch(DIRECTION.Horizontal)) {
        stretchy.push(child);
      }
    }
  }
  let count = stretchy.length;
  let nodeCount = this.childNodes.length;
  if (count &amp;&amp; nodeCount &gt; 1) {
    if (W === null) {
      W = 0;
      //
      //  If all the children are stretchy, find the largest one,
      //  otherwise, find the width of the non-stretchy children.
      //
      let all = (count &gt; 1 &amp;&amp; count === nodeCount);
      for (const row of this.tableRows) {
        const cell = row.getChild(i);
        if (cell) {
          const child = cell.childNodes[0];
          const noStretch = (child.stretch.dir === DIRECTION.None);
          if (all || noStretch) {
            const {w} = child.getBBox(noStretch);
            if (w &gt; W) {
              W = w;
            }
          }
        }
      }
    }
    //
    //  Stretch the stretchable children
    //
    for (const child of stretchy) {
      (child.coreMO() as CommonMo).getStretchedVariant([W]);
    }
  }
}

/******************************************************************/

</t>
<t tx="ekr.20211016054411.1956">/**
 * Determine the row heights and depths, the column widths,
 * and the natural width and height of the table.
 *
 * @return {TableData}  The dimensions of the rows and columns
 */
public getTableData(): TableData {
  if (this.data) {
    return this.data;
  }
  const H = new Array(this.numRows).fill(0);
  const D = new Array(this.numRows).fill(0);
  const W = new Array(this.numCols).fill(0);
  const NH = new Array(this.numRows);
  const ND = new Array(this.numRows);
  const LW = [0];
  const rows = this.tableRows;
  for (let j = 0; j &lt; rows.length; j++) {
    let M = 0;
    const row = rows[j];
    const align = row.node.attributes.get('rowalign') as string;
    for (let i = 0; i &lt; row.numCells; i++) {
      const cell = row.getChild(i);
      M = this.updateHDW(cell, i, j, align, H, D, W, M);
      this.recordPWidthCell(cell, i);
    }
    NH[j] = H[j];
    ND[j] = D[j];
    if (row.labeled) {
      M = this.updateHDW(row.childNodes[0], 0, j, align, H, D, LW, M);
    }
    this.extendHD(j, H, D, M);
    this.extendHD(j, NH, ND, M);
  }
  const L = LW[0];
  this.data = {H, D, W, NH, ND, L};
  return this.data;
}

/**
 * @override
 */
public updateHDW(
  cell: C, i: number, j: number, align: string, H: number[], D: number[], W: number[], M: number
): number {
  let {h, d, w} = cell.getBBox();
  const scale = cell.parent.bbox.rscale;
  if (cell.parent.bbox.rscale !== 1) {
    h *= scale;
    d *= scale;
    w *= scale;
  }
  if (this.node.getProperty('useHeight')) {
    if (h &lt; .75) h = .75;
    if (d &lt; .25) d = .25;
  }
  let m = 0;
  align = cell.node.attributes.get('rowalign') as string || align;
  if (align !== 'baseline' &amp;&amp; align !== 'axis') {
    m = h + d;
    h = d = 0;
  }
  if (h &gt; H[j]) H[j] = h;
  if (d &gt; D[j]) D[j] = d;
  if (m &gt; M) M = m;
  if (W &amp;&amp; w &gt; W[i]) W[i] = w;
  return M;
}

</t>
<t tx="ekr.20211016054411.1957">/**
 * @override
 */
public extendHD(i: number, H: number[], D: number[], M: number) {
  const d = (M - (H[i] + D[i])) / 2;
  if (d &lt; .00001) return;
  H[i] += d;
  D[i] += d;
}

</t>
<t tx="ekr.20211016054411.1958">/**
 * @param {C} cell     The cell to check for percentage widths
 * @param {number} i   The column index of the cell
 */
public recordPWidthCell(cell: C, i: number) {
  if (cell.childNodes[0] &amp;&amp; cell.childNodes[0].getBBox().pwidth) {
    this.pwidthCells.push([cell, i]);
  }
}

</t>
<t tx="ekr.20211016054411.1959">/**
 * @override
 */
public computeBBox(bbox: BBox, _recompute: boolean = false) {
  const {H, D} = this.getTableData();
  let height, width;
  //
  // For equal rows, use the common height and depth for all rows
  // Otherwise, use the height and depths for each row separately.
  // Add in the spacing, line widths, and frame size.
  //
  if (this.node.attributes.get('equalrows') as boolean) {
    const HD = this.getEqualRowHeight();
    height = sum([].concat(this.rLines, this.rSpace)) + HD * this.numRows;
  } else {
    height = sum(H.concat(D, this.rLines, this.rSpace));
  }
  height += 2 * (this.fLine + this.fSpace[1]);
  //
  //  Get the widths of all columns
  //
  const CW = this.getComputedWidths();
  //
  //  Get the expected width of the table
  //
  width = sum(CW.concat(this.cLines, this.cSpace)) + 2 * (this.fLine + this.fSpace[0]);
  //
  //  If the table width is not 'auto', determine the specified width
  //    and pick the larger of the specified and computed widths.
  //
  const w = this.node.attributes.get('width') as string;
  if (w !== 'auto') {
    width = Math.max(this.length2em(w, 0) + 2 * this.fLine, width);
  }
  //
  //  Return the bounding box information
  //
  let [h, d] = this.getBBoxHD(height);
  bbox.h = h;
  bbox.d = d;
  bbox.w = width;
  let [L, R] = this.getBBoxLR();
  bbox.L = L;
  bbox.R = R;
  //
  //  Handle cell widths if width is not a percentage
  //
  if (!isPercent(w)) {
    this.setColumnPWidths();
  }
}

</t>
<t tx="ekr.20211016054411.196">
import './lib/svg.js';

import {combineDefaults} from '../../../../js/components/global.js';
import {SVG} from '../../../../js/output/svg.js';

if (MathJax.loader) {
  combineDefaults(MathJax.config.loader, 'output/svg', {
    checkReady() {
      return MathJax.loader.load("output/svg/fonts/tex");
    }
  });
}

if (MathJax.startup) {
  MathJax.startup.registerConstructor('svg', SVG);
  MathJax.startup.useOutput('svg');
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1960">/**
 * @override
 */
public setChildPWidths(_recompute: boolean, cwidth: number, _clear: boolean) {
  const width = this.node.attributes.get('width') as string;
  if (!isPercent(width)) return false;
  if (!this.hasLabels) {
    this.bbox.pwidth = '';
    this.container.bbox.pwidth = '';
  }
  const {w, L, R} = this.bbox;
  const labelInWidth = this.node.attributes.get('data-width-includes-label') as boolean;
  const W = Math.max(w, this.length2em(width, Math.max(cwidth, L + w + R))) - (labelInWidth ? L + R : 0);
  const cols = (this.node.attributes.get('equalcolumns') as boolean ?
                Array(this.numCols).fill(this.percent(1 / Math.max(1, this.numCols))) :
                this.getColumnAttributes('columnwidth', 0));
  this.cWidths = this.getColumnWidthsFixed(cols, W);
  const CW = this.getComputedWidths();
  this.pWidth = sum(CW.concat(this.cLines, this.cSpace)) + 2 * (this.fLine + this.fSpace[0]);
  if (this.isTop) {
    this.bbox.w = this.pWidth;
  }
  this.setColumnPWidths();
  if (this.pWidth !== w) {
    this.parent.invalidateBBox();
  }
  return this.pWidth !== w;
}

</t>
<t tx="ekr.20211016054411.1961">/**
 * Finalize any cells that have percentage-width content
 */
public setColumnPWidths() {
  const W = this.cWidths as number[];
  for (const [cell, i] of this.pwidthCells) {
    if (cell.setChildPWidths(false, W[i])) {
      cell.invalidateBBox();
      cell.getBBox();
    }
  }
}

</t>
<t tx="ekr.20211016054411.1962">/**
 * @param {number} height   The total height of the table
 * @return {[number, number]}  The [height, depth] for the aligned table
 */
public getBBoxHD(height: number): [number, number] {
  const [align, row] = this.getAlignmentRow();
  if (row === null) {
    const a = this.font.params.axis_height;
    const h2 = height / 2;
    const HD: {[key: string]: [number, number]} = {
      top: [0, height],
      center: [h2, h2],
      bottom: [height, 0],
      baseline: [h2, h2],
      axis: [h2 + a, h2 - a]
    };
    return HD[align] || [h2, h2];
  } else {
    const y = this.getVerticalPosition(row, align);
    return [y, height - y];
  }
}

</t>
<t tx="ekr.20211016054411.1963">/**
 * Get bbox left and right amounts to cover labels
 */
public getBBoxLR() {
  if (this.hasLabels) {
    const attributes = this.node.attributes;
    const side = attributes.get('side') as string;
    let [pad, align] = this.getPadAlignShift(side);
    //
    // If labels are included in the width,
    //   remove the frame spacing if there is no frame line (added by multline)
    //   and use left or right justification rather than centering so that
    //   there is no extra space reserved for the label on the opposite side,
    //   (as there usually is to center the equation).
    //
    const labels = this.hasLabels &amp;&amp; !!attributes.get('data-width-includes-label');
    if (labels &amp;&amp; this.frame &amp;&amp; this.fSpace[0]) {
      pad -= this.fSpace[0];
    }
    return (align === 'center' &amp;&amp; !labels ? [pad, pad] :
            side === 'left' ? [pad, 0] : [0, pad]);
  }
  return [0, 0];
}

</t>
<t tx="ekr.20211016054411.1964">/**
 * @param {string} side                 The side for the labels
 * @return {[number, string, number]}   The padding, alignment, and shift amounts
 */
public getPadAlignShift(side: string): [number, string, number] {
  //
  //  Make sure labels don't overlap table
  //
  const {L} = this.getTableData();
  const sep = this.length2em(this.node.attributes.get('minlabelspacing'));
  let pad = L + sep;
  const [lpad, rpad] = (this.styles == null ? ['', ''] :
                        [this.styles.get('padding-left'), this.styles.get('padding-right')]);
  if (lpad || rpad) {
    pad = Math.max(pad, this.length2em(lpad || '0'), this.length2em(rpad || '0'));
  }
  //
  //  Handle indentation
  //
  let [align, shift] = this.getAlignShift();
  if (align === side) {
    shift = (side === 'left' ? Math.max(pad, shift) - pad : Math.min(-pad, shift) + pad);
  }
  return [pad, align, shift] as [number, string, number];
}

</t>
<t tx="ekr.20211016054411.1965">/**
 * @override
 */
public getAlignShift() {
  return (this.isTop ? super.getAlignShift() :
          [this.container.getChildAlign(this.containerI), 0] as [string, number]);
}

</t>
<t tx="ekr.20211016054411.1966">/**
 * @return {number}    The true width of the table (without labels)
 */
public getWidth(): number {
  return this.pWidth || this.getBBox().w;
}

/******************************************************************/

</t>
<t tx="ekr.20211016054411.1967">/**
 * @return {number}   The maximum height of a row
 */
public getEqualRowHeight(): number {
  const {H, D} = this.getTableData();
  const HD = Array.from(H.keys()).map(i =&gt; H[i] + D[i]);
  return Math.max.apply(Math, HD);
}

</t>
<t tx="ekr.20211016054411.1968">/**
 * @return {number[]}   The array of computed widths
 */
public getComputedWidths(): number[] {
  const W = this.getTableData().W;
  let CW = Array.from(W.keys()).map(i =&gt; {
    return (typeof this.cWidths[i] === 'number' ? this.cWidths[i] as number : W[i]);
  });
  if (this.node.attributes.get('equalcolumns') as boolean) {
    CW = Array(CW.length).fill(max(CW));
  }
  return CW;
}

</t>
<t tx="ekr.20211016054411.1969">/**
 * Determine the column widths that can be computed (and need to be set).
 * The resulting arrays will have numbers for fixed-size arrays,
 *   strings for percentage sizes that can't be determined now,
 *   and null for stretchy columns that will expand to fill the extra space.
 * Depending on the width specified for the table, different column
 *  values can be determined.
 *
 * @return {(string|number|null)[]}  The array of widths
 */
public getColumnWidths(): (string | number | null)[] {
  const width = this.node.attributes.get('width') as string;
  if (this.node.attributes.get('equalcolumns') as boolean) {
    return this.getEqualColumns(width);
  }
  const swidths = this.getColumnAttributes('columnwidth', 0);
  if (width === 'auto') {
    return this.getColumnWidthsAuto(swidths);
  }
  if (isPercent(width)) {
    return this.getColumnWidthsPercent(swidths);
  }
  return this.getColumnWidthsFixed(swidths, this.length2em(width));
}

</t>
<t tx="ekr.20211016054411.197">
const webpack = require("webpack");
const PACKAGE = require('../../../webpack.common.js');

module.exports = PACKAGE(
  'output/svg',                       // the package to build
  '../../../../js',                   // location of the MathJax js library
  ['components/src/core/lib'],        // packages to link to
  __dirname                           // our directory
);

module.exports.plugins.push(
  new webpack.NormalModuleReplacementPlugin(
    /\/fonts\/tex\.js$/,
    @others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1970">/**
 * For tables with equal columns, get the proper amount per column.
 *
 * @param {string} width   The width attribute of the table
 * @return {(string|number|null)[]}  The array of widths
 */
public getEqualColumns(width: string): (string | number | null)[] {
  const n = Math.max(1, this.numCols);
  let cwidth;
  if (width === 'auto') {
    const {W} = this.getTableData();
    cwidth = max(W);
  } else if (isPercent(width)) {
    cwidth = this.percent(1 / n);
  } else {
    const w = sum([].concat(this.cLines, this.cSpace)) + 2 * this.fSpace[0];
    cwidth = Math.max(0, this.length2em(width) - w) / n;
  }
  return Array(this.numCols).fill(cwidth);
}

</t>
<t tx="ekr.20211016054411.1971">/**
 * For tables with width="auto", auto and fit columns
 * will end up being natural width, so don't need to
 * set those explicitly.
 *
 * @param {string[]} swidths   The split and padded columnwidths attribute
 * @return {ColumnWidths}  The array of widths
 */
public getColumnWidthsAuto(swidths: string[]): ColumnWidths {
  return swidths.map(x =&gt; {
    if (x === 'auto' || x === 'fit') return null;
    if (isPercent(x)) return x;
    return this.length2em(x);
  });
}

</t>
<t tx="ekr.20211016054411.1972">/**
 * For tables with percentage widths, the 'fit' columns (or 'auto'
 * columns if there are not 'fit' ones) will stretch automatically,
 * but for 'auto' columns (when there are 'fit' ones), set the size
 * to the natural size of the column.
 *
 * @param {string[]} swidths   The split and padded columnwidths attribute
 * @return {ColumnWidths}      The array of widths
 */
public getColumnWidthsPercent(swidths: string[]): ColumnWidths {
  const hasFit = swidths.indexOf('fit') &gt;= 0;
  const {W} = (hasFit ? this.getTableData() : {W: null});
  return Array.from(swidths.keys()).map(i =&gt; {
    const x = swidths[i];
    if (x === 'fit') return null;
    if (x === 'auto') return (hasFit ? W[i] : null);
    if (isPercent(x)) return x;
    return this.length2em(x);
  });
}

</t>
<t tx="ekr.20211016054411.1973">/**
 * For fixed-width tables, compute the column widths of all columns.
 *
 * @param {string[]} swidths   The split and padded columnwidths attribute
 * @param {number} width       The width of the table
 * @return {ColumnWidths}      The array of widths
 */
public getColumnWidthsFixed(swidths: string[], width: number): ColumnWidths {
  //
  // Get the indices of the fit and auto columns, and the number of fit or auto entries.
  // If there are fit or auto columns, get the column widths.
  //
  const indices = Array.from(swidths.keys());
  const fit = indices.filter(i =&gt; swidths[i] === 'fit');
  const auto = indices.filter(i =&gt; swidths[i] === 'auto');
  const n = fit.length || auto.length;
  const {W} = (n ? this.getTableData() : {W: null});
  //
  // Determine the space remaining from the fixed width after the
  //   separation and lines have been removed (cwidth), and
  //   after the width of the columns have been removed (dw).
  //
  const cwidth = width - sum([].concat(this.cLines, this.cSpace)) - 2 * this.fSpace[0];
  let dw = cwidth;
  indices.forEach(i =&gt; {
    const x = swidths[i];
    dw -= (x === 'fit' || x === 'auto' ? W[i] : this.length2em(x, cwidth));
  });
  //
  // Get the amount of extra space per column, or 0 (fw)
  //
  const fw = (n &amp;&amp; dw &gt; 0 ? dw / n : 0);
  //
  // Return the column widths (plus extra space for those that are stretching
  //
  return indices.map(i =&gt; {
    const x = swidths[i];
    if (x === 'fit') return W[i] + fw;
    if (x === 'auto') return W[i] + (fit.length === 0 ? fw : 0);
    return this.length2em(x, cwidth);
  });
}

</t>
<t tx="ekr.20211016054411.1974">/**
 * @param {number} i      The row number (starting at 0)
 * @param {string} align  The alignment on that row
 * @return {number}       The offest of the alignment position from the top of the table
 */
public getVerticalPosition(i: number, align: string): number {
  const equal = this.node.attributes.get('equalrows') as boolean;
  const {H, D} = this.getTableData();
  const HD = (equal ? this.getEqualRowHeight() : 0);
  const space = this.getRowHalfSpacing();
  //
  //  Start with frame size and add in spacing, height and depth,
  //    and line thickness for each row.
  //
  let y = this.fLine;
  for (let j = 0; j &lt; i; j++) {
    y += space[j] + (equal ? HD : H[j] + D[j]) + space[j + 1] + this.rLines[j];
  }
  //
  //  For equal rows, get updated height and depth
  //
  const [h, d] = (equal ? [(HD + H[i] - D[i]) / 2, (HD - H[i] + D[i]) / 2] : [H[i], D[i]]);
  //
  //  Add the offset into the specified row
  //
  const offset: {[name: string]: number} = {
    top: 0,
    center: space[i] + (h + d) / 2,
    bottom: space[i] + h + d + space[i + 1],
    baseline: space[i] + h,
    axis: space[i] + h - .25
  };
  y += offset[align] || 0;
  //
  //  Return the final result
  //
  return y;
}

/******************************************************************/

</t>
<t tx="ekr.20211016054411.1975">/**
 * @param {number} fspace   The frame spacing to use
 * @param {number[]} space  The array of spacing values to convert to strings
 * @param {number} scale    A scaling factor to use for the sizes
 * @return {string[]}       The half-spacing as stings with units of "em"
 *                           with frame spacing at the beginning and end
 */
public getEmHalfSpacing(fspace: number, space: number[], scale: number = 1): string[] {
  //
  //  Get the column spacing values, and add the frame spacing values at the left and right
  //
  const fspaceEm = this.em(fspace * scale);
  const spaceEm = this.addEm(space, 2 / scale);
  spaceEm.unshift(fspaceEm);
  spaceEm.push(fspaceEm);
  return spaceEm;
}

</t>
<t tx="ekr.20211016054411.1976">/**
 * @return {number[]}   The half-spacing for rows with frame spacing at the ends
 */
public getRowHalfSpacing(): number[] {
  const space = this.rSpace.map(x =&gt; x / 2);
  space.unshift(this.fSpace[1]);
  space.push(this.fSpace[1]);
  return space;
}

</t>
<t tx="ekr.20211016054411.1977">/**
 * @return {number[]}   The half-spacing for columns with frame spacing at the ends
 */
public getColumnHalfSpacing(): number[] {
  const space = this.cSpace.map(x =&gt; x / 2);
  space.unshift(this.fSpace[0]);
  space.push(this.fSpace[0]);
  return space;
}

</t>
<t tx="ekr.20211016054411.1978">/**
 * @return {[string,number|null]}  The alignment and row number (based at 0) or null
 */
public getAlignmentRow(): [string, number] {
  const [align, row] = split(this.node.attributes.get('align') as string);
  if (row == null) return [align, null];
  let i = parseInt(row);
  if (i &lt; 0) i += this.numRows + 1;
  return [align, i &lt; 1 || i &gt; this.numRows ? null : i - 1];
}

</t>
<t tx="ekr.20211016054411.1979">/**
 * @param {string} name           The name of the attribute to get as an array
 * @param {number=} i             Return this many fewer than numCols entries
 * @return {string[]}             The array of values in the given attribute, split at spaces,
 *                                 padded to the number of table columns (minus 1) by repeating the last entry
 */
public getColumnAttributes(name: string, i: number = 1): string[] | null {
  const n = this.numCols - i;
  const columns = this.getAttributeArray(name);
  if (columns.length === 0) return null;
  while (columns.length &lt; n) {
    columns.push(columns[columns.length - 1]);
  }
  if (columns.length &gt; n) {
    columns.splice(n);
  }
  return columns;
}

</t>
<t tx="ekr.20211016054411.198">    function (resource) {
      resource.request = '../../components/src/output/svg/nofont.js';
    }
  )
);
</t>
<t tx="ekr.20211016054411.1980">/**
 * @param {string} name           The name of the attribute to get as an array
 * @param {number=} i             Return this many fewer than numRows entries
 * @return {string[]}             The array of values in the given attribute, split at spaces,
 *                                 padded to the number of table rows (minus 1) by repeating the last entry
 */
public getRowAttributes(name: string, i: number = 1): string[] | null {
  const n = this.numRows - i;
  const rows = this.getAttributeArray(name);
  if (rows.length === 0) return null;
  while (rows.length &lt; n) {
    rows.push(rows[rows.length - 1]);
  }
  if (rows.length &gt; n) {
    rows.splice(n);
  }
  return rows;
}

</t>
<t tx="ekr.20211016054411.1981">/**
 * @param {string} name           The name of the attribute to get as an array
 * @return {string[]}             The array of values in the given attribute, split at spaces
 *                                 (after leading and trailing spaces are removed, and multiple
 *                                  spaces have been collapsed to one).
 */
public getAttributeArray(name: string): string[] {
  const value = this.node.attributes.get(name) as string;
  if (!value) return [this.node.attributes.getDefault(name) as string];
  return split(value);
}

</t>
<t tx="ekr.20211016054411.1982">/**
 * Adds "em" to a list of dimensions, after dividing by n (defaults to 1).
 *
 * @param {string[]} list   The array of dimensions (in em's)
 * @param {nunber=} n       The number to divide each dimension by after converted
 * @return {string[]}       The array of values with "em" added
 */
public addEm(list: number[], n: number = 1): string[] | null {
  if (!list) return null;
  return list.map(x =&gt; this.em(x / n));
}

</t>
<t tx="ekr.20211016054411.1983">/**
 * Converts an array of dimensions (with arbitrary units) to an array of numbers
 *   representing the dimensions in units of em's.
 *
 * @param {string[]} list   The array of dimensions to be turned into em's
 * @return {number[]}       The array of values converted to em's
 */
    public convertLengths(list: string[]): number[] | null {
      if (!list) return null;
      return list.map(x =&gt; this.length2em(x));
    }
  };

}
</t>
<t tx="ekr.20211016054411.1984">


/**
 * @fileoverview  Implements the CommonMtd wrapper mixin for the MmlMtd object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';
import {CommonMtable} from '../../common/Wrappers/mtable.js';
import {CommonMtr} from '../../common/Wrappers/mtr.js';

/*****************************************************************/
/**
 * The CommonMtd interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1985">export interface CommonMtd extends AnyWrapper {
}

/**
 * Shorthand for the CommonMtd constructor
 */
export type MtdConstructor = Constructor&lt;CommonMtd&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1986">/**
 *  The CommonMtd wrapper mixin for the MmlMtd object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonMtdMixin&lt;T extends WrapperConstructor&gt;(Base: T): MtdConstructor &amp; T {

  return class extends Base {

    /**
     * @override
     */
    get fixesPWidth() {
      return false;
    }

    /**
     * @override
     */
    @others
}
</t>
<t tx="ekr.20211016054411.1987">public invalidateBBox() {
  this.bboxComputed = false;
}

</t>
<t tx="ekr.20211016054411.1988">/**
 * @override
 */
public getWrapWidth(_j: number) {
  const table = this.parent.parent as any as CommonMtable&lt;AnyWrapper, CommonMtr&lt;AnyWrapper&gt;&gt;;
  const row = this.parent as CommonMtr&lt;AnyWrapper&gt;;
  const i = this.node.childPosition() - (row.labeled ? 1 : 0);
  return (typeof(table.cWidths[i]) === 'number' ? table.cWidths[i] : table.getTableData().W[i]) as number;
}

</t>
<t tx="ekr.20211016054411.1989">/**
 * @override
 */
  public getChildAlign(_i: number) {
    return this.node.attributes.get('columnalign') as string;
  }

};

</t>
<t tx="ekr.20211016054411.199"></t>
<t tx="ekr.20211016054411.1990">


/**
 * @fileoverview  Implements the CommonMtext wrapper mixin for the MmlMtext object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';

/*****************************************************************/
/**
 * The CommonMtext interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1991">export interface CommonMtext extends AnyWrapper {
}

/**
 * Shorthand for the CommonMtext constructor
 */
export type MtextConstructor = Constructor&lt;CommonMtext&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1992">/**
 *  The CommonMtext wrapper mixin for the MmlMtext object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonMtextMixin&lt;T extends WrapperConstructor&gt;(Base: T): MtextConstructor &amp; T {

  return class extends Base {

    /**
     * The font-family, weight, and style to use for the variants when mtextInheritFont
     * is true or mtextFont is specified.  If not in this list, then the font's
     * getCssFont() is called.  When the font family is not specified (as in these four),
     * the inherited or specified font is used.
     */
    public static INHERITFONTS = {
      normal: ['', false, false],
      bold: ['', false, true],
      italic: ['', true, false],
      'bold-italic': ['', true, true]
    };

    /**
     * @override
     */
    protected getVariant() {
      const options = this.jax.options;
      const data = this.jax.math.outputData;
      //
      //  If the font is to be inherited from the surrounding text, check the mathvariant
      //  and see if it allows for inheritance. If so, set the variant appropriately,
      //  otherwise get the usual variant.
      //
      const merror = ((!!data.merrorFamily || !!options.merrorFont) &amp;&amp; this.node.Parent.isKind('merror'));
      if (!!data.mtextFamily || !!options.mtextFont || merror) {
        const variant = this.node.attributes.get('mathvariant') as string;
        const font = (this.constructor as any).INHERITFONTS[variant] || this.jax.font.getCssFont(variant);
        const family = font[0] || (merror ? data.merrorFamily || options.merrorFont :
                                            data.mtextFamily || options.mtextFont);
        this.variant = this.explicitVariant(family, font[2] ? 'bold' : '', font[1] ? 'italic' : '');
        return;
      }
      super.getVariant();
    }

  };

}
</t>
<t tx="ekr.20211016054411.1993">


/**
 * @fileoverview  Implements the CcommonMtr wrapper mixin for the MmlMtr object
 *                and CommonMlabeledtr wrapper mixin for MmlMlabeledtr
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';
import {CommonMo} from './mo.js';
import {BBox} from '../../../util/BBox.js';
import {DIRECTION} from '../FontData.js';

/*****************************************************************/
/**
 * The CommonMtr interface
 *
 * @template C  The class for table cells
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.1994">export interface CommonMtr&lt;C extends AnyWrapper&gt; extends AnyWrapper {

  /**
   * The number of mtd's in the mtr
   */
  readonly numCells: number;

  /**
   * True if this is a labeled row
   */
  readonly labeled: boolean;

  /**
   * The child nodes that are part of the table (no label node)
   */
  readonly tableCells: C[];

  /**
   * @override;
   */
  childNodes: C[];

  /**
   * @param {number} i   The index of the child to get (skipping labels)
   * @return {C}         The ith child node wrapper
   */
  getChild(i: number): C;

  /**
   * @return {BBox[]}  An array of the bounding boxes for the mtd's in the row
   */
  getChildBBoxes(): BBox[];

  /**
   * Handle vertical stretching of cells to match height of
   *  other cells in the row.
   *
   * @param {number[]=} HD   The total height and depth for the row [H, D]
   *
   * If this isn't specified, the maximum height and depth is computed.
   */
  stretchChildren(HD?: number[]): void;

}

/**
 * Shorthand for the CommonMtr constructor
 *
 * @template C  The class for table cells
 */
export type MtrConstructor&lt;C extends AnyWrapper&gt; = Constructor&lt;CommonMtr&lt;C&gt;&gt;;

/*****************************************************************/
/**
 * The CommonMtr wrapper for the MmlMtr object
 *
 * @template C  The class for table cells
 * @template T  The Wrapper class constructor type
 */
export function CommonMtrMixin&lt;
  C extends AnyWrapper,
  T extends WrapperConstructor
&gt;(Base: T): MtrConstructor&lt;C&gt; &amp; T {

  return class extends Base {

    /**
     * @override
     */
    get fixesPWidth() {
      return false;
    }

    /**
     * @return {number}   The number of mtd's in the mtr
     */
    get numCells(): number {
      return this.childNodes.length;
    }

    /**
     * @return {boolean}   True if this is a labeled row
     */
    get labeled(): boolean {
      return false;
    }

    /**
     * @return {C[]}  The child nodes that are part of the table (no label node)
     */
    get tableCells(): C[] {
      return this.childNodes;
    }

    
</t>
<t tx="ekr.20211016054411.1995">/**
     * @param {number} i   The index of the child to get (skipping labels)
     * @return {C}         The ith child node wrapper
     */
public getChild(i: number): C {
  return this.childNodes[i];
}

</t>
<t tx="ekr.20211016054411.1996">/**
 * @return {BBox[]}  An array of the bounding boxes for the mtd's in the row
 */
public getChildBBoxes(): BBox[] {
  return this.childNodes.map(cell =&gt; cell.getBBox());
}

</t>
<t tx="ekr.20211016054411.1997">/**
 * Handle vertical stretching of cells to match height of
 *  other cells in the row.
 *
 * @param {number[]} HD   The total height and depth for the row [H, D]
 *
 * If this isn't specified, the maximum height and depth is computed.
 */
    public stretchChildren(HD: number[] = null) {
      let stretchy: AnyWrapper[] = [];
      let children = (this.labeled ? this.childNodes.slice(1) : this.childNodes);
      //
      //  Locate and count the stretchy children
      //
      for (const mtd of children) {
        const child = mtd.childNodes[0];
        if (child.canStretch(DIRECTION.Vertical)) {
          stretchy.push(child);
        }
      }
      let count = stretchy.length;
      let nodeCount = this.childNodes.length;
      if (count &amp;&amp; nodeCount &gt; 1) {
        if (HD === null) {
          let H = 0, D = 0;
          //
          //  If all the children are stretchy, find the largest one,
          //  otherwise, find the height and depth of the non-stretchy
          //  children.
          //
          let all = (count &gt; 1 &amp;&amp; count === nodeCount);
          for (const mtd of children) {
            const child = mtd.childNodes[0];
            const noStretch = (child.stretch.dir === DIRECTION.None);
            if (all || noStretch) {
              const {h, d} = child.getBBox(noStretch);
              if (h &gt; H) {
                H = h;
              }
              if (d &gt; D) {
                D = d;
              }
            }
          }
          HD = [H, D];
        }
        //
        //  Stretch the stretchable children
        //
        for (const child of stretchy) {
          (child.coreMO() as CommonMo).getStretchedVariant(HD);
        }
      }
    }

  };

}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.1998">/**
 * The CommonMlabeledtr interface
 *
 * @template C  The class for table cells
 */
export interface CommonMlabeledtr&lt;C extends AnyWrapper&gt; extends CommonMtr&lt;C&gt; {
}

/**
 * Shorthand for the CommonMlabeledtr constructor
 *
 * @template C  The class for table cells
 */
export type MlabeledtrConstructor&lt;C extends AnyWrapper&gt; = Constructor&lt;CommonMlabeledtr&lt;C&gt;&gt;;

/*****************************************************************/
/**
 * The CommonMlabeledtr wrapper mixin for the MmlMlabeledtr object
 *
 * @template C  The class for table cells
 * @template T  The Wrapper class constructor type
 */
export function CommonMlabeledtrMixin&lt;
  C extends AnyWrapper,
  T extends MtrConstructor&lt;C&gt;
&gt;(Base: T): MlabeledtrConstructor&lt;C&gt; &amp; T {

  return class extends Base {

    /**
     * @override
     */
    get numCells() {
      //
      //  Don't include the label mtd
      //
      return Math.max(0, this.childNodes.length - 1);
    }

    /**
     * @override
     */
    get labeled() {
      return true;
    }

    /**
     * @override
     */
    get tableCells() {
      return this.childNodes.slice(1) as C[];
    }

    
</t>
<t tx="ekr.20211016054411.1999">/**
     * @override
     */
public getChild(i: number) {
  return this.childNodes[i + 1] as C;
}

</t>
<t tx="ekr.20211016054411.2">@language json
[
    '{\n',
    '  "linterOptions": {\n',
    '    "exclude": [\n',
    '      "**/*.d.ts",\n',
    '      "**/fonts/tex/*.ts"\n',
    '    ]\n',
    '  },\n',
    '  "rulesDirectory": [\n',
    '    "node_modules/tslint-jsdoc-rules/lib"\n',
    '  ],\n',
    '  "rules": {\n',
    '    "class-name": true,\n',
    '    "comment-format": [\n',
    '      true,\n',
    '      "check-space"\n',
    '//      "check-uppercase"\n',
    '    ],\n',
    '    "curly": [\n',
    '      true,\n',
    '      "ignore-same-line"\n',
    '    ],\n',
    '    "eofline": true,\n',
    '    "indent": [\n',
    '      true,\n',
    '      "spaces"\n',
    '    ],\n',
    '    "jsdoc-format": true,\n',
    '    "jsdoc-require": [\n',
    '      true,\n',
    '      "no-private-properties"\n',
    '    ],\n',
    '    "linebreak-style": true,\n',
    '    "max-line-length": [\n',
    '      true,\n',
    '      140\n',
    '    ],\n',
    '    "member-access": true,\n',
    '    "member-ordering": [\n',
    '      true,\n',
    '      {"order": [\n',
    '        "static-field",\n',
    '        "instance-field",\n',
    '        "static-method",\n',
    '        "instance-method"\n',
    '      ]}\n',
    '    ],\n',
    '    "no-duplicate-variable": true,\n',
    '    "no-eval": true,\n',
    '    "no-internal-module": true,\n',
    '    "no-trailing-whitespace": true,\n',
    '    "no-var-keyword": true,\n',
    '    "one-line": [\n',
    '      true,\n',
    '      "check-open-brace",\n',
    '      "check-whitespace"\n',
    '    ],\n',
    '    "quotemark": [\n',
    '      true,\n',
    '      "single"\n',
    '    ],\n',
    '    "semicolon": true,\n',
    '    "triple-equals": [\n',
    '      true,\n',
    '      "allow-null-check"\n',
    '    ],\n',
    '    "typedef": [\n',
    '      "callSignature",\n',
    '      "catchClause",\n',
    '      "indexSignature",\n',
    '      "parameter",\n',
    '      "propertySignature",\n',
    '      "variableDeclarator"\n',
    '    ],\n',
    '    "typedef-whitespace": [\n',
    '      true,\n',
    '      {\n',
    '        "call-signature": "nospace",\n',
    '        "index-signature": "nospace",\n',
    '        "parameter": "nospace",\n',
    '        "property-declaration": "nospace",\n',
    '        "variable-declaration": "nospace"\n',
    '      }\n',
    '    ],\n',
    '    "variable-name": [\n',
    '      true,\n',
    '      "ban-keywords"\n',
    '    ],\n',
    '    "whitespace": [\n',
    '      true,\n',
    '      "check-branch",\n',
    '      "check-decl",\n',
    '      "check-operator",\n',
    '      "check-separator",\n',
    '      "check-type",\n',
    '      "check-rest-spread",\n',
    '      "check-type-operator"\n',
    '    ]\n',
    '  }\n',
    '}\n'
]</t>
<t tx="ekr.20211016054411.20">
const PACKAGE = require('../../../webpack.common.js');

module.exports = PACKAGE(
  'a11y/complexity',                  // the package to build
  '../../../../js',                   // location of the MathJax js library
  [                                   // packages to link to
    'components/src/a11y/semantic-enrich/lib',
    'components/src/input/mml/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.200"></t>
<t tx="ekr.20211016054411.2000">/**
 * @override
 */
    public getChildBBoxes() {
      //
      //  Don't include the label mtd
      //
      return this.childNodes.slice(1).map(cell =&gt; cell.getBBox());
    }

  };

}
</t>
<t tx="ekr.20211016054411.2001">


/**
 * @fileoverview  Implements the CommonMunderover wrapper mixin for the MmlMunderover object
 *                and the special cases CommonMunder and CommonMsup
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, Constructor} from '../Wrapper.js';
import {CommonScriptbase, ScriptbaseConstructor} from './scriptbase.js';
import {MmlMunderover, MmlMunder, MmlMover} from '../../../core/MmlTree/MmlNodes/munderover.js';
import {BBox} from '../../../util/BBox.js';

/*****************************************************************/
/**
 * The CommonMunder interface
 *
 * @template W  The child-node Wrapper class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2002">export interface CommonMunder&lt;W extends AnyWrapper&gt; extends CommonScriptbase&lt;W&gt; {
}

/**
 * Shorthand for the CommonMunder constructor
 *
 * @template W  The child-node Wrapper class
 */
export type MunderConstructor&lt;W extends AnyWrapper&gt; = Constructor&lt;CommonMunder&lt;W&gt;&gt;;

/*****************************************************************/
/**
 * The CommonMunder wrapper mixin for the MmlMunder object
 *
 * @template W  The child-node Wrapper class
 * @template T  The Wrapper class constructor type
 */
export function CommonMunderMixin&lt;
  W extends AnyWrapper,
  T extends ScriptbaseConstructor&lt;W&gt;
&gt;(Base: T): MunderConstructor&lt;W&gt; &amp; T {

  return class extends Base {

    /**
     * @override
     */
    public get scriptChild() {
      return this.childNodes[(this.node as MmlMunder).under];
    }

    
</t>
<t tx="ekr.20211016054411.2003">/**
     * @override
     * @constructor
     */
constructor(...args: any[]) {
  super(...args);
  this.stretchChildren();
}

</t>
<t tx="ekr.20211016054411.2004">/**
 * @override
 */
    public computeBBox(bbox: BBox, recompute: boolean = false) {
      if (this.hasMovableLimits()) {
        super.computeBBox(bbox, recompute);
        return;
      }
      bbox.empty();
      const basebox = this.baseChild.getBBox();
      const underbox = this.scriptChild.getBBox();
      const v = this.getUnderKV(basebox, underbox)[1];
      const delta = (this.isLineBelow ? 0 : this.getDelta(true));
      const [bw, uw] = this.getDeltaW([basebox, underbox], [0, -delta]);
      bbox.combine(basebox, bw, 0);
      bbox.combine(underbox, uw, v);
      bbox.d += this.font.params.big_op_spacing5;
      bbox.clean();
      this.setChildPWidths(recompute);
    }

  };

}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2005">/**
 * The CommonMover interface
 *
 * @template W  The child-node Wrapper class
 */
export interface CommonMover&lt;W extends AnyWrapper&gt; extends CommonScriptbase&lt;W&gt; {
}

/**
 * Shorthand for the CommonMover constructor
 *
 * @template W  The child-node Wrapper class
 */
export type MoverConstructor&lt;W extends AnyWrapper&gt; = Constructor&lt;CommonMover&lt;W&gt;&gt;;

/*****************************************************************/
/**
 * The CommonMover wrapper mixin for the MmlMover object
 *
 * @template W  The child-node Wrapper class
 * @template T  The Wrapper class constructor type
 */
export function CommonMoverMixin&lt;
  W extends AnyWrapper,
  T extends ScriptbaseConstructor&lt;W&gt;
&gt;(Base: T): MoverConstructor&lt;W&gt; &amp; T {

  return class extends Base {

    /**
     * @override
     */
    public get scriptChild() {
      return this.childNodes[(this.node as MmlMover).over];
    }

    
</t>
<t tx="ekr.20211016054411.2006">/**
     * @override
     * @constructor
     */
constructor(...args: any[]) {
  super(...args);
  this.stretchChildren();
}

</t>
<t tx="ekr.20211016054411.2007">/**
 * @override
 */
    public computeBBox(bbox: BBox) {
      if (this.hasMovableLimits()) {
        super.computeBBox(bbox);
        return;
      }
      bbox.empty();
      const basebox = this.baseChild.getBBox();
      const overbox = this.scriptChild.getBBox();
      const u = this.getOverKU(basebox, overbox)[1];
      const delta = (this.isLineAbove ? 0 : this.getDelta());
      const [bw, ow] = this.getDeltaW([basebox, overbox], [0, delta]);
      bbox.combine(basebox, bw, 0);
      bbox.combine(overbox, ow, u);
      bbox.h += this.font.params.big_op_spacing5;
      bbox.clean();
    }

  };

}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2008">/**
 * The CommonMunderover interface
 *
 * @template W  The child-node Wrapper class
 */
export interface CommonMunderover&lt;W extends AnyWrapper&gt; extends CommonScriptbase&lt;W&gt; {

  /*
   * The wrapped under node
   */
  readonly underChild: W;

  /*
   * The wrapped overder node
   */
  readonly overChild: W;

}

/**
 * Shorthand for the CommonMunderover constructor
 *
 * @template W  The child-node Wrapper class
 */
export type MunderoverConstructor&lt;W extends AnyWrapper&gt; = Constructor&lt;CommonMunderover&lt;W&gt;&gt;;

/*****************************************************************/
/*
 * The CommonMunderover wrapper for the MmlMunderover object
 *
 * @template W  The child-node Wrapper class
 * @template T  The Wrapper class constructor type
 */
export function CommonMunderoverMixin&lt;
  W extends AnyWrapper,
  T extends ScriptbaseConstructor&lt;W&gt;
&gt;(Base: T): MunderoverConstructor&lt;W&gt; &amp; T {

  return class extends Base {

    /*
     * @return {W}   The wrapped under node
     */
    public get underChild() {
      return this.childNodes[(this.node as MmlMunderover).under];
    }

    /*
     * @return {W}   The wrapped overder node
     */
    public get overChild() {
      return this.childNodes[(this.node as MmlMunderover).over];
    }

    /*
     * Needed for movablelimits
     *
     * @override
     */
    public get subChild() {
      return this.underChild;
    }

    /*
     * Needed for movablelimits
     *
     * @override
     */
    public get supChild() {
      return this.overChild;
    }

    
</t>
<t tx="ekr.20211016054411.2009">/**
     * @override
     * @constructor
     */
constructor(...args: any[]) {
  super(...args);
  this.stretchChildren();
}

</t>
<t tx="ekr.20211016054411.201">
import './lib/tex.js';

import {TeXFont} from '../../../../../../js/output/svg/fonts/tex.js';
import {combineDefaults} from '../../../../../../js/components/global.js';
import {selectOptionsFromKeys} from '../../../../../../js/util/Options.js';

if (MathJax.startup) {
  const options = selectOptionsFromKeys(MathJax.config.svg || {}, TeXFont.OPTIONS);
  combineDefaults(MathJax.config, 'svg', {font: new TeXFont(options)});
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2010">/**
 * @override
 */
    public computeBBox(bbox: BBox) {
      if (this.hasMovableLimits()) {
        super.computeBBox(bbox);
        return;
      }
      bbox.empty();
      const overbox = this.overChild.getBBox();
      const basebox = this.baseChild.getBBox();
      const underbox = this.underChild.getBBox();
      const u = this.getOverKU(basebox, overbox)[1];
      const v = this.getUnderKV(basebox, underbox)[1];
      const delta = this.getDelta();
      const [bw, uw, ow] = this.getDeltaW([basebox, underbox, overbox],
                                          [0, this.isLineBelow ? 0 : -delta, this.isLineAbove ? 0 : delta]);
      bbox.combine(basebox, bw, 0);
      bbox.combine(overbox, ow, u);
      bbox.combine(underbox, uw, v);
      const z = this.font.params.big_op_spacing5;
      bbox.h += z;
      bbox.d += z;
      bbox.clean();
    }

  };

}
</t>
<t tx="ekr.20211016054411.2011">


/**
 * @fileoverview  Implements the a base mixin for CommonMsubsup, CommonMunderover
 *                and their relatives.  (Since munderover can become msubsup
 *                when movablelimits is set, munderover needs to be able to
 *                do the same thing as msubsup in some cases.)
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor, AnyWrapperClass} from '../Wrapper.js';
import {CommonMo} from './mo.js';
import {CommonMunderover} from './munderover.js';
import {MmlMsubsup} from '../../../core/MmlTree/MmlNodes/msubsup.js';
import {MmlMo} from '../../../core/MmlTree/MmlNodes/mo.js';
import {BBox} from '../../../util/BBox.js';
import {DIRECTION} from '../FontData.js';

/*****************************************************************/
/**
 * The CommonScriptbase interface
 *
 * @template W  The child-node Wrapper class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2012">export interface CommonScriptbase&lt;W extends AnyWrapper&gt; extends AnyWrapper {

  /**
   * The core mi or mo of the base (or the base itself if there isn't one)
   */
  readonly baseCore: W;

  /**
   * The base element's wrapper
   */
  readonly baseChild: W;

  /**
   * The relative scaling of the base compared to the munderover/msubsup
   */
  readonly baseScale: number;

  /**
   * The italic correction of the base (if any)
   */
  readonly baseIc: number;

  /**
   * True if base italic correction should be removed (msub and msubsup or mathaccents)
   */
  readonly baseRemoveIc: boolean;

  /**
   * True if the base is a single character
   */
  readonly baseIsChar: boolean;

  /**
   * True if the base has an accent under or over
   */
  readonly baseHasAccentOver: boolean;
  readonly baseHasAccentUnder: boolean;

  /**
   * True if this is an overline or underline
   */
  readonly isLineAbove: boolean;
  readonly isLineBelow: boolean;

  /**
   * True if this is an msup with script that is a math accent
   */
  readonly isMathAccent: boolean;

  /**
   * The script element's wrapper (overridden in subclasses)
   */
  readonly scriptChild: W;

  /***************************************************************************/
  /*
   *  Methods for information about the core element for the base
   */

  /**
   * @return {W}    The wrapper for the base core mi or mo (or whatever)
   */
  getBaseCore(): W;

  /**
   * @return {W}    The base fence item or null
   */
  getSemanticBase(): W;

  /**
   * Recursively retrieves an element for a given fencepointer.
   *
   * @param {W} fence The potential fence.
   * @param {string} id The fencepointer id.
   * @return {W} The original fence the scripts belong to.
   */
  getBaseFence(fence: W, id: string): W;

  /**
   * @return {number}   The scaling factor for the base core relative to the munderover/msubsup
   */
  getBaseScale(): number;

  /**
   * The base's italic correction (properly scaled)
   */
  getBaseIc(): number;

  /**
   * An adjusted italic correction (for slightly better results)
   */
  getAdjustedIc(): number;

  /**
   * @return {boolean}  True if the base is an mi, mn, or mo (not a largeop) consisting of
   *                    a single unstretched character
   */
  isCharBase(): boolean;

  /**
   * Determine if the under- and overscripts are under- or overlines.
   */
  checkLineAccents(): void;

  /**
   * @param {W} script   The script node to check for being a line
   */
  isLineAccent(script: W): boolean;

  /***************************************************************************/
  /*
   *  Methods for sub-sup nodes
   */

  /**
   * @return {number}    The base child's width without the base italic correction (if not needed)
   */
  getBaseWidth(): number;

  /**
   * Get the shift for the script (implemented in subclasses)
   *
   * @return {number[]}   The horizontal and vertical offsets for the script
   */
  getOffset(): number[];

  /**
   * @param {number} n    The value to use if the base isn't a (non-large-op, unstretched) char
   * @return {number}     Either n or 0
   */
  baseCharZero(n: number): number;

  /**
   * Get the shift for a subscript (TeXBook Appendix G 18ab)
   *
   * @return {number}     The vertical offset for the script
   */
  getV(): number;

  /**
   * Get the shift for a superscript (TeXBook Appendix G 18acd)
   *
   * @return {number}     The vertical offset for the script
   */
  getU(): number;

  /***************************************************************************/
  /*
   *  Methods for under-over nodes
   */

  /**
   * @return {boolean}  True if the base has movablelimits (needed by munderover)
   */
  hasMovableLimits(): boolean;

  /**
   * Get the separation and offset for overscripts (TeXBoox Appendix G 13, 13a)
   *
   * @param {BBox} basebox  The bounding box of the base
   * @param {BBox} overbox  The bounding box of the overscript
   * @return {number[]}     The separation between their boxes, and the offset of the overscript
   */
  getOverKU(basebox: BBox, overbox: BBox): number[];

  /**
   * Get the separation and offset for underscripts (TeXBoox Appendix G 13, 13a)
   *
   * @param {BBox} basebox   The bounding box of the base
   * @param {BBox} underbox  The bounding box of the underscript
   * @return {number[]}      The separation between their boxes, and the offset of the underscript
   */
  getUnderKV(basebox: BBox, underbox: BBox): number[];

  /**
   * @param {BBox[]} boxes     The bounding boxes whose offsets are to be computed
   * @param {number[]=} delta  The initial x offsets of the boxes
   * @return {number[]}        The actual offsets needed to center the boxes in the stack
   */
  getDeltaW(boxes: BBox[], delta?: number[]): number[];

  /**
   * @param {boolean=} noskew   Whether to ignore the skew amount
   * @return {number}           The offset for under and over
   */
  getDelta(noskew?: boolean): number;

  /**
   * Handle horizontal stretching of children to match greatest width
   *  of all children
   */
  stretchChildren(): void;

}

</t>
<t tx="ekr.20211016054411.2013">export interface CommonScriptbaseClass extends AnyWrapperClass {
  /**
   * Set to true for munderover/munder/mover/msup (Appendix G 13)
   */
  useIC: boolean;
}

/**
 * Shorthand for the CommonScriptbase constructor
 *
 * @template W  The child-node Wrapper class
 */
export type ScriptbaseConstructor&lt;W extends AnyWrapper&gt; = Constructor&lt;CommonScriptbase&lt;W&gt;&gt;;

/*****************************************************************/
/**
 * A base class for msup/msub/msubsup and munder/mover/munderover
 * wrapper mixin implementations
 *
 * @template W  The child-node Wrapper class
 * @template T  The Wrapper class constructor type
 */
export function CommonScriptbaseMixin&lt;
  W extends AnyWrapper,
  T extends WrapperConstructor
&gt;(Base: T): ScriptbaseConstructor&lt;W&gt; &amp; T {

  return class extends Base {

    /**
     * Set to false for msubsup/msub (Appendix G 13)
     */
    public static useIC: boolean = true;

    /**
     * The core mi or mo of the base (or the base itself if there isn't one)
     */
    public baseCore: W;

    /**
     * The base element's wrapper
     */
    public baseScale: number = 1;

    /**
     * The relative scaling of the base compared to the munderover/msubsup
     */
    public baseIc: number = 0;

    /**
     * True if base italic correction should be removed (msub and msubsup or mathaccents)
     */
    public baseRemoveIc: boolean = false;

    /**
     * True if the base is a single character
     */
    public baseIsChar: boolean = false;

    /**
     * True if the base has an accent under or over
     */
    public baseHasAccentOver: boolean = null;
    public baseHasAccentUnder: boolean = null;

    /**
     * True if this is an overline or underline
     */
    public isLineAbove: boolean = false;
    public isLineBelow: boolean = false;

    /**
     * True if this is an msup with script that is a math accent
     */
    public isMathAccent: boolean = false;

    /**
     * @return {W}  The base element's wrapper
     */
    public get baseChild(): W {
      return this.childNodes[(this.node as MmlMsubsup).base];
    }

    /**
     * @return {W}  The script element's wrapper (overridden in subclasses)
     */
    public get scriptChild(): W {
      return this.childNodes[1];
    }

    
</t>
<t tx="ekr.20211016054411.2014">/**
     * @override
     */
constructor(...args: any[]) {
  super(...args);
  //
  //  Find the base core
  //
  const core = this.baseCore = this.getBaseCore();
  if (!core) return;
  //
  // Get information about the base element
  //
  this.setBaseAccentsFor(core);
  this.baseScale = this.getBaseScale();
  this.baseIc = this.getBaseIc();
  this.baseIsChar = this.isCharBase();
  //
  //  Determine if we are setting a mathaccent
  //
  this.isMathAccent = this.baseIsChar &amp;&amp;
    (this.scriptChild &amp;&amp; !!this.scriptChild.coreMO().node.getProperty('mathaccent')) as boolean;
  //
  // Check for overline/underline accents
  //
  this.checkLineAccents();
  //
  //  Check if the base is a mi or mo that needs italic correction removed
  //
  this.baseRemoveIc = !this.isLineAbove &amp;&amp; !this.isLineBelow &amp;&amp;
    (!(this.constructor as CommonScriptbaseClass).useIC || this.isMathAccent);
}

/***************************************************************************/
/*
 *  Methods for information about the core element for the base
 */

</t>
<t tx="ekr.20211016054411.2015">/**
 * @return {W}    The wrapper for the base core mi or mo (or whatever)
 */
public getBaseCore(): W {
  let core = this.getSemanticBase() || this.childNodes[0];
  while (core &amp;&amp;
         ((core.childNodes.length === 1 &amp;&amp;
           (core.node.isKind('mrow') || core.node.isKind('TeXAtom') ||
            core.node.isKind('mstyle') || core.node.isKind('mpadded') ||
            core.node.isKind('mphantom') || core.node.isKind('semantics'))) ||
          (core.node.isKind('munderover') &amp;&amp; core.isMathAccent)))  {
    this.setBaseAccentsFor(core);
    core = core.childNodes[0];
  }
  if (!core) {
    this.baseHasAccentOver = this.baseHasAccentUnder = false;
  }
  return core || this.childNodes[0];
}

</t>
<t tx="ekr.20211016054411.2016">/**
 * @param {W} core   The element to check for accents
 */
public setBaseAccentsFor(core: W) {
  if (core.node.isKind('munderover')) {
    if (this.baseHasAccentOver === null) {
      this.baseHasAccentOver = !!core.node.attributes.get('accent');
    }
    if (this.baseHasAccentUnder === null) {
      this.baseHasAccentUnder = !!core.node.attributes.get('accentunder');
    }
  }
}

</t>
<t tx="ekr.20211016054411.2017">/**
 * @return {W}    The base fence item or null
 */
public getSemanticBase(): W {
  let fence = this.node.attributes.getExplicit('data-semantic-fencepointer') as string;
  return this.getBaseFence(this.baseChild, fence);
}

</t>
<t tx="ekr.20211016054411.2018">/**
 * Recursively retrieves an element for a given fencepointer.
 *
 * @param {W} fence The potential fence.
 * @param {string} id The fencepointer id.
 * @return {W} The original fence the scripts belong to.
 */
public getBaseFence(fence: W, id: string): W {
  if (!fence || !fence.node.attributes || !id) {
    return null;
  }
  if (fence.node.attributes.getExplicit('data-semantic-id') === id) {
    return fence;
  }
  for (const child of fence.childNodes) {
    const result = this.getBaseFence(child, id);
    if (result) {
      return result;
    }
  }
  return null;
}

</t>
<t tx="ekr.20211016054411.2019">/**
 * @return {number}   The scaling factor for the base core relative to the munderover/msubsup
 */
public getBaseScale(): number {
  let child = this.baseCore as any;
  let scale = 1;
  while (child &amp;&amp; child !== this) {
    const bbox = child.getBBox();
    scale *= bbox.rscale;
    child = child.parent;
  }
  return scale;
}

</t>
<t tx="ekr.20211016054411.202">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'output/svg/fonts/tex',             // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/core/lib',
    'components/src/output/svg/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2020">/**
 * The base's italic correction (properly scaled)
 */
public getBaseIc(): number {
  return this.baseCore.getBBox().ic * this.baseScale;
}

</t>
<t tx="ekr.20211016054411.2021">/**
 * An adjusted italic correction (for slightly better results)
 */
public getAdjustedIc(): number {
  const bbox = this.baseCore.getBBox();
  return (bbox.ic ? 1.05 * bbox.ic + .05 : 0) * this.baseScale;
}

</t>
<t tx="ekr.20211016054411.2022">/**
 * @return {boolean}  True if the base is an mi, mn, or mo consisting of a single character
 */
public isCharBase(): boolean {
  let base = this.baseCore;
  return (((base.node.isKind('mo') &amp;&amp; (base as any).size === null) ||
           base.node.isKind('mi') || base.node.isKind('mn')) &amp;&amp;
          base.bbox.rscale === 1 &amp;&amp; Array.from(base.getText()).length === 1);
}

</t>
<t tx="ekr.20211016054411.2023">/**
 * Determine if the under- and overscripts are under- or overlines.
 */
public checkLineAccents() {
  if (!this.node.isKind('munderover')) return;
  if (this.node.isKind('mover')) {
    this.isLineAbove = this.isLineAccent(this.scriptChild);
  } else if (this.node.isKind('munder')) {
    this.isLineBelow = this.isLineAccent(this.scriptChild);
  } else {
    const mml = this as unknown as CommonMunderover&lt;W&gt;;
    this.isLineAbove = this.isLineAccent(mml.overChild);
    this.isLineBelow = this.isLineAccent(mml.underChild);
  }
}

</t>
<t tx="ekr.20211016054411.2024">/**
 * @param {W} script   The script node to check for being a line
 * @return {boolean}   True if the script is U+2015
 */
public isLineAccent(script: W): boolean {
  const node = script.coreMO().node;
  return (node.isToken &amp;&amp; (node as MmlMo).getText() === '\u2015');
}

/***************************************************************************/
/*
 *  Methods for sub-sup nodes
 */

</t>
<t tx="ekr.20211016054411.2025">/**
 * @return {number}    The base child's width without the base italic correction (if not needed)
 */
public getBaseWidth(): number {
  const bbox = this.baseChild.getBBox();
  return bbox.w * bbox.rscale - (this.baseRemoveIc ? this.baseIc : 0) + this.font.params.extra_ic;
}

</t>
<t tx="ekr.20211016054411.2026">/**
 * This gives the common bbox for msub and msup.  It is overridden
 * for all the others (msubsup, munder, mover, munderover).
 *
 * @override
 */
public computeBBox(bbox: BBox, recompute: boolean = false) {
  const w = this.getBaseWidth();
  const [x, y] = this.getOffset();
  bbox.append(this.baseChild.getBBox());
  bbox.combine(this.scriptChild.getBBox(), w + x, y);
  bbox.w += this.font.params.scriptspace;
  bbox.clean();
  this.setChildPWidths(recompute);
}

</t>
<t tx="ekr.20211016054411.2027">/**
 * Get the shift for the script (implemented in subclasses)
 *
 * @return {[number, number]}   The horizontal and vertical offsets for the script
 */
public getOffset(): [number, number] {
  return [0, 0];
}

</t>
<t tx="ekr.20211016054411.2028">/**
 * @param {number} n    The value to use if the base isn't a (non-large-op, unstretched) char
 * @return {number}     Either n or 0
 */
public baseCharZero(n: number): number {
  const largeop = !!this.baseCore.node.attributes.get('largeop');
  const scale = this.baseScale;
  return (this.baseIsChar &amp;&amp; !largeop &amp;&amp; scale === 1 ? 0 : n);
}

</t>
<t tx="ekr.20211016054411.2029">/**
 * Get the shift for a subscript (TeXBook Appendix G 18ab)
 *
 * @return {number}     The vertical offset for the script
 */
public getV(): number {
  const bbox = this.baseCore.getBBox();
  const sbox = this.scriptChild.getBBox();
  const tex = this.font.params;
  const subscriptshift = this.length2em(this.node.attributes.get('subscriptshift'), tex.sub1);
  return Math.max(
    this.baseCharZero(bbox.d * this.baseScale + tex.sub_drop * sbox.rscale),
    subscriptshift,
    sbox.h * sbox.rscale - (4 / 5) * tex.x_height
  );
}

</t>
<t tx="ekr.20211016054411.203"></t>
<t tx="ekr.20211016054411.2030">/**
 * Get the shift for a superscript (TeXBook Appendix G 18acd)
 *
 * @return {number}     The vertical offset for the script
 */
public getU(): number {
  const bbox = this.baseCore.getBBox();
  const sbox = this.scriptChild.getBBox();
  const tex = this.font.params;
  const attr = this.node.attributes.getList('displaystyle', 'superscriptshift');
  const prime = this.node.getProperty('texprimestyle');
  const p = prime ? tex.sup3 : (attr.displaystyle ? tex.sup1 : tex.sup2);
  const superscriptshift = this.length2em(attr.superscriptshift, p);
  return Math.max(
    this.baseCharZero(bbox.h * this.baseScale - tex.sup_drop * sbox.rscale),
    superscriptshift,
    sbox.d * sbox.rscale + (1 / 4) * tex.x_height
  );
}

/***************************************************************************/
/*
 *  Methods for under-over nodes
 */

</t>
<t tx="ekr.20211016054411.2031">/**
 * @return {boolean}  True if the base has movablelimits (needed by munderover)
 */
public hasMovableLimits(): boolean {
  const display = this.node.attributes.get('displaystyle');
  const mo = this.baseChild.coreMO().node;
  return (!display &amp;&amp; !!mo.attributes.get('movablelimits'));
}

</t>
<t tx="ekr.20211016054411.2032">/**
 * Get the separation and offset for overscripts (TeXBoox Appendix G 13, 13a)
 *
 * @param {BBox} basebox  The bounding box of the base
 * @param {BBox} overbox  The bounding box of the overscript
 * @return {[number, number]}     The separation between their boxes, and the offset of the overscript
 */
public getOverKU(basebox: BBox, overbox: BBox): [number, number] {
  const accent = this.node.attributes.get('accent') as boolean;
  const tex = this.font.params;
  const d = overbox.d * overbox.rscale;
  const t = tex.rule_thickness * tex.separation_factor;
  const delta = (this.baseHasAccentOver ? t : 0);
  const T = (this.isLineAbove ? 3 * tex.rule_thickness : t);
  const k = (accent ? T : Math.max(tex.big_op_spacing1, tex.big_op_spacing3 - Math.max(0, d))) - delta;
  return [k, basebox.h * basebox.rscale + k + d];
}

</t>
<t tx="ekr.20211016054411.2033">/**
 * Get the separation and offset for underscripts (TeXBoox Appendix G 13, 13a)
 *
 * @param {BBox} basebox   The bounding box of the base
 * @param {BBox} underbox  The bounding box of the underscript
 * @return {[number, number]}      The separation between their boxes, and the offset of the underscript
 */
public getUnderKV(basebox: BBox, underbox: BBox): [number, number] {
  const accent = this.node.attributes.get('accentunder') as boolean;
  const tex = this.font.params;
  const h = underbox.h * underbox.rscale;
  const t = tex.rule_thickness * tex.separation_factor;
  const delta = (this.baseHasAccentUnder ? t : 0);
  const T = (this.isLineBelow ? 3 * tex.rule_thickness : t);
  const k = (accent ? T : Math.max(tex.big_op_spacing2, tex.big_op_spacing4 - h)) - delta;
  return [k, -(basebox.d * basebox.rscale + k + h)];
}

</t>
<t tx="ekr.20211016054411.2034">/**
 * @param {BBox[]} boxes     The bounding boxes whose offsets are to be computed
 * @param {number[]=} delta  The initial x offsets of the boxes
 * @return {number[]}        The actual offsets needed to center the boxes in the stack
 */
public getDeltaW(boxes: BBox[], delta: number[] = [0, 0, 0]): number[] {
  const align = this.node.attributes.get('align');
  const widths = boxes.map(box =&gt; box.w * box.rscale);
  widths[0] -= (this.baseRemoveIc &amp;&amp; !this.baseCore.node.attributes.get('largeop') ? this.baseIc : 0);
  const w = Math.max(...widths);
  const dw = [] as number[];
  let m = 0;
  for (const i of widths.keys()) {
    dw[i] = (align === 'center' ? (w - widths[i]) / 2 :
             align === 'right' ? w - widths[i] : 0) + delta[i];
    if (dw[i] &lt; m) {
      m = -dw[i];
    }
  }
  if (m) {
    for (const i of dw.keys()) {
      dw[i] += m;
    }
  }
  [1, 2].map(i =&gt; dw[i] += (boxes[i] ? boxes[i].dx * boxes[0].scale : 0));
  return dw;
}

</t>
<t tx="ekr.20211016054411.2035">/**
 * @param {boolean=} noskew   Whether to ignore the skew amount
 * @return {number}           The offset for under and over
 */
public getDelta(noskew: boolean = false): number {
  const accent = this.node.attributes.get('accent');
  const {sk, ic} = this.baseCore.getBBox();
  return ((accent &amp;&amp; !noskew ? sk : 0) + this.font.skewIcFactor * ic) * this.baseScale;
}

</t>
<t tx="ekr.20211016054411.2036">/**
 * Handle horizontal stretching of children to match greatest width
 *  of all children
 */
    public stretchChildren() {
      let stretchy: AnyWrapper[] = [];
      //
      //  Locate and count the stretchy children
      //
      for (const child of this.childNodes) {
        if (child.canStretch(DIRECTION.Horizontal)) {
          stretchy.push(child);
        }
      }
      let count = stretchy.length;
      let nodeCount = this.childNodes.length;
      if (count &amp;&amp; nodeCount &gt; 1) {
        let W = 0;
        //
        //  If all the children are stretchy, find the largest one,
        //  otherwise, find the width of the non-stretchy children.
        //
        let all = (count &gt; 1 &amp;&amp; count === nodeCount);
        for (const child of this.childNodes) {
          const noStretch = (child.stretch.dir === DIRECTION.None);
          if (all || noStretch) {
            const {w, rscale} = child.getBBox(noStretch);
            if (w * rscale &gt; W) W = w * rscale;
          }
        }
        //
        //  Stretch the stretchable children
        //
        for (const child of stretchy) {
          (child.coreMO() as CommonMo).getStretchedVariant([W / child.bbox.rscale]);
        }
      }
    }

  };

}
</t>
<t tx="ekr.20211016054411.2037">


/**
 * @fileoverview  Implements the CommonSemantics wrapper mixin for the MmlSemantics object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';
import {BBox} from '../../../util/BBox.js';

/*****************************************************************/
/**
 * The CommonSemantics interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2038">export interface CommonSemantics extends AnyWrapper {
}

/**
 * Shorthand for the CommonSemantics constructor
 */
export type SemanticsConstructor = Constructor&lt;CommonSemantics&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2039">/**
 * The CommonSemantics wrapper mixin for the MmlSemantics object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonSemanticsMixin&lt;T extends WrapperConstructor&gt;(Base: T): SemanticsConstructor &amp; T {

  return class extends Base {

    /**
     * @override
     */
    @others
}
</t>
<t tx="ekr.20211016054411.204"></t>
<t tx="ekr.20211016054411.2040">  public computeBBox(bbox: BBox, _recompute: boolean = false) {
    if (this.childNodes.length) {
      const {w, h, d} = this.childNodes[0].getBBox();
      bbox.w = w;
      bbox.h = h;
      bbox.d = d;
    }
  }
};

</t>
<t tx="ekr.20211016054411.2041">


/**
 * @fileoverview  Implements the CommonTeXAtom wrapper mixin for the MmlTeXAtom object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';
import {BBox} from '../../../util/BBox.js';
import {TEXCLASS} from '../../../core/MmlTree/MmlNode.js';

/*****************************************************************/
/**
 * The CommonTeXAtom interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2042">export interface CommonTeXAtom extends AnyWrapper {
}

/**
 * Shorthand for the CommonTeXAtom constructor
 */
export type TeXAtomConstructor = Constructor&lt;CommonTeXAtom&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2043">/**
 * The CommonTeXAtom wrapper mixin for the TeXAtom object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonTeXAtomMixin&lt;T extends WrapperConstructor&gt;(Base: T): TeXAtomConstructor &amp; T {

  return class extends Base {

    /**
     * @override
     */
    @others
}
</t>
<t tx="ekr.20211016054411.2044">  public computeBBox(bbox: BBox, recompute: boolean = false) {
    super.computeBBox(bbox, recompute);
    if (this.childNodes[0] &amp;&amp; this.childNodes[0].bbox.ic) {
      bbox.ic = this.childNodes[0].bbox.ic;
    }
    //
    // Center VCENTER atoms vertically
    //
    if (this.node.texClass === TEXCLASS.VCENTER) {
      const {h, d} = bbox;
      const a = this.font.params.axis_height;
      const dh = ((h + d) / 2 + a) - h;  // new height minus old height
      bbox.h += dh;
      bbox.d -= dh;
    }
  }

};

</t>
<t tx="ekr.20211016054411.2045">


/**
 * @fileoverview  Implements the CommonTextNode wrapper mixin for the TextNode object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AnyWrapper, WrapperConstructor, Constructor} from '../Wrapper.js';
import {BBox} from '../../../util/BBox.js';
import {TextNode} from '../../../core/MmlTree/MmlNode.js';

/*****************************************************************/
/**
 * The CommonTextNode interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2046">export interface CommonTextNode extends AnyWrapper {
  /**
   * @param {string} text     The text to remap
   * @param {string} variant  The variant for the character
   * @return {number[]}       The unicode points for the (remapped) text
   */
  remappedText(text: string, variant: string): number[];
}

/**
 * Shorthand for the CommonTextNode constructor
 */
export type TextNodeConstructor = Constructor&lt;CommonTextNode&gt;;

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2047">/**
 *  The CommonTextNode wrapper mixin for the TextNode object
 *
 * @template T  The Wrapper class constructor type
 */
export function CommonTextNodeMixin&lt;T extends WrapperConstructor&gt;(Base: T): TextNodeConstructor &amp; T {

  return class extends Base {

    /**
     * @override
     */
    @others
}
</t>
<t tx="ekr.20211016054411.2048">public computeBBox(bbox: BBox, _recompute: boolean = false) {
  const variant = this.parent.variant;
  const text = (this.node as TextNode).getText();
  if (variant === '-explicitFont') {
    //
    // Measure the size of the text (using the DOM if possible)
    //
    const font = this.jax.getFontData(this.parent.styles);
    const {w, h, d} = this.jax.measureText(text, variant, font);
    bbox.h = h;
    bbox.d = d;
    bbox.w = w;
  } else {
    const chars = this.remappedText(text, variant);
    bbox.empty();
    //
    // Loop through the characters and add them in one by one
    //
    for (const char of chars) {
      let [h, d, w, data] = this.getVariantChar(variant, char);
      if (data.unknown) {
        //
        // Measure unknown characters using the DOM (if possible)
        //
        const cbox = this.jax.measureText(String.fromCodePoint(char), variant);
        w = cbox.w;
        h = cbox.h;
        d = cbox.d;
      }
      //
      // Update the bounding box
      //
      bbox.w += w;
      if (h &gt; bbox.h) bbox.h = h;
      if (d &gt; bbox.d) bbox.d = d;
      bbox.ic = data.ic || 0;
      bbox.sk = data.sk || 0;
      bbox.dx = data.dx || 0;
    }
    if (chars.length &gt; 1) {
      bbox.sk = 0;
    }
    bbox.clean();
  }
}

</t>
<t tx="ekr.20211016054411.2049">/**
 * @param {string} text     The text to remap
 * @param {string} variant  The variant for the character
 * @return {number[]}       The unicode points for the (remapped) text
 */
  public remappedText(text: string, variant: string): number[] {
    const c = this.parent.stretch.c;
    return (c ? [c] : this.parent.remapChars(this.unicodeChars(text, variant)));
  }

  /******************************************************/
  /*
   * TextNodes don't need these, since these properties
   *   are inherited from the parent nodes
   */

  /**
   * @override
   */
  public getStyles() {}

  /**
   * @override
   */
  public getVariant() {}

  /**
   * @override
   */
  public getScale() {}

  /**
   * @override
   */
  public getSpace() {}

};

</t>
<t tx="ekr.20211016054411.205">
import './lib/startup.js';

import {Loader, CONFIG} from '../../../js/components/loader.js';
import {combineDefaults} from '../../../js/components/global.js';
import {dependencies, paths, provides, compatibility} from '../dependencies.js';

combineDefaults(MathJax.config.loader, 'dependencies', dependencies);
combineDefaults(MathJax.config.loader, 'paths', paths);
combineDefaults(MathJax.config.loader, 'provides', provides);
combineDefaults(MathJax.config.loader, 'source', compatibility);

Loader.preLoad('loader');

Loader.load(...CONFIG.load)
      .then(() =&gt; CONFIG.ready())
      .catch(error =&gt; CONFIG.failed(error));
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2050"></t>
<t tx="ekr.20211016054411.2051">


/**
 * @fileoverview  The MathJax TeXFont object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {FontDataClass, CharOptions, VariantData, DelimiterData, CssFontMap} from '../FontData.js';

/*****************************************************************/
/**
 *  The CommonTeXFont mixin for the CommonTeXFont object
 *
 * @template C  The CharOptions class for this font
 * @template V  The VariantData class for this font
 * @template B  The FontData class to extend
 */
export function CommonTeXFontMixin&lt;
  C extends CharOptions,
  V extends VariantData&lt;C&gt;,
  D extends DelimiterData,
  B extends FontDataClass&lt;C, V, D&gt;
&gt;(Base: B): FontDataClass&lt;C, V, D&gt; &amp; B {

  return class extends Base {

    /**
     *  Add the extra variants for the TeX fonts
     */
    protected static defaultVariants = [
      ...Base.defaultVariants,
      ['-smallop', 'normal'],
      ['-largeop', 'normal'],
      ['-size3', 'normal'],
      ['-size4', 'normal'],
      ['-tex-calligraphic', 'italic'],
      ['-tex-bold-calligraphic', 'bold-italic'],
      ['-tex-oldstyle', 'normal'],
      ['-tex-bold-oldstyle', 'bold'],
      ['-tex-mathit', 'italic'],
      ['-tex-variant', 'normal']
    ];

    /**
     * The data used for CSS for undefined characters for each variant
     */
    protected static defaultCssFonts: CssFontMap = {
      ...Base.defaultCssFonts,
      '-smallop': ['serif', false, false],
      '-largeop': ['serif', false, false],
      '-size3': ['serif', false, false],
      '-size4': ['serif', false, false],
      '-tex-calligraphic': ['cursive', true, false],
      '-tex-bold-calligraphic': ['cursive', true, true],
      '-tex-oldstyle': ['serif', false, false],
      '-tex-bold-oldstyle': ['serif', false, true],
      '-tex-mathit': ['serif', true, false]
    };

    /**
     *  The default variants for the standard stretchy sizes
     */
    protected static defaultSizeVariants = ['normal', '-smallop', '-largeop', '-size3', '-size4', '-tex-variant'];

    /**
     *  The default variants for the standard stretchy assmebly parts
     */
    protected static defaultStretchVariants = ['-size4'];

    /**
     * @override
     */
    protected getDelimiterData(n: number) {
      return this.getChar('-smallop', n) || this.getChar('-size4', n);
    }

  };

}

@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2052"></t>
<t tx="ekr.20211016054411.2053">


import {CharMap, CharOptions} from '../../FontData.js';

export const boldItalic: CharMap&lt;CharOptions&gt; = {
    0x2F: [.711, .21, .894],
    0x131: [.452, .008, .394, {sk: .0319}],
    0x237: [.451, .201, .439, {sk: .0958}],
    0x2044: [.711, .21, .894],
    0x2206: [.711, 0, .958, {sk: .192}],
    0x29F8: [.711, .21, .894],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2054">


import {CharMap, CharOptions} from '../../FontData.js';

export const bold: CharMap&lt;CharOptions&gt; = {
    0x21: [.705, 0, .35],
    0x22: [.694, -0.329, .603],
    0x23: [.694, .193, .958],
    0x24: [.75, .056, .575],
    0x25: [.75, .056, .958],
    0x26: [.705, .011, .894],
    0x27: [.694, -0.329, .319],
    0x28: [.75, .249, .447],
    0x29: [.75, .249, .447],
    0x2A: [.75, -0.306, .575],
    0x2B: [.633, .131, .894],
    0x2C: [.171, .194, .319],
    0x2D: [.278, -0.166, .383],
    0x2E: [.171, 0, .319],
    0x2F: [.75, .25, .575],
    0x3A: [.444, 0, .319],
    0x3B: [.444, .194, .319],
    0x3C: [.587, .085, .894],
    0x3D: [.393, -0.109, .894],
    0x3E: [.587, .085, .894],
    0x3F: [.7, 0, .543],
    0x40: [.699, .006, .894],
    0x5B: [.75, .25, .319],
    0x5C: [.75, .25, .575],
    0x5D: [.75, .25, .319],
    0x5E: [.694, -0.52, .575],
    0x5F: [-0.01, .061, .575],
    0x60: [.706, -0.503, .575],
    0x7B: [.75, .25, .575],
    0x7C: [.75, .249, .319],
    0x7D: [.75, .25, .575],
    0x7E: [.344, -0.202, .575],
    0xA8: [.695, -0.535, .575],
    0xAC: [.371, -0.061, .767],
    0xAF: [.607, -0.54, .575],
    0xB0: [.702, -0.536, .575],
    0xB1: [.728, .035, .894],
    0xB4: [.706, -0.503, .575],
    0xB7: [.336, -0.166, .319],
    0xD7: [.53, .028, .894],
    0xF7: [.597, .096, .894],
    0x131: [.442, 0, .278, {sk: .0278}],
    0x237: [.442, .205, .306, {sk: .0833}],
    0x2B9: [.563, -0.033, .344],
    0x2C6: [.694, -0.52, .575],
    0x2C7: [.66, -0.515, .575],
    0x2C9: [.607, -0.54, .575],
    0x2CA: [.706, -0.503, .575],
    0x2CB: [.706, -0.503, .575],
    0x2D8: [.694, -0.5, .575],
    0x2D9: [.695, -0.525, .575],
    0x2DA: [.702, -0.536, .575],
    0x2DC: [.694, -0.552, .575],
    0x300: [.706, -0.503, 0],
    0x301: [.706, -0.503, 0],
    0x302: [.694, -0.52, 0],
    0x303: [.694, -0.552, 0],
    0x304: [.607, -0.54, 0],
    0x306: [.694, -0.5, 0],
    0x307: [.695, -0.525, 0],
    0x308: [.695, -0.535, 0],
    0x30A: [.702, -0.536, 0],
    0x30B: [.714, -0.511, 0],
    0x30C: [.66, -0.515, 0],
    0x338: [.711, .21, 0],
    0x2002: [0, 0, .5],
    0x2003: [0, 0, .999],
    0x2004: [0, 0, .333],
    0x2005: [0, 0, .25],
    0x2006: [0, 0, .167],
    0x2009: [0, 0, .167],
    0x200A: [0, 0, .083],
    0x2013: [.3, -0.249, .575],
    0x2014: [.3, -0.249, 1.15],
    0x2015: [.3, -0.249, 1.15],
    0x2016: [.75, .248, .575],
    0x2017: [-0.01, .061, .575],
    0x2018: [.694, -0.329, .319],
    0x2019: [.694, -0.329, .319],
    0x201C: [.694, -0.329, .603],
    0x201D: [.694, -0.329, .603],
    0x2020: [.702, .211, .511],
    0x2021: [.702, .202, .511],
    0x2022: [.474, -0.028, .575],
    0x2026: [.171, 0, 1.295],
    0x2032: [.563, -0.033, .344],
    0x2033: [.563, 0, .688],
    0x2034: [.563, 0, 1.032],
    0x203E: [.607, -0.54, .575],
    0x2044: [.75, .25, .575],
    0x2057: [.563, 0, 1.376],
    0x20D7: [.723, -0.513, .575],
    0x210F: [.694, .008, .668, {sk: -0.0319}],
    0x2113: [.702, .019, .474, {sk: .128}],
    0x2118: [.461, .21, .74],
    0x2135: [.694, 0, .703],
    0x2190: [.518, .017, 1.15],
    0x2191: [.694, .193, .575],
    0x2192: [.518, .017, 1.15],
    0x2193: [.694, .194, .575],
    0x2194: [.518, .017, 1.15],
    0x2195: [.767, .267, .575],
    0x2196: [.724, .194, 1.15],
    0x2197: [.724, .193, 1.15],
    0x2198: [.694, .224, 1.15],
    0x2199: [.694, .224, 1.15],
    0x219A: [.711, .21, 1.15],
    0x219B: [.711, .21, 1.15],
    0x21A6: [.518, .017, 1.15],
    0x21A9: [.518, .017, 1.282],
    0x21AA: [.518, .017, 1.282],
    0x21AE: [.711, .21, 1.15],
    0x21BC: [.518, -0.22, 1.15],
    0x21BD: [.281, .017, 1.15],
    0x21C0: [.518, -0.22, 1.15],
    0x21C1: [.281, .017, 1.15],
    0x21CC: [.718, .017, 1.15],
    0x21CD: [.711, .21, 1.15],
    0x21CE: [.711, .21, 1.15],
    0x21CF: [.711, .21, 1.15],
    0x21D0: [.547, .046, 1.15],
    0x21D1: [.694, .193, .703],
    0x21D2: [.547, .046, 1.15],
    0x21D3: [.694, .194, .703],
    0x21D4: [.547, .046, 1.15],
    0x21D5: [.767, .267, .703],
    0x2200: [.694, .016, .639],
    0x2203: [.694, 0, .639],
    0x2204: [.711, .21, .639],
    0x2205: [.767, .073, .575],
    0x2206: [.698, 0, .958],
    0x2208: [.587, .086, .767],
    0x2209: [.711, .21, .767],
    0x220B: [.587, .086, .767],
    0x220C: [.711, .21, .767],
    0x2212: [.281, -0.221, .894],
    0x2213: [.537, .227, .894],
    0x2215: [.75, .25, .575],
    0x2216: [.75, .25, .575],
    0x2217: [.472, -0.028, .575],
    0x2218: [.474, -0.028, .575],
    0x2219: [.474, -0.028, .575],
    0x221A: [.82, .18, .958, {ic: .03}],
    0x221D: [.451, .008, .894],
    0x221E: [.452, .008, 1.15],
    0x2220: [.714, 0, .722],
    0x2223: [.75, .249, .319],
    0x2224: [.75, .249, .319],
    0x2225: [.75, .248, .575],
    0x2226: [.75, .248, .575],
    0x2227: [.604, .017, .767],
    0x2228: [.604, .016, .767],
    0x2229: [.603, .016, .767],
    0x222A: [.604, .016, .767],
    0x222B: [.711, .211, .569, {ic: .063}],
    0x223C: [.391, -0.109, .894],
    0x2240: [.583, .082, .319],
    0x2241: [.711, .21, .894],
    0x2243: [.502, 0, .894],
    0x2244: [.711, .21, .894],
    0x2245: [.638, .027, .894],
    0x2247: [.711, .21, .894],
    0x2248: [.524, -0.032, .894],
    0x2249: [.711, .21, .894],
    0x224D: [.533, .032, .894],
    0x2250: [.721, -0.109, .894],
    0x2260: [.711, .21, .894],
    0x2261: [.505, 0, .894],
    0x2262: [.711, .21, .894],
    0x2264: [.697, .199, .894],
    0x2265: [.697, .199, .894],
    0x226A: [.617, .116, 1.15],
    0x226B: [.618, .116, 1.15],
    0x226D: [.711, .21, .894],
    0x226E: [.711, .21, .894],
    0x226F: [.711, .21, .894],
    0x2270: [.711, .21, .894],
    0x2271: [.711, .21, .894],
    0x227A: [.585, .086, .894],
    0x227B: [.586, .086, .894],
    0x2280: [.711, .21, .894],
    0x2281: [.711, .21, .894],
    0x2282: [.587, .085, .894],
    0x2283: [.587, .086, .894],
    0x2284: [.711, .21, .894],
    0x2285: [.711, .21, .894],
    0x2286: [.697, .199, .894],
    0x2287: [.697, .199, .894],
    0x2288: [.711, .21, .894],
    0x2289: [.711, .21, .894],
    0x228E: [.604, .016, .767],
    0x2291: [.697, .199, .894],
    0x2292: [.697, .199, .894],
    0x2293: [.604, 0, .767],
    0x2294: [.604, 0, .767],
    0x2295: [.632, .132, .894],
    0x2296: [.632, .132, .894],
    0x2297: [.632, .132, .894],
    0x2298: [.632, .132, .894],
    0x2299: [.632, .132, .894],
    0x22A2: [.693, 0, .703],
    0x22A3: [.693, 0, .703],
    0x22A4: [.694, 0, .894],
    0x22A5: [.693, 0, .894],
    0x22A8: [.75, .249, .974],
    0x22AC: [.711, .21, .703],
    0x22AD: [.75, .249, .974],
    0x22C4: [.523, .021, .575],
    0x22C5: [.336, -0.166, .319],
    0x22C6: [.502, 0, .575],
    0x22C8: [.54, .039, 1],
    0x22E2: [.711, .21, .894],
    0x22E3: [.711, .21, .894],
    0x22EE: [.951, .029, .319],
    0x22EF: [.336, -0.166, 1.295],
    0x22F1: [.871, -0.101, 1.323],
    0x2308: [.75, .248, .511],
    0x2309: [.75, .248, .511],
    0x230A: [.749, .248, .511],
    0x230B: [.749, .248, .511],
    0x2322: [.405, -0.108, 1.15],
    0x2323: [.392, -0.126, 1.15],
    0x2329: [.75, .249, .447],
    0x232A: [.75, .249, .447],
    0x25B3: [.711, 0, 1.022],
    0x25B5: [.711, 0, 1.022],
    0x25B9: [.54, .039, .575],
    0x25BD: [.5, .21, 1.022],
    0x25BF: [.5, .21, 1.022],
    0x25C3: [.539, .038, .575],
    0x25EF: [.711, .211, 1.15],
    0x2660: [.719, .129, .894],
    0x2661: [.711, .024, .894],
    0x2662: [.719, .154, .894],
    0x2663: [.719, .129, .894],
    0x266D: [.75, .017, .447],
    0x266E: [.741, .223, .447],
    0x266F: [.724, .224, .447],
    0x2758: [.75, .249, .319],
    0x27E8: [.75, .249, .447],
    0x27E9: [.75, .249, .447],
    0x27F5: [.518, .017, 1.805],
    0x27F6: [.518, .017, 1.833],
    0x27F7: [.518, .017, 2.126],
    0x27F8: [.547, .046, 1.868],
    0x27F9: [.547, .046, 1.87],
    0x27FA: [.547, .046, 2.126],
    0x27FC: [.518, .017, 1.833],
    0x29F8: [.711, .21, .894],
    0x2A2F: [.53, .028, .894],
    0x2A3F: [.686, 0, .9],
    0x2AAF: [.696, .199, .894],
    0x2AB0: [.697, .199, .894],
    0x3008: [.75, .249, .447],
    0x3009: [.75, .249, .447],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2055">


import {DelimiterMap, DelimiterData, V, H} from '../../FontData.js';

export const HDW1 = [.75, .25, .875];
export const HDW2 = [.85, .349, .667];
export const HDW3 = [.583, .082, .5];
export const VSIZES = [1, 1.2, 1.8, 2.4, 3];

const DELIM2F = {c: 0x2F, dir: V, sizes: VSIZES};
const DELIMAF = {c: 0xAF, dir: H, sizes: [.5], stretch: [0, 0xAF], HDW: [.59, -0.544, .5]};
const DELIM2C6 = {c: 0x2C6, dir: H, sizes: [.5, .556, 1, 1.444, 1.889]};
const DELIM2DC = {c: 0x2DC, dir: H, sizes: [.5, .556, 1, 1.444, 1.889]};
const DELIM2013 = {c: 0x2013, dir: H, sizes: [.5], stretch: [0, 0x2013], HDW: [.285, -0.248, .5]};
const DELIM2190 = {c: 0x2190, dir: H, sizes: [1], stretch: [0x2190, 0x2212], HDW: HDW3};
const DELIM2192 = {c: 0x2192, dir: H, sizes: [1], stretch: [0, 0x2212, 0x2192], HDW: HDW3};
const DELIM2194 = {c: 0x2194, dir: H, sizes: [1], stretch: [0x2190, 0x2212, 0x2192], HDW: HDW3};
const DELIM21A4 = {c: 0x21A4, dir: H, stretch: [0x2190, 0x2212, 0x2223], HDW: HDW3, min: 1.278};
const DELIM21A6 = {c: 0x21A6, dir: H, sizes: [1], stretch: [0x2223, 0x2212, 0x2192], HDW: HDW3};
const DELIM21D0 = {c: 0x21D0, dir: H, sizes: [1], stretch: [0x21D0, 0x3D], HDW: HDW3};
const DELIM21D2 = {c: 0x21D2, dir: H, sizes: [1], stretch: [0, 0x3D, 0x21D2], HDW: HDW3};
const DELIM21D4 = {c: 0x21D4, dir: H, sizes: [1], stretch: [0x21D0, 0x3D, 0x21D2], HDW: HDW3};
const DELIM2212 = {c: 0x2212, dir: H, sizes: [.778], stretch: [0, 0x2212], HDW: HDW3};
const DELIM2223 = {c: 0x2223, dir: V, sizes: [1], stretch: [0, 0x2223], HDW: [.627, .015, .333]};
const DELIM23DC = {c: 0x23DC, dir: H, sizes: [.778, 1], schar: [0x2322, 0x2322], variants: [5, 0],
                   stretch: [0xE150, 0xE154, 0xE151], HDW: [.32, .2, .5]};
const DELIM23DD = {c: 0x23DD, dir: H, sizes: [.778, 1], schar: [0x2323, 0x2323], variants: [5, 0],
                   stretch: [0xE152, 0xE154, 0xE153], HDW: [.32, .2, .5]};
const DELIM23DE = {c: 0x23DE, dir: H, stretch: [0xE150, 0xE154, 0xE151, 0xE155], HDW: [.32, .2, .5], min: 1.8};
const DELIM23DF = {c: 0x23DF, dir: H, stretch: [0xE152, 0xE154, 0xE153, 0xE156], HDW: [.32, .2, .5], min: 1.8};
const DELIM27E8 = {c: 0x27E8, dir: V, sizes: VSIZES};
const DELIM27E9 = {c: 0x27E9, dir: V, sizes: VSIZES};
const DELIM2906 = {c: 0x2906, dir: H, stretch: [0x21D0, 0x3D, 0x2223], HDW: HDW3, min: 1.278};
const DELIM2907 = {c: 0x2907, dir: H, stretch: [0x22A8, 0x3D, 0x21D2], HDW: HDW3, min: 1.278};


export const delimiters: DelimiterMap&lt;DelimiterData&gt; = {
  0x28: {dir: V, sizes: VSIZES, stretch: [0x239B, 0x239C, 0x239D], HDW: [.85, .349, .875]},
  0x29: {dir: V, sizes: VSIZES, stretch: [0x239E, 0x239F, 0x23A0], HDW: [.85, .349, .875]},
  0x2D: DELIM2212,
  0x2F: DELIM2F,
  0x3D: {dir: H, sizes: [.778], stretch: [0, 0x3D], HDW: HDW3},
  0x5B: {dir: V, sizes: VSIZES, stretch: [0x23A1, 0x23A2, 0x23A3], HDW: HDW2},
  0x5C: {dir: V, sizes: VSIZES},
  0x5D: {dir: V, sizes: VSIZES, stretch: [0x23A4, 0x23A5, 0x23A6], HDW: HDW2},
  0x5E: DELIM2C6,
  0x5F: DELIM2013,
  0x7B: {dir: V, sizes: VSIZES, stretch: [0x23A7, 0x23AA, 0x23A9, 0x23A8], HDW: [.85, .349, .889]},
  0x7C: {dir: V, sizes: [1], stretch: [0, 0x2223], HDW: [.75, .25, .333]},
  0x7D: {dir: V, sizes: VSIZES, stretch: [0x23AB, 0x23AA, 0x23AD, 0x23AC], HDW: [.85, .349, .889]},
  0x7E: DELIM2DC,
  0xAF: DELIMAF,
  0x2C6: DELIM2C6,
  0x2C9: DELIMAF,
  0x2DC: DELIM2DC,
  0x302: DELIM2C6,
  0x303: DELIM2DC,
  0x332: DELIM2013,
  0x2013: DELIM2013,
  0x2014: DELIM2013,
  0x2015: DELIM2013,
  0x2016: {dir: V, sizes: [.602, 1], schar: [0, 0x2225], variants: [1, 0], stretch: [0, 0x2225], HDW: [.602, 0, .556]},
  0x2017: DELIM2013,
  0x203E: DELIMAF,
  0x20D7: DELIM2192,
  0x2190: DELIM2190,
  0x2191: {dir: V, sizes: [.888], stretch: [0x2191, 0x23D0], HDW: [.6, 0, .667]},
  0x2192: DELIM2192,
  0x2193: {dir: V, sizes: [.888], stretch: [0, 0x23D0, 0x2193], HDW: [.6, 0, .667]},
  0x2194: DELIM2194,
  0x2195: {dir: V, sizes: [1.044], stretch: [0x2191, 0x23D0, 0x2193], HDW: HDW1},
  0x219E: {dir: H, sizes: [1], stretch: [0x219E, 0x2212], HDW: HDW3},
  0x21A0: {dir: H, sizes: [1], stretch: [0, 0x2212, 0x21A0], HDW: HDW3},
  0x21A4: DELIM21A4,
  0x21A5: {dir: V, stretch: [0x2191, 0x23D0, 0x22A5], HDW: HDW1, min: 1.555},
  0x21A6: DELIM21A6,
  0x21A7: {dir: V, stretch: [0x22A4, 0x23D0, 0x2193], HDW: HDW1, min: 1.555},
  0x21B0: {dir: V, sizes: [.722], stretch: [0x21B0, 0x23D0], HDW: HDW1},
  0x21B1: {dir: V, sizes: [.722], stretch: [0x21B1, 0x23D0], HDW: HDW1},
  0x21BC: {dir: H, sizes: [1], stretch: [0x21BC, 0x2212], HDW: HDW3},
  0x21BD: {dir: H, sizes: [1], stretch: [0x21BD, 0x2212], HDW: HDW3},
  0x21BE: {dir: V, sizes: [.888], stretch: [0x21BE, 0x23D0], HDW: HDW1},
  0x21BF: {dir: V, sizes: [.888], stretch: [0x21BF, 0x23D0], HDW: HDW1},
  0x21C0: {dir: H, sizes: [1], stretch: [0, 0x2212, 0x21C0], HDW: HDW3},
  0x21C1: {dir: H, sizes: [1], stretch: [0, 0x2212, 0x21C1], HDW: HDW3},
  0x21C2: {dir: V, sizes: [.888], stretch: [0, 0x23D0, 0x21C2], HDW: HDW1},
  0x21C3: {dir: V, sizes: [.888], stretch: [0, 0x23D0, 0x21C3], HDW: HDW1},
  0x21D0: DELIM21D0,
  0x21D1: {dir: V, sizes: [.888], stretch: [0x21D1, 0x2016], HDW: [.599, 0, .778]},
  0x21D2: DELIM21D2,
  0x21D3: {dir: V, sizes: [.888], stretch: [0, 0x2016, 0x21D3], HDW: [.6, 0, .778]},
  0x21D4: DELIM21D4,
  0x21D5: {dir: V, sizes: [1.044], stretch: [0x21D1, 0x2016, 0x21D3], HDW: [.75, .25, .778]},
  0x21DA: {dir: H, sizes: [1], stretch: [0x21DA, 0x2261], HDW: [.464, -0.036, .5]},
  0x21DB: {dir: H, sizes: [1], stretch: [0, 0x2261, 0x21DB], HDW: [.464, -0.036, .5]},
  0x2212: DELIM2212,
  0x2215: DELIM2F,
  0x221A: {dir: V, sizes: VSIZES, stretch: [0xE001, 0xE000, 0x23B7], fullExt: [.65, 2.3], HDW: [.85, .35, 1.056]},
  0x2223: DELIM2223,
  0x2225: {dir: V, sizes: [1], stretch: [0, 0x2225], HDW: [.627, .015, .556]},
  0x2308: {dir: V, sizes: VSIZES, stretch: [0x23A1, 0x23A2], HDW: HDW2},
  0x2309: {dir: V, sizes: VSIZES, stretch: [0x23A4, 0x23A5], HDW: HDW2},
  0x230A: {dir: V, sizes: VSIZES, stretch: [0, 0x23A2, 0x23A3], HDW: HDW2},
  0x230B: {dir: V, sizes: VSIZES, stretch: [0, 0x23A5, 0x23A6], HDW: HDW2},
  0x2312: DELIM23DC,
  0x2322: DELIM23DC,
  0x2323: DELIM23DD,
  0x2329: DELIM27E8,
  0x232A: DELIM27E9,
  0x23AA: {dir: V, sizes: [.32], stretch: [0x23AA, 0x23AA, 0x23AA], HDW: [.29, .015, .889]},
  0x23AF: DELIM2013,
  0x23B0: {dir: V, sizes: [.989], stretch: [0x23A7, 0x23AA, 0x23AD], HDW: [.75, .25, .889]},
  0x23B1: {dir: V, sizes: [.989], stretch: [0x23AB, 0x23AA, 0x23A9], HDW: [.75, .25, .889]},
  0x23B4: {dir: H, stretch: [0x250C, 0x2212, 0x2510], HDW: HDW3, min: 1},
  0x23B5: {dir: H, stretch: [0x2514, 0x2212, 0x2518], HDW: HDW3, min: 1},
  0x23D0: {dir: V, sizes: [.602, 1], schar: [0, 0x2223], variants: [1, 0], stretch: [0, 0x2223], HDW: [.602, 0, .333]},
  0x23DC: DELIM23DC,
  0x23DD: DELIM23DD,
  0x23DE: DELIM23DE,
  0x23DF: DELIM23DF,
  0x23E0: {dir: H, stretch: [0x2CA, 0x2C9, 0x2CB], HDW: [.59, -0.544, .5], min: 1},
  0x23E1: {dir: H, stretch: [0x2CB, 0x2C9, 0x2CA], HDW: [.59, -0.544, .5], min: 1},
  0x2500: DELIM2013,
  0x2758: DELIM2223,
  0x27E8: DELIM27E8,
  0x27E9: DELIM27E9,
  0x27EE: {dir: V, sizes: [.989], stretch: [0x23A7, 0x23AA, 0x23A9], HDW: [.75, .25, .889]},
  0x27EF: {dir: V, sizes: [.989], stretch: [0x23AB, 0x23AA, 0x23AD], HDW: [.75, .25, .889]},
  0x27F5: DELIM2190,
  0x27F6: DELIM2192,
  0x27F7: DELIM2194,
  0x27F8: DELIM21D0,
  0x27F9: DELIM21D2,
  0x27FA: DELIM21D4,
  0x27FB: DELIM21A4,
  0x27FC: DELIM21A6,
  0x27FD: DELIM2906,
  0x27FE: DELIM2907,
  0x2906: DELIM2906,
  0x2907: DELIM2907,
  0x294E: {dir: H, stretch: [0x21BC, 0x2212, 0x21C0], HDW: HDW3, min: 2},
  0x294F: {dir: V, stretch: [0x21BE, 0x23D0, 0x21C2], HDW: HDW1, min: 1.776},
  0x2950: {dir: H, stretch: [0x21BD, 0x2212, 0x21C1], HDW: HDW3, min: 2},
  0x2951: {dir: V, stretch: [0x21BF, 0x23D0, 0x21C3], HDW: HDW1, min: .5},
  0x295A: {dir: H, stretch: [0x21BC, 0x2212, 0x2223], HDW: HDW3, min: 1.278},
  0x295B: {dir: H, stretch: [0x2223, 0x2212, 0x21C0], HDW: HDW3, min: 1.278},
  0x295C: {dir: V, stretch: [0x21BE, 0x23D0, 0x22A5], HDW: HDW1, min: 1.556},
  0x295D: {dir: V, stretch: [0x22A4, 0x23D0, 0x21C2], HDW: HDW1, min: 1.556},
  0x295E: {dir: H, stretch: [0x21BD, 0x2212, 0x2223], HDW: HDW3, min: 1.278},
  0x295F: {dir: H, stretch: [0x2223, 0x2212, 0x21C1], HDW: HDW3, min: 1.278},
  0x2960: {dir: V, stretch: [0x21BF, 0x23D0, 0x22A5], HDW: HDW1, min: 1.776},
  0x2961: {dir: V, stretch: [0x22A4, 0x23D0, 0x21C3], HDW: HDW1, min: 1.776},
  0x3008: DELIM27E8,
  0x3009: DELIM27E9,
  0xFE37: DELIM23DE,
  0xFE38: DELIM23DF,
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2056">


import {CharMap, CharOptions} from '../../FontData.js';

export const doubleStruck: CharMap&lt;CharOptions&gt; = {
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2057">


import {CharMap, CharOptions} from '../../FontData.js';

export const frakturBold: CharMap&lt;CharOptions&gt; = {
    0x21: [.689, .012, .349],
    0x22: [.695, -0.432, .254],
    0x26: [.696, .016, .871],
    0x27: [.695, -0.436, .25],
    0x28: [.737, .186, .459],
    0x29: [.735, .187, .459],
    0x2A: [.692, -0.449, .328],
    0x2B: [.598, .082, .893],
    0x2C: [.107, .191, .328],
    0x2D: [.275, -0.236, .893],
    0x2E: [.102, .015, .328],
    0x2F: [.721, .182, .593],
    0x30: [.501, .012, .593],
    0x31: [.489, 0, .593],
    0x32: [.491, 0, .593],
    0x33: [.487, .193, .593],
    0x34: [.495, .196, .593],
    0x35: [.481, .19, .593],
    0x36: [.704, .012, .593],
    0x37: [.479, .197, .593],
    0x38: [.714, .005, .593],
    0x39: [.487, .195, .593],
    0x3A: [.457, .012, .255],
    0x3B: [.458, .19, .255],
    0x3D: [.343, -0.168, .582],
    0x3F: [.697, .014, .428],
    0x5B: [.74, .13, .257],
    0x5D: [.738, .132, .257],
    0x5E: [.734, -0.452, .59],
    0x2018: [.708, -0.411, .254],
    0x2019: [.692, -0.394, .254],
    0x2044: [.721, .182, .593],
    0xE301: [.63, .027, .587],
    0xE302: [.693, .212, .394, {ic: .014}],
    0xE303: [.681, .219, .387],
    0xE304: [.473, .212, .593],
    0xE305: [.684, .027, .393],
    0xE308: [.679, .22, .981],
    0xE309: [.717, .137, .727],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2058">


import {CharMap, CharOptions} from '../../FontData.js';

export const fraktur: CharMap&lt;CharOptions&gt; = {
    0x21: [.689, .012, .296],
    0x22: [.695, -0.432, .215],
    0x26: [.698, .011, .738],
    0x27: [.695, -0.436, .212],
    0x28: [.737, .186, .389],
    0x29: [.735, .187, .389],
    0x2A: [.692, -0.449, .278],
    0x2B: [.598, .082, .756],
    0x2C: [.107, .191, .278],
    0x2D: [.275, -0.236, .756],
    0x2E: [.102, .015, .278],
    0x2F: [.721, .182, .502],
    0x30: [.492, .013, .502],
    0x31: [.468, 0, .502],
    0x32: [.474, 0, .502],
    0x33: [.473, .182, .502],
    0x34: [.476, .191, .502],
    0x35: [.458, .184, .502],
    0x36: [.7, .013, .502],
    0x37: [.468, .181, .502],
    0x38: [.705, .01, .502],
    0x39: [.469, .182, .502],
    0x3A: [.457, .012, .216],
    0x3B: [.458, .189, .216],
    0x3D: [.368, -0.132, .756],
    0x3F: [.693, .011, .362],
    0x5B: [.74, .13, .278],
    0x5D: [.738, .131, .278],
    0x5E: [.734, -0.452, .5],
    0x2018: [.708, -0.41, .215],
    0x2019: [.692, -0.395, .215],
    0x2044: [.721, .182, .502],
    0xE300: [.683, .032, .497],
    0xE301: [.616, .03, .498],
    0xE302: [.68, .215, .333],
    0xE303: [.679, .224, .329],
    0xE304: [.471, .214, .503],
    0xE305: [.686, .02, .333],
    0xE306: [.577, .021, .334, {ic: .013}],
    0xE307: [.475, .022, .501, {ic: .013}],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2059">


import {CharMap, CharOptions} from '../../FontData.js';

export const italic: CharMap&lt;CharOptions&gt; = {
    0x21: [.716, 0, .307, {ic: .073}],
    0x22: [.694, -0.379, .514, {ic: .024}],
    0x23: [.694, .194, .818, {ic: .01}],
    0x25: [.75, .056, .818, {ic: .029}],
    0x26: [.716, .022, .767, {ic: .035}],
    0x27: [.694, -0.379, .307, {ic: .07}],
    0x28: [.75, .25, .409, {ic: .108}],
    0x29: [.75, .25, .409],
    0x2A: [.75, -0.32, .511, {ic: .073}],
    0x2B: [.557, .057, .767],
    0x2C: [.121, .194, .307],
    0x2D: [.251, -0.18, .358],
    0x2E: [.121, 0, .307],
    0x2F: [.716, .215, .778],
    0x30: [.665, .021, .511, {ic: .051}],
    0x31: [.666, 0, .511],
    0x32: [.666, .022, .511, {ic: .04}],
    0x33: [.666, .022, .511, {ic: .051}],
    0x34: [.666, .194, .511],
    0x35: [.666, .022, .511, {ic: .056}],
    0x36: [.665, .022, .511, {ic: .054}],
    0x37: [.666, .022, .511, {ic: .123}],
    0x38: [.666, .021, .511, {ic: .042}],
    0x39: [.666, .022, .511, {ic: .042}],
    0x3A: [.431, 0, .307],
    0x3B: [.431, .194, .307],
    0x3D: [.367, -0.133, .767],
    0x3F: [.716, 0, .511, {ic: .04}],
    0x40: [.705, .011, .767, {ic: .022}],
    0x5B: [.75, .25, .307, {ic: .139}],
    0x5D: [.75, .25, .307, {ic: .052}],
    0x5E: [.694, -0.527, .511, {ic: .017}],
    0x5F: [-0.025, .062, .511, {ic: .043}],
    0x7E: [.318, -0.208, .511, {ic: .06}],
    0x131: [.441, .01, .307, {ic: .033}],
    0x237: [.442, .204, .332],
    0x300: [.697, -0.5, 0],
    0x301: [.697, -0.5, 0, {ic: .039}],
    0x302: [.694, -0.527, 0, {ic: .017}],
    0x303: [.668, -0.558, 0, {ic: .06}],
    0x304: [.589, -0.544, 0, {ic: .054}],
    0x306: [.694, -0.515, 0, {ic: .062}],
    0x307: [.669, -0.548, 0],
    0x308: [.669, -0.554, 0, {ic: .045}],
    0x30A: [.716, -0.542, 0],
    0x30B: [.697, -0.503, 0, {ic: .065}],
    0x30C: [.638, -0.502, 0, {ic: .029}],
    0x3DD: [.605, .085, .778],
    0x2013: [.285, -0.248, .511, {ic: .043}],
    0x2014: [.285, -0.248, 1.022, {ic: .016}],
    0x2015: [.285, -0.248, 1.022, {ic: .016}],
    0x2017: [-0.025, .062, .511, {ic: .043}],
    0x2018: [.694, -0.379, .307, {ic: .055}],
    0x2019: [.694, -0.379, .307, {ic: .07}],
    0x201C: [.694, -0.379, .514, {ic: .092}],
    0x201D: [.694, -0.379, .514, {ic: .024}],
    0x2044: [.716, .215, .778],
    0x210F: [.695, .013, .54, {ic: .022}],
    0x2206: [.716, 0, .833, {sk: .167}],
    0x29F8: [.716, .215, .778],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.206">
const PACKAGE = require('../../webpack.common.js');

module.exports = PACKAGE(
  'startup',                          // the package to build
  '../../../js',                      // location of the MathJax js library
  [],                                 // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2060">


import {CharMap, CharOptions} from '../../FontData.js';

export const largeop: CharMap&lt;CharOptions&gt; = {
    0x28: [1.15, .649, .597],
    0x29: [1.15, .649, .597],
    0x2F: [1.15, .649, .811],
    0x5B: [1.15, .649, .472],
    0x5C: [1.15, .649, .811],
    0x5D: [1.15, .649, .472],
    0x7B: [1.15, .649, .667],
    0x7D: [1.15, .649, .667],
    0x2C6: [.772, -0.565, 1],
    0x2DC: [.75, -0.611, 1],
    0x302: [.772, -0.565, 0],
    0x303: [.75, -0.611, 0],
    0x2016: [.602, 0, .778],
    0x2044: [1.15, .649, .811],
    0x2191: [.6, 0, .667],
    0x2193: [.6, 0, .667],
    0x21D1: [.599, 0, .778],
    0x21D3: [.6, 0, .778],
    0x220F: [.95, .45, 1.278],
    0x2210: [.95, .45, 1.278],
    0x2211: [.95, .45, 1.444],
    0x221A: [1.15, .65, 1, {ic: .02}],
    0x2223: [.627, .015, .333],
    0x2225: [.627, .015, .556],
    0x222B: [1.36, .862, .556, {ic: .388}],
    0x222C: [1.36, .862, 1.084, {ic: .388}],
    0x222D: [1.36, .862, 1.592, {ic: .388}],
    0x222E: [1.36, .862, .556, {ic: .388}],
    0x22C0: [.95, .45, 1.111],
    0x22C1: [.95, .45, 1.111],
    0x22C2: [.949, .45, 1.111],
    0x22C3: [.95, .449, 1.111],
    0x2308: [1.15, .649, .528],
    0x2309: [1.15, .649, .528],
    0x230A: [1.15, .649, .528],
    0x230B: [1.15, .649, .528],
    0x2329: [1.15, .649, .611],
    0x232A: [1.15, .649, .611],
    0x23D0: [.602, 0, .667],
    0x2758: [.627, .015, .333],
    0x27E8: [1.15, .649, .611],
    0x27E9: [1.15, .649, .611],
    0x2A00: [.949, .449, 1.511],
    0x2A01: [.949, .449, 1.511],
    0x2A02: [.949, .449, 1.511],
    0x2A04: [.95, .449, 1.111],
    0x2A06: [.95, .45, 1.111],
    0x2A0C: [1.36, .862, 2.168, {ic: .388}],
    0x3008: [1.15, .649, .611],
    0x3009: [1.15, .649, .611],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2061">


import {CharMap, CharOptions} from '../../FontData.js';

export const monospace: CharMap&lt;CharOptions&gt; = {
    0x20: [0, 0, .525],
    0x21: [.622, 0, .525],
    0x22: [.623, -0.333, .525],
    0x23: [.611, 0, .525],
    0x24: [.694, .082, .525],
    0x25: [.694, .083, .525],
    0x26: [.622, .011, .525],
    0x27: [.611, -0.287, .525],
    0x28: [.694, .082, .525],
    0x29: [.694, .082, .525],
    0x2A: [.52, -0.09, .525],
    0x2B: [.531, -0.081, .525],
    0x2C: [.14, .139, .525],
    0x2D: [.341, -0.271, .525],
    0x2E: [.14, 0, .525],
    0x2F: [.694, .083, .525],
    0x3A: [.431, 0, .525],
    0x3B: [.431, .139, .525],
    0x3C: [.557, -0.055, .525],
    0x3D: [.417, -0.195, .525],
    0x3E: [.557, -0.055, .525],
    0x3F: [.617, 0, .525],
    0x40: [.617, .006, .525],
    0x5B: [.694, .082, .525],
    0x5C: [.694, .083, .525],
    0x5D: [.694, .082, .525],
    0x5E: [.611, -0.46, .525],
    0x5F: [-0.025, .095, .525],
    0x60: [.681, -0.357, .525],
    0x7B: [.694, .083, .525],
    0x7C: [.694, .082, .525],
    0x7D: [.694, .083, .525],
    0x7E: [.611, -0.466, .525],
    0x7F: [.612, -0.519, .525],
    0xA0: [0, 0, .525],
    0x131: [.431, 0, .525],
    0x237: [.431, .228, .525],
    0x2B9: [.623, -0.334, .525],
    0x300: [.611, -0.485, 0],
    0x301: [.611, -0.485, 0],
    0x302: [.611, -0.46, 0],
    0x303: [.611, -0.466, 0],
    0x304: [.577, -0.5, 0],
    0x306: [.611, -0.504, 0],
    0x308: [.612, -0.519, 0],
    0x30A: [.619, -0.499, 0],
    0x30C: [.577, -0.449, 0],
    0x391: [.623, 0, .525],
    0x392: [.611, 0, .525],
    0x393: [.611, 0, .525],
    0x394: [.623, 0, .525],
    0x395: [.611, 0, .525],
    0x396: [.611, 0, .525],
    0x397: [.611, 0, .525],
    0x398: [.621, .01, .525],
    0x399: [.611, 0, .525],
    0x39A: [.611, 0, .525],
    0x39B: [.623, 0, .525],
    0x39C: [.611, 0, .525],
    0x39D: [.611, 0, .525],
    0x39E: [.611, 0, .525],
    0x39F: [.621, .01, .525],
    0x3A0: [.611, 0, .525],
    0x3A1: [.611, 0, .525],
    0x3A3: [.611, 0, .525],
    0x3A4: [.611, 0, .525],
    0x3A5: [.622, 0, .525],
    0x3A6: [.611, 0, .525],
    0x3A7: [.611, 0, .525],
    0x3A8: [.611, 0, .525],
    0x3A9: [.622, 0, .525],
    0x2017: [-0.025, .095, .525],
    0x2032: [.623, -0.334, .525],
    0x2033: [.623, 0, 1.05],
    0x2034: [.623, 0, 1.575],
    0x2044: [.694, .083, .525],
    0x2057: [.623, 0, 2.1],
    0x2206: [.623, 0, .525],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2062">


import {CharMap, CharOptions} from '../../FontData.js';

export const normal: CharMap&lt;CharOptions&gt; = {
    0x20: [0, 0, .25],
    0x21: [.716, 0, .278],
    0x22: [.694, -0.379, .5],
    0x23: [.694, .194, .833],
    0x24: [.75, .056, .5],
    0x25: [.75, .056, .833],
    0x26: [.716, .022, .778],
    0x27: [.694, -0.379, .278],
    0x28: [.75, .25, .389],
    0x29: [.75, .25, .389],
    0x2A: [.75, -0.32, .5],
    0x2B: [.583, .082, .778],
    0x2C: [.121, .194, .278],
    0x2D: [.252, -0.179, .333],
    0x2E: [.12, 0, .278],
    0x2F: [.75, .25, .5],
    0x30: [.666, .022, .5],
    0x31: [.666, 0, .5],
    0x32: [.666, 0, .5],
    0x33: [.665, .022, .5],
    0x34: [.677, 0, .5],
    0x35: [.666, .022, .5],
    0x36: [.666, .022, .5],
    0x37: [.676, .022, .5],
    0x38: [.666, .022, .5],
    0x39: [.666, .022, .5],
    0x3A: [.43, 0, .278],
    0x3B: [.43, .194, .278],
    0x3C: [.54, .04, .778],
    0x3D: [.583, .082, .778],
    0x3E: [.54, .04, .778],
    0x3F: [.705, 0, .472],
    0x40: [.705, .011, .778],
    0x41: [.716, 0, .75],
    0x42: [.683, 0, .708],
    0x43: [.705, .021, .722],
    0x44: [.683, 0, .764],
    0x45: [.68, 0, .681],
    0x46: [.68, 0, .653],
    0x47: [.705, .022, .785],
    0x48: [.683, 0, .75],
    0x49: [.683, 0, .361],
    0x4A: [.683, .022, .514],
    0x4B: [.683, 0, .778],
    0x4C: [.683, 0, .625],
    0x4D: [.683, 0, .917],
    0x4E: [.683, 0, .75],
    0x4F: [.705, .022, .778],
    0x50: [.683, 0, .681],
    0x51: [.705, .193, .778],
    0x52: [.683, .022, .736],
    0x53: [.705, .022, .556],
    0x54: [.677, 0, .722],
    0x55: [.683, .022, .75],
    0x56: [.683, .022, .75],
    0x57: [.683, .022, 1.028],
    0x58: [.683, 0, .75],
    0x59: [.683, 0, .75],
    0x5A: [.683, 0, .611],
    0x5B: [.75, .25, .278],
    0x5C: [.75, .25, .5],
    0x5D: [.75, .25, .278],
    0x5E: [.694, -0.531, .5],
    0x5F: [-0.025, .062, .5],
    0x60: [.699, -0.505, .5],
    0x61: [.448, .011, .5],
    0x62: [.694, .011, .556],
    0x63: [.448, .011, .444],
    0x64: [.694, .011, .556],
    0x65: [.448, .011, .444],
    0x66: [.705, 0, .306, {ic: .066}],
    0x67: [.453, .206, .5],
    0x68: [.694, 0, .556],
    0x69: [.669, 0, .278],
    0x6A: [.669, .205, .306],
    0x6B: [.694, 0, .528],
    0x6C: [.694, 0, .278],
    0x6D: [.442, 0, .833],
    0x6E: [.442, 0, .556],
    0x6F: [.448, .01, .5],
    0x70: [.442, .194, .556],
    0x71: [.442, .194, .528],
    0x72: [.442, 0, .392],
    0x73: [.448, .011, .394],
    0x74: [.615, .01, .389],
    0x75: [.442, .011, .556],
    0x76: [.431, .011, .528],
    0x77: [.431, .011, .722],
    0x78: [.431, 0, .528],
    0x79: [.431, .204, .528],
    0x7A: [.431, 0, .444],
    0x7B: [.75, .25, .5],
    0x7C: [.75, .249, .278],
    0x7D: [.75, .25, .5],
    0x7E: [.318, -0.215, .5],
    0xA0: [0, 0, .25],
    0xA3: [.714, .011, .769],
    0xA5: [.683, 0, .75],
    0xA8: [.669, -0.554, .5],
    0xAC: [.356, -0.089, .667],
    0xAE: [.709, .175, .947],
    0xAF: [.59, -0.544, .5],
    0xB0: [.715, -0.542, .5],
    0xB1: [.666, 0, .778],
    0xB4: [.699, -0.505, .5],
    0xB7: [.31, -0.19, .278],
    0xD7: [.491, -0.009, .778],
    0xF0: [.749, .021, .556],
    0xF7: [.537, .036, .778],
    0x131: [.442, 0, .278, {sk: .0278}],
    0x237: [.442, .205, .306, {sk: .0833}],
    0x2B9: [.56, -0.043, .275],
    0x2C6: [.694, -0.531, .5],
    0x2C7: [.644, -0.513, .5],
    0x2C9: [.59, -0.544, .5],
    0x2CA: [.699, -0.505, .5],
    0x2CB: [.699, -0.505, .5],
    0x2D8: [.694, -0.515, .5],
    0x2D9: [.669, -0.549, .5],
    0x2DA: [.715, -0.542, .5],
    0x2DC: [.668, -0.565, .5],
    0x300: [.699, -0.505, 0],
    0x301: [.699, -0.505, 0],
    0x302: [.694, -0.531, 0],
    0x303: [.668, -0.565, 0],
    0x304: [.59, -0.544, 0],
    0x306: [.694, -0.515, 0],
    0x307: [.669, -0.549, 0],
    0x308: [.669, -0.554, 0],
    0x30A: [.715, -0.542, 0],
    0x30B: [.701, -0.51, 0],
    0x30C: [.644, -0.513, 0],
    0x338: [.716, .215, 0],
    0x391: [.716, 0, .75],
    0x392: [.683, 0, .708],
    0x393: [.68, 0, .625],
    0x394: [.716, 0, .833],
    0x395: [.68, 0, .681],
    0x396: [.683, 0, .611],
    0x397: [.683, 0, .75],
    0x398: [.705, .022, .778],
    0x399: [.683, 0, .361],
    0x39A: [.683, 0, .778],
    0x39B: [.716, 0, .694],
    0x39C: [.683, 0, .917],
    0x39D: [.683, 0, .75],
    0x39E: [.677, 0, .667],
    0x39F: [.705, .022, .778],
    0x3A0: [.68, 0, .75],
    0x3A1: [.683, 0, .681],
    0x3A3: [.683, 0, .722],
    0x3A4: [.677, 0, .722],
    0x3A5: [.705, 0, .778],
    0x3A6: [.683, 0, .722],
    0x3A7: [.683, 0, .75],
    0x3A8: [.683, 0, .778],
    0x3A9: [.704, 0, .722],
    0x2000: [0, 0, .5],
    0x2001: [0, 0, 1],
    0x2002: [0, 0, .5],
    0x2003: [0, 0, 1],
    0x2004: [0, 0, .333],
    0x2005: [0, 0, .25],
    0x2006: [0, 0, .167],
    0x2009: [0, 0, .167],
    0x200A: [0, 0, .1],
    0x200B: [0, 0, 0],
    0x200C: [0, 0, 0],
    0x2013: [.285, -0.248, .5],
    0x2014: [.285, -0.248, 1],
    0x2015: [.285, -0.248, 1],
    0x2016: [.75, .25, .5],
    0x2017: [-0.025, .062, .5],
    0x2018: [.694, -0.379, .278],
    0x2019: [.694, -0.379, .278],
    0x201C: [.694, -0.379, .5],
    0x201D: [.694, -0.379, .5],
    0x2020: [.705, .216, .444],
    0x2021: [.705, .205, .444],
    0x2022: [.444, -0.055, .5],
    0x2026: [.12, 0, 1.172],
    0x2032: [.56, -0.043, .275],
    0x2033: [.56, 0, .55],
    0x2034: [.56, 0, .825],
    0x2035: [.56, -0.043, .275],
    0x2036: [.56, 0, .55],
    0x2037: [.56, 0, .825],
    0x203E: [.59, -0.544, .5],
    0x2044: [.75, .25, .5],
    0x2057: [.56, 0, 1.1],
    0x2060: [0, 0, 0],
    0x2061: [0, 0, 0],
    0x2062: [0, 0, 0],
    0x2063: [0, 0, 0],
    0x2064: [0, 0, 0],
    0x20D7: [.714, -0.516, .5],
    0x2102: [.702, .019, .722],
    0x210B: [.717, .036, .969, {ic: .272, sk: .333}],
    0x210C: [.666, .133, .72],
    0x210D: [.683, 0, .778],
    0x210E: [.694, .011, .576, {sk: -0.0278}],
    0x210F: [.695, .013, .54, {ic: .022}],
    0x2110: [.717, .017, .809, {ic: .137, sk: .333}],
    0x2111: [.686, .026, .554],
    0x2112: [.717, .017, .874, {ic: .161, sk: .306}],
    0x2113: [.705, .02, .417, {sk: .111}],
    0x2115: [.683, .02, .722],
    0x2118: [.453, .216, .636, {sk: .111}],
    0x2119: [.683, 0, .611],
    0x211A: [.701, .181, .778],
    0x211B: [.717, .017, .85, {ic: .037, sk: .194}],
    0x211C: [.686, .026, .828],
    0x211D: [.683, 0, .722],
    0x2124: [.683, 0, .667],
    0x2126: [.704, 0, .722],
    0x2127: [.684, .022, .722],
    0x2128: [.729, .139, .602],
    0x212C: [.708, .028, .908, {ic: .02, sk: .194}],
    0x212D: [.685, .024, .613],
    0x2130: [.707, .008, .562, {ic: .156, sk: .139}],
    0x2131: [.735, .036, .895, {ic: .095, sk: .222}],
    0x2132: [.695, 0, .556],
    0x2133: [.721, .05, 1.08, {ic: .136, sk: .444}],
    0x2135: [.694, 0, .611],
    0x2136: [.763, .021, .667, {ic: .02}],
    0x2137: [.764, .043, .444],
    0x2138: [.764, .043, .667],
    0x2141: [.705, .023, .639],
    0x2190: [.511, .011, 1],
    0x2191: [.694, .193, .5],
    0x2192: [.511, .011, 1],
    0x2193: [.694, .194, .5],
    0x2194: [.511, .011, 1],
    0x2195: [.772, .272, .5],
    0x2196: [.72, .195, 1],
    0x2197: [.72, .195, 1],
    0x2198: [.695, .22, 1],
    0x2199: [.695, .22, 1],
    0x219A: [.437, -0.06, 1],
    0x219B: [.437, -0.06, 1],
    0x219E: [.417, -0.083, 1],
    0x21A0: [.417, -0.083, 1],
    0x21A2: [.417, -0.083, 1.111],
    0x21A3: [.417, -0.083, 1.111],
    0x21A6: [.511, .011, 1],
    0x21A9: [.511, .011, 1.126],
    0x21AA: [.511, .011, 1.126],
    0x21AB: [.575, .041, 1],
    0x21AC: [.575, .041, 1],
    0x21AD: [.417, -0.083, 1.389],
    0x21AE: [.437, -0.06, 1],
    0x21B0: [.722, 0, .5],
    0x21B1: [.722, 0, .5],
    0x21B6: [.461, 0, 1],
    0x21B7: [.46, 0, 1],
    0x21BA: [.65, .083, .778],
    0x21BB: [.65, .083, .778],
    0x21BC: [.511, -0.23, 1],
    0x21BD: [.27, .011, 1],
    0x21BE: [.694, .194, .417],
    0x21BF: [.694, .194, .417],
    0x21C0: [.511, -0.23, 1],
    0x21C1: [.27, .011, 1],
    0x21C2: [.694, .194, .417],
    0x21C3: [.694, .194, .417],
    0x21C4: [.667, 0, 1],
    0x21C6: [.667, 0, 1],
    0x21C7: [.583, .083, 1],
    0x21C8: [.694, .193, .833],
    0x21C9: [.583, .083, 1],
    0x21CA: [.694, .194, .833],
    0x21CB: [.514, .014, 1],
    0x21CC: [.671, .011, 1],
    0x21CD: [.534, .035, 1],
    0x21CE: [.534, .037, 1],
    0x21CF: [.534, .035, 1],
    0x21D0: [.525, .024, 1],
    0x21D1: [.694, .194, .611],
    0x21D2: [.525, .024, 1],
    0x21D3: [.694, .194, .611],
    0x21D4: [.526, .025, 1],
    0x21D5: [.772, .272, .611],
    0x21DA: [.611, .111, 1],
    0x21DB: [.611, .111, 1],
    0x21DD: [.417, -0.083, 1],
    0x21E0: [.437, -0.064, 1.334],
    0x21E2: [.437, -0.064, 1.334],
    0x2200: [.694, .022, .556],
    0x2201: [.846, .021, .5],
    0x2202: [.715, .022, .531, {ic: .035, sk: .0833}],
    0x2203: [.694, 0, .556],
    0x2204: [.716, .215, .556],
    0x2205: [.772, .078, .5],
    0x2206: [.716, 0, .833],
    0x2207: [.683, .033, .833],
    0x2208: [.54, .04, .667],
    0x2209: [.716, .215, .667],
    0x220B: [.54, .04, .667],
    0x220C: [.716, .215, .667],
    0x220D: [.44, 0, .429, {ic: .027}],
    0x220F: [.75, .25, .944],
    0x2210: [.75, .25, .944],
    0x2211: [.75, .25, 1.056],
    0x2212: [.583, .082, .778],
    0x2213: [.5, .166, .778],
    0x2214: [.766, .093, .778],
    0x2215: [.75, .25, .5],
    0x2216: [.75, .25, .5],
    0x2217: [.465, -0.035, .5],
    0x2218: [.444, -0.055, .5],
    0x2219: [.444, -0.055, .5],
    0x221A: [.8, .2, .833, {ic: .02}],
    0x221D: [.442, .011, .778],
    0x221E: [.442, .011, 1],
    0x2220: [.694, 0, .722],
    0x2221: [.714, .02, .722],
    0x2222: [.551, .051, .722],
    0x2223: [.75, .249, .278],
    0x2224: [.75, .252, .278, {ic: .019}],
    0x2225: [.75, .25, .5],
    0x2226: [.75, .25, .5, {ic: .018}],
    0x2227: [.598, .022, .667],
    0x2228: [.598, .022, .667],
    0x2229: [.598, .022, .667],
    0x222A: [.598, .022, .667],
    0x222B: [.716, .216, .417, {ic: .055}],
    0x222C: [.805, .306, .819, {ic: .138}],
    0x222D: [.805, .306, 1.166, {ic: .138}],
    0x222E: [.805, .306, .472, {ic: .138}],
    0x2234: [.471, .082, .667],
    0x2235: [.471, .082, .667],
    0x223C: [.367, -0.133, .778],
    0x223D: [.367, -0.133, .778],
    0x2240: [.583, .083, .278],
    0x2241: [.467, -0.032, .778],
    0x2242: [.463, -0.034, .778],
    0x2243: [.464, -0.036, .778],
    0x2244: [.716, .215, .778],
    0x2245: [.589, -0.022, .778],
    0x2247: [.652, .155, .778],
    0x2248: [.483, -0.055, .778],
    0x2249: [.716, .215, .778],
    0x224A: [.579, .039, .778],
    0x224D: [.484, -0.016, .778],
    0x224E: [.492, -0.008, .778],
    0x224F: [.492, -0.133, .778],
    0x2250: [.67, -0.133, .778],
    0x2251: [.609, .108, .778],
    0x2252: [.601, .101, .778],
    0x2253: [.601, .102, .778],
    0x2256: [.367, -0.133, .778],
    0x2257: [.721, -0.133, .778],
    0x225C: [.859, -0.133, .778],
    0x2260: [.716, .215, .778],
    0x2261: [.464, -0.036, .778],
    0x2262: [.716, .215, .778],
    0x2264: [.636, .138, .778],
    0x2265: [.636, .138, .778],
    0x2266: [.753, .175, .778],
    0x2267: [.753, .175, .778],
    0x2268: [.752, .286, .778],
    0x2269: [.752, .286, .778],
    0x226A: [.568, .067, 1],
    0x226B: [.567, .067, 1],
    0x226C: [.75, .25, .5],
    0x226D: [.716, .215, .778],
    0x226E: [.708, .209, .778],
    0x226F: [.708, .209, .778],
    0x2270: [.801, .303, .778],
    0x2271: [.801, .303, .778],
    0x2272: [.732, .228, .778],
    0x2273: [.732, .228, .778],
    0x2274: [.732, .228, .778],
    0x2275: [.732, .228, .778],
    0x2276: [.681, .253, .778],
    0x2277: [.681, .253, .778],
    0x2278: [.716, .253, .778],
    0x2279: [.716, .253, .778],
    0x227A: [.539, .041, .778],
    0x227B: [.539, .041, .778],
    0x227C: [.58, .153, .778],
    0x227D: [.58, .154, .778],
    0x227E: [.732, .228, .778],
    0x227F: [.732, .228, .778],
    0x2280: [.705, .208, .778],
    0x2281: [.705, .208, .778],
    0x2282: [.54, .04, .778],
    0x2283: [.54, .04, .778],
    0x2284: [.716, .215, .778],
    0x2285: [.716, .215, .778],
    0x2286: [.636, .138, .778],
    0x2287: [.636, .138, .778],
    0x2288: [.801, .303, .778],
    0x2289: [.801, .303, .778],
    0x228A: [.635, .241, .778],
    0x228B: [.635, .241, .778],
    0x228E: [.598, .022, .667],
    0x228F: [.539, .041, .778],
    0x2290: [.539, .041, .778],
    0x2291: [.636, .138, .778],
    0x2292: [.636, .138, .778],
    0x2293: [.598, 0, .667],
    0x2294: [.598, 0, .667],
    0x2295: [.583, .083, .778],
    0x2296: [.583, .083, .778],
    0x2297: [.583, .083, .778],
    0x2298: [.583, .083, .778],
    0x2299: [.583, .083, .778],
    0x229A: [.582, .082, .778],
    0x229B: [.582, .082, .778],
    0x229D: [.582, .082, .778],
    0x229E: [.689, 0, .778],
    0x229F: [.689, 0, .778],
    0x22A0: [.689, 0, .778],
    0x22A1: [.689, 0, .778],
    0x22A2: [.694, 0, .611],
    0x22A3: [.694, 0, .611],
    0x22A4: [.668, 0, .778],
    0x22A5: [.668, 0, .778],
    0x22A8: [.75, .249, .867],
    0x22A9: [.694, 0, .722],
    0x22AA: [.694, 0, .889],
    0x22AC: [.695, 0, .611],
    0x22AD: [.695, 0, .611],
    0x22AE: [.695, 0, .722],
    0x22AF: [.695, 0, .722],
    0x22B2: [.539, .041, .778],
    0x22B3: [.539, .041, .778],
    0x22B4: [.636, .138, .778],
    0x22B5: [.636, .138, .778],
    0x22B8: [.408, -0.092, 1.111],
    0x22BA: [.431, .212, .556],
    0x22BB: [.716, 0, .611],
    0x22BC: [.716, 0, .611],
    0x22C0: [.75, .249, .833],
    0x22C1: [.75, .249, .833],
    0x22C2: [.75, .249, .833],
    0x22C3: [.75, .249, .833],
    0x22C4: [.488, -0.012, .5],
    0x22C5: [.31, -0.19, .278],
    0x22C6: [.486, -0.016, .5],
    0x22C7: [.545, .044, .778],
    0x22C8: [.505, .005, .9],
    0x22C9: [.492, -0.008, .778],
    0x22CA: [.492, -0.008, .778],
    0x22CB: [.694, .022, .778],
    0x22CC: [.694, .022, .778],
    0x22CD: [.464, -0.036, .778],
    0x22CE: [.578, .021, .76],
    0x22CF: [.578, .022, .76],
    0x22D0: [.54, .04, .778],
    0x22D1: [.54, .04, .778],
    0x22D2: [.598, .022, .667],
    0x22D3: [.598, .022, .667],
    0x22D4: [.736, .022, .667],
    0x22D6: [.541, .041, .778],
    0x22D7: [.541, .041, .778],
    0x22D8: [.568, .067, 1.333],
    0x22D9: [.568, .067, 1.333],
    0x22DA: [.886, .386, .778],
    0x22DB: [.886, .386, .778],
    0x22DE: [.734, 0, .778],
    0x22DF: [.734, 0, .778],
    0x22E0: [.801, .303, .778],
    0x22E1: [.801, .303, .778],
    0x22E2: [.716, .215, .778],
    0x22E3: [.716, .215, .778],
    0x22E6: [.73, .359, .778],
    0x22E7: [.73, .359, .778],
    0x22E8: [.73, .359, .778],
    0x22E9: [.73, .359, .778],
    0x22EA: [.706, .208, .778],
    0x22EB: [.706, .208, .778],
    0x22EC: [.802, .303, .778],
    0x22ED: [.801, .303, .778],
    0x22EE: [1.3, .03, .278],
    0x22EF: [.31, -0.19, 1.172],
    0x22F1: [1.52, -0.1, 1.282],
    0x2305: [.716, 0, .611],
    0x2306: [.813, .097, .611],
    0x2308: [.75, .25, .444],
    0x2309: [.75, .25, .444],
    0x230A: [.75, .25, .444],
    0x230B: [.75, .25, .444],
    0x231C: [.694, -0.306, .5],
    0x231D: [.694, -0.306, .5],
    0x231E: [.366, .022, .5],
    0x231F: [.366, .022, .5],
    0x2322: [.388, -0.122, 1],
    0x2323: [.378, -0.134, 1],
    0x2329: [.75, .25, .389],
    0x232A: [.75, .25, .389],
    0x23B0: [.744, .244, .412],
    0x23B1: [.744, .244, .412],
    0x23D0: [.602, 0, .667],
    0x24C8: [.709, .175, .902],
    0x250C: [.694, -0.306, .5],
    0x2510: [.694, -0.306, .5],
    0x2514: [.366, .022, .5],
    0x2518: [.366, .022, .5],
    0x2571: [.694, .195, .889],
    0x2572: [.694, .195, .889],
    0x25A0: [.689, 0, .778],
    0x25A1: [.689, 0, .778],
    0x25AA: [.689, 0, .778],
    0x25B2: [.575, .02, .722],
    0x25B3: [.716, 0, .889],
    0x25B4: [.575, .02, .722],
    0x25B5: [.716, 0, .889],
    0x25B6: [.539, .041, .778],
    0x25B8: [.539, .041, .778],
    0x25B9: [.505, .005, .5],
    0x25BC: [.576, .019, .722],
    0x25BD: [.5, .215, .889],
    0x25BE: [.576, .019, .722],
    0x25BF: [.5, .215, .889],
    0x25C0: [.539, .041, .778],
    0x25C2: [.539, .041, .778],
    0x25C3: [.505, .005, .5],
    0x25CA: [.716, .132, .667],
    0x25EF: [.715, .215, 1],
    0x25FB: [.689, 0, .778],
    0x25FC: [.689, 0, .778],
    0x2605: [.694, .111, .944],
    0x2660: [.727, .13, .778],
    0x2661: [.716, .033, .778],
    0x2662: [.727, .162, .778],
    0x2663: [.726, .13, .778],
    0x266D: [.75, .022, .389],
    0x266E: [.734, .223, .389],
    0x266F: [.723, .223, .389],
    0x2713: [.706, .034, .833],
    0x2720: [.716, .022, .833],
    0x2758: [.75, .249, .278],
    0x27E8: [.75, .25, .389],
    0x27E9: [.75, .25, .389],
    0x27EE: [.744, .244, .412],
    0x27EF: [.744, .244, .412],
    0x27F5: [.511, .011, 1.609],
    0x27F6: [.511, .011, 1.638],
    0x27F7: [.511, .011, 1.859],
    0x27F8: [.525, .024, 1.609],
    0x27F9: [.525, .024, 1.638],
    0x27FA: [.525, .024, 1.858],
    0x27FC: [.511, .011, 1.638],
    0x29EB: [.716, .132, .667],
    0x29F8: [.716, .215, .778],
    0x2A00: [.75, .25, 1.111],
    0x2A01: [.75, .25, 1.111],
    0x2A02: [.75, .25, 1.111],
    0x2A04: [.75, .249, .833],
    0x2A06: [.75, .249, .833],
    0x2A0C: [.805, .306, 1.638, {ic: .138}],
    0x2A2F: [.491, -0.009, .778],
    0x2A3F: [.683, 0, .75],
    0x2A5E: [.813, .097, .611],
    0x2A7D: [.636, .138, .778],
    0x2A7E: [.636, .138, .778],
    0x2A85: [.762, .29, .778],
    0x2A86: [.762, .29, .778],
    0x2A87: [.635, .241, .778],
    0x2A88: [.635, .241, .778],
    0x2A89: [.761, .387, .778],
    0x2A8A: [.761, .387, .778],
    0x2A8B: [1.003, .463, .778],
    0x2A8C: [1.003, .463, .778],
    0x2A95: [.636, .138, .778],
    0x2A96: [.636, .138, .778],
    0x2AAF: [.636, .138, .778],
    0x2AB0: [.636, .138, .778],
    0x2AB5: [.752, .286, .778],
    0x2AB6: [.752, .286, .778],
    0x2AB7: [.761, .294, .778],
    0x2AB8: [.761, .294, .778],
    0x2AB9: [.761, .337, .778],
    0x2ABA: [.761, .337, .778],
    0x2AC5: [.753, .215, .778],
    0x2AC6: [.753, .215, .778],
    0x2ACB: [.783, .385, .778],
    0x2ACC: [.783, .385, .778],
    0x3008: [.75, .25, .389],
    0x3009: [.75, .25, .389],
    0xE006: [.43, .023, .222, {ic: .018}],
    0xE007: [.431, .024, .389, {ic: .018}],
    0xE008: [.605, .085, .778],
    0xE009: [.434, .006, .667, {ic: .067}],
    0xE00C: [.752, .284, .778],
    0xE00D: [.752, .284, .778],
    0xE00E: [.919, .421, .778],
    0xE00F: [.801, .303, .778],
    0xE010: [.801, .303, .778],
    0xE011: [.919, .421, .778],
    0xE016: [.828, .33, .778],
    0xE017: [.752, .332, .778],
    0xE018: [.828, .33, .778],
    0xE019: [.752, .333, .778],
    0xE01A: [.634, .255, .778],
    0xE01B: [.634, .254, .778],
    0x1D400: [.698, 0, .869],
    0x1D401: [.686, 0, .818],
    0x1D402: [.697, .011, .831],
    0x1D403: [.686, 0, .882],
    0x1D404: [.68, 0, .756],
    0x1D405: [.68, 0, .724],
    0x1D406: [.697, .01, .904],
    0x1D407: [.686, 0, .9],
    0x1D408: [.686, 0, .436],
    0x1D409: [.686, .011, .594],
    0x1D40A: [.686, 0, .901],
    0x1D40B: [.686, 0, .692],
    0x1D40C: [.686, 0, 1.092],
    0x1D40D: [.686, 0, .9],
    0x1D40E: [.696, .01, .864],
    0x1D40F: [.686, 0, .786],
    0x1D410: [.696, .193, .864],
    0x1D411: [.686, .011, .862],
    0x1D412: [.697, .011, .639],
    0x1D413: [.675, 0, .8],
    0x1D414: [.686, .011, .885],
    0x1D415: [.686, .007, .869],
    0x1D416: [.686, .007, 1.189],
    0x1D417: [.686, 0, .869],
    0x1D418: [.686, 0, .869],
    0x1D419: [.686, 0, .703],
    0x1D41A: [.453, .006, .559],
    0x1D41B: [.694, .006, .639],
    0x1D41C: [.453, .006, .511],
    0x1D41D: [.694, .006, .639],
    0x1D41E: [.452, .006, .527],
    0x1D41F: [.7, 0, .351, {ic: .101}],
    0x1D420: [.455, .201, .575],
    0x1D421: [.694, 0, .639],
    0x1D422: [.695, 0, .319],
    0x1D423: [.695, .2, .351],
    0x1D424: [.694, 0, .607],
    0x1D425: [.694, 0, .319],
    0x1D426: [.45, 0, .958],
    0x1D427: [.45, 0, .639],
    0x1D428: [.452, .005, .575],
    0x1D429: [.45, .194, .639],
    0x1D42A: [.45, .194, .607],
    0x1D42B: [.45, 0, .474],
    0x1D42C: [.453, .006, .454],
    0x1D42D: [.635, .005, .447],
    0x1D42E: [.45, .006, .639],
    0x1D42F: [.444, 0, .607],
    0x1D430: [.444, 0, .831],
    0x1D431: [.444, 0, .607],
    0x1D432: [.444, .2, .607],
    0x1D433: [.444, 0, .511],
    0x1D434: [.716, 0, .75, {sk: .139}],
    0x1D435: [.683, 0, .759, {sk: .0833}],
    0x1D436: [.705, .022, .715, {ic: .045, sk: .0833}],
    0x1D437: [.683, 0, .828, {sk: .0556}],
    0x1D438: [.68, 0, .738, {ic: .026, sk: .0833}],
    0x1D439: [.68, 0, .643, {ic: .106, sk: .0833}],
    0x1D43A: [.705, .022, .786, {sk: .0833}],
    0x1D43B: [.683, 0, .831, {ic: .057, sk: .0556}],
    0x1D43C: [.683, 0, .44, {ic: .064, sk: .111}],
    0x1D43D: [.683, .022, .555, {ic: .078, sk: .167}],
    0x1D43E: [.683, 0, .849, {ic: .04, sk: .0556}],
    0x1D43F: [.683, 0, .681, {sk: .0278}],
    0x1D440: [.683, 0, .97, {ic: .081, sk: .0833}],
    0x1D441: [.683, 0, .803, {ic: .085, sk: .0833}],
    0x1D442: [.704, .022, .763, {sk: .0833}],
    0x1D443: [.683, 0, .642, {ic: .109, sk: .0833}],
    0x1D444: [.704, .194, .791, {sk: .0833}],
    0x1D445: [.683, .021, .759, {sk: .0833}],
    0x1D446: [.705, .022, .613, {ic: .032, sk: .0833}],
    0x1D447: [.677, 0, .584, {ic: .12, sk: .0833}],
    0x1D448: [.683, .022, .683, {ic: .084, sk: .0278}],
    0x1D449: [.683, .022, .583, {ic: .186}],
    0x1D44A: [.683, .022, .944, {ic: .104}],
    0x1D44B: [.683, 0, .828, {ic: .024, sk: .0833}],
    0x1D44C: [.683, 0, .581, {ic: .182}],
    0x1D44D: [.683, 0, .683, {ic: .04, sk: .0833}],
    0x1D44E: [.441, .01, .529],
    0x1D44F: [.694, .011, .429],
    0x1D450: [.442, .011, .433, {sk: .0556}],
    0x1D451: [.694, .01, .52, {sk: .167}],
    0x1D452: [.442, .011, .466, {sk: .0556}],
    0x1D453: [.705, .205, .49, {ic: .06, sk: .167}],
    0x1D454: [.442, .205, .477, {sk: .0278}],
    0x1D456: [.661, .011, .345],
    0x1D457: [.661, .204, .412],
    0x1D458: [.694, .011, .521],
    0x1D459: [.694, .011, .298, {sk: .0833}],
    0x1D45A: [.442, .011, .878],
    0x1D45B: [.442, .011, .6],
    0x1D45C: [.441, .011, .485, {sk: .0556}],
    0x1D45D: [.442, .194, .503, {sk: .0833}],
    0x1D45E: [.442, .194, .446, {ic: .014, sk: .0833}],
    0x1D45F: [.442, .011, .451, {sk: .0556}],
    0x1D460: [.442, .01, .469, {sk: .0556}],
    0x1D461: [.626, .011, .361, {sk: .0833}],
    0x1D462: [.442, .011, .572, {sk: .0278}],
    0x1D463: [.443, .011, .485, {sk: .0278}],
    0x1D464: [.443, .011, .716, {sk: .0833}],
    0x1D465: [.442, .011, .572, {sk: .0278}],
    0x1D466: [.442, .205, .49, {sk: .0556}],
    0x1D467: [.442, .011, .465, {sk: .0556}],
    0x1D468: [.711, 0, .869, {sk: .16}],
    0x1D469: [.686, 0, .866, {sk: .0958}],
    0x1D46A: [.703, .017, .817, {ic: .038, sk: .0958}],
    0x1D46B: [.686, 0, .938, {sk: .0639}],
    0x1D46C: [.68, 0, .81, {ic: .015, sk: .0958}],
    0x1D46D: [.68, 0, .689, {ic: .12, sk: .0958}],
    0x1D46E: [.703, .016, .887, {sk: .0958}],
    0x1D46F: [.686, 0, .982, {ic: .045, sk: .0639}],
    0x1D470: [.686, 0, .511, {ic: .062, sk: .128}],
    0x1D471: [.686, .017, .631, {ic: .063, sk: .192}],
    0x1D472: [.686, 0, .971, {ic: .032, sk: .0639}],
    0x1D473: [.686, 0, .756, {sk: .0319}],
    0x1D474: [.686, 0, 1.142, {ic: .077, sk: .0958}],
    0x1D475: [.686, 0, .95, {ic: .077, sk: .0958}],
    0x1D476: [.703, .017, .837, {sk: .0958}],
    0x1D477: [.686, 0, .723, {ic: .124, sk: .0958}],
    0x1D478: [.703, .194, .869, {sk: .0958}],
    0x1D479: [.686, .017, .872, {sk: .0958}],
    0x1D47A: [.703, .017, .693, {ic: .021, sk: .0958}],
    0x1D47B: [.675, 0, .637, {ic: .135, sk: .0958}],
    0x1D47C: [.686, .016, .8, {ic: .077, sk: .0319}],
    0x1D47D: [.686, .016, .678, {ic: .208}],
    0x1D47E: [.686, .017, 1.093, {ic: .114}],
    0x1D47F: [.686, 0, .947, {sk: .0958}],
    0x1D480: [.686, 0, .675, {ic: .201}],
    0x1D481: [.686, 0, .773, {ic: .032, sk: .0958}],
    0x1D482: [.452, .008, .633],
    0x1D483: [.694, .008, .521],
    0x1D484: [.451, .008, .513, {sk: .0639}],
    0x1D485: [.694, .008, .61, {sk: .192}],
    0x1D486: [.452, .008, .554, {sk: .0639}],
    0x1D487: [.701, .201, .568, {ic: .056, sk: .192}],
    0x1D488: [.452, .202, .545, {sk: .0319}],
    0x1D489: [.694, .008, .668, {sk: -0.0319}],
    0x1D48A: [.694, .008, .405],
    0x1D48B: [.694, .202, .471],
    0x1D48C: [.694, .008, .604],
    0x1D48D: [.694, .008, .348, {sk: .0958}],
    0x1D48E: [.452, .008, 1.032],
    0x1D48F: [.452, .008, .713],
    0x1D490: [.452, .008, .585, {sk: .0639}],
    0x1D491: [.452, .194, .601, {sk: .0958}],
    0x1D492: [.452, .194, .542, {sk: .0958}],
    0x1D493: [.452, .008, .529, {sk: .0639}],
    0x1D494: [.451, .008, .531, {sk: .0639}],
    0x1D495: [.643, .007, .415, {sk: .0958}],
    0x1D496: [.452, .008, .681, {sk: .0319}],
    0x1D497: [.453, .008, .567, {sk: .0319}],
    0x1D498: [.453, .008, .831, {sk: .0958}],
    0x1D499: [.452, .008, .659, {sk: .0319}],
    0x1D49A: [.452, .202, .59, {sk: .0639}],
    0x1D49B: [.452, .008, .555, {sk: .0639}],
    0x1D49C: [.717, .008, .803, {ic: .213, sk: .389}],
    0x1D49E: [.728, .026, .666, {ic: .153, sk: .278}],
    0x1D49F: [.708, .031, .774, {ic: .081, sk: .111}],
    0x1D4A2: [.717, .037, .61, {ic: .128, sk: .25}],
    0x1D4A5: [.717, .314, 1.052, {ic: .081, sk: .417}],
    0x1D4A6: [.717, .037, .914, {ic: .29, sk: .361}],
    0x1D4A9: [.726, .036, .902, {ic: .306, sk: .389}],
    0x1D4AA: [.707, .008, .738, {ic: .067, sk: .167}],
    0x1D4AB: [.716, .037, 1.013, {ic: .018, sk: .222}],
    0x1D4AC: [.717, .017, .883, {sk: .278}],
    0x1D4AE: [.708, .036, .868, {ic: .148, sk: .333}],
    0x1D4AF: [.735, .037, .747, {ic: .249, sk: .222}],
    0x1D4B0: [.717, .017, .8, {ic: .16, sk: .25}],
    0x1D4B1: [.717, .017, .622, {ic: .228, sk: .222}],
    0x1D4B2: [.717, .017, .805, {ic: .221, sk: .25}],
    0x1D4B3: [.717, .017, .944, {ic: .187, sk: .278}],
    0x1D4B4: [.716, .017, .71, {ic: .249, sk: .194}],
    0x1D4B5: [.717, .016, .821, {ic: .211, sk: .306}],
    0x1D504: [.696, .026, .718],
    0x1D505: [.691, .027, .884],
    0x1D507: [.685, .027, .832],
    0x1D508: [.685, .024, .663],
    0x1D509: [.686, .153, .611],
    0x1D50A: [.69, .026, .785],
    0x1D50D: [.686, .139, .552],
    0x1D50E: [.68, .027, .668, {ic: .014}],
    0x1D50F: [.686, .026, .666],
    0x1D510: [.692, .027, 1.05],
    0x1D511: [.686, .025, .832],
    0x1D512: [.729, .027, .827],
    0x1D513: [.692, .218, .828],
    0x1D514: [.729, .069, .827],
    0x1D516: [.692, .027, .829],
    0x1D517: [.701, .027, .669],
    0x1D518: [.697, .027, .646, {ic: .019}],
    0x1D519: [.686, .026, .831],
    0x1D51A: [.686, .027, 1.046],
    0x1D51B: [.688, .027, .719],
    0x1D51C: [.686, .218, .833],
    0x1D51E: [.47, .035, .5],
    0x1D51F: [.685, .031, .513],
    0x1D520: [.466, .029, .389],
    0x1D521: [.609, .033, .499],
    0x1D522: [.467, .03, .401],
    0x1D523: [.681, .221, .326],
    0x1D524: [.47, .209, .504],
    0x1D525: [.688, .205, .521],
    0x1D526: [.673, .02, .279],
    0x1D527: [.672, .208, .281],
    0x1D528: [.689, .025, .389],
    0x1D529: [.685, .02, .28],
    0x1D52A: [.475, .026, .767],
    0x1D52B: [.475, .022, .527],
    0x1D52C: [.48, .028, .489],
    0x1D52D: [.541, .212, .5],
    0x1D52E: [.479, .219, .489],
    0x1D52F: [.474, .021, .389],
    0x1D530: [.478, .029, .443],
    0x1D531: [.64, .02, .333, {ic: .015}],
    0x1D532: [.474, .023, .517],
    0x1D533: [.53, .028, .512],
    0x1D534: [.532, .028, .774],
    0x1D535: [.472, .188, .389],
    0x1D536: [.528, .218, .499],
    0x1D537: [.471, .214, .391],
    0x1D538: [.701, 0, .722],
    0x1D539: [.683, 0, .667],
    0x1D53B: [.683, 0, .722],
    0x1D53C: [.683, 0, .667],
    0x1D53D: [.683, 0, .611],
    0x1D53E: [.702, .019, .778],
    0x1D540: [.683, 0, .389],
    0x1D541: [.683, .077, .5],
    0x1D542: [.683, 0, .778],
    0x1D543: [.683, 0, .667],
    0x1D544: [.683, 0, .944],
    0x1D546: [.701, .019, .778],
    0x1D54A: [.702, .012, .556],
    0x1D54B: [.683, 0, .667],
    0x1D54C: [.683, .019, .722],
    0x1D54D: [.683, .02, .722],
    0x1D54E: [.683, .019, 1],
    0x1D54F: [.683, 0, .722],
    0x1D550: [.683, 0, .722],
    0x1D56C: [.686, .031, .847],
    0x1D56D: [.684, .031, 1.044],
    0x1D56E: [.676, .032, .723],
    0x1D56F: [.683, .029, .982],
    0x1D570: [.686, .029, .783],
    0x1D571: [.684, .146, .722],
    0x1D572: [.687, .029, .927],
    0x1D573: [.683, .126, .851],
    0x1D574: [.681, .025, .655],
    0x1D575: [.68, .141, .652],
    0x1D576: [.681, .026, .789, {ic: .017}],
    0x1D577: [.683, .028, .786],
    0x1D578: [.683, .032, 1.239],
    0x1D579: [.679, .03, .983],
    0x1D57A: [.726, .03, .976],
    0x1D57B: [.688, .223, .977],
    0x1D57C: [.726, .083, .976],
    0x1D57D: [.688, .028, .978],
    0x1D57E: [.685, .031, .978],
    0x1D57F: [.686, .03, .79, {ic: .012}],
    0x1D580: [.688, .039, .851, {ic: .02}],
    0x1D581: [.685, .029, .982],
    0x1D582: [.683, .03, 1.235],
    0x1D583: [.681, .035, .849],
    0x1D584: [.688, .214, .984],
    0x1D585: [.677, .148, .711],
    0x1D586: [.472, .032, .603],
    0x1D587: [.69, .032, .59],
    0x1D588: [.473, .026, .464],
    0x1D589: [.632, .028, .589],
    0x1D58A: [.471, .027, .472],
    0x1D58B: [.687, .222, .388],
    0x1D58C: [.472, .208, .595],
    0x1D58D: [.687, .207, .615],
    0x1D58E: [.686, .025, .331],
    0x1D58F: [.682, .203, .332],
    0x1D590: [.682, .025, .464],
    0x1D591: [.681, .024, .337],
    0x1D592: [.476, .031, .921],
    0x1D593: [.473, .028, .654],
    0x1D594: [.482, .034, .609],
    0x1D595: [.557, .207, .604],
    0x1D596: [.485, .211, .596],
    0x1D597: [.472, .026, .46],
    0x1D598: [.479, .034, .523],
    0x1D599: [.648, .027, .393, {ic: .014}],
    0x1D59A: [.472, .032, .589, {ic: .014}],
    0x1D59B: [.546, .027, .604],
    0x1D59C: [.549, .032, .918],
    0x1D59D: [.471, .188, .459],
    0x1D59E: [.557, .221, .589],
    0x1D59F: [.471, .214, .461],
    0x1D5A0: [.694, 0, .667],
    0x1D5A1: [.694, 0, .667],
    0x1D5A2: [.705, .011, .639],
    0x1D5A3: [.694, 0, .722],
    0x1D5A4: [.691, 0, .597],
    0x1D5A5: [.691, 0, .569],
    0x1D5A6: [.704, .011, .667],
    0x1D5A7: [.694, 0, .708],
    0x1D5A8: [.694, 0, .278],
    0x1D5A9: [.694, .022, .472],
    0x1D5AA: [.694, 0, .694],
    0x1D5AB: [.694, 0, .542],
    0x1D5AC: [.694, 0, .875],
    0x1D5AD: [.694, 0, .708],
    0x1D5AE: [.715, .022, .736],
    0x1D5AF: [.694, 0, .639],
    0x1D5B0: [.715, .125, .736],
    0x1D5B1: [.694, 0, .646],
    0x1D5B2: [.716, .022, .556],
    0x1D5B3: [.688, 0, .681],
    0x1D5B4: [.694, .022, .688],
    0x1D5B5: [.694, 0, .667],
    0x1D5B6: [.694, 0, .944],
    0x1D5B7: [.694, 0, .667],
    0x1D5B8: [.694, 0, .667],
    0x1D5B9: [.694, 0, .611],
    0x1D5BA: [.46, .01, .481],
    0x1D5BB: [.694, .011, .517],
    0x1D5BC: [.46, .01, .444],
    0x1D5BD: [.694, .01, .517],
    0x1D5BE: [.461, .01, .444],
    0x1D5BF: [.705, 0, .306, {ic: .041}],
    0x1D5C0: [.455, .206, .5],
    0x1D5C1: [.694, 0, .517],
    0x1D5C2: [.68, 0, .239],
    0x1D5C3: [.68, .205, .267],
    0x1D5C4: [.694, 0, .489],
    0x1D5C5: [.694, 0, .239],
    0x1D5C6: [.455, 0, .794],
    0x1D5C7: [.455, 0, .517],
    0x1D5C8: [.46, .01, .5],
    0x1D5C9: [.455, .194, .517],
    0x1D5CA: [.455, .194, .517],
    0x1D5CB: [.455, 0, .342],
    0x1D5CC: [.46, .01, .383],
    0x1D5CD: [.571, .01, .361],
    0x1D5CE: [.444, .01, .517],
    0x1D5CF: [.444, 0, .461],
    0x1D5D0: [.444, 0, .683],
    0x1D5D1: [.444, 0, .461],
    0x1D5D2: [.444, .204, .461],
    0x1D5D3: [.444, 0, .435],
    0x1D5D4: [.694, 0, .733],
    0x1D5D5: [.694, 0, .733],
    0x1D5D6: [.704, .011, .703],
    0x1D5D7: [.694, 0, .794],
    0x1D5D8: [.691, 0, .642],
    0x1D5D9: [.691, 0, .611],
    0x1D5DA: [.705, .011, .733],
    0x1D5DB: [.694, 0, .794],
    0x1D5DC: [.694, 0, .331],
    0x1D5DD: [.694, .022, .519],
    0x1D5DE: [.694, 0, .764],
    0x1D5DF: [.694, 0, .581],
    0x1D5E0: [.694, 0, .978],
    0x1D5E1: [.694, 0, .794],
    0x1D5E2: [.716, .022, .794],
    0x1D5E3: [.694, 0, .703],
    0x1D5E4: [.716, .106, .794],
    0x1D5E5: [.694, 0, .703],
    0x1D5E6: [.716, .022, .611],
    0x1D5E7: [.688, 0, .733],
    0x1D5E8: [.694, .022, .764],
    0x1D5E9: [.694, 0, .733],
    0x1D5EA: [.694, 0, 1.039],
    0x1D5EB: [.694, 0, .733],
    0x1D5EC: [.694, 0, .733],
    0x1D5ED: [.694, 0, .672],
    0x1D5EE: [.475, .011, .525],
    0x1D5EF: [.694, .01, .561],
    0x1D5F0: [.475, .011, .489],
    0x1D5F1: [.694, .011, .561],
    0x1D5F2: [.474, .01, .511],
    0x1D5F3: [.705, 0, .336, {ic: .045}],
    0x1D5F4: [.469, .206, .55],
    0x1D5F5: [.694, 0, .561],
    0x1D5F6: [.695, 0, .256],
    0x1D5F7: [.695, .205, .286],
    0x1D5F8: [.694, 0, .531],
    0x1D5F9: [.694, 0, .256],
    0x1D5FA: [.469, 0, .867],
    0x1D5FB: [.468, 0, .561],
    0x1D5FC: [.474, .011, .55],
    0x1D5FD: [.469, .194, .561],
    0x1D5FE: [.469, .194, .561],
    0x1D5FF: [.469, 0, .372],
    0x1D600: [.474, .01, .422],
    0x1D601: [.589, .01, .404],
    0x1D602: [.458, .011, .561],
    0x1D603: [.458, 0, .5],
    0x1D604: [.458, 0, .744],
    0x1D605: [.458, 0, .5],
    0x1D606: [.458, .205, .5],
    0x1D607: [.458, 0, .476],
    0x1D608: [.694, 0, .667],
    0x1D609: [.694, 0, .667, {ic: .029}],
    0x1D60A: [.705, .01, .639, {ic: .08}],
    0x1D60B: [.694, 0, .722, {ic: .025}],
    0x1D60C: [.691, 0, .597, {ic: .091}],
    0x1D60D: [.691, 0, .569, {ic: .104}],
    0x1D60E: [.705, .011, .667, {ic: .063}],
    0x1D60F: [.694, 0, .708, {ic: .06}],
    0x1D610: [.694, 0, .278, {ic: .06}],
    0x1D611: [.694, .022, .472, {ic: .063}],
    0x1D612: [.694, 0, .694, {ic: .091}],
    0x1D613: [.694, 0, .542],
    0x1D614: [.694, 0, .875, {ic: .054}],
    0x1D615: [.694, 0, .708, {ic: .058}],
    0x1D616: [.716, .022, .736, {ic: .027}],
    0x1D617: [.694, 0, .639, {ic: .051}],
    0x1D618: [.716, .125, .736, {ic: .027}],
    0x1D619: [.694, 0, .646, {ic: .052}],
    0x1D61A: [.716, .022, .556, {ic: .053}],
    0x1D61B: [.688, 0, .681, {ic: .109}],
    0x1D61C: [.694, .022, .688, {ic: .059}],
    0x1D61D: [.694, 0, .667, {ic: .132}],
    0x1D61E: [.694, 0, .944, {ic: .132}],
    0x1D61F: [.694, 0, .667, {ic: .091}],
    0x1D620: [.694, 0, .667, {ic: .143}],
    0x1D621: [.694, 0, .611, {ic: .091}],
    0x1D622: [.461, .01, .481],
    0x1D623: [.694, .011, .517, {ic: .022}],
    0x1D624: [.46, .011, .444, {ic: .055}],
    0x1D625: [.694, .01, .517, {ic: .071}],
    0x1D626: [.46, .011, .444, {ic: .028}],
    0x1D627: [.705, 0, .306, {ic: .188}],
    0x1D628: [.455, .206, .5, {ic: .068}],
    0x1D629: [.694, 0, .517],
    0x1D62A: [.68, 0, .239, {ic: .076}],
    0x1D62B: [.68, .204, .267, {ic: .069}],
    0x1D62C: [.694, 0, .489, {ic: .054}],
    0x1D62D: [.694, 0, .239, {ic: .072}],
    0x1D62E: [.455, 0, .794],
    0x1D62F: [.454, 0, .517],
    0x1D630: [.461, .011, .5, {ic: .023}],
    0x1D631: [.455, .194, .517, {ic: .021}],
    0x1D632: [.455, .194, .517, {ic: .021}],
    0x1D633: [.455, 0, .342, {ic: .082}],
    0x1D634: [.461, .011, .383, {ic: .053}],
    0x1D635: [.571, .011, .361, {ic: .049}],
    0x1D636: [.444, .01, .517, {ic: .02}],
    0x1D637: [.444, 0, .461, {ic: .079}],
    0x1D638: [.444, 0, .683, {ic: .079}],
    0x1D639: [.444, 0, .461, {ic: .076}],
    0x1D63A: [.444, .205, .461, {ic: .079}],
    0x1D63B: [.444, 0, .435, {ic: .059}],
    0x1D670: [.623, 0, .525],
    0x1D671: [.611, 0, .525],
    0x1D672: [.622, .011, .525],
    0x1D673: [.611, 0, .525],
    0x1D674: [.611, 0, .525],
    0x1D675: [.611, 0, .525],
    0x1D676: [.622, .011, .525],
    0x1D677: [.611, 0, .525],
    0x1D678: [.611, 0, .525],
    0x1D679: [.611, .011, .525],
    0x1D67A: [.611, 0, .525],
    0x1D67B: [.611, 0, .525],
    0x1D67C: [.611, 0, .525],
    0x1D67D: [.611, 0, .525],
    0x1D67E: [.621, .01, .525],
    0x1D67F: [.611, 0, .525],
    0x1D680: [.621, .138, .525],
    0x1D681: [.611, .011, .525],
    0x1D682: [.622, .011, .525],
    0x1D683: [.611, 0, .525],
    0x1D684: [.611, .011, .525],
    0x1D685: [.611, .007, .525],
    0x1D686: [.611, .007, .525],
    0x1D687: [.611, 0, .525],
    0x1D688: [.611, 0, .525],
    0x1D689: [.611, 0, .525],
    0x1D68A: [.439, .006, .525],
    0x1D68B: [.611, .006, .525],
    0x1D68C: [.44, .006, .525],
    0x1D68D: [.611, .006, .525],
    0x1D68E: [.44, .006, .525],
    0x1D68F: [.617, 0, .525],
    0x1D690: [.442, .229, .525],
    0x1D691: [.611, 0, .525],
    0x1D692: [.612, 0, .525],
    0x1D693: [.612, .228, .525],
    0x1D694: [.611, 0, .525],
    0x1D695: [.611, 0, .525],
    0x1D696: [.436, 0, .525, {ic: .011}],
    0x1D697: [.436, 0, .525],
    0x1D698: [.44, .006, .525],
    0x1D699: [.437, .221, .525],
    0x1D69A: [.437, .221, .525, {ic: .02}],
    0x1D69B: [.437, 0, .525],
    0x1D69C: [.44, .006, .525],
    0x1D69D: [.554, .006, .525],
    0x1D69E: [.431, .005, .525],
    0x1D69F: [.431, 0, .525],
    0x1D6A0: [.431, 0, .525],
    0x1D6A1: [.431, 0, .525],
    0x1D6A2: [.431, .228, .525],
    0x1D6A3: [.431, 0, .525],
    0x1D6A8: [.698, 0, .869],
    0x1D6A9: [.686, 0, .818],
    0x1D6AA: [.68, 0, .692],
    0x1D6AB: [.698, 0, .958],
    0x1D6AC: [.68, 0, .756],
    0x1D6AD: [.686, 0, .703],
    0x1D6AE: [.686, 0, .9],
    0x1D6AF: [.696, .01, .894],
    0x1D6B0: [.686, 0, .436],
    0x1D6B1: [.686, 0, .901],
    0x1D6B2: [.698, 0, .806],
    0x1D6B3: [.686, 0, 1.092],
    0x1D6B4: [.686, 0, .9],
    0x1D6B5: [.675, 0, .767],
    0x1D6B6: [.696, .01, .864],
    0x1D6B7: [.68, 0, .9],
    0x1D6B8: [.686, 0, .786],
    0x1D6BA: [.686, 0, .831],
    0x1D6BB: [.675, 0, .8],
    0x1D6BC: [.697, 0, .894],
    0x1D6BD: [.686, 0, .831],
    0x1D6BE: [.686, 0, .869],
    0x1D6BF: [.686, 0, .894],
    0x1D6C0: [.696, 0, .831],
    0x1D6C1: [.686, .024, .958],
    0x1D6E2: [.716, 0, .75, {sk: .139}],
    0x1D6E3: [.683, 0, .759, {sk: .0833}],
    0x1D6E4: [.68, 0, .615, {ic: .106, sk: .0833}],
    0x1D6E5: [.716, 0, .833, {sk: .167}],
    0x1D6E6: [.68, 0, .738, {ic: .026, sk: .0833}],
    0x1D6E7: [.683, 0, .683, {ic: .04, sk: .0833}],
    0x1D6E8: [.683, 0, .831, {ic: .057, sk: .0556}],
    0x1D6E9: [.704, .022, .763, {sk: .0833}],
    0x1D6EA: [.683, 0, .44, {ic: .064, sk: .111}],
    0x1D6EB: [.683, 0, .849, {ic: .04, sk: .0556}],
    0x1D6EC: [.716, 0, .694, {sk: .167}],
    0x1D6ED: [.683, 0, .97, {ic: .081, sk: .0833}],
    0x1D6EE: [.683, 0, .803, {ic: .085, sk: .0833}],
    0x1D6EF: [.677, 0, .742, {ic: .035, sk: .0833}],
    0x1D6F0: [.704, .022, .763, {sk: .0833}],
    0x1D6F1: [.68, 0, .831, {ic: .056, sk: .0556}],
    0x1D6F2: [.683, 0, .642, {ic: .109, sk: .0833}],
    0x1D6F4: [.683, 0, .78, {ic: .026, sk: .0833}],
    0x1D6F5: [.677, 0, .584, {ic: .12, sk: .0833}],
    0x1D6F6: [.705, 0, .583, {ic: .117, sk: .0556}],
    0x1D6F7: [.683, 0, .667, {sk: .0833}],
    0x1D6F8: [.683, 0, .828, {ic: .024, sk: .0833}],
    0x1D6F9: [.683, 0, .612, {ic: .08, sk: .0556}],
    0x1D6FA: [.704, 0, .772, {ic: .014, sk: .0833}],
    0x1D6FC: [.442, .011, .64, {sk: .0278}],
    0x1D6FD: [.705, .194, .566, {sk: .0833}],
    0x1D6FE: [.441, .216, .518, {ic: .025}],
    0x1D6FF: [.717, .01, .444, {sk: .0556}],
    0x1D700: [.452, .022, .466, {sk: .0833}],
    0x1D701: [.704, .204, .438, {ic: .033, sk: .0833}],
    0x1D702: [.442, .216, .497, {sk: .0556}],
    0x1D703: [.705, .01, .469, {sk: .0833}],
    0x1D704: [.442, .01, .354, {sk: .0556}],
    0x1D705: [.442, .011, .576],
    0x1D706: [.694, .012, .583],
    0x1D707: [.442, .216, .603, {sk: .0278}],
    0x1D708: [.442, 0, .494, {ic: .036, sk: .0278}],
    0x1D709: [.704, .205, .438, {sk: .111}],
    0x1D70A: [.441, .011, .485, {sk: .0556}],
    0x1D70B: [.431, .011, .57],
    0x1D70C: [.442, .216, .517, {sk: .0833}],
    0x1D70D: [.442, .107, .363, {ic: .042, sk: .0833}],
    0x1D70E: [.431, .011, .571],
    0x1D70F: [.431, .013, .437, {ic: .08, sk: .0278}],
    0x1D710: [.443, .01, .54, {sk: .0278}],
    0x1D711: [.442, .218, .654, {sk: .0833}],
    0x1D712: [.442, .204, .626, {sk: .0556}],
    0x1D713: [.694, .205, .651, {sk: .111}],
    0x1D714: [.443, .011, .622],
    0x1D715: [.715, .022, .531, {ic: .035, sk: .0833}],
    0x1D716: [.431, .011, .406, {sk: .0556}],
    0x1D717: [.705, .011, .591, {sk: .0833}],
    0x1D718: [.434, .006, .667, {ic: .067}],
    0x1D719: [.694, .205, .596, {sk: .0833}],
    0x1D71A: [.442, .194, .517, {sk: .0833}],
    0x1D71B: [.431, .01, .828],
    0x1D71C: [.711, 0, .869, {sk: .16}],
    0x1D71D: [.686, 0, .866, {sk: .0958}],
    0x1D71E: [.68, 0, .657, {ic: .12, sk: .0958}],
    0x1D71F: [.711, 0, .958, {sk: .192}],
    0x1D720: [.68, 0, .81, {ic: .015, sk: .0958}],
    0x1D721: [.686, 0, .773, {ic: .032, sk: .0958}],
    0x1D722: [.686, 0, .982, {ic: .045, sk: .0639}],
    0x1D723: [.702, .017, .867, {sk: .0958}],
    0x1D724: [.686, 0, .511, {ic: .062, sk: .128}],
    0x1D725: [.686, 0, .971, {ic: .032, sk: .0639}],
    0x1D726: [.711, 0, .806, {sk: .192}],
    0x1D727: [.686, 0, 1.142, {ic: .077, sk: .0958}],
    0x1D728: [.686, 0, .95, {ic: .077, sk: .0958}],
    0x1D729: [.675, 0, .841, {ic: .026, sk: .0958}],
    0x1D72A: [.703, .017, .837, {sk: .0958}],
    0x1D72B: [.68, 0, .982, {ic: .044, sk: .0639}],
    0x1D72C: [.686, 0, .723, {ic: .124, sk: .0958}],
    0x1D72E: [.686, 0, .885, {ic: .017, sk: .0958}],
    0x1D72F: [.675, 0, .637, {ic: .135, sk: .0958}],
    0x1D730: [.703, 0, .671, {ic: .131, sk: .0639}],
    0x1D731: [.686, 0, .767, {sk: .0958}],
    0x1D732: [.686, 0, .947, {sk: .0958}],
    0x1D733: [.686, 0, .714, {ic: .076, sk: .0639}],
    0x1D734: [.703, 0, .879, {sk: .0958}],
    0x1D736: [.452, .008, .761, {sk: .0319}],
    0x1D737: [.701, .194, .66, {sk: .0958}],
    0x1D738: [.451, .211, .59, {ic: .027}],
    0x1D739: [.725, .008, .522, {sk: .0639}],
    0x1D73A: [.461, .017, .529, {sk: .0958}],
    0x1D73B: [.711, .202, .508, {ic: .013, sk: .0958}],
    0x1D73C: [.452, .211, .6, {sk: .0639}],
    0x1D73D: [.702, .008, .562, {sk: .0958}],
    0x1D73E: [.452, .008, .412, {sk: .0639}],
    0x1D73F: [.452, .008, .668],
    0x1D740: [.694, .013, .671],
    0x1D741: [.452, .211, .708, {sk: .0319}],
    0x1D742: [.452, 0, .577, {ic: .031, sk: .0319}],
    0x1D743: [.711, .201, .508, {sk: .128}],
    0x1D744: [.452, .008, .585, {sk: .0639}],
    0x1D745: [.444, .008, .682],
    0x1D746: [.451, .211, .612, {sk: .0958}],
    0x1D747: [.451, .105, .424, {ic: .033, sk: .0958}],
    0x1D748: [.444, .008, .686],
    0x1D749: [.444, .013, .521, {ic: .089, sk: .0319}],
    0x1D74A: [.453, .008, .631, {sk: .0319}],
    0x1D74B: [.452, .216, .747, {sk: .0958}],
    0x1D74C: [.452, .201, .718, {sk: .0639}],
    0x1D74D: [.694, .202, .758, {sk: .128}],
    0x1D74E: [.453, .008, .718],
    0x1D74F: [.71, .017, .628, {ic: .029, sk: .0958}],
    0x1D750: [.444, .007, .483, {sk: .0639}],
    0x1D751: [.701, .008, .692, {sk: .0958}],
    0x1D752: [.434, .006, .667, {ic: .067}],
    0x1D753: [.694, .202, .712, {sk: .0958}],
    0x1D754: [.451, .194, .612, {sk: .0958}],
    0x1D755: [.444, .008, .975],
    0x1D756: [.694, 0, .733],
    0x1D757: [.694, 0, .733],
    0x1D758: [.691, 0, .581],
    0x1D759: [.694, 0, .917],
    0x1D75A: [.691, 0, .642],
    0x1D75B: [.694, 0, .672],
    0x1D75C: [.694, 0, .794],
    0x1D75D: [.716, .022, .856],
    0x1D75E: [.694, 0, .331],
    0x1D75F: [.694, 0, .764],
    0x1D760: [.694, 0, .672],
    0x1D761: [.694, 0, .978],
    0x1D762: [.694, 0, .794],
    0x1D763: [.688, 0, .733],
    0x1D764: [.716, .022, .794],
    0x1D765: [.691, 0, .794],
    0x1D766: [.694, 0, .703],
    0x1D768: [.694, 0, .794],
    0x1D769: [.688, 0, .733],
    0x1D76A: [.715, 0, .856],
    0x1D76B: [.694, 0, .794],
    0x1D76C: [.694, 0, .733],
    0x1D76D: [.694, 0, .856],
    0x1D76E: [.716, 0, .794],
    0x1D7CE: [.654, .01, .575],
    0x1D7CF: [.655, 0, .575],
    0x1D7D0: [.654, 0, .575],
    0x1D7D1: [.655, .011, .575],
    0x1D7D2: [.656, 0, .575],
    0x1D7D3: [.655, .011, .575],
    0x1D7D4: [.655, .011, .575],
    0x1D7D5: [.676, .011, .575],
    0x1D7D6: [.654, .011, .575],
    0x1D7D7: [.654, .011, .575],
    0x1D7E2: [.678, .022, .5],
    0x1D7E3: [.678, 0, .5],
    0x1D7E4: [.677, 0, .5],
    0x1D7E5: [.678, .022, .5],
    0x1D7E6: [.656, 0, .5],
    0x1D7E7: [.656, .021, .5],
    0x1D7E8: [.677, .022, .5],
    0x1D7E9: [.656, .011, .5],
    0x1D7EA: [.678, .022, .5],
    0x1D7EB: [.677, .022, .5],
    0x1D7EC: [.715, .022, .55],
    0x1D7ED: [.716, 0, .55],
    0x1D7EE: [.716, 0, .55],
    0x1D7EF: [.716, .022, .55],
    0x1D7F0: [.694, 0, .55],
    0x1D7F1: [.694, .022, .55],
    0x1D7F2: [.716, .022, .55],
    0x1D7F3: [.695, .011, .55],
    0x1D7F4: [.715, .022, .55],
    0x1D7F5: [.716, .022, .55],
    0x1D7F6: [.621, .01, .525],
    0x1D7F7: [.622, 0, .525],
    0x1D7F8: [.622, 0, .525],
    0x1D7F9: [.622, .011, .525],
    0x1D7FA: [.624, 0, .525],
    0x1D7FB: [.611, .01, .525],
    0x1D7FC: [.622, .011, .525],
    0x1D7FD: [.627, .01, .525],
    0x1D7FE: [.621, .01, .525],
    0x1D7FF: [.622, .011, .525],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2063">


import {CharMap, CharOptions} from '../../FontData.js';

export const sansSerifBoldItalic: CharMap&lt;CharOptions&gt; = {
    0x131: [.458, 0, .256],
    0x237: [.458, .205, .286],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2064">


import {CharMap, CharOptions} from '../../FontData.js';

export const sansSerifBold: CharMap&lt;CharOptions&gt; = {
    0x21: [.694, 0, .367],
    0x22: [.694, -0.442, .558],
    0x23: [.694, .193, .917],
    0x24: [.75, .056, .55],
    0x25: [.75, .056, 1.029],
    0x26: [.716, .022, .831],
    0x27: [.694, -0.442, .306],
    0x28: [.75, .249, .428],
    0x29: [.75, .25, .428],
    0x2A: [.75, -0.293, .55],
    0x2B: [.617, .116, .856],
    0x2C: [.146, .106, .306],
    0x2D: [.273, -0.186, .367],
    0x2E: [.146, 0, .306],
    0x2F: [.75, .249, .55],
    0x3A: [.458, 0, .306],
    0x3B: [.458, .106, .306],
    0x3D: [.407, -0.094, .856],
    0x3F: [.705, 0, .519],
    0x40: [.704, .011, .733],
    0x5B: [.75, .25, .343],
    0x5D: [.75, .25, .343],
    0x5E: [.694, -0.537, .55],
    0x5F: [-0.023, .11, .55],
    0x7E: [.344, -0.198, .55],
    0x131: [.458, 0, .256],
    0x237: [.458, .205, .286],
    0x300: [.694, -0.537, 0],
    0x301: [.694, -0.537, 0],
    0x302: [.694, -0.537, 0],
    0x303: [.694, -0.548, 0],
    0x304: [.66, -0.56, 0],
    0x306: [.694, -0.552, 0],
    0x307: [.695, -0.596, 0],
    0x308: [.695, -0.595, 0],
    0x30A: [.694, -0.538, 0],
    0x30B: [.694, -0.537, 0],
    0x30C: [.657, -0.5, 0],
    0x2013: [.327, -0.24, .55],
    0x2014: [.327, -0.24, 1.1],
    0x2015: [.327, -0.24, 1.1],
    0x2017: [-0.023, .11, .55],
    0x2018: [.694, -0.443, .306],
    0x2019: [.694, -0.442, .306],
    0x201C: [.694, -0.443, .558],
    0x201D: [.694, -0.442, .558],
    0x2044: [.75, .249, .55],
    0x2206: [.694, 0, .917],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2065">


import {CharMap, CharOptions} from '../../FontData.js';

export const sansSerifItalic: CharMap&lt;CharOptions&gt; = {
    0x21: [.694, 0, .319, {ic: .036}],
    0x22: [.694, -0.471, .5],
    0x23: [.694, .194, .833, {ic: .018}],
    0x24: [.75, .056, .5, {ic: .065}],
    0x25: [.75, .056, .833],
    0x26: [.716, .022, .758],
    0x27: [.694, -0.471, .278, {ic: .057}],
    0x28: [.75, .25, .389, {ic: .102}],
    0x29: [.75, .25, .389],
    0x2A: [.75, -0.306, .5, {ic: .068}],
    0x2B: [.583, .083, .778],
    0x2C: [.098, .125, .278],
    0x2D: [.259, -0.186, .333],
    0x2E: [.098, 0, .278],
    0x2F: [.75, .25, .5, {ic: .1}],
    0x30: [.678, .022, .5, {ic: .049}],
    0x31: [.678, 0, .5],
    0x32: [.678, 0, .5, {ic: .051}],
    0x33: [.678, .022, .5, {ic: .044}],
    0x34: [.656, 0, .5, {ic: .021}],
    0x35: [.656, .022, .5, {ic: .055}],
    0x36: [.678, .022, .5, {ic: .048}],
    0x37: [.656, .011, .5, {ic: .096}],
    0x38: [.678, .022, .5, {ic: .054}],
    0x39: [.677, .022, .5, {ic: .045}],
    0x3A: [.444, 0, .278],
    0x3B: [.444, .125, .278],
    0x3D: [.37, -0.13, .778, {ic: .018}],
    0x3F: [.704, 0, .472, {ic: .064}],
    0x40: [.705, .01, .667, {ic: .04}],
    0x5B: [.75, .25, .289, {ic: .136}],
    0x5D: [.75, .25, .289, {ic: .064}],
    0x5E: [.694, -0.527, .5, {ic: .033}],
    0x5F: [-0.038, .114, .5, {ic: .065}],
    0x7E: [.327, -0.193, .5, {ic: .06}],
    0x131: [.444, 0, .239, {ic: .019}],
    0x237: [.444, .204, .267, {ic: .019}],
    0x300: [.694, -0.527, 0],
    0x301: [.694, -0.527, 0, {ic: .063}],
    0x302: [.694, -0.527, 0, {ic: .033}],
    0x303: [.677, -0.543, 0, {ic: .06}],
    0x304: [.631, -0.552, 0, {ic: .064}],
    0x306: [.694, -0.508, 0, {ic: .073}],
    0x307: [.68, -0.576, 0],
    0x308: [.68, -0.582, 0, {ic: .04}],
    0x30A: [.693, -0.527, 0],
    0x30B: [.694, -0.527, 0, {ic: .063}],
    0x30C: [.654, -0.487, 0, {ic: .06}],
    0x391: [.694, 0, .667],
    0x392: [.694, 0, .667, {ic: .029}],
    0x393: [.691, 0, .542, {ic: .104}],
    0x394: [.694, 0, .833],
    0x395: [.691, 0, .597, {ic: .091}],
    0x396: [.694, 0, .611, {ic: .091}],
    0x397: [.694, 0, .708, {ic: .06}],
    0x398: [.715, .022, .778, {ic: .026}],
    0x399: [.694, 0, .278, {ic: .06}],
    0x39A: [.694, 0, .694, {ic: .091}],
    0x39B: [.694, 0, .611],
    0x39C: [.694, 0, .875, {ic: .054}],
    0x39D: [.694, 0, .708, {ic: .058}],
    0x39E: [.688, 0, .667, {ic: .098}],
    0x39F: [.716, .022, .736, {ic: .027}],
    0x3A0: [.691, 0, .708, {ic: .06}],
    0x3A1: [.694, 0, .639, {ic: .051}],
    0x3A3: [.694, 0, .722, {ic: .091}],
    0x3A4: [.688, 0, .681, {ic: .109}],
    0x3A5: [.716, 0, .778, {ic: .065}],
    0x3A6: [.694, 0, .722, {ic: .021}],
    0x3A7: [.694, 0, .667, {ic: .091}],
    0x3A8: [.694, 0, .778, {ic: .076}],
    0x3A9: [.716, 0, .722, {ic: .047}],
    0x2013: [.312, -0.236, .5, {ic: .065}],
    0x2014: [.312, -0.236, 1, {ic: .065}],
    0x2015: [.312, -0.236, 1, {ic: .065}],
    0x2017: [-0.038, .114, .5, {ic: .065}],
    0x2018: [.694, -0.471, .278, {ic: .058}],
    0x2019: [.694, -0.471, .278, {ic: .057}],
    0x201C: [.694, -0.471, .5, {ic: .114}],
    0x201D: [.694, -0.471, .5],
    0x2044: [.75, .25, .5, {ic: .1}],
    0x2206: [.694, 0, .833],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2066">


import {CharMap, CharOptions} from '../../FontData.js';

export const sansSerif: CharMap&lt;CharOptions&gt; = {
    0x21: [.694, 0, .319],
    0x22: [.694, -0.471, .5],
    0x23: [.694, .194, .833],
    0x24: [.75, .056, .5],
    0x25: [.75, .056, .833],
    0x26: [.716, .022, .758],
    0x27: [.694, -0.471, .278],
    0x28: [.75, .25, .389],
    0x29: [.75, .25, .389],
    0x2A: [.75, -0.306, .5],
    0x2B: [.583, .082, .778],
    0x2C: [.098, .125, .278],
    0x2D: [.259, -0.186, .333],
    0x2E: [.098, 0, .278],
    0x2F: [.75, .25, .5],
    0x3A: [.444, 0, .278],
    0x3B: [.444, .125, .278],
    0x3D: [.37, -0.13, .778],
    0x3F: [.704, 0, .472],
    0x40: [.704, .011, .667],
    0x5B: [.75, .25, .289],
    0x5D: [.75, .25, .289],
    0x5E: [.694, -0.527, .5],
    0x5F: [-0.038, .114, .5],
    0x7E: [.327, -0.193, .5],
    0x131: [.444, 0, .239],
    0x237: [.444, .205, .267],
    0x300: [.694, -0.527, 0],
    0x301: [.694, -0.527, 0],
    0x302: [.694, -0.527, 0],
    0x303: [.677, -0.543, 0],
    0x304: [.631, -0.552, 0],
    0x306: [.694, -0.508, 0],
    0x307: [.68, -0.576, 0],
    0x308: [.68, -0.582, 0],
    0x30A: [.694, -0.527, 0],
    0x30B: [.694, -0.527, 0],
    0x30C: [.654, -0.487, 0],
    0x391: [.694, 0, .667],
    0x392: [.694, 0, .667],
    0x393: [.691, 0, .542],
    0x394: [.694, 0, .833],
    0x395: [.691, 0, .597],
    0x396: [.694, 0, .611],
    0x397: [.694, 0, .708],
    0x398: [.716, .021, .778],
    0x399: [.694, 0, .278],
    0x39A: [.694, 0, .694],
    0x39B: [.694, 0, .611],
    0x39C: [.694, 0, .875],
    0x39D: [.694, 0, .708],
    0x39E: [.688, 0, .667],
    0x39F: [.715, .022, .736],
    0x3A0: [.691, 0, .708],
    0x3A1: [.694, 0, .639],
    0x3A3: [.694, 0, .722],
    0x3A4: [.688, 0, .681],
    0x3A5: [.716, 0, .778],
    0x3A6: [.694, 0, .722],
    0x3A7: [.694, 0, .667],
    0x3A8: [.694, 0, .778],
    0x3A9: [.716, 0, .722],
    0x2013: [.312, -0.236, .5],
    0x2014: [.312, -0.236, 1],
    0x2015: [.312, -0.236, 1],
    0x2017: [-0.038, .114, .5],
    0x2018: [.694, -0.471, .278],
    0x2019: [.694, -0.471, .278],
    0x201C: [.694, -0.471, .5],
    0x201D: [.694, -0.471, .5],
    0x2044: [.75, .25, .5],
    0x2206: [.694, 0, .833],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2067">


import {CharMap, CharOptions} from '../../FontData.js';

export const scriptBold: CharMap&lt;CharOptions&gt; = {
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2068">


import {CharMap, CharOptions} from '../../FontData.js';

export const script: CharMap&lt;CharOptions&gt; = {
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2069">


import {CharMap, CharOptions} from '../../FontData.js';

export const smallop: CharMap&lt;CharOptions&gt; = {
    0x28: [.85, .349, .458],
    0x29: [.85, .349, .458],
    0x2F: [.85, .349, .578],
    0x5B: [.85, .349, .417],
    0x5C: [.85, .349, .578],
    0x5D: [.85, .349, .417],
    0x7B: [.85, .349, .583],
    0x7D: [.85, .349, .583],
    0x2C6: [.744, -0.551, .556],
    0x2DC: [.722, -0.597, .556],
    0x302: [.744, -0.551, 0],
    0x303: [.722, -0.597, 0],
    0x2016: [.602, 0, .778],
    0x2044: [.85, .349, .578],
    0x2191: [.6, 0, .667],
    0x2193: [.6, 0, .667],
    0x21D1: [.599, 0, .778],
    0x21D3: [.6, 0, .778],
    0x220F: [.75, .25, .944],
    0x2210: [.75, .25, .944],
    0x2211: [.75, .25, 1.056],
    0x221A: [.85, .35, 1, {ic: .02}],
    0x2223: [.627, .015, .333],
    0x2225: [.627, .015, .556],
    0x222B: [.805, .306, .472, {ic: .138}],
    0x222C: [.805, .306, .819, {ic: .138}],
    0x222D: [.805, .306, 1.166, {ic: .138}],
    0x222E: [.805, .306, .472, {ic: .138}],
    0x22C0: [.75, .249, .833],
    0x22C1: [.75, .249, .833],
    0x22C2: [.75, .249, .833],
    0x22C3: [.75, .249, .833],
    0x2308: [.85, .349, .472],
    0x2309: [.85, .349, .472],
    0x230A: [.85, .349, .472],
    0x230B: [.85, .349, .472],
    0x2329: [.85, .35, .472],
    0x232A: [.85, .35, .472],
    0x23D0: [.602, 0, .667],
    0x2758: [.627, .015, .333],
    0x27E8: [.85, .35, .472],
    0x27E9: [.85, .35, .472],
    0x2A00: [.75, .25, 1.111],
    0x2A01: [.75, .25, 1.111],
    0x2A02: [.75, .25, 1.111],
    0x2A04: [.75, .249, .833],
    0x2A06: [.75, .249, .833],
    0x2A0C: [.805, .306, 1.638, {ic: .138}],
    0x3008: [.85, .35, .472],
    0x3009: [.85, .35, .472],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.207"></t>
<t tx="ekr.20211016054411.2070">


import {CharMap, CharOptions} from '../../FontData.js';

export const texCalligraphicBold: CharMap&lt;CharOptions&gt; = {
    0x41: [.751, .049, .921, {ic: .068, sk: .224}],
    0x42: [.705, .017, .748, {sk: .16}],
    0x43: [.703, .02, .613, {sk: .16}],
    0x44: [.686, 0, .892, {sk: .0958}],
    0x45: [.703, .016, .607, {ic: .02, sk: .128}],
    0x46: [.686, .03, .814, {ic: .116, sk: .128}],
    0x47: [.703, .113, .682, {sk: .128}],
    0x48: [.686, .048, .987, {sk: .128}],
    0x49: [.686, 0, .642, {ic: .104, sk: .0319}],
    0x4A: [.686, .114, .779, {ic: .158, sk: .192}],
    0x4B: [.703, .017, .871, {sk: .0639}],
    0x4C: [.703, .017, .788, {sk: .16}],
    0x4D: [.703, .049, 1.378, {sk: .16}],
    0x4E: [.84, .049, .937, {ic: .168, sk: .0958}],
    0x4F: [.703, .017, .906, {sk: .128}],
    0x50: [.686, .067, .81, {ic: .036, sk: .0958}],
    0x51: [.703, .146, .939, {sk: .128}],
    0x52: [.686, .017, .99, {sk: .0958}],
    0x53: [.703, .016, .696, {ic: .025, sk: .16}],
    0x54: [.72, .069, .644, {ic: .303, sk: .0319}],
    0x55: [.686, .024, .715, {ic: .056, sk: .0958}],
    0x56: [.686, .077, .737, {ic: .037, sk: .0319}],
    0x57: [.686, .077, 1.169, {ic: .037, sk: .0958}],
    0x58: [.686, 0, .817, {ic: .089, sk: .16}],
    0x59: [.686, .164, .759, {ic: .038, sk: .0958}],
    0x5A: [.686, 0, .818, {ic: .035, sk: .16}],
    0x131: [.452, .008, .394, {sk: .0319}],
    0x237: [.451, .201, .439, {sk: .0958}],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2071">


import {CharMap, CharOptions} from '../../FontData.js';

export const texCalligraphic: CharMap&lt;CharOptions&gt; = {
    0x41: [.728, .05, .798, {ic: .021, sk: .194}],
    0x42: [.705, .022, .657, {sk: .139}],
    0x43: [.705, .025, .527, {sk: .139}],
    0x44: [.683, 0, .771, {sk: .0833}],
    0x45: [.705, .022, .528, {ic: .036, sk: .111}],
    0x46: [.683, .032, .719, {ic: .11, sk: .111}],
    0x47: [.704, .119, .595, {sk: .111}],
    0x48: [.683, .048, .845, {sk: .111}],
    0x49: [.683, 0, .545, {ic: .097, sk: .0278}],
    0x4A: [.683, .119, .678, {ic: .161, sk: .167}],
    0x4B: [.705, .022, .762, {sk: .0556}],
    0x4C: [.705, .022, .69, {sk: .139}],
    0x4D: [.705, .05, 1.201, {sk: .139}],
    0x4E: [.789, .05, .82, {ic: .159, sk: .0833}],
    0x4F: [.705, .022, .796, {sk: .111}],
    0x50: [.683, .057, .696, {ic: .037, sk: .0833}],
    0x51: [.705, .131, .817, {sk: .111}],
    0x52: [.682, .022, .848, {sk: .0833}],
    0x53: [.705, .022, .606, {ic: .036, sk: .139}],
    0x54: [.717, .068, .545, {ic: .288, sk: .0278}],
    0x55: [.683, .028, .626, {ic: .061, sk: .0833}],
    0x56: [.683, .052, .613, {ic: .045, sk: .0278}],
    0x57: [.683, .053, .988, {ic: .046, sk: .0833}],
    0x58: [.683, 0, .713, {ic: .094, sk: .139}],
    0x59: [.683, .143, .668, {ic: .046, sk: .0833}],
    0x5A: [.683, 0, .725, {ic: .042, sk: .139}],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2072">


import {CharMap, CharOptions} from '../../FontData.js';

export const texMathit: CharMap&lt;CharOptions&gt; = {
    0x41: [.716, 0, .743],
    0x42: [.683, 0, .704],
    0x43: [.705, .021, .716],
    0x44: [.683, 0, .755],
    0x45: [.68, 0, .678],
    0x46: [.68, 0, .653],
    0x47: [.705, .022, .774],
    0x48: [.683, 0, .743],
    0x49: [.683, 0, .386],
    0x4A: [.683, .021, .525],
    0x4B: [.683, 0, .769],
    0x4C: [.683, 0, .627],
    0x4D: [.683, 0, .897],
    0x4E: [.683, 0, .743],
    0x4F: [.704, .022, .767],
    0x50: [.683, 0, .678],
    0x51: [.704, .194, .767],
    0x52: [.683, .022, .729],
    0x53: [.705, .022, .562],
    0x54: [.677, 0, .716],
    0x55: [.683, .022, .743],
    0x56: [.683, .022, .743],
    0x57: [.683, .022, .999],
    0x58: [.683, 0, .743],
    0x59: [.683, 0, .743],
    0x5A: [.683, 0, .613],
    0x61: [.442, .011, .511],
    0x62: [.694, .011, .46],
    0x63: [.441, .01, .46],
    0x64: [.694, .011, .511],
    0x65: [.442, .01, .46],
    0x66: [.705, .204, .307],
    0x67: [.442, .205, .46],
    0x68: [.694, .011, .511],
    0x69: [.656, .01, .307],
    0x6A: [.656, .204, .307],
    0x6B: [.694, .011, .46],
    0x6C: [.694, .011, .256],
    0x6D: [.442, .011, .818],
    0x6E: [.442, .011, .562],
    0x6F: [.442, .011, .511],
    0x70: [.442, .194, .511],
    0x71: [.442, .194, .46],
    0x72: [.442, .011, .422],
    0x73: [.442, .011, .409],
    0x74: [.626, .011, .332],
    0x75: [.441, .011, .537],
    0x76: [.443, .01, .46],
    0x77: [.443, .011, .664],
    0x78: [.442, .011, .464],
    0x79: [.441, .205, .486],
    0x7A: [.442, .011, .409],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2073">


import {CharMap, CharOptions} from '../../FontData.js';

export const texOldstyleBold: CharMap&lt;CharOptions&gt; = {
    0x30: [.46, .017, .575],
    0x31: [.461, 0, .575],
    0x32: [.46, 0, .575],
    0x33: [.461, .211, .575],
    0x34: [.469, .194, .575],
    0x35: [.461, .211, .575],
    0x36: [.66, .017, .575],
    0x37: [.476, .211, .575],
    0x38: [.661, .017, .575],
    0x39: [.461, .21, .575],
    0x41: [.751, .049, .921, {ic: .068, sk: .224}],
    0x42: [.705, .017, .748, {sk: .16}],
    0x43: [.703, .02, .613, {sk: .16}],
    0x44: [.686, 0, .892, {sk: .0958}],
    0x45: [.703, .016, .607, {ic: .02, sk: .128}],
    0x46: [.686, .03, .814, {ic: .116, sk: .128}],
    0x47: [.703, .113, .682, {sk: .128}],
    0x48: [.686, .048, .987, {sk: .128}],
    0x49: [.686, 0, .642, {ic: .104, sk: .0319}],
    0x4A: [.686, .114, .779, {ic: .158, sk: .192}],
    0x4B: [.703, .017, .871, {sk: .0639}],
    0x4C: [.703, .017, .788, {sk: .16}],
    0x4D: [.703, .049, 1.378, {sk: .16}],
    0x4E: [.84, .049, .937, {ic: .168, sk: .0958}],
    0x4F: [.703, .017, .906, {sk: .128}],
    0x50: [.686, .067, .81, {ic: .036, sk: .0958}],
    0x51: [.703, .146, .939, {sk: .128}],
    0x52: [.686, .017, .99, {sk: .0958}],
    0x53: [.703, .016, .696, {ic: .025, sk: .16}],
    0x54: [.72, .069, .644, {ic: .303, sk: .0319}],
    0x55: [.686, .024, .715, {ic: .056, sk: .0958}],
    0x56: [.686, .077, .737, {ic: .037, sk: .0319}],
    0x57: [.686, .077, 1.169, {ic: .037, sk: .0958}],
    0x58: [.686, 0, .817, {ic: .089, sk: .16}],
    0x59: [.686, .164, .759, {ic: .038, sk: .0958}],
    0x5A: [.686, 0, .818, {ic: .035, sk: .16}],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2074">


import {CharMap, CharOptions} from '../../FontData.js';

export const texOldstyle: CharMap&lt;CharOptions&gt; = {
    0x30: [.452, .022, .5],
    0x31: [.453, 0, .5],
    0x32: [.453, 0, .5],
    0x33: [.452, .216, .5],
    0x34: [.464, .194, .5],
    0x35: [.453, .216, .5],
    0x36: [.665, .022, .5],
    0x37: [.463, .216, .5],
    0x38: [.666, .021, .5],
    0x39: [.453, .216, .5],
    0x41: [.728, .05, .798, {ic: .021, sk: .194}],
    0x42: [.705, .022, .657, {sk: .139}],
    0x43: [.705, .025, .527, {sk: .139}],
    0x44: [.683, 0, .771, {sk: .0833}],
    0x45: [.705, .022, .528, {ic: .036, sk: .111}],
    0x46: [.683, .032, .719, {ic: .11, sk: .111}],
    0x47: [.704, .119, .595, {sk: .111}],
    0x48: [.683, .048, .845, {sk: .111}],
    0x49: [.683, 0, .545, {ic: .097, sk: .0278}],
    0x4A: [.683, .119, .678, {ic: .161, sk: .167}],
    0x4B: [.705, .022, .762, {sk: .0556}],
    0x4C: [.705, .022, .69, {sk: .139}],
    0x4D: [.705, .05, 1.201, {sk: .139}],
    0x4E: [.789, .05, .82, {ic: .159, sk: .0833}],
    0x4F: [.705, .022, .796, {sk: .111}],
    0x50: [.683, .057, .696, {ic: .037, sk: .0833}],
    0x51: [.705, .131, .817, {sk: .111}],
    0x52: [.682, .022, .848, {sk: .0833}],
    0x53: [.705, .022, .606, {ic: .036, sk: .139}],
    0x54: [.717, .068, .545, {ic: .288, sk: .0278}],
    0x55: [.683, .028, .626, {ic: .061, sk: .0833}],
    0x56: [.683, .052, .613, {ic: .045, sk: .0278}],
    0x57: [.683, .053, .988, {ic: .046, sk: .0833}],
    0x58: [.683, 0, .713, {ic: .094, sk: .139}],
    0x59: [.683, .143, .668, {ic: .046, sk: .0833}],
    0x5A: [.683, 0, .725, {ic: .042, sk: .139}],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2075">


import {CharMap, CharOptions} from '../../FontData.js';

export const texSize3: CharMap&lt;CharOptions&gt; = {
    0x28: [1.45, .949, .736],
    0x29: [1.45, .949, .736],
    0x2F: [1.45, .949, 1.044],
    0x5B: [1.45, .949, .528],
    0x5C: [1.45, .949, 1.044],
    0x5D: [1.45, .949, .528],
    0x7B: [1.45, .949, .75],
    0x7D: [1.45, .949, .75],
    0x2C6: [.772, -0.564, 1.444],
    0x2DC: [.749, -0.61, 1.444],
    0x302: [.772, -0.564, 0],
    0x303: [.749, -0.61, 0],
    0x2044: [1.45, .949, 1.044],
    0x221A: [1.45, .95, 1, {ic: .02}],
    0x2308: [1.45, .949, .583],
    0x2309: [1.45, .949, .583],
    0x230A: [1.45, .949, .583],
    0x230B: [1.45, .949, .583],
    0x2329: [1.45, .95, .75],
    0x232A: [1.45, .949, .75],
    0x27E8: [1.45, .95, .75],
    0x27E9: [1.45, .949, .75],
    0x3008: [1.45, .95, .75],
    0x3009: [1.45, .949, .75],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2076">


import {CharMap, CharOptions} from '../../FontData.js';

export const texSize4: CharMap&lt;CharOptions&gt; = {
    0x28: [1.75, 1.249, .792],
    0x29: [1.75, 1.249, .792],
    0x2F: [1.75, 1.249, 1.278],
    0x5B: [1.75, 1.249, .583],
    0x5C: [1.75, 1.249, 1.278],
    0x5D: [1.75, 1.249, .583],
    0x7B: [1.75, 1.249, .806],
    0x7D: [1.75, 1.249, .806],
    0x2C6: [.845, -0.561, 1.889, {ic: .013}],
    0x2DC: [.823, -0.583, 1.889],
    0x302: [.845, -0.561, 0, {ic: .013}],
    0x303: [.823, -0.583, 0],
    0x2044: [1.75, 1.249, 1.278],
    0x221A: [1.75, 1.25, 1, {ic: .02}],
    0x2308: [1.75, 1.249, .639],
    0x2309: [1.75, 1.249, .639],
    0x230A: [1.75, 1.249, .639],
    0x230B: [1.75, 1.249, .639],
    0x2329: [1.75, 1.248, .806],
    0x232A: [1.75, 1.248, .806],
    0x239B: [1.154, .655, .875],
    0x239C: [.61, .01, .875],
    0x239D: [1.165, .644, .875],
    0x239E: [1.154, .655, .875],
    0x239F: [.61, .01, .875],
    0x23A0: [1.165, .644, .875],
    0x23A1: [1.154, .645, .667],
    0x23A2: [.602, 0, .667],
    0x23A3: [1.155, .644, .667],
    0x23A4: [1.154, .645, .667],
    0x23A5: [.602, 0, .667],
    0x23A6: [1.155, .644, .667],
    0x23A7: [.899, .01, .889],
    0x23A8: [1.16, .66, .889],
    0x23A9: [.01, .899, .889],
    0x23AA: [.29, .015, .889],
    0x23AB: [.899, .01, .889],
    0x23AC: [1.16, .66, .889],
    0x23AD: [.01, .899, .889],
    0x23B7: [.935, .885, 1.056],
    0x27E8: [1.75, 1.248, .806],
    0x27E9: [1.75, 1.248, .806],
    0x3008: [1.75, 1.248, .806],
    0x3009: [1.75, 1.248, .806],
    0xE000: [.625, .014, 1.056],
    0xE001: [.605, .014, 1.056, {ic: .02}],
    0xE150: [.12, .213, .45, {ic: .01}],
    0xE151: [.12, .213, .45, {ic: .024}],
    0xE152: [.333, 0, .45, {ic: .01}],
    0xE153: [.333, 0, .45, {ic: .024}],
    0xE154: [.32, .2, .4, {ic: .01}],
    0xE155: [.333, 0, .9, {ic: .01}],
    0xE156: [.12, .213, .9, {ic: .01}],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2077">


import {CharMap, CharOptions} from '../../FontData.js';

export const texVariant: CharMap&lt;CharOptions&gt; = {
    0x2C6: [.845, -0.561, 2.333, {ic: .013}],
    0x2DC: [.899, -0.628, 2.333],
    0x302: [.845, -0.561, 0, {ic: .013}],
    0x303: [.899, -0.628, 0],
    0x3F0: [.434, .006, .667, {ic: .067}],
    0x210F: [.695, .013, .54, {ic: .022}],
    0x2190: [.437, -0.064, .5],
    0x2192: [.437, -0.064, .5],
    0x21CC: [.514, .014, 1],
    0x2204: [.86, .166, .556],
    0x2205: [.587, 0, .778],
    0x2212: [.27, -0.23, .5],
    0x2216: [.43, .023, .778],
    0x221D: [.472, -0.028, .778],
    0x2223: [.43, .023, .222],
    0x2224: [.43, .023, .222, {ic: .018}],
    0x2225: [.431, .023, .389],
    0x2226: [.431, .024, .389, {ic: .018}],
    0x223C: [.365, -0.132, .778],
    0x2248: [.481, -0.05, .778],
    0x2268: [.752, .284, .778],
    0x2269: [.752, .284, .778],
    0x2270: [.919, .421, .778],
    0x2271: [.919, .421, .778],
    0x2288: [.828, .33, .778],
    0x2289: [.828, .33, .778],
    0x228A: [.634, .255, .778],
    0x228B: [.634, .254, .778],
    0x22A8: [.694, 0, .611],
    0x22C5: [.189, 0, .278],
    0x2322: [.378, -0.122, .778],
    0x2323: [.378, -0.143, .778],
    0x25B3: [.575, .02, .722],
    0x25BD: [.576, .019, .722],
    0x2A87: [.801, .303, .778],
    0x2A88: [.801, .303, .778],
    0x2ACB: [.752, .332, .778],
    0x2ACC: [.752, .333, .778],
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2078"></t>
<t tx="ekr.20211016054411.2079">


/**
 * @fileoverview  Implements the FontCache object for SVG output
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVG} from '../svg.js';

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.208">
import {Loader} from '../../../js/components/loader.js';

Loader.preLoad(
  'loader', 'startup',
  'core',
  'input/tex',
  'output/chtml', 'output/chtml/fonts/tex.js',
  'ui/menu', 'a11y/assistive-mml'
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2080">export class FontCache&lt;N, T, D&gt; {

  /**
   * The SVG jax that owsn this cache
   */
  protected jax: SVG&lt;N, T, D&gt;;

  /**
   * The cache of font character IDs to their paths
   */
  protected cache: Map&lt;string, string&gt; = new Map();

  /**
   * The SVG &lt;defs&gt; element for storing the cache
   */
  protected defs: N = null;

  /**
   * A string to use to make per-equation cache IDs unique
   */
  protected localID: string = '';

  /**
   * A number used to make localID values to use for each equation
   */
  protected nextID: number = 0;

  /**
   * @param {SVG} jax  The SVG jax owning this font cache
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2081">constructor(jax: SVG&lt;N, T, D&gt;) {
  this.jax = jax;
}

</t>
<t tx="ekr.20211016054411.2082">/**
 * Cache a character from a particular variant and return the cache ID
 *
 * @param {string} variant   The variant name for the character
 * @param {string} C         The character to be cached
 * @param {string} path      The SVG path data for the character
 * @return {string}          The id for the cached &lt;path&gt; element
 */
public cachePath(variant: string, C: string, path: string): string {
  const id = 'MJX-' + this.localID + (this.jax.font.getVariant(variant).cacheID || '') + '-' + C;
  if (!this.cache.has(id)) {
    this.cache.set(id, path);
    this.jax.adaptor.append(this.defs, this.jax.svg('path', {id: id, d: path}));
  }
  return id;
}

</t>
<t tx="ekr.20211016054411.2083">/**
 * Clear the localID value
 */
public clearLocalID() {
  this.localID = '';
}

</t>
<t tx="ekr.20211016054411.2084">/**
 * Use a localID (for font-specific caching), either with a specific string,
 * or from the nextID number.
 */
public useLocalID(id: string = null) {
  this.localID = (id == null ? ++this.nextID : id) + (id === '' ? '' : '-');
}

</t>
<t tx="ekr.20211016054411.2085">/**
 * Clear the cache
 */
public clearCache() {
  this.cache = new Map();
  this.defs = this.jax.svg('defs');
}

</t>
<t tx="ekr.20211016054411.2086">/**
 * Return the font cache &lt;defs&gt; element
 */
public getCache() {
  return this.defs;
}

</t>
<t tx="ekr.20211016054411.2087">


/**
 * @fileoverview  Implements the SVGFontData class for font data in SVG output.
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CharMap, CharOptions, CharData, VariantData, DelimiterData, FontData} from '../common/FontData.js';
export * from '../common/FontData.js';

export type CharStringMap = {[name: number]: string};

/**
 * Add the extra data needed for CharOptions in SVG
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2088">export interface SVGCharOptions extends CharOptions {
  c?: string;                   // the character value (overrides default value)
  p?: string;                   // svg path
}

/**
 * Shorthands for SVG char maps and char data
 */
export type SVGCharMap = CharMap&lt;SVGCharOptions&gt;;
export type SVGCharData = CharData&lt;SVGCharOptions&gt;;

</t>
<t tx="ekr.20211016054411.2089">/**
 * The extra data needed for a Variant in SVG output
 */
export interface SVGVariantData extends VariantData&lt;SVGCharOptions&gt; {
  cacheID: string;
}

</t>
<t tx="ekr.20211016054411.209">
import '../startup/lib/startup.js';
import './preload.js';
import '../core/core.js';
import '../input/tex/tex.js';
import '../output/chtml/chtml.js';
import '../output/chtml/fonts/tex/tex.js';
import '../ui/menu/menu.js';
import '../a11y/assistive-mml/assistive-mml.js';
import '../startup/startup.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2090">/**
 * the extra data neede for a Delimiter in SVG output
 */
export interface SVGDelimiterData extends DelimiterData {
}


/****************************************************************************/

</t>
<t tx="ekr.20211016054411.2091">/**
 * The SVG FontData class
 */
export class SVGFontData extends FontData&lt;SVGCharOptions, SVGVariantData, SVGDelimiterData&gt; {

  /**
   * @override
   */
  @others
}

export type SVGFontDataClass = typeof SVGFontData;

/****************************************************************************/

</t>
<t tx="ekr.20211016054411.2092">public static charOptions(font: SVGCharMap, n: number) {
  return super.charOptions(font, n) as SVGCharOptions;
}

</t>
<t tx="ekr.20211016054411.2093">/**
 * @param {CharMap} font        The font to augment
 * @param {CharStringMap} paths     The path data to use for each character
 * @param {CharStringMap} content   The string to use for remapped characters
 * @return {SVGCharMap}            The augmented font
 */
export function AddPaths(font: SVGCharMap, paths: CharStringMap, content: CharStringMap): SVGCharMap {
  for (const c of Object.keys(paths)) {
    const n = parseInt(c);
    SVGFontData.charOptions(font, n).p = paths[n];
  }
  for (const c of Object.keys(content)) {
    const n = parseInt(c);
    SVGFontData.charOptions(font, n).c = content[n];
  }
  return font;
}
</t>
<t tx="ekr.20211016054411.2094">


/**
 * @fileoverview  Implements utilities for notations for menclose elements
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGmenclose} from './Wrappers/menclose.js';
import * as Notation from '../common/Notation.js';
export * from '../common/Notation.js';

/*******************************************************************/

/**
 * Shorthand for SVGmenclose
 */
export type Menclose = SVGmenclose&lt;any, any, any&gt;;


/*
 * Shorthands for common types
 */
export type RENDERER&lt;N, T, D&gt; = Notation.Renderer&lt;SVGmenclose&lt;N, T, D&gt;, N&gt;;
export type DEFPAIR&lt;N, T, D&gt; = Notation.DefPair&lt;SVGmenclose&lt;N, T, D&gt;, N&gt;;

/**
 * The kinds of lines that can be drawn
 */
export type LineName = Notation.Side | ('vertical' | 'horizontal' | 'up' | 'down');

/**
 * [x1,y1, x2,y2] endpoints for a line
 */
export type LineData = [number, number, number, number];

/**
 * Functions for computing the line data for each type of line
 */
export const computeLineData = {
  top: (h, _d, w, t) =&gt; [0, h - t, w, h - t],
  right: (h, d, w, t) =&gt; [w - t, -d, w - t, h],
  bottom: (_h, d, w, t) =&gt; [0, t - d, w, t - d],
  left: (h, d, _w, t) =&gt; [t, -d, t, h],
  vertical: (h, d, w, _t) =&gt; [w / 2, h, w / 2, -d],
  horizontal: (h, d, w, _t) =&gt; [0, (h - d) / 2, w, (h - d) / 2],
  up: (h, d, w, t) =&gt; [t, t - d, w - t, h - t],
  down: (h, d, w, t) =&gt; [t, h - t, w - t, t - d]
} as {[kind: string]: (h: number, d: number, w: number, t: number) =&gt; LineData};

/**
 * The data for a given line as two endpoints: [x1, y1, x2, y1]
 *
 * @param {Menclose} node   The node whose line is to be drawn
 * @param {LineName} kind   The type of line to draw for the node
 * @param {string} offset   The offset direction, if any
 * @return {LineData}       The coordinates of the two endpoints
 */
export const lineData = function(node: Menclose, kind: LineName, offset: string = ''): LineData {
  const {h, d, w} = node.getBBox();
  const t = node.thickness / 2;
  return lineOffset(computeLineData[kind](h, d, w, t), node, offset);
};

/**
 * Recenter the line data for vertical and horizontal lines
 *
 * @param {LineData} data   The line endpoints to adjust
 * @param {Menclose} node   The menclose node
 * @param {string} offset   The direction to offset
 */
export const lineOffset = function(data: LineData, node: Menclose, offset: string): LineData {
  if (offset) {
    const d = node.getOffset(offset);
    if (d) {
      if (offset === 'X') {
        data[0] -= d;
        data[2] -= d;
      } else {
        data[1] -= d;
        data[3] -= d;
      }
    }
  }
  return data;
};


/*******************************************************************/

/**
 * @param {LineName} line  The name of the line to create
 * @return {RENDERER}      The renderer function for the given line
 */
export const RenderLine = function&lt;N, T, D&gt;(line: LineName, offset: string = ''): RENDERER&lt;N, T, D&gt; {
  return ((node, _child) =&gt; {
    const L = node.line(lineData(node, line, offset));
    node.adaptor.append(node.element, L);
  });
};

/*******************************************************************/

/**
 * @param {Notation.Side} side   The kind of line (side, diagonal, etc.)
 * @return {DEFPAIR}      The notation definition for the notation having a line on the given side
 */
export const Border = function&lt;N, T, D&gt;(side: Notation.Side): DEFPAIR&lt;N, T, D&gt; {
  return Notation.CommonBorder&lt;SVGmenclose&lt;N, T, D&gt;, N&gt;((node, _child) =&gt; {
    node.adaptor.append(node.element, node.line(lineData(node, side)));
  })(side);
};


/**
 * @param {string} name    The name of the notation to define
 * @param {Notation.Side} side1   The first side to get a border
 * @param {Notation.Side} side2   The second side to get a border
 * @return {DEFPAIR}       The notation definition for the notation having lines on two sides
 */
export const Border2 = function&lt;N, T, D&gt;(name: string, side1: Notation.Side, side2: Notation.Side): DEFPAIR&lt;N, T, D&gt; {
  return Notation.CommonBorder2&lt;SVGmenclose&lt;N, T, D&gt;, N&gt;((node, _child) =&gt; {
    node.adaptor.append(node.element, node.line(lineData(node, side1)));
    node.adaptor.append(node.element, node.line(lineData(node, side2)));
  })(name, side1, side2);
};

/*******************************************************************/

/**
 * @param {LineName} name  The name of the diagonal strike to define
 * @return {DEFPAIR}       The notation definition for the diagonal strike
 */
export const DiagonalStrike = function&lt;N, T, D&gt;(name: LineName): DEFPAIR&lt;N, T, D&gt; {
  return Notation.CommonDiagonalStrike&lt;SVGmenclose&lt;N, T, D&gt;, N&gt;((_cname: string) =&gt; (node, _child) =&gt; {
    node.adaptor.append(node.element, node.line(lineData(node, name)));
  })(name);
};

/*******************************************************************/

/**
 * @param {string} name   The name of the diagonal arrow to define
 * @return {DEFPAIR}      The notation definition for the diagonal arrow
 */
export const DiagonalArrow = function&lt;N, T, D&gt;(name: string): DEFPAIR&lt;N, T, D&gt; {
  return Notation.CommonDiagonalArrow&lt;SVGmenclose&lt;N, T, D&gt;, N&gt;((node, arrow) =&gt; {
    node.adaptor.append(node.element, arrow);
  })(name);
};

/**
 * @param {string} name   The name of the horizontal or vertical arrow to define
 * @return {DEFPAIR}      The notation definition for the arrow
 */
export const Arrow = function&lt;N, T, D&gt;(name: string): DEFPAIR&lt;N, T, D&gt; {
  return Notation.CommonArrow&lt;SVGmenclose&lt;N, T, D&gt;, N&gt;((node, arrow) =&gt; {
    node.adaptor.append(node.element, arrow);
  })(name);
};

/*******************************************************************/
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2095">


/**
 * @fileoverview  Implements the SVGWrapper class
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {OptionList} from '../../util/Options.js';
import {CommonWrapper, AnyWrapperClass, Constructor} from '../common/Wrapper.js';
import {SVG, XLINKNS} from '../svg.js';
import {SVGWrapperFactory} from './WrapperFactory.js';
import {SVGFontData, SVGDelimiterData, SVGCharOptions} from './FontData.js';

export {Constructor, StringMap} from '../common/Wrapper.js';

/*****************************************************************/

/**
 * Shorthand for makeing a SVGWrapper constructor
 */
export type SVGConstructor&lt;N, T, D&gt; = Constructor&lt;SVGWrapper&lt;N, T, D&gt;&gt;;


/*****************************************************************/
/**
 *  The type of the SVGWrapper class (used when creating the wrapper factory for this class)
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2096">export interface SVGWrapperClass extends AnyWrapperClass {

  kind: string;

}

/*****************************************************************/
/**
 *  The base SVGWrapper class
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class SVGWrapper&lt;N, T, D&gt; extends
CommonWrapper&lt;
  SVG&lt;N, T, D&gt;,
  SVGWrapper&lt;N, T, D&gt;,
  SVGWrapperClass,
  SVGCharOptions,
  SVGDelimiterData,
  SVGFontData
&gt; {

  /**
   * The kind of wrapper
   */
  public static kind: string = 'unknown';

  /**
   * The factory used to create more SVGWrappers
   */
  protected factory: SVGWrapperFactory&lt;N, T, D&gt;;

  /**
   * @override
   */
  public parent: SVGWrapper&lt;N, T, D&gt;;
  /**
   * @override
   */
  public childNodes: SVGWrapper&lt;N, T, D&gt;[];

  /**
   * The SVG element generated for this wrapped node
   */
  public element: N = null;

  /**
   * @override
   */
  public font: SVGFontData;

  /*******************************************************************/

  
</t>
<t tx="ekr.20211016054411.2097">/**
   * Create the HTML for the wrapped node.
   *
   * @param {N} parent  The HTML node where the output is added
   */
public toSVG(parent: N) {
  this.addChildren(this.standardSVGnode(parent));
}

</t>
<t tx="ekr.20211016054411.2098">/**
 * @param {N} parent  The element in which to add the children
 */
public addChildren(parent: N) {
  let x = 0;
  for (const child of this.childNodes) {
    child.toSVG(parent);
    if (child.element) {
      child.place(x + child.bbox.L * child.bbox.rscale, 0);
    }
    x += (child.bbox.L + child.bbox.w + child.bbox.R) * child.bbox.rscale;
  }
}

/*******************************************************************/

/**
 * Create the standard SVG element for the given wrapped node.
 *
 * @param {N} parent  The HTML element in which the node is to be created
 * @returns {N}  The root of the HTML tree for the wrapped node's output
 */
protected standardSVGnode(parent: N): N {
  const svg = this.createSVGnode(parent);
  this.handleStyles();
  this.handleScale();
  this.handleColor();
  this.handleAttributes();
  return svg;
}

/**
 * @param {N} parent  The HTML element in which the node is to be created
 * @returns {N}  The root of the HTML tree for the wrapped node's output
 */
protected createSVGnode(parent: N): N {
  this.element = this.svg('g', {'data-mml-node': this.node.kind});
  const href = this.node.attributes.get('href');
  if (href) {
    parent = this.adaptor.append(parent, this.svg('a', {href: href})) as N;
    const {h, d, w} = this.getBBox();
    this.adaptor.append(this.element, this.svg('rect', {
      'data-hitbox': true, fill: 'none', stroke: 'none', 'pointer-events': 'all',
      width: this.fixed(w), height: this.fixed(h + d), y: this.fixed(-d)
    }));
  }
  this.adaptor.append(parent, this.element) as N;
  return this.element;
}

/**
 * Set the CSS styles for the svg element
 */
protected handleStyles() {
  if (!this.styles) return;
  const styles = this.styles.cssText;
  if (styles) {
    this.adaptor.setAttribute(this.element, 'style', styles);
  }
}

/**
 * Set the (relative) scaling factor for the node
 */
protected handleScale() {
  if (this.bbox.rscale !== 1) {
    const scale = 'scale(' + this.fixed(this.bbox.rscale / 1000, 3) + ')';
    this.adaptor.setAttribute(this.element, 'transform', scale);
  }
}

/**
 * Add the foreground and background colors
 * (Only look at explicit attributes, since inherited ones will
 *  be applied to a parent element, and we will inherit from that)
 */
protected handleColor() {
  const adaptor = this.adaptor;
  const attributes = this.node.attributes;
  const mathcolor = attributes.getExplicit('mathcolor') as string;
  const color = attributes.getExplicit('color') as string;
  const mathbackground = attributes.getExplicit('mathbackground') as string;
  const background = attributes.getExplicit('background') as string;
  if (mathcolor || color) {
    adaptor.setAttribute(this.element, 'fill', mathcolor || color);
    adaptor.setAttribute(this.element, 'stroke', mathcolor || color);
  }
  if (mathbackground || background) {
    let {h, d, w} = this.getBBox();
    let rect = this.svg('rect', {
      fill: mathbackground || background,
      x: 0, y: this.fixed(-d),
      width: this.fixed(w),
      height: this.fixed(h + d),
      'data-bgcolor': true
    });
    let child = adaptor.firstChild(this.element);
    if (child) {
      adaptor.insert(rect, child);
    } else {
      adaptor.append(this.element, rect);
    }
  }
}

/**
 * Copy RDFa, aria, and other tags from the MathML to the SVG output nodes.
 * Don't copy those in the skipAttributes list, or anything that already exists
 * as a property of the node (e.g., no "onlick", etc.).  If a name in the
 * skipAttributes object is set to false, then the attribute WILL be copied.
 * Add the class to any other classes already in use.
 */
protected handleAttributes() {
  const attributes = this.node.attributes;
  const defaults = attributes.getAllDefaults();
  const skip = SVGWrapper.skipAttributes;
  for (const name of attributes.getExplicitNames()) {
    if (skip[name] === false || (!(name in defaults) &amp;&amp; !skip[name] &amp;&amp;
                                 !this.adaptor.hasAttribute(this.element, name))) {
      this.adaptor.setAttribute(this.element, name, attributes.getExplicit(name) as string);
    }
  }
  if (attributes.get('class')) {
    const names = (attributes.get('class') as string).trim().split(/ +/);
    for (const name of names) {
      this.adaptor.addClass(this.element, name);
    }
  }
}

/*******************************************************************/

</t>
<t tx="ekr.20211016054411.2099">/**
 * @param {number} x   The x-offset for the element
 * @param {number} y   The y-offset for the element
 * @param {N} element  The element to be placed
 */
public place(x: number, y: number, element: N = null) {
  if (!(x || y)) return;
  if (!element) {
    element = this.element;
    y = this.handleId(y);
  }
  const translate = `translate(${this.fixed(x)},${this.fixed(y)})`;
  const transform = this.adaptor.getAttribute(element, 'transform') || '';
  this.adaptor.setAttribute(element, 'transform', translate + (transform ? ' ' + transform : ''));
}

/**
 * Firefox and Safari don't scroll to the top of the element with an Id, so
 *   we shift the element up and then translate its contents down in order to
 *   correct for their positioning.  Also, Safari will go to the baseline of
 *   a &lt;text&gt; element (e.g., when mtextInheritFont is true), so add a text
 *   element to help Safari get the right location.
 *
 * @param {number} y     The current offset of the element
 * @return {number}      The new offset for the element if it has an id
 */
protected handleId(y: number): number {
  if (!this.node.attributes || !this.node.attributes.get('id')) {
    return y;
  }
  const adaptor = this.adaptor;
  const h = this.getBBox().h;
  //
  //  Remove the element's children and put them into a &lt;g&gt; with transform
  //
  const children =  adaptor.childNodes(this.element);
  children.forEach(child =&gt; adaptor.remove(child));
  const g = this.svg('g', {'data-idbox': true, transform: `translate(0,${this.fixed(-h)})`}, children);
  //
  //  Add the text element (not transformed) and the transformed &lt;g&gt;
  //
  adaptor.append(this.element, this.svg('text', {'data-id-align': true} , [this.text('')]));
  adaptor.append(this.element, g);
  return y + h;
}

</t>
<t tx="ekr.20211016054411.21"></t>
<t tx="ekr.20211016054411.210">
const PACKAGE = require('../../webpack.common.js');

module.exports = PACKAGE(
  'tex-chtml',                        // the package to build
  '../../../js',                      // location of the MathJax js library
  [],                                 // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2100">/**
 * Return the first child element, skipping id align boxes and href hit boxes
 *
 * @return {N}   The first "real" child element
 */
public firstChild(): N {
  const adaptor = this.adaptor;
  let child = adaptor.firstChild(this.element);
  if (child &amp;&amp; adaptor.kind(child) === 'text' &amp;&amp; adaptor.getAttribute(child, 'data-id-align')) {
    child = adaptor.firstChild(adaptor.next(child));
  }
  if (child &amp;&amp; adaptor.kind(child) === 'rect' &amp;&amp; adaptor.getAttribute(child, 'data-hitbox')) {
    child = adaptor.next(child);
  }
  return child;
}

</t>
<t tx="ekr.20211016054411.2101">/**
 * @param {number} n        The character number
 * @param {number} x        The x-position of the character
 * @param {number} y        The y-position of the character
 * @param {N} parent        The container for the character
 * @param {string} variant  The variant to use for the character
 * @return {number}         The width of the character
 */
public placeChar(n: number, x: number, y: number, parent: N, variant: string = null): number {
  if (variant === null) {
    variant = this.variant;
  }
  const C = n.toString(16).toUpperCase();
  const [ , , w, data] = this.getVariantChar(variant, n);
  if ('p' in data) {
    const path = (data.p ? 'M' + data.p + 'Z' : '');
    this.place(x, y, this.adaptor.append(parent, this.charNode(variant, C, path)));
  } else if ('c' in data) {
    const g = this.adaptor.append(parent, this.svg('g', {'data-c': C}));
    this.place(x, y, g);
    x = 0;
    for (const n of this.unicodeChars(data.c, variant)) {
      x += this.placeChar(n, x, y, g, variant);
    }
  } else if (data.unknown) {
    const char = String.fromCodePoint(n);
    const text = this.adaptor.append(parent, this.jax.unknownText(char, variant));
    this.place(x, y, text);
    return this.jax.measureTextNodeWithCache(text, char, variant).w;
  }
  return w;
}

/**
 * @param {string} variant    The name of the variant being used
 * @param {string} C          The hex string for the character code
 * @param {string} path       The data from the character
 * @return {N}                The &lt;path&gt; or &lt;use&gt; node for the glyph
 */
protected charNode(variant: string, C: string, path: string): N {
  const cache = this.jax.options.fontCache;
  return (cache !== 'none' ? this.useNode(variant, C, path) : this.pathNode(C, path));
}

/**
 * @param {string} C          The hex string for the character code
 * @param {string} path       The data from the character
 * @return {N}                The &lt;path&gt; for the glyph
 */
protected pathNode(C: string, path: string): N {
  return this.svg('path', {'data-c': C, d: path});
}

/**
 * @param {string} variant    The name of the variant being used
 * @param {string} C          The hex string for the character code
 * @param {string} path       The data from the character
 * @return {N}                The &lt;use&gt; node for the glyph
 */
protected useNode(variant: string, C: string, path: string): N {
  const use = this.svg('use', {'data-c': C});
  const id = '#' + this.jax.fontCache.cachePath(variant, C, path);
  this.adaptor.setAttribute(use, 'href', id, XLINKNS);
  return use;
}

/*******************************************************************/
</t>
<t tx="ekr.20211016054411.2102">/**
 * For debugging
 */

public drawBBox() {
  let {w, h, d}  = this.getBBox();
  const box = this.svg('g', {style: {
    opacity: .25
  }}, [
    this.svg('rect', {
      fill: 'red',
      height: this.fixed(h),
      width: this.fixed(w)
    }),
    this.svg('rect', {
      fill: 'green',
      height: this.fixed(d),
      width: this.fixed(w),
      y: this.fixed(-d)
    })
  ] as N[]);
  const node = this.element || this.parent.element;
  this.adaptor.append(node, box);
}

/*******************************************************************/
/*
 * Easy access to some utility routines
 */

</t>
<t tx="ekr.20211016054411.2103">/**
 * @param {string} type      The tag name of the HTML node to be created
 * @param {OptionList} def   The properties to set for the created node
 * @param {(N|T)[]} content  The child nodes for the created HTML node
 * @return {N}               The generated HTML tree
 */
public html(type: string, def: OptionList = {}, content: (N | T)[] = []): N {
  return this.jax.html(type, def, content);
}

</t>
<t tx="ekr.20211016054411.2104">/**
 * @param {string} type      The tag name of the svg node to be created
 * @param {OptionList} def   The properties to set for the created node
 * @param {(N|T)[]} content  The child nodes for the created SVG node
 * @return {N}               The generated SVG tree
 */
public svg(type: string, def: OptionList = {}, content: (N | T)[] = []): N {
  return this.jax.svg(type, def, content);
}

</t>
<t tx="ekr.20211016054411.2105">/**
 * @param {string} text  The text from which to create an HTML text node
 * @return {T}  The generated text node with the given text
 */
public text(text: string): T {
  return this.jax.text(text);
}

</t>
<t tx="ekr.20211016054411.2106">/**
 * @param {number} x   The dimension to display
 * @param {number=} n  The number of digits to display
 * @return {string}    The dimension with the given number of digits (minus trailing zeros)
 */
  public fixed(x: number, n: number = 1): string {
    return this.jax.fixed(x * 1000, n);
  }

}
</t>
<t tx="ekr.20211016054411.2107">


/**
 * @fileoverview  Implements the SVGWrapperFactory class
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVG} from '../svg.js';
import {CommonWrapperFactory} from '../common/WrapperFactory.js';
import {SVGWrapper, SVGWrapperClass} from './Wrapper.js';
import {SVGWrappers} from './Wrappers.js';
import {SVGCharOptions, SVGDelimiterData, SVGFontData} from './FontData.js';

/*****************************************************************/
/*
 *  The SVGWrapperFactory class for creating CHTMLWrapper nodes
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class SVGWrapperFactory&lt;N, T, D&gt; extends
CommonWrapperFactory&lt;
  SVG&lt;N, T, D&gt;,
  SVGWrapper&lt;N, T, D&gt;,
  SVGWrapperClass,
  SVGCharOptions,
  SVGDelimiterData,
  SVGFontData
&gt; {

  /**
   * The default list of wrapper nodes this factory can create
   */
  public static defaultNodes = SVGWrappers;

  /**
   * The CHTML output jax associated with this factory
   */
  public jax: SVG&lt;N, T, D&gt; = null;

}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2108">


/**
 * @fileoverview  An object listing all the SVGWrapper classes
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {WrapperConstructor} from '../common/Wrapper.js';
import {SVGWrapper} from './Wrapper.js';
import {SVGmath} from './Wrappers/math.js';
import {SVGmrow, SVGinferredMrow} from './Wrappers/mrow.js';
import {SVGmi} from './Wrappers/mi.js';
import {SVGmo} from './Wrappers/mo.js';
import {SVGmn} from './Wrappers/mn.js';
import {SVGms} from './Wrappers/ms.js';
import {SVGmtext} from './Wrappers/mtext.js';
import {SVGmerror} from './Wrappers/merror.js';
import {SVGmspace} from './Wrappers/mspace.js';
import {SVGmpadded} from './Wrappers/mpadded.js';
import {SVGmphantom} from './Wrappers/mphantom.js';
import {SVGmfrac} from './Wrappers/mfrac.js';
import {SVGmsqrt} from './Wrappers/msqrt.js';
import {SVGmroot} from './Wrappers/mroot.js';
import {SVGmfenced} from './Wrappers/mfenced.js';
import {SVGmsub, SVGmsup, SVGmsubsup} from './Wrappers/msubsup.js';
import {SVGmover, SVGmunder, SVGmunderover} from './Wrappers/munderover.js';
import {SVGmmultiscripts} from './Wrappers/mmultiscripts.js';

import {SVGmtable} from './Wrappers/mtable.js';
import {SVGmtr, SVGmlabeledtr} from './Wrappers/mtr.js';
import {SVGmtd} from './Wrappers/mtd.js';

import {SVGmaction} from './Wrappers/maction.js';
import {SVGmenclose} from './Wrappers/menclose.js';
import {SVGsemantics, SVGannotation, SVGannotationXML, SVGxml} from './Wrappers/semantics.js';
import {SVGmglyph} from './Wrappers/mglyph.js';
import {SVGTeXAtom} from './Wrappers/TeXAtom.js';
import {SVGTextNode} from './Wrappers/TextNode.js';

export const SVGWrappers: {[kind: string]: WrapperConstructor}  = {
  [SVGmath.kind]: SVGmath,
  [SVGmrow.kind]: SVGmrow,
  [SVGinferredMrow.kind]: SVGinferredMrow,
  [SVGmi.kind]: SVGmi,
  [SVGmo.kind]: SVGmo,
  [SVGmn.kind]: SVGmn,
  [SVGms.kind]: SVGms,
  [SVGmtext.kind]: SVGmtext,
  [SVGmerror.kind]: SVGmerror,
  [SVGmspace.kind]: SVGmspace,
  [SVGmpadded.kind]: SVGmpadded,
  [SVGmphantom.kind]: SVGmphantom,
  [SVGmfrac.kind]: SVGmfrac,
  [SVGmsqrt.kind]: SVGmsqrt,
  [SVGmroot.kind]: SVGmroot,
  [SVGmfenced.kind]: SVGmfenced,
  [SVGmsub.kind]: SVGmsub,
  [SVGmsup.kind]: SVGmsup,
  [SVGmsubsup.kind]: SVGmsubsup,
  [SVGmunder.kind]: SVGmunder,
  [SVGmover.kind]: SVGmover,
  [SVGmunderover.kind]: SVGmunderover,
  [SVGmmultiscripts.kind]: SVGmmultiscripts,
  [SVGmtable.kind]: SVGmtable,
  [SVGmtr.kind]: SVGmtr,
  [SVGmlabeledtr.kind]: SVGmlabeledtr,
  [SVGmtd.kind]: SVGmtd,
  [SVGmaction.kind]: SVGmaction,
  [SVGmenclose.kind]: SVGmenclose,
  [SVGsemantics.kind]: SVGsemantics,
  [SVGannotation.kind]: SVGannotation,
  [SVGannotationXML.kind]: SVGannotationXML,
  [SVGxml.kind]: SVGxml,
  [SVGmglyph.kind]: SVGmglyph,
  [SVGTeXAtom.kind]: SVGTeXAtom,
  [SVGTextNode.kind]: SVGTextNode,
  [SVGWrapper.kind]: SVGWrapper
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2109"></t>
<t tx="ekr.20211016054411.211"></t>
<t tx="ekr.20211016054411.2110">


/**
 * @fileoverview  Implements the SVGmaction wrapper for the MmlMaction object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonMactionMixin} from '../../common/Wrappers/maction.js';
import {ActionDef} from '../../common/Wrappers/maction.js';
import {EventHandler, TooltipData} from '../../common/Wrappers/maction.js';
import {MmlMaction} from '../../../core/MmlTree/MmlNodes/maction.js';
import {TextNode, AbstractMmlNode} from '../../../core/MmlTree/MmlNode.js';
import {StyleList} from '../../../util/StyleList.js';

/*****************************************************************/
/**
 * The SVGmaction wrapper for the MmlMaction object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmaction&lt;N, T, D&gt; extends
CommonMactionMixin&lt;SVGWrapper&lt;any, any, any&gt;, SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The maction wrapper
   */
  public static kind = MmlMaction.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    '[jax="SVG"] mjx-tool': {
      display: 'inline-block',
      position: 'relative',
      width: 0, height: 0
    },
    '[jax="SVG"] mjx-tool &gt; mjx-tip': {
      position: 'absolute',
      top: 0, left: 0
    },
    'mjx-tool &gt; mjx-tip': {
      display: 'inline-block',
      padding: '.2em',
      border: '1px solid #888',
      'font-size': '70%',
      'background-color': '#F8F8F8',
      color: 'black',
      'box-shadow': '2px 2px 5px #AAAAAA'
    },
    'g[data-mml-node="maction"][data-toggle]': {
      cursor: 'pointer'
    },
    'mjx-status': {
      display: 'block',
      position: 'fixed',
      left: '1em',
      bottom: '1em',
      'min-width': '25%',
      padding: '.2em .4em',
      border: '1px solid #888',
      'font-size': '90%',
      'background-color': '#F8F8F8',
      color: 'black'
    }
  };

  /**
   * The valid action types and their handlers
   */
  public static actions = new Map([
    ['toggle', [(node, _data) =&gt; {
      //
      // Mark which child is selected
      //
      node.adaptor.setAttribute(node.element, 'data-toggle', node.node.attributes.get('selection') as string);
      //
      // Cache the data needed to select another node
      //
      const math = node.factory.jax.math;
      const document = node.factory.jax.document;
      const mml = node.node as MmlMaction;
      //
      // Add a click handler that changes the selection and rerenders the expression
      //
      node.setEventHandler('click', (event: Event) =&gt; {
        if (!math.end.node) {
          //
          // If the MathItem was created by hand, it might not have a node
          // telling it where to replace the existing math, so set it.
          //
          math.start.node = math.end.node = math.typesetRoot;
          math.start.n = math.end.n = 0;
        }
        mml.nextToggleSelection();
        math.rerender(document);
        event.stopPropagation();
      });
    }, {}]],

    ['tooltip', [(node, data) =&gt; {
      const tip = node.childNodes[1];
      if (!tip) return;
      const rect = node.firstChild();
      if (tip.node.isKind('mtext')) {
        //
        // Text tooltips are handled through title attributes
        //
        const text = (tip.node as TextNode).getText();
        node.adaptor.insert(node.svg('title', {}, [node.text(text)]), rect);
      } else {
        //
        // Math tooltips are handled through hidden nodes and event handlers
        //
        const adaptor = node.adaptor;
        const container = node.jax.container;
        const math = (node.node as AbstractMmlNode).factory.create('math', {}, [node.childNodes[1].node]);
        const tool = node.html('mjx-tool', {}, [node.html('mjx-tip')]);
        const hidden = adaptor.append(rect, node.svg('foreignObject', {style: {display: 'none'}}, [tool]));
        node.jax.processMath(math, adaptor.firstChild(tool));
        node.childNodes[1].node.parent = node.node;
        //
        // Set up the event handlers to display and remove the tooltip
        //
        node.setEventHandler('mouseover', (event: Event) =&gt; {
          data.stopTimers(node, data);
          data.hoverTimer.set(node, setTimeout(() =&gt; {
            adaptor.setStyle(tool, 'left', '0');
            adaptor.setStyle(tool, 'top', '0');
            adaptor.append(container, tool);
            const tbox = adaptor.nodeBBox(tool);
            const nbox = adaptor.nodeBBox(node.element);
            const dx = (nbox.right - tbox.left) / node.metrics.em + node.dx;
            const dy = (nbox.bottom - tbox.bottom) / node.metrics.em + node.dy;
            adaptor.setStyle(tool, 'left', node.px(dx));
            adaptor.setStyle(tool, 'top', node.px(dy));
          }, data.postDelay));
          event.stopPropagation();
        });
        node.setEventHandler('mouseout',  (event: Event) =&gt; {
          data.stopTimers(node, data);
          const timer = setTimeout(() =&gt; adaptor.append(hidden, tool), data.clearDelay);
          data.clearTimer.set(node, timer);
          event.stopPropagation();
        });
      }
    }, TooltipData]],

    ['statusline', [(node, data) =&gt; {
      const tip = node.childNodes[1];
      if (!tip) return;
      if (tip.node.isKind('mtext')) {
        const adaptor = node.adaptor;
        const text = (tip.node as TextNode).getText();
        adaptor.setAttribute(node.element, 'data-statusline', text);
        //
        // Set up event handlers to change the status window
        //
        node.setEventHandler('mouseover', (event: Event) =&gt; {
          if (data.status === null) {
            const body = adaptor.body(adaptor.document);
            data.status = adaptor.append(body, node.html('mjx-status', {}, [node.text(text)]));
          }
          event.stopPropagation();
        });
        node.setEventHandler('mouseout', (event: Event) =&gt; {
          if (data.status) {
            adaptor.remove(data.status);
            data.status = null;
          }
          event.stopPropagation();
        });
      }
    }, {
      status: null  // cached status line
    }]]

  ] as ActionDef&lt;SVGmaction&lt;any, any, any&gt;&gt;[]);

  /*************************************************************/

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2111">public toSVG(parent: N) {
  const svg = this.standardSVGnode(parent);
  const child = this.selected;
  const {h, d, w} = child.getBBox();
  this.adaptor.append(this.element, this.svg('rect', {
    width: this.fixed(w), height: this.fixed(h + d), y: this.fixed(-d),
    fill: 'none', 'pointer-events': 'all'
  }));
  child.toSVG(svg);
  this.action(this, this.data);
}

</t>
<t tx="ekr.20211016054411.2112">/**
 * Add an event handler to the output for this maction
 */
  public setEventHandler(type: string, handler: EventHandler) {
    (this.element as any).addEventListener(type, handler);
  }

}
</t>
<t tx="ekr.20211016054411.2113">


/**
 * @fileoverview  Implements the SVGmath wrapper for the MmlMath object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonMathMixin} from '../../common/Wrappers/math.js';
import {MmlMath} from '../../../core/MmlTree/MmlNodes/math.js';
import {StyleList} from '../../../util/StyleList.js';
import {BBox} from '../../../util/BBox.js';

/*****************************************************************/
/**
 * The SVGmath wrapper for the MmlMath object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmath&lt;N, T, D&gt; extends
CommonMathMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The math wrapper
   */
  public static kind = MmlMath.prototype.kind;

  /**
   * @overreide
   */
  public static styles: StyleList = {
    'mjx-container[jax="SVG"][display="true"]': {
      display: 'block',
      'text-align': 'center',
      margin: '1em 0'
    },
    'mjx-container[jax="SVG"][display="true"][width="full"]': {
      display: 'flex'
    },
    'mjx-container[jax="SVG"][justify="left"]': {
      'text-align': 'left'
    },
    'mjx-container[jax="SVG"][justify="right"]': {
      'text-align': 'right'
    }
  };

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2114">public toSVG(parent: N) {
  super.toSVG(parent);
  const adaptor = this.adaptor;
  const display = (this.node.attributes.get('display') === 'block');
  if (display) {
    adaptor.setAttribute(this.jax.container, 'display', 'true');
    this.handleDisplay();
  }
  if (this.jax.document.options.internalSpeechTitles) {
    this.handleSpeech();
  }
}

/**
 * Set the justification, and get the minwidth and shift needed
 * for the displayed equation.
 */
protected handleDisplay() {
  const [align, shift] = this.getAlignShift();
  if (align !== 'center') {
    this.adaptor.setAttribute(this.jax.container, 'justify', align);
  }
  if (this.bbox.pwidth === BBox.fullWidth) {
    this.adaptor.setAttribute(this.jax.container, 'width', 'full');
    if (this.jax.table) {
      let {L, w, R} = this.jax.table.getBBox();
      if (align === 'right') {
        R = Math.max(R || -shift, -shift);
      } else if (align === 'left') {
        L = Math.max(L || shift, shift);
      } else if (align === 'center') {
        w += 2 * Math.abs(shift);
      }
      this.jax.minwidth = Math.max(0, L + w + R);
    }
  } else {
    this.jax.shift = shift;
  }
}

/**
 * Handle adding speech to the top-level node, if any.
 */
protected handleSpeech() {
  const adaptor = this.adaptor;
  const attributes = this.node.attributes;
  const speech = (attributes.get('aria-label') || attributes.get('data-semantic-speech')) as string;
  if (speech) {
    const id = this.getTitleID();
    const label = this.svg('title', {id}, [this.text(speech)]);
    adaptor.insert(label, adaptor.firstChild(this.element));
    adaptor.setAttribute(this.element, 'aria-labeledby', id);
    adaptor.removeAttribute(this.element, 'aria-label');
    for (const child of this.childNodes[0].childNodes) {
      adaptor.setAttribute(child.element, 'aria-hidden', 'true');
    }
  }
}

/**
 * @return {string}  A unique ID to use for aria-labeledby title elements
 */
protected getTitleID(): string {
  return 'mjx-svg-title-' + String(this.jax.options.titleID++);
}

</t>
<t tx="ekr.20211016054411.2115">/**
 * @override
 */
  public setChildPWidths(recompute: boolean, w: number = null, _clear: boolean = true) {
    return super.setChildPWidths(recompute,
                                 this.parent ? w : this.metrics.containerWidth / this.jax.pxPerEm,
                                 false);
  }

}
</t>
<t tx="ekr.20211016054411.2116">


/**
 * @fileoverview  Implements the SVGmenclose wrapper for the MmlMenclose object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonMencloseMixin} from '../../common/Wrappers/menclose.js';
import {SVGmsqrt} from './msqrt.js';
import * as Notation from '../Notation.js';
import {MmlMenclose} from '../../../core/MmlTree/MmlNodes/menclose.js';
import {OptionList} from '../../../util/Options.js';

/*****************************************************************/
/**
 * The SVGmenclose wrapper for the MmlMenclose object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmenclose&lt;N, T, D&gt; extends CommonMencloseMixin&lt;
  SVGWrapper&lt;any, any, any&gt;,
  SVGmsqrt&lt;any, any, any&gt;,
  any,
  SVGConstructor&lt;any, any, any&gt;
&gt;(SVGWrapper) {

  /**
   * The menclose wrapper
   */
  public static kind = MmlMenclose.prototype.kind;

  /**
   *  The definitions of the various notations
   */
  public static notations: Notation.DefList&lt;SVGmenclose&lt;any, any, any&gt;, any&gt; = new Map([

    Notation.Border('top'),
    Notation.Border('right'),
    Notation.Border('bottom'),
    Notation.Border('left'),

    Notation.Border2('actuarial', 'top', 'right'),
    Notation.Border2('madruwb', 'bottom', 'right'),

    Notation.DiagonalStrike('up'),
    Notation.DiagonalStrike('down'),

    ['horizontalstrike', {
      renderer: Notation.RenderLine('horizontal', 'Y'),
      bbox: (node) =&gt; [0, node.padding, 0, node.padding]
    }],

    ['verticalstrike', {
      renderer: Notation.RenderLine('vertical', 'X'),
      bbox: (node) =&gt; [node.padding, 0, node.padding, 0]
    }],

    ['box', {
      renderer: (node, _child) =&gt; {
        const {w, h, d} = node.getBBox();
        node.adaptor.append(node.element, node.box(w, h, d));
      },
      bbox: Notation.fullBBox,
      border: Notation.fullBorder,
      remove: 'left right top bottom'
    }],

    ['roundedbox', {
      renderer: (node, _child) =&gt; {
        const {w, h, d} = node.getBBox();
        const r = node.thickness + node.padding;
        node.adaptor.append(node.element, node.box(w, h, d, r));
      },
      bbox: Notation.fullBBox
    }],

    ['circle', {
      renderer: (node, _child) =&gt; {
        const {w, h, d} = node.getBBox();
        node.adaptor.append(node.element, node.ellipse(w, h, d));
      },
      bbox: Notation.fullBBox
    }],

    ['phasorangle', {
      //
      // Use a bottom border and an upward strike properly angled
      //
      renderer: (node, _child) =&gt; {
        const {w, h, d} = node.getBBox();
        const a = node.getArgMod(1.75 * node.padding, h + d)[0];
        const t = node.thickness / 2;
        const HD = h + d;
        const cos = Math.cos(a);
        node.adaptor.append(
          node.element,
          node.path('mitre', 'M', w, t - d,  'L', t + cos * t, t - d,  'L' , cos * HD + t, HD - d - t)
        );
      },
      bbox: (node) =&gt; {
        const p = node.padding / 2;
        const t = node.thickness;
        return [2 * p, p, p + t, 3 * p + t];
      },
      border: (node) =&gt; [0, 0, node.thickness, 0],
      remove: 'bottom'
    }],

    Notation.Arrow('up'),
    Notation.Arrow('down'),
    Notation.Arrow('left'),
    Notation.Arrow('right'),

    Notation.Arrow('updown'),
    Notation.Arrow('leftright'),

    Notation.DiagonalArrow('updiagonal'),  // backward compatibility
    Notation.DiagonalArrow('northeast'),
    Notation.DiagonalArrow('southeast'),
    Notation.DiagonalArrow('northwest'),
    Notation.DiagonalArrow('southwest'),

    Notation.DiagonalArrow('northeastsouthwest'),
    Notation.DiagonalArrow('northwestsoutheast'),

    ['longdiv', {
      //
      // Use a line along the top followed by a half ellipse at the left
      //
      renderer: (node, _child) =&gt; {
        const {w, h, d} = node.getBBox();
        const t = node.thickness / 2;
        const p = node.padding;
        node.adaptor.append(
          node.element,
          node.path('round',
                    'M', t, t - d,
                    'a', p - t / 2, (h + d) / 2 - 4 * t,  0,  '0,1',  0, h + d - 2 * t,
                    'L', w - t, h - t
                   )
        );
      },
      bbox: (node) =&gt; {
        const p = node.padding;
        const t = node.thickness;
        return [p + t, p, p, 2 * p + t / 2];
      }
    }],

    ['radical', {
      //
      //  Use the msqrt rendering, but remove the extra space due to the radical
      //    (it is added in at the end, so other notations overlap the root)
      //
      renderer: (node, child) =&gt; {
        node.msqrt.toSVG(child);
        const left = node.sqrtTRBL()[3];
        node.place(-left, 0, child);
      },
      //
      //  Create the needed msqrt wrapper
      //
      init: (node) =&gt; {
        node.msqrt = node.createMsqrt(node.childNodes[0]);
      },
      //
      //  Add back in the padding for the square root
      //
      bbox: (node) =&gt; node.sqrtTRBL(),
      //
      //  This notation replaces the child
      //
      renderChild: true
    }]

  ] as Notation.DefPair&lt;SVGmenclose&lt;any, any, any&gt;, any&gt;[]);

  /********************************************************/

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2117">public toSVG(parent: N) {
  const svg = this.standardSVGnode(parent);
  //
  //  Create a box at the correct position and add the children
  //
  const left = this.getBBoxExtenders()[3];
  const def: OptionList = {};
  if (left &gt; 0) {
    def.transform = 'translate(' + this.fixed(left) + ', 0)';
  }
  const block = this.adaptor.append(svg, this.svg('g', def));
  if (this.renderChild) {
    this.renderChild(this, block);
  } else {
    this.childNodes[0].toSVG(block);
  }
  //
  //  Render all the notations for this menclose element
  //
  for (const name of Object.keys(this.notations)) {
    const notation = this.notations[name];
    !notation.renderChild &amp;&amp; notation.renderer(this, svg);
  }
}

/********************************************************/

</t>
<t tx="ekr.20211016054411.2118">/**
 * Create an arrow using SVG elements
 *
 * @param {number} W        The length of the arrow
 * @param {number} a        The angle for the arrow
 * @param {boolean} double  True if this is a double-headed arrow
 * @param {string} offset   'X' for vertical arrow, 'Y' for horizontal
 * @param {number} dist     Distance to translate in the offset direction
 * @return {N}              The newly created arrow
 */
public arrow(W: number, a: number, double: boolean, offset: string = '', dist: number = 0): N {
  const {w, h, d} = this.getBBox();
  const dw = (W - w) / 2;
  const m = (h - d) / 2;
  const t = this.thickness;
  const t2 = t / 2;
  const [x, y, dx] = [t * this.arrowhead.x, t * this.arrowhead.y, t * this.arrowhead.dx];
  const arrow =
    (double ?
     this.fill(
       'M', w + dw, m,                            // point of arrow
       'l', -(x + dx), y,  'l', dx, t2 - y,       // upper right head
       'L', x - dw, m + t2,                       // upper side of shaft
       'l', dx, y - t2, 'l', -(x + dx), - y,      // left point
       'l', x + dx, -y,    'l', -dx, y - t2,      // lower left head
       'L', w + dw - x, m - t2,                   // lower side of shaft
       'l', -dx, t2 - y, 'Z'                      // lower head
     ) :
     this.fill(
       'M', w + dw, m,                            // point of arrow
       'l', -(x + dx), y,  'l', dx, t2 - y,       // upper head
       'L', -dw, m + t2, 'l', 0, -t,              // upper side of shaft
       'L', w + dw - x, m - t2,                   // lower side of shaft
       'l', -dx, t2 - y, 'Z'                      // lower head
     ));
  const transform = [];
  if (dist) {
    transform.push(offset === 'X' ? `translate(${this.fixed(-dist)} 0)` : `translate(0 ${this.fixed(dist)})`);
  }
  if (a) {
    const A = this.jax.fixed(-a * 180 / Math.PI);
    transform.push(`rotate(${A} ${this.fixed(w / 2)} ${this.fixed(m)})`);
  }
  if (transform.length) {
    this.adaptor.setAttribute(arrow, 'transform', transform.join(' '));
  }
  return arrow as N;
}

/********************************************************/

</t>
<t tx="ekr.20211016054411.2119">/**
 * Create a line element
 *
 * @param {number[]} pq   The coordinates of the endpoints, [x1, y1, x2, y2]
 * @return {N}            The newly created line element
 */
public line(pq: [number, number, number, number]): N {
  const [x1, y1, x2, y2] = pq;
  return this.svg('line', {
    x1: this.fixed(x1), y1: this.fixed(y1),
    x2: this.fixed(x2), y2: this.fixed(y2),
    'stroke-width': this.fixed(this.thickness)
  });
}

</t>
<t tx="ekr.20211016054411.212">
import {Loader} from '../../../js/components/loader.js';

Loader.preLoad(
  'loader', 'startup',
  'core',
  'input/tex-full',
  'output/chtml', 'output/chtml/fonts/tex.js',
  'ui/menu', 'a11y/assistive-mml'
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2120">/**
 * Create a rectangle element
 *
 * @param {number} w    The width of the rectangle
 * @param {number} h    The height of the rectangle
 * @param {number} d    The depth of the rectangle
 * @param {number=} r   The corner radius for a rounded rectangle
 * @return {N}          The newly created line element
 */
public box(w: number, h: number, d: number, r: number = 0): N {
  const t = this.thickness;
  const def: OptionList = {
    x: this.fixed(t / 2), y: this.fixed(t / 2 - d),
    width: this.fixed(w - t), height: this.fixed(h + d - t),
    fill: 'none', 'stroke-width': this.fixed(t)
  };
  if (r) {
    def.rx = this.fixed(r);
  }
  return this.svg('rect', def);
}

</t>
<t tx="ekr.20211016054411.2121">/**
 * Create an ellipse element
 *
 * @param {number} w  The width of the ellipse
 * @param {number} h  The height of the ellipse
 * @param {number} d  The depth of the ellipse
 * @return {N}        The newly created ellipse node
 */
public ellipse(w: number, h: number, d: number): N {
  const t = this.thickness;
  return this.svg('ellipse', {
    rx: this.fixed((w - t) / 2), ry: this.fixed((h + d - t) / 2),
    cx: this.fixed(w / 2), cy: this.fixed((h - d) / 2),
    'fill': 'none', 'stroke-width': this.fixed(t)
  });
}

</t>
<t tx="ekr.20211016054411.2122">/**
 * Create a path element from the commands that specify it
 *
 * @param {string} join           The join style for the path
 * @param {(string|number)[]} P   The list of commands and coordinates for the path
 * @return {N}                    The newly created path
 */
public path(join: string, ...P: (string | number)[]): N {
  return this.svg('path', {
    d: P.map(x =&gt; (typeof x === 'string' ? x : this.fixed(x))).join(' '),
    style: {'stroke-width': this.fixed(this.thickness)},
    'stroke-linecap': 'round', 'stroke-linejoin': join,
    fill: 'none'
  });
}

</t>
<t tx="ekr.20211016054411.2123">/**
 * Create a filled path element from the commands the specify it
 *   (same as path above, but no thickness adjustments)
 *
 * @param {(string|number)[]} P   The list of commands and coordinates for the path
 * @return {N}                    The newly created path
 */
  public fill(...P: (string | number)[]): N {
    return this.svg('path', {
      d: P.map(x =&gt; (typeof x === 'string' ? x : this.fixed(x))).join(' ')
    });
  }

}
</t>
<t tx="ekr.20211016054411.2124">


/**
 * @fileoverview  Implements the SVGmerror wrapper for the MmlMerror object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper} from '../Wrapper.js';
import {MmlMerror} from '../../../core/MmlTree/MmlNodes/merror.js';
import {StyleList} from '../../../util/StyleList.js';

/*****************************************************************/
/**
 *  The SVGmerror wrapper for the MmlMerror object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2125">export class SVGmerror&lt;N, T, D&gt; extends SVGWrapper&lt;N, T, D&gt; {

  /**
   * The merror wrapper
   */
  public static kind = MmlMerror.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'g[data-mml-node="merror"] &gt; g': {
      fill: 'red',
      stroke: 'red'
    },
    'g[data-mml-node="merror"] &gt; rect[data-background]': {
      fill: 'yellow',
      stroke: 'none'
    }
  };

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2126">public toSVG(parent: N) {
  const svg = this.standardSVGnode(parent);
  const {h, d, w} = this.getBBox();
  this.adaptor.append(this.element, this.svg('rect', {
    'data-background': true,
    width: this.fixed(w), height: this.fixed(h + d), y: this.fixed(-d)
  }));
  const title = this.node.attributes.get('title') as string;
  if (title) {
    this.adaptor.append(this.element, this.svg('title', {}, [this.adaptor.text(title)]));
  }
  this.addChildren(svg);
}

</t>
<t tx="ekr.20211016054411.2127">


/**
 * @fileoverview  Implements the SVGmfenced wrapper for the MmlMfenced object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonMfencedMixin} from '../../common/Wrappers/mfenced.js';
import {MmlMfenced} from '../../../core/MmlTree/MmlNodes/mfenced.js';
import {SVGinferredMrow} from './mrow.js';

/*****************************************************************/
/**
 * The SVGmfenced wrapper for the MmlMfenced object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2128">export class SVGmfenced&lt;N, T, D&gt; extends CommonMfencedMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The mfenced wrapper
   */
  public static kind = MmlMfenced.prototype.kind;

  /**
   * An mrow used to render the result
   */
  public mrow: SVGinferredMrow&lt;N, T, D&gt;;

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2129">public toSVG(parent: N) {
  const svg = this.standardSVGnode(parent);
  this.setChildrenParent(this.mrow);  // temporarily change parents to the mrow
  this.mrow.toSVG(svg);
  this.setChildrenParent(this);       // put back the correct parents
}

/**
 * @param {SVGWrapper} parent   The parent to use for the fenced children
 */
protected setChildrenParent(parent: SVGWrapper&lt;N, T, D&gt;) {
  for (const child of this.childNodes) {
    child.parent = parent;
  }
}

</t>
<t tx="ekr.20211016054411.213">
import '../startup/lib/startup.js';
import './preload.js';
import '../core/core.js';
import '../input/tex-full/tex-full.js';
import '../output/chtml/chtml.js';
import '../output/chtml/fonts/tex/tex.js';
import '../ui/menu/menu.js';
import '../a11y/assistive-mml/assistive-mml.js';
import '../startup/startup.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2130">


/**
 * @fileoverview  Implements the SVGmfrac wrapper for the MmlMfrac object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonMfracMixin} from '../../common/Wrappers/mfrac.js';
import {MmlMfrac} from '../../../core/MmlTree/MmlNodes/mfrac.js';
import {SVGmo} from './mo.js';

/*****************************************************************/
/**
 * The SVGmfrac wrapper for the MmlMfrac object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2131">export class SVGmfrac&lt;N, T, D&gt; extends CommonMfracMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The mfrac wrapper
   */
  public static kind = MmlMfrac.prototype.kind;

  /**
   * An mo element used to render bevelled fractions
   */
  public bevel: SVGmo&lt;N, T, D&gt;;

  /************************************************/

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2132">public toSVG(parent: N) {
  this.standardSVGnode(parent);
  const {linethickness, bevelled} = this.node.attributes.getList('linethickness', 'bevelled');
  const display = this.isDisplay();
  if (bevelled) {
    this.makeBevelled(display);
  } else {
    const thickness = this.length2em(String(linethickness), .06);
    if (thickness === 0) {
      this.makeAtop(display);
    } else {
      this.makeFraction(display, thickness);
    }
  }
}

/************************************************/

/**
 * @param {boolean} display  True when fraction is in display mode
 * @param {number} t         The rule line thickness
 */
protected makeFraction(display: boolean, t: number) {
  const svg = this.element;
  const {numalign, denomalign} = this.node.attributes.getList('numalign', 'denomalign');
  const [num, den] = this.childNodes;
  const nbox = num.getBBox();
  const dbox = den.getBBox();

  const tex = this.font.params;
  const a = tex.axis_height;
  const d = .1; // line's extra left- and right-padding
  const pad = (this.node.getProperty('withDelims') ? 0 : tex.nulldelimiterspace);
  const W = Math.max((nbox.L + nbox.w + nbox.R) * nbox.rscale,
                     (dbox.L + dbox.w + dbox.R) * dbox.rscale);
  const nx = this.getAlignX(W, nbox, numalign as string) + d + pad;
  const dx = this.getAlignX(W, dbox, denomalign as string) + d + pad;
  const {T, u, v} = this.getTUV(display, t);

  num.toSVG(svg);
  num.place(nx, a + T + Math.max(nbox.d * nbox.rscale, u));
  den.toSVG(svg);
  den.place(dx, a - T - Math.max(dbox.h * dbox.rscale, v));

  this.adaptor.append(svg, this.svg('rect', {
    width: this.fixed(W + 2 * d), height: this.fixed(t),
    x: this.fixed(pad), y: this.fixed(a - t / 2)
  }));
}

/************************************************/

/**
 * @param {boolean} display  True when fraction is in display mode
 */
protected makeAtop(display: boolean) {
  const svg = this.element;
  const {numalign, denomalign} = this.node.attributes.getList('numalign', 'denomalign');
  const [num, den] = this.childNodes;
  const nbox = num.getBBox();
  const dbox = den.getBBox();

  const tex = this.font.params;
  const pad = (this.node.getProperty('withDelims') ? 0 : tex.nulldelimiterspace);
  const W = Math.max((nbox.L + nbox.w + nbox.R) * nbox.rscale,
                     (dbox.L + dbox.w + dbox.R) * dbox.rscale);
  const nx = this.getAlignX(W, nbox, numalign as string) + pad;
  const dx = this.getAlignX(W, dbox, denomalign as string) + pad;
  const {u, v} = this.getUVQ(display);

  num.toSVG(svg);
  num.place(nx, u);
  den.toSVG(svg);
  den.place(dx, -v);
}

/************************************************/

/**
 * @param {boolean} display  True when fraction is in display mode
 */
protected makeBevelled(display: boolean) {
  const svg = this.element;
  const [num, den] = this.childNodes;
  const {u, v, delta, nbox, dbox} = this.getBevelData(display);
  const w = (nbox.L + nbox.w + nbox.R) * nbox.rscale;

  num.toSVG(svg);
  this.bevel.toSVG(svg);
  den.toSVG(svg);

  num.place(nbox.L * nbox.rscale, u);
  this.bevel.place(w - delta / 2, 0);
  den.place(w + this.bevel.getBBox().w + dbox.L * dbox.rscale - delta, v);
}

</t>
<t tx="ekr.20211016054411.2133">


/**
 * @fileoverview  Implements the SVGmglyph wrapper for the MmlMglyph object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonMglyphMixin} from '../../common/Wrappers/mglyph.js';
import {MmlMglyph} from '../../../core/MmlTree/MmlNodes/mglyph.js';
import {OptionList} from '../../../util/Options.js';

/*****************************************************************/
/**
 * The SVGmglyph wrapper for the MmlMglyph object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmglyph&lt;N, T, D&gt; extends
CommonMglyphMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The mglyph wrapper
   */
  public static kind = MmlMglyph.prototype.kind;

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2134">  public toSVG(parent: N) {
    const svg = this.standardSVGnode(parent);
    const {src, alt} = this.node.attributes.getList('src', 'alt');
    const h = this.fixed(this.height);
    const w = this.fixed(this.width);
    const y = this.fixed(this.height + (this.valign || 0));
    const properties: OptionList = {
      width: w, height: h,
      transform: 'translate(0 ' + y + ') matrix(1 0 0 -1 0 0)',
      preserveAspectRatio: 'none',
      'aria-label': alt,
      href: src
    };
    const img = this.svg('image', properties);
    this.adaptor.append(svg, img);
  }

}
</t>
<t tx="ekr.20211016054411.2135">


/**
 * @fileoverview  Implements the SVGmi wrapper for the MmlMi object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonMiMixin} from '../../common/Wrappers/mi.js';
import {MmlMi} from '../../../core/MmlTree/MmlNodes/mi.js';

/*****************************************************************/
/**
 *  The SVGmi wrapper for the MmlMi object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmi&lt;N, T, D&gt; extends
CommonMiMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The mi wrapper
   */
  public static kind = MmlMi.prototype.kind;

}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2136">


/**
 * @fileoverview  Implements the SVGmmultiscripts wrapper for the MmlMmultiscripts object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, Constructor} from '../Wrapper.js';
import {SVGmsubsup} from './msubsup.js';
import {CommonMmultiscriptsMixin} from '../../common/Wrappers/mmultiscripts.js';
import {MmlMmultiscripts} from '../../../core/MmlTree/MmlNodes/mmultiscripts.js';

/*****************************************************************/
/**
 * The SVGmmultiscripts wrapper for the MmlMmultiscripts object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmmultiscripts&lt;N, T, D&gt; extends
CommonMmultiscriptsMixin&lt;SVGWrapper&lt;any, any, any&gt;, Constructor&lt;SVGmsubsup&lt;any, any, any&gt;&gt;&gt;(SVGmsubsup) {

  /**
   * The mmultiscripts wrapper
   */
  public static kind = MmlMmultiscripts.prototype.kind;

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2137">  public toSVG(parent: N) {
    const svg = this.standardSVGnode(parent);
    const data = this.scriptData;
    //
    //  Combine the bounding boxes of the pre- and post-scripts,
    //  and get the resulting baseline offsets
    //
    const sub = this.combinePrePost(data.sub, data.psub);
    const sup = this.combinePrePost(data.sup, data.psup);
    const [u, v] = this.getUVQ(sub, sup);
    //
    //  Place the pre-scripts, then the base, then the post-scripts
    //
    let x = 0;  // scriptspace
    if (data.numPrescripts) {
      x = this.addScripts(.05, u, v, true, this.firstPrescript, data.numPrescripts);
    }
    const base = this.baseChild;
    base.toSVG(svg);
    base.place(x, 0);
    x += base.getBBox().w;
    if (data.numScripts) {
      this.addScripts(x, u, v, false, 1, data.numScripts);
    }
  }

  /**
   * Create a table with the super and subscripts properly separated and aligned.
   *
   * @param {number} x       The x offset of the scripts
   * @param {number} u       The baseline offset for the superscripts
   * @param {number} v       The baseline offset for the subscripts
   * @param {boolean} isPre  True for prescripts, false for scripts
   * @param {number} i       The starting index for the scripts
   * @param {number} n       The number of sub/super-scripts
   * @return {number}        The right-hand offset of the scripts
   */
  protected addScripts(x: number, u: number, v: number, isPre: boolean, i: number, n: number): number {
    const adaptor = this.adaptor;
    const supRow = adaptor.append(this.element, this.svg('g'));
    const subRow = adaptor.append(this.element, this.svg('g'));
    this.place(x, u, supRow);
    this.place(x, v, subRow);
    let m = i + 2 * n;
    let dx = 0;
    while (i &lt; m) {
      const [sub, sup] = [this.childNodes[i++], this.childNodes[i++]];
      const [subbox, supbox] = [sub.getBBox(), sup.getBBox()];
      const [subr, supr] = [subbox.rscale, supbox.rscale];
      const w = Math.max(subbox.w * subr, supbox.w * supr);
      sub.toSVG(subRow);
      sup.toSVG(supRow);
      sub.place(dx + (isPre ? w - subbox.w * subr : 0), 0);
      sup.place(dx + (isPre ? w - supbox.w * supr : 0), 0);
      dx += w;
    }
    return x + dx;
  }

}
</t>
<t tx="ekr.20211016054411.2138">


/**
 * @fileoverview  Implements the SVGmn wrapper for the MmlMn object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonMnMixin} from '../../common/Wrappers/mn.js';
import {MmlMn} from '../../../core/MmlTree/MmlNodes/mn.js';

/*****************************************************************/
/**
 * The SVGmn wrapper for the MmlMn object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmn&lt;N, T, D&gt; extends
CommonMnMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The mn wrapper
   */
  public static kind = MmlMn.prototype.kind;

}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2139">



/**
 * @fileoverview  Implements the SVGmo wrapper for the MmlMo object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonMoMixin} from '../../common/Wrappers/mo.js';
import {MmlMo} from '../../../core/MmlTree/MmlNodes/mo.js';
import {BBox} from '../../../util/BBox.js';
import {DIRECTION, SVGCharData, SVGCharOptions} from '../FontData.js';


/*****************************************************************/

const VFUZZ = 0.1;       // overlap for vertical stretchy glyphs
const HFUZZ = 0.1;       // overlap for horizontal stretchy glyphs

/*****************************************************************/
/**
 * The SVGmo wrapper for the MmlMo object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmo&lt;N, T, D&gt; extends
CommonMoMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The mo wrapper
   */
  public static kind = MmlMo.prototype.kind;

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.214">
const PACKAGE = require('../../webpack.common.js');

module.exports = PACKAGE(
  'tex-chtml-full',                   // the package to build
  '../../../js',                      // location of the MathJax js library
  [],                                 // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2140">  public toSVG(parent: N) {
    const attributes = this.node.attributes;
    const symmetric = (attributes.get('symmetric') as boolean) &amp;&amp; this.stretch.dir !== DIRECTION.Horizontal;
    const stretchy = this.stretch.dir !== DIRECTION.None;
    if (stretchy &amp;&amp; this.size === null) {
      this.getStretchedVariant([]);
    }
    let svg = this.standardSVGnode(parent);
    if (stretchy &amp;&amp; this.size &lt; 0) {
      this.stretchSVG();
    } else {
      const u = (symmetric || attributes.get('largeop') ? this.fixed(this.getCenterOffset()) : '0');
      const v = (this.node.getProperty('mathaccent') ? this.fixed(this.getAccentOffset()) : '0');
      if (u !== '0' || v !== '0') {
        this.adaptor.setAttribute(svg, 'transform', `translate(${v} ${u})`);
      }
      this.addChildren(svg);
    }
  }

  /**
   * Create the SVG for a multi-character stretchy delimiter
   */
  protected stretchSVG() {
    const stretch = this.stretch.stretch;
    const variants = this.getStretchVariants();
    const bbox = this.getBBox();
    if (this.stretch.dir === DIRECTION.Vertical) {
      this.stretchVertical(stretch, variants, bbox);
    } else {
      this.stretchHorizontal(stretch, variants, bbox);
    }
  }

  /**
   * Get the variant array for the assembly pieces
   */
  protected getStretchVariants() {
    const c = this.stretch.c || this.getText().codePointAt(0);
    const variants = [] as string[];
    for (const i of this.stretch.stretch.keys()) {
      variants[i] = this.font.getStretchVariant(c, i);
    }
    return variants;
  }

  /**
   * @param {number[]} stretch    The characters to use for stretching
   * @param {string[]} variant    The variants for the parts to use for stretching
   * @param {BBox} bbox           The full size of the stretched character
   */
  protected stretchVertical(stretch: number[], variant: string[], bbox: BBox) {
    const {h, d, w} = bbox;
    const T = this.addTop(stretch[0], variant[0], h, w);
    const B = this.addBot(stretch[2], variant[2], d, w);
    if (stretch.length === 4) {
      const [H, D] = this.addMidV(stretch[3], variant[3], w);
      this.addExtV(stretch[1], variant[1], h, 0, T, H, w);
      this.addExtV(stretch[1], variant[1], 0, d, D, B, w);
    } else {
      this.addExtV(stretch[1], variant[1], h, d, T, B, w);
    }
  }

  /**
   * @param {number[]} stretch    The characters to use for stretching
   * @param {string[]} variant    The variants for the parts to use for stretching
   * @param {BBox} bbox           The full size of the stretched character
   */
  protected stretchHorizontal(stretch: number[], variant: string[], bbox: BBox) {
    const w = bbox.w;
    const L = this.addLeft(stretch[0], variant[0]);
    const R = this.addRight(stretch[2], variant[2], w);
    if (stretch.length === 4) {
      const [x1, x2] = this.addMidH(stretch[3], variant[3], w);
      const w2 = w / 2;
      this.addExtH(stretch[1], variant[1], w2, L, w2 - x1);
      this.addExtH(stretch[1], variant[1], w2, x2 - w2, R, w2);
    } else {
      this.addExtH(stretch[1], variant[1], w, L, R);
    }
  }

  /***********************************************************/

  /**
   * @param {number} n         The number of the character to look up
   * @param {string} variant   The variant for the character to look up
   * @return {SVGCharData}     The full CharData object, with CharOptions guaranteed to be defined
   */
  protected getChar(n: number, variant: string): SVGCharData {
    const char = this.font.getChar(variant, n) || [0, 0, 0, null];
    return [char[0], char[1], char[2], char[3] || {}] as [number, number, number, SVGCharOptions];
  }

  /**
   * @param {number} n         The character code for the glyph
   * @param {string} variant   The variant for the glyph
   * @param {number} x         The x position of the glyph
   * @param {number} y         The y position of the glyph
   * @param {N} parent         The container for the glyph
   * @return {number}          The width of the character placed
   */
  protected addGlyph(n: number, variant: string, x: number, y: number, parent: N = null): number {
    return this.placeChar(n, x, y, parent || this.element, variant);
  }

  /***********************************************************/

  /**
   * @param {number} n    The character number for the top glyph
   * @param {string} v    The variant for the top glyph
   * @param {number} H    The height of the stretched delimiter
   * @param {number} W    The width of the stretched delimiter
   * @return {number}     The total height of the top glyph
   */
  protected addTop(n: number, v: string, H: number, W: number): number {
    if (!n)  return 0;
    const [h, d, w] = this.getChar(n, v);
    this.addGlyph(n, v, (W - w) / 2, H - h);
    return h + d;
  }

  /**
   * @param {number} n    The character number for the extender glyph
   * @param {string} v    The variant for the extender glyph
   * @param {number} H    The height of the stretched delimiter
   * @param {number} D    The depth of the stretched delimiter
   * @param {number} T    The height of the top glyph in the delimiter
   * @param {number} B    The height of the bottom glyph in the delimiter
   * @param {number} W    The width of the stretched delimiter
   */
  protected addExtV(n: number, v: string, H: number, D: number, T: number, B: number, W: number) {
    if (!n) return;
    T = Math.max(0, T - VFUZZ);              // A little overlap on top
    B = Math.max(0, B - VFUZZ);              // A little overlap on bottom
    const adaptor = this.adaptor;
    const [h, d, w] = this.getChar(n, v);
    const Y = H + D - T - B;                 // The height of the extender
    const s = 1.5 * Y / (h + d);             // Scale height by 1.5 to avoid bad ends
    //   (glyphs with rounded or anti-aliased ends don't stretch well,
    //    so this makes for sharper ends)
    const y = (s * (h - d) - Y) / 2;         // The bottom point to clip the extender
    if (Y &lt;= 0) return;
    const svg = this.svg('svg', {
      width: this.fixed(w), height: this.fixed(Y),
      y: this.fixed(B - D), x: this.fixed((W - w) / 2),
      viewBox: [0, y, w, Y].map(x =&gt; this.fixed(x)).join(' ')
    });
    this.addGlyph(n, v, 0, 0, svg);
    const glyph = adaptor.lastChild(svg);
    adaptor.setAttribute(glyph, 'transform', `scale(1,${this.jax.fixed(s)})`);
    adaptor.append(this.element, svg);
  }

  /**
   * @param {number} n    The character number for the bottom glyph
   * @param {string} v    The variant for the bottom glyph
   * @param {number} D    The depth of the stretched delimiter
   * @param {number} W    The width of the stretched delimiter
   * @return {number}     The total height of the bottom glyph
   */
  protected addBot(n: number, v: string, D: number, W: number): number {
    if (!n) return 0;
    const [h, d, w] = this.getChar(n, v);
    this.addGlyph(n, v, (W - w) / 2, d - D);
    return h + d;
  }

  /**
   * @param {number} n    The character number for the middle glyph
   * @param {string} v    The variant for the middle glyph
   * @param {number} W    The width of the stretched delimiter
   * @return {[number, number]}   The top and bottom positions of the middle glyph
   */
  protected addMidV(n: number, v: string, W: number): [number, number] {
    if (!n) return [0, 0];
    const [h, d, w] = this.getChar(n, v);
    const y = (d - h) / 2 + this.font.params.axis_height;
    this.addGlyph(n, v, (W - w) / 2, y);
    return [h + y, d - y];
  }

  /***********************************************************/

  /**
   * @param {number} n   The character number for the left glyph of the stretchy character
   * @param {string} v   The variant for the left glyph
   * @return {number}    The width of the left glyph
   */
  protected addLeft(n: number, v: string): number {
    return (n ? this.addGlyph(n, v, 0, 0) : 0);
  }

  /**
   * @param {number} n   The character number for the extender glyph of the stretchy character
   * @param {string} v   The variant for the extender glyph
   * @param {number} W   The width of the stretched character
   * @param {number} L   The width of the left glyph of the stretchy character
   * @param {number} R   The width of the right glyph of the stretchy character
   * @param {number} x   The x-position of the extender (needed for ones with two extenders)
   */
  protected addExtH(n: number, v: string, W: number, L: number, R: number, x: number = 0) {
    if (!n) return;
    R = Math.max(0, R - HFUZZ);     // A little less than the width of the right glyph
    L = Math.max(0, L - HFUZZ);     // A little less than the width of the left glyph
    const adaptor = this.adaptor;
    const [h, d, w] = this.getChar(n, v);
    const X = W - L - R;            // The width of the extender
    const Y = h + d + 2 * VFUZZ;    // The height (plus some fuzz) of the extender
    const s = 1.5 * (X / w);        // Scale the width so that left- and right-bearing won't hurt us
    const D = -(d + VFUZZ);         // The bottom position of the glyph
    if (X &lt;= 0) return;
    const svg = this.svg('svg', {
      width: this.fixed(X), height: this.fixed(Y),
      x: this.fixed(x + L), y: this.fixed(D),
      viewBox: [(s * w - X) / 2, D, X, Y].map(x =&gt; this.fixed(x)).join(' ')
    });
    this.addGlyph(n, v, 0, 0, svg);
    const glyph = adaptor.lastChild(svg);
    adaptor.setAttribute(glyph, 'transform', 'scale(' + this.jax.fixed(s) + ',1)');
    adaptor.append(this.element, svg);
  }

  /**
   * @param {number} n   The character number for the right glyph of the stretchy character
   * @param {string} v   The variant for the right glyph
   * @param {number} W   The width of the stretched character
   * @return {number}    The width of the right glyph
   */
  protected addRight(n: number, v: string, W: number): number {
    if (!n) return 0;
    const w = this.getChar(n, v)[2];
    return this.addGlyph(n, v, W - w, 0);
  }

  /**
   * @param {number} n   The character number for the middle glyph of the stretchy character
   * @param {string} v   The variant for the middle glyph
   * @param {number} W   The width of the stretched character
   * @return {[number, number]}  The positions of the left and right edges of the middle glyph
   */
  protected addMidH(n: number, v: string, W: number): [number, number] {
    if (!n) return [0, 0];
    const w = this.getChar(n, v)[2];
    this.addGlyph(n, v, (W - w) / 2, 0);
    return [(W - w) / 2, (W + w) / 2];
  }

}
</t>
<t tx="ekr.20211016054411.2141">


/**
 * @fileoverview  Implements the SVGmpadded wrapper for the MmlMpadded object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonMpaddedMixin} from '../../common/Wrappers/mpadded.js';
import {MmlMpadded} from '../../../core/MmlTree/MmlNodes/mpadded.js';

/*****************************************************************/
/**
 * The SVGmpadded wrapper for the MmlMpadded object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmpadded&lt;N, T, D&gt; extends
CommonMpaddedMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The mpadded wrapper
   */
  public static kind = MmlMpadded.prototype.kind;

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2142">  public toSVG(parent: N) {
    let svg = this.standardSVGnode(parent);
    const [ , , , , , dw, x, y, dx] = this.getDimens();
    const align = (this.node.attributes.get('data-align') as string) || 'left';
    const X = x + dx - (dw &lt; 0 &amp;&amp; align !== 'left' ? align === 'center' ? dw / 2 : dw : 0);
    //
    // If there is a horizontal or vertical shift,
    //   use relative positioning to move the contents
    //
    if (X || y) {
      svg = this.adaptor.append(svg, this.svg('g'));
      this.place(X, y, svg);
    }
    this.addChildren(svg);
  }

}
</t>
<t tx="ekr.20211016054411.2143">


/**
 * @fileoverview  Implements the SVGmphantom wrapper for the MmlMphantom object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper} from '../Wrapper.js';
import {MmlMphantom} from '../../../core/MmlTree/MmlNodes/mphantom.js';

/*****************************************************************/
/**
 *  The SVGmi wrapper for the MmlMi object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2144">export class SVGmphantom&lt;N, T, D&gt; extends SVGWrapper&lt;N, T, D&gt; {

  /**
   * The mphantom wrapper
   */
  public static kind = MmlMphantom.prototype.kind;

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2145">public toSVG(parent: N) {
  this.standardSVGnode(parent);
}

</t>
<t tx="ekr.20211016054411.2146">


/**
 * @fileoverview  Implements the SVGMroot wrapper for the MmlMroot object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, Constructor} from '../Wrapper.js';
import {SVGmsqrt} from './msqrt.js';
import {CommonMrootMixin} from '../../common/Wrappers/mroot.js';
import {BBox} from '../../../util/BBox.js';
import {MmlMroot} from '../../../core/MmlTree/MmlNodes/mroot.js';

/*****************************************************************/
/**
 * The SVGmroot wrapper for the MmlMroot object (extends SVGmsqrt)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2147">export class SVGmroot&lt;N, T, D&gt; extends CommonMrootMixin&lt;Constructor&lt;SVGmsqrt&lt;any, any, any&gt;&gt;&gt;(SVGmsqrt) {

  /**
   * The mroot wrapper
   */
  public static kind = MmlMroot.prototype.kind;

  /**
   * @override
   */
  protected addRoot(ROOT: N, root: SVGWrapper&lt;N, T, D&gt;, sbox: BBox, H: number) {
    root.toSVG(ROOT);
    const [x, h, dx] = this.getRootDimens(sbox, H);
    const bbox = root.getBBox();
    root.place(dx * bbox.rscale, h);
    this.dx = x;
  }

}
</t>
<t tx="ekr.20211016054411.2148">


/**
 * @fileoverview  Implements the SVGmrow wrapper for the MmlMrow object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor, Constructor} from '../Wrapper.js';
import {CommonMrowMixin} from '../../common/Wrappers/mrow.js';
import {CommonInferredMrowMixin} from '../../common/Wrappers/mrow.js';
import {MmlMrow, MmlInferredMrow} from '../../../core/MmlTree/MmlNodes/mrow.js';

/*****************************************************************/
/**
 * The SVGmrow wrapper for the MmlMrow object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmrow&lt;N, T, D&gt; extends
CommonMrowMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The mrow wrapper
   */
  public static kind = MmlMrow.prototype.kind;

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2149">  public toSVG(parent: N) {
    const svg = (this.node.isInferred ? (this.element = parent) : this.standardSVGnode(parent));
    this.addChildren(svg);
    // FIXME:  handle line breaks
  }

}

/*****************************************************************/
/**
 *  The SVGinferredMrow wrapper for the MmlInferredMrow object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGinferredMrow&lt;N, T, D&gt; extends
CommonInferredMrowMixin&lt;Constructor&lt;SVGmrow&lt;any, any, any&gt;&gt;&gt;(SVGmrow) {

  /**
   * The inferred-mrow wrapper
   */
  public static kind = MmlInferredMrow.prototype.kind;

}
</t>
<t tx="ekr.20211016054411.215"></t>
<t tx="ekr.20211016054411.2150">


/**
 * @fileoverview  Implements the SVGms wrapper for the MmlMs object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonMsMixin} from '../../common/Wrappers/ms.js';
import {MmlMs} from '../../../core/MmlTree/MmlNodes/ms.js';

/*****************************************************************/
/**
 * The SVGms wrapper for the MmlMs object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGms&lt;N, T, D&gt; extends
CommonMsMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The ms wrapper
   */
  public static kind = MmlMs.prototype.kind;

}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2151">


/**
 * @fileoverview  Implements the SVGmspace wrapper for the MmlMspace object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonMspaceMixin} from '../../common/Wrappers/mspace.js';
import {MmlMspace} from '../../../core/MmlTree/MmlNodes/mspace.js';

/*****************************************************************/
/**
 * The SVGmspace wrapper for the MmlMspace object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmspace&lt;N, T, D&gt; extends
CommonMspaceMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The mspace wrapper
   */
  public static kind = MmlMspace.prototype.kind;

}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2152">


/**
 * @fileoverview  Implements the SVGmsqrt wrapper for the MmlMsqrt object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonMsqrtMixin} from '../../common/Wrappers/msqrt.js';
import {BBox} from '../../../util/BBox.js';
import {MmlMsqrt} from '../../../core/MmlTree/MmlNodes/msqrt.js';

/*****************************************************************/
/**
 * The SVGmsqrt wrapper for the MmlMsqrt object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2153">export class SVGmsqrt&lt;N, T, D&gt; extends CommonMsqrtMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The msqrt wrapper
   */
  public static kind = MmlMsqrt.prototype.kind;

  /**
   * Indent due to root
   */
  public dx: number = 0;

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2154">public toSVG(parent: N) {
  const surd = this.childNodes[this.surd];
  const base = this.childNodes[this.base];
  const root = (this.root ? this.childNodes[this.root] : null);
  //
  //  Get the parameters for the spacing of the parts
  //
  const rbox = this.getBBox();
  const sbox = surd.getBBox();
  const bbox = base.getBBox();
  const q = this.getPQ(sbox)[1];
  const t = this.font.params.rule_thickness * this.bbox.scale;
  const H = bbox.h + q + t;
  //
  //  Create the SVG structure for the root
  //
  const SVG = this.standardSVGnode(parent);
  const BASE = this.adaptor.append(SVG, this.svg('g'));
  //
  //  Place the children
  //
  this.addRoot(SVG, root, sbox, H);
  surd.toSVG(SVG);
  surd.place(this.dx, rbox.h - sbox.h - t);
  base.toSVG(BASE);
  base.place(this.dx + sbox.w, 0);
  this.adaptor.append(SVG, this.svg('rect', {
    width: this.fixed(bbox.w), height: this.fixed(t),
    x: this.fixed(this.dx + sbox.w), y: this.fixed(rbox.h - 2 * t)
  }));
}

/**
 * Add root HTML (overridden in mroot)
 *
 * @param {N} ROOT           The container for the root
 * @param {SVGWrapper} root  The wrapped MML root content
 * @param {BBox} sbox        The bounding box of the surd
 * @param {number} H         The height of the root as a whole
 */
protected addRoot(_ROOT: N, _root: SVGWrapper&lt;N, T, D&gt;, _sbox: BBox, _H: number) {
}

</t>
<t tx="ekr.20211016054411.2155">


/**
 * @fileoverview  Implements the SVGmsubsup wrapper for the MmlMsubsup object
 *                and the special cases SVGmsub and SVGmsup
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, Constructor} from '../Wrapper.js';
import {SVGscriptbase} from './scriptbase.js';
import {CommonMsubMixin} from '../../common/Wrappers/msubsup.js';
import {CommonMsupMixin} from '../../common/Wrappers/msubsup.js';
import {CommonMsubsupMixin} from '../../common/Wrappers/msubsup.js';
import {MmlMsubsup, MmlMsub, MmlMsup} from '../../../core/MmlTree/MmlNodes/msubsup.js';

/*****************************************************************/
/**
 * The SVGmsub wrapper for the MmlMsub object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmsub&lt;N, T, D&gt; extends
CommonMsubMixin&lt;SVGWrapper&lt;any, any, any&gt;, Constructor&lt;SVGscriptbase&lt;any, any, any&gt;&gt;&gt;(SVGscriptbase)  {

  /**
   * The msub wrapper
   */
  public static kind = MmlMsub.prototype.kind;

}

/*****************************************************************/
/**
 * The SVGmsup wrapper for the MmlMsup object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmsup&lt;N, T, D&gt; extends
CommonMsupMixin&lt;SVGWrapper&lt;any, any, any&gt;, Constructor&lt;SVGscriptbase&lt;any, any, any&gt;&gt;&gt;(SVGscriptbase)  {

  /**
   * The msup wrapper
   */
  public static kind = MmlMsup.prototype.kind;

}

/*****************************************************************/
/**
 * The SVGmsubsup wrapper for the MmlMsubsup object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmsubsup&lt;N, T, D&gt; extends
CommonMsubsupMixin&lt;SVGWrapper&lt;any, any, any&gt;, Constructor&lt;SVGscriptbase&lt;any, any, any&gt;&gt;&gt;(SVGscriptbase)  {

  /**
   * The msubsup wrapper
   */
  public static kind = MmlMsubsup.prototype.kind;

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2156">  public toSVG(parent: N) {
    const svg = this.standardSVGnode(parent);
    const [base, sup, sub] = [this.baseChild, this.supChild, this.subChild];
    const w = this.getBaseWidth();
    const x = this.getAdjustedIc();
    const [u, v] = this.getUVQ();

    base.toSVG(svg);
    sup.toSVG(svg);
    sub.toSVG(svg);

    sub.place(w, v);
    sup.place(w + x, u);
  }

}
</t>
<t tx="ekr.20211016054411.2157">


/**
 * @fileoverview  Implements the SVGmtable wrapper for the MmlMtable object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {SVGWrapperFactory} from '../WrapperFactory.js';
import {CommonMtableMixin} from '../../common/Wrappers/mtable.js';
import {SVGmtr} from './mtr.js';
import {SVGmtd} from './mtd.js';
import {MmlMtable} from '../../../core/MmlTree/MmlNodes/mtable.js';
import {MmlNode} from '../../../core/MmlTree/MmlNode.js';
import {OptionList} from '../../../util/Options.js';
import {StyleList} from '../../../util/StyleList.js';

const CLASSPREFIX = 'mjx-';

/*****************************************************************/
/**
 * The SVGmtable wrapper for the MmlMtable object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class SVGmtable&lt;N, T, D&gt; extends
CommonMtableMixin&lt;SVGmtd&lt;any, any, any&gt;, SVGmtr&lt;any, any, any&gt;, SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The mtable wrapper
   */
  public static kind = MmlMtable.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'g[data-mml-node="mtable"] &gt; line[data-line], svg[data-table] &gt; g &gt; line[data-line]': {
      'stroke-width': '70px',
      fill: 'none'
    },
    'g[data-mml-node="mtable"] &gt; rect[data-frame], svg[data-table] &gt; g &gt; rect[data-frame]': {
      'stroke-width': '70px',
      fill: 'none'
    },
    'g[data-mml-node="mtable"] &gt; .mjx-dashed, svg[data-table] &gt; g &gt; .mjx-dashed': {
      'stroke-dasharray': '140'
    },
    'g[data-mml-node="mtable"] &gt; .mjx-dotted, svg[data-table] &gt; g &gt; .mjx-dotted': {
      'stroke-linecap': 'round',
      'stroke-dasharray': '0,140'
    },
    'g[data-mml-node="mtable"] &gt; g &gt; svg': {
      overflow: 'visible'
    }
  };

  /**
   * The column for labels
   */
  public labels: N;

  /******************************************************************/

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2158">constructor(factory: SVGWrapperFactory&lt;N, T, D&gt;, node: MmlNode, parent: SVGWrapper&lt;N, T, D&gt; = null) {
  super(factory, node, parent);
  const def: OptionList = {'data-labels': true};
  if (this.isTop) {
    def.transform = 'matrix(1 0 0 -1 0 0)';
  }
  this.labels = this.svg('g', def);
}

</t>
<t tx="ekr.20211016054411.2159">/**
 * @override
 */
public toSVG(parent: N) {
  const svg = this.standardSVGnode(parent);
  this.placeRows(svg);
  this.handleColumnLines(svg);
  this.handleRowLines(svg);
  this.handleFrame(svg);
  const dx = this.handlePWidth(svg);
  this.handleLabels(svg, parent, dx);
}

/**
 * @param {N} svg  The container in which to place the rows
 */
protected placeRows(svg: N) {
  const equal = this.node.attributes.get('equalrows') as boolean;
  const {H, D} = this.getTableData();
  const HD = this.getEqualRowHeight();
  const rSpace = this.getRowHalfSpacing();
  const rLines = [this.fLine, ...this.rLines, this.fLine];
  let y = this.getBBox().h - rLines[0];
  for (let i = 0; i &lt; this.numRows; i++) {
    const row = this.childNodes[i];
    [row.H, row.D] = this.getRowHD(equal, HD, H[i], D[i]);
    [row.tSpace, row.bSpace] = [rSpace[i], rSpace[i + 1]];
    [row.tLine, row.bLine] = [rLines[i], rLines[i + 1]];
    row.toSVG(svg);
    row.place(0, y - rSpace[i] - row.H);
    y -= rSpace[i] + row.H + row.D + rSpace[i + 1] + rLines[i + 1];
  }
}

/**
 * @param {boolean} equal   True for equal-height rows
 * @param {number} HD       The height of equal-height rows
 * @param {number} H        The natural height of the row
 * @param {number} D        The natural depth of the row
 * @returns {number[]}      The (possibly scaled) height and depth to use
 */
protected getRowHD(equal: boolean, HD: number, H: number, D: number): [number, number] {
  return (equal ? [(HD + H - D) / 2, (HD - H + D) / 2] : [H, D]);
}

/******************************************************************/

</t>
<t tx="ekr.20211016054411.216">
import {Loader} from '../../../js/components/loader.js';

Loader.preLoad(
  'loader', 'startup',
  'core',
  'input/tex', 'input/mml',
  'output/chtml', 'output/chtml/fonts/tex.js',
  'ui/menu', 'a11y/assistive-mml'
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2160">/**
 * @override
 */
  public handleColor() {
    super.handleColor();
    const rect = this.firstChild();
    if (rect) {
      this.adaptor.setAttribute(rect, 'width', this.fixed(this.getWidth()));
    }
  }

  /**
   * Add vertical lines between columns
   *
   * @param {N} svg   The container for the table
   */
  protected handleColumnLines(svg: N) {
    if (this.node.attributes.get('columnlines') === 'none') return;
    const lines = this.getColumnAttributes('columnlines');
    if (!lines) return;
    const cSpace = this.getColumnHalfSpacing();
    const cLines = this.cLines;
    const cWidth = this.getComputedWidths();
    let x = this.fLine;
    for (let i = 0; i &lt; lines.length; i++) {
      x += cSpace[i] + cWidth[i] + cSpace[i + 1];
      if (lines[i] !== 'none') {
        this.adaptor.append(svg, this.makeVLine(x, lines[i], cLines[i]));
      }
      x += cLines[i];
    }
  }

  /**
   * Add horizontal lines between rows
   *
   * @param {N} svg   The container for the table
   */
  protected handleRowLines(svg: N) {
    if (this.node.attributes.get('rowlines') === 'none') return;
    const lines = this.getRowAttributes('rowlines');
    if (!lines) return;
    const equal = this.node.attributes.get('equalrows') as boolean;
    const {H, D} = this.getTableData();
    const HD = this.getEqualRowHeight();
    const rSpace = this.getRowHalfSpacing();
    const rLines = this.rLines;
    let y = this.getBBox().h - this.fLine;
    for (let i = 0; i &lt; lines.length; i++) {
      const [rH, rD] = this.getRowHD(equal, HD, H[i], D[i]);
      y -= rSpace[i] + rH + rD + rSpace[i + 1];
      if (lines[i] !== 'none') {
        this.adaptor.append(svg, this.makeHLine(y, lines[i], rLines[i]));
      }
      y -= rLines[i];
    }

  }

  /**
   * Add a frame to the mtable, if needed
   *
   * @param {N} svg   The container for the table
   */
  protected handleFrame(svg: N) {
    if (this.frame &amp;&amp; this.fLine) {
      const {h, d, w} = this.getBBox();
      const style = this.node.attributes.get('frame') as string;
      this.adaptor.append(svg, this.makeFrame(w, h, d, style));
    }
  }

  /**
   * @returns {number}   The x-adjustement needed to handle the true size of percentage-width tables
   */
  protected handlePWidth(svg: N): number {
    if (!this.pWidth) {
      return 0;
    }
    const {w, L, R} = this.getBBox();
    const W = L + this.pWidth + R;
    const align = this.getAlignShift()[0];
    const CW = Math.max(this.isTop ? W : 0, this.container.getWrapWidth(this.containerI)) - L - R;
    const dw = w - (this.pWidth &gt; CW ? CW : this.pWidth);
    const dx = (align === 'left' ? 0 : align === 'right' ? dw : dw / 2);
    if (dx) {
      const table = this.svg('g', {}, this.adaptor.childNodes(svg));
      this.place(dx, 0, table);
      this.adaptor.append(svg, table);
    }
    return dx;
  }

  /******************************************************************/

  /**
   * @param {string} style   The line style whose class is to be obtained
   * @returns {string}       The class name for the style
   */
  protected lineClass(style: string): string {
    return CLASSPREFIX + style;
  }

  /**
   * @param {number} w       The width of the frame
   * @param {number} h       The height of the frame
   * @param {number} d       The depth of the frame
   * @param {string} style   The border style for the frame
   * @returns {N}            The SVG element for the frame
   */
  protected makeFrame(w: number, h: number, d: number, style: string): N {
    const t = this.fLine;
    return this.svg('rect', this.setLineThickness(t, style, {
      'data-frame': true, 'class': this.lineClass(style),
      width: this.fixed(w - t), height: this.fixed(h + d - t),
      x: this.fixed(t / 2), y: this.fixed(t / 2 - d)
    }));
  }

  /**
   * @param {number} x       The x location of the line
   * @param {string} style   The border style for the line
   * @param {number} t       The line thickness
   * @returns {N}            The SVG element for the line
   */
  protected makeVLine(x: number, style: string, t: number): N {
    const {h, d} = this.getBBox();
    const dt = (style === 'dotted' ? t / 2 : 0);
    const X = this.fixed(x + t / 2);
    return this.svg('line', this.setLineThickness(t, style, {
      'data-line': 'v', 'class': this.lineClass(style),
      x1: X, y1: this.fixed(dt - d), x2: X, y2: this.fixed(h - dt)
    }));
  }

  /**
   * @param {number} y       The y location of the line
   * @param {string} style   The border style for the line
   * @param {number} t       The line thickness
   * @returns {N}            The SVG element for the line
   */
  protected makeHLine(y: number, style: string, t: number): N {
    const w = this.getBBox().w;
    const dt = (style === 'dotted' ? t / 2 : 0);
    const Y = this.fixed(y - t / 2);
    return this.svg('line', this.setLineThickness(t, style, {
      'data-line': 'h', 'class': this.lineClass(style),
      x1: this.fixed(dt), y1: Y, x2: this.fixed(w - dt), y2: Y
    }));
  }

  /**
   * @param {number} t                The thickness of the line
   * @param {string} style            The border style for the line
   * @param {OptionList} properties   The list of properties to modify
   * @param {OptionList}              The modified properties
   */
  protected setLineThickness(t: number, style: string, properties: OptionList) {
    if (t !== .07) {
      properties['stroke-thickness'] = this.fixed(t);
      if (style !== 'solid') {
        properties['stroke-dasharray'] = (style === 'dotted' ? '0,' : '') + this.fixed(2 * t);
      }
    }
    return properties;
  }

  /******************************************************************/

  /**
   * Handle addition of labels to the table
   *
   * @param {N} svg       The container for the table contents
   * @param {N} parent    The parent containing the the table
   * @param {number} dx   The adjustement for percentage width tables
   */
  protected handleLabels(svg: N, _parent: N, dx: number) {
    if (!this.hasLabels) return;
    const labels = this.labels;
    const attributes = this.node.attributes;
    //
    //  Set the side for the labels
    //
    const side = attributes.get('side') as string;
    //
    // Add the labels to the table
    //
    this.spaceLabels();
    //
    // Handle top-level table to make it adapt to container size
    //   but place subtables explicitly
    //
    this.isTop ? this.topTable(svg, labels, side) : this.subTable(svg, labels, side, dx);
  }

  /**
   * Add spacing elements between the label rows to align them with the rest of the table
   */
  protected spaceLabels() {
    const adaptor = this.adaptor;
    const h = this.getBBox().h;
    const L = this.getTableData().L;
    const space = this.getRowHalfSpacing();
    //
    //  Start with frame size and add in spacing, height and depth,
    //    and line thickness for each non-labeled row.
    //
    let y = h - this.fLine;
    let current = adaptor.firstChild(this.labels) as N;
    for (let i = 0; i &lt; this.numRows; i++) {
      const row = this.childNodes[i] as SVGmtr&lt;N, T, D&gt;;
      if (row.node.isKind('mlabeledtr')) {
        const cell = row.childNodes[0];
        y -= space[i] + row.H;
        row.placeCell(cell, {x: 0, y: y, w: L, lSpace: 0, rSpace: 0, lLine: 0, rLine: 0});
        y -= row.D + space[i + 1] + this.rLines[i];
        current = adaptor.next(current) as N;
      } else {
        y -= space[i] + row.H + row.D + space[i + 1] + this.rLines[i];
      }
    }
  }

  /**
   * Handles tables with labels so that the label will move with the size of the container
   *
   * @param {N} svg         The SVG container for the table
   * @param {N} labels      The group of labels
   * @param {string} side   The side alignment (left or right)
   */
  protected topTable(svg: N, labels: N, side: string) {
    const adaptor = this.adaptor;
    const {h, d, w, L, R} = this.getBBox();
    const W = L + (this.pWidth || w) + R;
    const LW = this.getTableData().L;
    const [ , align, shift] = this.getPadAlignShift(side);
    const dx = shift + (align === 'right' ? -W : align === 'center' ? -W / 2 : 0) + L;
    const matrix = 'matrix(1 0 0 -1 0 0)';
    const scale = `scale(${this.jax.fixed((this.font.params.x_height * 1000) / this.metrics.ex, 2)})`;
    const transform = `translate(0 ${this.fixed(h)}) ${matrix} ${scale}`;
    let table = this.svg('svg', {
      'data-table': true,
      preserveAspectRatio: (align === 'left' ? 'xMinYMid' : align === 'right' ? 'xMaxYMid' : 'xMidYMid'),
      viewBox: [this.fixed(-dx), this.fixed(-h), 1, this.fixed(h + d)].join(' ')
    }, [
      this.svg('g', {transform: matrix}, adaptor.childNodes(svg))
    ]);
    labels = this.svg('svg', {
      'data-labels': true,
      preserveAspectRatio: (side === 'left' ? 'xMinYMid' : 'xMaxYMid'),
      viewBox: [side === 'left' ? 0 : this.fixed(LW), this.fixed(-h), 1, this.fixed(h + d)].join(' ')
    }, [labels]);
    adaptor.append(svg, this.svg('g', {transform: transform}, [table, labels]));
    this.place(-L, 0, svg);  // remove spacing for L, which is added by the parent during appending
  }

  /**
   * @param {N} svg         The SVG container for the table
   * @param {N} labels      The group of labels
   * @param {string} side   The side alignment (left or right)
   * @param {number} dx     The adjustement for percentage width tables
   */
  protected subTable(svg: N, labels: N, side: string, dx: number) {
    const adaptor = this.adaptor;
    const {w, L, R} = this.getBBox();
    const W = L + (this.pWidth || w) + R;
    const labelW = this.getTableData().L;
    const align = this.getAlignShift()[0];
    const CW = Math.max(W, this.container.getWrapWidth(this.containerI));
    this.place(side === 'left' ?
               (align === 'left' ? 0 : align === 'right' ? W - CW + dx : (W - CW) / 2 + dx) - L :
               (align === 'left' ? CW : align === 'right' ? W + dx : (CW + W) / 2 + dx) - L - labelW,
               0, labels);
    adaptor.append(svg, labels);
  }

}
</t>
<t tx="ekr.20211016054411.2161">


/**
 * @fileoverview  Implements the SVGmtd wrapper for the MmlMtd object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonMtdMixin} from '../../common/Wrappers/mtd.js';
import {MmlMtd} from '../../../core/MmlTree/MmlNodes/mtd.js';

/*****************************************************************/
/**
 * The SVGmtd wrapper for the MmlMtd object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmtd&lt;N, T, D&gt; extends
CommonMtdMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The mtd wrapper
   */
  public static kind = MmlMtd.prototype.kind;

  /**
   * @param {number} x    The x offset of the left side of the cell
   * @param {number} y    The y offset of the baseline of the cell
   * @param {number} W    The width of the cell
   * @param {number} H    The height of the cell
   * @param {number} D    The depth of the cell
   * @return {[number, number]}   The x and y offsets used
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2162">public placeCell(x: number, y: number, W: number, H: number, D: number): [number, number] {
  const bbox = this.getBBox();
  const h = Math.max(bbox.h, .75);
  const d = Math.max(bbox.d, .25);
  const calign = this.node.attributes.get('columnalign') as string;
  const ralign = this.node.attributes.get('rowalign') as string;
  const alignX = this.getAlignX(W, bbox, calign);
  const alignY = this.getAlignY(H, D, h, d, ralign);
  this.place(x + alignX, y + alignY);
  return [alignX, alignY];
}

</t>
<t tx="ekr.20211016054411.2163">/**
 * @param {number} x    The x offset of the left side of the cell
 * @param {number} y    The y position of the bottom of the cell
 * @param {number} W    The width of the cell
 * @param {number} H    The height + depth of the cell
 */
  public placeColor(x: number, y: number, W: number, H: number) {
    const adaptor = this.adaptor;
    const child = this.firstChild();
    if (child &amp;&amp; adaptor.kind(child) === 'rect' &amp;&amp; adaptor.getAttribute(child, 'data-bgcolor')) {
      adaptor.setAttribute(child, 'x', this.fixed(x));
      adaptor.setAttribute(child, 'y', this.fixed(y));
      adaptor.setAttribute(child, 'width', this.fixed(W));
      adaptor.setAttribute(child, 'height', this.fixed(H));
    }
  }

}
</t>
<t tx="ekr.20211016054411.2164">


/**
 * @fileoverview  Implements the SVGmtext wrapper for the MmlMtext object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonMtextMixin} from '../../common/Wrappers/mtext.js';
import {MmlMtext} from '../../../core/MmlTree/MmlNodes/mtext.js';

/*****************************************************************/
/**
 * The SVGmtext wrapper for the MmlMtext object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmtext&lt;N, T, D&gt; extends
CommonMtextMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The mtet wrapper
   */
  public static kind = MmlMtext.prototype.kind;

}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2165">


/**
 * @fileoverview  Implements the SVGmtr wrapper for the MmlMtr object
 *                and SVGmlabeledtr for MmlMlabeledtr
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor, Constructor} from '../Wrapper.js';
import {CommonMtrMixin} from '../../common/Wrappers/mtr.js';
import {CommonMlabeledtrMixin} from '../../common/Wrappers/mtr.js';
import {SVGmtd} from './mtd.js';
import {MmlMtr, MmlMlabeledtr} from '../../../core/MmlTree/MmlNodes/mtr.js';


/**
 * The data needed for placeCell()
 */
export type SizeData = {
  x: number,
  y: number,
  w: number,
  lSpace: number,
  rSpace: number,
  lLine: number,
  rLine: number
};

/*****************************************************************/
/**
 * The SVGmtr wrapper for the MmlMtr object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class SVGmtr&lt;N, T, D&gt; extends
CommonMtrMixin&lt;SVGmtd&lt;any, any, any&gt;, SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The mtr wrapper
   */
  public static kind = MmlMtr.prototype.kind;

  /**
   * The height of the row
   */
  public H: number;
  /**
   * The depth of the row
   */
  public D: number;
  /**
   * The space above the row
   */
  public tSpace: number;
  /**
   * The space below the row
   */
  public bSpace: number;
  /**
   * The line space above the row
   */
  public tLine: number;
  /**
   * The line space below the row
   */
  public bLine: number;

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2166">public toSVG(parent: N) {
  const svg = this.standardSVGnode(parent);
  this.placeCells(svg);
  this.placeColor();
}

/**
 * Set the location of the cell contents in the row and expand the cell background colors
 *
 * @param {N} svg   The container for the table
 */
protected placeCells(svg: N) {
  const cSpace = this.parent.getColumnHalfSpacing();
  const cLines = [this.parent.fLine, ...this.parent.cLines, this.parent.fLine];
  const cWidth = this.parent.getComputedWidths();
  const scale = 1 / this.getBBox().rscale;
  let x = cLines[0];
  for (let i = 0; i &lt; this.numCells; i++) {
    const child = this.getChild(i);
    child.toSVG(svg);
    x += this.placeCell(child, {
      x: x, y: 0, lSpace: cSpace[i] * scale, rSpace: cSpace[i + 1] * scale, w: cWidth[i] * scale,
      lLine: cLines[i] * scale, rLine: cLines[i + 1] * scale
    });
  }
}

</t>
<t tx="ekr.20211016054411.2167">/**
 * @param {SVGmtd} cell      The cell to place
 * @param {SizeData} sizes   The positioning information
 * @return {number}          The new x position
 */
  public placeCell(cell: SVGmtd&lt;N, T, D&gt;, sizes: SizeData): number {
    const {x, y, lSpace, w, rSpace, lLine, rLine} = sizes;
    const scale = 1 / this.getBBox().rscale;
    const [h, d] = [this.H * scale, this.D * scale];
    const [t, b] = [this.tSpace * scale, this.bSpace * scale];
    const [dx, dy] = cell.placeCell(x + lSpace, y, w, h, d);
    const W = lSpace + w + rSpace;
    cell.placeColor(-(dx + lSpace + lLine / 2), -(d + b + dy), W + (lLine + rLine) / 2, h + d + t + b);
    return W + rLine;
  }

  /**
   * Expand the backgound color to fill the entire row
   */
  protected placeColor() {
    const scale = 1 / this.getBBox().rscale;
    const adaptor = this.adaptor;
    const child = this.firstChild();
    if (child &amp;&amp; adaptor.kind(child) === 'rect' &amp;&amp; adaptor.getAttribute(child, 'data-bgcolor')) {
      const [TL, BL] = [(this.tLine / 2) * scale, (this.bLine / 2) * scale];
      const [TS, BS] = [this.tSpace * scale, this.bSpace * scale];
      const [H, D] = [this.H * scale, this.D * scale];
      adaptor.setAttribute(child, 'y', this.fixed(-(D + BS + BL)));
      adaptor.setAttribute(child, 'width', this.fixed(this.parent.getWidth() * scale));
      adaptor.setAttribute(child, 'height', this.fixed(TL + TS + H + D + BS + BL));
    }
  }

}

/*****************************************************************/
/**
 * The SVGlabeledmtr wrapper for the MmlMlabeledtr object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmlabeledtr&lt;N, T, D&gt; extends
CommonMlabeledtrMixin&lt;SVGmtd&lt;any, any, any&gt;, Constructor&lt;SVGmtr&lt;any, any, any&gt;&gt;&gt;(SVGmtr) {

  /**
   * The mlabeledtr wrapper
   */
  public static kind = MmlMlabeledtr.prototype.kind;

  
</t>
<t tx="ekr.20211016054411.2168">/**
   * @override
   */
  public toSVG(parent: N) {
    super.toSVG(parent);
    const child = this.childNodes[0];
    if (child) {
      child.toSVG(this.parent.labels);
    }
  }

}
</t>
<t tx="ekr.20211016054411.2169">


/**
 * @fileoverview  Implements the SVGmunderover wrapper for the MmlMunderover object
 *                and the special cases SVGmunder and SVGmsup
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, Constructor} from '../Wrapper.js';
import {SVGmsubsup, SVGmsub, SVGmsup} from './msubsup.js';
import {CommonMunderMixin} from '../../common/Wrappers/munderover.js';
import { CommonMoverMixin} from '../../common/Wrappers/munderover.js';
import {CommonMunderoverMixin} from '../../common/Wrappers/munderover.js';
import {MmlMunderover, MmlMunder, MmlMover} from '../../../core/MmlTree/MmlNodes/munderover.js';

/*****************************************************************/
/**
 * The SVGmunder wrapper for the MmlMunder object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmunder&lt;N, T, D&gt; extends
CommonMunderMixin&lt;SVGWrapper&lt;any, any, any&gt;, Constructor&lt;SVGmsub&lt;any, any, any&gt;&gt;&gt;(SVGmsub)  {

  /**
   * The munder wrapper
   */
  public static kind = MmlMunder.prototype.kind;

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.217">
import '../startup/lib/startup.js';
import './preload.js';
import '../core/core.js';
import '../input/tex/tex.js';
import '../input/mml/mml.js';
import '../output/chtml/chtml.js';
import '../output/chtml/fonts/tex/tex.js';
import '../ui/menu/menu.js';
import '../a11y/assistive-mml/assistive-mml.js';
import '../startup/startup.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2170">  public toSVG(parent: N) {
    if (this.hasMovableLimits()) {
      super.toSVG(parent);
      return;
    }

    const svg = this.standardSVGnode(parent);
    const [base, script] = [this.baseChild, this.scriptChild];
    const [bbox, sbox] = [base.getBBox(), script.getBBox()];

    base.toSVG(svg);
    script.toSVG(svg);

    const delta = (this.isLineBelow ? 0 : this.getDelta(true));
    const v = this.getUnderKV(bbox, sbox)[1];
    const [bx, sx] = this.getDeltaW([bbox, sbox], [0, -delta]);

    base.place(bx, 0);
    script.place(sx, v);
  }

}

/*****************************************************************/
/**
 * The SVGmover wrapper for the MmlMover object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmover&lt;N, T, D&gt; extends
CommonMoverMixin&lt;SVGWrapper&lt;any, any, any&gt;, Constructor&lt;SVGmsup&lt;any, any, any&gt;&gt;&gt;(SVGmsup)  {

  /**
   * The mover wrapper
   */
  public static kind = MmlMover.prototype.kind;

  
</t>
<t tx="ekr.20211016054411.2171">/**
   * @override
   */
  public toSVG(parent: N) {
    if (this.hasMovableLimits()) {
      super.toSVG(parent);
      return;
    }
    const svg = this.standardSVGnode(parent);
    const [base, script] = [this.baseChild, this.scriptChild];
    const [bbox, sbox] = [base.getBBox(), script.getBBox()];

    base.toSVG(svg);
    script.toSVG(svg);

    const delta = (this.isLineAbove ? 0 : this.getDelta());
    const u = this.getOverKU(bbox, sbox)[1];
    const [bx, sx] = this.getDeltaW([bbox, sbox], [0, delta]);

    base.place(bx, 0);
    script.place(sx, u);
  }

}

/*****************************************************************/
/*
 * The SVGmunderover wrapper for the MmlMunderover object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGmunderover&lt;N, T, D&gt; extends
CommonMunderoverMixin&lt;SVGWrapper&lt;any, any, any&gt;, Constructor&lt;SVGmsubsup&lt;any, any, any&gt;&gt;&gt;(SVGmsubsup)  {

  /**
   * The munderover wrapper
   */
  public static kind = MmlMunderover.prototype.kind;

  
</t>
<t tx="ekr.20211016054411.2172">/**
   * @override
   */
  public toSVG(parent: N) {
    if (this.hasMovableLimits()) {
      super.toSVG(parent);
      return;
    }
    const svg = this.standardSVGnode(parent);
    const [base, over, under] = [this.baseChild, this.overChild, this.underChild];
    const [bbox, obox, ubox] = [base.getBBox(), over.getBBox(), under.getBBox()];

    base.toSVG(svg);
    under.toSVG(svg);
    over.toSVG(svg);

    const delta = this.getDelta();
    const u = this.getOverKU(bbox, obox)[1];
    const v = this.getUnderKV(bbox, ubox)[1];
    const [bx, ux, ox] = this.getDeltaW([bbox, ubox, obox],
                                        [0, this.isLineBelow ? 0 : -delta, this.isLineAbove ? 0 : delta]);

    base.place(bx, 0);
    under.place(ux, v);
    over.place(ox, u);
  }

}
</t>
<t tx="ekr.20211016054411.2173">


/**
 * @fileoverview  Implements the a base class for SVGmsubsup, SVGmunderover
 *                and their relatives.  (Since munderover can become msubsup
 *                when movablelimits is set, munderover needs to be able to
 *                do the same thing as msubsup in some cases.)
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonScriptbaseMixin} from '../../common/Wrappers/scriptbase.js';

/*****************************************************************/
/**
 * A base class for msup/msub/msubsup and munder/mover/munderover
 * wrapper implementations
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGscriptbase&lt;N, T, D&gt; extends
CommonScriptbaseMixin&lt;SVGWrapper&lt;any, any, any&gt;, SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The scriptbase wrapper
   */
  public static kind = 'scriptbase';

  /**
   * This gives the common output for msub and msup.  It is overridden
   * for all the others (msubsup, munder, mover, munderover).
   *
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2174">  public toSVG(parent: N) {
    const svg = this.standardSVGnode(parent);
    const w = this.getBaseWidth();
    const [x, v] = this.getOffset();
    this.baseChild.toSVG(svg);
    this.scriptChild.toSVG(svg);
    this.scriptChild.place(w + x, v);
  }

}
</t>
<t tx="ekr.20211016054411.2175">


/**
 * @fileoverview  Implements the SVGsemantics wrapper for the MmlSemantics object
 *                and the associated wrappers for annotations
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonSemanticsMixin} from '../../common/Wrappers/semantics.js';
import {BBox} from '../../../util/BBox.js';
import {MmlSemantics, MmlAnnotation, MmlAnnotationXML} from '../../../core/MmlTree/MmlNodes/semantics.js';
import {XMLNode} from '../../../core/MmlTree/MmlNode.js';
import {StyleList} from '../../../util/StyleList.js';

/*****************************************************************/
/**
 * The SVGsemantics wrapper for the MmlSemantics object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGsemantics&lt;N, T, D&gt; extends
CommonSemanticsMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The semantics wrapper
   */
  public static kind = MmlSemantics.prototype.kind;

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2176">  public toSVG(parent: N) {
    const svg = this.standardSVGnode(parent);
    if (this.childNodes.length) {
      this.childNodes[0].toSVG(svg);
    }
  }

}


/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2177">/**
 * The SVGannotation wrapper for the MmlAnnotation object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class SVGannotation&lt;N, T, D&gt; extends SVGWrapper&lt;N, T, D&gt; {

  /**
   * The annotation wrapper
   */
  public static kind = MmlAnnotation.prototype.kind;

  /**
   * @override
   */
  @others
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2178">public toSVG(parent: N) {
  // FIXME:  output as plain text
  super.toSVG(parent);
}

</t>
<t tx="ekr.20211016054411.2179">/**
 * @override
 */
public computeBBox() {
  // FIXME:  compute using the DOM, if possible
  return this.bbox;
}

</t>
<t tx="ekr.20211016054411.218">
const PACKAGE = require('../../webpack.common.js');

module.exports = PACKAGE(
  'tex-mml-chtml',                    // the package to build
  '../../../js',                      // location of the MathJax js library
  [],                                 // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2180">/**
 * The SVGannotationXML wrapper for the MmlAnnotationXML object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class SVGannotationXML&lt;N, T, D&gt; extends SVGWrapper&lt;N, T, D&gt; {

  /**
   * The annotation-xml wrapper
   */
  public static kind = MmlAnnotationXML.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'foreignObject[data-mjx-xml]': {
      'font-family': 'initial',
      'line-height': 'normal',
      overflow: 'visible'
    }
  };

}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2181">/**
 * The SVGxml wrapper for the XMLNode object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class SVGxml&lt;N, T, D&gt; extends SVGWrapper&lt;N, T, D&gt; {

  /**
   * The XMLNode wrapper
   */
  public static kind = XMLNode.prototype.kind;

  /**
   * Don't include inline-block CSS for this element
   */
  public static autoStyle = false;

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2182">public toSVG(parent: N) {
  const xml = this.adaptor.clone((this.node as XMLNode).getXML() as N);
  const em = this.jax.math.metrics.em * this.jax.math.metrics.scale;
  const scale = this.fixed(1 / em);
  const {w, h, d} = this.getBBox();
  this.element = this.adaptor.append(parent, this.svg('foreignObject', {
    'data-mjx-xml': true,
    y: this.jax.fixed(-h * em) + 'px',
    width: this.jax.fixed(w * em) + 'px',
    height: this.jax.fixed((h + d) * em) + 'px',
    transform: `scale(${scale}) matrix(1 0 0 -1 0 0)`
  }, [xml]));
}

</t>
<t tx="ekr.20211016054411.2183">/**
 * @override
 */
public computeBBox(bbox: BBox, _recompute: boolean = false) {
  const {w, h, d} = this.jax.measureXMLnode((this.node as XMLNode).getXML() as N);
  bbox.w = w;
  bbox.h = h;
  bbox.d = d;
}

/**
 * @override
 */
protected getStyles() {}

/**
 * @override
 */
protected getScale() {}

/**
 * @override
 */
protected getVariant() {}
</t>
<t tx="ekr.20211016054411.2184">


/**
 * @fileoverview  Implements the SVGTeXAtom wrapper for the MmlTeXAtom object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonTeXAtomMixin} from '../../common/Wrappers/TeXAtom.js';
import {TeXAtom} from '../../../core/MmlTree/MmlNodes/TeXAtom.js';
import {TEXCLASS, TEXCLASSNAMES} from '../../../core/MmlTree/MmlNode.js';

/*****************************************************************/
/**
 * The SVGTeXAtom wrapper for the TeXAtom object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGTeXAtom&lt;N, T, D&gt; extends
CommonTeXAtomMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The TeXAtom wrapper
   */
  public static kind = TeXAtom.prototype.kind;

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2185">  public toSVG(parent: N) {
    super.toSVG(parent);
    this.adaptor.setAttribute(this.element, 'data-mjx-texclass', TEXCLASSNAMES[this.node.texClass]);
    //
    // Center VCENTER atoms vertically
    //
    if (this.node.texClass === TEXCLASS.VCENTER) {
      const bbox = this.childNodes[0].getBBox();  // get unmodified bbox of children
      const {h, d} = bbox;
      const a = this.font.params.axis_height;
      const dh = ((h + d) / 2 + a) - h;  // new height minus old height
      const translate = 'translate(0 ' + this.fixed(dh) + ')';
      this.adaptor.setAttribute(this.element, 'transform', translate);
    }
  }

}
</t>
<t tx="ekr.20211016054411.2186">


/**
 * @fileoverview  Implements the SVGTextNode wrapper for the TextNode object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {TextNode} from '../../../core/MmlTree/MmlNode.js';
import {SVGWrapper, SVGConstructor} from '../Wrapper.js';
import {CommonTextNodeMixin} from '../../common/Wrappers/TextNode.js';
import {StyleList} from '../../../util/StyleList.js';

/*****************************************************************/
/**
 *  The SVGTextNode wrapper for the TextNode object
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
// @ts-ignore
export class SVGTextNode&lt;N, T, D&gt; extends
CommonTextNodeMixin&lt;SVGConstructor&lt;any, any, any&gt;&gt;(SVGWrapper) {

  /**
   * The TextNode wrapper
   */
  public static kind = TextNode.prototype.kind;

  /**
   * @override
   */
  public static styles: StyleList = {
    'mjx-container[jax="SVG"] path[data-c], mjx-container[jax="SVG"] use[data-c]': {
      'stroke-width': 3
    }
  };

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2187">  public toSVG(parent: N) {
    const text = (this.node as TextNode).getText();
    const variant = this.parent.variant;
    if (variant === '-explicitFont') {
      this.adaptor.append(parent, this.jax.unknownText(text, variant));
    } else {
      const chars = this.remappedText(text, variant);
      let x = 0;
      for (const n of chars) {
        x += this.placeChar(n, x, 0, parent, variant);
      }
    }
    this.element = this.adaptor.lastChild(parent);
  }

}
</t>
<t tx="ekr.20211016054411.2188"></t>
<t tx="ekr.20211016054411.2189">


/**
 * @fileoverview  The MathJax TeXFont object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SVGFontData, SVGFontDataClass, SVGCharOptions, SVGVariantData, SVGDelimiterData,
        DelimiterMap, CharMapMap} from '../FontData.js';
import {CommonTeXFontMixin} from '../../common/fonts/tex.js';
import {OptionList} from '../../../util/Options.js';

import {boldItalic} from './tex/bold-italic.js';
import {bold} from './tex/bold.js';
import {doubleStruck} from './tex/double-struck.js';
import {frakturBold} from './tex/fraktur-bold.js';
import {fraktur} from './tex/fraktur.js';
import {italic} from './tex/italic.js';
import {largeop} from './tex/largeop.js';
import {monospace} from './tex/monospace.js';
import {normal} from './tex/normal.js';
import {sansSerifBoldItalic} from './tex/sans-serif-bold-italic.js';
import {sansSerifBold} from './tex/sans-serif-bold.js';
import {sansSerifItalic} from './tex/sans-serif-italic.js';
import {sansSerif} from './tex/sans-serif.js';
import {scriptBold} from './tex/script-bold.js';
import {script} from './tex/script.js';
import {smallop} from './tex/smallop.js';
import {texCalligraphicBold} from './tex/tex-calligraphic-bold.js';
import {texCalligraphic} from './tex/tex-calligraphic.js';
import {texMathit} from './tex/tex-mathit.js';
import {texOldstyleBold} from './tex/tex-oldstyle-bold.js';
import {texOldstyle} from './tex/tex-oldstyle.js';
import {texSize3} from './tex/tex-size3.js';
import {texSize4} from './tex/tex-size4.js';
import {texVariant} from './tex/tex-variant.js';

import {delimiters} from '../../common/fonts/tex/delimiters.js';

/***********************************************************************************/
/**
 *  The TeXFont class
 */
export class TeXFont extends
CommonTeXFontMixin&lt;SVGCharOptions, SVGVariantData, SVGDelimiterData, SVGFontDataClass&gt;(SVGFontData) {

  /**
   *  The stretchy delimiter data
   */
  protected static defaultDelimiters: DelimiterMap&lt;SVGDelimiterData&gt; = delimiters;

  /**
   *  The character data by variant
   */
  protected static defaultChars: CharMapMap&lt;SVGCharOptions&gt; = {
    'normal': normal,
    'bold': bold,
    'italic': italic,
    'bold-italic': boldItalic,
    'double-struck': doubleStruck,
    'fraktur': fraktur,
    'bold-fraktur': frakturBold,
    'script': script,
    'bold-script': scriptBold,
    'sans-serif': sansSerif,
    'bold-sans-serif': sansSerifBold,
    'sans-serif-italic': sansSerifItalic,
    'sans-serif-bold-italic': sansSerifBoldItalic,
    'monospace': monospace,
    '-smallop': smallop,
    '-largeop': largeop,
    '-size3': texSize3,
    '-size4': texSize4,
    '-tex-calligraphic': texCalligraphic,
    '-tex-bold-calligraphic': texCalligraphicBold,
    '-tex-mathit': texMathit,
    '-tex-oldstyle': texOldstyle,
    '-tex-bold-oldstyle': texOldstyleBold,
    '-tex-variant': texVariant
  };

  /**
   * The cacheIDs to use for the variants in font-caching
   */
  protected static variantCacheIds: {[name: string]: string} = {
    'normal': 'N',
    'bold': 'B',
    'italic': 'I',
    'bold-italic': 'BI',
    'double-struck': 'D',
    'fraktur': 'F',
    'bold-fraktur': 'BF',
    'script': 'S',
    'bold-script': 'BS',
    'sans-serif': 'SS',
    'bold-sans-serif': 'BSS',
    'sans-serif-italic': 'SSI',
    'sans-serif-bold-italic': 'SSBI',
    'monospace': 'M',
    '-smallop': 'SO',
    '-largeop': 'LO',
    '-size3': 'S3',
    '-size4': 'S4',
    '-tex-calligraphic': 'C',
    '-tex-bold-calligraphic': 'BC',
    '-tex-mathit': 'MI',
    '-tex-oldstyle': 'OS',
    '-tex-bold-oldstyle': 'BOS',
    '-tex-variant': 'V'
  };

  /**
   * @override
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.219"></t>
<t tx="ekr.20211016054411.2190">  constructor(options: OptionList = null) {
    super(options);
    //
    //  Add the cacheIDs to the variants
    //
    const CLASS = this.constructor as typeof TeXFont;
    for (const variant of Object.keys(CLASS.variantCacheIds)) {
      this.variant[variant].cacheID = 'TEX-' + CLASS.variantCacheIds[variant];
    }
  }

}
</t>
<t tx="ekr.20211016054411.2191"></t>
<t tx="ekr.20211016054411.2192">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {boldItalic as font} from '../../../common/fonts/tex/bold-italic.js';

export const boldItalic: SVGCharMap = AddPaths(font, {
    0x2F: '189 -210Q179 -210 170 -203T160 -179Q160 -171 162 -166Q164 -163 420 266T679 698Q686 711 704 711Q714 711 723 704T733 681Q733 672 730 667Q723 654 469 228T211 -201Q202 -210 189 -210',
    0x131: '24 296Q24 305 34 328T63 380T115 430T187 452Q205 452 223 448T262 435T295 406T308 360Q308 345 287 290T240 170T207 87Q202 67 202 57Q202 42 215 42Q235 42 257 64Q288 92 302 140Q307 156 310 159T330 162H336H347Q367 162 367 148Q367 140 357 117T329 65T276 14T201 -8Q158 -8 121 15T83 84Q83 104 133 229T184 358Q189 376 189 388Q189 402 177 402Q156 402 134 380Q103 352 89 304Q84 288 81 285T61 282H55H44Q24 282 24 296',
    0x237: '297 360T297 373T294 392T288 400T278 401H276Q237 398 200 363Q181 343 170 325T156 299T149 287T129 282H123H116Q102 282 97 284T92 298Q93 303 98 315T118 349T151 390T201 427T267 451H279Q357 451 388 422T420 354V339L370 138Q321 -60 317 -69Q287 -157 163 -194Q133 -201 99 -201Q39 -201 14 -178T-12 -125Q-12 -94 11 -69T68 -43Q93 -43 108 -57T123 -95Q123 -121 100 -151H104Q131 -151 155 -125T193 -60Q195 -54 244 141T294 345Q297 360 297 373',
    0x2044: '189 -210Q179 -210 170 -203T160 -179Q160 -171 162 -166Q164 -163 420 266T679 698Q686 711 704 711Q714 711 723 704T733 681Q733 672 730 667Q723 654 469 228T211 -201Q202 -210 189 -210',
    0x2206: '65 0Q59 6 59 9T61 16Q64 20 334 357T608 698Q616 706 629 710Q630 710 634 710T644 710T656 711Q686 711 694 703Q698 699 700 693Q706 674 805 345T904 14Q904 7 894 1L479 0H65ZM630 342L567 551L232 134L462 133H693Q693 137 630 342',
    0x29F8: '189 -210Q179 -210 170 -203T160 -179Q160 -171 162 -166Q164 -163 420 266T679 698Q686 711 704 711Q714 711 723 704T733 681Q733 672 730 667Q723 654 469 228T211 -201Q202 -210 189 -210',
},{
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2193">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {bold as font} from '../../../common/fonts/tex/bold.js';

export const bold: SVGCharMap = AddPaths(font, {
    0x21: '89 629Q89 663 116 684T171 705Q215 705 237 681T260 634Q260 619 233 434T204 244Q201 237 175 237Q150 237 146 244Q144 248 117 433T89 629ZM90 86Q90 125 116 148T177 171Q211 169 235 146T259 86Q259 48 235 25T175 1Q138 1 114 24T90 86',
    0x22: '38 572T38 608T61 669T121 694Q167 694 196 657T225 559Q225 520 214 482T186 418T151 370T119 339T99 329T82 340T70 360Q70 365 74 369T92 385T122 414Q142 441 154 471T170 518L172 535L166 532Q160 530 148 527T122 523Q85 523 62 547ZM305 572T305 608T328 669T388 694Q434 694 463 657T492 559Q492 520 481 482T453 418T418 370T386 339T366 329T349 340T337 360Q337 365 341 369T359 385T389 414Q409 441 421 471T436 518L439 535L433 532Q427 530 415 527T389 523Q352 523 329 547',
    0x23: '64 362Q64 380 87 393H363L366 404Q379 443 390 480T409 542T424 590T435 628T443 655T451 674T458 686T467 692T478 694Q490 694 499 686T509 662Q505 643 427 395Q427 393 523 393H620L623 404Q630 426 652 498T691 624T711 681Q718 694 735 694Q748 694 757 685T766 662Q762 643 684 395Q684 393 777 393H871Q872 392 875 390T881 386T887 381T891 374T893 363Q893 345 871 333L767 332H664L660 319Q660 318 638 245T614 171Q614 169 742 169H871L877 165Q883 161 885 159T890 151T893 138Q893 120 871 109L732 108H594L590 95Q587 84 546 -46Q508 -175 505 -178Q498 -193 478 -193Q462 -193 455 -183T448 -164Q448 -156 530 106Q530 108 434 108H337L333 95Q330 84 289 -46Q251 -175 248 -178Q240 -193 222 -193Q206 -193 199 -183T191 -164Q191 -154 273 106Q273 108 180 108L87 109Q64 117 64 139Q64 156 87 169H293L321 262Q326 277 331 294T340 321L343 330Q343 332 215 332L87 333Q64 343 64 362ZM600 330Q600 332 504 332H407L403 319Q403 318 381 245T357 171Q357 169 453 169H550L578 262Q583 277 588 294T597 321L600 330',
    0x24: '64 494Q64 541 80 579T120 638T171 674T219 693T253 698H256V750H318V699H323Q355 694 380 686T433 663T480 620T506 556Q510 539 510 520Q510 480 488 463T440 445L422 447Q407 451 398 459Q370 478 370 515Q370 542 384 559T412 580L427 584Q424 589 418 596T386 617T324 636H318V434Q411 419 460 355T510 217Q510 196 507 175T492 122T461 67T404 23T318 -4V-56H256V-5H254Q252 -3 240 -3Q194 4 160 23T108 64T80 112T67 156T64 190Q64 218 81 240T134 262Q171 262 187 240T204 193T190 150T153 125Q146 125 144 123Q142 123 149 113T174 89T218 66Q247 58 255 58Q256 58 256 173V287L239 291Q160 308 112 365T64 494ZM255 636Q246 635 236 632T206 620T173 591T160 543Q160 472 256 448V542Q256 636 255 636ZM320 59Q324 59 333 61T356 70T384 89T406 120T415 167Q415 200 395 225T356 260T318 274V59H320',
    0x25: '65 549Q65 609 84 652T132 714T187 742T236 750Q265 750 296 734T355 697T431 661T541 644Q662 644 736 730Q751 749 767 749T790 739T797 719Q797 710 768 672T504 329Q212 -47 211 -48Q203 -55 191 -55Q161 -55 161 -25Q161 -17 163 -12L642 609Q608 595 542 595Q515 595 488 599T441 608T405 619T381 628L373 632Q373 630 375 619T380 589T383 548Q383 455 343 401T235 347Q217 347 198 351T154 368T110 403T78 462T65 549ZM320 549Q320 633 295 665T235 698H234Q214 698 196 674Q182 650 182 549Q182 509 183 486T190 441T207 409T238 399Q269 399 294 431T320 549ZM745 -56Q727 -56 708 -52T664 -35T620 0T588 59T575 146T588 232T620 291T663 325T708 343T747 347Q810 347 851 294T893 146Q893 89 879 48T841 -15T794 -46T745 -56ZM830 146Q830 230 805 262T745 295H744Q724 295 706 271Q692 247 692 146Q692 106 693 83T700 38T717 6T748 -4Q779 -4 804 28T830 146',
    0x26: '255 -11Q209 -11 164 4T84 56T48 146Q48 159 50 171Q57 197 72 218T99 249T152 292Q204 333 204 334L194 356Q185 379 176 421T166 511Q166 538 168 551Q182 613 226 654T332 704Q334 704 343 704T358 705Q412 702 444 661T476 565V559Q476 489 334 371L330 368L335 357Q382 272 485 165L496 154L506 163Q543 200 597 273L671 382H601V444H610L732 441Q821 441 830 444H836V382H741L709 335Q702 324 687 302T665 270T646 244T625 216T605 191T581 162T553 132L537 116Q544 109 557 98T605 69T673 51Q711 51 739 70T767 115V118H829V114Q829 70 786 30T668 -11Q570 -11 474 37L451 49L441 43Q352 -11 255 -11ZM415 564Q415 596 400 625T356 654Q329 654 310 634T285 588Q283 580 283 554Q283 475 309 417L325 431Q415 512 415 564ZM192 182Q192 126 213 89T279 51Q348 51 400 83L389 91Q362 112 338 137T295 186T264 229T240 265T227 286Q226 285 222 280T217 272T211 263T205 251T200 238T196 222T193 204T192 182',
    0x27: '74 572T74 608T97 669T157 694Q203 694 232 657T261 559Q261 520 250 482T222 418T187 370T155 339T135 329Q128 329 117 340T106 359Q106 365 117 375T144 399T176 440T203 505Q204 511 205 518T208 530V535L202 532Q196 530 184 527T158 523Q121 523 98 547',
    0x28: '103 166T103 251T121 412T165 541T225 639T287 708T341 750H356H361Q382 750 382 736Q382 732 365 714T323 661T274 576T232 439T214 250Q214 -62 381 -229Q382 -231 382 -234Q382 -249 360 -249H356H341Q314 -231 287 -207T226 -138T165 -41T121 89',
    0x29: '231 251Q231 354 214 439T173 575T123 661T81 714T64 735Q64 744 73 749H75Q77 749 79 749T84 750T90 750H105Q132 732 159 708T220 639T281 542T325 413T343 251T325 89T281 -40T221 -138T159 -207T105 -249H90Q80 -249 76 -249T68 -245T64 -234Q64 -230 81 -212T123 -160T172 -75T214 61T231 251',
    0x2A: '235 706Q235 724 251 737T287 750Q306 750 322 738T339 706Q339 685 318 580V579Q429 663 436 666Q441 668 449 668Q471 668 486 650T501 612Q501 582 478 572Q476 570 414 549L354 528L414 507Q420 505 430 502T445 497T458 492T470 488T479 483T487 478T493 471T497 463T500 454T501 443Q501 423 486 406T449 388H446Q435 388 370 437Q339 461 318 477V476Q339 371 339 350Q339 332 323 319T287 306T251 319T235 350Q235 371 256 476V477Q145 393 138 390Q133 388 125 388Q103 388 88 406T73 444Q73 474 96 484Q98 486 160 507L220 528L160 549Q154 551 144 554T129 559T116 564T104 568T95 573T87 578T81 585T77 593T74 602T73 613Q73 633 88 650T125 668H128Q139 668 204 619Q235 595 256 579V580Q235 685 235 706',
    0x2B: '64 232T64 250T87 281H416V444Q416 608 418 612Q426 633 446 633T475 613Q477 608 477 444V281H807Q808 280 811 278T817 274T823 269T827 262T829 251Q829 230 807 221L642 220H477V57Q477 -107 475 -112Q468 -131 446 -131Q425 -131 418 -112Q416 -107 416 57V220H251L87 221Q64 232 64 250',
    0x2C: '74 85Q74 120 97 145T159 171Q200 171 226 138Q258 101 258 37Q258 -5 246 -44T218 -109T183 -155T152 -184T135 -194Q129 -194 118 -183T106 -164Q106 -157 115 -149Q121 -145 130 -137T161 -100T195 -35Q197 -28 200 -17T204 3T205 11T199 9T183 3T159 0Q120 0 97 26T74 85',
    0x2D: '13 166V278H318V166H13',
    0x2E: '74 85Q74 121 99 146T156 171Q200 171 222 143T245 85Q245 56 224 29T160 1Q118 1 96 27T74 85',
    0x2F: '451 730Q460 750 479 750Q492 750 501 740T510 718Q508 708 318 244L122 -232Q112 -250 95 -250Q82 -250 73 -241T64 -218Q66 -205 258 261T451 730',
    0x3A: '74 359Q74 394 98 419T158 444Q200 444 222 417T245 358Q245 329 224 302T160 274Q116 274 95 301T74 359ZM74 85Q74 121 99 146T156 171Q200 171 222 143T245 85Q245 56 224 29T160 1Q118 1 96 27T74 85',
    0x3B: '74 359Q74 394 98 419T158 444Q200 444 222 417T245 358Q245 329 224 302T160 274Q116 274 95 301T74 359ZM74 50T74 86T97 146T158 171Q204 171 226 132T248 38Q248 -23 223 -80T171 -165T135 -194Q129 -194 118 -183T106 -164Q106 -163 106 -160L107 -158Q108 -155 121 -142T150 -107T177 -58Q189 -32 194 3Q195 6 193 6Q172 0 158 0Q121 0 98 25',
    0x3C: '797 -56Q797 -68 790 -76T767 -85H759L434 70Q108 226 105 229Q96 238 96 250Q96 263 105 272Q109 276 271 354T595 508T757 585Q763 587 766 587Q780 587 788 578T797 556Q797 544 788 535Q784 531 490 391L197 251Q213 242 359 173T644 37T788 -34Q797 -43 797 -56',
    0x3D: '87 333Q64 343 64 362Q64 383 84 391Q89 393 448 393H807Q808 392 811 390T817 386T823 381T827 374T829 363Q829 345 807 333H87ZM87 109Q64 118 64 139Q64 159 86 168Q89 169 448 169H807L812 166Q816 163 818 162T823 157T827 149T829 139Q829 118 807 109H87',
    0x3E: '127 -85Q110 -85 103 -75T96 -55Q96 -41 106 -34Q119 -24 308 65Q361 90 411 114L696 250L427 379Q106 533 103 537Q96 545 96 557Q96 568 104 577T128 587Q137 586 460 431T788 272Q797 263 797 250Q797 238 788 229Q785 226 459 70L135 -85H127',
    0x3F: '65 570Q65 628 119 664T259 700Q326 700 372 688T440 654T469 613T478 569Q478 505 412 465Q287 391 287 294V283Q287 250 284 244T263 237H256H249Q232 237 229 242T225 272V287Q227 364 253 418Q274 463 311 504Q335 530 335 575Q335 622 323 635T259 648Q231 648 209 644T179 636T170 630L172 628Q174 627 177 625T183 620T190 611T197 601T202 587T204 570Q204 539 185 519T134 499Q105 499 85 517T65 570ZM171 86Q171 125 197 148T258 171Q292 169 316 146T340 86Q340 48 316 25T256 1Q218 1 195 24T171 86',
    0x40: '64 347Q64 511 171 605T434 699Q487 699 500 698Q624 684 703 621T811 464Q828 414 828 344Q828 232 788 179T691 125Q673 125 657 127T628 132T606 140T588 148T576 156T568 162L566 164Q565 164 549 154T504 135T444 125Q349 125 284 183T218 347Q218 455 284 512T448 569Q554 569 610 479H638Q670 479 674 471Q676 468 676 340V258Q676 213 679 199T694 178Q701 174 713 177Q767 187 767 340Q767 489 678 569T446 649Q299 649 213 566T126 346Q126 307 134 269T166 189T225 116T320 65T455 45H463Q606 51 721 91L746 99H782H801Q829 99 829 85Q829 78 825 75T804 65Q800 63 797 62Q625 -6 451 -6Q271 -6 168 91T64 347ZM547 468Q526 493 504 505T444 517T377 476T346 347Q346 306 354 271T386 206T448 177Q505 177 547 226V468',
    0x5B: '128 -250V750H293V689H189V-189H293V-250H128',
    0x5C: '64 718Q63 731 72 740T94 750Q106 750 113 743Q118 741 122 732L318 256Q508 -208 510 -218Q511 -231 502 -240T480 -250Q460 -250 451 -230Q451 -229 259 238T64 718',
    0x5D: '25 689V750H190V-250H25V-189H129V689H25',
    0x5E: '207 632L287 694Q289 693 368 632T448 570T431 545T413 520Q410 520 350 559L287 597L224 559Q164 520 161 520Q160 520 143 544T126 570T207 632',
    0x5F: '0 -61V-10H574V-61H0',
    0x60: '114 634Q114 663 136 684T183 706Q191 706 196 705T208 700T219 693T232 681T245 666T262 645T282 620Q332 558 337 553Q338 552 318 527L299 503L223 543Q215 547 202 553T183 563T167 571T153 580T141 587T131 595T124 603T118 612T115 622T114 634',
    0x7B: '504 -207T504 -225T500 -246T476 -250H469Q257 -250 227 -145L225 -135L224 0Q224 15 224 30T224 59T224 84T224 106T223 122T223 133V137Q222 138 221 144T213 162T195 185Q171 206 141 215Q123 222 107 223T84 225T74 229T70 250T73 270T83 276T106 276T141 285Q171 294 195 315Q201 321 206 328T214 341T219 352T222 360L223 363V367Q223 371 223 378T223 394T224 415T224 441T224 470T224 501L225 636Q249 739 426 749Q428 749 443 749T466 750H473Q495 750 499 747T504 725T501 704T480 699Q381 693 357 645Q352 634 351 617T350 497V412Q350 350 338 329Q325 303 298 284T251 258T227 251Q226 251 226 250L227 249Q231 248 238 246T265 236T299 217T329 184T349 137Q350 131 350 3T352 -130Q358 -160 392 -178T480 -199Q497 -200 500 -203',
    0x7C: '160 -249Q138 -249 129 -225V250Q129 725 131 729Q139 750 159 750T190 725V-225Q181 -249 160 -249',
    0x7D: '70 726Q71 744 74 747T99 750H106Q323 750 349 636L350 501Q350 486 350 470T350 441T350 416T350 394T351 378T351 367V363Q352 362 353 356T361 338T379 315Q403 294 433 285Q451 278 467 277T490 275T500 271T504 250T501 230T491 224T468 224T433 215Q403 206 379 185Q373 179 368 172T360 159T355 148T352 140L351 137V133Q351 129 351 122T351 106T350 85T350 59T350 31T350 0L349 -135L347 -145Q317 -250 106 -250H99Q79 -250 75 -247T70 -226Q70 -208 73 -204T95 -199Q193 -193 217 -145Q222 -134 223 -117T224 3Q224 20 224 48T223 86Q223 145 237 175T301 232Q335 249 347 249Q348 249 348 250L347 251Q343 252 336 254T309 264T275 284T245 316T225 363Q224 369 224 497T222 631Q216 660 182 678T95 699Q77 700 74 704T70 726',
    0x7E: '343 202Q320 202 278 225T215 249Q181 249 146 214L134 202L115 219Q111 222 106 226T98 234L96 236Q158 306 165 313Q199 344 230 344Q239 344 244 343Q262 339 300 318T359 297Q393 297 428 332L440 344L459 327Q463 324 468 320T476 312L478 310Q416 240 409 233Q375 202 343 202',
    0xA8: '96 615Q96 650 120 672T178 695Q214 693 234 669T255 615Q255 583 232 559T176 535Q147 535 122 556T96 615ZM319 615Q319 651 343 673T399 695Q426 695 452 675T478 615Q478 578 454 557T395 535Q364 537 342 559T319 615',
    0xAC: '680 371Q683 369 688 366T695 361T698 356T701 346T701 332T702 308V216Q702 196 702 168T703 130Q703 90 697 76T671 61Q650 61 643 81Q641 86 641 198V310H364L87 311Q64 319 64 341Q64 362 84 369Q89 371 385 371H680',
    0xAF: '80 540V607H494V540H80',
    0xB0: '160 618Q160 653 193 677T279 702H284Q381 702 407 647Q414 634 414 618Q414 607 410 596T395 570T355 546T287 536T220 545T181 568T165 594T160 618ZM352 618Q352 645 341 652T301 659H292Q286 659 278 659T268 660Q247 660 236 653T224 638T222 619Q222 591 234 585T287 578Q315 578 326 580T345 590T352 618',
    0xB1: '64 328T64 346T87 377H416V542L417 707Q431 728 443 728Q467 728 475 709Q477 704 477 540V377H807Q808 376 811 374T817 370T823 365T827 358T829 347Q829 326 807 317L642 316H477V25H807Q808 24 811 22T817 18T823 13T827 6T829 -5Q829 -26 807 -35H87Q64 -24 64 -6T87 25H416V316H251L87 317Q64 328 64 346',
    0xB4: '391 706Q419 706 439 683T460 634Q460 608 441 593T366 550Q356 545 351 543L275 503L256 527Q236 552 237 553Q242 558 292 620Q299 629 309 641T324 659T336 673T346 685T354 693T363 699T371 703T380 705T391 706',
    0xB7: '74 251Q74 286 99 311T156 336Q200 336 222 308T245 250Q245 221 224 194T160 166T96 193T74 251',
    0xD7: '168 500Q168 515 178 522T195 530H198Q207 530 218 521T282 458Q312 428 331 409L447 294L563 409Q674 520 682 525Q687 529 695 529Q711 529 718 520T726 499V498Q726 489 720 481T666 427Q631 392 606 367L490 251L606 135Q717 23 721 17T726 2Q726 -9 719 -18T695 -28H692Q685 -28 674 -18T608 47Q581 74 563 92L447 207L331 91Q217 -22 208 -27Q206 -28 203 -28H197Q168 -28 168 2Q168 13 178 24T288 135L404 250L288 366Q177 479 173 485T168 500',
    0xF7: '344 495Q344 535 372 566T447 597Q490 597 519 566T548 495Q548 452 518 423T446 393Q404 393 374 423T344 495ZM87 221Q64 230 64 251T84 279Q89 281 448 281H806Q807 280 810 278T816 274T822 269T826 262T828 251Q828 230 806 221H87ZM344 -36T344 6T373 78T446 108Q487 108 517 79T548 6Q548 -35 519 -65T446 -96Q406 -96 375 -66',
    0x131: '247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247',
    0x237: '28 -163Q58 -168 64 -168Q124 -168 135 -77Q137 -65 137 141T136 353Q132 371 120 377T72 385H52V408Q52 431 54 431L58 432Q62 432 70 432T87 433T108 434T133 436Q151 437 171 438T202 441T214 442H218V184Q217 -36 217 -59T211 -98Q195 -145 153 -175T58 -205Q9 -205 -23 -179T-55 -117Q-55 -94 -40 -79T-2 -64T36 -79T52 -118Q52 -143 28 -163',
    0x2B9: '240 563Q278 563 304 539T331 480V473Q331 462 316 431T217 236Q199 200 174 151T136 78T123 50Q113 33 105 33Q101 33 72 45T38 60Q35 63 35 65Q35 77 101 293T171 517Q182 542 202 552T240 563',
    0x2C6: '207 632L287 694Q289 693 368 632T448 570T431 545T413 520Q410 520 350 559L287 597L224 559Q164 520 161 520Q160 520 143 544T126 570T207 632',
    0x2C7: '131 603Q130 604 136 618T150 646T158 659L223 635L287 611L351 635L416 659Q417 660 424 647T437 619T443 603Q440 601 364 558T287 515T210 558T131 603',
    0x2C9: '80 540V607H494V540H80',
    0x2CA: '391 706Q419 706 439 683T460 634Q460 608 441 593T366 550Q356 545 351 543L275 503L256 527Q236 552 237 553Q242 558 292 620Q299 629 309 641T324 659T336 673T346 685T354 693T363 699T371 703T380 705T391 706',
    0x2CB: '114 634Q114 663 136 684T183 706Q191 706 196 705T208 700T219 693T232 681T245 666T262 645T282 620Q332 558 337 553Q338 552 318 527L299 503L223 543Q215 547 202 553T183 563T167 571T153 580T141 587T131 595T124 603T118 612T115 622T114 634',
    0x2D8: '287 500Q208 500 155 558T102 689V694H153V685Q153 681 154 674T164 648T186 615T226 590T287 578Q347 578 382 611T421 685V694H472V689Q472 623 422 562T287 500',
    0x2D9: '202 610Q202 647 227 671T283 695Q324 695 348 669T372 610T350 551T287 525Q248 525 225 551T202 610',
    0x2DA: '160 618Q160 653 193 677T279 702H284Q381 702 407 647Q414 634 414 618Q414 607 410 596T395 570T355 546T287 536T220 545T181 568T165 594T160 618ZM352 618Q352 645 341 652T301 659H292Q286 659 278 659T268 660Q247 660 236 653T224 638T222 619Q222 591 234 585T287 578Q315 578 326 580T345 590T352 618',
    0x2DC: '343 552Q320 552 278 575T215 599Q181 599 146 564L134 552L115 569Q111 572 106 576T98 584L96 586Q158 656 165 663Q199 694 230 694Q239 694 244 693Q262 689 300 668T359 647Q393 647 428 682L440 694L459 677Q463 674 468 670T476 662L478 660Q416 590 409 583Q375 552 343 552',
    0x300: '-461 634Q-461 663 -439 684T-392 706Q-384 706 -379 705T-367 700T-356 693T-343 681T-330 666T-313 645T-293 620Q-243 558 -238 553Q-237 552 -257 527L-276 503L-352 543Q-360 547 -373 553T-392 563T-408 571T-422 580T-434 587T-444 595T-451 603T-457 612T-460 622T-461 634',
    0x301: '-184 706Q-156 706 -136 683T-115 634Q-115 608 -134 593T-209 550Q-219 545 -224 543L-300 503L-319 527Q-339 552 -338 553Q-333 558 -283 620Q-276 629 -266 641T-251 659T-239 673T-229 685T-221 693T-212 699T-204 703T-195 705T-184 706',
    0x302: '-368 632L-288 694Q-286 693 -207 632T-127 570T-144 545T-162 520Q-165 520 -225 559L-288 597L-351 559Q-411 520 -414 520Q-415 520 -432 544T-449 570T-368 632',
    0x303: '-232 552Q-255 552 -297 575T-360 599Q-394 599 -429 564L-441 552L-460 569Q-464 572 -469 576T-476 584L-479 586Q-417 656 -410 663Q-376 694 -345 694Q-336 694 -331 693Q-313 689 -275 668T-216 647Q-182 647 -147 682L-135 694L-116 677Q-112 674 -107 670T-100 662L-97 660Q-159 590 -166 583Q-200 552 -232 552',
    0x304: '-495 540V607H-81V540H-495',
    0x306: '-288 500Q-367 500 -420 558T-473 689V694H-422V685Q-422 681 -421 674T-411 648T-389 615T-349 590T-288 578Q-228 578 -193 611T-154 685V694H-103V689Q-103 623 -153 562T-288 500',
    0x307: '-373 610Q-373 647 -348 671T-292 695Q-251 695 -227 669T-203 610T-225 551T-288 525Q-327 525 -350 551T-373 610',
    0x308: '-479 615Q-479 650 -456 672T-397 695Q-361 693 -341 669T-320 615Q-320 583 -343 559T-399 535Q-428 535 -453 556T-479 615ZM-256 615Q-256 651 -232 673T-176 695Q-149 695 -123 675T-97 615Q-97 578 -121 557T-180 535Q-211 537 -233 559T-256 615',
    0x30A: '-415 618Q-415 653 -382 677T-296 702H-291Q-194 702 -168 647Q-161 634 -161 618Q-161 607 -165 596T-180 570T-220 546T-288 536T-355 545T-394 568T-410 594T-415 618ZM-223 618Q-223 645 -234 652T-274 659H-283Q-289 659 -297 659T-307 660Q-328 660 -339 653T-351 638T-353 619Q-353 591 -341 585T-288 578Q-260 578 -249 580T-230 590T-223 618',
    0x30B: '-389 511L-442 543Q-442 544 -424 606T-404 674Q-390 705 -361 713Q-360 713 -356 713T-349 714Q-340 714 -330 712Q-273 690 -273 644Q-273 621 -290 604L-342 554L-389 511ZM-198 511L-251 543Q-251 544 -233 606T-213 674Q-199 705 -170 713Q-169 713 -165 713T-158 714Q-127 714 -105 693T-82 647Q-82 638 -84 631T-89 618T-99 604T-112 590T-130 574T-151 554L-198 511',
    0x30C: '-444 603Q-445 604 -439 618T-425 646T-417 659L-352 635L-288 611L-224 635L-159 659Q-158 660 -151 647T-138 619T-132 603Q-135 601 -211 558T-288 515T-365 558T-444 603',
    0x338: '-705 -210Q-715 -210 -724 -203T-734 -179Q-734 -171 -732 -166Q-730 -163 -474 266T-215 698Q-208 711 -190 711Q-180 711 -171 704T-161 681Q-161 672 -164 667Q-171 654 -425 228T-683 -201Q-692 -210 -705 -210',
    0x2002: '',
    0x2003: '',
    0x2004: '',
    0x2005: '',
    0x2006: '',
    0x2009: '',
    0x200A: '',
    0x2013: '0 249V300H574V249H0',
    0x2014: '0 249V300H1149V249H0',
    0x2015: '0 249V300H1149V249H0',
    0x2016: '205 -225Q201 -234 199 -237T191 -244T175 -248T161 -246Q151 -240 146 -229Q145 -224 145 251Q145 725 146 730Q156 750 176 750Q193 748 205 727V-225ZM369 727L372 732Q375 737 377 740T385 747T398 750Q406 750 413 747Q423 740 428 730Q430 720 430 251Q430 -219 428 -229Q423 -240 413 -246Q408 -248 400 -248Q393 -248 388 -247T379 -242T375 -236T371 -230L369 -225V727',
    0x2017: '0 -61V-10H574V-61H0',
    0x2018: '58 461Q58 503 70 542T99 607T134 654T165 684T184 694T201 683T213 664Q213 658 202 648T175 624T143 583T116 518Q115 512 114 505T112 493L111 488Q132 500 161 500Q198 500 221 475T245 414T222 354T161 329Q112 329 85 369T58 461',
    0x2019: '74 572T74 608T97 669T157 694Q203 694 232 657T261 559Q261 520 250 482T222 418T187 370T155 339T135 329Q128 329 117 340T106 359Q106 365 117 375T144 399T176 440T203 505Q204 511 205 518T208 530V535L202 532Q196 530 184 527T158 523Q121 523 98 547',
    0x201C: '110 461Q110 502 121 541T150 606T185 653T217 684T235 694Q242 694 254 682T266 664Q266 659 254 648T226 623T193 578T167 511Q164 500 164 494T164 487Q188 500 212 500Q251 500 274 475T297 414Q297 378 274 354T212 329Q167 329 139 367T110 461ZM377 461Q377 502 388 541T417 606T452 653T484 684T502 694Q509 694 521 682T533 664Q533 659 521 648T493 623T460 578T434 511Q431 500 431 494T431 487Q455 500 479 500Q518 500 541 475T564 414Q564 378 541 354T479 329Q434 329 406 367T377 461',
    0x201D: '38 572T38 608T61 669T121 694Q167 694 196 657T225 559Q225 520 214 482T186 418T151 370T119 339T99 329T82 340T70 360Q70 365 74 369T92 385T122 414Q142 441 154 471T170 518L172 535L166 532Q160 530 148 527T122 523Q85 523 62 547ZM305 572T305 608T328 669T388 694Q434 694 463 657T492 559Q492 520 481 482T453 418T418 370T386 339T366 329T349 340T337 360Q337 365 341 369T359 385T389 414Q409 441 421 471T436 518L439 535L433 532Q427 530 415 527T389 523Q352 523 329 547',
    0x2020: '231 470Q232 471 232 473Q232 477 213 540T193 636Q192 642 192 651T204 677T239 700Q249 702 255 702Q300 702 315 660Q317 653 317 636Q317 603 298 539T279 472V470Q280 470 318 488T383 506Q408 506 423 493T442 467T446 444T443 421T424 396T383 382Q355 382 318 400T279 418Q278 416 285 392T303 334T316 284Q318 268 318 234Q318 149 311 45T296 -127T284 -203Q279 -211 255 -211Q237 -211 233 -210T226 -203Q222 -195 214 -129T199 41T192 234V245Q192 286 212 349Q233 413 231 418Q229 418 192 400T128 382Q102 382 86 396T67 421T64 444T67 466T86 492T128 506Q155 506 192 488T231 470',
    0x2021: '193 637Q193 663 206 679T231 698T255 702T279 699T304 679T317 637Q317 605 299 557T280 504Q280 503 281 503T320 521T382 539Q410 539 428 521T446 476Q446 454 432 434T383 414H377Q358 414 320 431T281 449L280 448Q280 444 298 396T317 316Q318 310 318 301T306 275T271 252Q261 250 255 250Q210 250 195 292Q193 299 193 316Q193 347 211 395T230 448Q230 449 229 449Q227 449 196 434Q151 414 133 414H127Q102 414 87 427T68 452T64 477Q64 503 81 521T127 539Q143 539 164 532T204 515T226 504Q230 502 230 504Q230 508 212 556T193 637ZM193 184Q193 210 206 226T231 245T255 249T279 246T304 226T317 184Q317 153 299 106T280 53Q280 51 282 51T322 68T383 86Q411 86 428 69T445 24T428 -21T382 -39Q358 -39 322 -22T282 -4Q280 -3 280 -3T280 -6Q281 -13 299 -59T317 -136Q318 -142 318 -151T306 -177T271 -200Q261 -202 255 -202Q210 -202 195 -160Q193 -153 193 -136Q193 -106 211 -60T230 -6Q230 -4 228 -4T188 -21T128 -39Q100 -39 83 -22T65 24Q65 53 82 69T127 86Q150 86 187 69T228 51Q230 50 230 50T230 53Q229 58 211 105T193 184',
    0x2022: '64 251Q64 303 80 344T121 409T175 448T230 469T275 474Q277 474 283 474T292 473Q385 473 447 415T510 251Q510 149 449 89T287 28T126 88T64 251',
    0x2026: '74 85Q74 121 99 146T156 171Q200 171 222 143T245 85Q245 56 224 29T160 1Q118 1 96 27T74 85ZM562 85Q562 121 587 146T644 171Q688 171 710 143T733 85Q733 56 712 29T648 1Q606 1 584 27T562 85ZM1050 85Q1050 121 1075 146T1132 171Q1176 171 1198 143T1221 85Q1221 56 1200 29T1136 1Q1094 1 1072 27T1050 85',
    0x2032: '240 563Q278 563 304 539T331 480V473Q331 462 316 431T217 236Q199 200 174 151T136 78T123 50Q113 33 105 33Q101 33 72 45T38 60Q35 63 35 65Q35 77 101 293T171 517Q182 542 202 552T240 563',
    0x203E: '80 540V607H494V540H80',
    0x2044: '451 730Q460 750 479 750Q492 750 501 740T510 718Q508 708 318 244L122 -232Q112 -250 95 -250Q82 -250 73 -241T64 -218Q66 -205 258 261T451 730',
    0x20D7: '406 694Q406 704 413 713T433 723Q448 723 454 719T467 701Q483 665 522 648Q542 637 542 619Q542 605 536 599T514 586Q468 569 431 532Q411 513 399 513Q386 513 378 522T369 543Q369 557 381 568Q385 572 387 574L400 588H228L56 589Q33 598 33 618Q33 636 56 649H426Q406 676 406 694',
    0x210F: '477 56Q477 48 479 46T490 43Q522 45 544 75T577 140Q582 156 585 159T605 162H611H622Q642 162 642 148Q642 138 632 114T602 62T550 13T478 -8Q429 -8 394 17T358 83Q358 95 395 199T433 350Q433 400 394 400H388H383Q335 400 291 363Q256 332 236 298Q233 293 202 170T169 40Q160 18 141 5T99 -8Q70 -8 58 9T45 39Q45 51 116 336L167 540H80V607H184L188 622H184Q183 622 179 622T169 623T157 624T146 624T136 624T131 625Q119 628 119 642Q119 647 123 661T129 679Q133 684 142 685T220 690Q293 694 307 694Q324 694 328 679Q328 673 311 607H494V540H294Q286 507 278 473T264 420L260 403Q260 400 269 408Q327 451 393 451H401H410Q425 451 439 450T476 442T515 424T544 391T556 337Q556 286 517 179T477 56',
    0x2113: '245 -19Q228 -19 212 -16T184 -6T162 9T143 27T129 46T118 66T111 84T106 99T102 111L101 116L69 89L36 62Q31 60 24 62Q-1 88 -1 98Q-1 101 1 105Q1 106 73 170L95 189V197Q95 242 112 317T159 476T241 624T353 701Q357 702 367 702Q428 702 444 641Q446 630 446 606Q446 454 241 246L215 220L212 203Q203 150 203 114Q203 113 203 106T204 95T205 82T209 67T214 54T223 43T236 35T253 32Q277 32 305 44T352 70T389 98T407 112Q409 113 412 113Q420 113 432 95Q445 77 443 70Q440 64 416 44T342 3T245 -19ZM387 615Q387 651 366 651Q342 651 321 604T276 470L241 331Q246 331 280 373T350 486T387 615',
    0x2118: '399 159Q410 159 421 151T433 126Q433 104 410 85Q408 84 410 78Q411 72 414 66T428 51T455 43Q483 43 506 55T543 83T568 125T584 166T594 206Q595 211 596 214Q610 273 610 301Q610 365 542 365H538Q483 365 429 344T337 292T269 229T225 175T210 150L255 99Q261 92 274 78T292 58T305 41T316 22T321 3T324 -23Q324 -87 283 -148T174 -210H171Q161 -210 152 -209T128 -201T101 -180T81 -141T72 -78Q72 -72 72 -60T73 -45Q79 4 102 65L108 81Q84 117 84 167Q84 273 140 367T269 461Q285 461 285 447Q285 440 282 431Q278 418 276 415T264 410Q228 404 201 336T174 219Q174 218 176 202L184 214Q252 303 348 360T549 417Q614 417 658 391T719 317Q726 292 726 260Q726 148 646 70T451 -8Q407 -8 377 17T346 92Q346 159 396 159H399ZM178 -160Q200 -160 216 -132T232 -75Q232 -63 228 -56T203 -26Q196 -18 192 -14Q185 -5 176 5T161 20T156 27L153 28Q151 28 146 8T137 -42T132 -89Q132 -160 178 -160',
    0x2135: '590 427Q581 427 579 433T575 450T568 470V468L532 288L541 281Q620 220 634 165L637 154V124Q637 74 628 46Q623 32 612 16T592 0Q580 0 578 19T569 69T538 121Q532 126 385 240T236 355Q234 355 231 338T225 291T222 237Q222 222 223 213T225 201T228 195T231 190Q238 179 261 160T300 119T316 73Q316 41 291 23T231 1Q226 0 149 0H98Q73 0 69 3T64 24Q64 43 67 47T85 51H89Q119 51 134 55T152 64T154 76Q154 95 125 141T96 220Q96 243 104 270T123 319T145 360T164 391T172 404T150 421T102 468T68 529L65 541V570Q65 620 74 648Q79 664 91 679T111 694Q122 694 123 675T132 625T164 573Q168 569 319 452T471 335Q471 337 486 409T502 488Q502 489 491 493T467 511T448 546V573Q448 602 452 624T462 659T474 680T486 691T493 694Q499 694 502 691T507 682T513 673Q517 667 534 651T557 630Q558 629 590 616T631 587Q638 577 638 543Q637 489 622 458T590 427',
    0x2190: '1063 281Q1084 268 1084 251Q1084 231 1063 221L649 220H235Q340 133 364 17Q368 1 368 -2Q368 -16 343 -17Q340 -17 338 -17H332Q317 -17 314 -14T305 6Q298 34 285 62T247 126T179 189T78 233Q64 237 64 251Q64 261 74 265T108 277T154 297Q212 328 251 379T305 495Q309 511 313 514T333 518H338Q363 517 367 510Q368 507 368 503Q368 500 364 484Q345 401 287 331Q254 295 235 282L649 281H1063',
    0x2191: '33 396Q14 396 14 423Q14 445 18 449T41 459Q72 466 99 478T147 505T185 537T215 571T238 604T254 635T264 661T270 678L272 685Q276 694 288 694Q298 692 300 689T307 672Q331 592 392 535T535 459Q553 454 557 450T561 423Q561 396 542 396Q531 396 501 405T418 443T329 517L319 529L318 179V-171Q307 -193 288 -193Q265 -193 258 -171L257 179V529L247 517Q209 473 158 444T76 405T33 396',
    0x2192: '65 251Q65 270 87 281H500L914 282Q881 304 842 357T785 482Q781 500 781 501Q781 512 792 517Q794 518 812 518H817Q832 518 835 515T844 495Q864 412 923 351T1065 270Q1085 263 1085 251Q1085 240 1077 236T1044 225T995 204Q937 173 898 122T844 6Q840 -10 836 -13T816 -17H811Q786 -16 782 -9Q781 -6 781 -2Q781 1 785 17Q813 138 914 220H500L87 221Q65 228 65 251',
    0x2193: '14 77Q14 104 33 104Q44 104 74 96T156 57T247 -17L257 -29V321Q257 669 259 675Q268 694 289 694Q295 693 300 691T307 686T313 679T318 672V321L319 -29L329 -17Q366 26 417 55T499 94T542 104Q561 104 561 77Q561 56 557 51T535 41Q481 28 438 0T370 -58T330 -119T308 -167T302 -187Q297 -194 288 -194Q278 -194 273 -186T265 -165T251 -127T220 -77Q151 15 41 41Q22 46 18 50T14 77',
    0x2194: '305 495Q309 511 313 514T333 518H338Q363 517 367 510Q368 507 368 503Q368 500 364 484Q345 401 287 331Q254 295 235 282L404 281H744L914 282Q880 305 839 362T785 484Q781 500 781 503Q781 517 806 518Q809 518 811 518H817Q832 518 835 515T844 495Q864 412 923 351T1065 270Q1085 263 1085 251Q1085 240 1077 236T1044 225T995 204Q937 173 898 122T844 6Q840 -10 836 -13T816 -17H811Q786 -16 782 -9Q781 -6 781 -2Q781 1 785 17Q813 138 914 220H235Q340 133 364 17Q368 1 368 -2Q368 -16 343 -17Q340 -17 338 -17H332Q317 -17 314 -14T305 6Q298 34 285 62T247 126T179 189T78 233Q64 237 64 251Q64 261 74 265T108 277T154 297Q212 328 251 379T305 495',
    0x2195: '33 469Q14 469 14 496Q14 518 18 522T41 532Q121 551 182 608T268 745Q275 767 288 767Q299 767 303 755T320 713T355 650Q424 558 535 532Q553 527 557 523T561 496Q561 469 542 469Q531 469 501 478T418 516T329 590L319 602L318 426V74L319 -102L329 -90Q366 -47 417 -18T499 21T542 31Q561 31 561 4Q561 -17 557 -22T535 -32Q454 -51 393 -108T307 -245Q300 -267 288 -267Q279 -267 274 -259T266 -238T250 -200T220 -150Q151 -58 41 -32Q22 -27 18 -23T14 4Q14 31 33 31Q44 31 74 23T156 -16T247 -90L257 -102V602L247 590Q209 546 158 517T76 478T33 469',
    0x2196: '429 724Q438 724 452 711T466 690Q466 681 452 671Q361 602 242 599H218L756 135Q832 69 913 -1T1036 -108L1077 -143Q1084 -151 1084 -163Q1084 -180 1074 -187T1054 -194H1052Q1043 -194 939 -105Q866 -42 812 5Q180 549 178 549V546Q179 542 179 539Q183 520 183 483Q183 435 172 390T149 323T130 296Q121 292 115 295Q85 312 85 328Q85 331 95 350T115 406T125 486Q125 540 110 583T79 648T64 675Q64 681 68 687T81 693Q87 693 94 690Q162 657 232 657Q296 657 349 681T420 722Q422 724 429 724',
    0x2197: '1069 693Q1076 693 1080 687T1085 675Q1085 671 1076 656T1055 621T1034 565T1024 486Q1024 442 1034 406T1054 351T1064 328Q1064 321 1057 313T1042 300L1034 295Q1030 293 1027 293Q1023 293 1020 295T1014 301T1009 308T1005 316T1001 324Q980 368 971 419Q966 442 966 484V492Q966 528 972 553Q971 553 757 368T328 -3T107 -191Q103 -193 94 -193Q78 -193 71 -184T64 -164Q64 -153 72 -143Q79 -136 382 124L934 599H909Q837 599 760 634T683 690Q683 697 696 710T722 724Q726 724 742 714T779 691T838 668T920 657Q959 657 991 666T1043 684T1069 693',
    0x2198: '65 663Q65 680 74 687T93 694H96Q104 694 118 683T204 610Q280 545 338 495Q969 -49 971 -49L970 -46Q970 -42 970 -39Q966 -20 966 18Q966 65 977 110T1001 177T1019 204Q1028 208 1034 205Q1064 188 1064 172Q1064 169 1054 150T1034 94T1024 14Q1024 -28 1033 -64T1054 -120T1075 -155T1085 -175Q1085 -181 1081 -187T1068 -193Q1062 -193 1055 -190Q987 -157 919 -157Q817 -157 739 -215Q727 -224 720 -224Q712 -224 697 -210Q683 -199 683 -190T697 -171Q788 -102 907 -99H931L393 365Q317 431 236 501T114 608L72 643Q65 651 65 663',
    0x2199: '80 -193Q73 -193 69 -187T64 -175Q64 -172 79 -150T109 -84T125 14Q125 58 115 94T95 149T85 172Q85 179 92 187T108 200L115 205Q119 207 122 207Q126 207 129 205T135 199T140 192T144 184T148 176Q169 132 178 81Q183 58 183 17Q183 -7 182 -24T178 -48L177 -53Q178 -53 389 129T816 498T1043 692Q1049 694 1054 694Q1070 694 1077 684T1085 664Q1085 653 1077 643Q1070 636 767 376L215 -98L240 -99Q312 -99 389 -134T466 -190Q466 -197 452 -210T429 -224Q422 -224 411 -215Q330 -157 229 -157Q190 -157 158 -166T106 -184T80 -193',
    0x21A6: '65 426Q74 448 95 448Q112 448 125 426V281H500L914 282Q881 304 842 357T785 482Q781 500 781 501Q781 512 792 517Q794 518 812 518H817Q832 518 835 515T844 495Q864 412 923 351T1065 270Q1085 263 1085 251Q1085 240 1077 236T1044 225T995 204Q937 173 898 122T844 6Q840 -10 836 -13T816 -17H811Q786 -16 782 -9Q781 -6 781 -2Q781 1 785 17Q813 138 914 220H500L135 221Q134 221 133 221T130 220H125V76Q115 54 95 54Q73 54 65 76V426',
    0x21A9: '1029 475Q1029 505 1068 505Q1129 501 1173 463T1218 363Q1218 296 1170 259T1066 221H1063L649 220H235Q340 133 364 17Q368 1 368 -2Q368 -16 343 -17Q340 -17 338 -17H332Q317 -17 314 -14T305 6Q298 34 285 62T247 126T179 189T78 233Q64 237 64 251Q64 261 74 265T108 277T154 297Q212 328 251 379T305 495Q309 511 313 514T333 518H338Q363 517 367 510Q368 507 368 503Q368 500 364 484Q345 401 287 331Q254 295 235 282L649 281H1063Q1105 284 1131 305T1158 361Q1158 385 1146 401Q1122 441 1063 444Q1029 446 1029 475',
    0x21AA: '225 221H218Q159 221 112 260T65 363Q65 431 116 468T221 505Q254 503 254 474Q254 456 245 450T216 443T188 438Q152 427 137 401Q125 385 125 362Q125 334 147 310Q171 288 221 281H632L1046 282Q1013 304 974 357T917 482Q913 500 913 501Q913 512 924 517Q926 518 944 518H949Q964 518 967 515T976 495Q996 412 1055 351T1197 270Q1217 263 1217 251Q1217 240 1209 236T1176 225T1127 204Q1069 173 1030 122T976 6Q972 -10 968 -13T948 -17H943Q918 -16 914 -9Q913 -6 913 -2Q913 1 917 17Q945 138 1046 220H632L225 221',
    0x21BC: '1063 281Q1084 268 1084 251Q1084 231 1063 221L572 220Q79 220 77 221Q64 225 64 244Q64 250 64 254T67 261T71 265T78 268T85 272Q142 302 189 345T258 421T296 484T315 516Q319 518 337 518Q358 518 363 512Q370 504 367 496Q360 469 319 404T219 290L209 282L636 281H1063',
    0x21BD: '1063 281Q1084 268 1084 251Q1084 231 1063 221L636 220H209L219 212Q278 162 319 97T367 5Q370 -3 363 -11Q358 -17 337 -17H332Q318 -17 314 -14T302 7Q278 55 246 95T185 160T130 202T88 228L70 237Q64 243 64 257Q64 274 75 279Q78 281 571 281H1063',
    0x21C0: '65 251Q65 270 87 281H513L940 282L930 290Q871 338 830 403T782 496Q779 510 791 517Q794 518 812 518H817Q831 518 835 515T847 494Q871 445 903 404T966 338T1022 298T1064 272T1083 259Q1085 255 1085 245Q1085 225 1072 221Q1070 220 578 220L87 221Q65 228 65 251',
    0x21C1: '84 279Q89 281 580 281Q1070 281 1074 279Q1085 275 1085 256Q1085 245 1083 241T1066 230Q919 153 847 7Q839 -11 835 -14T817 -17H812Q791 -17 786 -11Q779 -3 782 5Q789 31 830 96T930 212L940 220H513L87 221Q64 229 64 250Q64 272 84 279',
    0x21CC: '65 451Q65 470 87 481H513L940 482L930 490Q871 538 830 603T782 696Q779 710 791 717Q794 718 812 718H817Q831 718 835 715T847 694Q871 645 903 604T966 538T1022 498T1064 472T1083 459Q1085 455 1085 445Q1085 425 1072 421Q1070 420 578 420L87 421Q65 428 65 451ZM1063 281Q1084 268 1084 251Q1084 231 1063 221L636 220H209L219 212Q278 162 319 97T367 5Q370 -3 363 -11Q358 -17 337 -17H332Q318 -17 314 -14T302 7Q278 55 246 95T185 160T130 202T88 228L70 237Q64 243 64 257Q64 274 75 279Q78 281 571 281H1063',
    0x21D0: '1063 169L1068 166Q1072 163 1074 162T1079 157T1083 149T1085 139Q1085 118 1063 109L733 108H404L412 99Q455 50 488 -10Q498 -27 493 -37Q487 -46 465 -46H460Q446 -46 439 -39T426 -18T399 25T344 89Q239 194 99 229Q96 230 92 231T85 232T79 234T73 235T69 237T66 240T65 244T64 250Q64 267 90 271Q197 295 286 361T430 525Q439 542 442 544T460 547H465Q487 547 492 539Q496 531 496 530Q496 521 471 482T414 405L404 394L733 393H1063Q1064 392 1069 389T1076 384T1082 375T1085 362Q1085 344 1063 333L700 332H338L324 321Q283 290 230 264L205 250Q266 224 323 180L338 170L700 169H1063',
    0x21D1: '672 343Q672 326 670 320T657 313Q644 313 602 335Q577 349 557 361T527 381T509 395T499 403T495 406T494 118Q494 -166 492 -174Q484 -193 465 -193H463Q456 -193 453 -192T444 -186T433 -170V465L423 477Q407 495 394 514T367 554T351 579Q349 576 339 560T313 520T279 477L269 465V-22V-102Q269 -132 269 -145T268 -169T266 -180T260 -185T253 -191Q248 -193 239 -193H237Q218 -193 210 -174Q208 -166 208 118Q208 406 207 406L199 399Q191 392 165 374T100 335Q58 313 45 313Q35 313 33 319T30 343V349Q30 359 30 362T35 369T45 374T66 383T100 401Q267 499 333 680Q339 694 351 694Q361 694 365 687T380 652T407 597Q442 536 489 489T573 420T638 383T670 365Q672 361 672 343',
    0x21D2: '64 362Q64 380 87 393H416L745 394L735 405Q708 436 681 477T654 531Q654 547 679 547H684H689Q703 547 710 540T723 519T750 475T806 411Q914 303 1059 271Q1060 271 1063 270T1068 269T1072 268T1076 266T1079 264T1082 260T1083 256T1084 250Q1084 242 1080 238T1063 231T1035 225T992 211T934 185Q797 112 719 -24Q710 -40 706 -43T689 -46H684Q653 -46 653 -31Q653 -24 661 -10Q694 50 737 99L745 108H416L87 109Q64 117 64 139Q64 156 87 169H449L812 170L826 180Q842 193 860 204T892 223T918 237T937 246L944 250L919 264Q866 290 825 321L811 332H449L87 333Q64 343 64 362',
    0x21D3: '30 157Q30 174 32 180T46 187Q59 187 104 163Q154 136 198 101L207 94Q208 94 208 382Q208 666 210 674Q219 694 241 694Q254 692 262 683Q266 679 267 674Q269 658 269 522V35L279 23Q295 5 308 -14T335 -54T351 -79Q353 -76 363 -60T389 -20T423 23L433 35V671Q439 682 444 686T452 692T463 693H465Q484 693 492 674Q494 666 494 382Q494 94 495 94L504 101Q547 135 593 160T652 187Q665 191 671 177Q672 175 672 157Q672 137 669 134T636 116Q606 101 578 83T528 47T486 9T452 -30T424 -68T403 -103T387 -134T377 -159T370 -176L367 -184Q360 -194 351 -194Q345 -194 342 -192T334 -182T327 -166T315 -137T295 -97Q260 -36 213 11T129 80T63 117T32 136Q30 139 30 157',
    0x21D4: '336 497Q358 541 363 544Q367 547 379 547H384Q401 547 405 545Q418 538 414 525T389 474T346 408L335 393H814L803 408Q781 436 760 474T735 525T744 545Q748 547 765 547Q771 547 774 547T780 546T786 544T790 541T794 535T799 527T805 514T813 497Q841 446 877 406T950 340T1014 301T1068 276L1096 265Q1102 259 1102 251Q1102 240 1085 232Q981 195 902 121Q835 56 798 -25Q791 -40 787 -43T765 -46T744 -44Q735 -40 735 -30Q735 -15 760 28T806 98L814 108H335L343 98Q361 75 378 46T404 -1T414 -24Q418 -37 405 -44Q401 -46 384 -46T363 -43T351 -25Q314 56 247 121Q216 150 182 173T125 206T79 226T53 237Q47 243 47 251Q47 254 47 256T49 261T52 264T57 267T61 268T66 270T71 272Q246 335 336 497ZM985 251Q932 280 882 323L871 332H278Q264 321 253 311T237 297T214 282T164 251L176 244Q221 218 278 169H871Q928 218 973 244L985 251',
    0x21D5: '49 441Q30 441 30 464V471V480Q30 498 44 502Q237 573 331 750Q337 767 351 767Q360 767 368 753T400 702T460 629Q504 584 552 554T632 511T666 497Q672 493 672 471Q672 454 670 449Q664 441 653 441Q639 443 591 465T508 513L495 522L494 386V114L495 -22L508 -13Q543 12 591 34T653 59Q672 59 672 36V29V20Q672 2 658 -2Q465 -71 367 -257Q360 -267 351 -267Q343 -267 336 -257T320 -231T292 -187T242 -129Q198 -84 150 -54T70 -11T36 3Q30 7 30 29Q30 46 32 51Q38 59 49 59Q63 57 111 35T194 -13L208 -22V522L194 513Q159 488 111 466T49 441ZM422 584Q411 594 400 606T383 626T366 648T351 667Q349 665 339 652T314 620T280 584L269 573V-73L280 -84Q305 -108 351 -166Q353 -164 363 -151T389 -119T422 -84L433 -73V573L422 584',
    0x2200: '1 664Q-2 685 23 693H27Q46 693 54 680T102 578L148 475H492L533 570Q541 586 548 603T560 630T569 650T576 667T582 678T588 686T594 691T600 693T609 694Q622 694 631 684T639 662Q637 653 492 325T341 -8Q333 -16 320 -16Q306 -16 298 -8Q294 -4 147 326L1 656V664ZM464 414H319Q175 414 175 413L319 88L464 414',
    0x2203: '81 347Q81 359 84 363T104 378H513V633H300L87 634Q64 642 64 664Q64 685 84 692Q89 694 321 694H552Q571 681 574 669V25Q567 7 552 1H87Q64 12 64 30T87 61H513V317H308Q103 317 99 319Q81 328 81 347',
    0x2205: '285 711Q307 711 326 708T357 701T370 698Q371 698 375 710T383 735T389 750Q395 767 415 767Q431 767 438 757T446 738T436 701T426 670Q426 668 433 664Q468 633 489 588Q511 542 519 488T528 344Q528 286 524 243T508 150T466 63T394 6Q345 -17 287 -17Q265 -17 246 -14T216 -7T203 -4Q191 -47 183 -60T159 -73Q146 -73 137 -63T128 -44Q128 -38 138 -7L148 24L141 30Q134 35 120 49Q94 77 78 113T56 194T48 268T46 344Q46 388 47 416T56 494T78 577T122 644T194 694Q239 711 285 711ZM351 639Q350 639 346 642T337 648T325 654T306 658T283 660Q254 660 221 638T181 567Q171 513 171 375Q171 164 182 129L351 639ZM402 356Q402 516 395 555Q395 557 395 559T394 563T394 566L393 568L223 57Q252 34 286 34H288Q318 34 346 53T387 109Q402 152 402 329V356',
    0x2206: '901 12Q901 7 892 0H479Q65 0 62 2Q56 6 56 11Q56 14 242 347T433 685Q438 694 450 696Q454 698 480 698H506L523 687Q526 683 711 354T899 17Q901 13 901 12ZM653 137L427 538L202 137L315 136H540L653 137',
    0x2208: '97 251Q97 393 194 484T417 586Q418 586 436 586T482 586T538 587H648Q649 586 652 584T658 580T664 575T668 568T670 557Q670 536 648 527L534 526Q515 526 491 526T457 526T435 526T417 525T404 523T390 521T374 517Q298 498 243 447T167 324Q159 295 159 283Q159 281 403 281H648Q649 280 652 278T658 274T664 269T668 262T670 251Q670 230 648 221L403 220Q159 220 159 218Q159 206 166 182T190 122T247 50T341 -6Q380 -20 405 -22T534 -25H648Q649 -26 654 -29T661 -34T667 -43T670 -56Q670 -74 648 -85L541 -86Q419 -86 396 -82Q276 -65 187 24T97 251',
    0x2209: '126 -210Q116 -210 107 -203T97 -179Q97 -171 99 -166Q99 -165 111 -145T150 -80T203 8Q97 104 97 251Q97 393 194 484T417 586Q418 586 436 586T482 586T538 587H549Q565 614 582 643T608 685L616 698Q623 711 641 711Q651 711 660 704T670 681Q670 672 667 667Q666 666 661 657T644 627T620 587H648Q649 586 652 584T658 580T664 575T668 568T670 557Q670 536 648 527L584 526L437 281H648Q649 280 652 278T658 274T664 269T668 262T670 251Q670 230 648 221L403 220H401L283 23Q311 5 341 -6Q380 -20 405 -22T534 -25H648Q649 -26 654 -29T661 -34T667 -43T670 -56Q670 -74 648 -85L541 -86Q419 -86 396 -82Q320 -71 252 -29Q152 -197 148 -201Q139 -210 126 -210ZM235 62L330 220Q159 219 159 218Q159 196 176 150T235 62ZM366 281L513 526Q503 526 487 526T465 526T448 525T433 525T422 525T412 524T403 523T394 521T385 519T374 517Q298 498 243 447T167 324Q159 295 159 283Q159 281 366 281',
    0x220B: '96 251Q96 268 119 281H363Q607 281 607 283Q607 295 600 319T576 379T519 451T425 507Q386 521 361 523T233 526L119 527Q96 535 96 557Q96 578 116 585Q121 587 229 587Q238 587 257 587T288 588Q366 588 435 568T568 488Q670 388 670 251Q670 155 621 78T499 -39T345 -85Q336 -86 225 -86L119 -85Q96 -77 96 -55Q96 -38 119 -25H233Q356 -24 371 -21Q373 -21 393 -16Q468 3 523 55T599 177Q607 206 607 218Q607 220 363 220L119 221Q96 229 96 251',
    0x2212: '119 221Q96 230 96 251T116 279Q121 281 448 281H775Q776 280 779 278T785 274T791 269T795 262T797 251Q797 230 775 221H119',
    0x2213: '64 155Q64 172 87 185H416V476H251L87 477Q64 485 64 507Q64 528 84 535Q89 537 448 537H807Q808 536 811 534T817 530T823 525T827 518T829 507Q829 486 807 477L642 476H477V185H807Q808 184 811 182T817 178T823 173T827 166T829 155Q829 134 807 125L642 124H477V-39Q477 -203 475 -208Q466 -227 446 -227Q427 -227 417 -205L416 -41V124H251L87 125Q64 133 64 155',
    0x2215: '451 730Q460 750 479 750Q492 750 501 740T510 718Q508 708 318 244L122 -232Q112 -250 95 -250Q82 -250 73 -241T64 -218Q66 -205 258 261T451 730',
    0x2216: '64 718Q63 731 72 740T94 750Q106 750 113 743Q118 741 122 732L318 256Q508 -208 510 -218Q511 -231 502 -240T480 -250Q460 -250 451 -230Q451 -229 259 238T64 718',
    0x2217: '236 431Q237 447 251 459T287 472T323 459T338 431Q338 423 328 363L317 300Q318 300 340 317T392 356T435 387Q442 390 450 390Q470 390 485 374T501 335Q501 326 500 320T494 309T486 300T473 293T458 287T438 280T414 272L353 250L414 228Q422 225 436 221T457 214T472 208T485 201T493 192T499 181T501 166Q501 141 484 126T450 111Q447 111 445 111T441 111T437 112T433 114T428 117T422 121T414 127T404 135T391 145T374 158L317 200L328 137Q338 77 338 69Q336 52 321 40T287 28T253 40T236 69Q236 77 246 137L257 200Q256 200 234 183T182 144T139 113Q132 110 124 110Q104 110 89 126T73 165Q73 174 74 180T80 191T88 200T101 207T116 213T136 220T160 228L221 250L160 272Q152 275 138 279T117 286T102 292T89 299T81 308T75 319T73 334Q73 359 90 374T124 389Q127 389 129 389T133 389T137 388T141 386T146 383T152 379T160 373T170 365T183 355T200 342L257 300L246 363Q236 423 236 431',
    0x2218: '64 251Q64 303 80 344T121 409T175 448T230 469T275 474Q277 474 283 474T292 473Q385 473 447 415T510 251Q510 149 449 89T287 28T126 88T64 251ZM448 251Q448 325 405 369T286 413Q215 413 171 371T126 251Q126 177 168 133T287 89Q361 89 404 132T448 251',
    0x2219: '64 251Q64 303 80 344T121 409T175 448T230 469T275 474Q277 474 283 474T292 473Q385 473 447 415T510 251Q510 149 449 89T287 28T126 88T64 251',
    0x221A: '107 178Q100 178 89 188T78 207Q78 216 84 220Q85 221 124 248T207 304T260 338Q269 340 275 335Q276 334 370 156L463 -20L698 393Q928 800 935 811Q944 820 954 820Q972 820 980 811T988 789Q988 781 858 553Q776 409 718 306Q452 -166 447 -171Q439 -179 422 -180Q405 -180 400 -175Q399 -174 346 -73T241 128T187 229L151 205Q111 178 107 178',
    0x221D: '65 222Q65 282 88 329T144 401T208 438T261 451H273Q312 451 320 450Q456 431 526 330L537 316Q638 451 778 451Q813 451 830 445V388Q821 391 799 391Q758 391 721 377T660 342T618 301T592 266L584 251Q648 152 697 114Q748 74 804 74H806Q823 74 829 77Q830 77 830 38V-1L820 -3Q801 -7 786 -7H771Q699 -7 632 25T527 114L516 128Q414 -8 276 -8Q192 -8 129 56T65 222ZM256 53Q296 53 332 67T392 102T434 143T461 178L469 193Q405 292 356 330Q308 369 251 369H243Q196 369 156 328T116 221Q116 191 124 161T158 99T225 55Q234 53 256 53',
    0x221E: '65 219Q65 318 132 385T302 452Q473 452 573 331L589 312L596 320Q710 452 857 452Q948 452 1016 386T1084 225Q1084 125 1017 59T848 -8Q679 -8 576 113L560 132L553 124Q439 -8 292 -8Q200 -8 133 58T65 219ZM1033 224Q1033 291 987 340T875 389Q748 389 648 261Q641 253 642 251Q717 163 748 137Q813 81 880 81Q941 81 987 120T1033 224ZM275 56Q315 56 353 70T418 104T466 144T497 178L507 192Q507 193 474 230T441 269Q355 362 267 362Q210 362 163 324T116 221Q116 150 162 103T275 56',
    0x2220: '71 0L68 2Q65 3 63 5T58 11T55 20Q55 21 56 23V25Q55 27 55 30Q55 31 56 33V35Q55 37 55 40Q55 42 57 48Q67 63 346 381Q421 467 518 578Q607 680 623 697T647 714Q656 714 661 708T666 694V692Q676 687 676 674Q676 668 673 663Q672 662 637 622T534 503T400 350L147 61L386 60H653Q666 50 666 40V38Q676 31 676 20Q676 8 661 0H71',
    0x2223: '160 -249Q138 -249 129 -225V250Q129 725 131 729Q139 750 159 750T190 725V-225Q181 -249 160 -249',
    0x2225: '205 -225Q201 -234 199 -237T191 -244T175 -248T161 -246Q151 -240 146 -229Q145 -224 145 251Q145 725 146 730Q156 750 176 750Q193 748 205 727V-225ZM369 727L372 732Q375 737 377 740T385 747T398 750Q406 750 413 747Q423 740 428 730Q430 720 430 251Q430 -219 428 -229Q423 -240 413 -246Q408 -248 400 -248Q393 -248 388 -247T379 -242T375 -236T371 -230L369 -225V727',
    0x2227: '95 -16Q78 -16 71 -6T64 14Q64 20 65 22L212 308Q359 593 361 595Q370 604 385 604Q398 602 405 595Q407 593 554 308L701 22Q702 20 702 15Q702 1 693 -8T671 -17Q661 -17 651 -9Q647 -5 515 251L383 506L251 251Q119 -5 116 -8Q108 -16 95 -16',
    0x2228: '64 572Q64 585 72 594T94 604T116 595Q119 592 251 336L383 81L515 336Q647 592 651 596Q661 604 671 604Q684 604 693 595T702 572Q702 567 701 565L554 279Q407 -6 405 -8Q404 -9 401 -11T397 -14Q392 -16 383 -16H380Q369 -16 361 -8Q359 -6 212 279L65 565Q65 566 65 568T64 572',
    0x2229: '94 -16Q73 -16 64 8V209Q64 239 64 287Q65 418 69 432Q70 434 70 435Q84 487 125 523T216 575T299 597T354 603H372Q444 603 501 590T591 558T648 515T681 471T696 435Q696 434 697 432Q701 417 702 309Q702 303 702 287Q702 239 702 209V8Q693 -16 672 -16Q650 -16 643 3Q641 8 641 201Q641 397 640 403Q631 472 558 507T383 542Q339 542 298 535T219 511T156 468T126 403Q125 397 125 201Q125 8 123 3Q116 -16 94 -16',
    0x222A: '672 603Q693 603 702 579V378Q702 348 702 300Q701 169 697 155Q696 153 696 152Q676 78 593 31T383 -16Q265 -16 179 28T70 152Q70 153 69 155Q65 170 64 278Q64 285 64 300Q64 348 64 378Q64 579 65 583Q74 604 94 604T123 584Q125 579 125 386Q125 190 126 184Q135 115 210 80T383 44Q426 44 467 51T546 75T609 119T640 184Q641 190 641 386Q641 579 643 584Q650 603 672 603',
    0x222B: '204 -71Q204 -108 181 -124T137 -141Q132 -141 132 -142Q142 -161 154 -161Q164 -161 186 -152Q200 -145 210 -135T228 -107T241 -77T249 -38T254 -2T258 38T262 74Q282 265 334 489Q334 490 337 503T341 523T347 544T355 569T365 594T379 620T397 643T420 666T447 685T481 700Q511 711 539 711T587 696T616 656T628 612T632 573Q632 536 610 519T562 501Q534 501 513 519T492 571Q492 608 515 624T559 641Q564 641 564 642Q554 661 542 661Q532 661 510 652Q496 645 486 635T468 607T455 577T447 538T442 502T438 462T434 426Q414 235 362 11Q352 -35 347 -54T328 -101T291 -152Q235 -208 162 -211Q147 -211 136 -208T109 -196T83 -165T67 -108Q64 -94 64 -73Q64 -37 86 -19T134 -1Q162 -1 183 -19T204 -71',
    0x223C: '64 155Q64 210 84 262T150 353T257 391Q300 391 341 371T417 321T484 264T557 215T637 194Q702 194 745 244T788 367Q796 391 808 391Q815 391 821 381T828 353V342Q828 252 776 181T637 109Q594 109 552 129T476 179T409 236T336 285T256 306Q193 306 149 258T105 132Q98 109 86 109Q76 109 70 122T64 155',
    0x2240: '64 561Q64 570 76 576T108 583Q174 583 214 535T254 407Q254 368 238 324T202 248T166 173T149 92Q149 43 169 2T217 -39Q231 -40 242 -46T254 -60Q254 -69 241 -75T210 -82Q145 -82 105 -34T64 93Q64 133 80 177T116 253T152 328T169 408Q169 461 148 500T105 540Q92 540 78 545T64 561',
    0x2243: '64 295Q64 378 117 440T257 502Q298 502 339 485T416 443T486 394T560 352T637 335Q693 335 740 373T788 478Q796 502 808 502Q815 502 821 492T828 465V455Q828 365 771 308T640 250Q603 250 562 265T501 294T439 336L370 382Q308 417 256 417Q205 417 164 388T110 317Q110 316 109 304T107 286T103 270T97 255T86 250Q76 250 70 263T64 295ZM64 6T64 27T87 56H93Q99 56 110 56T137 56T173 56T217 56T267 57T323 57T383 57T448 57H807Q808 56 811 54T815 52T819 49T823 45T826 40T828 34T829 27Q829 7 807 -3H87Q64 6 64 27',
    0x2245: '64 402Q64 457 84 509T150 600T257 638Q300 638 341 618T417 569T484 511T557 462T637 441Q702 441 745 491T788 614Q796 638 808 638Q815 638 821 628T828 600V589Q828 499 776 428T637 356Q594 356 552 376T476 425T409 483T336 532T256 553Q193 553 149 505T105 379Q98 356 86 356Q76 356 70 369T64 402ZM87 197Q64 207 64 226Q64 247 84 255Q89 257 448 257H807Q808 256 811 254T817 250T823 245T827 238T829 227Q829 209 807 197H87ZM87 -27Q64 -18 64 3Q64 23 86 32Q89 33 448 33H807L812 30Q816 27 818 26T823 21T827 13T829 3Q829 -18 807 -27H87',
    0x2248: '64 345Q64 423 119 473T250 524Q301 524 356 503T451 455T542 407T636 385Q700 385 743 417T786 481Q786 493 791 508T807 524Q817 524 823 512T829 479Q829 404 776 352T638 300Q590 300 537 321T443 369T352 417T256 439Q207 439 166 417T110 359Q109 357 107 341T100 312T85 300Q77 300 71 313T64 345ZM64 77Q64 155 119 205T250 256Q302 256 357 235T451 187T541 139T636 117Q699 117 742 148T786 213Q786 231 792 243T808 256T823 242T829 208Q829 134 776 83T640 32Q591 32 537 53T443 101T352 149T256 171Q206 171 165 148T110 91Q109 89 107 73T100 44T85 32Q77 32 71 45T64 77',
    0x224D: '798 533Q812 533 820 524T829 502T819 480T769 440Q655 355 537 330Q492 322 447 322Q401 322 356 330Q289 344 219 381T118 443T73 481Q64 490 64 503Q64 517 72 525T94 533Q99 533 102 532Q107 531 138 507T209 456T314 405T446 382Q604 382 765 515Q788 533 798 533ZM95 -32Q81 -32 73 -23T64 -1Q64 10 74 21T124 61Q213 127 293 153T421 179L422 180Q424 180 426 180T432 180T441 180T452 179Q612 179 769 61Q811 29 820 19T829 -1Q829 -14 821 -23T798 -32Q788 -32 765 -14Q608 118 446 118Q287 118 128 -14Q105 -32 95 -32',
    0x2250: '87 333Q64 343 64 362Q64 383 84 391Q89 393 448 393H807Q808 392 811 390T817 386T823 381T827 374T829 363Q829 345 807 333H87ZM87 109Q64 118 64 139Q64 159 86 168Q89 169 448 169H807L812 166Q816 163 818 162T823 157T827 149T829 139Q829 118 807 109H87ZM362 635Q362 671 387 696T444 721Q488 721 510 693T533 635Q533 606 512 579T448 551Q406 551 384 577T362 635',
    0x2260: '189 -210Q179 -210 170 -203T160 -179Q160 -171 162 -166Q165 -163 327 109H87Q64 118 64 139Q64 159 86 168Q89 169 363 169L461 333H87Q64 343 64 362Q64 383 84 391Q89 393 448 393H496Q533 455 583 539T656 660T679 698Q686 711 704 711Q714 711 723 704T733 681Q733 672 730 667Q729 664 709 631T645 523T567 393H807Q808 392 811 390T817 386T823 381T827 374T829 363Q829 345 807 333H532L433 169H807L812 166Q816 163 818 162T823 157T827 149T829 139Q829 118 807 109H398Q217 -195 211 -201Q202 -210 189 -210',
    0x2261: '87 445Q64 454 64 475Q64 497 84 503Q89 505 448 505H807Q808 504 812 502T818 497T823 492T827 484T829 474Q829 456 807 445H87ZM87 221Q64 230 64 251T84 279Q89 281 448 281H807Q808 280 811 278T817 274T823 269T827 262T829 251Q829 230 807 221H87ZM64 6T64 27T87 56H93Q99 56 110 56T137 56T173 56T217 56T267 57T323 57T383 57T448 57H807Q808 56 811 54T815 52T819 49T823 45T826 40T828 34T829 27Q829 7 807 -3H87Q64 6 64 27',
    0x2264: '797 55Q797 45 790 35T767 25H759L434 180Q108 336 105 339Q96 348 96 360Q96 378 114 388Q126 394 439 544T757 695Q763 697 766 697Q780 697 788 688T797 666Q797 654 788 645Q784 641 507 509T197 361L466 232Q785 80 790 74Q797 66 797 55ZM119 -199Q96 -191 96 -169Q96 -160 102 -152T119 -140H124Q130 -140 140 -140T164 -140T197 -140T237 -140T283 -139T334 -139T389 -139T448 -139H775Q797 -153 797 -169Q797 -187 775 -199H119',
    0x2265: '127 25Q110 25 103 34T96 54Q96 66 105 75Q109 80 439 238L696 361Q113 637 105 645Q96 654 96 667Q96 679 104 688T128 697Q137 696 460 541T788 382Q797 373 797 360Q797 348 788 339Q785 336 459 180L135 25H127ZM119 -199Q96 -191 96 -169Q96 -160 102 -152T119 -140H124Q130 -140 140 -140T164 -140T197 -140T237 -140T283 -139T334 -139T389 -139T448 -139H775Q797 -153 797 -169Q797 -187 775 -199H119',
    0x226A: '734 -74T734 -86T727 -107T704 -116H702Q694 -116 584 -55Q473 7 380 58Q87 219 73 229Q64 238 64 250Q64 263 73 272Q87 282 380 443Q695 616 699 617H700Q718 617 726 607T734 588Q734 568 717 560Q705 554 435 404L157 250L439 94Q721 -61 726 -66Q734 -74 734 -86ZM1085 -74T1085 -86T1078 -107T1055 -116H1053Q1045 -116 935 -55Q824 7 731 58Q438 219 424 229Q415 238 415 250Q415 263 424 272Q438 282 731 443Q1046 616 1050 617H1051Q1069 617 1077 607T1085 588Q1085 568 1068 560Q1056 554 786 404L508 250L790 94Q1072 -61 1077 -66Q1085 -74 1085 -86',
    0x226B: '64 588Q64 600 72 609T94 618H95Q103 618 209 559Q322 496 419 443Q712 282 725 272Q734 263 734 250Q734 238 725 229Q714 220 415 55T110 -113Q103 -116 95 -116Q78 -116 71 -106T64 -86Q64 -74 72 -66Q77 -61 359 94L641 250L363 404Q277 452 173 509Q95 552 82 560T66 576V577Q64 585 64 588ZM415 588Q415 600 423 609T445 618H446Q454 618 560 559Q673 496 770 443Q1063 282 1076 272Q1085 263 1085 250Q1085 238 1076 229Q1065 220 766 55T461 -113Q454 -116 446 -116Q429 -116 422 -106T415 -86Q415 -74 423 -66Q428 -61 710 94L992 250L714 404Q628 452 524 509Q446 552 433 560T417 576V577Q415 585 415 588',
    0x227A: '797 -57Q797 -65 790 -75T766 -86Q748 -86 741 -74T733 -43T719 8T681 72Q647 112 588 141T475 185T343 207T230 216T136 219Q96 219 96 250Q96 280 132 280H136Q193 281 239 283T347 292T457 310T556 342T643 391T703 460T735 553Q741 585 763 585Q781 585 789 575T797 556Q797 540 792 513T758 434T682 345Q605 285 481 254L462 249Q483 246 526 233T633 185T733 104Q767 63 782 15T797 -57',
    0x227B: '96 556Q96 568 104 577T126 586Q152 586 158 553Q164 503 188 462T247 394T331 345T429 313T539 294T649 284T758 280H760Q797 280 797 250Q797 219 760 219H758Q627 217 529 204T347 160T216 77T158 -54Q152 -86 126 -86Q110 -86 103 -76T96 -57Q96 -41 101 -14T135 65T211 154Q288 214 412 245L431 250Q410 252 367 265T259 314T160 395Q127 435 112 483T96 556',
    0x2282: '96 251Q96 389 191 482T417 586Q418 586 428 586T456 586T496 586T546 587T601 587H775Q776 586 779 584T785 580T791 575T795 568T797 557Q797 536 775 527L597 526Q411 525 395 522Q390 521 370 516Q285 494 222 424T158 251Q158 131 246 53Q313 -9 408 -23Q417 -24 597 -25H775Q776 -26 781 -29T788 -34T794 -43T797 -56Q797 -74 775 -85H493Q407 -85 376 -79Q257 -55 177 35T96 251',
    0x2283: '96 -55Q96 -38 119 -25H296Q482 -24 498 -21Q503 -20 523 -15Q609 7 672 77T735 251T665 431T485 524Q476 525 296 526L119 527Q96 535 96 557Q96 578 116 585Q121 587 300 587Q451 586 476 585T522 579Q632 556 714 468T796 251Q796 112 695 13Q612 -65 497 -82Q473 -86 289 -86L119 -85Q96 -77 96 -55',
    0x2286: '96 361Q96 499 191 592T417 696Q418 696 428 696T456 696T496 696T546 697T601 697H775Q776 696 779 694T785 690T791 685T795 678T797 667Q797 646 775 637L597 636Q411 635 395 632Q390 631 370 626Q285 604 222 534T158 361Q158 241 246 163Q313 101 408 87Q417 86 597 85H775Q776 84 781 81T788 76T794 67T797 54Q797 36 775 25H493Q407 25 376 31Q257 55 177 145T96 361ZM149 -199Q127 -191 127 -169T149 -140H154Q160 -140 169 -140T192 -140T224 -140T262 -140T306 -139T354 -139T407 -139T463 -139H775Q776 -140 779 -142T785 -146T791 -151T795 -158T797 -169Q797 -190 775 -199H149',
    0x2287: '96 55Q96 72 119 85H296Q482 86 498 89Q503 90 523 95Q609 117 672 187T735 361T665 541T485 634Q476 635 296 636L119 637Q96 645 96 667Q96 688 116 695Q121 697 300 697Q451 696 476 695T522 689Q632 666 714 578T796 361Q796 222 695 123Q612 45 497 28Q473 24 289 24L119 25Q96 33 96 55ZM119 -199Q96 -190 96 -169T116 -141Q121 -139 433 -139H745Q766 -152 766 -170Q766 -190 745 -199H119',
    0x228E: '672 603Q693 603 702 579V378Q702 348 702 300Q701 169 697 155Q696 153 696 152Q676 78 593 31T383 -16Q265 -16 179 28T70 152Q70 153 69 155Q65 170 64 278Q64 285 64 300Q64 348 64 378Q64 579 65 583Q74 604 94 604T123 584Q125 579 125 386Q125 190 126 184Q135 115 210 80T383 44Q426 44 467 51T546 75T609 119T640 184Q641 190 641 386Q641 579 643 584Q650 603 672 603ZM353 412Q353 420 353 435T352 456Q352 483 358 495T385 507Q403 506 409 494T415 457Q415 451 415 436T414 411V341H558Q579 329 579 311Q579 289 558 281L486 280H414V136Q400 114 384 114Q363 114 354 136L353 208V280H281L209 281Q187 289 187 310Q187 328 209 341H353V412',
    0x2291: '127 25Q111 29 104 49V362L105 675Q114 693 127 696H132Q138 696 149 696T174 696T208 696T249 696T297 697T350 697T407 697T468 697H806Q828 683 828 666Q828 646 806 637L485 636H165V85H805Q806 84 809 82T813 80T817 77T821 73T824 68T826 62T827 55Q827 34 806 25H127ZM96 -190T96 -169T119 -140H125Q131 -140 141 -140T167 -140T201 -140T242 -140T290 -139T344 -139T402 -139T463 -139H805Q806 -140 809 -142T813 -144T817 -147T821 -151T824 -156T826 -162T827 -169Q827 -190 806 -199H119Q96 -190 96 -169',
    0x2292: '66 55Q66 74 89 85H728V636H408L88 637Q66 645 66 667T88 696H94Q99 696 110 696T135 696T169 696T210 696T258 697T311 697T368 697T429 697H767Q786 684 789 672V49Q782 31 767 25H88Q66 32 66 55ZM88 -199Q66 -191 66 -169Q66 -148 87 -140Q91 -139 433 -139H775Q776 -140 779 -142T783 -144T787 -147T791 -151T794 -156T796 -162T797 -169Q797 -189 775 -199H88',
    0x2293: '131 25Q121 1 100 1Q81 1 71 23L70 301Q70 579 72 583Q77 598 90 602Q95 604 385 604H674Q693 591 696 579V25Q686 1 665 1Q646 1 636 23L635 283V543H131V25',
    0x2294: '696 25Q689 7 674 1H93Q77 7 71 23L70 301Q70 579 72 583Q80 604 100 604T131 579V61H635V579Q644 603 666 603Q687 603 696 579V25',
    0x2295: '64 250Q64 350 98 426T189 546T307 610T434 632Q485 632 496 631Q572 621 635 592Q669 575 699 550T760 484T809 384T828 250Q828 77 725 -27T446 -132Q272 -132 168 -27T64 250ZM416 282V570H414Q341 564 285 535T202 475T156 397T134 332T128 287Q127 283 127 282H416ZM765 288Q760 344 743 389T700 462T647 512T589 543T538 560T499 568L483 570H478V282H766L765 288ZM416 -69V220H127Q130 195 131 189T138 155T150 115T168 76T196 35T234 0T286 -35Q337 -61 410 -69H416ZM483 -69Q554 -60 607 -33T687 21T733 93T756 156T764 209Q766 217 766 220H478V-69H483',
    0x2296: '64 250Q64 350 98 426T189 546T307 610T434 632Q485 632 496 631Q572 621 635 592Q669 575 699 550T760 484T809 384T828 250Q828 77 725 -27T446 -132Q272 -132 168 -27T64 250ZM765 288Q753 424 666 497T446 571T227 498T128 288L127 282H766L765 288ZM446 -70Q578 -70 666 4T765 213L766 220H127Q130 195 131 189T138 155T150 115T168 76T196 35T234 0T286 -35Q353 -70 446 -70',
    0x2297: '64 250Q64 350 98 426T189 546T307 610T434 632Q485 632 496 631Q572 621 635 592Q669 575 699 550T760 484T809 384T828 250Q828 77 725 -27T446 -132Q272 -132 168 -27T64 250ZM647 512Q567 571 447 571Q340 571 262 523Q237 507 237 505L342 399L447 295L657 505L647 512ZM298 356L192 461Q180 445 161 411Q126 341 126 251Q126 128 192 40L403 250L298 356ZM701 41Q704 41 719 63T750 138T767 250Q767 310 750 362T719 437T701 460L491 250L701 41ZM238 -5Q238 -8 261 -22T336 -53T447 -70Q567 -70 647 -11L657 -4L447 206L342 101Q238 -1 238 -5',
    0x2298: '64 250Q64 350 98 426T189 546T307 610T434 632Q485 632 496 631Q572 621 635 592Q669 575 699 550T760 484T809 384T828 250Q828 77 725 -27T446 -132Q272 -132 168 -27T64 250ZM657 505Q656 506 650 510T638 518T623 527T604 537T581 547T553 556T522 563T486 569T446 571Q305 571 216 487T126 251Q126 128 192 40L657 505ZM447 -70Q591 -70 679 16T767 250Q767 308 751 360T719 436T701 460L469 228Q238 -1 238 -5Q238 -8 261 -22T336 -53T447 -70',
    0x2299: '64 250Q64 350 98 426T189 546T307 610T434 632Q485 632 496 631Q572 621 635 592Q669 575 699 550T760 484T809 384T828 250Q828 77 725 -27T446 -132Q272 -132 168 -27T64 250ZM767 252Q767 395 681 483T446 571Q303 571 215 486T126 249Q126 107 212 19T446 -70Q596 -70 681 18T767 252ZM335 251Q335 297 368 329T441 361Q498 361 527 327T557 250Q557 202 525 171T446 140Q397 140 366 173T335 251',
    0x22A2: '65 672Q76 693 91 693Q115 693 123 674Q125 669 125 523V378H615Q618 376 622 373T628 369T632 366T635 362T636 356T637 347Q637 328 619 319Q615 317 370 317H125V171Q125 25 123 20Q114 1 94 1Q73 1 65 23V672',
    0x22A3: '64 327T64 347T89 378H577V525L578 672Q592 693 604 693Q629 693 638 669V25Q628 1 607 1Q588 1 578 23L577 170V317H88Q64 327 64 347',
    0x22A4: '64 664Q64 675 71 683T87 693H93Q99 693 110 693T137 693T173 693T217 694T267 694T323 694T383 694T448 694H807Q808 693 811 691T817 687T823 682T827 675T829 664Q829 643 807 634L642 633H477V25Q467 1 446 1Q427 1 417 23L416 328V633H251L87 634Q64 643 64 664',
    0x22A5: '65 31Q65 38 66 41T71 50T87 61H416V366L417 672Q431 693 443 693Q468 693 477 669V61H807Q808 60 811 58T817 54T823 49T827 42T829 31Q829 10 807 1H87Q65 10 65 31',
    0x22A8: '160 -249Q138 -249 129 -225V250Q129 725 131 729Q139 750 159 750T190 725V392Q219 393 537 393H896Q897 392 900 390T906 386T912 381T916 374T918 363Q918 345 896 333H190V169H896L900 166Q905 163 907 162T912 157T916 149T918 139Q918 118 896 109H190V-225Q181 -249 160 -249',
    0x22C4: '280 522Q281 523 285 523H289Q301 523 366 457Q404 420 431 393Q533 291 546 277T560 250Q560 239 548 226T431 108Q313 -10 304 -16Q297 -21 287 -21Q278 -21 275 -19Q270 -17 146 107T18 238Q15 242 15 251Q15 258 18 263Q20 268 145 392T274 519L280 522ZM388 350L288 449L188 350L89 250L288 52L487 250L388 350',
    0x22C5: '74 251Q74 286 99 311T156 336Q200 336 222 308T245 250Q245 221 224 194T160 166T96 193T74 251',
    0x22C6: '270 491Q274 502 287 502Q298 502 304 491Q304 486 323 396T342 303L438 314Q520 324 534 324Q540 324 545 320T550 307Q550 298 539 290T456 243Q377 198 377 197L416 111Q456 26 456 22Q457 21 457 18Q457 11 451 6T438 0H437Q432 0 415 16Q387 42 358 68L287 133L216 68Q193 47 167 23Q142 0 136 0Q129 0 123 5T117 18Q117 21 118 22Q118 26 158 111L197 197Q197 198 156 221T72 269T26 298Q24 304 24 307Q24 315 29 319T40 324Q53 324 136 314L232 303Q232 306 251 396T270 491',
    0x22C8: '906 251Q906 456 905 456Q550 252 549 251Q549 250 726 148T905 45T906 251ZM967 -14Q958 -38 939 -38H937Q928 -38 923 -35Q919 -34 748 64T500 209L71 -38Q69 -39 63 -39Q42 -39 33 -16V518Q45 540 63 540H65Q72 540 174 481Q247 439 302 407L500 292Q578 339 750 438T929 539H933Q958 539 967 515V-14ZM449 251L94 456Q93 456 93 251Q93 45 94 45L106 52Q119 59 139 71T186 98T242 131T301 165T357 197T404 225T437 244L449 251',
    0x22EE: '74 55Q74 91 99 116T156 141Q200 141 222 113T245 55Q245 26 224 -1T160 -29Q118 -29 96 -3T74 55ZM74 465Q74 501 99 526T156 551Q200 551 222 523T245 465Q245 436 224 409T160 381Q118 381 96 407T74 465ZM74 865Q74 901 99 926T156 951Q200 951 222 923T245 865Q245 836 224 809T160 781Q118 781 96 807T74 865',
    0x22EF: '74 251Q74 286 99 311T156 336Q200 336 222 308T245 250Q245 221 224 194T160 166T96 193T74 251ZM562 251Q562 286 587 311T644 336Q688 336 710 308T733 250Q733 221 712 194T648 166T584 193T562 251ZM1050 251Q1050 286 1075 311T1132 336Q1176 336 1198 308T1221 250Q1221 221 1200 194T1136 166T1072 193T1050 251',
    0x22F1: '129 785Q129 821 154 846T211 871Q255 871 277 843T300 785Q300 756 279 729T215 701Q173 701 151 727T129 785ZM576 485Q576 521 601 546T658 571Q702 571 724 543T747 485Q747 456 726 429T662 401Q620 401 598 427T576 485ZM1023 185Q1023 221 1048 246T1105 271Q1149 271 1171 243T1194 185Q1194 156 1173 129T1109 101Q1067 101 1045 127T1023 185',
    0x2308: '194 728Q199 743 216 749H220Q223 749 229 749T245 749T265 750T289 750T316 750T345 750H471Q472 749 477 746T484 741T490 732T493 719Q493 701 471 690L362 689H254V-224Q244 -248 223 -248T194 -226V728',
    0x2309: '317 -224Q307 -248 286 -248Q267 -248 257 -226L256 231V689H148L40 690Q17 698 17 720Q17 741 37 748Q42 750 169 750H295Q314 737 317 725V-224',
    0x230A: '194 728Q204 749 220 749Q245 749 254 725V-188H471Q472 -189 477 -192T484 -197T490 -206T493 -219Q493 -237 471 -248H216Q200 -242 194 -226V728',
    0x230B: '17 -219Q17 -201 40 -188H256V270L257 728Q271 749 283 749Q308 749 317 725V-224Q310 -242 295 -248H40L38 -247Q35 -246 34 -245T30 -243T25 -239T21 -234T18 -227T17 -219',
    0x2322: '95 108Q85 108 75 114T65 139Q65 159 129 227Q316 405 573 405Q654 405 729 387T854 344T950 286T1015 232T1053 191Q1078 160 1083 152Q1084 148 1084 139Q1084 121 1074 115T1054 108Q1040 108 1029 122T990 167T922 223Q819 291 680 309Q641 315 575 315Q508 315 469 309Q303 288 197 201Q168 179 148 155T118 119T95 108',
    0x2323: '1054 392Q1067 392 1076 384T1085 362Q1085 351 1079 342T1050 310Q983 243 901 200Q753 126 575 126Q494 126 420 141T298 176T205 225T140 272T100 310Q64 346 64 362Q64 370 67 374Q75 393 93 393Q107 393 124 375Q272 214 575 214Q877 214 1025 375Q1039 392 1054 392',
    0x2329: '127 243V259L223 491Q251 557 286 642Q318 719 324 732T340 748H341Q347 750 351 750Q365 750 373 740T382 723Q382 713 286 482L190 251Q190 249 286 20T382 -219Q382 -232 373 -240T352 -249Q332 -249 323 -229Q320 -220 223 10L127 243',
    0x232A: '64 720Q64 732 72 741T94 750Q106 750 113 743Q118 741 122 732L319 259V243L122 -231Q112 -249 95 -249Q83 -249 74 -240T64 -218Q64 -210 160 20L256 251L160 482Q64 715 64 720',
    0x25B3: '91 1Q69 10 69 31Q69 39 81 59T168 197Q327 447 485 697Q493 711 510 711Q523 711 532 702Q536 697 743 371T951 41Q953 35 953 31Q953 12 931 1H91ZM690 340Q651 401 604 476T534 586L512 621Q511 622 507 616Q498 604 332 342L154 62L333 61H689L867 62L690 340',
    0x25B5: '91 1Q69 10 69 31Q69 39 81 59T168 197Q327 447 485 697Q493 711 510 711Q523 711 532 702Q536 697 743 371T951 41Q953 35 953 31Q953 12 931 1H91ZM690 340Q651 401 604 476T534 586L512 621Q511 622 507 616Q498 604 332 342L154 62L333 61H689L867 62L690 340',
    0x25B9: '33 518Q45 540 63 540H65Q72 540 174 481Q247 439 302 407Q529 276 533 272Q542 263 542 250Q542 238 533 229Q528 224 304 95T71 -38Q69 -39 63 -39Q42 -39 33 -16V518ZM449 251L94 456Q93 456 93 251Q93 45 94 45L106 52Q119 59 139 71T186 98T242 131T301 165T357 197T404 225T437 244L449 251',
    0x25BD: '68 470Q68 481 75 489T91 499H93Q296 500 512 500H931Q932 499 937 496T945 490T950 482T953 469Q953 465 951 459Q950 455 743 129T532 -202Q524 -210 511 -210Q497 -210 489 -202Q486 -199 281 124T71 456Q68 462 68 470ZM154 439Q155 437 332 158T510 -122Q510 -123 533 -87T600 18T688 157Q866 437 866 438Q867 439 805 439T511 439H154',
    0x25BF: '68 470Q68 481 75 489T91 499H93Q296 500 512 500H931Q932 499 937 496T945 490T950 482T953 469Q953 465 951 459Q950 455 743 129T532 -202Q524 -210 511 -210Q497 -210 489 -202Q486 -199 281 124T71 456Q68 462 68 470ZM154 439Q155 437 332 158T510 -122Q510 -123 533 -87T600 18T688 157Q866 437 866 438Q867 439 805 439T511 439H154',
    0x25C3: '542 -14Q533 -38 514 -38H512Q503 -38 498 -35Q494 -34 270 95T42 229Q33 238 33 251Q33 259 35 264Q36 265 38 268T42 272Q48 278 271 407T504 539H508Q533 539 542 515V-14ZM481 251Q481 456 480 456Q125 252 124 251Q124 250 301 148T480 45T481 251',
    0x25EF: '65 42T65 250T204 584T574 711Q795 711 935 594Q955 577 974 555T1022 490T1067 385T1084 250Q1084 42 945 -84T574 -211T204 -85ZM1024 250Q1024 431 903 540T578 650Q482 650 404 627T274 565T189 474T140 366T125 250Q125 123 186 31T347 -106T573 -150Q772 -150 898 -45T1024 250',
    0x2660: '675 -18Q536 -18 527 62V70H477V55Q479 14 487 -21T502 -75T509 -101Q509 -120 491 -127Q487 -129 447 -129Q446 -129 439 -129T427 -130Q384 -130 384 -101Q384 -95 391 -76T406 -21T416 55V70H366Q364 52 360 40T342 14T300 -8T230 -17H218Q110 -17 75 117Q64 163 64 209Q64 290 116 357T261 495Q363 574 414 690Q425 719 445 719Q467 719 478 693Q507 627 547 578T623 503T702 438T777 357Q829 285 829 202V197Q826 128 808 81T762 15T714 -11T675 -18',
    0x2661: '65 491Q65 602 121 656T246 710Q375 710 440 624L447 615Q519 711 638 711Q723 711 775 652T828 491Q828 390 770 313T581 129Q539 95 514 63T483 14T469 -13T446 -24Q434 -24 427 -17T416 0T400 32T371 74Q352 97 310 131T229 199T151 276T89 374T65 491ZM249 649Q188 649 157 603T125 489Q125 409 181 338T352 176Q408 131 437 87L446 73L456 87Q479 121 507 147T579 207T659 278Q768 387 768 489Q768 506 766 524T756 566T731 611T687 642Q668 649 638 649Q609 649 593 644Q547 633 516 604T478 534Q473 505 447 505H445Q420 505 416 534Q407 577 372 608T285 648Q277 649 249 649',
    0x2662: '409 686Q410 688 412 691T415 696T418 701T421 706T424 709T427 713T431 715T435 717T440 718T446 719Q455 719 460 717T472 704T488 679T516 633T563 567Q624 485 687 422T787 330T826 296T828 282Q828 270 825 265T801 245Q696 161 612 59T477 -133Q465 -154 447 -154Q439 -154 434 -152T425 -146T414 -130T399 -104T372 -62T330 -3Q270 78 207 142T107 234T70 265Q64 274 64 282Q64 296 90 317Q284 472 409 686ZM749 282Q745 286 721 307T681 343T635 388T581 446T525 516T465 601Q462 606 457 613T450 624L447 627V628Q446 628 436 611T402 561T348 489T266 396T155 292L145 282Q147 280 185 245T257 177T343 79T442 -57Q446 -64 447 -64V-63Q450 -59 475 -22T530 56T619 160T749 282',
    0x2663: '240 527Q240 611 301 665T446 719T590 665T652 527Q652 431 571 373Q578 363 584 352T593 335T597 329L604 335Q611 341 617 345T637 356T667 366Q672 366 680 367T694 368Q767 368 814 310T861 177Q861 109 819 57T713 -12Q690 -17 656 -17Q535 -13 527 62V70H477V55Q479 14 487 -21T502 -75T509 -101Q509 -120 491 -127Q487 -129 447 -129Q446 -129 439 -129T427 -130Q384 -130 384 -101Q384 -95 391 -76T406 -21T416 55V70H366V62Q356 -12 237 -17Q130 -17 71 60Q32 111 32 178Q32 251 78 309T198 368Q217 368 233 364T260 354T279 343T291 333T296 329L300 336Q304 343 310 354T322 373Q240 432 240 527',
    0x266D: '230 480Q293 480 337 440T381 330V322Q381 240 323 161Q258 71 123 -11L114 -16L97 -17Q70 -17 66 -7Q64 -3 64 366V641Q64 717 65 731T75 748Q78 750 95 750Q117 750 122 742T127 694Q127 685 127 653T126 595V454Q183 480 230 480ZM242 333Q242 405 212 405H207Q147 405 130 370L127 364L126 219Q126 77 128 77Q133 82 140 90T167 127T202 183T229 253T242 333',
    0x266E: '345 -223Q333 -223 330 -214T327 -178V-116Q327 -23 326 -23L203 -82Q90 -134 77 -140Q65 -142 59 -130Q57 -126 57 295V595Q57 643 57 667T58 704T60 719T63 724Q93 741 101 741Q113 741 116 732T119 680V597Q119 467 120 467Q121 468 180 495T301 552T369 584Q381 586 387 574Q389 570 389 187V-88Q389 -132 389 -154T388 -188T386 -202T383 -206Q353 -223 345 -223ZM327 271Q327 421 326 421L120 323L119 173V23Q120 23 223 72L327 121V271',
    0x266F: '140 628Q151 628 154 620T158 591V549V484L166 488Q175 492 192 500T223 516L288 548V622V674Q288 681 288 685T289 693T289 699T291 703T295 707T298 709T304 712T311 716Q326 724 332 724Q343 724 346 715T350 685V644V579Q358 583 364 583Q376 583 380 574Q382 570 382 514V481Q382 459 380 454T363 441L350 435V135Q358 139 364 139Q376 139 380 130Q382 126 382 70V37Q382 15 380 10T363 -3L350 -9V-76Q350 -102 348 -106T328 -119Q312 -128 306 -128Q288 -128 288 -99V-77V-40L280 -44Q271 -48 254 -56T223 -72L158 -104V-150V-180Q158 -198 155 -202T135 -216Q119 -224 114 -224Q96 -224 96 -192V-172V-135Q86 -140 81 -140Q70 -140 66 -129Q64 -126 64 -70V-54Q64 -18 66 -12T83 3L96 9V309Q86 304 81 304Q70 304 66 315Q64 318 64 374V407Q64 429 66 434T83 447L96 453V602Q99 609 100 610T118 619Q134 628 140 628ZM288 254Q288 404 287 404L158 340V40L166 44Q175 48 192 56T223 72L288 104V254',
    0x2758: '160 -249Q138 -249 129 -225V250Q129 725 131 729Q139 750 159 750T190 725V-225Q181 -249 160 -249',
    0x27E8: '127 243V259L223 491Q251 557 286 642Q318 719 324 732T340 748H341Q347 750 351 750Q365 750 373 740T382 723Q382 713 286 482L190 251Q190 249 286 20T382 -219Q382 -232 373 -240T352 -249Q332 -249 323 -229Q320 -220 223 10L127 243',
    0x27E9: '64 720Q64 732 72 741T94 750Q106 750 113 743Q118 741 122 732L319 259V243L122 -231Q112 -249 95 -249Q83 -249 74 -240T64 -218Q64 -210 160 20L256 251L160 482Q64 715 64 720',
    0x27F5: '1063 221L649 220H235Q340 133 364 17Q368 1 368 -2Q368 -16 343 -17Q340 -17 338 -17H332Q317 -17 314 -14T305 6Q298 34 285 62T247 126T179 189T78 233Q64 237 64 251Q64 261 74 265T108 277T154 297Q212 328 251 379T305 495Q309 511 313 514T333 518H338Q363 517 367 510Q368 507 368 503Q368 500 364 484Q345 401 287 331Q254 295 235 282L649 281H1063L1065 280Q1079 281 1392 281H1719Q1720 280 1723 278T1729 274T1735 269T1739 262T1741 251Q1741 230 1719 221H1063',
    0x27F6: '119 221Q96 230 96 251T116 279Q121 281 448 281H1188L1602 282Q1569 304 1530 357T1473 482Q1469 500 1469 501Q1469 512 1480 517Q1482 518 1500 518H1505Q1520 518 1523 515T1532 495Q1552 412 1611 351T1753 270Q1773 263 1773 251Q1773 240 1765 236T1732 225T1683 204Q1625 173 1586 122T1532 6Q1528 -10 1524 -13T1504 -17H1499Q1474 -16 1470 -9Q1469 -6 1469 -2Q1469 1 1473 17Q1501 138 1602 220H1188L775 221H119',
    0x27F7: '1063 221L649 220H235Q340 133 364 17Q368 1 368 -2Q368 -16 343 -17Q340 -17 338 -17H332Q317 -17 314 -14T305 6Q298 34 285 62T247 126T179 189T78 233Q64 237 64 251Q64 261 74 265T108 277T154 297Q212 328 251 379T305 495Q309 511 313 514T333 518H338Q363 517 367 510Q368 507 368 503Q368 500 364 484Q345 401 287 331Q254 295 235 282L649 281H1476L1890 282Q1857 304 1818 357T1761 482Q1757 500 1757 501Q1757 512 1768 517Q1770 518 1788 518H1793Q1808 518 1811 515T1820 495Q1840 412 1899 351T2041 270Q2061 263 2061 251Q2061 240 2053 236T2020 225T1971 204Q1913 173 1874 122T1820 6Q1816 -10 1812 -13T1792 -17H1787Q1762 -16 1758 -9Q1757 -6 1757 -2Q1757 1 1761 17Q1789 138 1890 220H1476L1063 221',
    0x27F8: '1063 333L700 332H338L324 321Q283 290 230 264L205 250Q266 224 323 180L338 170L700 169H1063L1064 168Q1080 169 1423 169H1782L1786 166Q1791 163 1793 162T1798 157T1802 149T1804 139Q1804 118 1782 109H1063L733 108H404L412 99Q455 50 488 -10Q498 -27 493 -37Q487 -46 465 -46H460Q446 -46 439 -39T426 -18T399 25T344 89Q239 194 99 229Q96 230 92 231T85 232T79 234T73 235T69 237T66 240T65 244T64 250Q64 267 90 271Q197 295 286 361T430 525Q439 542 442 544T460 547H465Q487 547 492 539Q496 531 496 530Q496 521 471 482T414 405L404 394L733 393H1063Q1064 392 1065 392Q1081 393 1423 393H1782Q1783 392 1786 390T1792 386T1798 381T1802 374T1804 363Q1804 345 1782 333H1063',
    0x27F9: '87 109Q64 118 64 139Q64 159 86 168Q89 169 448 169H1169L1532 170L1546 180Q1562 193 1580 204T1612 223T1638 237T1657 246L1664 250L1639 264Q1586 290 1545 321L1531 332H1169L807 333H87Q64 343 64 362Q64 383 84 391Q89 393 448 393H1136L1465 394L1455 405Q1428 436 1401 477T1374 531Q1374 547 1399 547H1404H1409Q1423 547 1430 540T1443 519T1470 475T1526 411Q1634 303 1779 271Q1780 271 1783 270T1788 269T1792 268T1796 266T1799 264T1802 260T1803 256T1804 250Q1804 242 1800 238T1783 231T1755 225T1712 211T1654 185Q1517 112 1439 -24Q1430 -40 1426 -43T1409 -46H1404Q1373 -46 1373 -31Q1373 -24 1381 -10Q1414 50 1457 99L1465 108H1136L807 109H87',
    0x27FA: '1063 333L700 332H338L324 321Q283 290 230 264L205 250Q266 224 323 180L338 170L700 169H1425L1788 170L1802 180Q1818 193 1836 204T1868 223T1894 237T1913 246L1920 250L1895 264Q1842 290 1801 321L1787 332H1425L1063 333ZM733 393H1392L1721 394L1711 405Q1684 436 1657 477T1630 531Q1630 547 1655 547H1660H1665Q1679 547 1686 540T1699 519T1726 475T1782 411Q1890 303 2035 271Q2036 271 2039 270T2044 269T2048 268T2052 266T2055 264T2058 260T2059 256T2060 250Q2060 242 2056 238T2039 231T2011 225T1968 211T1910 185Q1773 112 1695 -24Q1686 -40 1682 -43T1665 -46H1660Q1629 -46 1629 -31Q1629 -24 1637 -10Q1670 50 1713 99L1721 108H1392L1063 109L733 108H404L412 99Q455 50 488 -10Q498 -27 493 -37Q487 -46 465 -46H460Q446 -46 439 -39T426 -18T399 25T344 89Q239 194 99 229Q96 230 92 231T85 232T79 234T73 235T69 237T66 240T65 244T64 250Q64 267 90 271Q197 295 286 361T430 525Q439 542 442 544T460 547H465Q487 547 492 539Q496 531 496 530Q496 521 471 482T414 405L404 394L733 393',
    0x27FC: '65 426Q74 448 95 448Q112 448 125 426V281H130L132 280H134Q162 281 448 281H1188L1602 282Q1569 304 1530 357T1473 482Q1469 500 1469 501Q1469 512 1480 517Q1482 518 1500 518H1505Q1520 518 1523 515T1532 495Q1552 412 1611 351T1753 270Q1773 263 1773 251Q1773 240 1765 236T1732 225T1683 204Q1625 173 1586 122T1532 6Q1528 -10 1524 -13T1504 -17H1499Q1474 -16 1470 -9Q1469 -6 1469 -2Q1469 1 1473 17Q1501 138 1602 220H1188L775 221H135Q133 220 130 220H125V76Q115 54 95 54Q73 54 65 76V426',
    0x29F8: '189 -210Q179 -210 170 -203T160 -179Q160 -171 162 -166Q164 -163 420 266T679 698Q686 711 704 711Q714 711 723 704T733 681Q733 672 730 667Q723 654 469 228T211 -201Q202 -210 189 -210',
    0x2A2F: '168 500Q168 515 178 522T195 530H198Q207 530 218 521T282 458Q312 428 331 409L447 294L563 409Q674 520 682 525Q687 529 695 529Q711 529 718 520T726 499V498Q726 489 720 481T666 427Q631 392 606 367L490 251L606 135Q717 23 721 17T726 2Q726 -9 719 -18T695 -28H692Q685 -28 674 -18T608 47Q581 74 563 92L447 207L331 91Q217 -22 208 -27Q206 -28 203 -28H197Q168 -28 168 2Q168 13 178 24T288 135L404 250L288 366Q177 479 173 485T168 500',
    0x2A3F: '39 655Q39 675 43 680T69 686Q110 684 225 684Q267 684 303 684T360 685T385 686Q401 686 405 680T409 651Q409 632 403 628T367 624H348H301V62H598V624H551H532Q502 624 496 628T490 651Q490 673 494 679T514 686Q518 686 558 685T675 684T792 685T836 686Q852 686 856 680T860 651Q860 632 854 628T818 624H799H752V62H799H809Q846 62 853 59T860 36V31V21Q860 6 850 2Q846 0 450 0H156Q75 0 60 1T40 11V18Q39 26 39 31Q39 54 44 58T82 63Q84 63 90 63T100 62H147V624H100H90Q53 624 46 627T39 650V655',
    0x2AAF: '796 54Q796 40 788 32T767 24Q741 24 735 57Q729 107 705 148T646 216T563 264T465 297T356 316T245 326T136 330H134Q96 330 96 360Q96 391 134 391H136Q193 392 239 394T347 403T457 421T556 453T643 502T703 571T735 664Q741 696 763 696Q781 696 789 686T797 667Q797 651 792 624T758 545T682 456Q605 396 481 365L462 360Q483 357 526 344T633 296T733 215Q767 173 781 128T796 54ZM119 -199Q96 -190 96 -169T116 -141Q121 -139 448 -139H775Q776 -140 779 -142T785 -146T791 -151T795 -158T797 -169Q797 -190 775 -199H119',
    0x2AB0: '127 24Q115 24 106 32T97 55Q97 95 124 156T211 265Q288 325 412 356L431 361Q410 363 367 376T259 425T160 506Q127 546 112 594T96 667Q96 679 104 688T126 697Q152 697 158 664Q164 614 188 573T247 505T331 456T429 424T539 405T649 395T758 391Q797 391 797 360Q797 330 761 330H758Q701 329 655 327T547 318T437 300T337 268T251 219T190 150T158 57Q151 24 127 24ZM119 -199Q96 -190 96 -169T116 -141Q121 -139 448 -139H775Q776 -140 779 -142T785 -146T791 -151T795 -158T797 -169Q797 -190 775 -199H119',
    0x3008: '127 243V259L223 491Q251 557 286 642Q318 719 324 732T340 748H341Q347 750 351 750Q365 750 373 740T382 723Q382 713 286 482L190 251Q190 249 286 20T382 -219Q382 -232 373 -240T352 -249Q332 -249 323 -229Q320 -220 223 10L127 243',
    0x3009: '64 720Q64 732 72 741T94 750Q106 750 113 743Q118 741 122 732L319 259V243L122 -231Q112 -249 95 -249Q83 -249 74 -240T64 -218Q64 -210 160 20L256 251L160 482Q64 715 64 720',
},{
    0x2033: "\u2032\u2032",
    0x2034: "\u2032\u2032\u2032",
    0x2057: "\u2032\u2032\u2032\u2032",
    0x219A: "\u2190\u0338",
    0x219B: "\u2192\u0338",
    0x21AE: "\u2194\u0338",
    0x21CD: "\u21D0\u0338",
    0x21CE: "\u21D4\u0338",
    0x21CF: "\u21D2\u0338",
    0x2204: "\u2203\u0338",
    0x220C: "\u220B\u0338",
    0x2224: "\u2223\u0338",
    0x2226: "\u2225\u0338",
    0x2241: "\u223C\u0338",
    0x2244: "\u2243\u0338",
    0x2247: "\u2245\u0338",
    0x2249: "\u2248\u0338",
    0x2262: "\u2261\u0338",
    0x226D: "\u224D\u0338",
    0x226E: "&lt;\u0338",
    0x226F: "&gt;\u0338",
    0x2270: "\u2264\u0338",
    0x2271: "\u2265\u0338",
    0x2280: "\u227A\u0338",
    0x2281: "\u227B\u0338",
    0x2284: "\u2282\u0338",
    0x2285: "\u2283\u0338",
    0x2288: "\u2286\u0338",
    0x2289: "\u2287\u0338",
    0x22AC: "\u22A2\u0338",
    0x22AD: "\u22A8\u0338",
    0x22E2: "\u2291\u0338",
    0x22E3: "\u2292\u0338",
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2194">

export {doubleStruck} from '../../../common/fonts/tex/double-struck.js';
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2195">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {frakturBold as font} from '../../../common/fonts/tex/fraktur-bold.js';

export const frakturBold: SVGCharMap = AddPaths(font, {
    0x21: '121 621Q121 657 132 673T177 689Q223 689 223 644V635Q223 604 222 595Q221 590 210 490T187 292T175 190V186L166 185L156 184Q156 185 139 393T121 621ZM107 47Q107 70 127 87T174 104Q201 104 221 89T241 48Q241 24 222 6T174 -12Q147 -12 127 6T107 47',
    0x22: '53 695Q74 695 90 679V622L65 433L52 432H39L27 516Q10 626 10 655Q10 680 26 688Q33 693 39 693Q49 695 53 695ZM151 668Q151 691 191 691Q217 691 224 685T231 661V652Q230 634 219 531L207 433L195 432Q183 432 183 433L168 541Q151 664 151 668',
    0x26: '290 -14Q186 -14 115 41T44 185Q44 222 54 249T88 300T131 336T189 371Q216 387 216 388Q185 459 185 510Q185 563 206 601T263 659T334 687T405 696Q476 696 503 668T531 603Q531 565 513 536T450 476Q423 459 370 432L334 413L354 384Q474 212 560 139L563 137Q611 185 611 250Q611 295 577 329Q549 356 496 357Q439 357 433 354Q432 354 432 379V403L437 402Q443 402 479 401T557 400Q653 400 735 403T831 407H836Q833 352 833 351L821 352Q809 352 792 352T756 352T720 353T696 354Q680 354 680 353L681 346Q682 339 683 327T685 306Q685 283 681 260T669 218T653 182T635 152T619 129T606 114L602 109Q604 107 618 99T659 81T707 71Q742 71 767 99T804 155L815 183Q815 184 821 183T833 180T839 177Q837 169 834 156T816 110T782 52T727 5T648 -16Q569 -16 499 35H498Q496 35 466 23T387 -1T290 -14ZM418 592Q418 617 398 639T352 661T302 642T278 574Q278 545 288 514T306 465T319 444Q342 456 353 463T382 488T409 529T418 584V592ZM159 239Q159 158 222 98T364 38Q386 38 447 57L469 63L434 98Q349 185 286 275Q258 316 238 345Q233 353 232 353Q159 316 159 239',
    0x27: '80 645T80 662T93 687T123 695Q158 695 158 659Q158 649 157 643L123 437Q123 436 114 436H104Q104 442 92 538Q80 645 80 662',
    0x28: '347 719Q325 708 311 698T272 656T233 580T207 455T195 267Q195 30 247 -79Q261 -110 291 -136Q320 -163 347 -172V-179Q347 -186 344 -186Q338 -186 328 -184T287 -165T230 -123Q134 -25 134 271Q134 417 158 514T226 662T335 734L346 737Q347 737 347 728V719',
    0x29: '264 262Q264 366 253 446T226 572T186 649T145 692T105 714V725Q105 735 107 735Q108 734 121 731T154 719T196 692T242 641T284 560T314 437T326 268Q326 112 299 7Q279 -78 239 -124T116 -185L105 -187V-179L106 -171L109 -169Q130 -161 138 -158T165 -146T190 -127T210 -101T229 -64T243 -12T255 58T261 148T264 262',
    0x2A: '40 516L62 529Q85 542 110 556T140 574L126 582Q112 591 104 595T80 607T40 629Q53 642 57 645L65 652L78 642Q106 620 132 603L152 589V595Q152 630 149 681V692H179V689Q178 681 174 638T171 593Q173 593 240 639L258 652Q260 652 267 643L276 633L260 625Q190 587 175 576Q173 575 180 570Q183 569 186 567Q213 549 256 527L277 515L256 495Q246 501 228 515T194 539T170 554V543Q170 486 178 449H148V456Q152 492 152 550L151 562Q150 562 102 528L53 495Q40 514 40 516',
    0x2B: '422 584L471 598Q472 598 472 440V282H837Q833 273 829 263L821 244L647 243H472V-63L448 -73L423 -82Q422 -82 422 81V243H239Q56 243 56 244Q60 253 65 263L73 282H422V584',
    0x2C: '118 61Q118 80 135 93T169 107Q190 107 221 65T253 -23Q253 -39 251 -49T237 -80T198 -133Q148 -191 144 -191Q142 -191 137 -182T132 -172Q143 -161 160 -131T183 -83Q185 -77 185 -62Q185 -54 184 -48T182 -38T177 -28T171 -19T162 -8T150 6Q130 28 124 38T118 61',
    0x2D: '54 236L73 275H453Q833 275 833 274Q830 265 825 255L818 236H54',
    0x2E: '103 23T103 44T120 83T170 102Q200 102 218 84T237 44Q237 20 216 3T168 -15Q138 -15 121 4',
    0x2F: '272 270Q503 721 506 721L509 720Q512 720 518 719T529 717L550 713L91 -181L66 -182Q41 -182 41 -181L272 270',
    0x30: '238 -12Q162 -12 102 42T42 185Q42 303 130 393Q163 425 208 452T284 490L313 501Q323 499 339 495T395 472T464 426Q533 357 533 273Q533 201 483 133T364 27T238 -12ZM428 208Q428 255 402 297T342 365T280 404T241 419Q214 419 178 374T142 259Q142 206 168 164T225 99Q259 74 310 74Q326 74 337 75T366 82T396 103T417 141Q428 171 428 208',
    0x31: '95 481Q102 481 217 485T383 489Q384 489 384 485Q367 397 367 165Q367 58 369 54Q374 46 380 44T410 42H466H546V40Q547 38 547 19L548 0H54V23Q54 29 54 34T54 44L55 47Q79 47 134 46T202 45Q226 45 234 52Q240 57 241 64T245 105Q254 236 254 320V347Q254 369 252 382T240 409T211 431L97 450L96 465Q95 480 95 481',
    0x32: '307 335Q307 374 283 397T224 421Q187 421 112 387Q105 384 100 382T95 381Q90 387 86 394L77 407L86 413Q219 491 298 491Q370 491 399 460T428 388Q428 373 424 358T409 326T391 297T363 264T335 235T301 202T269 171L199 104Q194 99 205 97Q209 96 214 96Q527 105 544 105Q553 107 563 102Q563 100 557 79T545 34T537 2H377Q338 2 247 2T130 4H44V26L104 77Q185 145 212 172T267 235Q307 291 307 335',
    0x33: '102 402L108 408Q115 413 122 418T141 431T165 447T194 461T227 474T263 483T302 487H307Q413 487 452 420Q465 400 465 371Q465 334 445 303T396 253T347 225T317 213Q314 213 314 211Q316 209 316 205Q317 201 320 201Q337 201 359 198T411 184T465 156T506 109T523 39Q523 -62 436 -127T229 -193Q179 -193 130 -178T56 -150T31 -133Q31 -132 41 -122L52 -112L63 -117Q128 -148 201 -148Q282 -148 331 -104T381 20Q381 71 363 100T304 145Q243 166 149 166H137V204H146Q179 204 211 210T275 229T326 268T346 329Q346 372 314 401Q292 423 245 423Q188 423 125 383L102 402',
    0x34: '346 -196Q344 -196 335 -187L336 -148Q337 -127 337 -55V0H13V29L187 253Q362 477 362 479L368 480Q375 481 387 483T411 487T434 491T452 494L459 495Q460 495 470 482V453Q470 389 466 230T461 62Q461 61 513 61T565 60L555 29L546 -1H461V-15Q461 -48 463 -100T465 -154L457 -157Q449 -160 434 -165T405 -175Q347 -196 346 -196ZM339 265V341Q339 362 335 362Q327 362 219 217T110 65V61H337V117Q338 133 338 187T339 265',
    0x35: '232 192Q176 192 122 152L95 162V481H306Q516 481 516 479Q514 477 501 433L486 389L319 388H152V386V382Q152 379 152 374T151 365Q147 329 146 260V218H149Q211 242 284 242Q353 242 402 224T474 176T508 117T518 55Q518 -62 432 -126T220 -190Q184 -190 151 -185T96 -172T57 -157T31 -145T20 -139T19 -138Q19 -136 27 -125L35 -112L51 -120Q114 -152 174 -152Q257 -152 314 -100T371 46Q371 107 340 149T232 192',
    0x36: '48 251Q48 330 76 403T150 529T253 623T370 683T485 704Q494 704 520 701T547 695Q547 692 542 659T536 625Q531 624 524 624L512 623L502 628Q489 635 468 640Q452 645 423 645Q403 645 379 640T320 617T255 568T201 481T171 348Q170 341 170 330V325L183 333Q275 385 357 385H361Q464 385 514 312Q546 267 546 217Q546 127 457 58T262 -12Q225 -12 189 3T120 49T68 132T48 251ZM448 165Q448 228 406 274T289 320Q264 320 236 312T190 295T173 284Q173 266 176 241T189 178T214 112T259 61T326 39Q372 39 410 75T448 165',
    0x37: '57 376L87 479H591V455L584 446Q544 399 491 328T349 117T185 -169L171 -196H159Q152 -197 102 -197Q58 -197 58 -196T56 -185L54 -175L299 158L443 359Q446 367 444 370H254L71 365L57 376',
    0x38: '88 533Q88 573 120 610T194 668T268 701T307 714Q324 714 352 711T422 695T486 659Q518 625 518 585Q518 536 479 489T384 406L371 398L385 390Q387 389 400 382T420 370T442 356T466 339T489 319T510 295T526 269T538 238T542 204Q542 125 463 60T256 -5Q145 -5 92 52Q45 97 45 165Q45 204 64 237T109 290T163 324T209 345T228 353L214 364Q199 375 179 392T138 431T103 480T88 533ZM405 557Q405 568 402 581T387 612T350 644T286 663Q283 663 280 663T274 664H272Q256 664 228 636T199 572Q199 547 238 507Q268 475 320 437L334 427Q345 433 358 443T388 483T405 549V557ZM304 42Q366 42 398 76T431 155Q431 178 420 200T396 238T359 270T321 296T283 318L263 328Q262 328 230 312Q190 290 175 266T160 198Q160 132 202 87T304 42',
    0x39: '549 220Q549 23 429 -82T105 -195H84V-189Q84 -179 85 -174V-164H93Q184 -156 238 -132T334 -56Q361 -23 376 16T394 78L397 100L363 88Q329 75 291 61T244 45Q237 44 218 44Q154 44 94 97Q29 152 29 240Q29 350 108 404Q145 429 257 480Q270 487 279 487Q403 487 470 421Q549 347 549 220ZM408 217Q408 276 390 320T346 385T297 415T259 424Q218 424 185 393T151 286Q151 216 213 154Q252 115 321 115Q368 115 388 134T408 217',
    0x3A: '57 398Q57 419 72 438T117 457Q154 457 174 439T194 398Q194 379 176 361T119 343Q85 343 71 362T57 398ZM62 19T62 43T77 85T115 104Q153 104 175 86T197 42Q197 14 171 1T119 -12Q96 -12 79 3',
    0x3B: '56 399Q56 424 73 440T104 456Q114 458 120 458Q149 458 170 440T192 399Q192 380 174 362T120 344Q85 344 71 362T56 399ZM78 53Q78 67 84 76T90 86Q90 88 98 92T116 98Q117 98 121 98T128 99Q152 97 181 58T211 -24Q211 -77 128 -165Q124 -170 121 -173T116 -178T113 -181T110 -185T106 -190L97 -184L88 -177L95 -168Q143 -104 143 -65Q143 -51 137 -40T113 -7T81 35Q78 41 78 53',
    0x3D: '559 342L549 304H22L27 319Q29 328 30 333T33 343H296Q559 343 559 342ZM559 206L549 168H22L27 183Q29 192 30 197T33 207H296Q559 207 559 206',
    0x3F: '121 590Q121 575 128 562T144 542T152 533T115 512L78 491Q55 499 47 516Q40 530 40 553Q40 601 77 632Q155 697 257 697H268Q316 697 355 679Q422 646 422 576Q422 518 388 476Q383 468 376 461T358 444T340 428T316 410T290 390L230 344Q180 307 180 275Q180 261 187 248T202 227L209 219Q209 215 176 193L142 170Q114 177 100 194T84 226V239Q84 259 93 276T113 302T150 331T192 362Q203 370 219 382T247 403T267 422Q312 471 312 546Q312 593 282 623T207 653Q170 653 146 636T121 590ZM95 23T95 49T117 94T173 113Q204 113 223 96T242 54Q242 27 221 7T167 -14Q136 -14 116 4',
    0x5B: '226 711T225 711T86 699V-93H89Q94 -93 157 -96T223 -100H226V-119H223Q134 -119 42 -130H36V740H42Q61 738 156 736H226V723Q226 711 225 711',
    0x5D: '69 732Q116 733 146 734T184 736T197 737T206 738H208V-132Q190 -129 160 -127T99 -125T66 -124H14V-103H19Q20 -103 84 -98T152 -92H158V699H151Q148 700 85 703T18 708H14V732H69',
    0x5E: '1 463T1 464T148 599T296 734Q584 486 584 485L561 472Q538 459 537 461Q296 672 293 672L161 563Q133 539 97 509T44 466L28 452Q27 452 14 457',
    0x2018: '187 456Q187 437 169 424T138 411Q114 411 84 454T53 538Q53 565 75 597Q109 648 155 697L166 708L181 694L173 681Q124 610 124 577Q124 549 155 511T187 456',
    0x2019: '125 524Q125 545 92 588T58 651Q58 661 61 667Q65 674 80 683T107 692Q131 692 162 645T193 564Q193 540 176 509T144 460T87 394L78 400L68 406L79 421Q125 489 125 524',
    0x2044: '272 270Q503 721 506 721L509 720Q512 720 518 719T529 717L550 713L91 -181L66 -182Q41 -182 41 -181L272 270',
    0xE301: '388 427Q320 485 242 524T128 563H116Q95 563 87 561L77 559Q72 563 69 566T65 570T65 572L75 576Q106 592 154 611T212 630Q230 630 262 622T358 581T492 498L508 486Q512 463 512 396Q512 246 469 112L465 102Q453 94 341 25Q252 -27 247 -27Q243 -27 174 24T97 84Q90 100 90 214Q90 285 98 345Q100 360 102 363T118 377Q175 422 262 465Q264 463 270 460L277 456Q277 455 267 447T244 428T228 414Q206 382 206 269Q206 187 214 164T259 110Q286 89 342 58Q391 131 391 313Q391 355 388 412V427',
    0xE302: '39 362L37 366L38 368L82 405H133V474Q135 563 143 589T198 658Q210 669 224 676T247 687L255 690H253Q241 690 253 692Q254 692 256 692T260 693Q263 693 262 691L261 690Q300 690 361 662L373 656L388 666Q404 675 405 675L406 674Q406 672 406 670T406 664L408 655L301 555Q300 555 287 564T254 584T221 597Q190 597 176 583T161 550Q161 525 184 495T232 440T261 405H387V399Q377 389 364 379L340 359H258V315Q258 52 228 -18L172 -120L121 -211H109Q102 -212 96 -212L109 -174Q131 -108 135 -80T139 53V76V157V362H39',
    0xE303: '41 352Q40 354 39 355T37 358L36 360H37Q48 370 61 380L84 400H108Q131 400 131 402Q121 424 104 501L100 519Q109 560 134 602T196 664Q230 681 271 681Q291 681 316 669T358 644L373 631Q373 630 304 553Q299 548 294 547Q292 547 290 546H287Q286 546 274 562T243 593T205 609Q180 609 165 596T150 562Q150 526 191 488L217 462Q248 431 253 405V400H381L384 394L349 352H251V332Q249 271 231 17L227 -37L120 -217L109 -218Q103 -219 97 -219Q97 -218 101 -206T110 -177T118 -151Q126 -129 128 -120T136 -46T141 127Q141 250 136 340V352H41',
    0xE304: '107 370Q127 384 172 409T255 454T294 473L306 468Q356 446 425 431L435 429L524 468Q528 465 531 461Q499 395 499 271V263Q499 146 509 71T519 -8Q519 -28 512 -45Q510 -50 435 -123T355 -197Q296 -212 257 -212Q209 -212 164 -196T98 -167T67 -143L133 -44H144Q167 -88 216 -111T320 -134Q371 -134 390 -118T410 -69Q410 -52 404 -12T392 60T385 92L193 -29L158 5Q124 39 110 51L96 63V71Q94 79 94 121Q94 130 94 148T93 174Q93 230 96 275T103 344T107 370ZM221 397Q200 334 200 254Q200 170 210 140Q216 126 234 109T268 81L283 71L383 119V127Q384 132 384 241L385 347L368 349Q325 357 290 369T240 389T221 397',
    0xE305: '103 453Q103 631 95 661Q95 663 102 667T110 672L114 664Q117 655 123 641T131 621L140 597L154 606Q208 641 275 673L297 684Q300 683 302 682T307 679T310 678L314 676Q283 658 256 625Q238 601 231 579T223 515L224 512L282 548Q339 583 341 583T365 548T386 509Q326 443 318 443L316 446Q314 448 311 452T304 460T294 470T283 480T272 488T260 494T248 497Q231 497 223 474Q220 468 218 440T215 407V401H345L309 360H218V314Q218 181 221 139V129L253 108Q306 73 310 73Q315 73 343 83L373 92L374 87Q375 82 375 79T375 74T360 65T308 36T229 -13L208 -27L192 -13Q149 24 90 61Q89 61 89 62L90 68Q91 73 93 87T97 125T100 191T103 291V360H33V366L34 371L85 405H94L103 404V453',
    0xE308: '602 575Q505 508 505 489Q505 488 505 482T506 463T507 432Q507 314 456 237L449 226L434 216Q420 208 325 143L316 137Q453 82 488 82Q527 82 585 127L596 136Q597 136 599 126L602 115Q578 85 511 27T428 -31Q400 -31 308 10T170 51Q143 51 123 43T92 24T54 -15L34 6L41 14Q65 41 170 129L188 144L204 145Q254 147 293 164T350 208Q378 249 378 344Q378 422 362 478T320 563T268 605T213 618Q177 618 156 600T134 561Q134 539 162 508T217 446T245 394Q245 368 213 337T85 250L62 262Q73 269 86 279T116 308T133 338T108 378T57 439T32 499Q32 556 117 617T291 679Q350 679 393 658Q415 647 433 631T462 600T480 572T490 550T494 541T499 544T516 556T547 578T603 613T689 662L720 679L730 670Q742 659 756 649T785 629T810 615T836 601T855 590Q855 587 860 536T870 419T875 312Q875 114 800 -25Q794 -35 781 -47Q584 -220 398 -220Q322 -220 278 -190Q253 -173 239 -155L244 -150Q248 -145 255 -138T271 -120T290 -100T310 -80T328 -63T341 -51T349 -46Q350 -46 351 -46T354 -47Q357 -47 357 -52Q359 -68 364 -83T383 -118T424 -151T491 -166Q559 -166 613 -129Q629 -118 641 -108T674 -68T710 1T735 107T746 260Q746 433 727 507Q727 512 685 535T615 570L602 575',
    0xE309: '351 571Q317 571 247 563T171 555Q153 555 133 563T107 584Q94 605 98 609Q101 615 138 658T190 717H207Q204 710 204 699Q204 673 231 666Q235 665 264 665Q296 665 345 667T426 669Q474 669 501 660T545 626Q553 612 553 594Q553 531 498 474T379 384Q371 379 371 378Q371 376 390 376H411H434Q520 376 602 318Q621 303 627 288T633 234Q633 59 540 -34Q465 -109 348 -130Q308 -137 235 -137Q159 -136 143 -129Q132 -125 132 -118V-53Q118 -24 90 -24Q69 -24 37 -39L27 -44L25 -42Q23 -39 21 -35T17 -30Q17 -28 40 -14T103 19T177 44Q183 45 205 45Q219 45 227 44T245 37T259 20T264 -12Q264 -33 262 -48T259 -80Q259 -93 260 -95Q271 -110 305 -110Q343 -110 383 -86T443 -33Q491 34 491 154Q491 223 467 249Q428 288 334 288H322Q288 288 237 276L222 273L206 286L262 367Q279 369 303 377T358 403T410 452T431 524Q431 531 431 533T427 545T416 558T392 566T351 571',
},{
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2196">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {fraktur as font} from '../../../common/fonts/tex/fraktur.js';

export const fraktur: SVGCharMap = AddPaths(font, {
    0x21: '102 582T102 620T112 673T152 689Q190 689 190 638Q190 605 167 373L148 187L133 184Q102 582 102 620ZM91 24T91 48T107 88T148 104Q171 104 187 87T204 48Q204 22 188 5T149 -12Q124 -12 108 6',
    0x22: '33 436Q8 603 8 648Q8 663 9 671T19 687T43 695Q63 695 74 681Q76 678 76 650V623L66 532Q57 443 55 436V432H33V436ZM128 666Q128 691 162 691T196 668Q196 634 186 531Q176 441 176 432H166Q155 432 155 434L142 545Q135 603 130 647Q128 664 128 666',
    0x26: '181 520Q181 604 231 650T328 697L330 698Q333 698 335 698Q336 698 340 698T346 697Q390 697 418 670T446 604Q446 554 414 511Q384 467 300 417L283 406Q281 405 296 374T347 286T425 182Q466 135 469 135Q470 135 473 140T480 152T486 165Q509 210 509 263Q509 282 507 292Q498 317 488 332T465 352T443 359T418 361Q388 361 357 358L346 356L347 374Q347 394 348 396V399H355Q366 396 535 396Q663 396 689 398L703 399Q703 398 702 375T700 351L688 353Q655 356 601 357Q553 357 553 355Q562 332 562 294Q562 280 561 267T555 241T548 218T539 195T529 175T518 156T508 141T497 126L489 115L496 107Q549 54 596 54Q623 54 644 67T677 101T697 140T708 174L710 187Q710 188 710 188L711 190Q714 190 723 187T733 183Q733 179 732 172T726 145T714 107T694 66T665 27T623 0T569 -11Q500 -11 443 41L434 49L425 42Q348 -9 275 -9Q251 -9 233 -6Q187 -1 152 18T98 60T67 111T52 159T49 195Q49 231 60 261T96 315T141 354T197 390L208 397Q181 459 181 520ZM374 577Q374 607 356 629T311 651Q289 651 271 636Q242 614 242 559Q242 533 249 502T262 453T270 435T279 440T298 453T314 464Q374 503 374 577ZM127 217Q127 145 173 89T291 32Q318 32 347 42T393 63T409 75Q384 100 325 184T227 351Q223 366 220 366Q215 366 178 338Q127 298 127 217',
    0x27: '69 666Q69 680 79 687T104 695Q112 695 117 694T128 684T134 659L104 438Q104 436 96 436T88 438Q88 447 79 540T69 655V666',
    0x28: '293 737V719Q291 718 285 714T276 708T268 702T258 695T250 686T241 674Q164 570 164 282Q164 -37 230 -119Q273 -171 292 -171Q293 -171 293 -179V-186H289Q270 -180 259 -175Q175 -132 145 -23T114 275Q114 491 157 598T293 737',
    0x29: '223 259Q223 386 212 474T178 609T136 677T89 714V735Q121 726 139 713Q276 622 276 273Q276 98 246 -23Q225 -106 189 -139T89 -187V-170L101 -165Q148 -146 172 -110T210 13T223 259',
    0x2A: '118 573Q118 575 76 602L34 629L50 647L55 652L66 642Q76 633 91 620T117 598L128 590Q128 663 125 687V692H151V689V687Q151 685 151 683T150 678T150 672Q145 628 144 605V592L219 652L232 634Q232 632 220 624Q195 610 155 582L146 575L158 567Q178 552 197 540T225 523T233 516Q233 515 226 506T217 495L152 549L143 555V530Q144 509 145 492T148 466T149 454Q149 449 142 449H125V462Q128 522 128 549V562L115 552Q88 531 59 506L45 495Q44 495 39 505T34 516L118 573',
    0x2B: '357 584L399 598V282H709L702 263L696 243H399V-64L379 -73L358 -82Q357 -82 357 81V243H47L51 253Q52 256 54 263T58 272L62 282H357V584',
    0x2C: '99 62Q99 82 114 94T144 107Q159 107 178 77T205 26Q213 5 213 -23Q213 -49 207 -65T181 -113Q128 -189 122 -191Q121 -191 116 -184T111 -174Q111 -173 122 -155T145 -111T156 -62Q156 -44 152 -34T127 4L104 37Q99 49 99 62',
    0x2D: '46 236L62 274Q62 275 384 275H706L699 255L693 236H46',
    0x2E: '87 43Q87 69 104 85T142 102Q164 102 182 86T200 44Q200 20 183 3T141 -15Q118 -15 103 2T87 43',
    0x2F: '230 270Q426 721 428 721Q437 719 447 717L466 713L448 672Q78 -180 77 -181Q77 -182 55 -182L34 -181L230 270',
    0x30: '212 -13Q184 -13 156 -2T101 32T59 97T42 195Q42 311 132 396Q170 433 211 462T262 492Q272 492 301 477T366 434T429 360T456 258Q456 161 378 74T212 -13ZM381 209Q381 257 365 295T328 355T282 390T243 408T223 413Q220 413 204 403T167 376T137 341Q119 305 119 250Q119 168 159 114T263 59Q308 59 344 93T381 209',
    0x31: '123 459Q145 459 170 460T217 462T256 464T284 466L295 467Q296 467 296 467T297 468Q299 468 302 466T307 462L309 459Q307 454 304 424T299 341T297 235Q297 139 298 101T302 55T313 44Q316 43 367 43L460 46Q460 35 459 22V-1H450Q402 2 281 6Q222 6 171 4T91 1T56 -1L47 -2V43H121H170Q195 43 201 45T209 56Q212 69 212 214Q212 333 209 365T194 409Q183 417 161 423T121 430L104 432Q103 432 103 446V459H123',
    0x32: '104 384Q115 394 133 409T199 449T281 474Q321 474 351 447T385 378Q385 328 333 255T228 127T176 72Q176 67 183 65Q184 65 203 65T260 67T331 69L475 73L484 67Q484 64 472 33L460 1H60V17L107 61Q210 159 249 208Q309 283 309 331Q309 363 285 389T228 415Q212 415 184 403T134 379L114 367L104 384',
    0x33: '305 328Q305 372 279 396T214 421H211Q172 421 128 384L107 398L116 405Q151 437 191 455T251 473H260Q314 473 341 455T382 394Q384 386 384 367T382 338Q362 263 271 217L256 210L257 206L259 202Q260 202 272 201T296 198T324 192T355 179T384 157T410 123T427 75Q429 64 429 41Q429 -59 353 -120T183 -182L88 -164Q81 -162 69 -157T48 -147T39 -141Q39 -139 46 -127L53 -114L69 -122Q129 -149 171 -149Q218 -149 253 -131T305 -83T330 -26T338 29Q338 41 336 55T328 89T308 127T273 153Q228 171 162 171Q158 171 152 171T142 170H127V204H134Q232 214 275 257Q305 292 305 328',
    0x34: '299 -179Q306 -156 306 -48V0H11V7Q10 10 10 18Q10 23 154 236L298 449Q298 450 339 463L379 476Q385 473 384 470V466Q384 463 384 457T384 444T383 427T383 408Q381 328 381 248Q381 46 384 40H387Q422 40 460 44Q465 44 470 44T478 44L481 45Q481 43 478 24T473 1Q473 -1 464 -1Q462 -1 451 -1T430 0H387V-76L389 -156V-161L311 -191Q299 -181 299 -179ZM299 364H287L277 352Q234 297 186 224T112 104T79 43Q79 42 192 42H306V115Q306 300 299 359V364',
    0x35: '334 25Q334 99 296 134T207 169Q154 169 107 123L98 114L89 120L80 125V458H420Q420 456 409 418L397 379Q397 378 264 378H131Q130 377 128 376T125 374T124 371T122 368T122 363T121 356T121 345V279V190L130 186L140 190Q196 214 260 214Q311 214 348 197T404 153T431 99T440 42T433 -16T406 -76T356 -130T276 -169T163 -184H156Q110 -184 57 -163L47 -159L53 -147L58 -134Q61 -134 74 -139T110 -148T156 -153Q206 -153 243 -135T299 -87T326 -30T334 25',
    0x36: '45 240Q45 328 73 406T143 536T235 626T327 681T399 699Q400 699 404 699T411 700Q424 700 441 696T459 689Q459 671 451 637Q451 633 447 632L444 629L434 633Q413 640 384 640H377Q299 640 222 565Q182 531 156 463T129 315V306H136L149 315Q229 376 316 376H318Q393 376 432 326T471 213Q471 129 402 58T237 -13T93 59T45 240ZM391 172Q391 231 354 272T258 314Q230 314 200 302T154 279T133 262L134 249Q154 32 266 32Q315 32 353 64T391 172',
    0x37: '395 377L391 382H225Q59 382 59 383L74 423Q89 464 89 465Q90 468 94 468Q146 460 350 458H498V442L473 406Q241 75 125 -156L113 -181H40L37 -168L57 -140Q115 -58 199 70T339 287T395 377',
    0x38: '220 -10Q168 -10 131 6T75 50T48 103T40 157Q40 223 77 266Q103 295 156 328T225 375Q247 393 247 394L206 361Q205 361 193 368T164 391T131 426T102 474T90 531Q90 580 114 615Q146 660 238 698L254 705L262 704Q288 704 332 693T402 656Q434 620 434 568Q434 518 401 475T321 402L305 391L336 368Q339 366 353 356T372 343T389 330T406 316T420 301T434 283T445 265T454 244T458 222T461 195Q461 106 389 48T220 -10ZM350 545Q350 578 337 601T304 634T266 649T234 653L224 654L204 639Q196 634 191 629T182 621T176 614T173 609T170 603T168 597Q165 585 165 567Q165 497 261 424L273 415Q350 467 350 545ZM261 405L263 407Q262 407 261 405ZM258 403Q257 403 255 401L254 399L256 400Q258 402 258 403ZM252 398Q251 398 249 396L248 394L250 395Q252 397 252 398ZM245 36Q276 36 300 45T338 69T360 102T371 136T374 168Q374 211 341 255Q324 275 305 289T235 332Q231 330 215 321T193 307T173 292T153 271T138 247T127 216T123 177Q123 146 132 117T170 62T245 36',
    0x39: '353 93T352 93T320 79T251 49T201 34Q127 37 87 79Q28 138 28 234Q28 273 37 304T60 355T101 396T152 429T218 462L234 469H243Q348 461 395 417Q466 348 466 201Q466 72 397 -29T211 -163Q155 -179 91 -182H72V-154H80Q144 -154 202 -131T297 -60Q318 -31 333 7T352 68L357 92Q353 93 352 93ZM369 208Q369 240 362 272T339 339T290 394T214 415Q171 415 144 372T116 266Q116 193 154 144T238 95H249Q369 95 369 208',
    0x3A: '50 377T50 400T64 440T99 457Q128 457 146 440T165 399Q165 375 146 359T102 342T64 359ZM53 19T53 43T66 86T103 105Q129 105 148 87T168 41Q168 17 147 3T102 -12Q80 -12 67 3',
    0x3B: '47 399Q47 424 62 441T101 458T143 442T162 400T144 359T101 343Q78 343 63 360T47 399ZM76 86Q76 88 80 91T91 96T106 99Q119 99 131 86Q179 35 179 -25Q179 -64 146 -115T89 -189Q86 -187 83 -185T79 -182T76 -180T75 -177T77 -173T80 -168Q121 -108 121 -64Q121 -44 94 -5T66 52Q66 66 71 75T76 86',
    0x3D: '725 366Q724 365 721 349T716 331V329H385Q54 329 54 331Q55 332 59 349T63 368H394Q725 368 725 366ZM725 169Q724 168 721 152T716 134V132H385Q54 132 54 134Q55 135 59 152T63 171H394Q725 171 725 169',
    0x3F: '46 557Q46 613 103 653T227 693Q287 693 322 659T357 564Q357 517 326 469T259 390T191 326T160 272Q160 240 187 221Q193 217 193 216Q182 209 170 200L147 184Q127 192 113 209T98 250Q98 290 193 376Q287 454 287 542Q287 581 262 616T188 652Q143 652 126 631T108 588Q108 559 140 527L79 490Q46 515 46 557ZM108 47Q108 68 123 85T160 103Q179 103 198 90T217 46Q215 24 201 7T164 -11Q142 -11 125 6T108 47',
    0x5B: '262 -119Q224 -120 191 -123T141 -128T118 -130Q117 -130 117 305V740H122Q141 737 219 736H278V723Q278 711 277 711L159 699V-93H162Q167 -93 220 -96T276 -100Q278 -100 278 -109V-119H262',
    0x5D: '64 733Q89 733 110 734T143 737T158 738H160V-131H154Q101 -125 40 -124H-4V-103H1Q3 -102 57 -98T113 -92H118V700L64 703Q7 707 3 708H-4V732H21Q34 733 64 733',
    0x5E: '0 464L250 734L262 722Q274 712 384 598L495 486Q483 478 467 467L456 459L248 672L154 580L23 452Q17 454 10 458T0 464',
    0x2018: '117 410Q97 410 71 455T45 539Q45 588 129 694L140 708Q142 708 153 694L147 682Q106 609 106 582V577V571Q106 548 132 511T158 455Q158 434 143 422T117 410',
    0x2019: '105 529Q105 546 77 588T49 651Q49 658 51 666Q53 672 67 682T92 692Q111 692 137 644T163 563Q163 534 143 497T99 428T74 395Q72 395 65 400T58 407Q105 476 105 523V529',
    0x2044: '230 270Q426 721 428 721Q437 719 447 717L466 713L448 672Q78 -180 77 -181Q77 -182 55 -182L34 -181L230 270',
    0xE300: '427 436Q427 434 427 425T429 398T430 362Q430 222 396 109L393 99L305 33Q218 -32 216 -32Q208 -29 142 22L91 68L78 81L77 94Q75 130 75 173Q75 245 87 347L135 385Q178 418 184 424L177 428Q174 429 170 431Q116 454 96 473T75 534Q79 608 154 683Q164 677 164 673Q164 670 157 662T144 637T137 598Q137 552 182 518T280 470T380 447T427 436ZM342 371L275 394L208 417Q203 417 192 399T168 334T156 229Q153 187 153 157Q153 141 156 135Q158 125 208 88T280 51Q306 51 326 120T346 297Q346 339 344 354T342 371',
    0xE301: '39 551L35 569L52 577Q72 586 98 595T140 610T158 616Q174 612 200 604T293 560T412 477Q414 475 417 472Q428 462 430 450T432 376Q432 223 401 124Q395 106 393 103T382 92Q351 68 281 20T206 -29Q201 -31 137 26L100 60L78 83L77 112Q76 132 76 170Q76 259 86 342L88 360L101 371Q116 386 163 422T215 459Q216 459 224 455T233 450L229 446Q225 442 218 434T203 419Q179 394 175 389T168 372Q156 334 156 262Q156 167 164 137Q168 125 196 102T252 62L278 45Q279 45 285 52T302 78T322 126T339 205T346 316Q346 367 344 389L343 406L326 423Q228 520 113 559L100 564L70 557L39 551',
    0xE302: '123 386L120 431Q116 476 116 511V520Q116 593 174 649Q207 680 236 680Q258 680 284 664T312 648Q318 648 327 656Q328 657 330 659Q337 664 337 661Q337 660 338 657Q338 652 339 648L268 566L260 574Q234 600 206 600Q182 600 164 585T145 541Q145 492 211 386L267 385H324L299 354H214V312Q214 86 193 -58L192 -69L116 -215H108Q92 -215 92 -212Q93 -211 100 -189T116 -135T128 -80Q134 -41 134 22Q134 54 130 185T125 349V354H29L59 385H91Q123 385 123 386',
    0xE303: '91 530Q91 564 116 600T164 656T194 678Q195 678 200 678T209 679Q268 679 316 639L293 593Q267 547 263 546H262Q260 546 256 553Q222 613 180 613Q160 613 146 599T132 564T170 474T210 388H318L296 356H206V322Q204 284 204 255Q202 221 202 161V99Q202 28 194 -22T160 -124Q148 -146 116 -199L101 -224L91 -220Q85 -218 84 -217T83 -215L101 -161Q116 -114 119 -73T122 108Q119 334 117 352V356H72L28 357L66 388H92Q118 388 118 389L109 433Q91 514 91 530',
    0xE304: '254 -150Q293 -150 328 -126T363 -54Q363 -38 352 29T339 98L250 34Q160 -30 159 -30L77 64V71Q74 95 74 174Q74 212 75 243T79 294T83 328T87 352T90 366L117 384Q206 446 238 464L250 471Q277 455 306 443T350 427L365 423Q367 423 405 443T443 465L449 455Q431 414 426 362T418 201Q418 135 420 121Q438 -4 438 -19Q438 -26 438 -31T434 -42T429 -51T420 -63T408 -77T391 -95T370 -119T346 -147T325 -170T309 -187T291 -200T274 -207T252 -213T225 -214Q175 -214 132 -196T70 -160L52 -143Q52 -138 90 -48Q90 -47 95 -47H101Q108 -81 146 -115T254 -150ZM341 136Q341 157 344 242T347 348V355L334 356Q299 359 262 367T203 383T179 391Q177 391 173 377T163 323T158 227Q158 164 161 128V121L174 106Q203 75 223 59L341 127V136',
    0xE305: '92 446Q92 603 82 664Q94 670 95 670L96 666Q98 661 101 651T108 633Q121 598 121 597L141 612Q247 686 250 686Q251 686 266 679Q261 674 243 659T213 632T190 597T173 546Q172 541 171 530T170 511T170 502Q171 502 222 542L273 582Q308 522 315 504L279 449L269 462Q231 506 215 506Q202 506 190 490Q164 458 164 395V390H279L266 373L254 355H167V306Q169 252 169 217Q170 195 170 147V117L200 92Q234 64 237 64Q243 64 277 81L311 99V75Q310 75 242 27L174 -20L156 -3Q88 60 81 60L79 62Q80 60 82 62Q87 67 87 290V355H57L26 356L73 390H92V446',
    0xE306: '117 531Q117 533 137 544T178 566L198 577Q200 577 204 575T208 572V570Q208 568 208 566T207 560Q197 496 197 397V392H321L295 353H199V260Q199 157 200 145V122L269 68Q271 67 274 67Q282 67 310 83T342 100Q343 100 345 92T346 83L211 -21L172 12Q117 59 117 63Q117 65 117 87T119 150T120 238V353H75L29 354L65 391H118V460Q117 498 117 531',
    0xE307: '337 91V78L324 71Q288 53 256 29T206 -8T180 -22Q174 -22 158 -9Q82 46 60 46H59L63 51Q67 56 73 68T85 96Q101 158 101 254Q101 300 95 330T83 370T66 394L53 388Q48 385 41 382T24 374Q22 376 20 378T16 381T13 383T10 385V386L119 475Q150 439 160 430L171 422V409Q173 377 173 300Q173 228 166 183T152 122T145 102Q207 81 242 58L337 104V111Q340 146 340 227Q340 320 339 351T338 408V423L422 469Q425 465 429 462L426 438Q413 354 413 251Q413 152 423 119Q426 110 435 96T452 82Q454 82 509 103Q514 98 514 89Q514 87 507 81T472 51T409 -7L395 -20Q393 -18 390 -17Q386 -14 382 -6Q380 -2 379 1Q369 24 361 40T348 62T341 73T338 84L337 91',
},{
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2197">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {italic as font} from '../../../common/fonts/tex/italic.js';

export const italic: SVGCharMap = AddPaths(font, {
    0x21: '330 716Q351 716 365 703T380 670V659L304 433Q230 207 227 204Q225 198 205 198Q184 198 184 207T220 439T260 669Q270 694 297 708Q300 709 304 710T311 713T316 714Q324 716 330 716ZM107 51Q110 83 133 102T179 121Q207 121 219 105T231 72Q231 45 209 23T156 0Q138 0 123 11T107 51',
    0x22: '214 620Q214 647 236 670T289 694Q312 694 326 677T341 633V624Q341 588 327 550T294 482T253 428T216 392T196 379Q191 379 184 388T176 401Q176 404 195 421T243 472T287 547Q299 576 299 582L295 580Q291 578 282 576T264 573Q241 573 228 585T214 620ZM411 620Q411 647 433 670T486 694Q509 694 523 677T538 633V624Q538 588 524 550T491 482T450 428T413 392T393 379Q388 379 381 388T373 401Q373 404 392 421T440 472T484 547Q496 576 496 582L492 580Q488 578 479 576T461 573Q438 573 425 585T411 620',
    0x23: '281 327H228Q186 327 175 330T164 347Q164 359 176 365Q179 367 292 367H404L563 688Q569 694 578 694T593 686T597 670Q597 667 531 535L448 367H614L773 688Q779 694 787 694Q796 694 802 688T808 674V672L807 670Q807 667 732 517L658 368L736 367H814Q828 357 828 347Q828 336 812 327H637L599 250Q561 174 561 173H662H724Q760 173 769 170T779 153T770 136T729 132Q721 132 696 132T651 133H540L380 -188Q374 -194 366 -194Q357 -194 351 -188T345 -174L346 -172V-170Q346 -167 412 -35L495 133H330L170 -188Q164 -194 156 -194Q147 -194 141 -188T135 -174L136 -172V-170Q136 -167 211 -17L285 133H207L130 134Q115 140 115 153Q115 164 131 173H306L344 250Q382 326 382 327H281ZM592 327H427L389 250Q351 174 351 173H516L554 250Q592 326 592 327',
    0x25: '301 348Q257 348 231 383T205 480Q205 553 244 629T346 736Q370 750 394 750Q416 750 429 742T458 714Q512 644 606 644Q722 644 802 732Q817 750 827 750Q835 750 841 744T847 730Q847 725 827 700T689 540Q586 421 512 335Q180 -50 176 -52Q172 -56 165 -56Q157 -56 151 -50T145 -35Q145 -29 162 -9T330 186Q392 258 430 302Q711 627 711 628L701 624Q652 607 604 607Q551 607 494 634L479 642V624Q479 544 439 467Q414 416 377 382T301 348ZM270 443Q270 385 303 385H306H308Q326 385 348 407Q384 441 409 504T434 627Q434 713 390 713Q358 713 328 663Q307 631 289 556T270 451V443ZM608 -56Q573 -56 543 -23T513 76Q513 129 536 190T604 296L627 318Q670 347 704 347Q747 347 767 310T788 222Q788 126 732 35T608 -56ZM742 222Q742 310 699 310Q677 310 655 285T620 227Q608 197 593 138T578 42V36Q578 -18 613 -18Q657 -18 699 64T742 222',
    0x26: '209 444Q209 546 278 631T424 716Q473 716 501 683T530 601Q530 554 511 535T467 515Q446 515 437 527T427 553Q427 578 446 594T481 610H483V617Q480 641 464 660T419 679Q367 679 328 603Q316 578 305 538T288 470L282 443L295 449Q308 455 330 462T371 469Q397 469 413 450T430 404Q430 363 400 329T331 295Q291 295 256 322Q255 322 246 293T227 223T217 158Q217 117 232 88T273 43T327 22T387 15Q457 15 512 37T599 93T652 169T680 248T688 317T678 380T659 423T647 437Q643 435 637 431T613 416T581 392T554 364T538 332Q540 310 541 310Q554 335 587 335Q601 335 613 327T626 300Q626 290 622 279T603 255T563 242Q532 245 512 263T491 320Q494 351 511 377T547 418T600 456T652 494Q676 512 697 539T728 582T738 601Q738 602 736 602Q732 602 726 604T714 616T707 638Q707 661 724 677T764 694Q799 694 802 660Q802 625 767 562T688 467L694 458Q700 449 702 444T711 428T720 408T727 385T733 358T735 327Q735 281 724 235T685 141T617 59T515 1T375 -22Q270 -22 199 34T127 181Q127 216 147 270T207 374L216 386Q209 421 209 444ZM386 412Q386 432 366 432Q345 432 325 418T294 390T284 375Q284 371 289 362T306 343T335 332Q355 332 367 350T383 384T386 412',
    0x27: '250 620Q250 647 272 670T325 694Q348 694 362 677T377 633V624Q377 566 343 506T275 412T231 379Q226 379 220 388T213 401T232 421T279 472T323 547Q335 573 335 582L331 580Q327 578 318 576T300 573Q277 573 264 585T250 620',
    0x28: '241 -250Q203 -212 174 -140T144 39Q144 158 180 288T296 544T481 746L487 750H499Q517 750 517 740Q517 736 495 716Q399 630 331 491T236 228T208 3Q208 -73 224 -130T255 -214T271 -244Q271 -250 252 -250H241',
    0x29: '326 497Q326 546 320 588T304 655T285 699T269 728T262 740Q262 746 267 749L272 750Q276 750 281 750H293Q331 712 360 640T390 461Q390 332 339 171T188 -116Q161 -150 121 -188T47 -250H35Q17 -250 17 -240Q17 -236 39 -216Q135 -130 203 9T298 272T326 497',
    0x2A: '560 658Q569 658 576 649T584 631Q584 625 583 620T577 611T569 603T556 595T540 587T519 578T494 566L428 536Q427 535 433 531T479 502Q525 475 532 469T539 450Q538 435 525 424T497 412Q489 412 482 418T442 456Q400 497 400 494L387 420Q376 353 373 343T352 323Q345 320 336 320H331Q322 320 316 327T309 343Q309 347 334 420L359 496Q358 496 297 456T234 414Q228 411 221 411Q212 411 204 417T195 439Q198 458 209 465T283 502L353 534L300 566Q255 593 247 599T239 616Q239 631 252 644T282 658Q290 658 295 654T335 615L378 573L391 647Q393 657 395 671T398 691T400 706T404 720T408 730T414 739T423 744T434 749Q435 749 439 749T445 750Q467 748 469 728Q469 723 457 685T432 610L420 573L481 613Q548 658 560 658',
    0x2B: '139 237T139 250T151 266T198 270H293H431L465 407Q469 424 476 452Q494 528 500 542T519 557Q526 557 532 552T538 538Q538 536 507 409T472 272Q472 270 604 270Q737 270 741 268Q753 261 753 250Q753 237 742 233T696 229Q687 229 655 229T599 230H462L461 226Q461 224 427 91T392 -47Q387 -57 374 -57Q367 -57 361 -51T355 -37Q355 -31 388 99L421 230H288Q267 230 238 230T199 229Q163 229 151 233',
    0x2C: '106 46Q106 68 121 90T167 120Q168 120 173 120T180 121Q232 121 232 59V54Q232 18 219 -20T186 -88T145 -143T109 -181T88 -194Q84 -194 77 -185T69 -171Q69 -168 70 -166T76 -161T85 -154T101 -139T124 -114Q146 -88 162 -58T183 -12T188 7Q187 7 183 5T172 2T156 0Q129 0 118 14T106 46',
    0x2D: '205 180H131Q102 180 93 181T84 190Q90 238 103 251H334Q341 244 341 241Q341 236 336 214T327 186Q325 181 312 181T205 180',
    0x2E: '107 50Q107 76 129 98T181 121Q203 121 217 108T231 72Q231 47 210 24T156 0Q135 0 121 13T107 50',
    0x2F: '166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183Q157 -157 378 274T602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 691 406 241T170 -212Q166 -215 159 -215',
    0x30: '414 665Q562 665 562 490Q562 426 534 318Q451 -21 251 -21Q222 -21 202 -15Q155 2 134 40T110 144Q110 201 127 286T187 470T287 614Q348 665 414 665ZM187 98Q187 59 208 37T260 15Q320 15 365 83Q394 128 440 312T487 547Q487 580 471 600T433 627Q428 628 408 628Q381 628 353 609T311 569Q279 526 239 364T190 143Q187 120 187 98',
    0x31: '248 491Q228 491 228 502Q228 516 236 532Q237 536 246 537T275 541T314 552Q350 567 382 595T430 644L446 664Q450 666 454 666Q468 666 468 658Q468 647 395 359Q321 63 321 59Q321 52 334 50T388 46H422Q428 37 428 35Q428 19 421 5Q416 0 405 0Q400 0 361 1T263 2Q215 2 185 2T142 1T127 0Q110 0 110 11Q110 13 113 25T118 40Q120 46 146 46Q196 46 212 49T235 61Q238 66 295 295L353 526L340 519Q328 512 302 503T248 491',
    0x32: '159 404Q159 433 176 476T222 562T297 635T395 666Q466 666 508 617T551 497Q551 473 545 446Q534 388 482 333Q441 292 355 240T264 184Q216 151 179 101L171 91Q171 90 177 90Q206 90 269 77T366 64Q385 64 390 65Q418 73 441 98T475 156Q479 168 481 170T495 173H518Q524 167 524 166T521 152Q502 86 459 32T353 -22Q315 -22 259 15T172 53Q156 53 143 36T126 1L121 -16Q119 -22 98 -22H82Q76 -16 76 -13T80 5T98 50T132 111T189 178T274 242Q327 273 364 305T420 370T447 427T460 483Q466 514 466 538Q466 586 443 607T389 629Q338 629 293 584T226 487T204 399Q204 390 204 386T209 378T222 373Q258 376 282 422T307 493Q307 506 302 517T297 531Q297 537 308 546T327 551Q329 550 333 543T340 523T344 497Q344 450 306 393T216 336Q186 336 173 355T159 396V404',
    0x33: '296 531Q296 536 307 544T322 553Q330 553 338 534T346 501Q346 468 319 440T258 412Q232 412 216 430T200 478Q200 552 281 618Q345 666 416 666Q489 666 525 625T562 530Q562 473 525 419T430 335L416 329Q479 288 479 206Q479 142 440 89T344 7T229 -22Q173 -22 135 12T96 106Q96 192 157 192Q192 192 197 157Q197 134 184 117T142 96Q153 47 180 29Q201 15 232 15Q249 15 275 22Q307 34 331 57Q363 90 379 153T396 246Q396 261 393 272T384 290T371 301T355 308T341 311T326 312H316H307Q287 312 282 313T276 320Q276 323 279 337T283 352Q284 356 290 357T325 358Q364 359 368 360Q386 365 400 372T433 397T464 448T485 527Q487 535 487 556Q487 629 414 629Q350 629 298 580T245 476Q245 450 263 450H264Q280 450 294 463T308 496Q308 508 302 518T296 531',
    0x34: '448 34Q453 34 463 22T473 5Q473 -2 457 -7Q417 -22 383 -23H366L350 -91Q348 -98 345 -111T340 -130T335 -146T330 -161T325 -172T318 -182T310 -188T299 -193T286 -194Q256 -194 253 -165Q253 -159 271 -83T292 -5Q231 29 169 29Q114 29 91 14Q72 -2 65 1Q46 20 46 28Q46 35 55 43T77 60T96 74Q306 257 396 623Q410 666 444 666Q459 666 468 657T478 634Q478 627 470 595T440 504T387 381T303 239T187 99L164 75H178Q217 75 260 59L304 43Q304 48 325 127Q342 195 346 207T358 228Q372 242 391 242Q403 242 413 235T423 214Q423 205 402 116T378 25Q378 23 387 23Q405 23 418 25T439 31T448 34',
    0x35: '196 304Q189 309 189 314Q189 317 231 487T275 660Q278 666 283 666Q287 666 302 658T346 643T413 635Q447 635 481 642T537 658T559 666Q561 666 564 663T567 658Q565 637 557 629Q528 600 474 573T359 545Q342 545 327 546T304 550T294 552L291 540Q288 529 283 507T273 465L251 379Q307 420 364 420Q415 420 456 382T497 261Q497 165 429 82T262 -20Q256 -20 247 -21T233 -22Q176 -22 141 15T106 112Q106 208 173 208Q192 208 203 197T214 169Q214 143 195 125T156 107H153V100Q155 73 174 47T239 21Q245 21 259 23Q355 46 392 200Q393 205 394 207Q412 276 412 312Q412 352 396 367T358 383Q288 383 233 314Q226 306 224 305T209 304H196',
    0x36: '377 434Q425 434 457 404T499 341T509 278Q509 243 496 194T456 105T383 27Q322 -22 256 -22Q142 -22 122 114Q120 130 120 159Q120 221 135 292T195 452T310 599Q390 665 465 665Q565 665 565 583V574Q565 543 546 524Q528 506 504 506Q491 506 478 514T465 543Q465 585 515 602Q505 626 466 626Q419 626 372 587Q334 557 305 503T266 409L255 370Q287 410 339 429Q361 434 377 434ZM424 333Q424 359 411 378T365 397Q318 397 282 356T230 257T205 157T197 94Q197 67 211 45T260 22Q313 22 341 57T386 151Q424 283 424 333',
    0x37: '466 519Q448 519 435 528T416 550T400 571T376 581Q324 581 271 540T186 437Q185 435 183 432T181 428T179 426T177 424T174 423T171 422T165 422H159Q141 422 141 423Q136 423 136 431Q136 433 190 548T247 665Q249 666 266 666H282Q288 660 288 657Q288 655 284 646T276 628L273 620Q337 666 390 666Q413 666 425 652T438 620T444 584T457 559Q460 557 470 557Q497 557 524 582T571 635T594 665Q595 666 612 666H628Q634 660 634 657Q634 653 618 629T572 556T510 441T437 269T367 43Q356 -22 304 -22Q291 -22 278 -14T263 14Q263 36 281 95T354 269T486 507Q497 524 495 524Q482 519 466 519',
    0x38: '209 449Q209 545 278 605T416 666Q482 666 517 631T553 546Q553 513 539 482T504 430T463 394T426 370L410 360L430 343Q471 309 483 278T495 211Q495 141 441 75Q363 -21 253 -21Q182 -21 141 18T99 117Q99 161 119 201T170 268T222 308T259 331L272 338L259 349Q212 389 209 449ZM492 542Q492 586 469 605T415 625Q360 625 320 587T279 505Q279 495 281 487T286 474T295 460T306 449T321 436T337 422Q379 386 380 386Q389 386 420 412T472 471Q492 513 492 542ZM163 118Q163 76 189 49T258 21Q316 21 368 64T420 170Q420 193 412 208T395 233T350 271L302 312Q298 312 284 303T249 276T209 235T177 181T163 118',
    0x39: '297 211Q258 211 230 228T189 273T169 323T163 367Q163 411 183 472T254 585Q327 656 401 665Q403 665 412 665T427 666Q458 664 481 652T518 622T539 580T550 535T553 491Q553 448 544 395T515 277T454 148T358 37Q282 -22 213 -22Q166 -22 137 -1T107 55V64Q107 88 114 104T134 127T154 136T169 138Q185 138 196 128T207 101Q207 82 196 68T172 48L161 43Q161 40 167 36T187 26T219 21Q286 21 344 99Q364 126 382 169T408 241T417 275L412 269Q406 263 395 253T370 234T337 218T297 211ZM476 552Q476 626 417 626Q368 626 330 584Q312 563 300 533T270 433Q248 341 248 312Q248 286 262 267T310 248Q353 248 387 287T440 380T467 480T476 552',
    0x3A: '184 358Q184 385 206 408T258 431Q279 431 293 418T308 383Q308 354 284 332T233 310Q212 310 198 324T184 358ZM107 50Q107 76 129 98T181 121Q203 121 217 108T231 72Q231 47 210 24T156 0Q135 0 121 13T107 50',
    0x3B: '184 358Q184 385 206 408T258 431Q279 431 293 418T308 383Q308 354 284 332T233 310Q212 310 198 324T184 358ZM107 47Q107 77 130 99T180 121Q226 121 226 61Q226 25 214 -14T182 -84T144 -140T109 -180T88 -194T77 -185T70 -172Q70 -169 84 -155T121 -112T161 -48Q180 -10 180 3Q180 4 174 2Q172 2 166 1T156 0Q135 0 121 13T107 47',
    0x3D: '776 357T776 347T761 327H470Q180 327 176 329Q164 334 164 347Q164 359 176 365Q179 367 470 367H761Q776 357 776 347ZM116 143T116 153T131 173H422Q713 173 717 171Q728 166 728 153T717 135Q713 133 422 133H131Q116 143 116 153',
    0x3F: '235 431Q217 431 206 442T195 468Q195 490 215 537T280 638T380 707Q403 716 423 716Q425 716 429 716T436 715Q485 715 518 681T551 590Q551 543 530 503T482 439Q471 428 400 375T318 310Q300 287 300 259Q300 236 315 236Q333 236 352 251T384 300Q386 306 407 306H423Q429 300 429 297Q429 272 393 235T308 198Q287 198 269 215T251 270Q251 330 293 374L374 436Q377 438 401 456T432 480T457 503T481 531T494 561T501 598Q501 614 499 626Q482 678 430 678H426Q392 678 362 660T311 615T280 571T264 540L259 528Q259 527 266 526T283 516T294 492Q294 466 276 449T235 431ZM209 51Q212 83 235 102T281 121Q309 121 321 105T333 72Q333 45 311 23T258 0Q240 0 225 11T209 51',
    0x40: '198 250Q198 155 248 91T394 26Q514 26 640 80L650 84H675H683Q709 84 709 76Q709 73 708 71Q706 64 660 45T534 8T383 -11T260 24T181 115Q152 168 152 248Q152 410 268 552Q303 590 324 608Q439 705 551 705Q611 705 658 683T733 623T775 543T789 454Q789 380 766 304T720 192Q677 125 617 125Q591 125 573 137T548 160T541 176Q541 178 540 178L534 173Q527 168 515 160T488 144T454 131T417 125Q361 125 320 166T279 284Q279 393 356 481T523 569Q570 569 603 537Q623 515 632 490L637 480L657 479Q684 479 684 470Q684 465 650 333L617 199V185Q616 162 628 162Q677 162 712 278Q743 381 743 442Q743 555 687 611T553 668Q467 668 385 608T250 450T198 250ZM598 445Q598 453 594 470T569 510T518 532Q463 532 410 448T356 271Q356 220 374 191T423 162Q482 162 552 255L575 348Q598 440 598 445',
    0x5B: '205 -221Q205 -239 194 -250H137H106Q73 -250 73 -242Q73 -232 194 255T321 747L324 750H381H417Q435 750 440 748T446 739Q446 730 443 723T437 712L434 710H350L349 706Q349 704 235 249T120 -208Q120 -210 159 -210Q166 -210 175 -210T187 -209Q205 -209 205 -221',
    0x5D: '227 721Q227 739 238 750H295H326Q359 750 359 742Q359 732 238 245T111 -247L108 -250H51H15Q-3 -250 -8 -248T-14 -239Q-14 -230 -11 -223T-5 -212L-2 -210H82L83 -206Q83 -204 197 251T312 708Q312 710 273 710Q266 710 257 710T245 709Q227 709 227 721',
    0x5E: '528 555Q528 549 514 538T496 527Q491 527 470 554Q458 569 449 580L414 625L353 578Q339 567 323 555T298 536L290 529Q286 527 285 527Q279 527 273 533T264 546L260 553Q260 559 263 562Q265 564 342 628T421 693T425 694Q430 694 433 691Q528 563 528 555',
    0x5F: '98 -62Q91 -58 91 -51Q91 -31 100 -26Q102 -25 324 -25H442H500Q536 -25 545 -27T554 -36Q554 -50 548 -56Q546 -60 538 -61Q520 -62 319 -62H98',
    0x7E: '266 208Q262 208 255 215T247 228Q247 233 250 236T274 259Q335 318 369 318Q394 318 420 292T464 265Q485 265 516 291T550 318Q554 318 562 311T571 297Q570 293 551 273T502 231T451 209H447Q421 209 396 235T355 261Q334 261 301 235T266 208',
    0x131: '75 287Q75 292 82 313T103 362T142 413T196 441H214Q248 441 270 419T293 357Q292 338 289 330T245 208Q193 72 193 46Q193 26 209 26Q228 26 247 43Q273 71 292 136Q295 148 297 150T311 153H317Q327 153 330 153T337 150T340 143Q340 133 330 105T292 41T228 -8Q220 -10 204 -10Q160 -10 141 15T122 71Q122 98 171 227T221 384Q221 396 218 400T203 405Q175 403 156 374T128 312T116 279Q115 278 97 278H81Q75 284 75 287',
    0x237: '75 284T75 287T81 305T101 343T133 389T180 426T240 442Q273 440 300 420T327 350V332L278 134Q267 92 253 37T233 -45T225 -73Q208 -123 162 -163T54 -204Q8 -204 -15 -181Q-32 -164 -32 -140Q-32 -112 -14 -96T27 -79Q48 -79 57 -91T67 -114Q67 -146 39 -166L44 -167H59H60Q112 -167 145 -74Q148 -65 198 134T251 347Q252 353 252 370Q252 382 251 388T245 399T230 405Q204 405 175 378Q157 360 145 337T126 298T117 280T98 278H81Q75 284 75 287',
    0x300: '-222 651Q-222 668 -206 682T-174 697Q-155 697 -145 680Q-140 671 -107 599T-74 526Q-74 522 -88 511T-107 500Q-109 500 -113 502T-167 568T-219 637Q-222 643 -222 651',
    0x301: '-148 500Q-154 500 -163 511T-173 528Q-173 529 -172 530V532Q-170 534 -97 610T-21 688Q-8 697 4 697Q19 697 29 688T39 663T30 638Q26 631 -50 573L-135 507Q-144 500 -148 500',
    0x302: '17 555Q17 549 3 538T-15 527Q-20 527 -41 554Q-53 569 -62 580L-97 625L-158 578Q-172 567 -188 555T-212 536L-221 529Q-225 527 -226 527Q-232 527 -238 533T-248 546L-251 553Q-251 559 -248 562Q-246 564 -169 628T-90 693T-86 694Q-81 694 -78 691Q17 563 17 555',
    0x303: '-245 558Q-249 558 -256 565T-264 578Q-264 583 -261 586T-237 609Q-176 668 -142 668Q-117 668 -91 642T-47 615Q-26 615 5 641T39 668Q43 668 51 661T60 647Q59 643 40 623T-9 581T-60 559H-64Q-90 559 -115 585T-156 611Q-177 611 -210 585T-245 558',
    0x304: '-275 544Q-282 548 -282 554Q-282 561 -279 573T-271 588Q-269 589 -111 589H-27H12Q38 589 46 587T54 578Q54 574 51 563T47 550Q45 546 32 545Q15 544 -118 544H-275',
    0x306: '-237 641Q-237 694 -218 694H-213Q-195 694 -195 684Q-195 683 -195 679T-197 667T-198 650Q-198 611 -176 589T-117 566Q-74 566 -34 597T23 678Q27 689 30 691T43 694Q62 694 62 684Q62 671 49 645T14 589T-46 537T-123 515Q-175 515 -206 550T-237 641',
    0x307: '-165 599Q-162 631 -139 650T-93 669Q-65 669 -53 653T-41 620Q-41 593 -63 571T-116 548Q-134 548 -149 559T-165 599',
    0x308: '-251 601Q-251 626 -230 647T-180 669Q-139 669 -133 625Q-133 595 -155 575T-203 554Q-223 554 -237 567T-251 601ZM-72 599Q-72 632 -48 650T-2 669Q18 669 31 657T45 623Q45 592 22 573T-25 554Q-68 554 -72 599',
    0x30A: '-199 610Q-199 654 -161 685T-79 716Q-39 716 -16 693Q3 674 3 647Q3 607 -34 575T-118 542Q-199 542 -199 610ZM-41 631T-41 655T-83 679H-89Q-129 679 -142 656Q-146 650 -151 632T-156 604Q-156 578 -113 578H-108Q-94 578 -86 579T-69 586T-52 605Q-41 631 -41 655',
    0x30B: '-217 503Q-221 503 -234 510T-248 523Q-248 528 -205 602Q-200 610 -192 623T-180 644T-170 661T-159 676T-151 686T-142 694T-134 696Q-132 697 -121 697Q-88 694 -88 664Q-88 652 -97 640T-152 574Q-214 504 -217 503ZM-64 503Q-68 503 -81 510T-95 523Q-95 528 -52 602Q-47 610 -39 623T-27 644T-17 661T-6 676T2 686T11 694T19 696Q21 697 32 697Q65 694 65 664Q65 652 56 640T1 574Q-61 504 -64 503',
    0x30C: '11 637Q16 637 22 624T29 607Q29 606 27 602Q26 600 -47 552T-125 502H-127Q-133 502 -184 553Q-236 602 -236 608Q-236 612 -224 625T-206 638L-202 637L-196 632Q-190 628 -179 620T-158 603L-116 570Q-109 572 -52 604T11 637',
    0x3DD: '477 261Q477 257 473 256T455 253T417 251T348 250H235L155 -77L146 -82Q137 -85 109 -85Q55 -85 55 -77L139 261Q224 596 226 598Q229 603 239 603Q240 603 254 603T290 603T341 604T405 605T477 605Q656 603 687 602T719 596Q719 589 692 588T513 585H319L282 427L242 272Q242 270 351 270Q388 270 410 270T444 269T460 267T469 265T477 261',
    0x2013: '98 248Q91 252 91 259Q91 279 100 284Q102 285 324 285H442H500Q536 285 545 283T554 274Q554 260 548 254Q546 250 538 249Q520 248 319 248H98',
    0x2014: '124 248Q117 252 117 259Q117 279 126 284Q128 285 579 285T1033 284Q1037 280 1037 278Q1038 276 1038 274Q1038 253 1029 250Q1026 248 575 248H124',
    0x2015: '124 248Q117 252 117 259Q117 279 126 284Q128 285 579 285T1033 284Q1037 280 1037 278Q1038 276 1038 274Q1038 253 1029 250Q1026 248 575 248H124',
    0x2017: '98 -62Q91 -58 91 -51Q91 -31 100 -26Q102 -25 324 -25H442H500Q536 -25 545 -27T554 -36Q554 -50 548 -56Q546 -60 538 -61Q520 -62 319 -62H98',
    0x2018: '249 379Q228 379 213 396T197 448Q197 533 271 627L278 635Q286 643 295 652T314 671T332 687T344 694Q349 694 355 685T362 671Q362 668 345 654T301 608T256 537Q238 493 240 491Q241 491 245 493T258 498T275 500Q296 500 311 488T326 454Q326 426 304 403T249 379',
    0x2019: '250 620Q250 647 272 670T325 694Q348 694 362 677T377 633V624Q377 566 343 506T275 412T231 379Q226 379 220 388T213 401T232 421T279 472T323 547Q335 573 335 582L331 580Q327 578 318 576T300 573Q277 573 264 585T250 620',
    0x201C: '295 379Q274 379 259 396T243 448Q243 533 317 627Q326 638 354 666T391 694Q395 694 402 686T409 673Q409 668 392 654T348 608T302 537Q284 493 286 491Q287 491 291 493T304 498T321 500Q342 500 357 488T372 454Q372 426 350 403T295 379ZM492 379Q471 379 456 396T440 448Q440 533 514 627Q523 638 551 666T588 694Q592 694 599 685T606 672T589 654T544 608T499 537Q481 493 483 491Q484 491 488 493T501 498T518 500Q539 500 554 488T569 454Q569 426 547 403T492 379',
    0x201D: '214 620Q214 647 236 670T289 694Q312 694 326 677T341 633V624Q341 588 327 550T294 482T253 428T216 392T196 379Q191 379 184 388T176 401Q176 404 195 421T243 472T287 547Q299 576 299 582L295 580Q291 578 282 576T264 573Q241 573 228 585T214 620ZM411 620Q411 647 433 670T486 694Q509 694 523 677T538 633V624Q538 588 524 550T491 482T450 428T413 392T393 379Q388 379 381 388T373 401Q373 404 392 421T440 472T484 547Q496 576 496 582L492 580Q488 578 479 576T461 573Q438 573 425 585T411 620',
    0x2044: '166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183Q157 -157 378 274T602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 691 406 241T170 -212Q166 -215 159 -215',
    0x210F: '150 475Q147 475 118 466T82 457Q73 457 64 467T54 487Q54 490 55 492Q63 506 64 506Q67 512 118 526Q162 541 169 546Q173 559 175 575Q181 596 181 604Q181 613 166 617Q164 617 153 618T135 619Q119 619 114 621T109 630Q109 636 114 656T122 681Q125 685 202 688Q272 695 286 695Q304 695 304 684Q304 682 291 628L278 577L386 612Q466 635 476 635T492 627T499 607Q499 593 489 586Q485 583 373 546L262 512Q262 511 248 455T233 397T236 397T244 404Q295 441 357 441Q405 441 445 417T485 333Q485 284 449 178T412 58T426 44Q447 44 466 68Q485 87 500 130L509 152H531H543Q562 152 562 144Q562 128 546 93T494 23T415 -13Q385 -13 359 3T322 44Q318 52 318 77Q318 99 352 196T386 337Q386 386 346 386Q318 386 286 370Q267 361 245 338T211 292Q207 287 193 235T162 113T138 21Q128 7 122 4Q105 -12 83 -12Q66 -12 54 -2T42 26Q42 45 98 257L151 475H150',
    0x2206: '574 715L582 716Q589 716 595 716Q612 716 616 714Q621 712 621 709Q622 707 705 359T788 8Q786 5 785 3L781 0H416Q52 0 50 2T48 6Q48 9 305 358T567 711Q572 712 574 715ZM599 346L538 602L442 474Q347 345 252 217T157 87T409 86T661 88L654 120Q646 151 629 220T599 346',
    0x29F8: '166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183Q157 -157 378 274T602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 691 406 241T170 -212Q166 -215 159 -215',
},{
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2198">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {largeop as font} from '../../../common/fonts/tex/largeop.js';

export const largeop: SVGCharMap = AddPaths(font, {
    0x28: '180 96T180 250T205 541T266 770T353 944T444 1069T527 1150H555Q561 1144 561 1141Q561 1137 545 1120T504 1072T447 995T386 878T330 721T288 513T272 251Q272 133 280 56Q293 -87 326 -209T399 -405T475 -531T536 -609T561 -640Q561 -643 555 -649H527Q483 -612 443 -568T353 -443T266 -270T205 -41',
    0x29: '35 1138Q35 1150 51 1150H56H69Q113 1113 153 1069T243 944T330 771T391 541T416 250T391 -40T330 -270T243 -443T152 -568T69 -649H56Q43 -649 39 -647T35 -637Q65 -607 110 -548Q283 -316 316 56Q324 133 324 251Q324 368 316 445Q278 877 48 1123Q36 1137 35 1138',
    0x2F: '78 -649Q56 -646 56 -625Q56 -614 382 261T712 1140Q716 1150 732 1150Q754 1147 754 1126Q754 1116 428 240T98 -639Q94 -649 78 -649',
    0x5B: '224 -649V1150H455V1099H275V-598H455V-649H224',
    0x5C: '754 -625Q754 -649 731 -649Q715 -649 712 -639Q709 -635 383 242T55 1124Q54 1135 61 1142T80 1150Q92 1150 98 1140Q101 1137 427 262T754 -625',
    0x5D: '16 1099V1150H247V-649H16V-598H196V1099H16',
    0x7B: '547 -643L541 -649H528Q515 -649 503 -645Q324 -582 293 -466Q289 -449 289 -428T287 -200L286 42L284 53Q274 98 248 135T196 190T146 222L121 235Q119 239 119 250Q119 262 121 266T133 273Q262 336 284 449L286 460L287 701Q287 737 287 794Q288 949 292 963Q293 966 293 967Q325 1080 508 1148Q516 1150 527 1150H541L547 1144V1130Q547 1117 546 1115T536 1109Q480 1086 437 1046T381 950L379 940L378 699Q378 657 378 594Q377 452 374 438Q373 437 373 436Q350 348 243 282Q192 257 186 254L176 251L188 245Q211 236 234 223T287 189T340 135T373 65Q373 64 374 63Q377 49 378 -93Q378 -156 378 -198L379 -438L381 -449Q393 -504 436 -544T536 -608Q544 -611 545 -613T547 -629V-643',
    0x7D: '119 1130Q119 1144 121 1147T135 1150H139Q151 1150 182 1138T252 1105T326 1046T373 964Q378 942 378 702Q378 469 379 462Q386 394 439 339Q482 296 535 272Q544 268 545 266T547 251Q547 241 547 238T542 231T531 227T510 217T477 194Q390 129 379 39Q378 32 378 -201Q378 -441 373 -463Q342 -580 165 -644Q152 -649 139 -649Q125 -649 122 -646T119 -629Q119 -622 119 -619T121 -614T124 -610T132 -607T143 -602Q195 -579 235 -539T285 -447Q286 -435 287 -199T289 51Q294 74 300 91T329 138T390 197Q412 213 436 226T475 244L489 250L472 258Q455 265 430 279T377 313T327 366T293 434Q289 451 289 472T287 699Q286 941 285 948Q279 978 262 1005T227 1048T184 1080T151 1100T129 1109L127 1110Q119 1113 119 1130',
    0x2C6: '1004 603Q1004 600 999 583T991 565L960 574Q929 582 866 599T745 631L500 698Q497 698 254 631Q197 616 134 599T39 574L8 565Q5 565 0 582T-5 603L26 614Q58 624 124 646T248 687L499 772Q999 604 1004 603',
    0x2DC: '296 691Q258 691 216 683T140 663T79 639T34 619T16 611Q13 619 8 628L0 644L36 662Q206 749 321 749Q410 749 517 710T703 670Q741 670 783 678T859 698T920 722T965 742T983 750Q986 742 991 733L999 717L963 699Q787 611 664 611Q594 611 484 651T296 691',
    0x302: '4 603Q4 600 -1 583T-9 565L-40 574Q-71 582 -134 599T-255 631L-500 698Q-503 698 -746 631Q-803 616 -866 599T-961 574L-992 565Q-995 565 -1000 582T-1005 603L-974 614Q-942 624 -876 646T-752 687L-501 772Q-1 604 4 603',
    0x303: '-704 691Q-742 691 -784 683T-860 663T-921 639T-966 619T-984 611Q-987 619 -992 628L-1000 644L-964 662Q-794 749 -679 749Q-590 749 -483 710T-297 670Q-259 670 -217 678T-141 698T-80 722T-35 742T-17 750Q-14 742 -9 733L-1 717L-37 699Q-213 611 -336 611Q-405 611 -515 651T-704 691',
    0x2016: '257 0V602H300V0H257ZM478 0V602H521V0H478',
    0x2044: '78 -649Q56 -646 56 -625Q56 -614 382 261T712 1140Q716 1150 732 1150Q754 1147 754 1126Q754 1116 428 240T98 -639Q94 -649 78 -649',
    0x2191: '112 421L120 424Q127 427 136 430T161 441T191 458T224 481T260 510T295 546T328 591L333 600L340 589Q380 527 431 489T555 421V377L543 381Q445 418 368 492L355 504V0H312V504L299 492Q222 418 124 381L112 377V421',
    0x2193: '312 96V600H355V96L368 108Q445 182 543 219L555 223V179L546 176Q538 173 529 169T505 158T475 141T442 119T407 90T372 53T339 9L334 0L327 11Q287 73 236 111T112 179V223L124 219Q222 182 299 108L312 96',
    0x21D1: '142 329Q300 419 389 599Q389 598 399 579T420 541T452 494T497 438T558 383T636 329T708 294L721 289V246Q718 246 694 256T623 293T532 356L522 364L521 182V0H478V405L466 417Q436 450 389 516Q388 515 378 500T352 463T312 417L300 405V0H257V364L247 356Q202 320 155 293T82 256L57 246V289L70 294Q101 305 142 329',
    0x21D3: '257 236V600H300V195L312 183Q342 150 389 84Q390 85 400 100T426 137T466 183L478 195V600H521V418L522 236L532 244Q576 280 623 307T696 344L721 354V311L708 306Q677 295 636 271Q478 181 389 1Q389 2 379 21T358 59T326 106T281 162T220 217T142 271T70 306L57 311V354Q60 354 83 345T154 308T247 244L257 236',
    0x220F: '220 812Q220 813 218 819T214 829T208 840T199 853T185 866T166 878T140 887T107 893T66 896H56V950H1221V896H1211Q1080 896 1058 812V-311Q1076 -396 1211 -396H1221V-450H725V-396H735Q864 -396 888 -314Q889 -312 889 -311V896H388V292L389 -311Q405 -396 542 -396H552V-450H56V-396H66Q195 -396 219 -314Q220 -312 220 -311V812',
    0x2210: '220 812Q220 813 218 819T214 829T208 840T199 853T185 866T166 878T140 887T107 893T66 896H56V950H552V896H542Q411 896 389 812L388 208V-396H889V812Q889 813 887 819T883 829T877 840T868 853T854 866T835 878T809 887T776 893T735 896H725V950H1221V896H1211Q1080 896 1058 812V-311Q1076 -396 1211 -396H1221V-450H56V-396H66Q195 -396 219 -314Q220 -312 220 -311V812',
    0x2211: '60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948',
    0x221A: '1001 1150Q1017 1150 1020 1132Q1020 1127 741 244L460 -643Q453 -650 436 -650H424Q423 -647 423 -645T421 -640T419 -631T415 -617T408 -594T399 -560T385 -512T367 -448T343 -364T312 -259L203 119L138 41L111 67L212 188L264 248L472 -474L983 1140Q988 1150 1001 1150',
    0x2223: '146 612Q151 627 166 627Q182 627 187 612Q188 610 188 306T187 0Q184 -15 166 -15Q149 -15 146 0V10Q146 19 146 35T146 73T146 122T145 179T145 241T145 306T145 370T145 433T145 489T146 538T146 576T146 602V612',
    0x2225: '146 612Q151 627 166 627Q182 627 187 612Q188 610 188 306T187 0Q184 -15 166 -15Q149 -15 146 0V10Q146 19 146 35T146 73T146 122T145 179T145 241T145 306T145 370T145 433T145 489T146 538T146 576T146 602V612ZM368 612Q373 627 388 627Q404 627 409 612Q410 610 410 306T409 0Q406 -15 389 -15Q371 -15 368 0V10Q368 19 368 35T368 73T368 122T367 179T367 241T367 306T367 370T367 433T367 489T368 538T368 576T368 602V612',
    0x222B: '114 -798Q132 -824 165 -824H167Q195 -824 223 -764T275 -600T320 -391T362 -164Q365 -143 367 -133Q439 292 523 655T645 1127Q651 1145 655 1157T672 1201T699 1257T733 1306T777 1346T828 1360Q884 1360 912 1325T944 1245Q944 1220 932 1205T909 1186T887 1183Q866 1183 849 1198T832 1239Q832 1287 885 1296L882 1300Q879 1303 874 1307T866 1313Q851 1323 833 1323Q819 1323 807 1311T775 1255T736 1139T689 936T633 628Q574 293 510 -5T410 -437T355 -629Q278 -862 165 -862Q125 -862 92 -831T55 -746Q55 -711 74 -698T112 -685Q133 -685 150 -700T167 -741Q167 -789 114 -798',
    0x222C: '114 -798Q132 -824 165 -824H167Q195 -824 223 -764T275 -600T320 -391T362 -164Q365 -143 367 -133Q439 292 523 655T645 1127Q651 1145 655 1157T672 1201T699 1257T733 1306T777 1346T828 1360Q884 1360 912 1325T944 1245Q944 1220 932 1205T909 1186T887 1183Q866 1183 849 1198T832 1239Q832 1287 885 1296L882 1300Q879 1303 874 1307T866 1313Q851 1323 833 1323Q819 1323 807 1311T775 1255T736 1139T689 936T633 628Q574 293 510 -5T410 -437T355 -629Q278 -862 165 -862Q125 -862 92 -831T55 -746Q55 -711 74 -698T112 -685Q133 -685 150 -700T167 -741Q167 -789 114 -798ZM642 -798Q660 -824 693 -824H695Q723 -824 751 -764T803 -600T848 -391T890 -164Q893 -143 895 -133Q967 292 1051 655T1173 1127Q1179 1145 1183 1157T1200 1201T1227 1257T1261 1306T1305 1346T1356 1360Q1412 1360 1440 1325T1472 1245Q1472 1220 1460 1205T1437 1186T1415 1183Q1394 1183 1377 1198T1360 1239Q1360 1287 1413 1296L1410 1300Q1407 1303 1402 1307T1394 1313Q1379 1323 1361 1323Q1347 1323 1335 1311T1303 1255T1264 1139T1217 936T1161 628Q1102 293 1038 -5T938 -437T883 -629Q806 -862 693 -862Q653 -862 620 -831T583 -746Q583 -711 602 -698T640 -685Q661 -685 678 -700T695 -741Q695 -789 642 -798',
    0x222D: '114 -798Q132 -824 165 -824H167Q195 -824 223 -764T275 -600T320 -391T362 -164Q365 -143 367 -133Q439 292 523 655T645 1127Q651 1145 655 1157T672 1201T699 1257T733 1306T777 1346T828 1360Q884 1360 912 1325T944 1245Q944 1220 932 1205T909 1186T887 1183Q866 1183 849 1198T832 1239Q832 1287 885 1296L882 1300Q879 1303 874 1307T866 1313Q851 1323 833 1323Q819 1323 807 1311T775 1255T736 1139T689 936T633 628Q574 293 510 -5T410 -437T355 -629Q278 -862 165 -862Q125 -862 92 -831T55 -746Q55 -711 74 -698T112 -685Q133 -685 150 -700T167 -741Q167 -789 114 -798ZM642 -798Q660 -824 693 -824H695Q723 -824 751 -764T803 -600T848 -391T890 -164Q893 -143 895 -133Q967 292 1051 655T1173 1127Q1179 1145 1183 1157T1200 1201T1227 1257T1261 1306T1305 1346T1356 1360Q1412 1360 1440 1325T1472 1245Q1472 1220 1460 1205T1437 1186T1415 1183Q1394 1183 1377 1198T1360 1239Q1360 1287 1413 1296L1410 1300Q1407 1303 1402 1307T1394 1313Q1379 1323 1361 1323Q1347 1323 1335 1311T1303 1255T1264 1139T1217 936T1161 628Q1102 293 1038 -5T938 -437T883 -629Q806 -862 693 -862Q653 -862 620 -831T583 -746Q583 -711 602 -698T640 -685Q661 -685 678 -700T695 -741Q695 -789 642 -798ZM1150 -798Q1168 -824 1201 -824H1203Q1231 -824 1259 -764T1311 -600T1356 -391T1398 -164Q1401 -143 1403 -133Q1475 292 1559 655T1681 1127Q1687 1145 1691 1157T1708 1201T1735 1257T1769 1306T1813 1346T1864 1360Q1920 1360 1948 1325T1980 1245Q1980 1220 1968 1205T1945 1186T1923 1183Q1902 1183 1885 1198T1868 1239Q1868 1287 1921 1296L1918 1300Q1915 1303 1910 1307T1902 1313Q1887 1323 1869 1323Q1855 1323 1843 1311T1811 1255T1772 1139T1725 936T1669 628Q1610 293 1546 -5T1446 -437T1391 -629Q1314 -862 1201 -862Q1161 -862 1128 -831T1091 -746Q1091 -711 1110 -698T1148 -685Q1169 -685 1186 -700T1203 -741Q1203 -789 1150 -798',
    0x222E: '114 -798Q132 -824 165 -824H167Q195 -824 223 -764T275 -600T320 -391T362 -164Q365 -143 367 -133Q382 -52 390 2Q314 40 276 99Q230 167 230 249Q230 363 305 436T484 519H494L503 563Q587 939 632 1087T727 1298Q774 1360 828 1360Q884 1360 912 1325T944 1245Q944 1220 932 1205T909 1186T887 1183Q866 1183 849 1198T832 1239Q832 1287 885 1296L882 1300Q879 1303 874 1307T866 1313Q851 1323 833 1323Q766 1323 688 929Q662 811 610 496Q770 416 770 249Q770 147 701 68T516 -21H506L497 -65Q407 -464 357 -623T237 -837Q203 -862 165 -862Q125 -862 92 -831T55 -746Q55 -711 74 -698T112 -685Q133 -685 150 -700T167 -741Q167 -789 114 -798ZM480 478Q460 478 435 470T380 444T327 401T287 335T271 249Q271 124 375 56L397 43L431 223L485 478H480ZM519 20Q545 20 578 33T647 72T706 144T730 249Q730 383 603 455Q603 454 597 421T582 343T569 276Q516 22 515 20H519',
    0x22C0: '1055 -401Q1055 -419 1042 -434T1007 -450Q977 -450 963 -423Q959 -417 757 167L555 750L353 167Q151 -417 147 -423Q134 -450 104 -450Q84 -450 70 -436T55 -401Q55 -394 56 -390Q59 -381 284 270T512 925Q525 950 555 950Q583 950 597 926Q599 923 825 270T1054 -391Q1055 -394 1055 -401',
    0x22C1: '55 900Q55 919 69 934T103 950Q134 950 147 924Q152 913 353 333L555 -250L757 333Q958 913 963 924Q978 950 1007 950Q1028 950 1041 935T1055 901Q1055 894 1054 891Q1052 884 826 231T597 -426Q583 -450 556 -450Q527 -450 512 -424Q510 -421 285 229T56 890Q55 893 55 900',
    0x22C2: '57 516Q68 602 104 675T190 797T301 882T423 933T542 949Q594 949 606 948Q780 928 901 815T1048 545Q1053 516 1053 475T1055 49Q1055 -406 1054 -410Q1051 -427 1037 -438T1006 -450T976 -439T958 -411Q957 -407 957 37Q957 484 956 494Q945 643 831 747T554 852Q481 852 411 826Q301 786 232 696T154 494Q153 484 153 37Q153 -407 152 -411Q148 -428 135 -439T104 -450T73 -439T56 -410Q55 -406 55 49Q56 505 57 516',
    0x22C3: '56 911Q58 926 71 938T103 950Q120 950 134 939T152 911Q153 907 153 463Q153 16 154 6Q165 -143 279 -247T556 -352Q716 -352 830 -248T956 6Q957 16 957 463Q957 907 958 911Q962 928 975 939T1006 950T1037 939T1054 911Q1055 906 1055 451Q1054 -5 1053 -16Q1029 -207 889 -328T555 -449Q363 -449 226 -331T62 -45Q57 -16 57 25T55 451Q55 906 56 911',
    0x2308: '224 -649V1150H511V1099H275V-649H224',
    0x2309: '16 1099V1150H303V-649H252V1099H16',
    0x230A: '224 -649V1150H275V-598H511V-649H224',
    0x230B: '252 -598V1150H303V-649H16V-598H252',
    0x2329: '112 244V258L473 1130Q482 1150 498 1150Q511 1150 517 1142T523 1125V1118L344 685Q304 587 257 473T187 305L165 251L344 -184L523 -616V-623Q524 -634 517 -641T499 -649Q484 -649 473 -629L112 244',
    0x232A: '112 -649Q103 -649 95 -642T87 -623V-616L266 -184L445 251Q445 252 356 466T178 898T86 1123Q85 1134 93 1142T110 1150Q126 1150 133 1137Q134 1136 317 695L498 258V244L317 -194Q134 -635 133 -636Q126 -649 112 -649',
    0x23D0: '312 0V602H355V0H312',
    0x2758: '146 612Q151 627 166 627Q182 627 187 612Q188 610 188 306T187 0Q184 -15 166 -15Q149 -15 146 0V10Q146 19 146 35T146 73T146 122T145 179T145 241T145 306T145 370T145 433T145 489T146 538T146 576T146 602V612',
    0x27E8: '112 244V258L473 1130Q482 1150 498 1150Q511 1150 517 1142T523 1125V1118L344 685Q304 587 257 473T187 305L165 251L344 -184L523 -616V-623Q524 -634 517 -641T499 -649Q484 -649 473 -629L112 244',
    0x27E9: '112 -649Q103 -649 95 -642T87 -623V-616L266 -184L445 251Q445 252 356 466T178 898T86 1123Q85 1134 93 1142T110 1150Q126 1150 133 1137Q134 1136 317 695L498 258V244L317 -194Q134 -635 133 -636Q126 -649 112 -649',
    0x2A00: '668 944Q697 949 744 949Q803 949 814 948Q916 937 1006 902T1154 826T1262 730T1336 638T1380 563Q1454 415 1454 250Q1454 113 1402 -14T1258 -238T1036 -391T755 -449Q608 -449 477 -392T255 -240T110 -16T56 250Q56 387 105 510T239 723T434 871T668 944ZM755 -352Q922 -352 1061 -269T1278 -48T1356 250Q1356 479 1202 652T809 850Q798 851 747 851Q634 851 527 806T337 682T204 491T154 251Q154 128 201 17T329 -176T521 -304T755 -352ZM665 250Q665 290 692 315T758 341Q792 339 818 315T845 250Q845 211 819 186T755 160Q716 160 691 186T665 250',
    0x2A01: '668 944Q697 949 744 949Q803 949 814 948Q916 937 1006 902T1154 826T1262 730T1336 638T1380 563Q1454 415 1454 250Q1454 113 1402 -14T1258 -238T1036 -391T755 -449Q608 -449 477 -392T255 -240T110 -16T56 250Q56 387 105 510T239 723T434 871T668 944ZM706 299V850H704Q519 832 386 725T198 476Q181 433 169 379T156 300Q156 299 431 299H706ZM1116 732Q1054 778 982 807T871 842T810 849L804 850V299H1079Q1354 299 1354 300Q1354 311 1352 329T1336 402T1299 506T1228 620T1116 732ZM706 -350V201H431Q156 201 156 200Q156 189 158 171T174 98T211 -6T282 -120T395 -232Q428 -257 464 -277T527 -308T587 -328T636 -339T678 -346T706 -350ZM1354 200Q1354 201 1079 201H804V-350Q808 -349 838 -345T887 -338T940 -323T1010 -295Q1038 -282 1067 -265T1144 -208T1229 -121T1301 0T1349 158Q1354 188 1354 200',
    0x2A02: '668 944Q697 949 744 949Q803 949 814 948Q916 937 1006 902T1154 826T1262 730T1336 638T1380 563Q1454 415 1454 250Q1454 113 1402 -14T1258 -238T1036 -391T755 -449Q608 -449 477 -392T255 -240T110 -16T56 250Q56 387 105 510T239 723T434 871T668 944ZM1143 709Q1138 714 1129 722T1086 752T1017 791T925 826T809 850Q798 851 747 851H728Q659 851 571 823T408 741Q367 713 367 709L755 320L1143 709ZM297 639Q296 639 282 622T247 570T205 491T169 382T154 250T168 118T204 9T247 -70T282 -122L297 -139L685 250L297 639ZM1213 -139Q1214 -139 1228 -122T1263 -70T1305 9T1341 118T1356 250T1342 382T1306 491T1263 570T1228 622L1213 639L825 250L1213 -139ZM367 -209Q373 -215 384 -224T434 -258T514 -302T622 -336T755 -352T887 -338T996 -302T1075 -259T1126 -224L1143 -209L755 180Q754 180 561 -14T367 -209',
    0x2A04: '56 911Q58 926 71 938T103 950Q120 950 134 939T152 911Q153 907 153 463Q153 16 154 6Q165 -143 279 -247T556 -352Q716 -352 830 -248T956 6Q957 16 957 463Q957 907 958 911Q962 928 975 939T1006 950T1037 939T1054 911Q1055 906 1055 451Q1054 -5 1053 -16Q1029 -207 889 -328T555 -449Q363 -449 226 -331T62 -45Q57 -16 57 25T55 451Q55 906 56 911ZM507 554Q511 570 523 581T554 593Q571 593 585 582T603 554Q604 551 604 443V338H709Q817 338 820 337Q835 334 847 321T859 290Q859 254 819 241Q816 240 709 240H604V134Q604 48 604 34T598 11Q583 -15 555 -15Q526 -15 512 11Q507 20 507 34T506 134V240H401H344Q292 240 278 246Q251 259 251 290Q251 309 264 321T290 337Q293 338 401 338H506V443Q506 551 507 554',
    0x2A06: '56 911Q60 927 72 938T103 950Q120 950 134 939T152 911Q153 907 153 277V-352H957V277Q957 907 958 911Q962 928 975 939T1006 950T1036 939T1054 911V891Q1054 871 1054 836T1054 754T1054 647T1055 525T1055 390T1055 250T1055 111T1055 -24T1055 -147T1054 -253T1054 -335T1054 -391V-411Q1047 -442 1016 -449Q1011 -450 552 -450L94 -449Q63 -439 56 -411V-391Q56 -371 56 -336T56 -254T56 -147T55 -25T55 110T55 250T55 389T55 524T55 647T56 753T56 835T56 891V911',
    0x3008: '112 244V258L473 1130Q482 1150 498 1150Q511 1150 517 1142T523 1125V1118L344 685Q304 587 257 473T187 305L165 251L344 -184L523 -616V-623Q524 -634 517 -641T499 -649Q484 -649 473 -629L112 244',
    0x3009: '112 -649Q103 -649 95 -642T87 -623V-616L266 -184L445 251Q445 252 356 466T178 898T86 1123Q85 1134 93 1142T110 1150Q126 1150 133 1137Q134 1136 317 695L498 258V244L317 -194Q134 -635 133 -636Q126 -649 112 -649',
},{
    0x2A0C: "\u222C\u222C",
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2199">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {monospace as font} from '../../../common/fonts/tex/monospace.js';

export const monospace: SVGCharMap = AddPaths(font, {
    0x20: '',
    0x21: '206 565Q206 590 222 606T265 622Q287 621 303 606T319 565T314 392L308 216Q299 194 273 194H262Q247 194 241 195T228 200T217 216L211 392Q206 539 206 565ZM206 56Q206 83 223 99T265 115Q288 113 304 99T320 58Q320 33 303 17T262 0Q237 0 222 17T206 56',
    0x22: '122 575Q122 593 137 608T173 623Q196 623 210 608T225 575Q225 562 218 464Q212 373 211 361T201 341Q193 333 173 333Q154 333 146 341Q138 348 137 360T129 464Q122 561 122 575ZM299 575Q299 593 314 608T350 623Q373 623 387 608T402 575Q402 562 395 464Q389 373 388 361T378 341Q370 333 350 333Q331 333 323 341Q315 348 314 360T306 464Q299 561 299 575',
    0x23: '93 163Q74 163 65 164T46 173T36 198Q36 210 40 215T61 233H131V236Q132 239 140 307T149 377Q149 379 105 379L61 380Q36 392 36 414Q36 450 86 450Q91 450 99 450T112 449H159Q163 480 167 517Q168 524 170 545T174 573T180 591T191 607T210 611Q223 611 232 604T243 588L245 580Q245 565 238 511T230 451Q230 449 282 449H333Q337 480 341 517Q342 524 343 537T345 556T348 573T352 589T359 600T370 608T384 611Q395 611 406 602T419 580Q419 565 412 511T404 451Q404 449 431 449H442Q477 449 485 429Q489 421 489 414Q489 392 463 380L428 379H394V376Q393 373 385 305T376 235Q376 233 419 233H463L468 230Q472 227 473 227T477 223T482 218T486 213T488 206T489 198Q489 162 436 162Q430 162 422 162T412 163H366V161Q364 159 357 92Q356 85 355 73T353 54T350 37T346 22T339 11T328 3T314 0Q303 0 292 9T279 31Q279 37 287 96T295 162Q295 163 244 163H192V161Q190 159 183 92Q182 85 181 73T179 54T176 37T172 22T165 11T154 3T140 0Q129 0 118 9T105 31Q105 37 113 96T121 162Q121 163 93 163ZM323 377Q323 379 272 379H220V376Q219 373 211 305T202 235Q202 233 253 233H305V236Q306 239 314 307T323 377',
    0x24: '415 397Q392 397 377 411T362 448Q362 464 376 485Q369 498 362 506T346 520T332 528T315 533T300 538V445L301 353L311 350Q382 334 424 284T466 174Q466 115 425 65T303 -2L300 -3V-30Q300 -64 291 -74Q283 -82 262 -82H255Q234 -82 225 -60L224 -32V-4L213 -2Q152 6 106 51T59 170V180Q59 197 74 213Q89 227 110 227T146 213T162 174Q162 156 147 137Q153 123 161 112T176 95T191 85T205 79T216 76T224 74V283L213 285Q147 298 103 343T58 449Q58 516 108 560T224 614V643V654Q224 666 226 673T237 687T264 694Q289 693 294 683T300 642V615H303Q355 607 390 587T440 540T460 493T466 453Q466 425 451 411T415 397ZM137 452Q137 425 158 404T198 376T223 369Q224 369 224 453T223 537Q198 532 168 509T137 452ZM301 75Q307 75 325 83T365 116T387 171Q387 238 300 267V171Q300 75 301 75',
    0x25: '35 560Q35 607 54 645T110 693Q111 693 116 693T125 694Q165 692 187 651T210 560Q210 506 186 467T123 428Q84 428 60 466T35 560ZM139 560Q139 574 136 587T130 608T124 615Q122 617 120 614Q106 595 106 561Q106 516 121 506Q123 504 125 507Q139 526 139 560ZM123 -83Q107 -83 98 -73T88 -48Q88 -43 89 -41Q90 -37 229 316T370 675Q381 694 400 694Q416 694 426 684T436 659Q436 654 435 652Q434 647 295 294T153 -65Q144 -83 123 -83ZM314 50Q314 104 338 143T400 183Q439 183 464 144T489 50T465 -43T402 -82Q358 -82 336 -41T314 50ZM417 50Q417 71 413 85T405 102L401 106Q386 95 386 50Q386 29 390 15T398 -2L402 -6Q417 5 417 50',
    0x26: '96 462Q96 546 132 584T211 622Q255 622 284 583T314 474Q314 395 224 305L208 288Q213 275 226 251L265 185L269 179Q273 184 299 246L332 333L342 363Q342 364 341 365Q334 365 334 393Q334 406 334 410T340 420T356 431H412H440Q467 431 478 424T490 393Q490 376 484 367T470 357T448 355H441H415L399 312Q349 176 322 127L315 115L323 106Q360 65 393 65Q405 65 410 80T416 109Q416 140 452 140Q487 140 487 105Q487 56 460 23T391 -11L286 41L273 53L262 42Q212 -11 151 -11Q97 -11 63 33T28 143Q28 161 30 176T38 205T47 227T60 247T72 261T84 274T94 283L122 311L119 323Q96 392 96 462ZM243 474Q243 533 218 545L215 546Q212 546 210 546Q182 546 169 501Q167 492 167 466Q167 419 179 368L188 377Q234 425 242 461Q243 465 243 474ZM217 129Q185 174 154 235Q121 214 115 176Q113 168 113 143Q113 83 139 67Q141 66 152 66Q191 66 228 112L217 129',
    0x27: '205 554Q205 577 221 594T263 611Q302 611 325 577T349 490Q349 409 298 347Q285 330 258 309T214 287Q203 289 189 302T175 327Q175 341 185 349T213 369T245 402Q269 437 273 483V497Q264 496 263 496Q240 496 223 513T205 554',
    0x28: '437 -53Q437 -82 399 -82H394Q377 -82 342 -55Q259 7 213 102T166 306Q166 412 211 507T342 667Q377 694 393 694H399Q437 694 437 665Q437 654 426 643T397 620T356 584T311 525Q301 511 290 488T264 412T250 306Q250 191 300 105T422 -27Q437 -37 437 -53',
    0x29: '87 664Q87 694 126 694Q138 694 147 690T183 667Q266 605 312 510T358 306Q358 193 307 93T161 -70Q142 -82 126 -82Q105 -82 96 -73T87 -53Q87 -47 88 -44Q92 -36 116 -19T173 34T230 119Q273 206 273 306Q273 408 231 494T109 635Q87 649 87 664',
    0x2A: '222 487Q224 501 235 510T262 520Q279 520 289 510T302 487Q302 458 301 429Q301 421 301 413T301 398T300 386T300 377V374Q300 373 301 373Q304 373 353 403T416 434Q432 434 444 423T456 393Q456 389 456 386T454 379T451 373T448 368T442 363T436 358T427 353T417 348T405 342T391 334Q345 309 339 305L388 279Q400 273 412 266T432 255T441 250Q456 238 456 218Q456 200 445 189T417 177Q403 177 354 207T301 238Q300 238 300 237V234Q300 231 300 226T300 214T301 199T301 182Q302 153 302 124Q300 109 289 100T262 90T235 100T222 124Q222 153 223 182Q223 190 223 198T223 213T224 225T224 234V237Q224 238 223 238Q220 238 171 208T108 177Q92 177 80 188T68 218Q68 237 79 246T134 277Q180 303 185 306L136 332Q124 338 112 345T92 356T83 361Q68 373 68 393Q68 411 79 422T107 434Q121 434 170 404T223 373Q224 373 224 374V377Q224 380 224 385T224 397T223 412T223 429Q222 458 222 487',
    0x2B: '147 271Q138 271 122 271T98 270Q68 270 53 277T38 306T53 335T98 342Q105 342 121 342T147 341H227V423L228 505Q241 531 262 531Q268 531 273 530T282 525T287 519T293 511L297 505V341H377H430Q457 341 467 338T483 321Q487 313 487 306Q487 295 480 286T463 273Q457 271 377 271H297V107Q281 81 262 81Q250 81 242 87T230 100L228 107L227 189V271H147',
    0x2C: '193 37T193 70T213 121T260 140Q302 140 327 108T353 36Q353 -7 336 -43T294 -98T249 -128T215 -139Q204 -139 189 -125Q177 -111 174 -101Q172 -84 183 -77T217 -61T253 -33Q261 -24 272 1L265 0Q234 0 214 18',
    0x2D: '57 306Q57 333 86 341H438Q468 332 468 306T438 271H86Q57 280 57 306',
    0x2E: '193 70Q193 105 214 122T258 140Q291 140 311 120T332 70Q332 44 314 23T262 1Q234 1 214 18T193 70',
    0x2F: '94 -83Q78 -83 68 -73T58 -48Q58 -44 60 -36Q62 -31 227 314T399 673Q410 694 431 694Q445 694 455 684T466 659Q466 656 464 648Q463 643 298 298T125 -62Q114 -83 94 -83',
    0x3A: '193 361Q193 396 214 413T258 431Q291 431 311 411T332 361Q332 335 314 314T262 292Q234 292 214 309T193 361ZM193 70Q193 105 214 122T258 140Q291 140 311 120T332 70Q332 44 314 23T262 1Q234 1 214 18T193 70',
    0x3B: '193 361Q193 396 214 413T258 431Q291 431 311 411T332 361Q332 335 314 314T262 292Q234 292 214 309T193 361ZM193 70Q193 105 214 122T259 140Q301 140 319 108T337 33Q337 -38 291 -88T214 -139Q203 -139 189 -126T175 -97Q175 -85 182 -78T200 -66T225 -50T249 -17Q256 -3 256 0Q252 1 248 1Q242 2 235 5T218 15T200 36T193 70',
    0x3C: '468 90Q468 76 458 66T433 55Q426 55 419 58Q413 61 243 168T68 280Q57 291 57 306T68 332Q72 335 241 442T416 553Q424 557 432 557Q447 557 457 547T468 522T456 496Q454 494 305 399L158 306L305 213Q341 190 390 159Q443 125 452 119T464 106V105Q468 97 468 90',
    0x3D: '38 382Q38 409 67 417H457Q487 408 487 382Q487 358 461 348H64Q51 352 45 360T38 376V382ZM67 195Q38 204 38 230Q38 255 62 264Q66 265 264 265H461L464 264Q467 262 469 261T475 256T481 249T485 240T487 230Q487 204 457 195H67',
    0x3E: '57 522Q57 539 67 548T90 557Q98 557 105 554Q111 551 281 444T456 332Q468 320 468 306T456 280Q452 276 282 169T105 58Q98 55 91 55Q79 55 68 63T57 90Q57 105 68 116Q70 118 219 213L366 306L219 399Q75 491 71 494Q57 507 57 522',
    0x3F: '62 493Q62 540 107 578T253 617Q366 617 414 578T462 490Q462 459 445 434T411 400L394 390Q315 347 296 287Q294 278 293 247V217Q285 201 278 198T246 194T216 197T201 215V245V253Q201 379 351 456Q366 464 375 477Q377 482 377 490Q377 517 339 528T251 540Q182 540 159 517Q166 503 166 490Q166 468 151 453T114 438Q96 438 79 451T62 493ZM190 58Q190 85 208 100T249 115Q272 113 288 99T304 58Q304 33 287 17T246 0T206 16T190 58',
    0x40: '44 306Q44 445 125 531T302 617Q332 617 358 607T411 574T456 502T479 387Q481 361 481 321Q481 203 421 143Q381 103 332 103Q266 103 225 165T183 307Q183 390 227 449T332 508Q358 508 378 498Q350 541 304 541Q229 541 172 473T115 305Q115 208 171 140T306 71H310Q358 71 397 105Q409 115 436 115Q458 115 462 113Q481 106 481 86Q481 73 468 61Q401 -6 305 -6Q262 -6 217 14T133 71T69 170T44 306ZM410 306Q410 361 386 396T333 431Q300 431 277 394T254 305Q254 256 276 218T332 180Q364 180 387 217T410 306',
    0x5B: '237 -82Q221 -78 214 -58V305Q214 669 216 673Q220 687 231 690T278 694H350H461Q462 693 467 690T474 685T478 679T482 670T483 656Q483 632 471 625T428 617Q422 617 406 617T379 618H298V-7H379H420Q459 -7 471 -13T483 -45Q483 -55 483 -59T477 -70T461 -82H237',
    0x5C: '58 659Q58 673 68 683T93 694Q114 694 125 673Q132 659 297 314T464 -36Q466 -44 466 -48Q466 -66 454 -74T431 -83Q410 -83 399 -62Q391 -47 226 298T60 648Q58 656 58 659',
    0x5D: '41 656Q41 681 53 688T99 695Q107 695 133 695T177 694H288Q307 681 310 669V-58Q303 -76 288 -82H64Q41 -73 41 -45Q41 -21 53 -14T96 -6Q102 -6 118 -6T145 -7H226V618H145H100Q67 618 54 625T41 656',
    0x5E: '138 460Q121 460 109 479T96 512Q96 527 106 534Q109 536 178 571T253 609Q256 611 264 611Q272 610 343 574Q357 567 369 561T389 550T402 543T411 538T416 535T420 532T422 529T425 525Q428 518 428 512Q428 498 416 479T386 460H384Q377 460 316 496L262 526L208 496Q147 460 138 460',
    0x5F: '57 -60Q57 -33 86 -25H438Q468 -34 468 -60T438 -95H86Q57 -86 57 -60',
    0x60: '176 479Q176 563 227 622T310 681Q324 680 337 667T350 641Q350 627 340 619T312 599T280 566Q256 531 252 485V471Q261 472 262 472Q285 472 302 455T320 414Q320 389 303 373T261 357Q223 357 200 391T176 479',
    0x7B: '430 -7H436Q449 -7 456 -8T469 -19T475 -45Q475 -69 466 -76T434 -83H419Q386 -82 363 -80T308 -69T253 -41T223 7L221 17L220 118V220L218 224Q215 229 214 230T210 235T204 241T195 246T184 252T170 257T151 262T127 265Q118 267 100 267T69 270T52 283Q50 288 50 306V314Q50 335 67 341Q68 342 102 343T172 355T217 386L220 392V493L221 595Q225 611 230 621T251 650T304 679T395 693L406 694Q418 694 426 694Q458 694 466 685Q475 676 475 656T466 627Q458 618 430 618Q319 618 305 587L304 486Q304 476 304 458T305 431Q305 385 295 358T251 311L243 306Q243 305 254 298T281 274T302 231Q304 223 304 125L305 25Q309 16 316 10T352 -1T430 -7',
    0x7C: '228 668Q241 694 262 694Q268 694 273 693T282 688T287 682T293 674L297 668V-57Q282 -82 262 -82Q239 -82 228 -57V668',
    0x7D: '49 655Q49 674 56 682T73 692T106 694Q141 693 167 690T224 677T275 647T303 595L305 392Q313 367 347 356T417 344T457 341Q475 335 475 306Q475 292 473 285T464 273T451 269T430 267Q352 262 327 246Q311 236 305 220L303 17L301 7Q294 -16 277 -33T242 -60T196 -74T150 -80T106 -83Q78 -83 72 -82T58 -74Q49 -65 49 -44Q49 -24 58 -16Q66 -7 94 -7Q143 -7 171 -1T207 10T220 25V125Q220 223 222 231Q228 257 243 274T270 299L281 306Q234 329 222 381Q220 387 220 486V587Q212 597 207 601T173 612T94 618Q66 618 58 627Q49 635 49 655',
    0x7E: '125 467Q113 467 100 480T87 509Q88 520 111 543Q172 602 209 609Q219 611 224 611Q246 611 263 596T290 566T304 551Q319 551 367 594Q383 610 396 610H400Q411 610 424 597T437 568Q436 557 413 534Q348 469 305 466Q278 466 260 481T234 511T220 526Q205 526 157 483Q141 467 129 467H125',
    0x7F: '104 565Q104 590 120 600T155 611Q175 611 180 610Q217 599 217 565Q217 545 202 532T166 519H159H155Q120 519 107 547Q104 553 104 565ZM307 565Q307 580 317 593T346 610Q348 610 350 610T354 611Q355 612 367 612Q395 611 408 597T421 565T409 534T365 519H358Q336 519 322 532T307 565',
    0xA0: '',
    0x131: '411 76Q441 76 451 69T462 38Q462 29 462 26T460 18T453 9T440 1H94Q72 8 72 33V38Q72 46 72 49T74 58T81 68T94 76H233V355H167L102 356Q80 363 80 393Q80 418 91 425T138 432Q145 432 165 432T200 431H295Q297 429 303 425T310 420T314 415T317 404T317 389T318 363Q318 354 318 314T317 241V76H378H411',
    0x237: '75 -91T100 -91T138 -107T152 -144V-150L160 -151H193H203Q241 -151 267 -121Q284 -97 288 -73T292 23V151V355H218L145 356Q123 365 123 387V393Q123 422 145 430H148Q151 430 156 430T169 430T185 430T205 431T227 431T251 431H354Q356 430 360 427T365 424T369 420T372 416T373 410T375 402T376 391T377 376T377 356Q377 345 377 286T376 176Q376 -67 371 -88Q362 -123 342 -151T299 -194Q254 -228 180 -228Q84 -226 56 -177Q49 -162 48 -148Q48 -122 61 -107',
    0x2B9: '211 572Q211 593 226 608T262 623Q281 623 297 610T313 573Q313 561 307 465Q301 370 299 357T284 336Q279 334 262 334Q240 334 231 343Q226 350 225 362T217 465Q211 549 211 572',
    0x300: '-409 569Q-409 586 -399 596T-377 610Q-376 610 -372 610T-365 611Q-355 610 -284 588T-210 563Q-195 556 -195 537Q-195 533 -197 522T-208 498T-229 485Q-238 485 -312 508T-388 533Q-400 538 -405 552Q-409 559 -409 569',
    0x301: '-297 485Q-315 485 -323 505T-331 537Q-331 556 -316 563Q-307 569 -170 610Q-169 610 -165 610T-157 611Q-141 609 -131 600T-119 584T-117 569Q-117 555 -124 545T-138 533Q-140 531 -214 508T-297 485',
    0x302: '-387 460Q-404 460 -416 479T-429 512Q-429 527 -419 534Q-416 536 -347 571T-272 609Q-269 611 -261 611Q-254 610 -182 574Q-168 567 -156 561T-136 550T-123 543T-114 538T-109 535T-105 532T-103 529T-100 525Q-97 518 -97 512Q-97 498 -109 479T-139 460H-141Q-148 460 -209 496L-263 526L-317 496Q-378 460 -387 460',
    0x303: '-400 467Q-412 467 -425 480T-438 509Q-437 520 -414 543Q-353 602 -316 609Q-306 611 -301 611Q-279 611 -262 596T-235 566T-221 551Q-206 551 -158 594Q-142 610 -129 610H-125Q-114 610 -101 597T-88 568Q-89 557 -112 534Q-177 469 -220 466Q-247 466 -265 481T-291 511T-305 526Q-320 526 -368 483Q-384 467 -396 467H-400',
    0x304: '-429 500Q-440 504 -445 511T-450 522T-452 536Q-452 552 -451 556Q-445 571 -434 574T-379 578Q-369 578 -330 578T-261 577H-96Q-94 575 -90 573T-85 569T-81 564T-77 558T-75 550T-74 538Q-74 522 -78 515T-96 500H-429',
    0x306: '-446 579Q-446 611 -412 611H-407Q-383 609 -378 599T-358 587Q-340 583 -263 583H-235Q-159 583 -152 593Q-145 611 -120 611H-117H-115Q-79 611 -79 577Q-80 552 -95 536T-140 514T-191 506T-251 504H-263H-274Q-311 504 -334 505T-386 513T-431 536T-446 579',
    0x308: '-421 565Q-421 590 -405 600T-370 611Q-350 611 -345 610Q-308 599 -308 565Q-308 545 -323 532T-359 519H-366H-370Q-405 519 -418 547Q-421 553 -421 565ZM-218 565Q-218 580 -208 593T-179 610Q-177 610 -175 610T-171 611Q-170 612 -158 612Q-130 611 -117 597T-104 565T-116 534T-160 519H-167Q-189 519 -203 532T-218 565',
    0x30A: '-344 558Q-344 583 -321 601T-262 619Q-225 619 -204 600T-182 560Q-182 536 -205 518T-264 499Q-301 499 -322 519T-344 558ZM-223 559Q-223 570 -234 579T-261 588T-289 580T-303 559Q-303 549 -293 540T-263 530T-234 539T-223 559',
    0x30C: '-427 525Q-427 542 -417 559T-392 577Q-385 577 -323 553L-263 530L-203 553Q-143 576 -136 576Q-118 576 -109 559T-99 525Q-99 508 -107 502T-161 481Q-177 475 -186 472Q-256 449 -263 449Q-272 449 -339 472T-412 498Q-420 501 -423 508T-427 520V525',
    0x391: '191 76Q212 75 220 68T229 38Q229 10 208 1H129H80Q48 1 38 7T28 38Q28 51 29 57T40 69T70 76Q89 76 89 78Q90 79 117 205T173 461T205 599Q212 623 250 623H262H273Q312 623 319 599Q322 591 350 461T406 205T435 78Q435 76 454 76H458Q484 76 493 59Q496 53 496 38Q496 11 478 3Q474 1 395 1H317Q295 8 295 38Q295 65 311 73Q316 75 333 76L348 77V78Q348 80 341 112L334 143H190L183 112Q176 80 176 78Q175 76 178 76Q180 76 191 76ZM318 221Q313 238 288 366T263 519Q263 526 262 527Q261 527 261 520Q261 493 236 365T206 221Q206 219 262 219T318 221',
    0x392: '39 1Q17 10 17 32V38V46Q17 65 34 73Q40 76 61 76H84V535H61H54Q27 535 19 553Q17 557 17 573Q17 583 17 587T23 599T39 610Q40 611 179 611Q320 610 332 607Q332 607 339 605Q394 591 427 547T461 454Q461 413 436 378T369 325L358 320Q405 311 443 270T482 169Q482 112 445 64T345 3L334 1H39ZM309 533Q302 535 234 535H168V356H230Q284 357 296 358T323 368Q346 380 361 402T377 452Q377 482 358 505T309 533ZM398 176Q396 218 371 246T315 279Q310 280 237 280H168V76H239Q316 77 327 81Q329 82 334 84Q398 107 398 176',
    0x393: '466 611Q468 609 473 606T479 602T483 598T486 593T487 586T488 576T488 562V526V488Q488 452 470 444Q466 442 446 442Q421 442 413 450Q406 457 405 463T404 501V535H185V76H222H239Q260 76 270 69T281 38Q281 12 270 6T209 0H155H104Q48 0 37 5T25 38Q25 59 35 69Q44 76 76 76H101V535H76H64Q36 535 27 552Q25 557 25 573T27 594Q33 606 43 608T106 611H258H466',
    0x394: '232 622H237Q242 622 249 622T264 623H293Q295 622 300 619T308 613T314 608T319 601Q322 597 405 316T489 19Q489 9 473 1Q471 0 262 0T51 1Q35 9 35 19Q35 34 118 315T205 601Q214 616 232 622ZM267 501Q266 504 265 510T263 521T261 526V523Q261 508 211 332Q142 91 138 82H386Q385 84 345 224Q281 439 267 501',
    0x395: '374 271Q374 241 367 232T332 223Q307 223 299 231Q290 240 290 263V279H173V76H418V118V144Q418 167 426 176T460 186Q491 186 500 166Q502 161 502 93V52Q502 25 499 17T480 1H41Q19 9 19 32V38Q19 63 36 73Q42 76 65 76H89V535H65H55Q44 535 38 537T25 548T19 573Q19 602 41 610H47Q53 610 63 610T88 610T121 610T160 611T204 611T251 611H458Q460 609 465 606T471 602T475 598T478 593T479 586T480 576T480 562V526V488Q480 452 462 444Q458 442 438 442Q413 442 405 450Q398 457 397 463T396 501V535H173V355H290V371Q290 394 299 403T332 412Q363 412 372 392Q374 387 374 317V271',
    0x396: '71 1Q60 5 55 11T49 23T48 39V46Q48 56 58 73T131 183Q171 242 197 282L366 535H144V501Q144 470 143 464T135 450Q127 442 102 442H94Q71 442 62 461Q60 466 60 527L61 589Q70 607 83 610H88Q93 610 102 610T124 610T154 610T188 611T227 611T270 611H454Q456 609 461 606T467 601T471 597T474 591T475 584T476 572V565Q476 555 466 538T393 428Q353 369 327 329L158 76H397V120V146Q397 169 405 179T439 189Q470 189 479 169Q481 164 481 95V48Q481 24 478 16T459 1H71',
    0x397: '16 571Q16 597 27 604T74 611H125H208Q223 602 226 596T230 573Q230 559 227 551T217 540T204 536T186 535H165V356H359V535H338H333Q306 535 297 552Q295 556 295 573Q295 586 295 590T301 600T317 611H486Q501 602 504 596T508 573Q508 559 505 551T495 540T482 536T464 535H443V76H464H470Q482 76 489 75T502 64T508 38Q508 10 486 1H317Q306 5 301 11T296 21T295 38V44Q295 66 311 73Q318 76 338 76H359V280H165V76H186H192Q204 76 211 75T224 64T230 38Q230 10 208 1H39Q28 5 23 11T18 21T17 38V44Q17 66 33 73Q40 76 60 76H81V535H60Q45 535 38 536T24 545T16 571',
    0x398: '102 588Q140 621 240 621Q323 621 335 620Q393 613 422 588Q450 560 459 493T468 306Q468 185 460 118T422 23Q382 -10 289 -10H262H235Q142 -10 102 23Q74 50 65 118T56 306Q56 427 64 494T102 588ZM262 66Q285 66 300 67T329 74T351 86T366 108T376 138T381 181T383 235T384 306Q384 452 371 492T304 544Q296 545 251 545Q230 545 215 543T188 534T169 520T155 497T147 466T143 423T141 371T140 306Q140 247 141 215T146 151T158 107T179 82T212 69T262 66ZM179 356Q187 378 219 378H223Q240 377 249 372T260 360L261 355Q261 353 262 353T263 355Q263 362 272 369Q280 377 304 377H310Q325 377 331 374T346 356V256Q338 241 331 238T309 234H304Q280 234 272 242Q263 249 263 256Q263 258 262 258T261 256Q261 249 252 242Q244 234 220 234H216Q186 234 179 256V356',
    0x399: '400 76Q431 76 441 69T452 38Q452 29 452 26T450 18T443 9T430 1H95Q84 6 79 12T73 23T72 38Q72 65 90 73Q96 76 157 76H220V535H157H124Q93 535 83 542T72 573Q72 603 93 610Q97 611 264 611H430Q432 609 436 607T444 602T449 594Q452 588 452 573Q452 546 434 538Q428 535 367 535H304V76H367H400',
    0x39A: '18 549T18 573T29 604T70 611H118H193Q207 603 210 596T214 573Q214 549 198 538Q191 535 172 535H152V421Q152 344 152 326T153 309L242 422L329 534Q327 535 322 536T314 538T308 542T303 548T300 558T298 573Q298 600 316 608Q322 611 392 611H463Q477 602 481 595T485 573Q485 535 446 535H441H420L281 357L436 77L454 76Q473 75 478 73Q495 62 495 38Q495 10 473 1H345Q334 5 329 11T324 21T323 38Q323 51 324 56T332 68T355 77L233 296L152 192V76H172Q191 76 198 73Q214 63 214 38Q214 9 193 1H41Q18 8 18 38Q18 61 35 73Q42 76 61 76H81V535H61Q42 535 35 538Q18 549 18 573',
    0x39B: '30 38Q30 57 38 66T70 76Q88 76 88 78Q89 79 117 207T173 466T205 602Q213 617 231 622H236Q241 622 249 622T264 623H294Q315 609 319 602Q321 598 350 468T407 208T435 78Q436 76 454 76Q470 76 478 73Q495 62 495 38Q495 10 473 1H313Q290 10 290 38Q290 56 297 65T310 74T331 76Q350 76 350 78Q349 80 328 176T285 383T263 520Q263 526 262 527Q261 527 261 521Q261 497 240 388T198 181T174 78Q174 76 193 76Q220 75 227 65Q234 56 234 38Q234 28 234 24T228 13T212 1H52Q30 9 30 32V38',
    0x39C: '50 535Q37 536 31 537T18 547T12 573Q12 598 22 604T62 611H91H121Q147 611 158 607T178 587Q183 579 222 446T261 293Q261 289 262 288Q263 288 263 292Q263 311 298 434T346 588Q353 603 365 607T402 611H435H450Q488 611 500 605T512 573Q512 556 506 547T493 537T474 535H459V76H474Q487 75 493 74T505 64T512 38Q512 11 494 3Q490 1 424 1H386Q355 1 345 7T335 38Q335 55 341 64T354 74T373 76H388V302Q388 512 387 519Q382 482 346 359T304 228Q292 204 262 204T220 228Q215 237 179 359T137 519Q136 512 136 302V76H151Q164 75 170 74T182 64T189 38Q189 11 171 3Q167 1 101 1H63Q32 1 22 7T12 38Q12 55 18 64T31 74T50 76H65V535H50',
    0x39D: '20 571Q20 598 30 604T73 611H105H136Q152 611 160 611T177 607T189 601T198 587T206 568T217 537T231 497Q354 142 365 95L368 84V535H347H342Q314 535 306 552Q304 556 304 573Q304 586 304 590T310 600T326 611H482Q497 602 500 596T504 573Q504 559 501 551T491 540T478 536T460 535H439V25Q432 7 424 4T389 0H374Q334 0 322 31L293 115Q171 468 159 517L156 528V76H177H183Q195 76 202 75T215 64T221 38Q221 10 199 1H43Q32 5 27 11T22 21T21 38V44Q21 66 37 73Q44 76 64 76H85V535H64Q49 535 42 536T28 545T20 571',
    0x39E: '37 555V569Q37 605 60 610H66Q71 610 81 610T105 610T137 610T175 611T217 611T264 611H465Q467 609 471 606T477 602T481 599T484 594T485 588T487 580T487 570T487 554Q487 526 486 520T478 506Q470 498 445 498T412 506Q403 515 403 531V539H121V531Q121 498 86 498H79H71Q48 498 39 517Q37 522 37 555ZM109 318V346Q109 366 113 374T132 389H170Q193 379 193 359V354H331V359Q331 379 354 389H392Q407 381 411 373T415 342V318V290Q415 270 411 262T392 247H354Q331 257 331 277V282H193V277Q193 257 170 247H132Q117 255 113 263T109 294V318ZM56 1Q41 7 37 15T33 42V58V80Q33 101 41 110T77 119Q87 118 91 118T103 114T114 103T117 83V72H407V83Q407 101 416 110T449 119T482 110Q489 103 490 97T491 59V41Q491 24 487 16T469 1H56',
    0x39F: '102 588Q140 621 240 621Q323 621 335 620Q393 613 422 588Q450 560 459 493T468 306Q468 185 460 118T422 23Q382 -10 289 -10H262H235Q142 -10 102 23Q74 50 65 118T56 306Q56 427 64 494T102 588ZM363 513Q357 523 347 530T324 540T302 544T280 546H268Q192 546 167 521Q150 501 145 452T140 300Q140 235 142 197T151 130T172 89T207 71T262 65Q317 65 341 81T374 144T384 300Q384 474 363 513',
    0x3A0: '60 535Q45 535 38 536T24 545T16 571Q16 603 36 609Q41 611 264 611H486Q501 602 504 596T508 573Q508 559 505 551T495 540T482 536T464 535H443V76H464H470Q482 76 489 75T502 64T508 38Q508 10 486 1H317Q306 5 301 11T296 21T295 38V44Q295 66 311 73Q318 76 338 76H359V535H165V76H186H192Q204 76 211 75T224 64T230 38Q230 10 208 1H39Q28 5 23 11T18 21T17 38V44Q17 66 33 73Q40 76 60 76H81V535H60',
    0x3A1: '41 1Q19 9 19 32V38Q19 63 36 73Q42 76 65 76H89V535H65H55Q38 535 29 543T19 576Q19 603 41 610H49Q57 610 70 610T100 610T136 611T175 611Q190 611 216 611T255 612Q321 612 363 598T441 537Q480 486 480 427V421Q480 354 447 311T378 251Q339 230 275 230H239H173V76H197Q220 76 227 73Q244 62 244 38Q244 10 222 1H41ZM396 421Q396 461 369 491T300 533Q294 534 233 535H173V306H233Q294 307 300 308Q345 319 370 352T396 421',
    0x3A3: '40 575Q40 576 40 579T41 583T41 588T43 593T46 597T50 602T55 606T63 610H68Q74 610 84 610T108 610T139 610T176 611T219 611T264 611H462Q464 609 469 606T475 602T479 598T482 593T483 586T484 576T484 562V526V488Q484 452 466 444Q462 442 442 442Q417 442 409 450Q402 457 401 463T400 501V535H153Q153 533 218 430Q233 405 250 378T276 336T286 319Q290 311 290 307Q290 296 239 211Q229 194 223 184L161 78H400V112Q400 142 401 149T409 163Q418 172 442 172Q473 172 482 152Q484 147 484 86V49Q484 25 481 17T462 1H63Q41 10 41 31Q41 39 43 44Q43 45 81 109T157 238L195 303Q195 307 119 430T41 557T40 575',
    0x3A4: '129 38Q129 51 129 55T135 65T151 76H220V535H110V501Q110 470 109 464T101 450Q93 442 68 442H60Q37 442 28 461Q26 466 26 527L27 589Q36 607 49 610H55Q61 610 72 610T97 610T131 610T170 611T215 611T264 611H476Q478 609 483 606T489 602T493 598T496 593T497 586T498 576T498 562V526V488Q498 452 480 444Q476 442 456 442Q431 442 423 450Q416 457 415 463T414 501V535H304V76H374Q389 67 392 61T396 38Q396 10 374 1H151Q140 5 135 11T130 21T129 38',
    0x3A5: '38 494Q38 549 74 585T152 621Q168 621 179 619T209 606T241 566T262 492Q262 494 265 507T270 526T276 547T285 569T298 589T315 606T337 617T365 622Q416 622 451 584T486 494Q486 470 469 461Q464 459 445 459H437Q416 459 406 476Q404 479 403 502T393 541T365 558Q350 558 340 548T323 519T312 475T307 419T305 354T304 282Q304 254 304 239V76H358Q372 67 376 60T380 38Q380 10 358 1H167Q145 9 145 32V38Q145 54 148 60T167 76H220V239Q220 256 220 289T220 338T219 383T217 426T214 463T209 497T201 522T189 543T174 555Q168 558 159 558Q139 558 131 541T121 502T118 476Q108 459 84 459H79H71Q38 459 38 494',
    0x3A6: '139 573V578Q139 603 161 610H166Q172 610 182 610T204 610T232 611T264 611H364Q379 602 382 595T385 573Q385 544 364 536L334 535H304V441H306Q313 440 325 438T367 426T421 403T464 364T483 306Q483 251 430 216T317 172Q315 172 313 172T308 170H306H304V76H364Q379 67 382 60T385 38Q385 28 385 24T379 12T364 1H161Q139 8 139 33V38Q139 46 139 49T141 58T148 68T161 76H220V170H218Q211 171 199 173T157 185T103 208T60 248T41 306Q41 361 94 396T208 439Q210 439 212 439T216 440L218 441H220V535H190L161 536Q139 543 139 573ZM124 306Q124 286 147 271T194 252L218 247Q220 247 220 306V364H218Q212 364 192 359T148 340T124 306ZM400 305Q400 325 377 340T330 360L306 364Q304 364 304 306Q304 247 306 247Q312 247 332 252T376 271T400 305',
    0x3A7: '39 571Q39 597 49 604T93 611H141H218Q233 602 236 595T239 573Q239 538 210 535Q202 535 202 534T215 507T243 454L257 428L307 535H298Q266 538 266 573Q266 584 267 588T273 598T289 611H366H401Q442 611 454 605T466 573Q466 546 448 538Q442 535 421 535H398L299 327Q299 323 362 201L426 77L449 76Q467 76 475 75T489 65T495 38Q495 11 477 3Q473 1 395 1H317Q295 8 295 38Q295 73 325 76L334 77Q333 78 314 117T276 196L257 235L239 196Q221 157 204 118T186 77Q190 76 196 76Q211 74 218 67T227 55T228 38Q228 28 227 24T221 13T206 1H50Q28 9 28 32V38Q28 63 45 73Q51 76 73 76H96L214 324Q215 327 162 431L108 535H85H79Q67 535 60 536T46 546T39 571',
    0x3A8: '37 439Q38 451 40 457T52 469T77 475H79Q96 475 107 473T132 456T152 411Q152 409 153 396T154 372V365Q154 291 198 261Q215 251 219 251Q220 251 220 393V535H193L167 536Q145 545 145 567V573Q145 602 167 610Q168 611 264 611H358Q372 602 376 595T380 573Q380 545 358 536L331 535H304V393Q304 251 305 251Q307 251 310 252T323 259T339 272T355 295T367 331Q368 337 370 372Q370 382 371 395T372 411Q376 434 384 448T404 467T425 474T447 475Q461 474 467 473T480 463T487 437Q487 419 481 412Q476 403 459 398Q457 390 453 344T431 263Q415 228 383 205T332 177T306 172H304V76H358Q372 67 376 60T380 38Q380 10 358 1H167Q145 9 145 32V38Q145 54 148 60T167 76H220V172H218Q211 172 192 177T141 205T93 263Q74 298 71 343T67 391L66 398Q47 403 42 411T37 433V439',
    0x3A9: '40 404Q40 498 106 560T258 622Q357 622 420 558T484 406Q484 359 469 311T428 205T392 117Q382 84 382 78Q382 76 402 76H421V87Q421 110 431 116T457 123Q474 123 483 114Q490 107 491 100T492 61V42Q492 11 474 3Q470 1 397 1H324Q302 9 302 32V39Q302 104 351 225T400 405Q400 462 361 504T262 546Q200 546 162 504T124 405Q124 346 171 230T223 42V36Q223 11 205 3Q201 1 128 1H55Q39 7 33 23L32 60V80Q32 94 34 102T44 116T68 123Q103 123 103 87V76H123Q142 76 142 78Q142 100 117 156T66 282T40 404',
    0x2017: '57 -60Q57 -33 86 -25H438Q468 -34 468 -60T438 -95H86Q57 -86 57 -60',
    0x2032: '211 572Q211 593 226 608T262 623Q281 623 297 610T313 573Q313 561 307 465Q301 370 299 357T284 336Q279 334 262 334Q240 334 231 343Q226 350 225 362T217 465Q211 549 211 572',
    0x2044: '94 -83Q78 -83 68 -73T58 -48Q58 -44 60 -36Q62 -31 227 314T399 673Q410 694 431 694Q445 694 455 684T466 659Q466 656 464 648Q463 643 298 298T125 -62Q114 -83 94 -83',
    0x2206: '232 622H237Q242 622 249 622T264 623H293Q295 622 300 619T308 613T314 608T319 601Q322 597 405 316T489 19Q489 9 473 1Q471 0 262 0T51 1Q35 9 35 19Q35 34 118 315T205 601Q214 616 232 622ZM267 501Q266 504 265 510T263 521T261 526V523Q261 508 211 332Q142 91 138 82H386Q385 84 345 224Q281 439 267 501',
},{
    0x2033: "\u2032\u2032",
    0x2034: "\u2032\u2032\u2032",
    0x2057: "\u2032\u2032\u2032\u2032",
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.22">
import './lib/explorer.js';

import {combineDefaults} from '../../../../js/components/global.js';
import {ExplorerHandler} from '../../../../js/a11y/explorer.js';

if (MathJax.startup) {
  MathJax.startup.extendHandler(handler =&gt; ExplorerHandler(handler));
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.220">
import {Loader} from '../../../js/components/loader.js';

Loader.preLoad(
  'loader', 'startup',
  'core',
  'input/tex', 'input/mml',
  'output/svg', 'output/svg/fonts/tex.js',
  'ui/menu', 'a11y/assistive-mml'
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2200">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {normal as font} from '../../../common/fonts/tex/normal.js';

export const normal: SVGCharMap = AddPaths(font, {
    0x20: '',
    0x21: '78 661Q78 682 96 699T138 716T180 700T199 661Q199 654 179 432T158 206Q156 198 139 198Q121 198 119 206Q118 209 98 431T78 661ZM79 61Q79 89 97 105T141 121Q164 119 181 104T198 61Q198 31 181 16T139 1Q114 1 97 16T79 61',
    0x22: '34 634Q34 659 50 676T93 694Q121 694 144 668T168 579Q168 525 146 476T101 403T73 379Q69 379 60 388T50 401Q50 404 62 417T88 448T116 500T131 572Q131 584 130 584T125 581T112 576T94 573Q69 573 52 590T34 634ZM238 634Q238 659 254 676T297 694Q325 694 348 668T372 579Q372 525 350 476T305 403T277 379Q273 379 264 388T254 401Q254 404 266 417T292 448T320 500T335 572Q335 584 334 584T329 581T316 576T298 573Q273 573 256 590T238 634',
    0x23: '56 347Q56 360 70 367H313L355 524Q394 676 401 686Q406 694 416 694Q434 694 436 676Q436 672 396 522Q355 374 355 369L354 367H543L585 524Q626 679 630 685Q636 694 646 694Q653 694 659 689T665 678Q665 668 626 522Q585 374 585 369L584 367H762Q777 359 777 347Q777 334 767 331T722 327H667H572L552 251L531 174Q531 173 647 173H720Q756 173 766 170T777 153T762 133H519L477 -24Q436 -179 432 -185Q426 -194 416 -194Q409 -194 403 -189T397 -177Q397 -167 436 -21Q477 125 477 131L478 133H289L247 -24Q206 -179 202 -185Q196 -194 186 -194Q179 -194 173 -189T167 -177Q167 -167 206 -21Q247 125 247 131L248 133H70Q56 140 56 153Q56 168 72 173H260L280 249L301 326Q301 327 186 327H72Q56 332 56 347ZM531 326Q531 327 437 327H342L322 251L301 174Q301 173 395 173H490L510 249L531 326',
    0x24: '162 187Q162 164 146 149T109 133H103V130Q108 115 115 105Q122 92 131 82T150 64T170 52T190 44T206 40T220 37L227 36V313Q190 320 162 335Q116 358 86 404T55 508Q55 567 85 614T165 685Q186 696 225 704H227V750H273V704L286 703Q369 690 413 631Q441 588 444 531Q444 514 443 509Q439 490 425 479T391 468Q368 468 353 483T337 522Q337 546 353 560T390 575L394 576V578Q386 599 372 614T342 637T314 649T288 656L273 658V408L288 405Q329 394 355 376Q396 348 420 300T444 199Q444 130 408 76T313 1Q286 -9 276 -9H273V-56H227V-10H221Q202 -6 193 -4T155 11T108 41T74 94T55 176V182Q55 227 95 238Q103 240 108 240Q129 240 145 226T162 187ZM225 657Q219 657 204 651T169 632T135 594T121 538Q121 512 131 491T156 457T187 435T213 423T227 420V539Q227 657 225 657ZM378 169Q378 230 339 265T274 301Q273 301 273 169V37Q324 50 351 87T378 169',
    0x25: '465 605Q428 605 394 614T340 632T319 641Q332 608 332 548Q332 458 293 403T202 347Q145 347 101 402T56 548Q56 637 101 693T202 750Q241 750 272 719Q359 642 464 642Q580 642 650 732Q662 748 668 749Q670 750 673 750Q682 750 688 743T693 726Q178 -47 170 -52Q166 -56 160 -56Q147 -56 142 -45Q137 -36 142 -27Q143 -24 363 304Q469 462 525 546T581 630Q528 605 465 605ZM207 385Q235 385 263 427T292 548Q292 617 267 664T200 712Q193 712 186 709T167 698T147 668T134 615Q132 595 132 548V527Q132 436 165 403Q183 385 203 385H207ZM500 146Q500 234 544 290T647 347Q699 347 737 292T776 146T737 0T646 -56Q590 -56 545 0T500 146ZM651 -18Q679 -18 707 24T736 146Q736 215 711 262T644 309Q637 309 630 306T611 295T591 265T578 212Q577 200 577 146V124Q577 -18 647 -18H651',
    0x26: '156 540Q156 620 201 668T302 716Q354 716 377 671T401 578Q401 505 287 386L274 373Q309 285 416 148L429 132L437 142Q474 191 543 309L562 341V349Q562 368 541 376T498 385H493V431H502L626 428Q709 428 721 431H727V385H712Q688 384 669 379T639 369T618 354T603 337T591 316T578 295Q537 223 506 176T464 117T454 104Q454 102 471 85T497 62Q543 24 585 24Q618 24 648 48T682 113V121H722V112Q721 94 714 75T692 32T646 -7T574 -22Q491 -19 414 42L402 51L391 42Q312 -22 224 -22Q144 -22 93 25T42 135Q42 153 46 169T55 197T74 225T96 249T125 278T156 308L195 347L190 360Q185 372 182 382T174 411T165 448T159 491T156 540ZM361 576Q361 613 348 646T305 679Q272 679 252 649T232 572Q232 497 255 426L259 411L267 420Q361 519 361 576ZM140 164Q140 103 167 64T240 24Q271 24 304 36T356 61T374 77Q295 156 235 262L220 292L210 310L193 293Q177 277 169 268T151 229T140 164',
    0x27: '78 634Q78 659 95 676T138 694Q166 694 189 668T212 579Q212 525 190 476T146 403T118 379Q114 379 105 388T95 401Q95 404 107 417T133 448T161 500T176 572Q176 584 175 584T170 581T157 576T139 573Q114 573 96 590T78 634',
    0x28: '94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250',
    0x29: '60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749',
    0x2A: '215 721Q216 732 225 741T248 750Q263 750 273 742T284 721L270 571L327 613Q383 654 388 657T399 660Q412 660 423 650T435 624T424 600T376 575Q363 569 355 566L289 534L355 504L424 470Q435 462 435 447Q435 431 424 420T399 409Q393 409 388 412T327 456L270 498L277 423L284 348Q280 320 250 320T215 348L229 498L172 456Q116 415 111 412T100 409Q87 409 76 420T64 447Q64 461 75 470L144 504L210 534L144 566Q136 570 122 576Q83 593 74 600T64 624Q64 639 75 649T100 660Q106 660 111 657T172 613L229 571Q229 578 222 643T215 721',
    0x2B: '56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250',
    0x2C: '78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17',
    0x2D: '11 179V252H277V179H11',
    0x2E: '78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60',
    0x2F: '423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750',
    0x30: '96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597',
    0x31: '213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578',
    0x32: '109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429',
    0x33: '127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463',
    0x34: '462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293',
    0x35: '164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157',
    0x36: '42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397',
    0x37: '55 458Q56 460 72 567L88 674Q88 676 108 676H128V672Q128 662 143 655T195 646T364 644H485V605L417 512Q408 500 387 472T360 435T339 403T319 367T305 330T292 284T284 230T278 162T275 80Q275 66 275 52T274 28V19Q270 2 255 -10T221 -22Q210 -22 200 -19T179 0T168 40Q168 198 265 368Q285 400 349 489L395 552H302Q128 552 119 546Q113 543 108 522T98 479L95 458V455H55V458',
    0x38: '70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21',
    0x39: '352 287Q304 211 232 211Q154 211 104 270T44 396Q42 412 42 436V444Q42 537 111 606Q171 666 243 666Q245 666 249 666T257 665H261Q273 665 286 663T323 651T370 619T413 560Q456 472 456 334Q456 194 396 97Q361 41 312 10T208 -22Q147 -22 108 7T68 93T121 149Q143 149 158 135T173 96Q173 78 164 65T148 49T135 44L131 43Q131 41 138 37T164 27T206 22H212Q272 22 313 86Q352 142 352 280V287ZM244 248Q292 248 321 297T351 430Q351 508 343 542Q341 552 337 562T323 588T293 615T246 625Q208 625 181 598Q160 576 154 546T147 441Q147 358 152 329T172 282Q197 248 244 248',
    0x3A: '78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60',
    0x3B: '78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60',
    0x3C: '694 -11T694 -19T688 -33T678 -40Q671 -40 524 29T234 166L90 235Q83 240 83 250Q83 261 91 266Q664 540 678 540Q681 540 687 534T694 519T687 505Q686 504 417 376L151 250L417 124Q686 -4 687 -5Q694 -11 694 -19',
    0x3D: '56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153',
    0x3E: '84 520Q84 528 88 533T96 539L99 540Q106 540 253 471T544 334L687 265Q694 260 694 250T687 235Q685 233 395 96L107 -40H101Q83 -38 83 -20Q83 -19 83 -17Q82 -10 98 -1Q117 9 248 71Q326 108 378 132L626 250L378 368Q90 504 86 509Q84 513 84 520',
    0x3F: '226 668Q190 668 162 656T124 632L114 621Q116 621 119 620T130 616T145 607T157 591T162 567Q162 544 147 529T109 514T71 528T55 566Q55 625 100 661T199 704Q201 704 210 704T224 705H228Q281 705 320 692T378 656T407 612T416 567Q416 503 361 462Q267 395 247 303Q242 279 242 241V224Q242 205 239 202T222 198T205 201T202 218V249Q204 320 220 371T255 445T292 491T315 537Q317 546 317 574V587Q317 604 315 615T304 640T277 661T226 668ZM162 61Q162 89 180 105T224 121Q247 119 264 104T281 61Q281 31 264 16T222 1Q197 1 180 16T162 61',
    0x40: '56 347Q56 429 86 498T164 612T270 680T386 705Q522 705 622 603T722 349Q722 126 608 126Q541 126 513 176Q512 177 512 179T510 182L509 183Q508 183 503 177T487 163T464 146T429 132T385 126Q311 126 251 186T190 347Q190 448 251 508T385 568Q426 568 460 548T509 511T531 479H555Q580 479 582 478Q586 477 587 468Q588 454 588 338V260Q588 200 593 182T619 163Q641 163 655 178T674 223T680 273T682 325V330Q682 426 647 500Q611 569 544 618T388 668Q271 668 184 577T96 347Q96 216 180 121T396 26Q421 26 446 28T493 34T535 43T573 52T605 63T629 72T647 80T657 84H716Q722 78 722 74Q722 65 675 45T547 7T392 -11Q255 -11 156 90T56 347ZM274 347Q274 266 308 214T390 162Q420 162 449 182T498 235L504 245V449L498 459Q453 532 387 532Q347 532 311 483T274 347',
    0x41: '255 0Q240 3 140 3Q48 3 39 0H32V46H47Q119 49 139 88Q140 91 192 245T295 553T348 708Q351 716 366 716H376Q396 715 400 709Q402 707 508 390L617 67Q624 54 636 51T687 46H717V0H708Q699 3 581 3Q458 3 437 0H427V46H440Q510 46 510 64Q510 66 486 138L462 209H229L209 150Q189 91 189 85Q189 72 209 59T259 46H264V0H255ZM447 255L345 557L244 256Q244 255 345 255H447',
    0x42: '131 622Q124 629 120 631T104 634T61 637H28V683H229H267H346Q423 683 459 678T531 651Q574 627 599 590T624 512Q624 461 583 419T476 360L466 357Q539 348 595 302T651 187Q651 119 600 67T469 3Q456 1 242 0H28V46H61Q103 47 112 49T131 61V622ZM511 513Q511 560 485 594T416 636Q415 636 403 636T371 636T333 637Q266 637 251 636T232 628Q229 624 229 499V374H312L396 375L406 377Q410 378 417 380T442 393T474 417T499 456T511 513ZM537 188Q537 239 509 282T430 336L329 337H229V200V116Q229 57 234 52Q240 47 334 47H383Q425 47 443 53Q486 67 511 104T537 188',
    0x43: '56 342Q56 428 89 500T174 615T283 681T391 705Q394 705 400 705T408 704Q499 704 569 636L582 624L612 663Q639 700 643 704Q644 704 647 704T653 705H657Q660 705 666 699V419L660 413H626Q620 419 619 430Q610 512 571 572T476 651Q457 658 426 658Q322 658 252 588Q173 509 173 342Q173 221 211 151Q232 111 263 84T328 45T384 29T428 24Q517 24 571 93T626 244Q626 251 632 257H660L666 251V236Q661 133 590 56T403 -21Q262 -21 159 83T56 342',
    0x44: '130 622Q123 629 119 631T103 634T60 637H27V683H228Q399 682 419 682T461 676Q504 667 546 641T626 573T685 470T708 336Q708 210 634 116T442 3Q429 1 228 0H27V46H60Q102 47 111 49T130 61V622ZM593 338Q593 439 571 501T493 602Q439 637 355 637H322H294Q238 637 234 628Q231 624 231 344Q231 62 232 59Q233 49 248 48T339 46H350Q456 46 515 95Q561 133 577 191T593 338',
    0x45: '128 619Q121 626 117 628T101 631T58 634H25V680H597V676Q599 670 611 560T625 444V440H585V444Q584 447 582 465Q578 500 570 526T553 571T528 601T498 619T457 629T411 633T353 634Q266 634 251 633T233 622Q233 622 233 621Q232 619 232 497V376H286Q359 378 377 385Q413 401 416 469Q416 471 416 473V493H456V213H416V233Q415 268 408 288T383 317T349 328T297 330Q290 330 286 330H232V196V114Q232 57 237 52Q243 47 289 47H340H391Q428 47 452 50T505 62T552 92T584 146Q594 172 599 200T607 247T612 270V273H652V270Q651 267 632 137T610 3V0H25V46H58Q100 47 109 49T128 61V619',
    0x46: '128 619Q121 626 117 628T101 631T58 634H25V680H582V676Q584 670 596 560T610 444V440H570V444Q563 493 561 501Q555 538 543 563T516 601T477 622T431 631T374 633H334H286Q252 633 244 631T233 621Q232 619 232 490V363H284Q287 363 303 363T327 364T349 367T372 373T389 385Q407 403 410 459V480H450V200H410V221Q407 276 389 296Q381 303 371 307T348 313T327 316T303 317T284 317H232V189L233 61Q240 54 245 52T270 48T333 46H360V0H348Q324 3 182 3Q51 3 36 0H25V46H58Q100 47 109 49T128 61V619',
    0x47: '56 342Q56 428 89 500T174 615T283 681T391 705Q394 705 400 705T408 704Q499 704 569 636L582 624L612 663Q639 700 643 704Q644 704 647 704T653 705H657Q660 705 666 699V419L660 413H626Q620 419 619 430Q610 512 571 572T476 651Q457 658 426 658Q401 658 376 654T316 633T254 592T205 519T177 411Q173 369 173 335Q173 259 192 201T238 111T302 58T370 31T431 24Q478 24 513 45T559 100Q562 110 562 160V212Q561 213 557 216T551 220T542 223T526 225T502 226T463 227H437V273H449L609 270Q715 270 727 273H735V227H721Q674 227 668 215Q666 211 666 108V6Q660 0 657 0Q653 0 639 10Q617 25 600 42L587 54Q571 27 524 3T406 -22Q317 -22 238 22T108 151T56 342',
    0x48: '128 622Q121 629 117 631T101 634T58 637H25V683H36Q57 680 180 680Q315 680 324 683H335V637H302Q262 636 251 634T233 622L232 500V378H517V622Q510 629 506 631T490 634T447 637H414V683H425Q446 680 569 680Q704 680 713 683H724V637H691Q651 636 640 634T622 622V61Q628 51 639 49T691 46H724V0H713Q692 3 569 3Q434 3 425 0H414V46H447Q489 47 498 49T517 61V332H232V197L233 61Q239 51 250 49T302 46H335V0H324Q303 3 180 3Q45 3 36 0H25V46H58Q100 47 109 49T128 61V622',
    0x49: '328 0Q307 3 180 3T32 0H21V46H43Q92 46 106 49T126 60Q128 63 128 342Q128 620 126 623Q122 628 118 630T96 635T43 637H21V683H32Q53 680 180 680T328 683H339V637H317Q268 637 254 634T234 623Q232 620 232 342Q232 63 234 60Q238 55 242 53T264 48T317 46H339V0H328',
    0x4A: '89 177Q115 177 133 160T152 112Q152 88 137 72T102 52Q99 51 101 49Q106 43 129 29Q159 15 190 15Q232 15 256 48T286 126Q286 127 286 142T286 183T286 238T287 306T287 378Q287 403 287 429T287 479T287 524T286 563T286 593T286 614V621Q281 630 263 633T182 637H154V683H166Q187 680 332 680Q439 680 457 683H465V637H449Q422 637 401 634Q393 631 389 623Q388 621 388 376T387 123Q377 61 322 20T194 -22Q188 -22 177 -21T160 -20Q96 -9 61 29T25 110Q25 144 44 160T89 177',
    0x4B: '128 622Q121 629 117 631T101 634T58 637H25V683H36Q57 680 180 680Q315 680 324 683H335V637H313Q235 637 233 620Q232 618 232 462L233 307L379 449Q425 494 479 546Q518 584 524 591T531 607V608Q531 630 503 636Q501 636 498 636T493 637H489V683H499Q517 680 630 680Q704 680 716 683H722V637H708Q633 633 589 597Q584 592 495 506T406 419T515 254T631 80Q644 60 662 54T715 46H736V0H728Q719 3 615 3Q493 3 472 0H461V46H469Q515 46 515 72Q515 78 512 84L336 351Q332 348 278 296L232 251V156Q232 62 235 58Q243 47 302 46H335V0H324Q303 3 180 3Q45 3 36 0H25V46H58Q100 47 109 49T128 61V622',
    0x4C: '128 622Q121 629 117 631T101 634T58 637H25V683H36Q48 680 182 680Q324 680 348 683H360V637H333Q273 637 258 635T233 622L232 342V129Q232 57 237 52Q243 47 313 47Q384 47 410 53Q470 70 498 110T536 221Q536 226 537 238T540 261T542 272T562 273H582V268Q580 265 568 137T554 5V0H25V46H58Q100 47 109 49T128 61V622',
    0x4D: '132 622Q125 629 121 631T105 634T62 637H29V683H135Q221 683 232 682T249 675Q250 674 354 398L458 124L562 398Q666 674 668 675Q671 681 683 682T781 683H887V637H854Q814 636 803 634T785 622V61Q791 51 802 49T854 46H887V0H876Q855 3 736 3Q605 3 596 0H585V46H618Q660 47 669 49T688 61V347Q688 424 688 461T688 546T688 613L687 632Q454 14 450 7Q446 1 430 1T410 7Q409 9 292 316L176 624V606Q175 588 175 543T175 463T175 356L176 86Q187 50 261 46H278V0H269Q254 3 154 3Q52 3 37 0H29V46H46Q78 48 98 56T122 69T132 86V622',
    0x4E: '42 46Q74 48 94 56T118 69T128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627T492 637H475V683H483Q498 680 600 680Q706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150T282 443T171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3Q48 3 33 0H25V46H42',
    0x4F: '56 340Q56 423 86 494T164 610T270 680T388 705Q521 705 621 601T722 341Q722 260 693 191T617 75T510 4T388 -22T267 3T160 74T85 189T56 340ZM467 647Q426 665 388 665Q360 665 331 654T269 620T213 549T179 439Q174 411 174 354Q174 144 277 61Q327 20 385 20H389H391Q474 20 537 99Q603 188 603 354Q603 411 598 439Q577 592 467 647',
    0x50: '130 622Q123 629 119 631T103 634T60 637H27V683H214Q237 683 276 683T331 684Q419 684 471 671T567 616Q624 563 624 489Q624 421 573 372T451 307Q429 302 328 301H234V181Q234 62 237 58Q245 47 304 46H337V0H326Q305 3 182 3Q47 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM507 488Q507 514 506 528T500 564T483 597T450 620T397 635Q385 637 307 637H286Q237 637 234 628Q231 624 231 483V342H302H339Q390 342 423 349T481 382Q507 411 507 488',
    0x51: '56 341Q56 499 157 602T388 705Q521 705 621 601T722 341Q722 275 703 218T660 127T603 63T555 25T525 9Q524 8 524 8H523Q524 5 526 -1T537 -21T555 -47T581 -67T615 -76Q653 -76 678 -56T706 -3Q707 10 716 10Q721 10 728 5L727 -13Q727 -88 697 -140T606 -193Q563 -193 538 -166T498 -83Q483 -23 483 -8L471 -11Q459 -14 435 -18T388 -22Q254 -22 155 81T56 341ZM607 339Q607 429 586 496T531 598T461 649T390 665T318 649T248 598T192 496T170 339Q170 143 277 57Q301 39 305 39L304 42Q304 44 304 46Q301 53 301 68Q301 101 325 128T391 155Q454 155 495 70L501 58Q549 91 578 164Q607 234 607 339ZM385 18Q404 18 425 23T459 33T472 40Q471 47 468 57T449 88T412 115Q398 117 386 117Q367 117 353 102T338 67Q338 48 351 33T385 18',
    0x52: '130 622Q123 629 119 631T103 634T60 637H27V683H202H236H300Q376 683 417 677T500 648Q595 600 609 517Q610 512 610 501Q610 468 594 439T556 392T511 361T472 343L456 338Q459 335 467 332Q497 316 516 298T545 254T559 211T568 155T578 94Q588 46 602 31T640 16H645Q660 16 674 32T692 87Q692 98 696 101T712 105T728 103T732 90Q732 59 716 27T672 -16Q656 -22 630 -22Q481 -16 458 90Q456 101 456 163T449 246Q430 304 373 320L363 322L297 323H231V192L232 61Q238 51 249 49T301 46H334V0H323Q302 3 181 3Q59 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM491 499V509Q491 527 490 539T481 570T462 601T424 623T362 636Q360 636 340 636T304 637H283Q238 637 234 628Q231 624 231 492V360H289Q390 360 434 378T489 456Q491 467 491 499',
    0x53: '55 507Q55 590 112 647T243 704H257Q342 704 405 641L426 672Q431 679 436 687T446 700L449 704Q450 704 453 704T459 705H463Q466 705 472 699V462L466 456H448Q437 456 435 459T430 479Q413 605 329 646Q292 662 254 662Q201 662 168 626T135 542Q135 508 152 480T200 435Q210 431 286 412T370 389Q427 367 463 314T500 191Q500 110 448 45T301 -21Q245 -21 201 -4T140 27L122 41Q118 36 107 21T87 -7T78 -21Q76 -22 68 -22H64Q61 -22 55 -16V101Q55 220 56 222Q58 227 76 227H89Q95 221 95 214Q95 182 105 151T139 90T205 42T305 24Q352 24 386 62T420 155Q420 198 398 233T340 281Q284 295 266 300Q261 301 239 306T206 314T174 325T141 343T112 367T85 402Q55 451 55 507',
    0x54: '36 443Q37 448 46 558T55 671V677H666V671Q667 666 676 556T685 443V437H645V443Q645 445 642 478T631 544T610 593Q593 614 555 625Q534 630 478 630H451H443Q417 630 414 618Q413 616 413 339V63Q420 53 439 50T528 46H558V0H545L361 3Q186 1 177 0H164V46H194Q264 46 283 49T309 63V339V550Q309 620 304 625T271 630H244H224Q154 630 119 601Q101 585 93 554T81 486T76 443V437H36V443',
    0x55: '128 622Q121 629 117 631T101 634T58 637H25V683H36Q57 680 180 680Q315 680 324 683H335V637H302Q262 636 251 634T233 622L232 418V291Q232 189 240 145T280 67Q325 24 389 24Q454 24 506 64T571 183Q575 206 575 410V598Q569 608 565 613T541 627T489 637H472V683H481Q496 680 598 680T715 683H724V637H707Q634 633 622 598L621 399Q620 194 617 180Q617 179 615 171Q595 83 531 31T389 -22Q304 -22 226 33T130 192Q129 201 128 412V622',
    0x56: '114 620Q113 621 110 624T107 627T103 630T98 632T91 634T80 635T67 636T48 637H19V683H28Q46 680 152 680Q273 680 294 683H305V637H284Q223 634 223 620Q223 618 313 372T404 126L490 358Q575 588 575 597Q575 616 554 626T508 637H503V683H512Q527 680 627 680Q718 680 724 683H730V637H723Q648 637 627 596Q627 595 515 291T401 -14Q396 -22 382 -22H374H367Q353 -22 348 -14Q346 -12 231 303Q114 617 114 620',
    0x57: '792 683Q810 680 914 680Q991 680 1003 683H1009V637H996Q931 633 915 598Q912 591 863 438T766 135T716 -17Q711 -22 694 -22Q676 -22 673 -15Q671 -13 593 231L514 477L435 234Q416 174 391 92T358 -6T341 -22H331Q314 -21 310 -15Q309 -14 208 302T104 622Q98 632 87 633Q73 637 35 637H18V683H27Q69 681 154 681Q164 681 181 681T216 681T249 682T276 683H287H298V637H285Q213 637 213 620Q213 616 289 381L364 144L427 339Q490 535 492 546Q487 560 482 578T475 602T468 618T461 628T449 633T433 636T408 637H380V683H388Q397 680 508 680Q629 680 650 683H660V637H647Q576 637 576 619L727 146Q869 580 869 600Q869 605 863 612T839 627T794 637H783V683H792',
    0x58: '270 0Q252 3 141 3Q46 3 31 0H23V46H40Q129 50 161 88Q165 94 244 216T324 339Q324 341 235 480T143 622Q133 631 119 634T57 637H37V683H46Q64 680 172 680Q297 680 318 683H329V637H324Q307 637 286 632T263 621Q263 618 322 525T384 431Q385 431 437 511T489 593Q490 595 490 599Q490 611 477 622T436 637H428V683H437Q455 680 566 680Q661 680 676 683H684V637H667Q585 634 551 599Q548 596 478 491Q412 388 412 387Q412 385 514 225T620 62Q628 53 642 50T695 46H726V0H717Q699 3 591 3Q466 3 445 0H434V46H440Q454 46 476 51T499 64Q499 67 463 124T390 238L353 295L350 292Q348 290 343 283T331 265T312 236T286 195Q219 88 218 84Q218 70 234 59T272 46H280V0H270',
    0x59: '518 0Q497 3 374 3Q253 3 232 0H221V46H254Q313 47 321 58Q324 62 324 167V273L221 446Q117 620 114 623Q106 631 91 634T31 637H11V683H20Q29 680 148 680Q273 680 294 683H305V637H287Q239 636 236 621Q236 619 321 475L407 332L483 460Q502 492 527 534Q563 594 563 604Q563 632 517 637H508V683H517H525Q533 683 545 683T571 682T600 681T626 681Q695 681 731 683H738V637H723Q640 633 613 588Q612 587 517 427L425 273V169V95Q425 66 428 59T444 49Q459 46 506 46H528V0H518',
    0x5A: '69 443Q69 452 74 554T80 683H549Q555 677 555 664Q555 649 554 648Q552 645 366 348T179 50T192 49T263 49H275H302Q333 49 353 50T401 59T447 78T482 115T507 173Q513 200 520 273V282H560V274Q560 272 552 143T543 8V0H302L61 1L58 3Q55 8 55 21V35Q59 43 153 193T340 489T432 637H343Q259 637 214 625T141 573Q109 523 109 445Q109 443 89 443H69',
    0x5B: '118 -250V750H255V710H158V-210H255V-250H118',
    0x5C: '56 731Q56 740 62 745T75 750Q85 750 92 740Q96 733 270 255T444 -231Q444 -239 438 -244T424 -250Q414 -250 407 -240Q404 -236 230 242T56 731',
    0x5D: '22 710V750H159V-250H22V-210H119V710H22',
    0x5E: '112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560',
    0x5F: '0 -62V-25H499V-62H0',
    0x60: '106 655Q106 671 119 685T150 699Q166 699 177 688Q190 671 222 629T275 561T295 533T282 519L267 505L196 563Q119 626 113 634Q106 643 106 655',
    0x61: '137 305T115 305T78 320T63 359Q63 394 97 421T218 448Q291 448 336 416T396 340Q401 326 401 309T402 194V124Q402 76 407 58T428 40Q443 40 448 56T453 109V145H493V106Q492 66 490 59Q481 29 455 12T400 -6T353 12T329 54V58L327 55Q325 52 322 49T314 40T302 29T287 17T269 6T247 -2T221 -8T190 -11Q130 -11 82 20T34 107Q34 128 41 147T68 188T116 225T194 253T304 268H318V290Q318 324 312 340Q290 411 215 411Q197 411 181 410T156 406T148 403Q170 388 170 359Q170 334 154 320ZM126 106Q126 75 150 51T209 26Q247 26 276 49T315 109Q317 116 318 175Q318 233 317 233Q309 233 296 232T251 223T193 203T147 166T126 106',
    0x62: '307 -11Q234 -11 168 55L158 37Q156 34 153 28T147 17T143 10L138 1L118 0H98V298Q98 599 97 603Q94 622 83 628T38 637H20V660Q20 683 22 683L32 684Q42 685 61 686T98 688Q115 689 135 690T165 693T176 694H179V543Q179 391 180 391L183 394Q186 397 192 401T207 411T228 421T254 431T286 439T323 442Q401 442 461 379T522 216Q522 115 458 52T307 -11ZM182 98Q182 97 187 90T196 79T206 67T218 55T233 44T250 35T271 29T295 26Q330 26 363 46T412 113Q424 148 424 212Q424 287 412 323Q385 405 300 405Q270 405 239 390T188 347L182 339V98',
    0x63: '370 305T349 305T313 320T297 358Q297 381 312 396Q317 401 317 402T307 404Q281 408 258 408Q209 408 178 376Q131 329 131 219Q131 137 162 90Q203 29 272 29Q313 29 338 55T374 117Q376 125 379 127T395 129H409Q415 123 415 120Q415 116 411 104T395 71T366 33T318 2T249 -11Q163 -11 99 53T34 214Q34 318 99 383T250 448T370 421T404 357Q404 334 387 320',
    0x64: '376 495Q376 511 376 535T377 568Q377 613 367 624T316 637H298V660Q298 683 300 683L310 684Q320 685 339 686T376 688Q393 689 413 690T443 693T454 694H457V390Q457 84 458 81Q461 61 472 55T517 46H535V0Q533 0 459 -5T380 -11H373V44L365 37Q307 -11 235 -11Q158 -11 96 50T34 215Q34 315 97 378T244 442Q319 442 376 393V495ZM373 342Q328 405 260 405Q211 405 173 369Q146 341 139 305T131 211Q131 155 138 120T173 59Q203 26 251 26Q322 26 373 103V342',
    0x65: '28 218Q28 273 48 318T98 391T163 433T229 448Q282 448 320 430T378 380T406 316T415 245Q415 238 408 231H126V216Q126 68 226 36Q246 30 270 30Q312 30 342 62Q359 79 369 104L379 128Q382 131 395 131H398Q415 131 415 121Q415 117 412 108Q393 53 349 21T250 -11Q155 -11 92 58T28 218ZM333 275Q322 403 238 411H236Q228 411 220 410T195 402T166 381T143 340T127 274V267H333V275',
    0x66: '273 0Q255 3 146 3Q43 3 34 0H26V46H42Q70 46 91 49Q99 52 103 60Q104 62 104 224V385H33V431H104V497L105 564L107 574Q126 639 171 668T266 704Q267 704 275 704T289 705Q330 702 351 679T372 627Q372 604 358 590T321 576T284 590T270 627Q270 647 288 667H284Q280 668 273 668Q245 668 223 647T189 592Q183 572 182 497V431H293V385H185V225Q185 63 186 61T189 57T194 54T199 51T206 49T213 48T222 47T231 47T241 46T251 46H282V0H273',
    0x67: '329 409Q373 453 429 453Q459 453 472 434T485 396Q485 382 476 371T449 360Q416 360 412 390Q410 404 415 411Q415 412 416 414V415Q388 412 363 393Q355 388 355 386Q355 385 359 381T368 369T379 351T388 325T392 292Q392 230 343 187T222 143Q172 143 123 171Q112 153 112 133Q112 98 138 81Q147 75 155 75T227 73Q311 72 335 67Q396 58 431 26Q470 -13 470 -72Q470 -139 392 -175Q332 -206 250 -206Q167 -206 107 -175Q29 -140 29 -75Q29 -39 50 -15T92 18L103 24Q67 55 67 108Q67 155 96 193Q52 237 52 292Q52 355 102 398T223 442Q274 442 318 416L329 409ZM299 343Q294 371 273 387T221 404Q192 404 171 388T145 343Q142 326 142 292Q142 248 149 227T179 192Q196 182 222 182Q244 182 260 189T283 207T294 227T299 242Q302 258 302 292T299 343ZM403 -75Q403 -50 389 -34T348 -11T299 -2T245 0H218Q151 0 138 -6Q118 -15 107 -34T95 -74Q95 -84 101 -97T122 -127T170 -155T250 -167Q319 -167 361 -139T403 -75',
    0x68: '41 46H55Q94 46 102 60V68Q102 77 102 91T102 124T102 167T103 217T103 272T103 329Q103 366 103 407T103 482T102 542T102 586T102 603Q99 622 88 628T43 637H25V660Q25 683 27 683L37 684Q47 685 66 686T103 688Q120 689 140 690T170 693T181 694H184V367Q244 442 328 442Q451 442 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41',
    0x69: '69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247',
    0x6A: '98 609Q98 637 116 653T160 669Q183 667 200 652T217 609Q217 579 200 564T158 549Q133 549 116 564T98 609ZM28 -163Q58 -168 64 -168Q124 -168 135 -77Q137 -65 137 141T136 353Q132 371 120 377T72 385H52V408Q52 431 54 431L58 432Q62 432 70 432T87 433T108 434T133 436Q151 437 171 438T202 441T214 442H218V184Q217 -36 217 -59T211 -98Q195 -145 153 -175T58 -205Q9 -205 -23 -179T-55 -117Q-55 -94 -40 -79T-2 -64T36 -79T52 -118Q52 -143 28 -163',
    0x6B: '36 46H50Q89 46 97 60V68Q97 77 97 91T97 124T98 167T98 217T98 272T98 329Q98 366 98 407T98 482T98 542T97 586T97 603Q94 622 83 628T38 637H20V660Q20 683 22 683L32 684Q42 685 61 686T98 688Q115 689 135 690T165 693T176 694H179V463L180 233L240 287Q300 341 304 347Q310 356 310 364Q310 383 289 385H284V431H293Q308 428 412 428Q475 428 484 431H489V385H476Q407 380 360 341Q286 278 286 274Q286 273 349 181T420 79Q434 60 451 53T500 46H511V0H505Q496 3 418 3Q322 3 307 0H299V46H306Q330 48 330 65Q330 72 326 79Q323 84 276 153T228 222L176 176V120V84Q176 65 178 59T189 49Q210 46 238 46H254V0H246Q231 3 137 3T28 0H20V46H36',
    0x6C: '42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42',
    0x6D: '41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41',
    0x6E: '41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q450 438 463 329Q464 322 464 190V104Q464 66 466 59T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41',
    0x6F: '28 214Q28 309 93 378T250 448Q340 448 405 380T471 215Q471 120 407 55T250 -10Q153 -10 91 57T28 214ZM250 30Q372 30 372 193V225V250Q372 272 371 288T364 326T348 362T317 390T268 410Q263 411 252 411Q222 411 195 399Q152 377 139 338T126 246V226Q126 130 145 91Q177 30 250 30',
    0x70: '36 -148H50Q89 -148 97 -134V-126Q97 -119 97 -107T97 -77T98 -38T98 6T98 55T98 106Q98 140 98 177T98 243T98 296T97 335T97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 61 434T98 436Q115 437 135 438T165 441T176 442H179V416L180 390L188 397Q247 441 326 441Q407 441 464 377T522 216Q522 115 457 52T310 -11Q242 -11 190 33L182 40V-45V-101Q182 -128 184 -134T195 -145Q216 -148 244 -148H260V-194H252L228 -193Q205 -192 178 -192T140 -191Q37 -191 28 -194H20V-148H36ZM424 218Q424 292 390 347T305 402Q234 402 182 337V98Q222 26 294 26Q345 26 384 80T424 218',
    0x71: '33 218Q33 308 95 374T236 441H246Q330 441 381 372L387 364Q388 364 404 403L420 442H457V156Q457 -132 458 -134Q462 -142 470 -145Q491 -148 519 -148H535V-194H527L504 -193Q480 -192 453 -192T415 -191Q312 -191 303 -194H295V-148H311Q339 -148 360 -145Q369 -141 371 -135T373 -106V-41V49Q313 -11 236 -11Q154 -11 94 53T33 218ZM376 300Q346 389 278 401Q275 401 269 401T261 402Q211 400 171 350T131 214Q131 137 165 82T253 27Q296 27 328 54T376 118V300',
    0x72: '36 46H50Q89 46 97 60V68Q97 77 97 91T98 122T98 161T98 203Q98 234 98 269T98 328L97 351Q94 370 83 376T38 385H20V408Q20 431 22 431L32 432Q42 433 60 434T96 436Q112 437 131 438T160 441T171 442H174V373Q213 441 271 441H277Q322 441 343 419T364 373Q364 352 351 337T313 322Q288 322 276 338T263 372Q263 381 265 388T270 400T273 405Q271 407 250 401Q234 393 226 386Q179 341 179 207V154Q179 141 179 127T179 101T180 81T180 66V61Q181 59 183 57T188 54T193 51T200 49T207 48T216 47T225 47T235 46T245 46H276V0H267Q249 3 140 3Q37 3 28 0H20V46H36',
    0x73: '295 316Q295 356 268 385T190 414Q154 414 128 401Q98 382 98 349Q97 344 98 336T114 312T157 287Q175 282 201 278T245 269T277 256Q294 248 310 236T342 195T359 133Q359 71 321 31T198 -10H190Q138 -10 94 26L86 19L77 10Q71 4 65 -1L54 -11H46H42Q39 -11 33 -5V74V132Q33 153 35 157T45 162H54Q66 162 70 158T75 146T82 119T101 77Q136 26 198 26Q295 26 295 104Q295 133 277 151Q257 175 194 187T111 210Q75 227 54 256T33 318Q33 357 50 384T93 424T143 442T187 447H198Q238 447 268 432L283 424L292 431Q302 440 314 448H322H326Q329 448 335 442V310L329 304H301Q295 310 295 316',
    0x74: '27 422Q80 426 109 478T141 600V615H181V431H316V385H181V241Q182 116 182 100T189 68Q203 29 238 29Q282 29 292 100Q293 108 293 146V181H333V146V134Q333 57 291 17Q264 -10 221 -10Q187 -10 162 2T124 33T105 68T98 100Q97 107 97 248V385H18V422H27',
    0x75: '383 58Q327 -10 256 -10H249Q124 -10 105 89Q104 96 103 226Q102 335 102 348T96 369Q86 385 36 385H25V408Q25 431 27 431L38 432Q48 433 67 434T105 436Q122 437 142 438T172 441T184 442H187V261Q188 77 190 64Q193 49 204 40Q224 26 264 26Q290 26 311 35T343 58T363 90T375 120T379 144Q379 145 379 161T380 201T380 248V315Q380 361 370 372T320 385H302V431Q304 431 378 436T457 442H464V264Q464 84 465 81Q468 61 479 55T524 46H542V0Q540 0 467 -5T390 -11H383V58',
    0x76: '338 431Q344 429 422 429Q479 429 503 431H508V385H497Q439 381 423 345Q421 341 356 172T288 -2Q283 -11 263 -11Q244 -11 239 -2Q99 359 98 364Q93 378 82 381T43 385H19V431H25L33 430Q41 430 53 430T79 430T104 429T122 428Q217 428 232 431H240V385H226Q187 384 184 370Q184 366 235 234L286 102L377 341V349Q377 363 367 372T349 383T335 385H331V431H338',
    0x77: '90 368Q84 378 76 380T40 385H18V431H24L43 430Q62 430 84 429T116 428Q206 428 221 431H229V385H215Q177 383 177 368Q177 367 221 239L265 113L339 328L333 345Q323 374 316 379Q308 384 278 385H258V431H264Q270 428 348 428Q439 428 454 431H461V385H452Q404 385 404 369Q404 366 418 324T449 234T481 143L496 100L537 219Q579 341 579 347Q579 363 564 373T530 385H522V431H529Q541 428 624 428Q692 428 698 431H703V385H697Q696 385 691 385T682 384Q635 377 619 334L559 161Q546 124 528 71Q508 12 503 1T487 -11H479Q460 -11 456 -4Q455 -3 407 133L361 267Q359 263 266 -4Q261 -11 243 -11H238Q225 -11 220 -3L90 368',
    0x78: '201 0Q189 3 102 3Q26 3 17 0H11V46H25Q48 47 67 52T96 61T121 78T139 96T160 122T180 150L226 210L168 288Q159 301 149 315T133 336T122 351T113 363T107 370T100 376T94 379T88 381T80 383Q74 383 44 385H16V431H23Q59 429 126 429Q219 429 229 431H237V385Q201 381 201 369Q201 367 211 353T239 315T268 274L272 270L297 304Q329 345 329 358Q329 364 327 369T322 376T317 380T310 384L307 385H302V431H309Q324 428 408 428Q487 428 493 431H499V385H492Q443 385 411 368Q394 360 377 341T312 257L296 236L358 151Q424 61 429 57T446 50Q464 46 499 46H516V0H510H502Q494 1 482 1T457 2T432 2T414 3Q403 3 377 3T327 1L304 0H295V46H298Q309 46 320 51T331 63Q331 65 291 120L250 175Q249 174 219 133T185 88Q181 83 181 74Q181 63 188 55T206 46Q208 46 208 23V0H201',
    0x79: '69 -66Q91 -66 104 -80T118 -116Q118 -134 109 -145T91 -160Q84 -163 97 -166Q104 -168 111 -168Q131 -168 148 -159T175 -138T197 -106T213 -75T225 -43L242 0L170 183Q150 233 125 297Q101 358 96 368T80 381Q79 382 78 382Q66 385 34 385H19V431H26L46 430Q65 430 88 429T122 428Q129 428 142 428T171 429T200 430T224 430L233 431H241V385H232Q183 385 185 366L286 112Q286 113 332 227L376 341V350Q376 365 366 373T348 383T334 385H331V431H337H344Q351 431 361 431T382 430T405 429T422 429Q477 429 503 431H508V385H497Q441 380 422 345Q420 343 378 235T289 9T227 -131Q180 -204 113 -204Q69 -204 44 -177T19 -116Q19 -89 35 -78T69 -66',
    0x7A: '42 263Q44 270 48 345T53 423V431H393Q399 425 399 415Q399 403 398 402L381 378Q364 355 331 309T265 220L134 41L182 40H206Q254 40 283 46T331 77Q352 105 359 185L361 201Q361 202 381 202H401V196Q401 195 393 103T384 6V0H209L34 1L31 3Q28 8 28 17Q28 30 29 31T160 210T294 394H236Q169 393 152 388Q127 382 113 367Q89 344 82 264V255H42V263',
    0x7B: '434 -231Q434 -244 428 -250H410Q281 -250 230 -184Q225 -177 222 -172T217 -161T213 -148T211 -133T210 -111T209 -84T209 -47T209 0Q209 21 209 53Q208 142 204 153Q203 154 203 155Q189 191 153 211T82 231Q71 231 68 234T65 250T68 266T82 269Q116 269 152 289T203 345Q208 356 208 377T209 529V579Q209 634 215 656T244 698Q270 724 324 740Q361 748 377 749Q379 749 390 749T408 750H428Q434 744 434 732Q434 719 431 716Q429 713 415 713Q362 710 332 689T296 647Q291 634 291 499V417Q291 370 288 353T271 314Q240 271 184 255L170 250L184 245Q202 239 220 230T262 196T290 137Q291 131 291 1Q291 -134 296 -147Q306 -174 339 -192T415 -213Q429 -213 431 -216Q434 -219 434 -231',
    0x7C: '139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139',
    0x7D: '65 731Q65 745 68 747T88 750Q171 750 216 725T279 670Q288 649 289 635T291 501Q292 362 293 357Q306 312 345 291T417 269Q428 269 431 266T434 250T431 234T417 231Q380 231 345 210T298 157Q293 143 292 121T291 -28V-79Q291 -134 285 -156T256 -198Q202 -250 89 -250Q71 -250 68 -247T65 -230Q65 -224 65 -223T66 -218T69 -214T77 -213Q91 -213 108 -210T146 -200T183 -177T207 -139Q208 -134 209 3L210 139Q223 196 280 230Q315 247 330 250Q305 257 280 270Q225 304 212 352L210 362L209 498Q208 635 207 640Q195 680 154 696T77 713Q68 713 67 716T65 731',
    0x7E: '179 251Q164 251 151 245T131 234T111 215L97 227L83 238Q83 239 95 253T121 283T142 304Q165 318 187 318T253 300T320 282Q335 282 348 288T368 299T388 318L402 306L416 295Q375 236 344 222Q330 215 313 215Q292 215 248 233T179 251',
    0xA0: '',
    0xA3: '699 578Q699 473 635 473Q597 473 595 508Q595 559 654 569V576Q654 619 637 648T581 677Q545 677 513 647T463 561Q460 554 437 464T414 371Q414 370 458 370H502Q508 364 508 362Q505 334 495 324H402L382 241Q377 224 373 206T366 180T361 163T358 151T354 142T350 133T344 120Q340 112 338 107T336 101L354 90Q398 63 422 54T476 44Q515 44 539 73T574 133Q578 144 580 146T598 148Q622 148 622 139Q622 138 620 130Q602 74 555 32T447 -11Q395 -11 317 38L294 51Q271 28 233 9T155 -10Q117 -10 103 5T88 39Q88 73 126 106T224 139Q236 139 247 138T266 134L273 132Q275 132 302 239L323 324H259Q253 330 253 332Q253 350 265 370H300L334 371L355 453Q356 457 360 477T366 501T372 522T379 545T387 565T397 587T409 606T425 627Q453 664 497 689T583 714Q640 714 669 676T699 578ZM245 76Q211 85 195 85Q173 85 158 71T142 42Q142 26 160 26H163Q211 30 245 76',
    0xA5: '515 0Q494 3 374 3Q256 3 235 0H224V46H257Q316 47 324 58Q327 62 327 137V213H133Q121 213 113 213T97 213T86 213T78 213T73 214T70 215T69 216T68 218T67 220Q64 225 66 231T73 240Q76 242 202 242H327V273L247 407H115Q81 407 75 408T67 414Q64 419 66 425T73 434Q76 436 153 436Q228 436 228 437Q227 440 173 530T115 623Q101 637 31 637H11V683H20Q66 681 153 681Q169 681 202 681T262 682L288 683H298V637H280Q230 636 230 621Q230 619 250 584Q255 576 264 561T286 526T305 494L340 437L403 436H467L513 514Q564 596 564 605Q564 608 560 616Q550 634 517 637H508V683H516Q531 680 633 680Q722 680 731 683H738V637H723Q644 632 617 595Q614 591 568 515T521 437T597 436T676 434Q681 432 683 426T682 414T671 409T589 407H503L422 273V242H547Q673 242 676 240Q681 238 683 232T682 220Q682 219 682 218T681 217T679 216T677 215T672 214T664 213T652 213T637 213T616 213H422V139V87Q422 64 425 58T441 49Q456 46 503 46H525V0H515ZM449 406Q449 407 403 407Q358 407 358 406L370 387Q381 368 392 350L404 331Q447 404 449 406',
    0xA8: '95 612Q95 633 112 651T153 669T193 652T210 612Q210 588 194 571T152 554L127 560Q95 577 95 612ZM289 611Q289 634 304 649T335 668Q336 668 340 668T346 669Q369 669 386 652T404 612T387 572T346 554Q323 554 306 570T289 611',
    0xAC: '56 323T56 336T70 356H596Q603 353 611 343V102Q598 89 591 89Q587 89 584 90T579 94T575 98T572 102L571 209V316H70Q56 323 56 336',
    0xAE: '915 266Q915 140 852 38T689 -120T474 -175Q312 -175 188 -71T38 190Q32 220 32 266V287Q32 345 57 416T129 545Q192 624 282 666T464 709Q513 709 522 708Q599 698 665 666T776 590T853 493T900 387T915 287V266ZM875 285Q875 339 853 399T789 517T676 616T519 668Q510 669 465 669Q380 669 299 630T155 514T77 336Q72 312 72 285V266V256Q72 123 163 11Q290 -135 474 -135Q614 -135 727 -46Q875 81 875 266V285ZM276 457Q275 458 274 460T272 463T270 465T267 467T264 469T258 471T252 472T243 473T232 474T218 474H204V514H335Q477 514 499 510Q560 502 610 467T661 375Q661 362 658 350T648 327T635 308T618 292T601 280T583 269T568 262T554 256L547 253Q548 252 556 247T570 237T586 223T602 202T614 174Q616 169 626 123T638 72Q652 23 683 23Q715 23 720 68Q721 78 724 81T740 84T756 82T760 70Q760 47 747 25T715 -7Q700 -14 673 -14Q672 -14 662 -14T643 -12T619 -7T593 2T568 16T547 37T534 67Q531 80 531 97Q531 103 531 116T532 136Q532 218 472 236Q466 238 413 239H360V148L361 58Q366 47 375 44T418 40H432V0H424Q409 3 318 3T212 0H204V40H218Q242 40 253 42T268 47T276 58V457ZM376 473Q365 471 363 464T360 430V366V276H416Q421 276 434 276T453 276T469 277T486 279T501 282T517 287T529 294T542 305Q561 324 561 375Q561 424 545 444T482 472Q478 473 427 474Q415 474 403 474T384 474L376 473',
    0xAF: '69 544V590H430V544H69',
    0xB0: '147 628Q147 669 179 692T244 715Q298 715 325 689T352 629Q352 592 323 567T249 542Q202 542 175 567T147 628ZM313 628Q313 660 300 669T259 678H253Q248 678 242 678T234 679Q217 679 207 674T192 659T188 644T187 629Q187 600 198 590Q210 579 250 579H265Q279 579 288 581T305 595T313 628',
    0xB1: '56 320T56 333T70 353H369V502Q369 651 371 655Q376 666 388 666Q402 666 405 654T409 596V500V353H707Q722 345 722 333Q722 320 707 313H409V40H707Q722 32 722 20T707 0H70Q56 7 56 20T70 40H369V313H70Q56 320 56 333',
    0xB4: '349 699Q367 699 380 686T393 656Q393 651 392 647T387 637T380 627T367 616T351 602T330 585T303 563L232 505L217 519Q203 533 204 533Q204 534 229 567T282 636T313 678L316 681Q318 684 321 686T328 692T337 697T349 699',
    0xB7: '78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250',
    0xD7: '630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29',
    0xF0: '75 566V604Q75 624 79 629T102 635Q124 635 127 629T131 588L133 550L191 588L249 628L231 635Q176 654 124 657Q116 657 106 658L95 659Q94 661 94 687T95 715Q99 717 113 717Q195 717 282 679L309 668L331 681Q351 697 391 721Q428 748 435 748Q437 749 446 749Q470 749 473 746Q478 744 478 681V621Q466 615 456 615Q435 615 424 624L422 661V699L382 675L344 648Q353 639 366 630Q480 538 504 413Q509 393 509 333V313Q509 284 507 257T495 184T466 102T413 33T329 -16Q311 -21 275 -21Q226 -21 195 -10Q150 7 110 50T53 141Q42 179 42 227Q42 332 101 403T245 474Q282 474 314 461T359 436T380 415Q386 405 389 408Q389 426 378 475Q368 505 355 529T329 567T306 590T288 603L282 606L120 501Q116 500 102 500Q84 500 75 506V566ZM388 225Q388 376 309 410Q299 416 273 419Q216 419 191 390Q174 371 168 342T162 218Q162 112 184 79Q212 39 273 39Q312 39 342 62T380 121Q388 159 388 225',
    0xF7: '318 466Q318 500 339 518T386 537Q418 537 438 517T458 466Q458 438 440 417T388 396Q355 396 337 417T318 466ZM56 237T56 250T70 270H706Q721 262 721 250T706 230H70Q56 237 56 250ZM318 34Q318 68 339 86T386 105Q418 105 438 85T458 34Q458 6 440 -15T388 -36Q355 -36 337 -15T318 34',
    0x131: '247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247',
    0x237: '28 -163Q58 -168 64 -168Q124 -168 135 -77Q137 -65 137 141T136 353Q132 371 120 377T72 385H52V408Q52 431 54 431L58 432Q62 432 70 432T87 433T108 434T133 436Q151 437 171 438T202 441T214 442H218V184Q217 -36 217 -59T211 -98Q195 -145 153 -175T58 -205Q9 -205 -23 -179T-55 -117Q-55 -94 -40 -79T-2 -64T36 -79T52 -118Q52 -143 28 -163',
    0x2B9: '79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43',
    0x2C6: '112 560L249 694L257 686Q387 562 387 560L361 531Q359 532 303 581L250 627L195 580Q182 569 169 557T148 538L140 532Q138 530 125 546L112 560',
    0x2C7: '114 611L127 630L136 644Q138 644 193 612Q248 581 250 581L306 612Q361 644 363 644L385 611L318 562L249 513L114 611',
    0x2C9: '69 544V590H430V544H69',
    0x2CA: '349 699Q367 699 380 686T393 656Q393 651 392 647T387 637T380 627T367 616T351 602T330 585T303 563L232 505L217 519Q203 533 204 533Q204 534 229 567T282 636T313 678L316 681Q318 684 321 686T328 692T337 697T349 699',
    0x2CB: '106 655Q106 671 119 685T150 699Q166 699 177 688Q190 671 222 629T275 561T295 533T282 519L267 505L196 563Q119 626 113 634Q106 643 106 655',
    0x2D8: '250 515Q179 515 138 565T92 683V694H129V689Q129 688 129 683T130 675Q137 631 169 599T248 567Q304 567 337 608T370 689V694H407V683Q403 617 361 566T250 515',
    0x2D9: '190 609Q190 637 208 653T252 669Q275 667 292 652T309 609Q309 579 292 564T250 549Q225 549 208 564T190 609',
    0x2DA: '147 628Q147 669 179 692T244 715Q298 715 325 689T352 629Q352 592 323 567T249 542Q202 542 175 567T147 628ZM313 628Q313 660 300 669T259 678H253Q248 678 242 678T234 679Q217 679 207 674T192 659T188 644T187 629Q187 600 198 590Q210 579 250 579H265Q279 579 288 581T305 595T313 628',
    0x2DC: '179 601Q164 601 151 595T131 584T111 565L97 577L83 588Q83 589 95 603T121 633T142 654Q165 668 187 668T253 650T320 632Q335 632 348 638T368 649T388 668L402 656L416 645Q375 586 344 572Q330 565 313 565Q292 565 248 583T179 601',
    0x300: '-394 655Q-394 671 -381 685T-350 699Q-334 699 -323 688Q-310 671 -278 629T-225 561T-205 533T-218 519L-233 505L-304 563Q-381 626 -387 634Q-394 643 -394 655',
    0x301: '-151 699Q-133 699 -120 686T-107 656Q-107 651 -108 647T-113 637T-120 627T-133 616T-149 602T-170 585T-197 563L-268 505L-283 519Q-297 533 -296 533Q-296 534 -271 567T-218 636T-187 678L-184 681Q-182 684 -179 686T-172 692T-163 697T-151 699',
    0x302: '-388 560L-251 694L-243 686Q-113 562 -113 560L-139 531Q-141 532 -197 581L-250 627L-305 580Q-318 569 -331 557T-352 538L-360 532Q-362 530 -375 546L-388 560',
    0x303: '-321 601Q-336 601 -349 595T-369 584T-389 565L-403 577L-417 588Q-417 589 -405 603T-379 633T-358 654Q-335 668 -313 668T-247 650T-180 632Q-165 632 -152 638T-132 649T-112 668L-98 656L-84 645Q-125 586 -156 572Q-170 565 -187 565Q-208 565 -252 583T-321 601',
    0x304: '-431 544V590H-70V544H-431',
    0x306: '-250 515Q-321 515 -362 565T-408 683V694H-371V689Q-371 688 -371 683T-370 675Q-363 631 -331 599T-252 567Q-196 567 -163 608T-130 689V694H-93V683Q-97 617 -139 566T-250 515',
    0x307: '-310 609Q-310 637 -292 653T-248 669Q-225 667 -208 652T-191 609Q-191 579 -208 564T-250 549Q-275 549 -292 564T-310 609',
    0x308: '-405 612Q-405 633 -388 651T-347 669T-307 652T-290 612Q-290 588 -306 571T-348 554L-373 560Q-405 577 -405 612ZM-211 611Q-211 634 -196 649T-165 668Q-164 668 -160 668T-154 669Q-131 669 -114 652T-96 612T-113 572T-154 554Q-177 554 -194 570T-211 611',
    0x30A: '-353 628Q-353 669 -321 692T-256 715Q-202 715 -175 689T-148 629Q-148 592 -177 567T-251 542Q-298 542 -325 567T-353 628ZM-187 628Q-187 660 -200 669T-241 678H-247Q-252 678 -258 678T-266 679Q-283 679 -293 674T-308 659T-312 644T-313 629Q-313 600 -302 590Q-290 579 -250 579H-235Q-221 579 -212 581T-195 595T-187 628',
    0x30B: '-292 701Q-278 701 -262 690T-246 658Q-246 649 -250 641Q-252 637 -297 574T-344 510L-378 528Q-378 530 -355 598T-327 676Q-316 701 -292 701ZM-126 701Q-112 701 -96 690T-80 658Q-80 649 -84 641Q-86 637 -131 574T-178 510L-212 528Q-212 530 -189 598T-161 676Q-150 701 -126 701',
    0x30C: '-386 611L-373 630L-364 644Q-362 644 -307 612Q-252 581 -250 581L-194 612Q-139 644 -137 644L-115 611L-182 562L-251 513L-386 611',
    0x338: '-612 -215T-619 -215T-631 -212T-637 -204T-639 -197Q-639 -190 -634 -183Q-621 -157 -400 274T-176 707Q-173 716 -160 716Q-153 716 -148 712T-142 703T-140 696Q-140 691 -372 241T-608 -212Q-612 -215 -619 -215',
    0x391: '255 0Q240 3 140 3Q48 3 39 0H32V46H47Q119 49 139 88Q140 91 192 245T295 553T348 708Q351 716 366 716H376Q396 715 400 709Q402 707 508 390L617 67Q624 54 636 51T687 46H717V0H708Q699 3 581 3Q458 3 437 0H427V46H440Q510 46 510 64Q510 66 486 138L462 209H229L209 150Q189 91 189 85Q189 72 209 59T259 46H264V0H255ZM447 255L345 557L244 256Q244 255 345 255H447',
    0x392: '131 622Q124 629 120 631T104 634T61 637H28V683H229H267H346Q423 683 459 678T531 651Q574 627 599 590T624 512Q624 461 583 419T476 360L466 357Q539 348 595 302T651 187Q651 119 600 67T469 3Q456 1 242 0H28V46H61Q103 47 112 49T131 61V622ZM511 513Q511 560 485 594T416 636Q415 636 403 636T371 636T333 637Q266 637 251 636T232 628Q229 624 229 499V374H312L396 375L406 377Q410 378 417 380T442 393T474 417T499 456T511 513ZM537 188Q537 239 509 282T430 336L329 337H229V200V116Q229 57 234 52Q240 47 334 47H383Q425 47 443 53Q486 67 511 104T537 188',
    0x393: '128 619Q121 626 117 628T101 631T58 634H25V680H554V676Q556 670 568 560T582 444V440H542V444Q542 445 538 478T523 545T492 598Q454 634 349 634H334Q264 634 249 633T233 621Q232 618 232 339L233 61Q240 54 245 52T270 48T333 46H360V0H348Q324 3 182 3Q51 3 36 0H25V46H58Q100 47 109 49T128 61V619',
    0x394: '51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344',
    0x395: '128 619Q121 626 117 628T101 631T58 634H25V680H597V676Q599 670 611 560T625 444V440H585V444Q584 447 582 465Q578 500 570 526T553 571T528 601T498 619T457 629T411 633T353 634Q266 634 251 633T233 622Q233 622 233 621Q232 619 232 497V376H286Q359 378 377 385Q413 401 416 469Q416 471 416 473V493H456V213H416V233Q415 268 408 288T383 317T349 328T297 330Q290 330 286 330H232V196V114Q232 57 237 52Q243 47 289 47H340H391Q428 47 452 50T505 62T552 92T584 146Q594 172 599 200T607 247T612 270V273H652V270Q651 267 632 137T610 3V0H25V46H58Q100 47 109 49T128 61V619',
    0x396: '69 443Q69 452 74 554T80 683H549Q555 677 555 664Q555 649 554 648Q552 645 366 348T179 50T192 49T263 49H275H302Q333 49 353 50T401 59T447 78T482 115T507 173Q513 200 520 273V282H560V274Q560 272 552 143T543 8V0H302L61 1L58 3Q55 8 55 21V35Q59 43 153 193T340 489T432 637H343Q259 637 214 625T141 573Q109 523 109 445Q109 443 89 443H69',
    0x397: '128 622Q121 629 117 631T101 634T58 637H25V683H36Q57 680 180 680Q315 680 324 683H335V637H302Q262 636 251 634T233 622L232 500V378H517V622Q510 629 506 631T490 634T447 637H414V683H425Q446 680 569 680Q704 680 713 683H724V637H691Q651 636 640 634T622 622V61Q628 51 639 49T691 46H724V0H713Q692 3 569 3Q434 3 425 0H414V46H447Q489 47 498 49T517 61V332H232V197L233 61Q239 51 250 49T302 46H335V0H324Q303 3 180 3Q45 3 36 0H25V46H58Q100 47 109 49T128 61V622',
    0x398: '56 340Q56 423 86 494T164 610T270 680T388 705Q521 705 621 601T722 341Q722 260 693 191T617 75T510 4T388 -22T267 3T160 74T85 189T56 340ZM610 339Q610 428 590 495T535 598T463 651T384 668Q332 668 289 638T221 566Q168 485 168 339Q168 274 176 235Q189 158 228 105T324 28Q356 16 388 16Q415 16 442 24T501 54T555 111T594 205T610 339ZM223 263V422H263V388H514V422H554V263H514V297H263V263H223',
    0x399: '328 0Q307 3 180 3T32 0H21V46H43Q92 46 106 49T126 60Q128 63 128 342Q128 620 126 623Q122 628 118 630T96 635T43 637H21V683H32Q53 680 180 680T328 683H339V637H317Q268 637 254 634T234 623Q232 620 232 342Q232 63 234 60Q238 55 242 53T264 48T317 46H339V0H328',
    0x39A: '128 622Q121 629 117 631T101 634T58 637H25V683H36Q57 680 180 680Q315 680 324 683H335V637H313Q235 637 233 620Q232 618 232 462L233 307L379 449Q425 494 479 546Q518 584 524 591T531 607V608Q531 630 503 636Q501 636 498 636T493 637H489V683H499Q517 680 630 680Q704 680 716 683H722V637H708Q633 633 589 597Q584 592 495 506T406 419T515 254T631 80Q644 60 662 54T715 46H736V0H728Q719 3 615 3Q493 3 472 0H461V46H469Q515 46 515 72Q515 78 512 84L336 351Q332 348 278 296L232 251V156Q232 62 235 58Q243 47 302 46H335V0H324Q303 3 180 3Q45 3 36 0H25V46H58Q100 47 109 49T128 61V622',
    0x39B: '320 708Q326 716 340 716H348H355Q367 716 372 708Q374 706 423 547T523 226T575 62Q581 52 591 50T634 46H661V0H653Q644 3 532 3Q411 3 390 0H379V46H392Q464 46 464 65Q463 70 390 305T316 539L246 316Q177 95 177 84Q177 72 198 59T248 46H253V0H245Q230 3 130 3Q47 3 38 0H32V46H45Q112 51 127 91Q128 92 224 399T320 708',
    0x39C: '132 622Q125 629 121 631T105 634T62 637H29V683H135Q221 683 232 682T249 675Q250 674 354 398L458 124L562 398Q666 674 668 675Q671 681 683 682T781 683H887V637H854Q814 636 803 634T785 622V61Q791 51 802 49T854 46H887V0H876Q855 3 736 3Q605 3 596 0H585V46H618Q660 47 669 49T688 61V347Q688 424 688 461T688 546T688 613L687 632Q454 14 450 7Q446 1 430 1T410 7Q409 9 292 316L176 624V606Q175 588 175 543T175 463T175 356L176 86Q187 50 261 46H278V0H269Q254 3 154 3Q52 3 37 0H29V46H46Q78 48 98 56T122 69T132 86V622',
    0x39D: '42 46Q74 48 94 56T118 69T128 86V634H124Q114 637 52 637H25V683H232L235 680Q237 679 322 554T493 303L578 178V598Q572 608 568 613T544 627T492 637H475V683H483Q498 680 600 680Q706 680 715 683H724V637H707Q634 633 622 598L621 302V6L614 0H600Q585 0 582 3T481 150T282 443T171 605V345L172 86Q183 50 257 46H274V0H265Q250 3 150 3Q48 3 33 0H25V46H42',
    0x39E: '47 509L55 676Q55 677 333 677T611 676L619 509Q619 508 599 508T579 510Q579 529 575 557T564 589Q550 594 333 594T102 589Q95 586 91 558T87 510Q87 508 67 508T47 509ZM139 260V445H179V394H487V445H527V260H487V311H179V260H139ZM50 0L42 180H62Q82 180 82 178Q82 133 89 105Q92 93 95 90T108 86Q137 83 333 83Q530 83 558 86Q568 87 571 90T577 105Q584 133 584 178Q584 180 604 180H624L616 0H50',
    0x39F: '56 340Q56 423 86 494T164 610T270 680T388 705Q521 705 621 601T722 341Q722 260 693 191T617 75T510 4T388 -22T267 3T160 74T85 189T56 340ZM467 647Q426 665 388 665Q360 665 331 654T269 620T213 549T179 439Q174 411 174 354Q174 144 277 61Q327 20 385 20H389H391Q474 20 537 99Q603 188 603 354Q603 411 598 439Q577 592 467 647',
    0x3A0: '128 619Q121 626 117 628T101 631T58 634H25V680H724V634H691Q651 633 640 631T622 619V61Q628 51 639 49T691 46H724V0H713Q692 3 569 3Q434 3 425 0H414V46H447Q489 47 498 49T517 61V634H232V348L233 61Q239 51 250 49T302 46H335V0H324Q303 3 180 3Q45 3 36 0H25V46H58Q100 47 109 49T128 61V619',
    0x3A1: '130 622Q123 629 119 631T103 634T60 637H27V683H214Q237 683 276 683T331 684Q419 684 471 671T567 616Q624 563 624 489Q624 421 573 372T451 307Q429 302 328 301H234V181Q234 62 237 58Q245 47 304 46H337V0H326Q305 3 182 3Q47 3 38 0H27V46H60Q102 47 111 49T130 61V622ZM507 488Q507 514 506 528T500 564T483 597T450 620T397 635Q385 637 307 637H286Q237 637 234 628Q231 624 231 483V342H302H339Q390 342 423 349T481 382Q507 411 507 488',
    0x3A3: '666 247Q664 244 652 126T638 4V0H351Q131 0 95 0T57 5V6Q54 12 57 17L73 36Q89 54 121 90T182 159L305 299L56 644L55 658Q55 677 60 681Q63 683 351 683H638V679Q640 674 652 564T666 447V443H626V447Q618 505 604 543T559 605Q529 626 478 631T333 637H294H189L293 494Q314 465 345 422Q400 346 400 340Q400 338 399 337L154 57Q407 57 428 58Q476 60 508 68T551 83T575 103Q595 125 608 162T624 225L626 251H666V247',
    0x3A4: '36 443Q37 448 46 558T55 671V677H666V671Q667 666 676 556T685 443V437H645V443Q645 445 642 478T631 544T610 593Q593 614 555 625Q534 630 478 630H451H443Q417 630 414 618Q413 616 413 339V63Q420 53 439 50T528 46H558V0H545L361 3Q186 1 177 0H164V46H194Q264 46 283 49T309 63V339V550Q309 620 304 625T271 630H244H224Q154 630 119 601Q101 585 93 554T81 486T76 443V437H36V443',
    0x3A5: '55 551Q55 604 91 654T194 705Q240 705 277 681T334 624T367 556T385 498L389 474L392 488Q394 501 400 521T414 566T438 615T473 659T521 692T584 705Q620 705 648 689T691 647T714 597T722 551Q722 540 719 538T699 536Q680 536 677 541Q677 542 677 544T676 548Q676 576 650 596T588 616H582Q538 616 505 582Q466 543 454 477T441 318Q441 301 441 269T442 222V61Q448 55 452 53T478 48T542 46H569V0H557Q533 3 389 3T221 0H209V46H236Q256 46 270 46T295 47T311 48T322 51T328 54T332 57T337 61V209Q337 383 333 415Q313 616 189 616Q154 616 128 597T101 548Q101 540 97 538T78 536Q63 536 59 538T55 551',
    0x3A6: '312 622Q310 623 307 625T303 629T297 631T286 634T270 635T246 636T211 637H184V683H196Q220 680 361 680T526 683H538V637H511Q468 637 447 635T422 631T411 622V533L425 531Q525 519 595 466T665 342Q665 301 642 267T583 209T506 172T425 152L411 150V61Q417 55 421 53T447 48T511 46H538V0H526Q502 3 361 3T196 0H184V46H211Q231 46 245 46T270 47T286 48T297 51T303 54T307 57T312 61V150H310Q309 151 289 153T232 166T160 195Q149 201 136 210T103 238T69 284T56 342Q56 414 128 467T294 530Q309 532 310 533H312V622ZM170 342Q170 207 307 188H312V495H309Q301 495 282 491T231 469T186 423Q170 389 170 342ZM415 188Q487 199 519 236T551 342Q551 384 539 414T507 459T470 481T434 491T415 495H410V188H415',
    0x3A7: '270 0Q252 3 141 3Q46 3 31 0H23V46H40Q129 50 161 88Q165 94 244 216T324 339Q324 341 235 480T143 622Q133 631 119 634T57 637H37V683H46Q64 680 172 680Q297 680 318 683H329V637H324Q307 637 286 632T263 621Q263 618 322 525T384 431Q385 431 437 511T489 593Q490 595 490 599Q490 611 477 622T436 637H428V683H437Q455 680 566 680Q661 680 676 683H684V637H667Q585 634 551 599Q548 596 478 491Q412 388 412 387Q412 385 514 225T620 62Q628 53 642 50T695 46H726V0H717Q699 3 591 3Q466 3 445 0H434V46H440Q454 46 476 51T499 64Q499 67 463 124T390 238L353 295L350 292Q348 290 343 283T331 265T312 236T286 195Q219 88 218 84Q218 70 234 59T272 46H280V0H270',
    0x3A8: '340 622Q338 623 335 625T331 629T325 631T314 634T298 635T274 636T239 637H212V683H224Q248 680 389 680T554 683H566V637H539Q479 637 464 635T439 622L438 407Q438 192 439 192Q443 193 449 195T474 207T507 232T536 276T557 344Q560 365 562 417T573 493Q587 536 620 544Q627 546 671 546H715L722 540V515Q714 509 708 509Q680 505 671 476T658 392T644 307Q599 177 451 153L438 151V106L439 61Q446 54 451 52T476 48T539 46H566V0H554Q530 3 389 3T224 0H212V46H239Q259 46 273 46T298 47T314 48T325 51T331 54T335 57T340 61V151Q126 178 117 406Q115 503 69 509Q55 509 55 526Q55 541 59 543T86 546H107H120Q150 546 161 543T184 528Q198 514 204 493Q212 472 213 420T226 316T272 230Q287 216 303 207T330 194L339 192Q340 192 340 407V622',
    0x3A9: '55 454Q55 503 75 546T127 617T197 665T272 695T337 704H352Q396 704 404 703Q527 687 596 615T666 454Q666 392 635 330T559 200T499 83V80H543Q589 81 600 83T617 93Q622 102 629 135T636 172L637 177H677V175L660 89Q645 3 644 2V0H552H488Q461 0 456 3T451 20Q451 89 499 235T548 455Q548 512 530 555T483 622T424 656T361 668Q332 668 303 658T243 626T193 560T174 456Q174 380 222 233T270 20Q270 7 263 0H77V2Q76 3 61 89L44 175V177H84L85 172Q85 171 88 155T96 119T104 93Q109 86 120 84T178 80H222V83Q206 132 162 199T87 329T55 454',
    0x2000: '',
    0x2001: '',
    0x2002: '',
    0x2003: '',
    0x2004: '',
    0x2005: '',
    0x2006: '',
    0x2009: '',
    0x200A: '',
    0x200B: '',
    0x200C: '',
    0x2013: '0 248V285H499V248H0',
    0x2014: '0 248V285H999V248H0',
    0x2015: '0 248V285H999V248H0',
    0x2016: '133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739',
    0x2017: '0 -62V-25H499V-62H0',
    0x2018: '64 494Q64 548 86 597T131 670T160 694Q163 694 172 685T182 672Q182 669 170 656T144 625T116 573T101 501Q101 489 102 489T107 491T120 497T138 500Q163 500 180 483T198 440T181 397T139 379Q110 379 87 405T64 494',
    0x2019: '78 634Q78 659 95 676T138 694Q166 694 189 668T212 579Q212 525 190 476T146 403T118 379Q114 379 105 388T95 401Q95 404 107 417T133 448T161 500T176 572Q176 584 175 584T170 581T157 576T139 573Q114 573 96 590T78 634',
    0x201C: '128 494Q128 528 137 560T158 616T185 658T209 685T223 694T236 685T245 670Q244 668 231 654T204 622T178 571T164 501Q164 489 165 489T170 491T183 497T201 500Q226 500 244 483T262 440T245 397T202 379Q173 379 151 405T128 494ZM332 494Q332 528 341 560T362 616T389 658T413 685T427 694T439 685T449 672Q449 669 437 656T411 625T383 573T368 501Q368 489 369 489T374 491T387 497T405 500Q430 500 448 483T466 440T449 397T406 379Q377 379 355 405T332 494',
    0x201D: '34 634Q34 659 50 676T93 694Q121 694 144 668T168 579Q168 525 146 476T101 403T73 379Q69 379 60 388T50 401Q50 404 62 417T88 448T116 500T131 572Q131 584 130 584T125 581T112 576T94 573Q69 573 52 590T34 634ZM238 634Q238 659 254 676T297 694Q325 694 348 668T372 579Q372 525 350 476T305 403T277 379Q273 379 264 388T254 401Q254 404 266 417T292 448T320 500T335 572Q335 584 334 584T329 581T316 576T298 573Q273 573 256 590T238 634',
    0x2020: '182 675Q195 705 222 705Q234 705 243 700T253 691T263 675L262 655Q262 620 252 549T240 454V449Q250 451 288 461T346 472T377 461T389 431Q389 417 379 404T346 390Q327 390 288 401T243 412H240V405Q245 367 250 339T258 301T261 274T263 225Q263 124 255 -41T239 -213Q236 -216 222 -216H217Q206 -216 204 -212T200 -186Q199 -175 199 -168Q181 38 181 225Q181 265 182 280T191 327T204 405V412H201Q196 412 157 401T98 390Q76 390 66 403T55 431T65 458T98 472Q116 472 155 462T205 449Q204 452 204 460T201 490T193 547Q182 619 182 655V675',
    0x2021: '181 658Q181 705 222 705T263 658Q263 633 252 572T240 497Q240 496 241 496Q243 496 285 507T345 519Q365 519 376 508T388 478Q388 466 384 458T375 447T361 438H344Q318 438 282 448T241 459Q240 458 240 456Q240 449 251 384T263 297Q263 278 255 267T238 253T222 250T206 252T190 266T181 297Q181 323 192 383T204 458Q204 459 203 459Q198 459 162 449T101 438H84Q74 443 70 446T61 457T56 478Q56 497 67 508T99 519Q117 519 159 508T203 496Q204 496 204 499Q204 507 193 572T181 658ZM181 202Q181 249 222 249T263 202Q263 185 259 161T249 103T240 48V41H243Q248 41 287 52T346 63T377 52T389 22Q389 8 379 -5T346 -19Q327 -19 288 -8T243 3H240V-4Q243 -24 249 -58T259 -117T263 -158Q263 -177 255 -188T238 -202T222 -205T206 -203T190 -189T181 -158Q181 -141 185 -117T195 -59T204 -4V3H201Q196 3 157 -8T98 -19Q76 -19 66 -6T55 22T65 49T98 63Q117 63 156 52T201 41H204V48Q201 68 195 102T185 161T181 202',
    0x2022: '55 251Q55 328 112 386T249 444T386 388T444 249Q444 171 388 113T250 55Q170 55 113 112T55 251',
    0x2026: '78 60Q78 84 95 102T138 120Q162 120 180 104T199 61Q199 36 182 18T139 0T96 17T78 60ZM525 60Q525 84 542 102T585 120Q609 120 627 104T646 61Q646 36 629 18T586 0T543 17T525 60ZM972 60Q972 84 989 102T1032 120Q1056 120 1074 104T1093 61Q1093 36 1076 18T1033 0T990 17T972 60',
    0x2032: '79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43',
    0x2035: '12 501Q12 527 31 542T63 558Q73 560 77 560Q114 560 128 528Q133 518 188 293T244 61Q244 56 223 50T195 43Q192 43 190 45T102 263T14 486Q12 496 12 501',
    0x203E: '69 544V590H430V544H69',
    0x2044: '423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750',
    0x2060: '',
    0x2061: '',
    0x2062: '',
    0x2063: '',
    0x2064: '',
    0x20D7: '377 694Q377 702 382 708T397 714Q404 714 409 709Q414 705 419 690Q429 653 460 633Q471 626 471 615Q471 606 468 603T454 594Q411 572 379 531Q377 529 374 525T369 519T364 517T357 516Q350 516 344 521T337 536Q337 555 384 595H213L42 596Q29 605 29 615Q29 622 42 635H401Q377 673 377 694',
    0x2102: '684 131Q684 125 672 109T633 71T573 29T489 -5T386 -19Q330 -19 276 -3T174 46T91 134T44 261Q39 283 39 341T44 421Q66 538 143 611T341 699Q344 699 364 700T395 701Q449 698 503 677T585 655Q603 655 611 662T620 678T625 694T639 702Q650 702 657 690V481L653 474Q640 467 628 472Q624 476 618 496T595 541Q562 587 507 625T390 663H381Q337 663 299 625Q212 547 212 336Q212 249 233 179Q274 30 405 30Q533 30 641 130Q658 147 666 147Q671 147 677 143T684 131ZM250 625Q264 643 261 643Q238 635 214 620T161 579T110 510T79 414Q74 384 74 341T79 268Q89 213 113 169T164 101T217 61T260 39L277 34Q270 41 264 48Q199 111 181 254Q178 281 178 344T181 434Q200 559 250 625ZM621 565V625Q617 623 613 623Q603 619 590 619H575L588 605Q608 583 610 579L621 565',
    0x210B: '331 505Q331 519 382 574T472 629H480Q512 629 529 614T547 576Q547 555 534 532T520 504Q520 493 549 493Q590 493 623 506T668 533L681 546Q731 600 772 641T832 700T852 717Q857 717 860 711T865 697L866 690Q866 688 813 617T708 475T656 403Q682 403 714 404H771L780 416Q1004 707 1167 707Q1209 707 1225 689T1241 646Q1241 604 1209 547T1118 447Q1081 422 1034 405T952 382T888 374T857 370H852L826 334Q733 204 708 144Q691 104 691 76Q691 29 748 29Q768 31 791 48T831 83T862 122T881 146Q883 148 900 148H917Q921 143 921 140T914 127Q810 -8 723 -8Q611 -4 611 100Q611 142 631 191T676 275T721 337T742 367Q716 367 685 366H628L620 355Q618 352 558 268Q486 168 461 141Q405 79 339 34T215 -28Q188 -36 153 -36Q86 -36 58 -11T29 46Q29 82 55 120T123 158Q144 158 154 146T164 119Q164 102 143 89T100 75Q92 75 86 76T77 80T72 82Q67 82 67 60Q67 28 99 14T170 0Q214 0 272 47T419 224L505 340L518 357Q513 357 504 356T467 347T415 330T360 300T308 253Q296 238 295 237H278H274Q256 237 256 243Q256 248 263 256Q291 294 330 321T407 362T476 382T530 393T552 398Q556 402 573 423T600 454Q602 457 604 460T608 465L610 467Q565 455 532 455Q465 455 449 483Q447 487 447 498Q447 513 463 538T479 579Q479 593 463 593Q436 593 385 519Q374 504 371 502T360 499H353H349Q331 499 331 505ZM1195 634Q1195 643 1195 648T1185 662T1157 671Q1130 671 1092 644T1019 579T952 502T901 436L882 409L891 410Q900 411 913 412T934 415Q1081 439 1144 520Q1195 590 1195 634',
    0x210C: '11 -16L1 0Q7 6 25 27T57 62T91 88T128 101Q159 99 195 66L203 59L211 67Q239 95 239 133Q239 158 210 213T152 330T123 430Q123 477 173 536T269 630T320 666Q376 610 440 606H443Q457 606 466 611T519 647L542 664Q543 664 543 654V643L522 622Q434 537 403 537Q388 537 366 543T329 555T293 570T270 580L261 585L253 574Q206 517 206 475Q206 452 218 416T242 356L255 331Q256 331 270 345T324 391T421 459L437 468H453Q545 463 608 421L618 415L623 392Q644 307 644 233Q644 97 612 9Q604 -10 601 -15T581 -35Q505 -104 467 -124Q446 -133 431 -133Q414 -132 399 -126T376 -115T368 -107Q368 -106 392 -75L415 -43Q432 -67 444 -73T472 -79H474Q479 -79 484 -78T501 -69T521 -50T538 -13T551 46Q558 97 558 180Q558 232 557 245Q553 277 547 300T528 349T488 389T424 404Q344 404 276 295Q272 288 273 285Q300 216 300 168Q300 161 300 156T298 145T297 137T293 129T289 123T283 116T277 107Q212 23 178 -13L166 -26L149 -9Q108 32 81 32Q63 32 21 -7L11 -16',
    0x210D: '14 666Q14 675 26 683H344L351 679Q361 665 351 655Q344 648 317 648Q287 645 282 641Q270 637 269 623T266 497V370H511V497Q511 519 510 553Q509 615 507 626T496 641H495Q489 645 459 648Q420 648 420 665Q420 672 426 679L433 683H751Q762 676 762 666Q762 648 724 648Q684 645 677 632Q675 626 675 341Q675 57 677 52Q684 38 724 35Q762 35 762 16Q762 6 751 -1H433L426 3Q420 10 420 17Q420 35 459 35Q501 38 506 52Q511 64 511 190V323H266V190Q266 60 271 52Q276 38 317 35Q342 35 351 28Q360 17 351 3L344 -1H26Q14 5 14 16Q14 35 53 35Q94 38 99 52Q104 60 104 341T99 632Q93 645 53 648Q14 648 14 666ZM233 341V553Q233 635 239 648H131Q134 641 135 638T137 603T139 517T139 341Q139 131 138 89T132 37Q131 36 131 35H239Q233 47 233 129V341ZM639 341V489Q639 548 639 576T640 620T642 639T646 648H537L542 639Q546 625 546 341Q546 130 545 88T538 37Q537 36 537 35H646Q643 41 643 42T641 55T639 84T639 140V341',
    0x210E: '137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683',
    0x210F: '150 475Q147 475 118 466T82 457Q73 457 64 467T54 487Q54 490 55 492Q63 506 64 506Q67 512 118 526Q162 541 169 546Q173 559 175 575Q181 596 181 604Q181 613 166 617Q164 617 153 618T135 619Q119 619 114 621T109 630Q109 636 114 656T122 681Q125 685 202 688Q272 695 286 695Q304 695 304 684Q304 682 291 628L278 577L386 612Q466 635 476 635T492 627T499 607Q499 593 489 586Q485 583 373 546L262 512Q262 511 248 455T233 397T236 397T244 404Q295 441 357 441Q405 441 445 417T485 333Q485 284 449 178T412 58T426 44Q447 44 466 68Q485 87 500 130L509 152H531H543Q562 152 562 144Q562 128 546 93T494 23T415 -13Q385 -13 359 3T322 44Q318 52 318 77Q318 99 352 196T386 337Q386 386 346 386Q318 386 286 370Q267 361 245 338T211 292Q207 287 193 235T162 113T138 21Q128 7 122 4Q105 -12 83 -12Q66 -12 54 -2T42 26Q42 45 98 257L151 475H150',
    0x2110: '487 225Q398 255 398 342Q398 410 455 492Q491 545 552 582T669 636T800 673T918 712Q930 717 933 717Q939 717 942 706T946 689Q946 686 915 664T830 591T729 480Q691 429 657 351T615 260Q628 260 663 279T733 339T769 426Q769 442 767 459T764 479Q764 484 766 486Q769 488 781 493T797 498Q802 498 803 494T808 472Q813 442 813 425Q813 369 761 315Q692 246 605 224L592 220L584 209Q547 155 487 106T358 25Q270 -17 191 -17Q143 -17 101 1T59 59Q59 96 85 127T148 158Q169 158 179 146T189 119Q189 102 167 89T125 75Q116 75 109 77T101 81T97 80Q96 77 96 72Q96 50 123 36T204 21H216Q249 21 302 49T411 134Q439 161 459 187Q487 220 487 225ZM460 334Q460 308 472 290T498 268L510 263Q515 263 545 313T626 438T723 561Q751 589 775 609T808 636T817 644H816Q813 644 732 618Q681 601 645 584T585 548T549 514T518 476Q460 390 460 334',
    0x2111: '190 601Q161 601 137 587T97 553T71 512T55 477T48 463Q44 465 39 468L30 473L35 488Q73 594 106 636T199 685Q200 686 211 686Q250 686 326 652T417 617Q435 617 455 626T497 652T522 670Q532 660 532 654Q469 591 390 550L378 543L343 556Q223 601 190 601ZM378 208Q378 249 369 318T360 424Q360 430 360 439T361 451L362 462Q416 526 482 571L495 580L503 577L511 575L499 562Q442 502 442 465Q442 436 452 368T462 246Q462 169 442 128T385 56Q292 -26 195 -26Q150 -26 104 14L96 21L43 -16Q43 -15 43 -14T41 -10T38 0L48 13Q76 50 123 97L150 125Q154 131 159 131Q166 131 171 116T182 81T193 53Q199 43 216 33T261 22Q307 22 344 68Q378 113 378 208',
    0x2112: '572 704Q607 704 607 693Q607 681 590 664H588Q586 664 584 664T578 663Q504 658 434 592T363 457Q363 426 386 401Q417 371 481 361Q490 360 527 360H562Q565 363 595 404T666 494T755 596T854 682T945 717Q986 717 1010 696T1035 637Q1035 593 996 531T873 414Q809 378 753 360T674 338T651 333Q650 333 633 308T588 245T544 185Q498 126 426 78L413 68H414Q498 47 575 47Q626 47 676 74T755 139L762 148H779H783Q802 148 802 142Q802 137 795 129Q760 81 691 33T544 -16Q470 -16 366 20L341 29L331 24Q239 -17 155 -17H141Q90 -17 61 -12T23 1T14 22Q14 44 39 65T103 95Q126 101 180 101Q224 101 258 98T309 90T330 86Q332 86 353 103T389 135Q401 146 412 158T431 179T450 203T466 225T485 252T505 280L535 322H509Q391 322 340 362T289 452Q289 495 321 547T396 630Q438 665 486 684T572 704ZM978 635Q978 644 977 650T973 661T968 668T961 673T954 676T946 678T938 680Q929 680 925 677Q893 659 795 531T682 377Q683 377 711 385T755 401T801 421T856 453T906 495Q927 516 952 557T978 635ZM274 50Q274 51 258 54T216 61T166 65Q160 65 151 65T140 64Q115 58 102 48T88 31Q88 20 159 20Q191 20 219 27T261 42L274 50',
    0x2113: '345 104T349 104T361 95T369 80T352 59Q268 -20 206 -20Q170 -20 146 3T113 53T99 104L94 129Q94 130 79 116T48 86T28 70Q22 70 15 79T7 94Q7 98 12 103T58 147L91 179V185Q91 186 91 191T92 200Q92 282 128 400T223 612T336 705Q397 705 397 636V627Q397 453 194 233Q185 223 180 218T174 211T171 208T165 201L163 186Q159 142 159 123Q159 17 208 17Q228 17 253 30T293 56T335 94Q345 104 349 104ZM360 634Q360 655 354 661T336 668Q328 668 322 666T302 645T272 592Q252 547 229 467T192 330L179 273Q179 272 186 280T204 300T221 322Q327 453 355 590Q360 612 360 634',
    0x2115: '20 664Q20 666 31 683H142Q256 683 258 681Q259 680 279 653T342 572T422 468L582 259V425Q582 451 582 490T583 541Q583 611 573 628T522 648Q500 648 493 654Q484 665 493 679L500 683H691Q702 676 702 666Q702 657 698 652Q688 648 680 648Q633 648 627 612Q624 601 624 294V-8Q616 -20 607 -20Q601 -20 596 -15Q593 -13 371 270L156 548L153 319Q153 284 153 234T152 167Q152 103 156 78T172 44T213 34Q236 34 242 28Q253 17 242 3L236 -1H36Q24 6 24 16Q24 34 56 34Q58 35 69 36T86 40T100 50T109 72Q111 83 111 345V603L96 619Q72 643 44 648Q20 648 20 664ZM413 419L240 648H120L136 628Q137 626 361 341T587 54L589 68Q589 78 589 121V192L413 419',
    0x2118: '300 74Q300 133 338 133Q350 133 356 126T363 109Q363 88 340 76Q340 71 342 62T358 39T393 26Q435 26 474 67T532 182T551 290Q551 325 535 349T484 373Q430 373 378 348T291 289T228 218T187 157T174 130Q254 30 265 10Q276 -15 276 -41Q276 -101 235 -158T142 -216Q112 -216 90 -195T67 -118Q67 -40 104 64L110 81Q81 118 81 174Q81 268 134 360T247 453Q252 453 255 451T258 447L259 445Q259 432 253 420Q251 416 242 416Q209 411 176 341T142 203Q142 193 143 184T146 170T149 165L158 180Q215 280 303 345T485 410Q548 410 586 368T625 255Q625 157 553 74T389 -10H383Q349 -10 325 14Q302 37 300 74ZM105 -123Q105 -134 106 -141T110 -158T122 -173T145 -178Q155 -178 160 -176Q184 -163 199 -132T214 -73Q214 -69 214 -66T213 -59T212 -53T209 -47T205 -41T199 -33T193 -25T184 -14T174 -1L165 10Q156 22 148 32L139 43Q138 43 130 15T113 -54T105 -123',
    0x2119: '16 666Q16 675 28 683H195Q334 683 370 682T437 672Q511 657 554 611T597 495Q597 343 404 309Q402 308 401 308Q381 303 319 303H261V181Q261 157 262 120Q262 60 267 50T304 36Q310 35 313 35Q352 35 352 17Q352 10 346 3L339 -1H28Q16 5 16 16Q16 35 53 35Q68 36 75 37T87 42T95 52Q98 61 98 341T95 630Q91 640 83 643T53 648Q16 648 16 666ZM235 35Q228 46 227 84Q226 129 226 337V621L230 635L237 648H128Q128 647 133 632Q136 620 136 341Q136 64 133 50L128 35H235ZM301 341H313Q339 341 354 344T389 362T417 410T426 498Q426 586 401 616T322 647Q301 647 293 643Q271 637 264 621Q261 617 261 479V341H301ZM429 350Q431 350 443 353T476 367T515 391T548 432T562 490Q562 550 524 592Q507 607 484 619Q481 621 448 635L433 639L439 621Q462 578 462 506Q462 448 454 413T437 366T428 350H429',
    0x211A: '480 -10Q480 -13 486 -24T507 -50T541 -80T588 -104T648 -114Q666 -114 688 -110T714 -106Q724 -106 728 -114T729 -130Q723 -145 663 -163T548 -181Q503 -181 463 -169T395 -139T343 -97T307 -56T284 -19L280 -3L262 1Q188 24 131 81Q57 155 37 275Q34 292 34 342T37 410Q58 528 131 601Q179 652 248 676T388 701Q485 701 562 661Q698 595 731 448Q742 410 742 341T731 235Q707 141 646 81Q616 50 575 27T493 -5L480 -10ZM568 342Q568 613 437 659L395 666Q329 666 286 626Q232 570 213 439Q210 408 210 342T213 246Q231 113 286 57Q309 37 342 23Q357 19 389 19Q420 19 437 23Q469 38 491 57Q568 134 568 342ZM174 341V354Q174 393 175 419T183 484T205 561T246 635L249 639Q246 639 224 627T193 608Q189 606 183 601T169 589T155 577Q69 491 69 344Q69 133 231 52Q247 42 247 46Q247 46 246 48Q231 69 222 85T200 141T177 239Q174 269 174 341ZM708 341Q708 410 689 467T640 556T588 606T546 630Q532 638 531 638Q530 638 531 635Q563 590 577 543Q602 472 602 341V316Q602 264 599 230T580 144T531 48Q529 44 532 45T546 52Q575 68 596 84T642 128T683 200T706 299Q708 327 708 341ZM391 -17H333Q329 -15 326 -15Q324 -15 324 -17Q324 -21 362 -68Q424 -130 506 -143Q518 -144 544 -144Q569 -144 577 -143L589 -141L575 -139Q544 -127 509 -101T453 -37L442 -19L391 -17',
    0x211B: '224 266Q185 266 156 286T127 354Q127 419 176 487T282 594Q346 642 433 679T615 717Q732 717 802 680L815 673Q824 680 840 690T860 700Q864 700 867 693T872 680L873 673Q873 668 858 659L845 651L853 642Q887 605 887 561Q887 500 840 439Q790 379 681 336Q693 312 693 292Q692 276 689 263T672 229T653 198T620 152L575 87Q557 57 557 33Q557 24 560 17T566 8L569 5Q546 5 508 25T470 76Q470 83 473 92T545 198T616 310Q616 317 615 318T612 319Q603 319 575 315H560L545 291Q492 201 429 135T277 23Q202 -17 142 -17H130Q50 -17 16 17Q-2 35 -2 57Q-2 95 24 126T88 158Q106 158 116 147T127 121Q127 110 122 102Q116 93 99 84T63 75Q58 75 53 76T47 77T45 75T44 67Q45 52 57 42T88 27T120 21T144 19Q174 19 208 36T267 76T324 134T369 189T406 239Q462 319 504 374T616 503T755 631L770 644Q767 647 753 654T697 670T602 680Q493 680 399 631T247 516Q218 485 193 440T168 359Q168 328 188 316T234 303Q255 303 273 315T304 340T343 389T390 448Q428 490 441 510T456 548Q456 557 458 559Q459 560 476 567T496 575Q505 575 505 558Q505 511 434 412Q429 406 427 403Q397 360 378 343Q342 308 300 287T224 266ZM819 564Q819 595 800 619L784 606Q729 557 692 512T605 387L591 365L610 364Q622 364 631 363T641 361Q643 361 651 363Q725 388 772 449T819 564ZM794 141Q794 123 725 63T612 3Q609 3 612 5Q612 5 615 7Q639 19 678 57T742 131L755 148H772H780Q794 148 794 141ZM588 -3Q590 0 593 0H594L593 -1Q592 -1 590 -2L588 -3',
    0x211C: '27 496Q31 569 102 627T234 685Q236 685 241 685T251 686Q287 686 318 672T367 638T399 598T418 564L423 550Q424 554 434 567T463 601T505 639T561 671T626 685Q672 685 688 659T710 572Q713 533 721 523T766 513Q781 513 787 514T794 516Q796 512 798 509T801 504T802 501T787 493Q702 461 624 401L607 389Q655 383 688 358L697 352V342Q699 330 699 297Q704 209 710 173T734 103Q751 69 765 69Q769 69 806 83L824 90V74Q823 73 759 24T693 -26Q692 -26 660 32L628 90L629 111Q631 159 631 177Q631 278 614 300Q584 340 523 340Q500 340 467 333T431 325Q429 325 429 322Q428 321 426 308T420 275T410 230T392 178T366 125L358 112L342 99Q306 70 269 38T213 -10T193 -26Q192 -26 163 0T116 26Q82 26 50 -8L42 -16L35 -8L27 0L35 10Q43 21 58 38T104 80T158 106Q179 106 218 65L235 48Q238 48 255 60T295 99T329 158Q352 231 352 359Q352 555 242 614Q210 628 187 628Q140 628 116 600T91 548Q91 522 138 464T185 382V376Q185 345 158 313T103 263L76 246Q74 244 64 253L54 260L65 267Q91 285 100 302Q111 318 111 337Q111 355 69 410T27 496ZM562 628Q504 628 443 507L435 491L436 479Q437 471 437 446Q437 396 432 351L529 389L602 426Q673 462 673 463H672Q644 470 637 483T622 553Q608 628 562 628',
    0x211D: '17 665Q17 672 28 683H221Q415 681 439 677Q461 673 481 667T516 654T544 639T566 623T584 607T597 592T607 578T614 565T618 554L621 548Q626 530 626 497Q626 447 613 419Q578 348 473 326L455 321Q462 310 473 292T517 226T578 141T637 72T686 35Q705 30 705 16Q705 7 693 -1H510Q503 6 404 159L306 310H268V183Q270 67 271 59Q274 42 291 38Q295 37 319 35Q344 35 353 28Q362 17 353 3L346 -1H28Q16 5 16 16Q16 35 55 35Q96 38 101 52Q106 60 106 341T101 632Q95 645 55 648Q17 648 17 665ZM241 35Q238 42 237 45T235 78T233 163T233 337V621L237 635L244 648H133Q136 641 137 638T139 603T141 517T141 341Q141 131 140 89T134 37Q133 36 133 35H241ZM457 496Q457 540 449 570T425 615T400 634T377 643Q374 643 339 648Q300 648 281 635Q271 628 270 610T268 481V346H284Q327 346 375 352Q421 364 439 392T457 496ZM492 537T492 496T488 427T478 389T469 371T464 361Q464 360 465 360Q469 360 497 370Q593 400 593 495Q593 592 477 630L457 637L461 626Q474 611 488 561Q492 537 492 496ZM464 243Q411 317 410 317Q404 317 401 315Q384 315 370 312H346L526 35H619L606 50Q553 109 464 243',
    0x2124: '39 -1Q29 9 29 12Q29 23 60 77T219 337L410 648H364Q261 648 210 628Q168 612 142 588T109 545T97 509T88 490Q85 489 80 489Q72 489 61 503L70 588Q72 607 75 628T79 662T81 675Q84 677 88 681Q90 683 341 683H592Q604 673 604 666Q604 662 412 348L221 37Q221 35 301 35Q406 35 446 48Q504 68 543 111T597 212Q602 239 617 239Q624 239 629 234T635 223Q635 215 621 113T604 8L597 1Q595 -1 317 -1H39ZM148 637L166 648H112V632Q111 629 110 622T108 612Q108 608 110 608T116 612T129 623T148 637ZM552 646Q552 648 504 648Q452 648 450 643Q448 639 266 343T77 37Q77 35 128 35H179L366 339L552 646ZM572 35Q581 89 581 97L561 77Q542 59 526 48L508 37L539 35H572',
    0x2126: '55 454Q55 503 75 546T127 617T197 665T272 695T337 704H352Q396 704 404 703Q527 687 596 615T666 454Q666 392 635 330T559 200T499 83V80H543Q589 81 600 83T617 93Q622 102 629 135T636 172L637 177H677V175L660 89Q645 3 644 2V0H552H488Q461 0 456 3T451 20Q451 89 499 235T548 455Q548 512 530 555T483 622T424 656T361 668Q332 668 303 658T243 626T193 560T174 456Q174 380 222 233T270 20Q270 7 263 0H77V2Q76 3 61 89L44 175V177H84L85 172Q85 171 88 155T96 119T104 93Q109 86 120 84T178 80H222V83Q206 132 162 199T87 329T55 454',
    0x2127: '126 584Q119 584 110 539T97 493Q95 490 73 490Q44 490 44 501Q44 515 62 590Q75 672 82 679Q84 684 177 684Q193 684 214 684T241 685Q265 685 271 682T277 664V648Q271 572 229 434T186 231Q186 173 203 132T247 70T302 42T360 33Q391 33 419 42T474 72T517 133T533 231Q533 297 491 437T442 648Q442 675 446 679Q448 684 542 684Q635 684 637 681Q640 678 657 594T675 501Q675 490 646 490Q624 490 622 493Q620 493 609 538T593 584Q591 585 585 585T569 586T551 588H513Q514 586 518 573T538 531T582 453Q647 340 660 277Q663 259 663 232Q663 194 657 177Q652 151 629 112T560 39Q495 -5 424 -19Q403 -22 360 -22Q318 -22 297 -19Q239 -8 193 18T120 74T80 131T62 177Q56 194 56 229Q56 281 74 328T137 453Q160 491 174 518T193 555T201 575T206 588H168Q160 587 150 587T134 586T126 584',
    0x2128: '148 590Q95 592 91 627V633L160 729H176Q169 713 169 705Q169 670 244 670Q269 670 305 672T357 675Q405 675 432 661T468 609Q469 605 469 596Q469 572 460 540Q433 463 301 372Q325 378 359 378Q431 378 472 350T519 297Q532 249 532 198Q532 115 500 40T442 -57Q335 -139 202 -139Q165 -139 125 -131L112 -129V-100Q112 -49 106 -33T75 -17Q55 -17 31 -35L22 -42L11 -26L22 -18Q94 36 151 36H160Q171 36 178 33T188 27T194 13T196 -5T197 -32Q198 -79 206 -90Q217 -107 251 -107Q336 -107 389 -33T442 155Q442 240 407 274Q362 319 285 319Q236 319 192 298Q188 298 181 309L224 372Q227 373 234 374T246 376T257 379T271 384T285 391T302 402T321 417Q384 471 384 540Q384 562 366 581T306 600Q292 600 233 595T148 590',
    0x212C: '256 262Q161 262 161 351Q161 408 203 471T289 570Q380 645 475 676T617 707L627 708Q637 708 644 708Q759 708 831 675L844 669L857 677Q892 700 896 700Q902 700 907 685Q907 683 907 681T908 678T909 676T909 673Q909 671 909 670T906 667T903 664T897 660T889 655L878 647L889 636Q928 598 928 548Q928 529 923 510T907 474T886 442T861 412T837 388T815 368T800 355Q847 323 847 270V263Q847 205 806 145Q766 82 695 37T564 -8Q527 -8 506 10T484 58Q484 85 501 117T543 172Q607 226 685 228Q695 228 698 226Q703 220 692 206Q684 194 682 193T665 191Q625 189 595 172T550 133T529 93T522 66Q522 29 576 29Q642 29 705 109Q785 211 785 270Q785 287 779 300T769 316T755 327L740 319Q682 290 634 290Q611 290 592 294H588L565 261Q559 252 544 231T522 201T504 178T481 151T455 123Q394 63 314 18T159 -28Q103 -28 67 -6T31 54Q31 88 57 123T123 158Q144 158 154 146T164 119Q164 102 142 89T100 75Q94 75 87 77T76 80L72 81Q69 78 69 65Q69 35 102 22T175 9Q184 9 198 11Q248 23 300 70T403 187T508 331T636 489T789 629L801 639Q796 642 786 647T732 661T633 670Q592 670 558 665Q481 651 409 613T286 520Q274 507 258 485T222 424T202 354Q202 299 269 299Q282 299 295 301T318 307T339 317T358 329T376 345T391 362T406 380T420 398T433 417T445 435Q496 512 496 547Q496 559 497 560T516 569Q526 574 530 574Q538 574 538 540Q538 414 427 325Q342 262 256 262ZM689 382Q708 382 753 375L765 387Q860 482 860 555Q860 594 839 610L822 592Q794 563 752 511T680 420T651 380Q655 381 660 381Q664 382 689 382ZM697 344Q692 345 681 345H675Q671 345 665 345T655 344T650 344L648 342Q646 339 645 338Q643 333 639 327H653Q670 329 676 330Q706 342 706 343Q702 344 697 344',
    0x212D: '299 585Q333 609 384 634T470 672L505 685Q506 685 513 662T531 613T548 580Q553 576 563 576Q575 576 605 585Q607 585 607 575V564Q537 532 496 527Q475 542 456 567T427 610T415 627Q410 627 398 618T382 603Q373 588 373 558T386 475T400 399Q400 337 366 303Q343 281 309 266T254 247T226 242L214 257Q214 258 223 260T251 272T287 299Q304 316 304 360Q304 396 289 451T274 532Q274 553 277 561V564H269Q205 558 172 501T139 358Q139 207 226 127T443 46Q448 46 457 46T470 47L485 48L601 106Q602 106 602 93V80Q551 48 517 25T474 -4T460 -13T443 -19Q409 -24 367 -24Q360 -24 351 -24T335 -23T326 -22Q190 -2 125 87T59 319V328Q62 412 96 487L101 500L118 512Q189 563 245 591L266 601L299 585',
    0x2130: '280 398L279 400Q278 402 277 405T275 413T272 426T271 443Q271 494 302 544T379 629T472 685T553 707H565H573Q630 707 664 689Q718 661 718 604Q718 548 662 492T553 436Q525 436 508 451T490 492Q490 534 531 579T619 630Q632 630 632 623Q632 619 624 606Q614 593 602 592T578 580Q566 568 549 541T532 497Q532 474 565 474Q577 474 587 476Q600 481 611 489Q630 503 651 535T672 596Q672 660 553 660H548Q494 660 450 616Q421 587 384 531T343 439Q341 420 344 415H345Q346 415 352 415T369 417T391 418Q421 418 440 412T466 398T473 382Q473 367 452 353T398 339Q370 339 348 345T315 359L304 366Q297 365 284 360T234 321T163 234Q120 160 120 117Q120 83 149 57T252 30Q311 30 357 60Q386 79 414 114T452 179Q454 186 454 200Q454 230 415 242Q401 246 373 246Q353 246 347 244Q328 236 313 219T288 184T274 149T265 121T261 109Q260 107 247 102T230 97Q223 97 223 105Q223 148 271 216T386 284Q446 284 483 260T520 195Q520 121 427 57T239 -8Q192 -8 152 2T79 46T46 133Q46 212 107 285T269 394L280 398ZM427 376Q427 377 402 380Q386 380 386 379L425 375L427 376',
    0x2131: '258 428Q258 489 322 562T482 685T661 735Q726 735 824 693T977 651Q990 651 990 644Q990 639 971 612T948 581Q947 580 938 580Q878 580 784 621T617 663Q544 663 480 635T379 568T320 492T299 431Q299 387 362 387Q404 387 438 402T493 438T527 486T546 531T551 563Q551 569 550 575T549 584T549 590Q551 593 563 602T579 611Q584 611 592 605T608 584T616 548Q616 513 595 477T554 423Q518 392 464 372T349 351Q258 351 258 428ZM324 187T305 187T286 196Q286 202 301 217Q327 242 383 262T484 290L527 297L567 356Q624 441 643 467T688 521Q715 550 752 581T795 613T804 603T808 587T778 547T702 444T626 300H637Q663 302 685 306L697 308L703 317Q745 376 792 400Q806 406 818 406Q849 406 849 375Q847 355 831 338T797 312T763 296L747 290Q744 289 735 266T724 241Q722 240 702 232T664 217T645 210Q638 210 638 218Q638 224 653 246T669 270Q669 271 668 271Q663 270 624 264L607 263Q570 199 529 152Q513 133 484 106T409 45T305 -13T193 -36Q109 -36 74 -10T39 50Q39 86 64 121T128 158Q171 158 171 121Q171 97 141 83Q125 75 107 75Q93 75 80 83Q76 71 76 62Q76 29 117 15T207 0Q324 0 494 248L501 258H495Q368 239 330 195Q324 187 305 187ZM775 335Q806 358 806 368Q805 369 804 369Q800 369 791 360Q774 336 775 335',
    0x2132: '457 681Q471 695 477 695Q485 695 497 681V12L484 -1H68Q55 14 55 19T68 39H457V328H215L211 335Q198 346 211 359L217 368H457V681',
    0x2133: '112 -7Q86 -7 58 6T30 48T54 103T113 130Q129 130 141 121T153 94Q153 71 132 59T90 47H80Q95 30 133 30Q180 30 228 63T311 137T402 249T500 361Q566 425 703 529T910 693Q942 721 945 721T958 716T970 709Q974 704 964 691Q961 688 905 622T847 554L595 181Q553 121 527 77T496 19L492 5Q497 5 531 46Q579 98 685 224T850 409L972 524Q994 543 1004 556Q1012 567 1097 643T1186 720Q1194 720 1206 715T1215 703Q1215 701 1191 671T1133 599T1080 530Q1036 461 983 357T862 152Q802 64 799 17Q799 7 800 5T811 2Q836 2 882 37T969 126Q972 130 974 134T978 138T983 139T996 140H1012Q1018 134 1018 132Q1018 122 981 83T889 4T795 -35Q761 -35 745 -12T728 48Q728 122 781 190Q833 269 890 370L927 434L914 422Q848 360 752 245Q643 117 582 51T498 -33T461 -50Q424 -48 424 -4Q424 84 481 172L714 495Q591 406 523 333Q507 316 430 226T313 95Q263 48 221 24T162 -4T120 -7H112',
    0x2135: '55 613Q55 643 61 663T74 688T85 694Q94 694 94 681Q98 632 134 588L412 285Q416 311 430 397T447 509V519L438 526Q407 554 398 571T388 617T394 664T407 688T418 694Q425 694 427 684Q429 675 454 635T488 586Q490 584 496 579T513 563T537 540Q555 516 555 487Q555 460 549 441T537 416T528 409Q519 409 517 415T513 435T503 463Q492 481 490 481Q454 264 454 246Q454 237 479 212T529 152T555 79Q555 32 538 9Q531 1 524 1Q516 1 516 13Q512 62 476 106Q468 115 337 258T195 412L193 406Q191 401 189 394T183 377T176 352T171 322T167 284T165 240Q165 224 166 220Q171 199 211 152T252 70Q252 45 235 29T203 8T175 1Q170 0 115 0H79Q60 0 58 3T55 20Q55 31 58 34Q60 37 76 37Q112 39 126 46T140 70Q140 96 112 148T83 236Q83 281 102 334T140 419T159 452Q55 556 55 613',
    0x2136: '56 706V726Q56 763 76 763Q83 763 87 759T98 741Q108 726 116 721L127 717L340 715Q547 712 564 709Q575 705 587 692Q599 680 605 663L609 650V137H676Q687 124 687 115Q687 110 678 100T622 43L558 -21H-9Q-22 -6 -22 -1T-13 14T42 72L107 137H569V339Q569 541 567 546Q558 555 554 557L545 563H329Q118 566 101 569Q90 573 78 586Q54 610 54 661Q54 670 56 706',
    0x2137: '56 750Q68 764 76 764Q88 764 97 743T125 717Q131 715 240 715T358 713Q421 691 421 640Q421 608 399 588T358 566Q353 566 352 565T351 557L356 526Q356 488 379 346T402 97Q400 21 385 -12Q366 -43 351 -43Q335 -43 329 -10Q316 40 316 64Q316 67 315 67Q313 67 269 26L222 -21H-9Q-22 -7 -22 -1Q-22 4 -14 14T42 73L107 137H311V564H211H164Q115 564 93 573T60 615Q56 630 56 690V750',
    0x2138: '62 757Q69 764 75 764Q87 764 97 741Q102 731 105 728T117 721L129 715H349Q569 715 580 710Q618 701 635 670Q640 661 640 639Q640 609 622 590Q617 583 604 575T580 566H573V553Q575 547 576 531T582 469T600 353Q624 205 624 104Q624 46 617 17T591 -32Q581 -43 573 -43Q550 -43 540 44Q535 73 533 319V564H322Q117 566 100 570Q90 573 77 586Q54 609 54 663Q54 689 55 706Q55 738 56 745T62 757',
    0x2141: '239 665Q194 665 154 653T90 629T66 617Q59 617 53 623T46 637Q46 652 66 659Q129 695 197 701Q218 705 248 705Q293 705 335 693Q371 684 435 644Q543 562 573 417Q577 393 577 341Q577 290 573 266Q531 83 384 10Q346 -9 315 -16T234 -23H206Q202 -23 183 -23T152 -21T120 -18T88 -10T63 3T44 24L37 35V297L50 310H235Q248 297 248 290Q248 285 235 270H77V103Q77 88 77 80T77 63T78 50T80 43T82 38T85 35T89 32T95 30Q126 20 206 17Q289 17 330 30Q407 55 460 120T533 275Q538 305 538 342Q538 486 452 575T239 665',
    0x2190: '944 261T944 250T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H929Q944 261 944 250',
    0x2191: '27 414Q17 414 17 433Q17 437 17 439T17 444T19 447T20 450T22 452T26 453T30 454T36 456Q80 467 120 494T180 549Q227 607 238 678Q240 694 251 694Q259 694 261 684Q261 677 265 659T284 608T320 549Q340 525 363 507T405 479T440 463T467 455T479 451Q483 447 483 433Q483 413 472 413Q467 413 458 416Q342 448 277 545L270 555V-179Q262 -193 252 -193H250H248Q236 -193 230 -179V555L223 545Q192 499 146 467T70 424T27 414',
    0x2192: '56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250',
    0x2193: '473 86Q483 86 483 67Q483 63 483 61T483 56T481 53T480 50T478 48T474 47T470 46T464 44Q428 35 391 14T316 -55T264 -168Q264 -170 263 -173T262 -180T261 -184Q259 -194 251 -194Q242 -194 238 -176T221 -121T180 -49Q169 -34 155 -21T125 2T95 20T67 33T44 42T27 47L21 49Q17 53 17 67Q17 87 28 87Q33 87 42 84Q158 52 223 -45L230 -55V312Q230 391 230 482T229 591Q229 662 231 676T243 693Q244 694 251 694Q264 692 270 679V-55L277 -45Q307 1 353 33T430 76T473 86',
    0x2194: '263 479Q267 501 271 506T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H835Q729 349 696 475Q691 493 691 500Q691 511 711 511Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q144 292 194 349T263 479',
    0x2195: '27 492Q17 492 17 511Q17 515 17 517T17 522T19 525T20 528T22 530T26 531T30 532T36 534Q80 545 120 572T180 627Q210 664 223 701T238 755T250 772T261 762Q261 757 264 741T282 691T319 628Q352 589 390 566T454 536L479 529Q483 525 483 511Q483 491 472 491Q467 491 458 494Q342 526 277 623L270 633V-133L277 -123Q307 -77 353 -45T430 -2T473 8Q483 8 483 -11Q483 -15 483 -17T483 -22T481 -25T480 -28T478 -30T474 -31T470 -32T464 -34Q407 -49 364 -84T300 -157T270 -223T261 -262Q259 -272 250 -272Q242 -272 239 -255T223 -201T180 -127Q169 -112 155 -99T125 -76T95 -58T67 -45T44 -36T27 -31L21 -29Q17 -25 17 -11Q17 9 28 9Q33 9 42 6Q158 -26 223 -123L230 -133V633L223 623Q192 577 146 545T70 502T27 492',
    0x2196: '204 662Q257 662 301 676T369 705T394 720Q398 720 407 711T417 697Q417 688 389 671T310 639T212 623Q176 623 153 628Q151 628 221 557T546 232Q942 -164 943 -168Q944 -170 944 -174Q944 -182 938 -188T924 -195Q922 -195 916 -193Q912 -191 517 204Q440 281 326 394T166 553L121 598Q126 589 126 541Q126 438 70 349Q59 332 52 332Q48 332 39 341T29 355Q29 358 38 372T57 407T77 464T86 545Q86 583 78 614T63 663T55 683Q55 693 65 693Q73 693 82 688Q136 662 204 662',
    0x2197: '582 697Q582 701 591 710T605 720Q607 720 630 706T697 677T795 662Q830 662 863 670T914 686T934 694Q942 694 944 685Q944 680 936 663T921 615T913 545Q913 490 927 446T956 379T970 355Q970 351 961 342T947 332Q940 332 929 349Q874 436 874 541Q874 590 878 598L832 553Q787 508 673 395T482 204Q87 -191 83 -193Q77 -195 75 -195Q67 -195 61 -189T55 -174Q55 -170 56 -168Q58 -164 453 232Q707 487 777 557T847 628Q824 623 787 623Q689 623 599 679Q582 690 582 697',
    0x2198: '55 675Q55 683 60 689T75 695Q77 695 83 693Q87 691 482 296Q532 246 605 174T717 62T799 -20T859 -80T878 -97Q874 -93 874 -41Q874 64 929 151Q940 168 947 168Q951 168 960 159T970 145Q970 143 956 121T928 54T913 -45Q913 -83 920 -114T936 -163T944 -185Q942 -194 934 -194Q932 -194 914 -186T864 -170T795 -162Q743 -162 698 -176T630 -205T605 -220Q601 -220 592 -211T582 -197Q582 -187 611 -170T691 -138T787 -123Q824 -123 847 -128Q848 -128 778 -57T453 268Q58 664 56 668Q55 670 55 675',
    0x2199: '126 -41Q126 -92 121 -97Q121 -98 139 -80T200 -20T281 61T394 173T517 296Q909 690 916 693Q922 695 924 695Q932 695 938 689T944 674Q944 670 943 668Q942 664 546 268Q292 13 222 -57T153 -128Q176 -123 212 -123Q310 -123 400 -179Q417 -190 417 -197Q417 -201 408 -210T394 -220Q392 -220 369 -206T302 -177T204 -162Q131 -162 67 -194Q63 -195 59 -192T55 -183Q55 -180 62 -163T78 -115T86 -45Q86 10 72 54T44 120T29 145Q29 149 38 158T52 168Q59 168 70 151Q126 62 126 -41',
    0x219A: '942 250Q942 244 928 230H511L457 148Q440 124 420 93Q404 68 400 64T389 60Q381 60 375 66T368 81Q368 88 415 159L462 230H175L188 214Q210 188 235 145T264 85Q264 75 260 74T231 72L206 74L191 103Q169 142 164 150Q130 195 64 239Q56 244 56 250T64 261Q115 294 142 323T191 397L206 428H231Q255 428 259 426T264 414Q260 397 235 355T188 288L175 272L331 270Q488 270 491 272Q491 275 542 352T597 432Q602 437 609 437Q617 437 622 432T628 417T582 341L537 272L735 270H931Q942 257 942 250',
    0x219B: '54 250Q54 258 66 270H277L488 272L542 350Q596 431 602 435Q604 437 609 437Q617 437 622 432T628 417T582 341L537 272L608 270H751L822 272L808 288Q786 313 761 355T733 414Q733 424 737 426T766 428H793L806 397Q829 354 864 314Q896 284 928 263Q942 257 942 250T928 237Q887 208 864 185Q829 147 806 103L793 74L766 72Q742 72 738 73T733 85Q735 102 756 137T797 198L817 225L822 230H511L457 148Q440 124 420 93Q404 68 400 64T389 60Q381 60 375 66T368 81Q368 88 415 159L462 230H264L66 232Q54 239 54 250',
    0x219E: '56 250Q103 277 142 322T199 417H221Q244 417 244 416Q244 414 237 397T208 344T158 278L151 270H276L285 277Q322 306 349 345T388 417H434Q434 413 424 392T393 338T349 279L340 270H634Q933 270 937 266L938 265Q944 259 944 250T938 235L937 234Q933 230 634 230H340L349 221Q372 196 393 163T424 108T434 83H388Q377 116 350 155T285 223L276 230H151L158 222Q186 191 207 156T236 104T244 84Q244 83 221 83H199Q181 133 142 178T56 250',
    0x21A0: '943 250Q895 221 856 177T801 83H778Q755 83 755 84Q755 86 762 103T791 156T841 222L848 230H723L714 223Q677 194 650 155T611 83H565Q565 87 575 108T606 162T650 221L659 230H365Q66 230 62 234L61 235Q55 241 55 250T61 265L62 266Q66 270 365 270H659L650 279Q627 304 606 337T575 392T565 417H611Q622 384 649 345T714 277L723 270H848L841 278Q813 309 792 344T763 396T755 416Q755 417 778 417H801Q817 367 856 323T943 250',
    0x21A2: '56 250Q103 277 142 322T199 417H221Q244 417 244 416Q244 414 237 397T208 344T158 278L151 270H873L882 277Q919 306 946 345T985 417H1031Q1031 413 1021 392T990 338T946 279L937 270V230L946 221Q969 196 990 163T1021 108T1031 83H985Q974 116 947 155T882 223L873 230H151L158 222Q186 191 207 156T236 104T244 84Q244 83 221 83H199Q181 133 142 178T56 250',
    0x21A3: '1054 250Q1006 221 967 177T912 83H889Q866 83 866 84Q866 86 873 103T902 156T952 222L959 230H237L228 223Q191 194 164 155T125 83H79Q79 87 89 108T120 162T164 221L173 230V270L164 279Q141 304 120 337T89 392T79 417H125Q136 384 163 345T228 277L237 270H959L952 278Q924 309 903 344T874 396T866 416Q866 417 889 417H912Q928 367 967 323T1054 250',
    0x21A6: '95 155V109Q95 83 92 73T75 63Q61 63 58 74T54 130Q54 140 54 180T55 250Q55 421 57 425Q61 437 75 437Q88 437 91 428T95 393V345V270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H95V155',
    0x21A9: '903 424T903 444T929 464Q976 464 1023 434T1070 347Q1070 316 1055 292T1016 256T971 237T929 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270H926Q929 270 941 271T960 275T978 280T998 290T1015 307Q1030 325 1030 347Q1030 355 1027 364T1014 387T983 411T929 424H928Q903 424 903 444',
    0x21AA: '55 347Q55 380 72 404T113 441T159 458T197 464Q222 464 222 444Q222 429 204 426T157 417T110 387Q95 369 95 347Q95 339 98 330T111 307T142 283T196 270H961Q845 357 818 493Q818 494 818 496T817 499Q817 511 834 511H837Q846 511 849 510T855 506T858 497T861 481T869 456Q891 389 942 336T1061 261Q1070 258 1070 250Q1070 244 1065 241T1041 231T1003 212Q962 186 932 152T887 85T866 35T858 4Q856 -6 853 -8T837 -11Q817 -11 817 0Q817 7 822 25Q854 151 961 230H196Q149 230 102 260T55 347',
    0x21AB: '56 250Q103 277 142 322T199 417H221Q244 417 244 416Q244 414 237 397T208 344T158 278L151 270H622V305Q622 356 624 388T635 460T661 521T709 559T785 575Q813 575 833 573T880 561T923 534T952 483T964 405Q964 374 959 350T942 307T918 276T884 255T847 242T804 235T760 231T713 230H662V-27Q654 -41 644 -41H642H640Q628 -41 622 -27V230H151L158 222Q186 191 207 156T236 104T244 84Q244 83 221 83H199Q181 133 142 178T56 250ZM924 403Q924 474 894 505T794 536Q758 536 734 526T696 500T675 453T665 395T662 319V270H699Q826 270 875 295T924 403',
    0x21AC: '35 405Q35 454 48 489T86 542T137 567T195 575Q229 575 251 571T301 554T345 510T370 429Q377 384 377 305V270H848L841 278Q813 309 792 344T763 396T755 416Q755 417 778 417H801Q817 367 856 323T943 250Q896 221 857 177T801 83H778Q755 83 755 84Q755 86 762 103T791 156T841 222L848 230H377V-27Q369 -41 359 -41H357Q342 -41 337 -25V230H286Q247 231 225 232T169 238T115 255T75 284T45 333T35 405ZM75 406Q75 322 123 296T300 270H337V319Q335 432 317 477T240 534Q232 535 197 535Q140 535 108 507T75 406',
    0x21AD: '57 250Q159 311 200 417H246L242 407Q215 340 159 278L152 270H276L315 310Q354 349 358 351Q366 356 376 351Q378 350 455 273L530 196L606 273Q683 350 686 351Q694 354 703 351Q705 350 782 273L858 196L933 273Q1010 350 1012 351Q1022 356 1030 351Q1034 349 1073 310L1112 270H1236L1229 278Q1173 340 1146 407L1142 417H1188Q1233 306 1331 250Q1231 192 1188 83H1142L1146 93Q1173 160 1229 222L1236 230H1168Q1155 230 1139 230T1119 229Q1112 229 1108 229T1099 231T1092 233T1085 238T1078 245T1068 256T1056 269L1021 304L984 267Q948 230 910 191T867 149Q857 144 848 150Q844 151 770 227T694 304T618 228T540 150Q531 144 521 149Q517 152 479 191T404 267L367 304L332 269Q328 264 320 256T310 246T303 239T296 234T289 231T280 229T269 229Q265 229 249 229T220 230H152L159 222Q215 160 242 93L246 83H223L200 84L195 96Q152 190 57 250',
    0x21AE: '491 272Q491 275 542 352T597 432Q602 437 609 437Q617 437 622 432T628 417T582 341L537 272L608 270H751L822 272L808 288Q786 313 761 355T733 414Q733 424 737 426T766 428H793L806 397Q829 354 864 314Q896 284 928 263Q942 257 942 250T928 237Q887 208 864 185Q829 147 806 103L793 74L766 72Q742 72 738 73T733 85Q735 102 756 137T797 198L817 225L822 230H511L457 148Q440 124 420 93Q404 68 400 64T389 60Q381 60 375 66T368 81Q368 88 415 159L462 230H175L188 214Q210 188 235 145T264 85Q264 75 260 74T231 72L206 74L191 103Q169 142 164 150Q130 195 64 239Q56 244 56 250T64 261Q115 294 142 323T191 397L206 428H231Q255 428 259 426T264 414Q260 397 235 355T188 288L175 272L331 270Q488 270 491 272',
    0x21B0: '56 555Q74 567 79 570T107 592T141 625T170 667T198 722H221Q244 722 244 721Q244 718 236 699T207 647T161 587L151 576L291 575H292H293H294H296H297H298H299H300H301H302H304H305H306H307H308H309H310H311H312H314H315H316H317H318H319H320H321H322H323H324H325H327H328H329H330H331H332H333H334H335H336H337H338H339H340H341H342H343H345Q435 574 438 570L439 569L440 568Q444 564 444 287Q444 15 442 12Q436 0 424 0T406 12Q404 15 404 275V535H151L162 523Q187 495 207 462T236 410T244 389H198L193 402Q171 457 131 497T56 555',
    0x21B1: '301 722Q339 618 443 555L437 551Q431 547 422 541T401 526T377 504T352 477T327 443T306 402L301 389H255Q255 392 263 410T291 461T337 523L348 535H95V275Q95 15 93 12Q87 0 75 0T57 12Q55 15 55 287Q55 564 59 568L60 569Q64 573 76 573T208 575L348 576L338 587Q314 613 294 646T264 698T255 721Q255 722 278 722H301',
    0x21B6: '361 210Q373 210 373 182V177Q373 155 370 151T348 139Q303 118 267 84T216 28T201 1Q197 -1 196 -1Q189 -1 184 8Q166 39 143 64T99 104T61 129T32 144T19 150Q17 152 17 179Q17 203 21 208Q28 210 39 206Q106 178 157 135L175 119V126Q179 130 179 155Q182 173 193 201Q228 305 312 374T510 459Q532 461 551 461H567Q678 461 784 386Q835 344 861 301Q902 245 926 173T950 32Q950 15 944 8Q930 -6 917 8Q910 12 910 43Q901 208 801 314T561 421Q453 421 359 359Q300 319 263 258T217 126L216 125Q216 124 216 123T217 122Q219 122 229 131T260 156T301 181Q314 189 336 199T361 210',
    0x21B7: '972 209Q980 209 981 204T982 179Q982 155 979 151T957 139Q915 121 878 86T815 8Q808 -1 803 -1Q801 -1 797 1Q797 6 783 28T732 84T650 139L628 150Q626 152 626 177Q626 201 630 206Q636 210 637 210Q650 210 697 181Q727 166 764 137L784 119L782 132Q767 239 689 318T499 417Q474 421 442 421Q343 421 261 369T130 219Q86 121 86 28Q86 15 79 8Q73 1 66 1T53 8Q46 15 46 30Q46 102 77 192T186 361Q274 443 386 459Q396 460 426 460Q515 460 588 431T703 361T773 271T812 187T822 132Q822 123 825 123Q936 209 972 209',
    0x21BA: '369 543T369 563T397 583Q408 583 440 579L454 577L464 581Q492 592 516 609T552 638T565 650Q604 638 607 637Q606 636 598 628T585 614T570 601T548 584T523 568L510 560L516 558Q522 555 527 553T541 546T559 536T580 523T603 506T626 485Q722 384 722 250Q722 106 622 12T387 -83Q253 -83 155 12T56 250Q56 357 110 433T235 545Q244 550 252 550Q270 550 270 531Q270 522 261 515T238 501T202 477T159 433Q95 352 95 250Q95 131 178 45T388 -42Q511 -42 596 43T682 250Q682 340 636 408T522 511Q495 526 488 526Q488 525 488 525T487 522T485 515L490 506Q505 481 516 451T531 404T535 384L532 385Q529 386 524 387T513 390L491 397L488 408Q472 483 413 542L399 543Q369 543 369 563',
    0x21BB: '170 637L213 650Q270 597 313 581L323 577L337 579Q369 583 380 583Q408 583 408 563T380 543H378L364 542Q305 483 289 408L286 397L264 390Q259 389 254 388T245 385L242 384Q242 387 246 403T261 450T287 506L292 515Q291 519 291 521T290 524T289 526Q284 526 265 517T216 486T160 434T114 354T95 249Q95 132 178 45T388 -42Q513 -42 597 44T682 250Q682 337 638 404T532 506Q529 508 525 510T519 514T515 516T511 519T509 522T508 526T507 531Q507 550 525 550Q533 550 542 545Q569 532 596 511T653 454T702 366T721 250Q721 151 672 74T547 -43T388 -83Q254 -83 155 12T56 250Q56 385 151 485Q164 498 179 509T205 528T228 542T247 551T260 558L267 560L254 568Q215 590 170 637',
    0x21BC: '62 230Q56 236 55 244Q55 252 57 255T69 265Q114 292 151 326T208 391T243 448T265 491T273 509Q276 511 288 511Q304 511 306 505Q309 501 303 484Q293 456 279 430T251 383T223 344T196 313T173 291T156 276L148 270H929Q944 261 944 250T929 230H62',
    0x21BD: '55 256Q56 264 62 270H929Q944 261 944 250T929 230H148Q149 229 165 215T196 185T231 145T270 87T303 16Q309 -1 306 -5Q304 -11 288 -11Q279 -11 276 -10T269 -4T264 10T253 36T231 75Q172 173 69 235Q59 242 57 245T55 256',
    0x21BE: '188 258V694H208L215 682Q246 628 293 594T375 551V528Q375 505 374 505Q369 505 351 510T299 534T237 578L228 587V205Q228 -178 226 -182Q221 -194 208 -194T190 -182Q188 -178 188 258',
    0x21BF: '41 551Q76 559 123 592T201 682L208 694H228V258Q228 -178 226 -182Q221 -194 208 -194T190 -182Q188 -178 188 205V587L179 578Q151 552 117 534T65 511T42 505Q41 505 41 528V551',
    0x21C0: '691 500Q691 511 711 511Q720 511 723 510T730 504T735 490T746 464T768 425Q796 378 835 339T897 285T933 263Q941 258 942 256T944 245T937 230H70Q56 237 56 250T70 270H852Q802 308 762 364T707 455T691 500',
    0x21C1: '56 237T56 250T70 270H937Q944 263 944 256Q944 251 944 250T943 246T940 242T933 238Q794 153 734 7Q729 -7 726 -9T711 -11Q695 -11 693 -5Q690 -1 696 16Q721 84 763 139T852 230H70Q56 237 56 250',
    0x21C2: '190 682Q195 694 208 694T226 683Q228 679 228 296V-87L237 -78Q265 -52 299 -34T351 -11T374 -5Q375 -5 375 -28V-51Q340 -60 293 -92T215 -182L208 -194H188V242Q188 678 190 682',
    0x21C3: '188 295V573Q188 657 189 672T200 692Q206 694 208 694Q221 694 226 683Q228 679 228 242V-194H208L201 -182Q170 -128 123 -94T41 -51V-28Q41 -5 42 -5Q47 -5 65 -10T117 -34T179 -78L188 -87V295',
    0x21C4: '943 500Q895 471 856 427T801 333H778Q755 333 755 334Q755 336 762 353T791 406T841 472L848 480H459Q70 480 67 482Q55 488 55 500T67 518Q70 520 459 520H848L841 528Q813 559 792 594T763 646T755 666Q755 667 778 667H801Q817 617 856 573T943 500ZM56 167Q102 194 141 238T198 333H221Q244 333 244 332Q221 265 161 198L151 187H539Q928 187 930 186Q944 182 944 167Q944 155 934 149Q930 147 541 147H151L160 137Q185 110 205 77T235 24T244 1Q244 0 221 0H199Q158 106 56 167',
    0x21C6: '56 500Q103 527 142 572T199 667H221Q244 667 244 666Q244 664 237 647T208 594T158 528L151 520H539Q928 520 932 518Q944 513 944 500T932 482Q928 480 539 480H151L158 472Q186 441 207 406T236 354T244 334Q244 333 221 333H199Q181 383 142 428T56 500ZM943 167Q835 101 801 0H778Q755 0 755 1T758 9T765 25T771 39Q800 94 839 137L848 147H458Q68 147 66 149Q55 154 55 167Q55 182 69 186Q71 187 460 187H848L838 198Q811 228 791 261T762 314L755 332Q755 333 778 333H801Q841 227 943 167',
    0x21C7: '930 437Q944 426 944 416T934 399Q930 397 540 397H150L159 387Q185 360 205 328T234 277T243 252Q243 237 217 191T159 113L150 103H540Q930 103 934 101Q944 94 944 84Q944 71 930 64L540 63H151Q180 34 203 -2T236 -61L244 -83H198Q178 -31 142 11T66 77L55 83L65 89Q157 145 197 246Q199 250 190 269Q150 359 65 411L55 417L66 423Q106 447 142 489T198 583H244Q202 488 151 437H930',
    0x21C8: '83 551Q190 590 250 694Q251 689 263 671T307 621T380 567Q409 551 416 551Q422 551 447 563T511 608T577 684L582 694Q642 591 749 551V528Q749 505 748 505Q745 505 724 515T669 546T612 590L602 599V-181Q595 -193 585 -193H582H581Q568 -193 565 -183L563 -179L562 209V598L552 589Q517 556 473 531T414 506H412Q411 506 393 514T361 530T324 553T280 589L270 598V-179Q255 -192 250 -193H247Q237 -193 230 -181V599L220 590Q197 567 164 546T110 515T84 505Q83 505 83 528V551',
    0x21C9: '55 416Q55 427 70 437H848Q819 466 796 502T764 561L755 583H801Q821 531 857 489T933 423L944 417L934 411Q843 355 802 254Q800 250 809 231Q849 141 934 89L944 83L933 77Q893 53 857 11T801 -83H755Q797 12 848 63H459L70 64Q55 70 55 84Q55 94 65 101Q69 103 459 103H849L840 113Q806 148 779 196T756 254Q756 255 760 264T770 286T786 315T809 351T840 387L849 397H459Q69 397 65 399Q55 406 55 416',
    0x21CA: '230 681Q240 694 251 694Q260 693 270 680V-98L280 -89Q297 -73 314 -60T348 -38T374 -24T397 -13T412 -6H414Q428 -6 473 -32T552 -89L562 -98V291L563 680Q570 693 582 693Q593 694 602 681V-99L612 -90Q635 -68 668 -47T723 -15T748 -5Q749 -5 749 -28V-51Q642 -91 582 -194L577 -184Q551 -141 512 -108T447 -63T416 -51T385 -63T321 -108T255 -184L250 -194Q189 -89 83 -51V-28Q83 -5 84 -5Q88 -5 109 -15T164 -46T220 -90L230 -99V681',
    0x21CB: '195 504L198 514H221Q244 514 244 512Q244 508 239 490T215 437T171 376L162 367H545Q928 367 932 365Q944 360 944 347T932 329Q928 327 492 327H55V347L67 354Q113 379 146 420T195 504ZM67 171Q70 173 507 173H944V153L932 146Q839 95 804 -4L801 -14H778Q755 -14 755 -12Q768 59 828 124L837 133H454Q71 133 67 135Q55 140 55 153Q55 165 67 171',
    0x21CC: '691 660Q691 671 711 671Q720 671 723 670T730 664T735 650T746 624T768 585Q797 538 836 499T897 445T933 423Q941 418 942 416T944 405T937 390H70Q56 397 56 410T70 430H852Q802 468 762 524T707 615T691 660ZM55 256Q56 264 62 270H929Q944 261 944 250T929 230H148Q149 229 165 215T196 185T231 145T270 87T303 16Q309 -1 306 -5Q304 -11 288 -11Q279 -11 276 -10T269 -4T264 10T253 36T231 75Q172 173 69 235Q59 242 57 245T55 256',
    0x21CD: '397 525Q410 525 414 524T418 516Q418 506 394 467T331 381L319 367H473L624 369L657 445Q674 487 684 507T699 531T709 534Q717 534 722 528T728 516Q728 510 695 434Q689 418 683 402T672 377T668 367H928Q942 355 942 347Q942 341 928 327H791Q651 327 651 325Q649 324 620 251T586 174Q586 172 757 172H928Q942 158 942 152Q942 143 928 132H568L537 54Q510 -9 503 -22T486 -35Q479 -35 473 -29T466 -17T495 61L526 132H319L331 118Q364 81 391 37T418 -17Q418 -23 415 -24T401 -26Q398 -26 397 -26L384 -24L377 -13Q344 49 301 97T218 170T143 210T84 233T55 245Q54 253 59 256T86 267Q281 327 377 512L384 525H397ZM606 325Q606 327 439 327H275Q258 312 179 265L148 249Q228 206 262 181L275 172H544L575 247L606 325',
    0x21CE: '395 -24T395 -19T417 57T440 132H255L266 116Q308 64 340 -6Q342 -17 337 -21Q335 -26 320 -26T302 -19Q302 -15 294 4T265 54T217 117T145 182T49 236Q30 243 33 254Q40 261 49 263Q98 283 142 315T214 379T263 442T293 493T302 519Q305 525 320 525T337 521Q342 516 340 505Q308 435 266 383L255 370L384 367H515Q561 522 569 530Q574 534 580 534Q587 534 594 528T602 516Q602 512 580 441T557 367H651L742 370L731 383Q689 435 657 505Q655 516 660 521Q662 525 677 525T695 519Q695 515 703 496T732 446T780 383T853 317T949 263Q967 258 964 245Q959 240 949 236Q897 215 852 182T779 116T731 52T703 3T695 -19Q692 -26 677 -26T660 -21Q655 -17 657 -6Q670 21 682 42T702 77T717 99T728 114T735 122T739 126T740 130T613 132H482L460 54Q440 -9 433 -23T415 -37Q408 -37 402 -31ZM502 325Q502 327 360 327H217L195 310Q173 291 120 256L111 250Q114 248 143 229T195 190L217 172H335L453 174L502 325ZM886 250Q885 251 865 263T831 286T802 310L780 327H544L535 299Q531 283 511 223L495 174L637 172H780L802 190Q843 225 877 243L886 250',
    0x21CF: '346 174Q348 176 378 249T411 325Q411 327 239 327H68Q55 342 55 347Q55 354 68 367H428L459 445Q487 509 494 521T510 534Q517 534 524 527T531 516Q531 515 502 438L471 367H677L666 381Q631 421 605 463T578 516Q578 522 582 523T599 525H615L619 512Q659 437 714 383T812 309T896 272T942 254Q943 246 938 243T911 232Q718 172 619 -13L615 -24L599 -26Q578 -26 578 -17Q578 -11 587 6T617 53T666 118L677 132H373L339 54Q323 12 313 -8T298 -32T288 -35Q280 -35 275 -29T269 -17Q269 -14 298 57T328 132H68Q55 145 55 152Q55 156 56 158T62 165T68 172H206Q346 172 346 174ZM848 249Q763 297 735 318L722 327H455L422 252L391 174Q391 172 557 172H722L735 181Q773 210 819 234L848 249',
    0x21D0: '944 153Q944 140 929 133H318L328 123Q379 69 414 0Q419 -13 419 -17Q419 -24 399 -24Q388 -24 385 -23T377 -12Q332 77 253 144T72 237Q62 240 59 242T56 250T59 257T70 262T89 268T119 278T160 296Q303 366 377 512Q382 522 385 523T401 525Q419 524 419 515Q419 510 414 500Q379 431 328 377L318 367H929Q944 359 944 347Q944 336 930 328L602 327H274L264 319Q225 289 147 250Q148 249 165 241T210 217T264 181L274 173H930Q931 172 933 171T936 169T938 167T941 164T942 162T943 158T944 153',
    0x21D1: '228 -179Q227 -180 226 -182T223 -186T221 -189T218 -192T214 -193T208 -194Q196 -194 189 -181L188 125V430L176 419Q122 369 59 338Q46 330 40 330Q38 330 31 337V350Q31 362 33 365T46 374Q60 381 77 390T128 426T190 484T247 567T292 677Q295 688 298 692Q302 694 305 694Q313 694 318 677Q334 619 363 568T420 485T481 427T532 391T564 374Q575 368 577 365T579 350V337Q572 330 570 330Q564 330 551 338Q487 370 435 419L423 430L422 125V-181Q409 -194 401 -194Q397 -194 394 -193T388 -189T385 -184T382 -180V-177V475L373 487Q331 541 305 602Q304 601 300 591T290 571T278 548T260 519T238 488L229 476L228 148V-179',
    0x21D2: '580 514Q580 525 596 525Q601 525 604 525T609 525T613 524T615 523T617 520T619 517T622 512Q659 438 720 381T831 300T927 263Q944 258 944 250T935 239T898 228T840 204Q696 134 622 -12Q618 -21 615 -22T600 -24Q580 -24 580 -17Q580 -13 585 0Q620 69 671 123L681 133H70Q56 140 56 153Q56 168 72 173H725L735 181Q774 211 852 250Q851 251 834 259T789 283T735 319L725 327H72Q56 332 56 347Q56 360 70 367H681L671 377Q638 412 609 458T580 514',
    0x21D3: '401 694Q412 694 422 681V375L423 70L435 81Q487 130 551 162Q564 170 570 170Q572 170 579 163V150Q579 138 577 135T564 126Q541 114 518 99T453 48T374 -46T318 -177Q313 -194 305 -194T293 -178T272 -119T225 -31Q158 70 46 126Q35 132 33 135T31 150V163Q38 170 40 170Q46 170 59 162Q122 131 176 81L188 70V375L189 681Q199 694 208 694Q219 694 228 680V352L229 25L238 12Q279 -42 305 -102Q344 -23 373 13L382 25V678Q387 692 401 694',
    0x21D4: '308 524Q318 526 323 526Q340 526 340 514Q340 507 336 499Q326 476 314 454T292 417T274 391T260 374L255 368Q255 367 500 367Q744 367 744 368L739 374Q734 379 726 390T707 416T685 453T663 499Q658 511 658 515Q658 525 680 525Q687 524 690 523T695 519T701 507Q766 359 902 287Q921 276 939 269T961 259T966 250Q966 246 965 244T960 240T949 236T930 228T902 213Q763 137 701 -7Q697 -16 695 -19T690 -23T680 -25Q658 -25 658 -15Q658 -11 663 1Q673 24 685 46T707 83T725 109T739 126L744 132Q744 133 500 133Q255 133 255 132L260 126Q265 121 273 110T292 84T314 47T336 1Q341 -11 341 -15Q341 -25 319 -25Q312 -24 309 -23T304 -19T298 -7Q233 141 97 213Q83 221 70 227T51 235T41 239T35 243T34 250T35 256T40 261T51 265T70 273T97 287Q235 363 299 509Q305 522 308 524ZM792 319L783 327H216Q183 294 120 256L110 250L120 244Q173 212 207 181L216 173H783L792 181Q826 212 879 244L889 250L879 256Q826 288 792 319',
    0x21D5: '290 755Q298 772 305 772T318 757T343 706T393 633Q431 588 473 558T545 515T579 497V484Q579 464 570 464Q564 464 550 470Q485 497 423 550L422 400V100L423 -50Q485 3 550 30Q565 36 570 36Q579 36 579 16V3Q575 -1 549 -12T480 -53T393 -132Q361 -172 342 -208T318 -258T305 -272T293 -258T268 -208T217 -132Q170 -80 128 -51T61 -12T31 3V16Q31 36 40 36Q46 36 61 30Q86 19 109 6T146 -18T173 -38T188 -50V550Q186 549 173 539T147 519T110 495T61 470Q46 464 40 464Q31 464 31 484V497Q34 500 63 513T135 557T217 633Q267 692 290 755ZM374 598Q363 610 351 625T332 651T316 676T305 695L294 676Q282 657 267 636T236 598L228 589V-89L236 -98Q247 -110 259 -125T278 -151T294 -176T305 -195L316 -176Q328 -157 343 -136T374 -98L382 -89V589L374 598',
    0x21DA: '944 54Q942 44 929 36H372Q372 34 377 26T395 -4T422 -58Q442 -109 442 -110T408 -111H374L370 -100Q282 124 87 243L76 250L87 257Q284 377 370 600L374 611H408Q442 611 442 610Q423 550 381 480Q380 478 379 475T376 471T374 468T372 465V464H929Q942 456 944 446Q944 442 943 439T941 434T938 430T935 428T931 426T928 424H344L336 414Q277 336 200 277L191 270H560Q929 270 933 268Q944 262 944 250Q944 237 933 232Q929 230 560 230H191L200 223Q279 162 336 86L344 76H928Q929 76 931 75T934 73T938 70T941 66T943 61T944 54',
    0x21DB: '56 250Q56 260 68 270H808L799 277Q720 338 663 414L655 424H363Q71 424 68 426Q55 432 55 444T68 462Q71 464 349 464H627Q627 466 622 474T604 504T577 558Q557 609 557 610T591 611H626L629 600Q717 376 912 257L923 250L912 243Q715 123 629 -100L626 -111H591Q557 -111 557 -110Q576 -50 618 20Q619 22 620 25T623 29T625 32T626 35L627 36H349Q71 36 68 38Q55 44 55 56T68 74Q71 76 363 76H655L663 86Q722 164 799 223L808 230H438L68 231Q56 236 56 250',
    0x21DD: '76 230Q68 230 62 237T56 250Q56 257 63 264T91 291Q102 300 108 306L159 351Q168 356 177 351L218 316L303 239L353 195Q376 214 403 239L488 316L529 351Q538 356 546 351Q548 350 594 310L638 270H848L841 278Q813 309 792 344T763 396T755 416Q755 417 778 417H801Q817 367 856 323T943 250Q895 221 856 177T801 83H778Q755 83 755 84Q755 86 762 103T791 156T841 222L848 230H737Q625 230 622 232Q620 233 599 251T558 288L537 306Q537 305 451 228T362 149Q353 146 345 149Q341 150 255 227T169 306Q167 306 129 270Q123 265 115 257T102 245T93 237T84 232T76 230',
    0x21E0: '292 419Q292 400 261 347T211 275H306H364Q400 275 411 271T422 250T411 230T366 225H306H211Q214 222 232 197T271 136T292 82Q292 71 285 68T262 64H250H241Q221 64 216 67T205 83Q186 127 153 167T78 230Q64 238 64 250Q64 258 69 263T82 272T106 288T139 318Q162 342 177 365T198 402T209 425T223 436Q224 437 252 437H258Q292 437 292 419ZM501 237T501 250T515 270H819Q834 262 834 250T819 230H515Q501 237 501 250ZM918 237T918 250T932 270H1236Q1251 262 1251 250T1236 230H932Q918 237 918 250',
    0x21E2: '84 237T84 250T98 270H402Q417 262 417 250T402 230H98Q84 237 84 250ZM501 237T501 250T515 270H819Q834 262 834 250T819 230H515Q501 237 501 250ZM1022 417Q1022 437 1055 437H1067Q1090 437 1097 434T1109 417Q1128 373 1161 333T1236 270Q1251 261 1251 250Q1251 241 1244 236T1216 217T1175 182Q1149 155 1133 128T1109 85T1097 66Q1093 64 1065 64H1053Q1031 64 1025 72T1027 100Q1036 124 1049 147T1073 185T1091 210T1101 223L1103 225H1008H950Q914 225 903 229T892 250T903 270T948 275H1008H1103L1101 277Q1100 280 1091 291T1067 325T1039 374Q1022 408 1022 417',
    0x2200: '0 673Q0 684 7 689T20 694Q32 694 38 680T82 567L126 451H430L473 566Q483 593 494 622T512 668T519 685Q524 694 538 694Q556 692 556 674Q556 670 426 329T293 -15Q288 -22 278 -22T263 -15Q260 -11 131 328T0 673ZM414 410Q414 411 278 411T142 410L278 55L414 410',
    0x2201: '404 269Q412 269 418 267T428 261T435 253T441 245L444 240V172Q444 103 443 96Q440 81 431 65T403 27T344 -7T250 -21T156 -8T97 27T69 65T58 96Q56 103 56 413Q56 722 58 729Q74 822 215 845Q221 846 229 846H243Q282 846 290 845Q422 826 443 729Q444 722 444 653V586L442 583Q441 580 440 578T436 573T430 567T423 562T415 558T404 556Q377 556 367 583Q364 590 364 654V719Q363 721 360 726T355 733Q326 766 250 766H249Q235 766 219 765T174 752T137 719V107Q145 83 178 71T251 58H254Q340 58 364 107V172Q364 176 364 187T363 204Q363 269 404 269',
    0x2202: '202 508Q179 508 169 520T158 547Q158 557 164 577T185 624T230 675T301 710L333 715H345Q378 715 384 714Q447 703 489 661T549 568T566 457Q566 362 519 240T402 53Q321 -22 223 -22Q123 -22 73 56Q42 102 42 148V159Q42 276 129 370T322 465Q383 465 414 434T455 367L458 378Q478 461 478 515Q478 603 437 639T344 676Q266 676 223 612Q264 606 264 572Q264 547 246 528T202 508ZM430 306Q430 372 401 400T333 428Q270 428 222 382Q197 354 183 323T150 221Q132 149 132 116Q132 21 232 21Q244 21 250 22Q327 35 374 112Q389 137 409 196T430 306',
    0x2203: '56 661T56 674T70 694H487Q497 686 500 679V15Q497 10 487 1L279 0H70Q56 7 56 20T70 40H460V327H84Q70 334 70 347T84 367H460V654H70Q56 661 56 674',
    0x2205: '331 696Q335 708 339 722T345 744T350 759T357 769T367 772Q374 772 381 767T388 754Q388 746 377 712L366 673L378 661Q460 575 460 344Q460 281 456 234T432 126T373 27Q319 -22 250 -22Q214 -22 180 -7Q168 -3 168 -4L159 -33Q148 -71 142 -75Q138 -78 132 -78Q124 -78 118 -72T111 -60Q111 -52 122 -18L133 21L125 29Q39 111 39 344Q39 596 137 675Q187 716 251 716Q265 716 278 714T296 710T315 703T331 696ZM276 676Q264 679 246 679Q196 679 159 631Q134 597 128 536T121 356Q121 234 127 174T151 80L234 366Q253 430 275 506T308 618L318 654Q318 656 294 669L276 676ZM181 42Q207 16 250 16Q291 16 324 47Q354 78 366 136T378 356Q378 470 372 528T349 616L348 613Q348 611 264 326L181 42',
    0x2206: '51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344',
    0x2207: '46 676Q46 679 51 683H781Q786 679 786 676Q786 674 617 326T444 -26Q439 -33 416 -33T388 -26Q385 -22 216 326T46 676ZM697 596Q697 597 445 597T193 596Q195 591 319 336T445 80L697 596',
    0x2208: '84 250Q84 372 166 450T360 539Q361 539 377 539T419 540T469 540H568Q583 532 583 520Q583 511 570 501L466 500Q355 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H568Q583 262 583 250T568 230H124V228Q124 207 134 177T167 112T231 48T328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 446 -40T417 -41Q262 -41 172 45Q84 127 84 250',
    0x2209: '196 25Q84 109 84 250Q84 372 166 450T360 539Q361 539 375 539T413 540T460 540L547 707Q550 716 563 716Q570 716 575 712T581 703T583 696T505 540H568Q583 532 583 520Q583 511 570 501L484 500L366 270H568Q583 262 583 250T568 230H346L247 38Q284 16 328 7Q355 1 466 0H570Q583 -10 583 -20Q583 -32 568 -40H471Q464 -40 447 -40T419 -41Q304 -41 228 3Q117 -211 115 -212Q111 -215 104 -215T92 -212T86 -204T84 -197Q84 -190 89 -183L196 25ZM214 61L301 230H124V228Q124 196 147 147T214 61ZM321 270L440 500Q353 499 329 494Q280 482 242 458T183 409T147 354T129 306T124 272V270H321',
    0x220B: '83 520Q83 532 98 540H195Q202 540 220 540T249 541Q404 541 494 455Q582 374 582 250Q582 165 539 99T434 0T304 -39Q297 -40 195 -40H98Q83 -32 83 -20Q83 -10 96 0H200Q311 1 337 6Q369 14 401 28Q422 39 445 55Q484 85 508 127T537 191T542 228V230H98Q84 237 84 250T98 270H542V272Q542 280 539 295T527 336T497 391T445 445Q422 461 401 472Q386 479 374 483T347 491T325 495T298 498T273 499T239 500T200 500L96 501Q83 511 83 520',
    0x220D: '154 -1Q122 -1 112 3T102 26Q102 63 158 63H178Q192 64 206 65T228 66T240 68Q301 85 324 146L329 157H244Q158 157 153 161Q149 162 145 169T140 183Q140 201 158 215L167 221H256L344 223L349 237Q352 262 352 287Q352 308 351 315Q341 352 315 368T256 385Q231 385 206 376T166 356T149 346Q143 346 138 364T132 388Q132 396 147 406Q198 440 252 440Q291 440 318 435Q421 404 451 301Q456 288 456 248V234Q456 151 391 86Q330 25 240 3Q212 -1 154 -1',
    0x220F: '158 656Q147 684 131 694Q110 707 69 710H55V750H888V710H874Q840 708 820 698T795 678T786 656V-155Q798 -206 874 -210H888V-250H570V-210H584Q618 -208 638 -197T663 -178T673 -155V710H270V277L271 -155Q283 -206 359 -210H373V-250H55V-210H69Q103 -208 123 -197T148 -178T158 -155V656',
    0x2210: '158 656Q147 684 131 694Q110 707 69 710H55V750H373V710H359Q325 708 305 698T280 678T271 656L270 223V-210H673V656Q666 672 663 679T639 697T584 710H570V750H888V710H874Q840 708 820 698T795 678T786 656V-155Q798 -206 874 -210H888V-250H55V-210H69Q103 -208 123 -197T148 -178T158 -155V656',
    0x2211: '61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748',
    0x2212: '84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250',
    0x2213: '56 467T56 480T70 500H707Q722 492 722 480T707 460H409V187H707Q722 179 722 167Q722 154 707 147H409V0V-93Q409 -144 406 -155T389 -166Q376 -166 372 -155T368 -105Q368 -96 368 -62T369 -2V147H70Q56 154 56 167T70 187H369V460H70Q56 467 56 480',
    0x2214: '339 717Q339 739 354 752T388 766Q410 766 424 751T439 716T424 681T390 666Q369 666 354 681T339 717ZM57 237T57 250T71 270H369V425L370 581Q380 594 389 594Q402 594 409 579V270H707Q722 262 722 250T707 230H409V-79Q401 -93 391 -93H389H387Q375 -93 369 -79V230H71Q57 237 57 250',
    0x2215: '423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750',
    0x2216: '56 731Q56 740 62 745T75 750Q85 750 92 740Q96 733 270 255T444 -231Q444 -239 438 -244T424 -250Q414 -250 407 -240Q404 -236 230 242T56 731',
    0x2217: '229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286',
    0x2218: '55 251Q55 328 112 386T249 444T386 388T444 249Q444 171 388 113T250 55Q170 55 113 112T55 251ZM245 403Q188 403 142 361T96 250Q96 183 141 140T250 96Q284 96 313 109T354 135T375 160Q403 197 403 250Q403 313 360 358T245 403',
    0x2219: '55 251Q55 328 112 386T249 444T386 388T444 249Q444 171 388 113T250 55Q170 55 113 112T55 251',
    0x221A: '95 178Q89 178 81 186T72 200T103 230T169 280T207 309Q209 311 212 311H213Q219 311 227 294T281 177Q300 134 312 108L397 -77Q398 -77 501 136T707 565T814 786Q820 800 834 800Q841 800 846 794T853 782V776L620 293L385 -193Q381 -200 366 -200Q357 -200 354 -197Q352 -195 256 15L160 225L144 214Q129 202 113 190T95 178',
    0x221D: '56 124T56 216T107 375T238 442Q260 442 280 438T319 425T352 407T382 385T406 361T427 336T442 315T455 297T462 285L469 297Q555 442 679 442Q687 442 722 437V398H718Q710 400 694 400Q657 400 623 383T567 343T527 294T503 253T495 235Q495 231 520 192T554 143Q625 44 696 44Q717 44 719 46H722V-5Q695 -11 678 -11Q552 -11 457 141Q455 145 454 146L447 134Q362 -11 235 -11Q157 -11 107 56ZM93 213Q93 143 126 87T220 31Q258 31 292 48T349 88T389 137T413 178T421 196Q421 200 396 239T362 288Q322 345 288 366T213 387Q163 387 128 337T93 213',
    0x221E: '55 217Q55 305 111 373T254 442Q342 442 419 381Q457 350 493 303L507 284L514 294Q618 442 747 442Q833 442 888 374T944 214Q944 128 889 59T743 -11Q657 -11 580 50Q542 81 506 128L492 147L485 137Q381 -11 252 -11Q166 -11 111 57T55 217ZM907 217Q907 285 869 341T761 397Q740 397 720 392T682 378T648 359T619 335T594 310T574 285T559 263T548 246L543 238L574 198Q605 158 622 138T664 94T714 61T765 51Q827 51 867 100T907 217ZM92 214Q92 145 131 89T239 33Q357 33 456 193L425 233Q364 312 334 337Q285 380 233 380Q171 380 132 331T92 214',
    0x2220: '71 0L68 2Q65 3 63 5T58 11T55 20Q55 22 57 28Q67 43 346 361Q397 420 474 508Q595 648 616 671T647 694T661 688T666 674Q666 668 663 663Q662 662 627 622T524 503T390 350L120 41L386 40H653Q666 30 666 20Q666 8 651 0H71',
    0x2221: '71 0L68 2Q65 3 63 5T58 11T55 20Q55 22 57 28Q64 38 348 373T638 712Q644 714 646 714Q653 714 659 709T666 694V693Q666 687 633 647Q619 631 576 580Q528 524 495 485Q336 296 329 289Q328 288 348 264T395 182T433 54L434 40H651Q666 32 666 20T651 0H436Q431 -20 416 -20Q400 -20 396 -4V0H71ZM394 40Q394 51 389 76T366 149T319 234L302 256L119 41L256 40H394',
    0x2222: '666 -32Q666 -51 646 -51Q639 -51 365 85L75 228Q55 238 55 250Q55 257 59 262T68 268L72 270L611 536Q642 551 647 551T659 547T666 532Q666 521 657 515L525 449Q525 448 535 424T556 352T566 250T556 148T536 77T525 51L657 -15Q666 -21 666 -32ZM526 250Q526 297 517 342T499 409T488 431Q487 431 304 341T121 250T304 159T488 69Q526 143 526 250',
    0x2223: '139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139',
    0x2224: '118 737Q131 750 138 750L151 746L158 739V579L160 421L213 470Q269 519 276 519Q284 519 290 513T296 499V498Q296 493 291 488T244 445Q225 428 213 417L158 368V-239Q143 -252 136 -252L124 -248L120 -241L118 44V328L62 279Q4 231 0 230Q-8 230 -14 236T-20 250Q-20 257 -11 265T62 332L118 384V737',
    0x2225: '133 736Q138 750 153 750Q164 750 170 739Q172 735 172 250T170 -239Q164 -250 152 -250Q144 -250 138 -244L137 -243Q133 -241 133 -179T132 250Q132 731 133 736ZM329 739Q334 750 346 750Q353 750 361 744L362 743Q366 741 366 679T367 250T367 -178T362 -243L361 -244Q355 -250 347 -250Q335 -250 329 -239Q327 -235 327 250T329 739',
    0x2226: '131 737Q134 739 138 743T144 748T151 750T171 737V199L327 357V737Q340 750 347 750Q351 750 353 749T360 743T367 737V397L429 457Q493 518 498 519Q506 519 512 512T518 500Q518 489 442 417L367 339V-237Q352 -250 346 -250L333 -243L327 -237V301L171 143V-237Q156 -250 151 -250T131 -237V101L69 41Q24 -3 15 -12T0 -21Q-8 -21 -14 -14T-20 -2Q-20 5 -7 19T56 81L131 159V737',
    0x2227: '318 591Q325 598 333 598Q344 598 348 591Q349 590 414 445T545 151T611 -4Q609 -22 591 -22Q588 -22 586 -21T581 -20T577 -17T575 -13T572 -9T570 -4L333 528L96 -4Q87 -20 80 -21Q78 -22 75 -22Q57 -22 55 -4Q55 2 120 150T251 444T318 591',
    0x2228: '55 580Q56 587 61 592T75 598Q86 598 96 580L333 48L570 580Q579 596 586 597Q588 598 591 598Q609 598 611 580Q611 574 546 426T415 132T348 -15Q343 -22 333 -22T318 -15Q317 -14 252 131T121 425T55 580',
    0x2229: '88 -21T75 -21T55 -7V200Q55 231 55 280Q56 414 60 428Q61 430 61 431Q77 500 152 549T332 598Q443 598 522 544T610 405Q611 399 611 194V-7Q604 -22 591 -22Q582 -22 572 -9L570 405Q563 433 556 449T529 485Q498 519 445 538T334 558Q251 558 179 518T96 401Q95 396 95 193V-7Q88 -21 75 -21',
    0x222A: '591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598',
    0x222B: '151 -112Q151 -150 106 -161Q106 -165 114 -172T134 -179Q155 -179 170 -146Q181 -120 188 -64T206 101T232 310Q256 472 277 567Q308 716 392 716Q434 716 453 681T472 613Q472 590 458 577T424 564Q404 564 390 578T376 612Q376 650 421 661Q421 663 418 667T407 675T393 679Q387 679 380 675Q360 665 350 619T326 438Q302 190 253 -57Q235 -147 201 -186Q174 -213 138 -216Q93 -216 74 -181T55 -113Q55 -91 69 -78T103 -64Q123 -64 137 -78T151 -112',
    0x222C: '113 -244Q113 -246 119 -251T139 -263T167 -269Q186 -269 199 -260Q220 -247 232 -218T251 -133T262 -15T276 155T297 367Q300 390 305 438T314 512T325 580T340 647T361 703T390 751T428 784T479 804Q481 804 488 804T501 805Q552 802 581 769T610 695Q610 669 594 657T561 645Q542 645 527 658T512 694Q512 705 516 714T526 729T538 737T548 742L552 743Q552 745 545 751T525 762T498 768Q475 768 460 756T434 716T418 652T407 559T398 444T387 300T369 133Q349 -38 337 -102T303 -207Q256 -306 169 -306Q119 -306 87 -272T55 -196Q55 -170 71 -158T104 -146Q123 -146 138 -159T153 -195Q153 -206 149 -215T139 -230T127 -238T117 -242L113 -244ZM460 -244Q460 -246 466 -251T486 -263T514 -269Q532 -269 546 -260Q567 -247 579 -218T598 -133T609 -15T623 155T644 367Q647 390 652 438T661 512T672 580T687 647T708 703T737 751T775 784T826 804Q828 804 835 804T848 805Q899 802 928 769T957 695Q957 669 941 657T908 645Q889 645 874 658T859 694Q859 705 863 714T873 729T885 737T895 742L899 743Q899 745 892 751T872 762T845 768Q822 768 807 756T781 716T765 652T754 559T745 444T734 300T716 133Q696 -38 684 -102T650 -207Q603 -306 516 -306Q466 -306 434 -272T402 -196Q402 -170 418 -158T451 -146Q470 -146 485 -159T500 -195Q500 -206 496 -215T486 -230T474 -238T464 -242L460 -244',
    0x222D: '113 -244Q113 -246 119 -251T139 -263T167 -269Q186 -269 199 -260Q220 -247 232 -218T251 -133T262 -15T276 155T297 367Q300 390 305 438T314 512T325 580T340 647T361 703T390 751T428 784T479 804Q481 804 488 804T501 805Q552 802 581 769T610 695Q610 669 594 657T561 645Q542 645 527 658T512 694Q512 705 516 714T526 729T538 737T548 742L552 743Q552 745 545 751T525 762T498 768Q475 768 460 756T434 716T418 652T407 559T398 444T387 300T369 133Q349 -38 337 -102T303 -207Q256 -306 169 -306Q119 -306 87 -272T55 -196Q55 -170 71 -158T104 -146Q123 -146 138 -159T153 -195Q153 -206 149 -215T139 -230T127 -238T117 -242L113 -244ZM460 -244Q460 -246 466 -251T486 -263T514 -269Q532 -269 546 -260Q567 -247 579 -218T598 -133T609 -15T623 155T644 367Q647 390 652 438T661 512T672 580T687 647T708 703T737 751T775 784T826 804Q828 804 835 804T848 805Q899 802 928 769T957 695Q957 669 941 657T908 645Q889 645 874 658T859 694Q859 705 863 714T873 729T885 737T895 742L899 743Q899 745 892 751T872 762T845 768Q822 768 807 756T781 716T765 652T754 559T745 444T734 300T716 133Q696 -38 684 -102T650 -207Q603 -306 516 -306Q466 -306 434 -272T402 -196Q402 -170 418 -158T451 -146Q470 -146 485 -159T500 -195Q500 -206 496 -215T486 -230T474 -238T464 -242L460 -244ZM807 -244Q807 -246 813 -251T833 -263T861 -269Q880 -269 893 -260Q914 -247 926 -218T945 -133T956 -15T970 155T991 367Q994 390 999 438T1008 512T1019 580T1034 647T1055 703T1084 751T1122 784T1173 804Q1175 804 1182 804T1195 805Q1246 802 1275 769T1304 695Q1304 669 1288 657T1255 645Q1236 645 1221 658T1206 694Q1206 705 1210 714T1220 729T1232 737T1242 742L1246 743Q1246 745 1239 751T1219 762T1192 768Q1169 768 1154 756T1128 716T1112 652T1101 559T1092 444T1081 300T1063 133Q1043 -38 1031 -102T997 -207Q950 -306 863 -306Q813 -306 781 -272T749 -196Q749 -170 765 -158T798 -146Q817 -146 832 -159T847 -195Q847 -206 843 -215T833 -230T821 -238T811 -242L807 -244',
    0x222E: '269 74L256 80Q244 85 227 97T191 128T161 179T148 250Q148 332 199 379T302 433L306 434L307 444Q309 456 313 495T321 553T331 607T345 664T365 712T393 756T431 785T479 804Q481 804 488 804T501 805Q552 802 581 769T610 695Q610 669 594 657T561 645Q542 645 527 658T512 694Q512 705 516 714T526 729T538 737T548 742L552 743Q552 745 545 751T525 762T498 768Q471 768 454 752T427 693T414 626T406 536Q405 530 405 527L397 425L404 422Q410 419 421 413T445 399T470 376T494 345T511 303T518 250Q518 205 502 169T460 112T410 80T364 66L360 65L359 55Q357 38 353 4T346 -43T340 -81T333 -118T326 -148T316 -179T303 -207Q256 -306 169 -306Q119 -306 87 -272T55 -196Q55 -170 71 -158T104 -146Q123 -146 138 -159T153 -195Q153 -206 149 -215T139 -230T127 -238T117 -242L113 -244Q113 -246 119 -251T139 -263T167 -269Q186 -269 199 -260Q231 -241 242 -183T266 33L269 74ZM272 122Q272 156 300 391Q300 392 299 392Q287 392 263 379T213 331T187 249Q187 211 205 180T239 137T272 116V122ZM366 107Q378 107 402 119T453 167T479 249Q479 340 394 383V377Q394 375 394 374T393 371T393 366T392 357T391 342T389 321T386 291T382 251T377 199T369 133Q366 112 366 107',
    0x2234: '273 411Q273 437 291 454T334 471Q358 471 375 454T393 411T376 368T333 351Q307 351 290 368T273 411ZM84 38Q110 38 126 21T143 -22Q143 -46 127 -64T83 -82Q57 -82 41 -65T24 -22Q24 4 41 21T84 38ZM524 -22Q524 4 541 21T584 38Q608 38 625 21T643 -22Q643 -45 627 -63T583 -82Q557 -82 541 -65T524 -22',
    0x2235: '23 411Q23 437 41 454T84 471Q108 471 125 454T143 411T126 368T83 351Q57 351 40 368T23 411ZM523 411Q523 437 541 454T584 471Q608 471 625 454T643 411T626 368T583 351Q557 351 540 368T523 411ZM274 -22Q274 4 291 21T334 38Q356 38 374 22T392 -22T375 -65T333 -82Q307 -82 291 -65T274 -22',
    0x223C: '55 166Q55 241 101 304T222 367Q260 367 296 349T362 304T421 252T484 208T554 189Q616 189 655 236T694 338Q694 350 698 358T708 367Q722 367 722 334Q722 260 677 197T562 134H554Q517 134 481 152T414 196T355 248T292 293T223 311Q179 311 145 286Q109 257 96 218T80 156T69 133Q55 133 55 166',
    0x223D: '222 133Q147 133 102 197T56 335Q56 362 66 365Q71 369 77 364Q83 356 84 335T90 298Q102 254 137 222T223 189Q258 189 292 206T355 250T413 301T477 346T550 367Q628 367 673 309T722 171Q722 133 708 133Q703 133 699 141T694 162Q694 220 655 265T555 311Q519 311 485 293T421 248T363 196T298 152T222 133',
    0x2240: '55 569Q55 583 83 583Q122 583 151 565T194 519T215 464T222 411Q222 360 194 304T139 193T111 89Q111 38 134 -7T195 -55Q222 -57 222 -69Q222 -83 189 -83Q130 -83 93 -33T55 90Q55 130 72 174T110 252T148 328T166 411Q166 462 144 507T83 555Q55 556 55 569',
    0x2241: '220 366Q258 366 297 347T361 308T391 288Q394 288 464 370Q494 407 510 425T535 454T546 465T552 467H553Q560 467 566 461T573 448Q573 439 499 350Q424 266 424 261Q424 259 442 247T492 222T554 209Q607 209 646 243Q671 268 680 295T690 341T702 366Q719 366 719 314Q716 265 695 226Q682 199 664 179Q614 132 555 132Q517 132 477 151T412 190T383 210T347 172T278 89T233 37Q228 32 220 32Q210 32 206 38T201 48Q201 57 266 137Q272 144 275 148Q351 231 351 237Q351 239 333 251T283 276T221 289Q159 289 123 248T86 166Q86 156 82 145T73 132Q55 132 55 172Q55 220 79 272Q95 301 111 319Q161 366 220 366',
    0x2242: '55 439T55 443T56 449T62 456T68 463H706Q720 449 720 443T706 423H68Q55 439 55 443ZM56 72Q56 112 73 152T130 225T224 257Q259 257 294 240T360 199T419 149T484 107T553 90Q603 90 643 125T691 223Q693 257 704 257Q717 257 717 221Q717 147 671 91T554 34Q517 34 481 51T414 93T355 142T291 184T222 201Q172 201 131 167T84 67Q81 34 71 34Q56 37 56 72',
    0x2243: '55 283Q55 356 103 409T217 463Q262 463 297 447T395 382Q431 355 446 344T493 320T554 307H558Q613 307 652 344T694 433Q694 464 708 464T722 432Q722 356 673 304T564 251H554Q510 251 465 275T387 329T310 382T223 407H219Q164 407 122 367Q91 333 85 295T76 253T69 250Q55 250 55 283ZM56 56Q56 71 72 76H706Q722 70 722 56Q722 44 707 36H70Q56 43 56 56',
    0x2245: '55 388Q55 463 101 526T222 589Q260 589 296 571T362 526T421 474T484 430T554 411Q616 411 655 458T694 560Q694 572 698 580T708 589Q722 589 722 556Q722 482 677 419T562 356H554Q517 356 481 374T414 418T355 471T292 515T223 533Q179 533 145 508Q109 479 96 440T80 378T69 355Q55 355 55 388ZM56 236Q56 249 70 256H707Q722 248 722 236Q722 225 708 217L390 216H72Q56 221 56 236ZM56 42Q56 57 72 62H708Q722 52 722 42Q722 30 707 22H70Q56 29 56 42',
    0x2247: '55 417Q55 479 101 528T222 578Q259 578 294 564T393 507Q413 493 434 480T469 460T484 454L537 549Q587 639 595 647Q600 652 607 652Q615 652 621 647T628 634Q628 625 575 536Q524 446 524 443Q527 440 555 440Q603 440 644 469T691 547Q694 578 706 578T718 556Q718 555 718 551T717 545Q717 488 684 445T595 387Q582 384 558 384Q530 384 508 389L493 394L404 238L557 236H708Q720 224 720 217T706 196H379L291 43L499 41H708Q720 29 720 21T706 1H268L226 -71Q186 -143 179 -148Q173 -155 165 -155T152 -150T146 -137Q146 -133 184 -64L222 1H144L66 3L59 7Q54 14 54 20Q54 29 66 41H246L333 194Q333 196 202 196H68Q55 211 55 218T66 236H213L357 238L457 409L437 421Q432 423 393 450T307 500T222 523Q171 523 129 491T84 414Q82 383 70 383Q55 383 55 417',
    0x2248: '55 319Q55 360 72 393T114 444T163 472T205 482Q207 482 213 482T223 483Q262 483 296 468T393 413L443 381Q502 346 553 346Q609 346 649 375T694 454Q694 465 698 474T708 483Q722 483 722 452Q722 386 675 338T555 289Q514 289 468 310T388 357T308 404T224 426Q164 426 125 393T83 318Q81 289 69 289Q55 289 55 319ZM55 85Q55 126 72 159T114 210T163 238T205 248Q207 248 213 248T223 249Q262 249 296 234T393 179L443 147Q502 112 553 112Q609 112 649 141T694 220Q694 249 708 249T722 217Q722 153 675 104T555 55Q514 55 468 76T388 123T308 170T224 192Q164 192 125 159T83 84Q80 55 69 55Q55 55 55 85',
    0x224A: '220 523Q163 523 124 486T84 412Q81 383 69 383Q56 383 56 413Q56 441 67 470Q78 508 111 537T187 575Q203 579 219 579Q248 579 271 572Q304 565 393 508Q498 439 551 439Q620 439 662 486Q688 512 693 557Q693 565 697 572T707 579Q719 579 719 548Q719 483 673 434T550 384Q512 384 467 405T386 453T305 501T220 523ZM222 288Q164 288 124 251T84 177Q81 148 69 148Q56 148 56 178Q56 206 67 235Q78 274 111 302T187 339Q198 343 220 343Q244 343 259 341T308 322T393 272Q496 203 553 203Q612 203 651 241T691 312Q693 343 705 343Q719 343 719 313Q719 245 673 199Q626 148 552 148Q513 148 467 170T385 218T304 266T222 288ZM51 -19Q51 -6 62 -1H387Q713 -1 715 -3Q725 -10 725 -20Q725 -27 718 -34Q714 -38 672 -38T387 -39H62Q51 -25 51 -19',
    0x224D: '55 464Q55 471 60 477T74 484Q80 484 108 464T172 420T268 376T389 356Q436 356 483 368T566 399T630 436T675 467T695 482Q701 484 703 484Q711 484 716 478T722 464Q722 454 707 442Q550 316 389 316Q338 316 286 329T195 362T124 402T76 437T57 456Q55 462 55 464ZM57 45Q66 58 109 88T230 151T381 183Q438 183 494 168T587 135T658 94T703 61T720 45Q722 39 722 36Q722 28 717 22T703 16Q697 16 669 36T606 80T510 124T389 144Q341 144 294 132T211 101T147 64T102 33T82 18Q76 16 74 16Q66 16 61 22T55 36Q55 39 57 45',
    0x224E: '245 367Q251 415 288 453T392 492Q445 492 485 456T532 367H707Q722 359 722 347Q722 334 711 331T665 327H608H509Q500 332 498 336Q496 338 493 363T472 411Q443 451 389 451H387Q335 451 305 411Q290 392 287 374T282 344T268 327H72Q56 332 56 347Q56 360 70 367H245ZM56 153Q56 168 72 173H268Q277 168 279 164Q281 162 284 137T305 89Q334 49 389 49H391Q442 49 472 89Q487 108 490 126T495 156T509 173H608H666Q701 173 711 170T722 153T707 133H532Q526 81 486 45T389 8Q331 8 291 45T245 133H70Q56 140 56 153',
    0x224F: '245 367Q251 415 288 453T392 492Q445 492 485 456T532 367H707Q722 359 722 347Q722 334 711 331T665 327H608H509Q500 332 498 336Q496 338 493 363T472 411Q443 451 389 451H387Q335 451 305 411Q290 392 287 374T282 344T268 327H72Q56 332 56 347Q56 360 70 367H245ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153',
    0x2250: '56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153ZM329 610Q329 634 346 652T389 670Q413 670 431 654T450 611Q450 586 433 568T390 550T347 567T329 610',
    0x2251: '421 474T389 474T339 493T321 541Q321 566 337 587T391 609Q456 602 456 541Q456 512 439 493ZM56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153ZM421 -108T389 -108T339 -89T321 -41Q321 -16 337 5T391 27Q456 20 456 -41Q456 -70 439 -89',
    0x2252: '15 541Q15 569 33 585T75 601T117 585T135 541Q135 514 118 498T75 481T32 498T15 541ZM56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153ZM642 -41Q642 -17 658 0T702 18Q726 18 744 3T762 -41Q762 -67 745 -84T702 -101Q676 -101 659 -85T642 -41',
    0x2253: '642 541Q642 569 660 585T702 601T744 585T762 541Q762 515 745 498T702 481Q676 481 659 497T642 541ZM56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153ZM14 -41Q14 -15 31 1T74 18Q101 18 118 0T135 -41Q135 -64 118 -83T75 -102Q51 -102 33 -85T14 -41',
    0x2256: '56 347Q56 360 70 367H707Q722 359 722 347Q722 334 711 331T658 327H586H465L472 318Q496 288 496 250T472 182L465 173H586H663Q700 173 711 170T722 153T707 133H70Q56 140 56 153Q56 168 72 173H312L305 182Q281 212 281 250T305 318L312 327H72Q56 332 56 347ZM473 250Q473 265 472 273T460 297T428 327H349Q328 313 318 298T306 273T304 250Q304 235 305 227T317 203T349 173H428Q449 187 459 202T471 227T473 250',
    0x2257: '279 612Q279 656 310 688T388 721Q433 721 465 689T498 612Q498 573 470 538T389 503Q336 503 308 538T279 612ZM458 614Q458 637 452 651T433 672T411 679T383 680T352 675T333 664T324 647T321 629T320 611Q320 593 321 584T332 562T359 545Q366 543 389 543H391Q406 543 414 544T435 552T452 573T458 614ZM56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153',
    0x225C: '192 482H190Q187 483 185 484T181 488T177 493T175 501Q175 506 178 512Q184 523 278 687T375 853Q379 857 383 857Q385 857 387 858T390 859Q397 859 403 853Q405 851 499 687T600 512Q603 506 603 501Q603 488 587 482H192ZM548 523L389 798Q388 798 309 661T230 523T389 522T548 523ZM56 347Q56 360 70 367H708Q723 359 723 347Q723 336 709 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H709Q723 163 723 153Q723 140 708 133H70Q56 140 56 153',
    0x2260: '166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183L306 133H70Q56 140 56 153Q56 168 72 173H327L406 327H72Q56 332 56 347Q56 360 70 367H426Q597 702 602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 692 471 367H707Q722 359 722 347Q722 336 708 328L451 327L371 173H708Q722 163 722 153Q722 140 707 133H351Q175 -210 170 -212Q166 -215 159 -215',
    0x2261: '56 444Q56 457 70 464H707Q722 456 722 444Q722 430 706 424H72Q56 429 56 444ZM56 237T56 250T70 270H707Q722 262 722 250T707 230H70Q56 237 56 250ZM56 56Q56 71 72 76H706Q722 70 722 56Q722 44 707 36H70Q56 43 56 56',
    0x2264: '674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118',
    0x2265: '83 616Q83 624 89 630T99 636Q107 636 253 568T543 431T687 361Q694 356 694 346T687 331Q685 329 395 192L107 56H101Q83 58 83 76Q83 77 83 79Q82 86 98 95Q117 105 248 167Q326 204 378 228L626 346L360 472Q291 505 200 548Q112 589 98 597T83 616ZM84 -118Q84 -108 99 -98H678Q694 -104 694 -118Q694 -130 679 -138H98Q84 -131 84 -118',
    0x2266: '674 753Q682 753 688 747T694 732T687 718Q686 717 417 589L151 463L399 345Q687 209 691 204Q694 198 694 193Q694 175 676 173H670L382 309Q92 446 90 448Q83 453 83 465Q84 476 96 482Q104 486 382 617T665 751Q669 753 674 753ZM84 39Q84 49 99 59H678Q694 53 694 39Q694 26 679 19H98Q84 26 84 39ZM83 -157Q83 -153 84 -150T86 -145T89 -141T92 -139T96 -137T99 -135H678Q694 -146 694 -155Q694 -168 679 -175H98Q84 -168 83 -157',
    0x2267: '83 733Q83 741 89 747T99 753Q107 753 253 685T543 548T687 478Q694 473 694 463T687 448Q685 446 395 309L107 173H101Q83 175 83 193Q83 194 83 196Q82 203 98 212Q117 222 248 284Q326 321 378 345L626 463L360 589Q291 622 200 665Q112 706 98 714T83 733ZM84 39Q84 49 99 59H678Q694 53 694 39Q694 26 679 19H98Q84 26 84 39ZM83 -157Q83 -153 84 -150T86 -145T89 -141T92 -139T96 -137T99 -135H678Q694 -146 694 -155Q694 -168 679 -175H98Q84 -168 83 -157',
    0x2268: '86 472Q93 477 381 614T673 752Q680 752 686 746T693 732T689 721Q686 715 418 590L151 461L418 332Q684 207 689 201Q693 195 693 190Q693 183 687 177T675 170Q668 170 380 307T86 450Q82 454 82 461Q82 467 86 472ZM82 33Q82 37 83 40T89 47T95 54H473L520 105Q569 156 571 156Q573 157 578 157Q586 157 592 151T598 136Q598 130 562 92L526 56L604 54H682Q693 43 693 35Q693 31 692 28T686 21T680 14H489L342 -139L513 -142H682Q693 -148 693 -160Q693 -167 680 -182H304L258 -230Q248 -240 237 -251T221 -268T211 -278T203 -284T197 -286Q189 -286 184 -280T178 -264Q178 -257 213 -219L249 -182H171L93 -179L86 -175Q82 -170 82 -163Q82 -155 95 -142H289L360 -64L433 14H262L93 16Q82 23 82 33',
    0x2269: '89 745Q95 752 100 752Q106 752 394 615T689 472Q693 468 693 461T689 450Q684 445 396 308T100 170Q95 170 89 176T82 190Q82 195 86 201Q91 208 358 332L624 461L358 590Q90 715 86 721Q82 725 82 731Q82 739 89 745ZM82 33Q82 37 83 40T89 47T95 54H473L520 105Q569 156 571 156Q573 157 578 157Q586 157 592 151T598 136Q598 130 562 92L526 56L604 54H682Q693 43 693 35Q693 31 692 28T686 21T680 14H489L342 -139L513 -142H682Q693 -148 693 -160Q693 -167 680 -182H304L258 -230Q248 -240 237 -251T221 -268T211 -278T203 -284T197 -286Q189 -286 184 -280T178 -264Q178 -257 213 -219L249 -182H171L93 -179L86 -175Q82 -170 82 -163Q82 -155 95 -142H289L360 -64L433 14H262L93 16Q82 23 82 33',
    0x226A: '639 -48Q639 -54 634 -60T619 -67H618Q612 -67 536 -26Q430 33 329 88Q61 235 59 239Q56 243 56 250T59 261Q62 266 336 415T615 567L619 568Q622 567 625 567Q639 562 639 548Q639 540 633 534Q632 532 374 391L117 250L374 109Q632 -32 633 -34Q639 -40 639 -48ZM944 -48Q944 -54 939 -60T924 -67H923Q917 -67 841 -26Q735 33 634 88Q366 235 364 239Q361 243 361 250T364 261Q367 266 641 415T920 567L924 568Q927 567 930 567Q944 562 944 548Q944 540 938 534Q937 532 679 391L422 250L679 109Q937 -32 938 -34Q944 -40 944 -48',
    0x226B: '55 539T55 547T60 561T74 567Q81 567 207 498Q297 449 365 412Q633 265 636 261Q639 255 639 250Q639 241 626 232Q614 224 365 88Q83 -65 79 -66Q76 -67 73 -67Q65 -67 60 -61T55 -47Q55 -39 61 -33Q62 -33 95 -15T193 39T320 109L321 110H322L323 111H324L325 112L326 113H327L329 114H330L331 115H332L333 116L334 117H335L336 118H337L338 119H339L340 120L341 121H342L343 122H344L345 123H346L347 124L348 125H349L351 126H352L353 127H354L355 128L356 129H357L358 130H359L360 131H361L362 132L363 133H364L365 134H366L367 135H368L369 136H370L371 137L372 138H373L374 139H375L376 140L378 141L576 251Q63 530 62 533Q55 539 55 547ZM360 539T360 547T365 561T379 567Q386 567 512 498Q602 449 670 412Q938 265 941 261Q944 255 944 250Q944 241 931 232Q919 224 670 88Q388 -65 384 -66Q381 -67 378 -67Q370 -67 365 -61T360 -47Q360 -39 366 -33Q367 -33 400 -15T498 39T625 109L626 110H627L628 111H629L630 112L631 113H632L634 114H635L636 115H637L638 116L639 117H640L641 118H642L643 119H644L645 120L646 121H647L648 122H649L650 123H651L652 124L653 125H654L656 126H657L658 127H659L660 128L661 129H662L663 130H664L665 131H666L667 132L668 133H669L670 134H671L672 135H673L674 136H675L676 137L677 138H678L679 139H680L681 140L683 141L881 251Q368 530 367 533Q360 539 360 547',
    0x226C: '104 730Q104 749 123 749Q130 749 138 745Q186 717 237 671L250 659L261 670Q297 703 332 726T375 750T389 744T395 730Q395 721 390 717T364 699T322 668Q290 641 283 632Q280 628 281 627T293 612Q425 454 425 250Q425 144 388 51T293 -112Q282 -125 281 -126T283 -132Q306 -162 379 -209Q395 -219 395 -230Q395 -238 389 -244T375 -250T335 -228T262 -171L250 -159L238 -170Q202 -203 167 -226T124 -250T110 -244T104 -230Q104 -219 121 -209Q199 -156 216 -132Q219 -128 218 -127T206 -112Q74 46 74 250T206 612Q217 625 218 626T216 632Q199 656 121 709Q104 719 104 730ZM249 -94Q364 61 364 250Q364 430 265 574Q253 590 249 594L242 583Q134 439 134 250Q134 114 192 -1Q212 -44 242 -83L249 -94',
    0x226E: '693 -14T693 -20T687 -33T675 -41Q667 -41 506 37L344 112Q342 112 262 -46Q184 -196 176 -205Q172 -209 168 -209T162 -208Q155 -208 151 -203T146 -190Q146 -178 171 -137Q193 -91 251 21L306 132L198 183Q142 208 118 220T88 238T82 249Q82 253 86 261Q92 267 278 357L464 443L529 572Q561 637 577 667T597 703T607 708Q615 708 622 702T629 688Q629 680 575 579L524 474Q524 473 545 482T598 508Q666 541 673 541T686 535T693 521Q693 512 679 504T589 459L493 414L360 150Q366 148 378 142T431 116T529 70Q686 -8 689 -10Q693 -14 693 -20ZM380 277L433 383Q432 385 292 319T151 250T237 209T324 170L380 277',
    0x226F: '82 514T82 520T89 533T100 541Q106 541 271 463Q434 386 435 386L515 543Q593 699 600 706Q604 708 607 708Q615 708 622 702T629 688T549 526Q509 445 491 407T473 368Q522 343 580 317Q636 291 660 278T688 261T693 250V249Q693 241 681 234T580 184Q533 161 502 146Q317 59 315 59Q312 56 246 -74Q197 -170 186 -189T168 -209Q164 -209 162 -208Q155 -208 151 -203T146 -190Q146 -187 200 -79L253 28L218 11Q182 -6 144 -23T100 -41Q95 -41 89 -35T82 -21Q82 -12 96 -4T186 41L284 88L349 217Q377 273 395 311T413 350Q413 351 253 428Q101 498 86 510Q82 514 82 520ZM624 250Q461 330 455 330Q454 331 453 329T448 321T441 308T430 287T416 259T398 223L342 114L624 250',
    0x2270: '82 -124Q82 -120 83 -117T89 -110T95 -103H220L284 50Q346 204 344 206L218 268Q153 297 123 313T87 333T82 344T86 355Q104 369 291 455Q491 552 491 553L542 673Q581 767 590 784T609 801Q616 801 622 795T629 781Q629 773 586 677Q546 581 546 577L609 606Q669 635 673 635Q680 635 686 629T693 615Q693 610 692 608T670 593T604 561L524 521L400 226L542 157Q617 123 649 107T687 85T694 72Q694 66 690 60T679 54Q664 54 526 121Q513 127 495 136T464 150T438 162T416 173T399 180T388 185L384 186Q383 186 322 41L262 -103H680Q682 -105 684 -108T688 -113T691 -118T693 -124Q693 -134 682 -141L464 -143H246L213 -219Q182 -292 178 -299Q172 -303 166 -303T153 -297T146 -283Q146 -282 174 -213T202 -143H146L93 -141Q82 -134 82 -124ZM418 370L466 495Q464 495 308 420T151 344T204 317T311 267T364 244Q364 247 418 370',
    0x2271: '97 54Q82 54 82 72Q82 79 86 84Q95 91 222 153L351 215L398 324L442 433L258 519Q95 597 87 604Q82 608 82 615T88 628T102 635Q107 635 424 484L458 468L524 630Q593 789 597 795Q601 801 609 801Q616 801 622 795T629 781L562 615L493 450L589 406Q665 371 679 362T694 344Q694 339 693 337T677 326T631 302T538 257Q504 241 465 223T406 195T386 186Q384 185 322 39L262 -103H680Q682 -105 684 -108T688 -113T691 -118T693 -124Q693 -134 682 -141L464 -143H246L213 -219Q182 -292 178 -299Q172 -303 166 -303T153 -297T146 -283Q146 -282 174 -213T202 -143H146L93 -141Q82 -134 82 -124Q82 -120 83 -117T89 -110T95 -103H220L273 26Q326 156 326 157L218 106Q109 54 97 54ZM553 379Q480 412 480 415Q479 415 460 372T423 285T406 241Q408 240 516 291T624 344L553 379',
    0x2272: '674 732Q682 732 688 726T694 711T687 697Q686 696 417 568L151 442L399 324Q687 188 691 183Q694 177 694 172Q694 154 676 152H670L382 288Q92 425 90 427Q83 432 83 444Q84 455 96 461Q104 465 382 596T665 730Q669 732 674 732ZM56 -194Q56 -107 106 -51T222 6Q260 6 296 -12T362 -56T420 -108T483 -153T554 -171Q616 -171 654 -128T694 -29Q696 6 708 6Q722 6 722 -26Q722 -102 676 -164T557 -227Q518 -227 481 -209T415 -165T358 -113T294 -69T223 -51Q163 -51 125 -93T83 -196Q81 -228 69 -228Q56 -228 56 -202V-194',
    0x2273: '90 697Q83 704 83 712T88 726T99 732Q107 732 253 664T543 527T687 457Q694 452 694 442T687 427Q685 425 395 288L107 152H101Q83 154 83 172Q83 173 83 175Q82 182 98 191Q117 201 248 263Q326 300 378 324L626 442L360 568Q91 696 90 697ZM56 -194Q56 -107 106 -51T222 6Q260 6 296 -12T362 -56T420 -108T483 -153T554 -171Q616 -171 654 -128T694 -29Q696 6 708 6Q722 6 722 -26Q722 -102 676 -164T557 -227Q518 -227 481 -209T415 -165T358 -113T294 -69T223 -51Q163 -51 125 -93T83 -196Q81 -228 69 -228Q56 -228 56 -202V-194',
    0x2276: '734 181Q734 173 728 167T714 161Q711 161 386 280T54 404Q44 408 44 421Q44 432 52 437Q66 443 388 562T714 681Q721 681 727 675T734 661Q734 651 722 645Q711 639 462 546Q441 539 420 531L122 421L420 311L723 198Q734 192 734 181ZM44 247Q44 255 50 261T63 267Q66 267 391 148T723 24Q734 18 734 7T723 -10Q716 -14 391 -133T63 -253Q56 -253 50 -247T44 -233Q44 -223 55 -217Q67 -210 317 -118Q337 -110 357 -103L655 7L357 117L54 230Q44 236 44 247',
    0x2277: '83 661Q83 668 88 674T104 681Q111 679 396 560Q686 437 687 436Q694 431 694 421T687 406Q686 405 543 344T253 222T101 161Q83 163 83 180Q83 194 95 199Q96 199 130 213T232 257T361 311L621 421L357 532Q307 553 233 584Q121 631 102 640T83 661ZM673 267Q694 267 694 248Q694 237 687 232Q684 229 420 118L156 7L416 -103L683 -215Q694 -222 694 -233Q694 -251 676 -253Q670 -253 524 -192T235 -70T90 -8Q83 -1 83 7Q83 19 94 24Q97 25 378 144T667 266Q669 267 673 267',
    0x227A: '84 249Q84 262 91 266T117 270Q120 270 126 270T137 269Q388 273 512 333T653 512Q657 539 676 539Q685 538 689 532T694 520V515Q689 469 672 431T626 366T569 320T500 286T435 265T373 249Q379 248 404 242T440 233T477 221T533 199Q681 124 694 -17Q694 -41 674 -41Q658 -41 653 -17Q646 41 613 84T533 154T418 197T284 220T137 229H114Q104 229 98 230T88 235T84 249',
    0x227B: '84 517Q84 539 102 539Q115 539 119 529T125 503T137 459T171 404Q277 275 640 269H661Q694 269 694 249T661 229H640Q526 227 439 214T283 173T173 98T124 -17Q118 -41 103 -41Q83 -41 83 -17Q88 29 105 67T151 132T208 178T277 212T342 233T404 249Q401 250 380 254T345 263T302 276T245 299Q125 358 92 468Q84 502 84 517',
    0x227C: '112 270Q83 270 83 290Q83 301 94 307Q98 310 118 310Q516 310 620 464Q635 486 642 510T651 548T657 571T675 580Q693 577 693 559V552Q684 472 628 410T465 314Q436 303 372 290Q373 290 388 287T425 278T465 266Q674 199 693 28L694 17Q688 5 683 3Q677 0 673 0Q656 0 653 24Q623 270 118 270H112ZM110 116Q83 116 83 136T110 156H113Q134 156 160 155T231 146T318 128T407 95T489 44T550 -30T583 -131Q583 -153 563 -153Q556 -153 553 -152T547 -145T542 -127Q531 -54 478 0Q425 53 333 83T123 116H110',
    0x227D: '668 310Q694 310 694 290Q694 285 691 279Q684 271 664 270Q550 268 464 257T301 220T179 146T124 27Q119 0 103 0T83 16Q83 21 83 31T92 68T113 121T157 177T229 231Q295 268 405 290Q404 290 389 293T352 302T312 314Q138 371 96 500Q83 541 83 562Q83 568 89 574T103 580Q115 580 120 570T126 542T138 497T173 442Q289 310 659 310H668ZM194 -131Q201 -60 241 -6T343 82T477 133T628 155Q632 155 644 155T661 156Q685 155 690 147Q694 143 694 136Q694 132 693 129T689 124T685 120T681 117L656 116Q596 114 543 106T436 79T342 35T272 -33T235 -127Q231 -154 212 -154Q203 -153 199 -147T194 -136V-131',
    0x227E: '84 442Q84 455 91 459T117 463Q120 463 126 463T137 462Q388 466 512 526T653 705Q657 732 676 732Q685 731 689 725T694 714V708Q689 662 672 624T626 559T569 513T500 479T435 458T373 442Q379 441 404 435T440 426T477 414T533 392Q592 362 630 319T681 241T694 174Q694 153 674 153Q662 153 657 163T652 188T640 231T606 287Q500 416 137 422H114Q104 422 98 423T88 428T84 442ZM56 -194Q56 -107 106 -51T222 6Q260 6 296 -12T362 -56T420 -108T483 -153T554 -171Q616 -171 654 -128T694 -29Q696 6 708 6Q722 6 722 -26Q722 -102 676 -164T557 -227Q518 -227 481 -209T415 -165T358 -113T294 -69T223 -51Q163 -51 125 -93T83 -196Q81 -228 69 -228Q56 -228 56 -202V-194',
    0x227F: '84 710Q84 732 102 732Q115 732 119 722T125 696T137 652T171 597Q277 468 640 462H661Q694 462 694 442T661 422H640Q578 421 526 417T415 403T309 376T222 333T156 268T124 179Q122 162 118 158T103 153Q100 153 98 153T95 154T93 155T90 158T85 163Q83 167 83 176Q88 222 105 260T151 325T208 371T277 405T342 426T404 442Q401 443 380 447T345 456T302 469T245 492Q125 551 92 661Q84 695 84 710ZM56 -194Q56 -107 106 -51T222 6Q260 6 296 -12T362 -56T420 -108T483 -153T554 -171Q616 -171 654 -128T694 -29Q696 6 708 6Q722 6 722 -26Q722 -102 676 -164T557 -227Q518 -227 481 -209T415 -165T358 -113T294 -69T223 -51Q163 -51 125 -93T83 -196Q81 -228 69 -228Q56 -228 56 -202V-194',
    0x2280: '386 292Q388 292 439 393T543 598T598 703Q599 703 603 704T609 705Q616 705 622 699T629 685T533 494Q440 308 440 305Q451 310 462 312Q547 342 592 388T651 505Q654 525 658 532T673 539Q680 539 686 533T693 519Q693 495 678 450Q638 341 500 283Q433 259 418 259Q416 259 411 251T406 241T415 239Q482 224 544 190Q674 121 691 -10Q693 -28 691 -32Q684 -43 672 -43Q664 -43 658 -37Q656 -33 650 -6T634 47T589 109T500 168Q473 179 436 190T388 201H386L284 -1Q261 -45 232 -101T191 -181T178 -206Q176 -206 172 -207T166 -208Q160 -208 153 -202T146 -188Q146 -185 246 12Q344 206 344 210Q344 213 305 217T213 225T124 228H95Q82 241 82 248Q82 253 95 268H124Q172 268 236 273T343 283T386 292',
    0x2281: '103 -43Q96 -43 89 -39T82 -26L84 -10Q105 141 275 212Q342 236 355 236Q360 236 364 245L369 256H360Q284 280 275 283Q115 351 86 490Q82 507 82 517Q82 526 88 532T103 538Q110 538 115 534Q119 531 122 517T128 486T143 444T174 397T231 351T320 310Q371 292 389 292L491 496Q595 701 598 703Q599 703 603 704T609 705Q616 705 622 699T629 685Q629 684 531 485Q431 296 431 288Q431 278 520 273T651 268H680Q693 253 693 248Q693 241 680 228H651Q591 228 491 218T386 201L284 -1Q261 -45 232 -101T191 -181T178 -206Q176 -206 172 -207T166 -208Q160 -208 153 -202T146 -188Q146 -182 302 125L335 190L324 185Q313 185 289 172Q241 153 208 128T159 78T135 31T124 -11T118 -37Q112 -43 103 -43',
    0x2282: '84 250Q84 372 166 450T360 539Q361 539 370 539T395 539T430 540T475 540T524 540H679Q694 532 694 520Q694 511 681 501L522 500H470H441Q366 500 338 496T266 472Q244 461 224 446T179 404T139 337T124 250V245Q124 157 185 89Q244 25 328 7Q348 2 366 2T522 0H681Q694 -10 694 -20Q694 -32 679 -40H526Q510 -40 480 -40T434 -41Q350 -41 289 -25T172 45Q84 127 84 250',
    0x2283: '83 520Q83 532 98 540H251Q267 540 297 540T343 541Q427 541 488 525T605 455Q693 374 693 250Q693 165 650 99T545 0T415 -39Q407 -40 251 -40H98Q83 -32 83 -20Q83 -10 96 0H255H308H337Q412 0 439 4T512 28Q533 39 553 54T599 96T639 163T654 250Q654 341 592 411Q557 449 512 472Q468 491 439 495T335 500H306H255L96 501Q83 511 83 520',
    0x2286: '84 346Q84 468 166 546T360 635Q361 635 370 635T395 635T430 636T475 636T524 636H679Q694 628 694 616Q694 607 681 597L522 596H470H441Q366 596 338 592T266 568Q244 557 224 542T179 500T139 433T124 346V341Q124 253 185 185Q244 121 328 103Q348 98 366 98T522 96H681Q694 86 694 76Q694 64 679 56H526Q510 56 480 56T434 55Q350 55 289 71T172 141Q84 223 84 346ZM104 -131T104 -118T118 -98H679Q694 -106 694 -118T679 -138H118Q104 -131 104 -118',
    0x2287: '83 616Q83 628 98 636H251Q267 636 297 636T343 637Q427 637 488 621T605 551Q693 470 693 346Q693 261 650 195T545 96T415 57Q407 56 251 56H98Q83 64 83 76Q83 86 96 96H255H308H337Q412 96 439 100T512 124Q533 135 553 150T599 192T639 259T654 346Q654 437 592 507Q557 545 512 568Q468 587 439 591T335 596H306H255L96 597Q83 607 83 616ZM84 -131T84 -118T98 -98H659Q674 -106 674 -118T659 -138H98Q84 -131 84 -118',
    0x2288: '146 -283Q146 -282 174 -213T202 -143H115Q102 -127 102 -123T115 -103H220L291 68L278 73Q203 101 153 157T86 288Q83 309 83 344Q83 380 86 399Q107 480 160 539Q222 601 298 621Q328 630 345 631T435 635L526 637L560 715Q587 778 593 789T609 801Q616 801 622 795T629 781Q629 780 625 771T614 742T600 706L571 637Q571 635 626 635H680Q693 620 693 613T689 601L682 597L618 595H553L449 346Q425 288 399 223T359 127T346 95H356Q365 95 381 95T417 94T463 93T515 93H682Q693 82 693 74T680 53H511Q420 55 335 55L329 57L262 -103H680Q682 -105 684 -108T688 -113T691 -118T693 -124Q693 -134 682 -141L464 -143H246L213 -219Q182 -292 178 -299Q172 -303 166 -303T153 -297T146 -283ZM509 590Q509 595 438 595Q354 595 318 586Q246 567 195 516T126 395Q123 378 123 344T126 293Q141 229 184 181T291 110L306 104L406 346L509 590',
    0x2289: '82 606T82 613T95 635H251H348Q408 635 435 632T502 615L515 608L520 617Q520 619 558 708Q584 774 591 787T609 801Q616 801 622 795T629 781Q629 775 562 615L551 590L569 577Q646 527 678 437Q691 398 691 344T678 250Q653 182 597 132T469 64Q427 53 366 53H326L295 -25L262 -103H660Q673 -118 673 -124Q673 -129 669 -136L662 -141L453 -143H246L213 -219Q182 -292 178 -299Q172 -303 166 -303T153 -297T146 -283Q146 -282 174 -213T202 -143H95Q82 -128 82 -123T95 -103H220L251 -25L284 53H189L93 55L86 59Q82 64 82 71T95 93H302L400 333Q498 569 498 573L444 590Q431 593 260 595L93 597L86 601Q82 606 82 613ZM652 344V354Q652 451 575 521Q571 526 557 538T537 551Q534 551 533 548Q533 543 438 319L344 95L371 93H386Q487 93 557 150T649 293Q652 309 652 344',
    0x228A: '693 72Q693 68 692 66T686 59T680 52H524Q398 52 367 53T309 63Q236 82 180 132T98 250Q84 288 84 343Q84 397 98 437Q126 515 193 568T346 632Q347 632 373 633T440 634T520 635H680Q693 620 693 615Q693 608 680 595H526Q364 595 353 592Q279 582 221 539T138 430Q124 392 124 343Q124 296 138 257Q163 192 221 149T353 95Q364 92 526 92H680Q693 79 693 72ZM102 -132T102 -125T115 -103H382L420 -68Q429 -60 438 -52T452 -39T463 -28T472 -20T478 -14T483 -10T487 -7T490 -6T493 -5T496 -5Q502 -5 508 -12T515 -28Q515 -34 513 -37Q512 -38 507 -42T492 -55T475 -70L440 -101L562 -103H682Q693 -114 693 -122T680 -143H395L355 -179Q289 -241 280 -241Q273 -241 267 -235T260 -221T265 -208T300 -174L335 -143H224L113 -141L106 -137Q102 -132 102 -125',
    0x228B: '82 615Q82 620 95 635H251Q378 635 409 634T469 623Q540 605 596 555T678 437Q691 397 691 343T678 250Q649 172 581 119T426 55Q415 52 251 52H95Q93 55 89 59T84 65T82 72Q82 79 95 92H249Q411 92 422 95Q496 105 554 148T638 257Q651 296 651 343Q651 391 638 430Q613 495 555 538T422 592Q411 595 249 595H95Q82 608 82 615ZM82 -132T82 -125T95 -103H380L420 -57Q452 -21 460 -14T474 -6Q482 -6 488 -12T495 -25T451 -81L433 -101L549 -103H662Q673 -114 673 -122T660 -143H395L355 -190Q311 -239 309 -239Q305 -241 302 -241Q294 -241 287 -235T280 -221T324 -163L342 -143H218L93 -141L86 -137Q82 -132 82 -125',
    0x228E: '591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598ZM313 406Q313 417 313 435T312 459Q312 483 316 493T333 503T349 494T353 461V406V325H515Q516 325 519 323T527 316T531 305T527 294T520 287T515 285H353V204V152Q353 127 350 117T333 107T316 117T312 152Q312 158 312 175T313 204V285H151Q150 285 147 287T139 294T135 305T139 316T146 323T151 325H313V406',
    0x228F: '83 523Q87 535 99 539H679Q694 531 694 519Q694 506 679 499H123V-1H678Q694 -7 694 -21Q694 -34 679 -41H98Q93 -38 84 -28L83 247V523',
    0x2290: '64 506T64 519T78 539H699Q706 536 714 526V-28Q706 -38 699 -41H78Q64 -34 64 -21Q64 -6 80 -1H674V499H78Q64 506 64 519',
    0x2291: '94 620Q98 632 110 636H699Q714 628 714 616T699 596H134V96H698Q714 90 714 76Q714 64 699 56H109Q104 59 95 69L94 344V620ZM84 -118Q84 -103 100 -98H698Q714 -104 714 -118Q714 -130 699 -138H98Q84 -131 84 -118',
    0x2292: '64 603T64 616T78 636H668Q675 633 683 623V69Q675 59 668 56H78Q64 63 64 76Q64 91 80 96H643V596H78Q64 603 64 616ZM64 -118Q64 -108 79 -98H678Q694 -104 694 -118Q694 -130 679 -138H78Q64 -131 64 -118',
    0x2293: '83 0Q79 0 76 1T71 3T67 6T65 9T63 13T61 16V301L62 585Q70 595 76 598H592Q602 590 605 583V15Q598 2 587 0Q583 0 580 1T575 3T571 6T569 9T567 13T565 16V558H101V15Q94 2 83 0',
    0x2294: '77 0Q65 4 61 16V301L62 585Q72 598 81 598Q94 598 101 583V40H565V583Q573 598 585 598Q598 598 605 583V15Q602 10 592 1L335 0H77',
    0x2295: '56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM364 542Q308 539 251 509T148 418T96 278V270H369V542H364ZM681 278Q675 338 650 386T592 462T522 509T458 535T412 542H409V270H681V278ZM96 222Q104 150 139 95T219 12T302 -29T366 -42H369V230H96V222ZM681 222V230H409V-42H412Q429 -42 456 -36T521 -10T590 37T649 113T681 222',
    0x2296: '56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM681 278Q669 385 591 463T381 542Q283 542 196 471T96 278V270H681V278ZM275 -42T388 -42T585 32T681 222V230H96V222Q108 107 191 33',
    0x2297: '56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM582 471Q531 510 496 523Q446 542 381 542Q324 542 272 519T196 471L389 278L485 375L582 471ZM167 442Q95 362 95 250Q95 137 167 58L359 250L167 442ZM610 58Q682 138 682 250Q682 363 610 442L418 250L610 58ZM196 29Q209 16 230 2T295 -27T388 -42Q409 -42 429 -40T465 -33T496 -23T522 -11T544 1T561 13T574 22T582 29L388 222L196 29',
    0x2298: '56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM582 471Q581 472 571 480T556 491T539 502T517 514T491 525T460 534T424 539T381 542Q272 542 184 460T95 251Q95 198 113 150T149 80L167 58L582 471ZM388 -42Q513 -42 597 44T682 250Q682 363 610 442L196 29Q209 16 229 2T295 -27T388 -42',
    0x2299: '56 250Q56 394 156 488T384 583Q530 583 626 485T722 250Q722 110 625 14T390 -83Q249 -83 153 14T56 250ZM682 250Q682 322 649 387T546 497T381 542Q272 542 184 459T95 250Q95 132 178 45T389 -42Q515 -42 598 45T682 250ZM311 250Q311 285 332 304T375 328Q376 328 382 328T392 329Q424 326 445 305T466 250Q466 217 445 195T389 172Q354 172 333 195T311 250',
    0x229A: '57 250Q57 327 87 392T166 497T270 560T382 582H394Q512 582 610 500Q721 401 721 250Q721 112 626 15T389 -82Q251 -82 154 13T57 250ZM682 129T682 250T596 457T390 543Q269 543 183 457T96 250Q96 132 180 45T389 -43Q511 -43 596 43ZM250 250Q250 316 295 352T384 388Q451 388 489 347T528 250Q528 192 487 152T389 112Q331 112 291 152T250 250ZM488 250Q488 290 460 319T389 349Q348 349 319 320T290 250Q290 208 320 180T389 151Q431 151 459 181T488 250',
    0x229B: '57 250Q57 327 87 392T166 497T270 560T382 582H394Q512 582 610 500Q721 401 721 250Q721 112 626 15T389 -82Q251 -82 154 13T57 250ZM682 129T682 250T596 457T390 543Q269 543 183 457T96 250Q96 132 180 45T389 -43Q511 -43 596 43ZM204 339Q204 357 215 366T238 375Q247 375 283 348Q300 336 311 328L368 286Q369 286 366 323T359 398T355 437Q357 456 379 465Q380 465 384 465T391 466Q403 465 412 457T423 437Q423 436 420 398T413 323T410 286L467 328Q476 334 486 341T501 353T513 361T523 368T529 372T535 374T541 375Q554 375 564 365T575 339Q575 325 566 318T519 292Q504 285 496 281L430 250L496 219Q552 192 559 188T572 175Q575 168 575 161Q575 148 566 137T541 126H538Q530 126 499 149Q480 163 467 172L410 214Q409 214 412 177T419 102T423 63Q423 59 421 54T411 43T389 36T368 42T357 54T355 63Q355 64 358 102T365 177T368 214L311 172Q302 165 293 159T279 148T268 140T260 134T254 131T250 128T246 127T242 126T238 126Q223 126 214 135T204 161T213 183T282 219L348 250L282 281Q226 308 219 312T206 325Q204 330 204 339',
    0x229D: '57 250Q57 327 87 392T166 497T270 560T382 582H394Q512 582 610 500Q721 401 721 250Q721 112 626 15T389 -82Q251 -82 154 13T57 250ZM682 129T682 250T596 457T390 543Q269 543 183 457T96 250Q96 132 180 45T389 -43Q511 -43 596 43ZM223 250Q223 263 233 267T280 271Q289 271 325 271T389 270H490Q535 270 545 267T555 250Q555 241 549 235Q544 231 527 231T389 230Q239 230 235 232Q223 236 223 250',
    0x229E: '71 0Q59 4 55 16V346L56 676Q64 686 70 689H709Q719 681 722 674V15Q719 10 709 1L390 0H71ZM369 365V649H95V365H369ZM682 365V649H409V365H682ZM369 40V325H95V40H369ZM682 40V325H409V40H682',
    0x229F: '71 0Q59 4 55 16V346L56 676Q64 686 70 689H709Q719 681 722 674V15Q719 10 709 1L390 0H71ZM682 365V649H95V365H682ZM682 40V325H95V40H682',
    0x22A0: '71 0Q59 4 55 16V346L56 676Q64 686 70 689H707Q714 686 722 676V13Q714 3 707 0H71ZM123 649Q147 625 214 555T335 430T389 374L654 649H123ZM95 70Q99 74 229 209T360 345L95 619V70ZM682 70V619L418 346Q417 344 549 207L682 70ZM654 41L400 304L388 315L123 41L256 40H522L654 41',
    0x22A1: '71 0Q59 4 55 16V346L56 676Q64 686 70 689H709Q719 681 722 674V15Q719 10 709 1L390 0H71ZM682 40V649H95V40H682ZM330 345Q330 371 347 388T390 405Q412 405 430 389T448 345Q448 317 430 301T389 285T348 301T330 345',
    0x22A2: '55 678Q55 679 56 681T58 684T61 688T65 691T70 693T77 694Q88 692 95 679V367H540Q555 359 555 347Q555 334 540 327H95V15Q88 2 77 0Q73 0 70 1T65 3T61 6T59 9T57 13T55 16V678',
    0x22A3: '515 678Q515 679 516 681T518 684T521 688T525 691T530 693T537 694Q548 692 555 679V15Q548 2 537 0Q533 0 530 1T525 3T521 6T519 9T517 13T515 16V327H71Q70 327 67 329T59 336T55 347T59 358T66 365T71 367H515V678',
    0x22A4: '55 642T55 648T59 659T66 666T71 668H708Q723 660 723 648T708 628H409V15Q402 2 391 0Q387 0 384 1T379 3T375 6T373 9T371 13T369 16V628H71Q70 628 67 630T59 637',
    0x22A5: '369 652Q369 653 370 655T372 658T375 662T379 665T384 667T391 668Q402 666 409 653V40H708Q723 32 723 20T708 0H71Q70 0 67 2T59 9T55 20T59 31T66 38T71 40H369V652',
    0x22A8: '139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V367H796Q811 359 811 347Q811 336 797 328L479 327H161L159 328V172L161 173H797Q798 172 800 171T803 169T805 167T808 164T809 162T810 158T811 153Q811 140 796 133H159V-235Q151 -249 141 -249H139',
    0x22A9: '55 678Q55 679 56 681T58 684T61 688T65 691T70 693T77 694Q88 692 95 679V15Q88 2 77 0Q73 0 70 1T65 3T61 6T59 9T57 13T55 16V678ZM249 678Q249 679 250 681T252 684T255 688T259 691T264 693T271 694Q282 692 289 679V367H651Q666 359 666 347Q666 334 651 327H289V15Q282 2 271 0Q267 0 264 1T259 3T255 6T253 9T251 13T249 16V678',
    0x22AA: '55 678Q55 679 56 681T58 684T61 688T65 691T70 693T77 694Q88 692 95 679V15Q88 2 77 0Q73 0 70 1T65 3T61 6T59 9T57 13T55 16V678ZM237 678Q237 679 238 681T240 684T243 688T247 691T252 693T259 694Q270 692 277 679V15Q270 2 259 0Q255 0 252 1T247 3T243 6T241 9T239 13T237 16V678ZM419 678Q419 679 420 681T422 684T425 688T429 691T434 693T441 694Q452 692 459 679V367H818Q833 359 833 347Q833 334 818 327H459V15Q452 2 441 0Q437 0 434 1T429 3T425 6T423 9T421 13T419 16V678',
    0x22AC: '56 681Q70 695 76 695T96 681V368H243L381 530Q521 692 525 692Q537 700 547 688Q554 682 554 674Q554 671 553 669T548 661T539 649T522 631T499 604T465 565T421 512Q296 373 296 368H416H476Q525 368 539 365T554 348Q554 334 543 328H261L96 141V12Q81 -1 75 -1Q65 -1 58 10L56 50V92L18 48Q7 37 -1 28T-13 14T-19 6T-23 1T-27 0T-33 -1Q-42 -1 -48 4T-55 19Q-55 24 -47 34T12 103L56 155V681ZM205 326Q205 328 152 328H96V263Q96 203 98 203Q99 203 123 231T174 290T205 326',
    0x22AD: '56 681Q70 695 76 695T96 681V466H327L425 579Q522 692 527 692Q529 693 534 693Q542 693 547 688T553 674Q553 668 549 663Q549 662 538 650T504 611T463 563L381 468L461 466H543Q554 453 554 446T541 426H345L209 272L376 270H543Q554 257 554 251T541 230H174L96 141V12Q81 -1 75 -1Q65 -1 58 10L56 50V92L18 48Q7 37 -1 28T-13 14T-19 6T-23 1T-27 0T-33 -1Q-42 -1 -48 4T-55 19Q-55 24 -47 34T12 103L56 155V681ZM267 399L292 426H96V270H158L201 321Q256 382 267 399ZM118 228L119 229Q119 230 109 230H96V201L107 212Q118 227 118 228',
    0x22AE: '56 681Q70 695 77 695T96 683V428L98 175L252 323V681Q264 695 272 695Q278 695 292 681V526Q292 368 296 368Q298 368 447 510Q638 695 642 695H645Q651 695 658 688T665 673Q665 666 661 661Q659 660 639 641T578 582T505 512L356 370L505 368H654Q665 357 665 349Q665 343 652 328H314L303 317L292 308V12Q289 10 285 6T279 1T272 -1Q265 -1 252 12V139Q252 266 249 266L96 119V12Q80 -1 76 -1T70 0T63 6T56 12V79L29 55Q-26 -1 -35 -1Q-42 -1 -48 5T-55 19Q-55 25 -51 30T-15 66Q5 86 18 99L56 135V681',
    0x22AF: '56 681Q70 695 77 695T96 683V428L98 175L252 323V681Q264 695 272 695Q278 695 292 681V466H401L503 563L621 679Q637 695 645 695Q652 695 658 688T665 673Q665 670 663 666Q663 665 651 652T611 612T561 563L458 468L556 466H654Q665 455 665 447T652 426H416L294 308L292 288V270H652Q665 255 665 250T652 230H292V12Q289 10 285 6T279 1T272 -1Q265 -1 252 12V139Q252 266 249 266L96 119V12Q80 -1 76 -1T70 0T63 6T56 12V79L29 55Q-26 -1 -35 -1Q-42 -1 -48 5T-55 19Q-55 25 -51 30T-15 66Q5 86 18 99L56 135V681ZM358 426H292V361L325 392L358 426',
    0x22B2: '694 -26Q686 -40 676 -41H670L382 95Q92 232 90 234Q83 239 83 249Q83 262 96 267Q101 270 379 401T665 537Q671 539 674 539Q686 539 694 524V-26ZM654 11T654 249T653 487T402 369T151 249L275 190Q399 131 524 72T652 11Q654 11 654 249',
    0x22B3: '83 523Q83 524 85 527T92 535T103 539Q107 539 389 406T680 268Q694 260 694 249Q694 239 687 234Q685 232 395 95L107 -41H101Q90 -40 83 -26V523ZM376 368Q323 393 254 425T155 472L125 487Q123 487 123 249T125 11Q127 12 252 71T502 190L626 249L376 368',
    0x22B4: '694 71Q686 58 676 56H670L382 192Q92 329 90 331Q83 336 83 346Q83 359 96 364Q101 367 379 498T665 634Q671 636 674 636Q686 636 694 621V71ZM654 108T654 346T653 584T402 466T151 346L275 287Q399 228 524 169T652 108Q654 108 654 346ZM83 -120Q83 -116 84 -113T86 -108T89 -104T92 -102T96 -100T99 -98H678Q679 -98 681 -99T684 -101T688 -104T691 -108T693 -113T694 -120Q692 -130 679 -138H98Q84 -130 83 -120',
    0x22B5: '83 620Q83 621 85 624T92 632T103 636Q107 636 389 503T680 365Q694 357 694 346Q694 336 687 331Q685 329 395 192L107 56H101Q90 58 83 71V620ZM376 465Q323 490 254 522T155 570L125 584Q123 584 123 346T125 108Q127 109 252 168T502 287L626 346L376 465ZM83 -120Q83 -116 84 -113T86 -108T89 -104T92 -102T96 -100T99 -98H678Q679 -98 681 -99T684 -101T688 -104T691 -108T693 -113T694 -120Q692 -130 679 -138H98Q84 -130 83 -120',
    0x22B8: '1055 250Q1055 190 1012 141T896 92Q858 92 828 106T781 140T755 180T741 214L738 228V230H405Q71 230 68 232Q55 238 55 250T68 268Q71 270 405 270H738V272L740 280Q742 287 745 297T754 321T771 348T796 374T832 396T881 408H891Q969 408 1012 360T1055 250ZM896 132Q948 132 981 166T1014 250Q1014 301 985 330T920 367Q914 368 891 368Q853 368 816 338T778 250Q778 198 812 165T896 132',
    0x22BA: '318 -182Q302 -212 280 -212H278H275Q249 -212 239 -182L238 84V351H162L87 352Q57 362 57 391T84 429Q89 431 280 431H470L474 429Q477 427 479 426T484 423T490 417T495 410T499 402T500 391Q500 365 470 352L394 351H318V-182',
    0x22BB: '56 697Q56 706 62 711T75 716Q86 716 90 709Q91 708 104 680T147 592T199 483L305 261L411 483Q443 548 481 629Q512 694 518 705T535 716Q543 716 549 710T555 700Q555 693 501 577T388 340T325 210Q316 194 305 194Q292 194 285 210Q282 219 224 339T111 574T56 697ZM55 14T55 20T59 31T66 38T71 40H540Q555 32 555 20T540 0H71Q70 0 67 2T59 9',
    0x22BC: '55 698Q56 708 70 716H540Q554 708 555 698Q555 694 554 691T552 686T549 682T546 680T542 678T539 676H71Q70 676 68 677T65 679T61 682T58 686T56 691T55 698ZM555 18Q554 12 549 6T536 0H535Q525 0 515 17T459 132Q430 194 410 235L305 455L199 233Q176 185 147 125T105 36T90 7Q85 0 75 0Q63 0 58 11Q55 15 55 21Q58 31 170 266T285 507Q295 522 305 522T320 515Q322 513 439 268L555 24V18',
    0x22C0: '119 -249T97 -249T65 -235T55 -207Q55 -201 56 -198Q58 -190 218 268T380 729Q392 750 416 750Q438 750 451 732Q453 728 534 498T695 36L775 -194Q777 -204 777 -208Q777 -222 767 -235T735 -249Q713 -249 700 -231Q696 -225 557 177L416 579L276 177Q136 -226 132 -231Q119 -249 97 -249',
    0x22C1: '55 708Q55 729 68 739T96 750Q119 750 132 731Q136 726 276 323L416 -79L557 323Q696 725 700 731Q713 749 735 749Q756 749 766 736T777 708Q777 700 696 466T533 1T451 -232Q436 -249 416 -249Q402 -249 391 -241Q384 -236 380 -226Q368 -198 219 230Q55 697 55 708',
    0x22C2: '139 -217Q127 -241 114 -246Q106 -249 97 -249Q67 -249 57 -220Q55 -214 55 102Q55 152 55 221T54 312Q54 422 60 464T91 554Q120 612 165 654T257 714T337 741T392 749Q393 750 402 750Q414 750 422 749Q557 749 660 659T776 430Q777 422 777 102Q777 -214 775 -220Q765 -249 735 -249Q716 -249 708 -241T694 -217L692 428L690 441Q674 540 597 603T416 666H409Q388 666 364 662T294 638T212 581Q156 523 142 441L140 428L139 105V-217',
    0x22C3: '96 750Q103 750 109 748T120 744T127 737T133 730T137 723T139 718V395L140 73L142 60Q159 -43 237 -104T416 -166Q521 -166 597 -103T690 60L692 73L694 718Q708 749 735 749Q765 749 775 720Q777 714 777 398Q777 78 776 71Q766 -51 680 -140Q571 -249 416 -249H411Q261 -249 152 -140Q66 -51 56 71Q55 78 55 398Q55 714 57 720Q60 734 70 740Q80 750 96 750',
    0x22C4: '242 486Q245 488 250 488Q256 488 258 486Q262 484 373 373T486 258T488 250T486 242T373 127T258 14Q256 12 250 12Q245 12 242 14Q237 16 127 126T14 242Q12 245 12 250T14 258Q16 263 126 373T242 486ZM439 250L250 439L61 250L250 61L439 250',
    0x22C5: '78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250',
    0x22C6: '210 282Q210 284 225 381T241 480Q241 484 245 484Q249 486 251 486Q258 486 260 477T272 406Q275 390 276 380Q290 286 290 282L388 299Q484 314 487 314H488Q497 314 497 302Q497 297 434 266Q416 257 404 251L315 206L361 118Q372 98 383 75T401 40L407 28Q407 16 395 16Q394 16 392 16L390 17L250 159L110 17L108 16Q106 16 105 16Q93 16 93 28L99 40Q105 52 116 75T139 118L185 206L96 251Q6 296 4 300Q3 301 3 302Q3 314 12 314H13Q16 314 112 299L210 282',
    0x22C7: '366 543Q374 545 382 545Q405 545 419 538Q429 534 443 521T462 496Q466 478 466 467Q466 438 444 412Q422 390 388 390Q352 390 331 412Q311 434 311 467Q311 499 331 518Q345 533 366 543ZM146 472Q146 479 153 485T166 492Q171 492 187 476T279 385L386 278L495 385Q600 492 608 492Q615 492 621 486T628 472Q628 467 614 452T531 367L435 270H706Q720 256 720 250Q720 241 706 230H435L531 132Q600 63 614 48T628 27Q628 20 622 14T608 7Q600 7 495 114L386 221L279 114Q204 39 188 23T166 7Q159 7 153 13T146 27Q146 32 160 47T244 132L339 230H68Q55 243 55 250Q55 255 68 270H339L244 367Q175 436 161 451T146 472ZM466 34Q466 4 447 -20T388 -44Q353 -44 331 -22Q311 1 311 34Q311 66 331 85Q347 101 366 110Q374 112 382 112Q405 112 419 105Q429 100 443 87T462 63Q466 45 466 34',
    0x22C8: '833 50T833 250T832 450T659 351T487 250T658 150T832 50Q833 50 833 250ZM873 10Q866 -5 854 -5Q851 -5 845 -3L449 226L260 115Q51 -5 43 -5Q39 -5 35 -1T28 7L26 11V489Q33 505 43 505Q51 505 260 385L449 274L845 503Q851 505 853 505Q866 505 873 490V10ZM412 250L67 450Q66 450 66 250T67 50Q69 51 240 150T412 250',
    0x22C9: '146 479Q159 492 166 492Q171 492 189 475T279 386L386 279L495 386Q598 492 608 492Q615 492 621 486T628 472Q628 464 522 357L415 250L522 144Q628 37 628 28Q628 21 622 15T608 8Q599 8 495 115L386 221L279 115Q204 40 188 24T166 8Q162 8 160 9T153 15T146 21V479ZM186 77L359 250L186 424V77',
    0x22CA: '146 472Q146 479 152 485T166 492Q171 492 189 475T279 386L386 279L495 386Q598 492 608 492Q615 492 628 479V21Q615 8 608 8Q599 8 495 115L386 221L279 115Q204 40 188 24T166 8Q159 8 153 14T146 28Q146 37 253 144L359 250L253 357Q146 464 146 472ZM588 77V424L499 337L415 250L588 77',
    0x22CB: '55 674Q55 682 62 688T76 694H77Q83 694 100 677T208 561Q320 440 410 342Q462 286 541 201Q677 55 699 30T722 -2Q722 -9 716 -15T701 -22T688 -17Q687 -15 542 141T394 301L388 306L240 146Q119 15 101 -3T75 -22T61 -16T55 -2Q55 4 67 19T158 117Q190 151 209 172L361 336L209 500Q62 657 57 667Q55 671 55 674',
    0x22CC: '84 -22T76 -22T62 -16T55 -2Q55 4 78 30T249 215Q321 293 367 342Q672 672 683 682Q695 694 702 694Q710 694 716 688T722 674Q722 668 710 653T619 555Q587 521 568 500L416 336L568 172Q715 15 720 5Q722 1 722 -2Q722 -9 716 -15T702 -22H700Q693 -22 671 1T537 146L389 306Q387 304 340 253T237 143T135 33L89 -17Q84 -22 76 -22',
    0x22CD: '56 433Q56 464 71 464Q74 464 77 461Q82 454 82 438T91 397T123 347Q166 307 222 307Q264 307 308 331T386 385T465 438T556 463Q631 463 676 408T722 283Q722 250 708 250Q704 250 699 257Q695 265 693 286T682 330Q670 350 655 367Q612 407 556 407Q514 407 470 383T393 329T314 276T222 251Q148 251 102 306T56 433ZM57 56Q57 71 73 76H706Q722 70 722 56Q722 44 707 36H71Q57 43 57 56',
    0x22CE: '83 558Q83 566 89 572T104 578Q108 578 116 577T146 570T190 555T239 526T286 480Q308 453 325 420T351 358T367 304T376 265T380 251T381 253Q381 262 395 312Q428 434 492 499T642 576Q654 578 655 578Q664 578 670 572T676 558Q676 543 657 540T599 524T525 476Q406 362 400 29V8Q400 -21 380 -21Q369 -21 362 -11Q360 -7 360 12Q360 115 348 200T308 360T231 480T111 537Q83 540 83 558',
    0x22CF: '104 -22Q95 -22 89 -16T83 -2Q83 11 98 16T135 23T192 46T256 103Q360 233 360 549Q360 554 360 557T361 563T362 567T364 569T367 572T371 576Q377 578 380 578Q401 578 401 547Q401 543 401 537T400 527Q409 53 648 19Q676 16 676 -2Q676 -10 670 -16T655 -22Q654 -22 642 -20Q556 -9 492 56T395 244Q381 294 381 303Q381 305 380 305T374 275T352 201T310 110T234 27T117 -20Q105 -22 104 -22',
    0x22D0: '84 250Q84 372 166 450T360 539Q361 539 370 539T395 539T430 540T475 540T524 540H679Q694 532 694 520Q694 511 681 501L522 500H470H441Q366 500 338 496T266 472Q244 461 224 446T179 404T139 337T124 250V245Q124 157 185 89Q244 25 328 7Q348 2 366 2T522 0H681Q694 -10 694 -20Q694 -32 679 -40H526Q510 -40 480 -40T434 -41Q350 -41 289 -25T172 45Q84 127 84 250ZM694 134Q694 123 679 114H425H384Q350 114 326 121T277 154Q238 193 238 251Q238 322 295 361Q318 378 339 382T412 387Q423 387 459 387T520 386H679Q694 377 694 366Q694 354 679 346H519Q493 346 458 346T411 347Q360 347 341 342T303 315Q278 287 278 250Q278 210 301 187T351 156Q358 154 519 154H679Q694 146 694 134',
    0x22D1: '83 520Q83 532 98 540H251Q267 540 297 540T343 541Q427 541 488 525T605 455Q693 374 693 250Q693 165 650 99T545 0T415 -39Q407 -40 251 -40H98Q83 -32 83 -20Q83 -10 96 0H255H308H337Q412 0 439 4T512 28Q533 39 553 54T599 96T639 163T654 250Q654 341 592 411Q557 449 512 472Q468 491 439 495T335 500H306H255L96 501Q83 511 83 520ZM83 366Q83 376 96 386H244Q280 386 317 386T378 386L402 387Q456 387 498 348T540 250Q540 203 512 168T446 120Q427 114 353 114H99Q84 120 84 134Q84 147 98 154H258Q284 154 319 154T366 153Q416 153 436 158T474 185Q500 214 500 250Q500 290 477 313T426 344Q419 346 258 346H98Q83 354 83 366',
    0x22D2: '88 -21T75 -21T55 -7V200Q55 231 55 280Q56 414 60 428Q61 430 61 431Q77 500 152 549T332 598Q443 598 522 544T610 405Q611 399 611 194V-7Q604 -22 591 -22Q582 -22 572 -9L570 405Q563 433 556 449T529 485Q498 519 445 538T334 558Q251 558 179 518T96 401Q95 396 95 193V-7Q88 -21 75 -21ZM229 -21H227Q215 -21 209 -7V166Q209 304 209 327T215 363Q226 398 259 421T333 444Q380 444 414 416T455 347Q457 339 457 166V-7Q449 -21 439 -21H437H435Q423 -21 417 -7V164Q417 303 417 325T411 358Q387 403 333 403T255 358Q250 347 250 325T249 164V-7Q241 -21 231 -21H229',
    0x22D3: '591 598H592Q604 598 611 583V376Q611 345 611 296Q610 162 606 148Q605 146 605 145Q586 68 507 23T333 -22Q268 -22 209 -1T106 66T56 173Q55 180 55 384L56 585Q66 598 75 598Q85 598 95 585V378L96 172L98 162Q112 95 181 57T332 18Q415 18 487 58T570 175Q571 180 571 383V583Q579 598 591 598ZM437 598Q450 598 457 583V410Q457 237 455 229Q448 189 414 161T333 132Q291 132 255 157T211 230Q209 237 209 412L210 585Q220 598 229 598Q242 598 249 583V412Q249 273 249 251T255 218Q279 173 333 173T411 218Q416 229 416 251T417 412V583Q425 598 437 598',
    0x22D4: '76 -22Q64 -22 56 -7V176L57 360L59 370Q66 401 83 426T123 468T171 495T221 513T265 522T298 527L311 528H314V625L315 723Q325 736 334 736Q346 736 354 721V528H356L368 527Q380 526 399 523T441 515T490 498T537 472T578 433T606 379Q611 359 611 171V-7Q604 -21 591 -21T571 -7V170Q571 313 571 337T565 375Q555 408 526 432T461 467T402 482T365 487H354V-7Q347 -21 334 -21T314 -7V487H303Q251 484 207 467Q121 438 99 367L97 357L96 174V-9Q86 -22 76 -22',
    0x22D6: '86 261Q92 267 381 404T673 541Q680 541 686 535T693 521T689 510Q684 504 418 379L151 250L418 121Q686 -4 689 -10Q693 -14 693 -21T687 -34T675 -41Q668 -41 380 96T86 239Q82 244 82 250Q82 257 86 261ZM610 250Q610 224 592 198T531 172Q498 172 475 195Q453 214 453 250Q453 308 513 328Q515 330 535 330Q569 328 589 304T610 250',
    0x22D7: '82 521Q82 529 89 535T100 541Q107 541 395 404T689 261Q693 257 693 250T689 239Q684 234 396 97T100 -41Q95 -41 89 -35T82 -21Q82 -12 96 -4Q118 9 358 121L624 250L358 379Q91 503 86 510Q82 514 82 521ZM165 250Q165 282 188 306T239 330Q262 330 275 323Q303 312 318 283Q322 272 322 250Q322 213 300 195Q277 172 246 172Q224 172 213 177Q165 200 165 250',
    0x22D8: '639 -48Q639 -54 634 -60T619 -67H618Q612 -67 536 -26Q430 33 329 88Q61 235 59 239Q56 243 56 250T59 261Q62 266 336 415T615 567L619 568Q622 567 625 567Q639 562 639 548Q639 540 633 534Q632 532 374 391L117 250L374 109Q632 -32 633 -34Q639 -40 639 -48ZM958 -48Q958 -54 953 -60T938 -67H937Q931 -67 855 -26Q749 33 648 88Q380 235 378 239Q375 243 375 250T378 261Q381 266 655 415T934 567L938 568Q941 567 944 567Q958 562 958 548Q958 540 952 534Q951 532 693 391L436 250L693 109Q951 -32 952 -34Q958 -40 958 -48ZM1277 -48Q1277 -54 1272 -60T1257 -67H1256Q1250 -67 1174 -26Q1068 33 967 88Q699 235 697 239Q694 243 694 250T697 261Q700 266 974 415T1253 567L1257 568Q1260 567 1263 567Q1277 562 1277 548Q1277 540 1271 534Q1270 532 1012 391L755 250L1012 109Q1270 -32 1271 -34Q1277 -40 1277 -48',
    0x22D9: '75 -67Q65 -67 60 -61T55 -48Q55 -40 61 -34Q62 -32 329 109L595 250L329 391Q62 532 61 534Q55 540 55 548Q55 562 69 567H77Q81 567 222 493T506 342T653 264Q667 250 653 236Q649 234 504 157T220 7T77 -67H75ZM364 547Q364 563 381 567L384 568Q387 568 518 499T795 353T955 269Q967 261 967 250T955 231Q925 216 780 139T513 -3T383 -67Q373 -67 369 -60T364 -47Q364 -40 370 -34Q373 -31 639 109L904 250L639 391Q373 531 370 534Q364 540 364 547ZM674 538T674 548T681 562T693 567Q699 567 816 505Q915 453 993 412Q1050 382 1132 339Q1241 282 1259 271T1277 250Q1277 241 1263 232Q1246 221 985 84Q698 -67 692 -67Q674 -67 674 -47Q674 -38 680 -33Q683 -30 947 109L1213 250L947 391Q683 530 680 533Q674 538 674 548',
    0x22DA: '674 445Q674 438 669 432T655 425T369 531T90 640Q83 645 83 655Q83 668 95 673Q644 886 654 886Q662 886 668 880T674 866Q674 856 663 850Q649 843 411 751L160 655L407 560Q474 534 561 501Q646 469 660 462T674 445ZM84 250Q84 260 99 270H658Q674 264 674 250Q674 238 659 230H98Q84 237 84 250ZM83 55Q83 68 94 73Q98 76 104 76Q108 75 383 -30T664 -138Q674 -144 674 -155Q674 -165 667 -170Q664 -173 385 -279T104 -386Q85 -386 83 -368Q83 -354 92 -349Q93 -349 347 -251L597 -155L346 -59Q296 -40 223 -12Q118 28 101 36T83 55',
    0x22DB: '111 425T102 425T88 431T83 445V446Q83 455 96 461Q111 469 203 504Q287 536 350 560L597 655L346 751Q94 848 92 850Q83 856 83 866Q83 873 88 879T104 886Q109 885 386 779T667 670Q674 665 674 655T667 640Q665 638 388 532ZM84 250Q84 260 99 270H658Q674 264 674 250Q674 238 659 230H98Q84 237 84 250ZM653 76Q656 76 660 75T669 68T674 56Q674 46 665 40Q663 38 411 -59L160 -155L410 -251Q664 -349 665 -349Q674 -354 674 -368Q672 -386 654 -386Q650 -386 371 -279T90 -170Q83 -165 83 -155Q83 -144 93 -138Q645 76 653 76',
    0x22DE: '113 424Q83 424 83 444Q83 453 96 464H121Q181 466 234 474T341 501T435 545T505 613T542 707Q545 734 564 734Q583 731 583 714Q583 658 560 613T500 538T414 486T321 453T229 434T156 426T113 424ZM112 270Q83 270 83 290Q83 301 94 307Q98 310 118 310Q624 310 653 556Q657 580 675 580Q693 577 693 559V552Q684 472 628 410T465 314Q436 303 372 290Q373 290 388 287T425 278T465 266Q674 199 693 28L694 17L692 14Q691 11 689 8T683 3T673 0Q657 0 653 24Q623 270 118 270H112',
    0x22DF: '195 713Q195 725 201 729T214 734Q227 734 231 722T238 691T255 641T299 580Q405 474 656 464H681Q694 451 694 443Q694 424 670 424H664Q535 424 415 465T235 595Q195 657 195 713ZM668 310Q694 310 694 290Q694 285 691 279Q684 271 664 270Q550 268 464 257T301 220T179 146T124 27Q119 0 103 0T83 16Q83 21 83 31T92 68T113 121T157 177T229 231Q295 268 405 290Q404 290 389 293T352 302T312 314Q138 371 96 500Q83 541 83 562Q83 568 89 574T103 580Q115 580 120 570T126 542T138 497T173 442Q289 310 659 310H668',
    0x22E0: '82 344Q82 349 95 364H124Q266 364 398 390L429 397L509 595Q519 619 536 659Q581 766 590 783T609 801Q616 801 622 795T629 781Q629 776 553 595Q533 548 516 506T489 439T480 415Q482 415 505 426T538 444Q632 498 651 601Q654 621 658 628T673 635Q680 635 686 629T693 615Q693 591 678 546Q636 433 484 375L458 364L451 348Q443 332 443 329T455 324Q480 316 503 307T560 277T619 233T664 170T691 86Q693 68 691 64Q684 53 672 53Q664 53 658 59Q657 60 650 97T617 174T538 244Q515 257 476 273T428 289Q425 289 412 256Q381 179 344 90L262 -103H680Q682 -105 684 -108T688 -113T691 -118T693 -124Q693 -134 682 -141L464 -143H246L213 -219Q182 -292 178 -299Q172 -303 166 -303T153 -297T146 -283Q146 -282 174 -213T202 -143H95Q82 -128 82 -123T95 -103H220L302 97Q384 288 384 299Q384 302 341 308T235 319T124 324H95Q82 337 82 344ZM399 338Q403 338 406 346L409 353L375 344Q375 343 384 341T399 338',
    0x22E1: '146 -283Q146 -282 174 -213T202 -143H95Q82 -127 82 -123T95 -103H220L300 93Q343 196 374 270Q385 294 386 299L373 295Q331 287 289 268Q241 249 208 224T159 174T135 127T124 85T118 59Q112 53 103 53Q91 53 84 64Q82 68 84 86Q96 185 174 248T375 337L400 344Q399 344 381 348T351 355T316 364T276 379T235 398T193 424T155 456T122 497T98 546Q82 587 82 615Q82 622 88 628T102 635Q112 635 116 628T124 601Q128 579 134 562T159 515T207 463T290 418T415 384L422 381L506 586Q571 744 584 772T609 801Q616 801 622 795T629 781T544 577Q525 529 504 478T473 402T462 375Q480 373 500 373Q579 364 651 364H680Q682 361 686 357T691 351T693 344Q693 337 680 324H651Q553 324 451 310L433 308L349 104L262 -101L473 -103H682Q694 -115 694 -123Q694 -133 682 -141L464 -143H246L213 -219Q182 -292 178 -299Q172 -303 166 -303T153 -297T146 -283',
    0x22E6: '86 450Q93 455 380 592T673 730Q680 730 686 724T693 710Q693 702 688 699Q686 693 417 568L151 439L417 310Q685 185 688 179Q693 176 693 168Q693 161 687 155T675 148Q668 148 380 285T86 428Q74 438 86 450ZM55 -205Q55 -175 64 -142T92 -76T145 -22T222 -1Q288 -1 362 -66Q369 -72 372 -75T378 -79T382 -81T384 -79Q389 -74 439 21Q483 100 490 111T504 122Q510 122 518 118T526 103Q526 101 510 69T467 -12T419 -99L413 -112L433 -128Q498 -180 553 -180Q605 -180 646 -139Q672 -112 681 -77T693 -21T706 -1Q719 -1 719 -33Q719 -39 717 -57Q708 -141 655 -190Q625 -224 586 -232Q568 -237 551 -237Q487 -237 413 -172L391 -155Q391 -157 335 -255Q297 -325 286 -342T268 -359Q260 -359 254 -353T248 -339T304 -230L359 -126Q359 -124 337 -107T302 -81Q262 -57 221 -57Q170 -57 130 -93T84 -201Q82 -236 70 -236Q55 -236 55 -205',
    0x22E7: '88 723Q95 730 99 730Q106 730 394 593T688 450Q693 447 693 439T688 428Q683 423 395 286T99 148Q94 148 88 155T82 168Q82 175 86 179Q89 184 357 310L624 439L357 568Q88 694 86 699Q81 703 81 711T88 723ZM55 -205Q55 -175 64 -142T92 -76T145 -22T222 -1Q288 -1 362 -66Q369 -72 372 -75T378 -79T382 -81T384 -79Q389 -74 439 21Q483 100 490 111T504 122Q510 122 518 118T526 103Q526 101 510 69T467 -12T419 -99L413 -112L433 -128Q498 -180 553 -180Q605 -180 646 -139Q672 -112 681 -77T693 -21T706 -1Q719 -1 719 -33Q719 -39 717 -57Q708 -141 655 -190Q625 -224 586 -232Q568 -237 551 -237Q487 -237 413 -172L391 -155Q391 -157 335 -255Q297 -325 286 -342T268 -359Q260 -359 254 -353T248 -339T304 -230L359 -126Q359 -124 337 -107T302 -81Q262 -57 221 -57Q170 -57 130 -93T84 -201Q82 -236 70 -236Q55 -236 55 -205',
    0x22E8: '95 419Q81 433 81 439T95 459H124Q318 459 455 501Q515 521 556 550T615 607T641 659T652 702T659 725Q667 730 673 730Q680 730 686 724T693 710Q693 682 677 641Q668 616 654 594T622 554T586 522T545 497T504 477T464 462T428 452T397 444T375 439Q379 437 410 430T476 411T551 379T625 321T677 237Q693 196 693 168Q693 161 687 155T673 148Q662 148 658 154T651 181Q638 253 591 300T455 377Q318 419 124 419H95ZM55 -205Q55 -175 64 -142T92 -76T145 -22T222 -1Q288 -1 362 -66Q369 -72 372 -75T378 -79T382 -81T384 -79Q389 -74 439 21Q483 100 490 111T504 122Q510 122 518 118T526 103Q526 101 510 69T467 -12T419 -99L413 -112L433 -128Q498 -180 553 -180Q605 -180 646 -139Q672 -112 681 -77T693 -21T706 -1Q719 -1 719 -33Q719 -39 717 -57Q708 -141 655 -190Q625 -224 586 -232Q568 -237 551 -237Q487 -237 413 -172L391 -155Q391 -157 335 -255Q297 -325 286 -342T268 -359Q260 -359 254 -353T248 -339T304 -230L359 -126Q359 -124 337 -107T302 -81Q262 -57 221 -57Q170 -57 130 -93T84 -201Q82 -236 70 -236Q55 -236 55 -205',
    0x22E9: '679 459Q693 445 693 439Q693 430 679 419H651Q455 419 319 377Q231 347 184 300T124 181Q120 161 116 155T102 148Q95 148 89 154T82 168Q82 192 97 237Q111 275 137 306T188 355T249 391T307 414T361 429T399 439Q397 440 364 447T298 467T224 499T149 557T97 641Q82 686 82 710Q82 717 88 723T102 730L115 725Q118 722 124 697Q137 625 184 578T319 501Q456 459 651 459H679ZM55 -205Q55 -175 64 -142T92 -76T145 -22T222 -1Q288 -1 362 -66Q369 -72 372 -75T378 -79T382 -81T384 -79Q389 -74 439 21Q483 100 490 111T504 122Q510 122 518 118T526 103Q526 101 510 69T467 -12T419 -99L413 -112L433 -128Q498 -180 553 -180Q605 -180 646 -139Q672 -112 681 -77T693 -21T706 -1Q719 -1 719 -33Q719 -39 717 -57Q708 -141 655 -190Q625 -224 586 -232Q568 -237 551 -237Q487 -237 413 -172L391 -155Q391 -157 335 -255Q297 -325 286 -342T268 -359Q260 -359 254 -353T248 -339T304 -230L359 -126Q359 -124 337 -107T302 -81Q262 -57 221 -57Q170 -57 130 -93T84 -201Q82 -236 70 -236Q55 -236 55 -205',
    0x22EA: '693 -30Q686 -41 673 -41Q661 -41 506 34L346 110L280 -44Q228 -162 216 -185T193 -208Q177 -208 173 -192Q173 -186 242 -30T311 128Q271 145 184 186T86 236Q82 240 82 246Q82 251 86 259Q96 267 271 350L449 434L506 565Q537 635 551 664T571 700T582 706Q587 706 593 701T600 690Q600 679 553 572Q504 463 504 461L586 501Q672 539 673 539Q679 539 693 525V-30ZM653 10V488L566 445L480 405L422 276Q415 260 405 236T388 199T376 171T368 151T366 145Q368 143 510 77T653 10ZM422 374Q422 376 420 376T285 313T151 248Q315 168 326 163Q415 356 422 374',
    0x22EB: '82 525Q96 539 102 539Q103 539 122 530T186 501T266 463L426 388Q428 388 495 541Q564 694 569 699Q573 706 581 706Q587 706 593 702T600 691Q600 676 533 528Q515 486 506 465T485 418T470 381T466 370Q466 369 575 316Q676 269 689 259Q693 253 693 248Q693 242 689 236Q688 235 506 145Q328 63 324 59Q324 50 266 -70Q224 -169 214 -188T193 -208Q177 -208 173 -192Q173 -183 222 -77Q244 -29 257 2T269 34L186 -6Q108 -43 99 -43Q93 -43 82 -30V525ZM271 416Q129 485 126 485H125Q122 485 122 250Q122 10 124 10L211 50L295 92L411 350Q411 351 271 416ZM624 248L449 332L440 319Q434 297 393 214Q353 121 353 119Q355 119 489 182T624 248',
    0x22EC: '82 -123Q82 -114 93 -103H166L238 -101L293 50Q349 200 349 204L220 266Q166 291 140 304T100 325T84 336T82 344Q82 353 94 360Q112 372 282 453L473 541L482 568Q487 578 529 693Q559 785 569 795Q573 802 581 802Q587 802 593 797T599 786Q599 775 564 675L526 570Q526 568 561 584T633 617T673 635Q679 635 693 621V66Q686 54 679 54Q665 54 526 119Q491 137 458 153T405 177T386 184Q385 182 334 42T282 -101T482 -103H680Q682 -105 684 -108T688 -113T691 -118T693 -124Q693 -134 682 -141L473 -143H266L238 -219Q217 -278 210 -290T193 -303Q178 -303 173 -287Q173 -279 198 -214L222 -145Q222 -143 158 -143L93 -141L86 -136Q82 -131 82 -123ZM653 106V584L506 513L453 370Q442 339 428 300T407 243T400 224Q403 222 527 164T653 106ZM453 486Q453 488 451 488T300 417T151 344L224 308Q247 298 285 279T331 257L364 241L453 486',
    0x22ED: '82 621Q96 635 102 635T249 568L420 486L449 473L469 533Q563 789 569 797Q573 801 581 801Q598 801 600 786Q602 781 544 617L484 455Q531 435 584 408Q677 364 689 355Q693 351 693 344Q693 339 692 337T676 325T631 302T538 257Q504 241 465 223T406 195T386 186Q384 184 333 44T282 -101Q282 -103 482 -103H680Q682 -105 684 -108T688 -113T691 -118T693 -124Q693 -134 682 -141L473 -143H266L238 -219Q217 -278 210 -290T193 -303Q178 -303 173 -287Q173 -279 198 -214L222 -145Q222 -143 158 -143L93 -141L86 -136Q82 -131 82 -123Q82 -114 93 -103H166L238 -101L333 159Q326 159 220 106Q110 54 97 54Q89 54 82 66V621ZM298 501Q155 567 142 575L122 584V344Q122 106 124 106Q125 106 180 132T291 185T351 213Q355 217 393 326L433 435Q433 436 298 501ZM549 381Q472 417 471 417L406 241Q408 240 516 291T624 344L549 381',
    0x22EE: '78 30Q78 54 95 72T138 90Q162 90 180 74T199 31Q199 6 182 -12T139 -30T96 -13T78 30ZM78 440Q78 464 95 482T138 500Q162 500 180 484T199 441Q199 416 182 398T139 380T96 397T78 440ZM78 840Q78 864 95 882T138 900Q162 900 180 884T199 841Q199 816 182 798T139 780T96 797T78 840',
    0x22EF: '78 250Q78 274 95 292T138 310Q162 310 180 294T199 251Q199 226 182 208T139 190T96 207T78 250ZM525 250Q525 274 542 292T585 310Q609 310 627 294T646 251Q646 226 629 208T586 190T543 207T525 250ZM972 250Q972 274 989 292T1032 310Q1056 310 1074 294T1093 251Q1093 226 1076 208T1033 190T990 207T972 250',
    0x22F1: '133 760Q133 784 150 802T193 820Q217 820 235 804T254 761Q254 736 237 718T194 700T151 717T133 760ZM580 460Q580 484 597 502T640 520Q664 520 682 504T701 461Q701 436 684 418T641 400T598 417T580 460ZM1027 160Q1027 184 1044 202T1087 220Q1111 220 1129 204T1148 161Q1148 136 1131 118T1088 100T1045 117T1027 160',
    0x2305: '55 698Q56 708 70 716H540Q554 708 555 698Q555 694 554 691T552 686T549 682T546 680T542 678T539 676H71Q70 676 68 677T65 679T61 682T58 686T56 691T55 698ZM555 18Q554 12 549 6T536 0H535Q525 0 515 17T459 132Q430 194 410 235L305 455L199 233Q176 185 147 125T105 36T90 7Q85 0 75 0Q63 0 58 11Q55 15 55 21Q58 31 170 266T285 507Q295 522 305 522T320 515Q322 513 439 268L555 24V18',
    0x2306: '55 795Q56 806 70 813H540Q554 806 555 795Q555 791 554 788T552 783T549 779T546 777T542 775T539 773H71Q70 773 68 774T65 776T61 779T58 783T56 788T55 795ZM55 601Q56 612 70 619H540Q554 612 555 601Q555 597 554 594T552 589T549 585T546 583T542 581T539 579H71Q70 579 68 580T65 582T61 585T58 589T56 594T55 601ZM75 -97Q67 -97 61 -91T55 -81Q55 -71 169 166T285 410Q295 425 305 425Q311 425 316 422T323 414L325 410Q327 404 441 167T555 -81Q555 -85 549 -91T535 -97T520 -90Q519 -89 506 -61T463 27T411 136L305 358L199 136Q167 71 129 -10Q98 -75 92 -86T75 -97',
    0x2308: '174 734Q178 746 190 750H298H369Q400 750 411 747T422 730T411 713T372 709Q365 709 345 709T310 710H214V-235Q206 -248 196 -250Q192 -250 189 -249T184 -247T180 -244T178 -241T176 -237T174 -234V734',
    0x2309: '21 717T21 730T32 746T75 750H147H256Q266 742 269 735V-235Q262 -248 251 -250Q247 -250 244 -249T239 -247T235 -244T233 -241T231 -237T229 -234V710H133Q119 710 99 710T71 709Q43 709 32 713',
    0x230A: '174 734Q174 735 175 737T177 740T180 744T184 747T189 749T196 750Q206 748 214 735V-210H310H373Q401 -210 411 -213T422 -230T411 -247T369 -251Q362 -251 338 -251T298 -250H190Q178 -246 174 -234V734',
    0x230B: '229 734Q229 735 230 737T232 740T235 744T239 747T244 749T251 750Q262 748 269 735V-235Q266 -240 256 -249L147 -250H77Q43 -250 32 -247T21 -230T32 -213T72 -209Q79 -209 99 -209T133 -210H229V734',
    0x231C: '76 306Q62 306 59 319T55 386V500V596Q55 664 57 676T68 692Q71 694 250 694Q428 694 432 692Q444 685 444 674Q444 665 432 656Q428 654 261 654H95V487Q95 355 95 336T90 312Q84 306 76 306',
    0x231D: '424 306Q418 306 413 310T406 318L404 321V654H238Q71 654 68 656Q55 662 55 674T68 692Q71 694 250 694H379Q432 694 438 688Q443 683 443 662T444 500T444 338T438 312Q432 306 424 306',
    0x231E: '55 172V287Q55 341 58 353T76 366Q88 366 95 351V18H261Q428 18 432 16Q444 9 444 -2Q444 -11 432 -20Q428 -22 250 -22H120Q67 -22 61 -16Q56 -11 56 10T55 172',
    0x231F: '404 351Q410 366 424 366Q437 366 440 353T444 288V172V72Q444 8 443 -4T432 -20Q428 -22 250 -22Q71 -22 68 -20Q55 -14 55 -2T68 16Q71 18 238 18H404V351',
    0x2322: '55 141Q55 149 72 174T125 234T209 303T329 360T478 388H526Q649 383 765 319Q814 291 858 250T923 179T944 141Q944 133 938 128T924 122Q914 124 912 125T902 139Q766 328 500 328Q415 328 342 308T225 258T150 199T102 148T84 124Q81 122 75 122Q55 127 55 141',
    0x2323: '923 378Q944 378 944 358Q944 345 912 311T859 259Q710 134 500 134Q288 134 140 259Q55 336 55 358Q55 366 61 372T75 378Q78 378 84 376Q86 376 101 356T147 310T221 257T339 212T500 193Q628 193 734 236Q841 282 903 363Q914 378 923 378',
    0x2329: '333 -232Q332 -239 327 -244T313 -250Q303 -250 296 -240Q293 -233 202 6T110 250T201 494T296 740Q299 745 306 749L309 750Q312 750 313 750Q331 750 333 732Q333 727 243 489Q152 252 152 250T243 11Q333 -227 333 -232',
    0x232A: '55 732Q56 739 61 744T75 750Q85 750 92 740Q95 733 186 494T278 250T187 6T92 -240Q85 -250 75 -250Q67 -250 62 -245T55 -232Q55 -227 145 11Q236 248 236 250T145 489Q55 727 55 732',
    0x23B0: '357 741V726Q357 720 349 715Q261 655 242 539Q240 526 240 454T239 315T239 247Q240 235 240 124V40Q240 -17 233 -53T201 -130Q155 -206 78 -244H69H64Q58 -244 57 -243T56 -234Q56 -232 56 -231V-225Q56 -218 63 -215Q153 -153 170 -39Q172 -25 173 119V219Q173 245 174 249Q173 258 173 376V460Q173 515 178 545T201 611Q244 695 327 741L334 744H354L357 741',
    0x23B1: '78 744Q153 706 196 640T239 492V376Q239 341 239 314T238 271T238 253Q239 251 239 223V119V49Q239 -39 254 -85Q263 -111 275 -134T301 -172T326 -197T346 -213T356 -221T357 -232V-241L354 -244H334Q264 -209 222 -146T174 -12Q173 -6 173 95Q173 134 173 191T174 250Q173 258 173 382V451Q173 542 159 585Q145 626 120 658T75 706T56 723V731Q56 741 57 742T66 744H78',
    0x23D0: '312 0V602H355V0H312',
    0x24C8: '451 -175Q328 -175 226 -115T66 47T8 267Q8 303 15 342T39 431T94 531T186 622Q239 663 307 686T424 709H440Q604 709 716 622Q757 592 788 555T838 482T869 414T886 350T892 301T894 267Q894 147 835 45T674 -116T451 -175ZM854 268Q854 375 802 467T657 614T450 670Q283 670 166 552T49 267Q49 99 167 -18T453 -136Q617 -136 735 -18T854 268ZM273 378Q273 430 309 474T409 527Q411 527 417 527T428 528Q498 528 549 484L567 505Q583 528 590 528H594Q600 528 606 522V350L600 344H586Q577 344 574 344T569 347T566 357Q542 491 432 491Q389 491 365 465T340 407Q340 391 344 378T358 356T377 340T400 328T421 321T443 316T459 313Q499 305 517 300T559 279T601 238Q629 195 629 148Q629 80 583 33T471 -14Q392 -14 330 30Q312 6 293 -13Q292 -14 285 -14Q279 -14 273 -8V77V138Q273 160 275 165T286 170H294H307Q313 164 313 158Q313 108 350 67T471 26Q512 26 537 54T562 119Q562 137 558 151T544 176T527 193T504 205T483 212T459 218T441 222Q391 232 368 241T318 273Q273 316 273 378',
    0x250C: '76 306Q62 306 59 319T55 386V500V596Q55 664 57 676T68 692Q71 694 250 694Q428 694 432 692Q444 685 444 674Q444 665 432 656Q428 654 261 654H95V487Q95 355 95 336T90 312Q84 306 76 306',
    0x2510: '424 306Q418 306 413 310T406 318L404 321V654H238Q71 654 68 656Q55 662 55 674T68 692Q71 694 250 694H379Q432 694 438 688Q443 683 443 662T444 500T444 338T438 312Q432 306 424 306',
    0x2514: '55 172V287Q55 341 58 353T76 366Q88 366 95 351V18H261Q428 18 432 16Q444 9 444 -2Q444 -11 432 -20Q428 -22 250 -22H120Q67 -22 61 -16Q56 -11 56 10T55 172',
    0x2518: '404 351Q410 366 424 366Q437 366 440 353T444 288V172V72Q444 8 443 -4T432 -20Q428 -22 250 -22Q71 -22 68 -20Q55 -14 55 -2T68 16Q71 18 238 18H404V351',
    0x2571: '19 -195Q13 -195 7 -188T0 -176Q0 -169 18 -151L822 683Q835 694 840 694T852 688T860 674Q860 667 810 614T460 252Q57 -167 44 -179Q27 -195 19 -195',
    0x2572: '0 675Q0 681 6 687T19 694Q27 694 44 678L460 247Q759 -62 809 -115T860 -175Q860 -183 852 -189T840 -195Q835 -195 822 -184L18 649Q0 667 0 675',
    0x25A0: '71 0Q59 4 55 16V346L56 676Q64 686 70 689H709Q719 681 722 674V15Q719 10 709 1L390 0H71',
    0x25A1: '71 0Q59 4 55 16V346L56 676Q64 686 70 689H709Q719 681 722 674V15Q719 10 709 1L390 0H71ZM682 40V649H95V40H682',
    0x25AA: '71 0Q59 4 55 16V346L56 676Q64 686 70 689H709Q719 681 722 674V15Q719 10 709 1L390 0H71',
    0x25B2: '99 -20Q84 -11 84 0Q84 5 148 145T278 424L342 563Q347 575 360 575Q368 575 375 570Q376 569 441 430T571 148T637 0Q637 -11 622 -20H99',
    0x25B3: '75 0L72 2Q69 3 67 5T62 11T59 20Q59 24 62 30Q65 37 245 370T428 707Q428 708 430 710T436 714T444 716Q451 716 455 712Q459 710 644 368L828 27V20Q828 7 814 0H75ZM610 347L444 653Q443 653 278 347T113 40H775Q775 42 610 347',
    0x25B4: '99 -20Q84 -11 84 0Q84 5 148 145T278 424L342 563Q347 575 360 575Q368 575 375 570Q376 569 441 430T571 148T637 0Q637 -11 622 -20H99',
    0x25B5: '75 0L72 2Q69 3 67 5T62 11T59 20Q59 24 62 30Q65 37 245 370T428 707Q428 708 430 710T436 714T444 716Q451 716 455 712Q459 710 644 368L828 27V20Q828 7 814 0H75ZM610 347L444 653Q443 653 278 347T113 40H775Q775 42 610 347',
    0x25B6: '83 523Q83 524 85 527T92 535T103 539Q107 539 389 406T680 268Q694 260 694 249Q694 239 687 234Q685 232 395 95L107 -41H101Q90 -40 83 -26V523',
    0x25B8: '83 523Q83 524 85 527T92 535T103 539Q107 539 389 406T680 268Q694 260 694 249Q694 239 687 234Q685 232 395 95L107 -41H101Q90 -40 83 -26V523',
    0x25B9: '26 489Q33 505 43 505Q51 505 260 385Q464 266 471 259Q473 257 473 250Q473 242 469 239Q459 231 260 115Q51 -5 43 -5Q39 -5 35 -1T28 7L26 11V489ZM412 250L67 450Q66 450 66 250T67 50Q69 51 240 150T412 250',
    0x25BC: '84 556Q84 567 99 576H622Q637 567 637 556Q637 551 572 409T441 127T375 -14Q368 -19 360 -19H358Q349 -19 342 -7T296 92Q249 193 211 275Q84 550 84 556',
    0x25BD: '59 480Q59 485 61 489T66 495T72 498L75 500H814Q828 493 828 480V474L644 132Q458 -210 455 -212Q451 -215 444 -215T433 -212Q429 -210 342 -49T164 282T64 466Q59 478 59 480ZM775 460H113Q113 459 278 153T444 -153T610 153T775 460',
    0x25BE: '84 556Q84 567 99 576H622Q637 567 637 556Q637 551 572 409T441 127T375 -14Q368 -19 360 -19H358Q349 -19 342 -7T296 92Q249 193 211 275Q84 550 84 556',
    0x25BF: '59 480Q59 485 61 489T66 495T72 498L75 500H814Q828 493 828 480V474L644 132Q458 -210 455 -212Q451 -215 444 -215T433 -212Q429 -210 342 -49T164 282T64 466Q59 478 59 480ZM775 460H113Q113 459 278 153T444 -153T610 153T775 460',
    0x25C0: '694 -26Q686 -40 676 -41H670L382 95Q92 232 90 234Q83 239 83 249Q83 262 96 267Q101 270 379 401T665 537Q671 539 674 539Q686 539 694 524V-26',
    0x25C2: '694 -26Q686 -40 676 -41H670L382 95Q92 232 90 234Q83 239 83 249Q83 262 96 267Q101 270 379 401T665 537Q671 539 674 539Q686 539 694 524V-26',
    0x25C3: '473 10Q466 -5 454 -5Q451 -5 445 -3Q444 -3 343 56T140 173T35 234Q26 239 26 250T35 266Q40 269 240 384T445 503Q451 505 453 505Q466 505 473 490V10ZM433 50T433 250T432 450T259 351T87 250T258 150T432 50Q433 50 433 250',
    0x25CA: '318 709Q325 716 332 716Q340 716 344 713T474 511Q611 298 611 292Q611 285 526 152Q494 103 474 72Q347 -128 344 -130Q340 -132 333 -132T322 -130Q319 -128 257 -31T131 169T60 278Q56 285 56 292Q56 298 60 305Q73 326 194 516T318 709ZM567 290T567 291T451 475T333 658L100 293Q100 288 215 108L333 -74Q334 -74 450 108',
    0x25EF: '56 250Q56 353 95 442T196 589T335 681T491 715Q573 715 635 693Q694 673 747 635T846 543T917 412T944 250Q944 58 815 -78T500 -215Q457 -215 429 -210Q274 -183 165 -56T56 250ZM500 -176Q664 -176 784 -54T904 250Q904 418 799 536T543 674Q534 675 493 675Q425 675 357 647T229 567T133 432T96 250Q96 160 129 80T217 -56T346 -144T500 -176',
    0x25FB: '71 0Q59 4 55 16V346L56 676Q64 686 70 689H709Q719 681 722 674V15Q719 10 709 1L390 0H71ZM682 40V649H95V40H682',
    0x25FC: '71 0Q59 4 55 16V346L56 676Q64 686 70 689H709Q719 681 722 674V15Q719 10 709 1L390 0H71',
    0x2605: '367 395Q374 416 398 492T442 627T463 688Q463 692 467 692Q471 694 472 694Q478 694 484 680T523 562Q553 469 576 400L577 395H731H819Q872 395 883 394T895 384Q895 380 891 376T832 333Q794 305 767 285Q643 195 643 194L690 47Q737 -96 737 -103Q737 -111 727 -111Q721 -111 594 -18L472 71L350 -18Q223 -111 217 -111Q207 -111 207 -103Q207 -96 254 47L301 194Q301 195 241 239T118 328T51 378Q49 382 49 384Q49 392 58 393T110 395H213H367',
    0x2660: '181 -21Q134 -21 96 27T55 193Q55 224 58 247T82 317T143 410Q172 443 234 498Q282 543 314 598T360 687T380 725Q386 727 389 727Q395 727 398 725T406 716T413 702T423 677T439 641Q481 556 544 498Q633 420 678 353T723 204Q723 142 711 94T669 12T590 -21Q520 -21 490 8T459 66V70H409V62Q409 22 416 -17T430 -82T437 -112Q437 -131 407 -131Q403 -131 397 -131T389 -130T382 -130T372 -131Q341 -131 341 -111Q341 -107 348 -82T362 -18T369 62V70H319V66Q319 57 314 44T297 16T257 -10T191 -21H181',
    0x2661: '55 490Q55 557 71 604T114 674T167 706T222 716Q279 716 322 684T389 605Q391 610 395 617T414 643T447 677T494 704T555 716Q642 716 682 652T723 490Q723 455 718 426T684 342T602 227Q573 196 537 161T485 110T449 63T412 -8Q408 -22 404 -27T389 -33Q382 -33 379 -31T372 -23T366 -8T355 18T335 54Q319 81 298 104T239 163T176 227Q102 310 79 371T55 490ZM198 674Q143 664 119 613T95 491Q95 415 137 346Q174 282 265 194T384 48L389 39Q391 42 397 54T406 71T415 86T427 104T442 122T464 146T491 172Q571 249 613 303Q683 396 683 487Q683 581 649 631Q613 676 556 676Q495 676 457 634T410 538Q407 514 390 514Q386 514 380 517Q372 520 369 536T355 581T319 635Q277 675 223 675H217H208L204 674Q200 674 198 674',
    0x2662: '370 714Q370 717 375 722T388 727Q398 727 403 721T417 697Q420 692 421 689Q536 465 709 304Q723 291 723 282T709 260Q529 93 406 -153Q402 -162 390 -162H389Q379 -162 376 -158T357 -125Q247 89 89 241L64 265Q55 272 55 282Q55 287 57 290T64 300T77 312T98 331T127 361Q197 435 258 523T344 663L370 714ZM655 299Q568 384 508 470T389 662L376 638Q362 613 341 577T289 497T215 399T123 299L105 282L123 265Q210 180 270 94T389 -98L402 -74Q416 -49 437 -13T489 67T563 165T655 265L673 282L655 299',
    0x2663: '213 532Q213 615 265 670T389 726Q461 726 513 671T565 532Q565 511 562 492T553 458T541 432T526 409T512 393T498 379L490 371L511 326Q512 326 516 330T528 341T546 353T572 363T606 368Q664 368 707 315T750 174Q750 87 699 33T579 -22Q567 -22 553 -20T517 -10T479 16T459 63V70H409V62Q409 22 416 -17T430 -82T437 -112Q437 -131 407 -131Q403 -131 397 -131T389 -130T382 -130T372 -131Q341 -131 341 -111Q341 -107 348 -82T362 -18T369 62V70H319V63Q315 25 281 2T197 -22Q132 -22 80 32T28 174Q28 255 69 311T175 368Q192 368 207 364T232 353T250 341T262 331T267 326L288 371L280 378Q272 385 267 391T253 407T238 430T226 457T217 492T213 532',
    0x266D: '200 467Q254 467 293 428T332 321Q332 147 104 -11L88 -22H75Q62 -22 56 -16L55 362V647Q55 743 60 748Q63 750 76 750H83Q87 750 95 744V434L104 440Q144 467 200 467ZM237 322Q237 360 225 388T183 417Q158 417 134 407T101 378Q96 370 96 349T95 197V34Q152 91 194 167T237 322',
    0x266E: '65 721Q78 734 94 734Q100 734 104 727V444L116 449Q129 454 157 465T208 486Q313 527 314 527Q318 527 324 521V-210Q306 -223 294 -223Q289 -223 284 -216V-13L270 -18Q257 -24 231 -34T180 -54Q77 -96 74 -96T65 -90V721ZM104 13Q282 84 283 85Q284 85 284 252Q284 418 283 418L230 396L140 360L104 346V13',
    0x266F: '101 -223Q94 -223 93 -217T91 -188V-151Q91 -88 90 -88Q87 -88 80 -92T68 -96Q62 -96 56 -90L55 -50V-22Q55 -8 58 -4T78 5L91 10V177Q91 343 90 343Q87 343 80 339T68 335Q62 335 56 341L55 381V409Q55 423 58 427T78 436L91 441V543V616Q91 643 93 648T106 656Q119 662 126 659Q130 657 130 645T131 554V456L257 503V607L258 710L260 712Q261 715 272 719T286 723Q293 723 295 715T297 671V617Q297 519 298 519Q301 519 307 522T319 526Q327 526 333 521V437L330 435Q328 432 312 427L297 421V254Q297 88 298 88Q301 88 307 91T319 95Q327 95 333 90V6L330 4Q328 1 312 -4L297 -10V-78V-122Q297 -145 295 -149T282 -156Q274 -160 268 -160Q257 -160 257 -130V-89V-25L131 -72V-210Q123 -215 116 -218T104 -222L101 -223ZM257 72V406L131 359V25L257 72',
    0x2713: '84 231Q84 244 114 264T170 285Q176 285 183 274T224 205Q267 129 268 129Q271 141 279 163T318 250T389 378T502 523T662 673Q702 706 732 706H734Q749 706 749 695Q749 682 730 666T660 607T559 505Q387 299 328 29Q324 0 295 -17T245 -34H241Q234 -34 225 -21T185 46Q166 79 154 101Q84 223 84 231',
    0x2720: '195 702T195 706T201 716H632Q638 710 638 706T636 700T621 690Q436 581 427 374V357H430Q554 357 645 421Q682 447 711 483T755 542T770 567Q775 572 786 563V131Q777 125 774 125T762 139Q709 228 642 274T482 333Q452 337 430 337H427V320Q430 279 437 247T462 170T521 82T621 4Q630 -2 633 -4T637 -7T638 -12Q638 -16 632 -22H201Q195 -16 195 -12T197 -6T212 4Q397 113 406 320V337H403Q279 337 188 273Q151 247 122 211T78 152T63 127Q58 122 48 131V563Q54 569 59 569Q62 569 71 555Q124 466 191 420T351 361Q381 357 403 357H406V374Q403 415 396 447T371 525T312 613T212 690Q199 697 197 699',
    0x2758: '139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139',
    0x27E8: '333 -232Q332 -239 327 -244T313 -250Q303 -250 296 -240Q293 -233 202 6T110 250T201 494T296 740Q299 745 306 749L309 750Q312 750 313 750Q331 750 333 732Q333 727 243 489Q152 252 152 250T243 11Q333 -227 333 -232',
    0x27E9: '55 732Q56 739 61 744T75 750Q85 750 92 740Q95 733 186 494T278 250T187 6T92 -240Q85 -250 75 -250Q67 -250 62 -245T55 -232Q55 -227 145 11Q236 248 236 250T145 489Q55 727 55 732',
    0x27EE: '357 741V726Q357 720 349 715Q261 655 242 539Q240 526 240 394V331Q240 259 239 250Q240 242 240 119V49Q240 -42 254 -85Q263 -111 275 -134T301 -172T326 -197T346 -213T356 -221T357 -232V-241L354 -244H334Q264 -209 222 -146T174 -12Q173 -6 173 95Q173 134 173 191T174 250Q173 260 173 376V460Q173 515 178 545T201 611Q244 695 327 741L334 744H354L357 741',
    0x27EF: '78 744Q153 706 196 640T239 492V376Q239 339 239 311T238 269T238 252Q240 236 240 124V40Q240 -18 233 -53T202 -130Q156 -206 79 -244H70H65Q58 -244 57 -242T56 -231T57 -220T64 -215Q153 -154 170 -39Q173 -18 174 119V247Q173 249 173 382V451Q173 542 159 585Q145 626 120 658T75 706T56 723V731Q56 741 57 742T66 744H78',
    0x27F5: '165 270H1510Q1525 262 1525 250T1510 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270',
    0x27F6: '84 237T84 250T98 270H1444Q1328 357 1301 493Q1301 494 1301 496T1300 499Q1300 511 1317 511H1320Q1329 511 1332 510T1338 506T1341 497T1344 481T1352 456Q1374 389 1425 336T1544 261Q1553 258 1553 250Q1553 244 1548 241T1524 231T1486 212Q1445 186 1415 152T1370 85T1349 35T1341 4Q1339 -6 1336 -8T1320 -11Q1300 -11 1300 0Q1300 7 1305 25Q1337 151 1444 230H98Q84 237 84 250',
    0x27F7: '165 270H1694Q1578 357 1551 493Q1551 494 1551 496T1550 499Q1550 511 1567 511H1570Q1579 511 1582 510T1588 506T1591 497T1594 481T1602 456Q1624 389 1675 336T1794 261Q1803 258 1803 250Q1803 244 1798 241T1774 231T1736 212Q1695 186 1665 152T1620 85T1599 35T1591 4Q1589 -6 1586 -8T1570 -11Q1550 -11 1550 0Q1550 7 1555 25Q1587 151 1694 230H165Q167 228 182 216T211 189T244 152T277 96T303 25Q308 7 308 0Q308 -11 288 -11Q281 -11 278 -11T272 -7T267 2T263 21Q245 94 195 151T73 236Q58 242 55 247Q55 254 59 257T73 264Q121 283 158 314T215 375T247 434T264 480L267 497Q269 503 270 505T275 509T288 511Q308 511 308 500Q308 493 303 475Q293 438 278 406T246 352T215 315T185 287T165 270',
    0x27F8: '274 173H1539Q1540 172 1542 171T1545 169T1547 167T1550 164T1551 162T1552 158T1553 153Q1553 140 1538 133H318L328 123Q379 69 414 0Q419 -13 419 -17Q419 -24 399 -24Q388 -24 385 -23T377 -12Q332 77 253 144T72 237Q62 240 59 242T56 250T59 257T70 262T89 268T119 278T160 296Q303 366 377 512Q382 522 385 523T401 525Q419 524 419 515Q419 510 414 500Q379 431 328 377L318 367H1538Q1553 359 1553 347Q1553 336 1539 328L1221 327H903L900 328L602 327H274L264 319Q225 289 147 250Q148 249 165 241T210 217T264 181L274 173',
    0x27F9: '1218 514Q1218 525 1234 525Q1239 525 1242 525T1247 525T1251 524T1253 523T1255 520T1257 517T1260 512Q1297 438 1358 381T1469 300T1565 263Q1582 258 1582 250T1573 239T1536 228T1478 204Q1334 134 1260 -12Q1256 -21 1253 -22T1238 -24Q1218 -24 1218 -17Q1218 -13 1223 0Q1258 69 1309 123L1319 133H70Q56 140 56 153Q56 168 72 173H1363L1373 181Q1412 211 1490 250Q1489 251 1472 259T1427 283T1373 319L1363 327H710L707 328L390 327H72Q56 332 56 347Q56 360 70 367H1319L1309 377Q1276 412 1247 458T1218 514',
    0x27FA: '1438 514Q1438 525 1454 525Q1459 525 1462 525T1467 525T1471 524T1473 523T1475 520T1477 517T1480 512Q1517 438 1578 381T1689 300T1785 263Q1802 258 1802 250T1793 239T1756 228T1698 204Q1554 134 1480 -12Q1476 -21 1473 -22T1458 -24Q1438 -24 1438 -17Q1438 -13 1443 0Q1478 69 1529 123L1539 133H318L328 123Q379 69 414 0Q419 -13 419 -17Q419 -24 399 -24Q388 -24 385 -23T377 -12Q332 77 253 144T72 237Q62 240 59 242T56 250T59 257T70 262T89 268T119 278T160 296Q303 366 377 512Q382 522 385 523T401 525Q419 524 419 515Q419 510 414 500Q379 431 328 377L318 367H1539L1529 377Q1496 412 1467 458T1438 514ZM274 173H1583L1593 181Q1632 211 1710 250Q1709 251 1692 259T1647 283T1593 319L1583 327H930L927 328L602 327H274L264 319Q225 289 147 250Q148 249 165 241T210 217T264 181L274 173',
    0x27FC: '95 155V109Q95 83 92 73T75 63Q61 63 58 74T54 130Q54 140 54 180T55 250Q55 421 57 425Q61 437 75 437Q88 437 91 428T95 393V345V270H1444Q1328 357 1301 493Q1301 494 1301 496T1300 499Q1300 511 1317 511H1320Q1329 511 1332 510T1338 506T1341 497T1344 481T1352 456Q1374 389 1425 336T1544 261Q1553 258 1553 250Q1553 244 1548 241T1524 231T1486 212Q1445 186 1415 152T1370 85T1349 35T1341 4Q1339 -6 1336 -8T1320 -11Q1300 -11 1300 0Q1300 7 1305 25Q1337 151 1444 230H95V155',
    0x29EB: '318 709Q325 716 332 716Q340 716 344 713T474 511Q611 298 611 292Q611 285 526 152Q494 103 474 72Q347 -128 344 -130Q340 -132 333 -132T322 -130Q319 -128 257 -31T131 169T60 278Q56 285 56 292Q56 298 60 305Q73 326 194 516T318 709',
    0x29F8: '166 -215T159 -215T147 -212T141 -204T139 -197Q139 -190 144 -183Q157 -157 378 274T602 707Q605 716 618 716Q625 716 630 712T636 703T638 696Q638 691 406 241T170 -212Q166 -215 159 -215',
    0x2A00: '555 -250Q420 -250 306 -185T124 -4T56 250Q56 453 193 595T526 749Q528 750 539 750Q554 750 562 749Q688 749 800 687T983 508T1054 250Q1054 112 987 -3T806 -184T555 -250ZM555 -165Q672 -165 767 -108T916 44T970 250Q970 418 861 532T600 664Q591 665 548 665Q446 665 353 614T200 466T140 250V243Q140 88 248 -30Q262 -46 280 -62T338 -105T434 -148T555 -165ZM478 250Q478 288 503 307T551 326Q586 326 609 305T632 250Q632 217 610 196T555 174T500 196T478 250',
    0x2A01: '555 -250Q420 -250 306 -185T124 -4T56 250Q56 453 193 595T526 749Q528 750 539 750Q554 750 562 749Q688 749 800 687T983 508T1054 250Q1054 112 987 -3T806 -184T555 -250ZM513 478Q513 664 512 664Q504 664 481 660T406 637T313 588Q281 564 255 537T211 483T181 431T161 382T150 342T144 310T141 292H513V478ZM798 588Q758 616 711 634T639 658T602 663L597 664V292H969Q969 293 967 309T960 341T949 381T930 430T900 482T856 537T798 588ZM513 -164V208H141Q142 205 144 189T149 160T158 125T173 83T196 39T229 -9Q249 -34 273 -55T318 -92T363 -119T405 -138T444 -150T475 -158T499 -162T513 -164ZM775 -103Q801 -87 823 -68T863 -30T894 10T919 49T937 88T950 123T959 154T964 180T968 198L969 208H597V-164Q599 -163 616 -161T647 -155T683 -145T728 -128T775 -103',
    0x2A02: '555 -250Q420 -250 306 -185T124 -4T56 250Q56 453 193 595T526 749Q528 750 539 750Q554 750 562 749Q688 749 800 687T983 508T1054 250Q1054 112 987 -3T806 -184T555 -250ZM600 664Q591 665 548 665Q414 665 306 583L292 573L423 441L555 310L687 441L818 573L804 583Q714 650 600 664ZM364 118L495 250L364 382L232 513L223 500Q140 391 140 250Q140 107 223 0L232 -13L364 118ZM970 250Q970 389 887 501L878 512Q878 513 861 496T812 447T746 381L615 250L746 118L878 -13L887 0Q970 109 970 250ZM687 59L555 190L423 59L292 -73L306 -83Q416 -166 555 -166T804 -83L818 -73L687 59',
    0x2A04: '96 750Q103 750 109 748T120 744T127 737T133 730T137 723T139 718V395L140 73L142 60Q159 -43 237 -104T416 -166Q521 -166 597 -103T690 60L692 73L694 718Q708 749 735 749Q765 749 775 720Q777 714 777 398Q777 78 776 71Q766 -51 680 -140Q571 -249 416 -249H411Q261 -249 152 -140Q66 -51 56 71Q55 78 55 398Q55 714 57 720Q60 734 70 740Q80 750 96 750ZM223 276Q223 282 224 287T227 296T232 302T238 308T243 313T250 316L254 319H374V376V406Q374 438 382 454T418 470Q443 467 450 453T458 410V376V319H579Q580 319 583 317T589 313T594 308T600 302T604 295T608 287T609 276Q609 253 587 241Q577 235 513 235H458V178Q458 176 458 166T459 148Q459 84 415 84Q401 84 390 93T375 117Q374 120 374 178V235H319Q317 235 307 235T290 234Q223 234 223 276',
    0x2A06: '777 -217Q766 -244 745 -249H88Q64 -242 57 -220Q55 -214 55 250T57 720Q60 734 70 740Q80 750 96 750Q127 750 137 720Q139 714 139 274V-166H693V274Q693 714 695 720Q705 749 735 749Q766 749 775 719Q777 713 777 248V-217',
    0x2A2F: '630 29Q630 9 609 9Q604 9 587 25T493 118L389 222L284 117Q178 13 175 11Q171 9 168 9Q160 9 154 15T147 29Q147 36 161 51T255 146L359 250L255 354Q174 435 161 449T147 471Q147 480 153 485T168 490Q173 490 175 489Q178 487 284 383L389 278L493 382Q570 459 587 475T609 491Q630 491 630 471Q630 464 620 453T522 355L418 250L522 145Q606 61 618 48T630 29',
    0x2A3F: '28 660Q28 676 31 679T46 683H50Q87 681 182 681Q217 681 247 681T294 682T315 682Q321 682 323 682T328 679T331 673T332 660Q332 643 328 640T304 637Q239 637 231 626Q229 620 229 334V46H520V334Q520 620 518 626Q510 637 445 637Q426 637 422 640T417 660Q417 675 420 678T432 682H435Q437 682 467 682T569 681T671 681T703 682Q714 682 717 679T721 660Q721 643 717 640T693 637Q628 637 620 626Q619 623 619 342Q619 60 620 57Q628 46 693 46Q714 46 717 43T721 23Q721 5 715 1Q713 0 374 0Q36 0 34 1Q28 5 28 23Q28 40 31 43T56 46Q121 46 129 57Q131 63 131 342Q131 620 129 626Q121 637 56 637Q35 637 32 640T28 660',
    0x2A5E: '55 795Q56 806 70 813H540Q554 806 555 795Q555 791 554 788T552 783T549 779T546 777T542 775T539 773H71Q70 773 68 774T65 776T61 779T58 783T56 788T55 795ZM55 601Q56 612 70 619H540Q554 612 555 601Q555 597 554 594T552 589T549 585T546 583T542 581T539 579H71Q70 579 68 580T65 582T61 585T58 589T56 594T55 601ZM75 -97Q67 -97 61 -91T55 -81Q55 -71 169 166T285 410Q295 425 305 425Q311 425 316 422T323 414L325 410Q327 404 441 167T555 -81Q555 -85 549 -91T535 -97T520 -90Q519 -89 506 -61T463 27T411 136L305 358L199 136Q167 71 129 -10Q98 -75 92 -86T75 -97',
    0x2A7D: '674 636Q682 636 688 630T694 615T687 601Q686 600 417 472L151 346L399 228Q687 92 691 87Q694 81 694 76Q694 58 676 56H670L382 192Q92 329 90 331Q83 336 83 348Q84 359 96 365Q104 369 382 500T665 634Q669 636 674 636ZM94 170Q102 172 104 172Q110 171 254 103T535 -30T678 -98Q694 -106 694 -118Q694 -136 676 -138H670L382 -2Q92 135 90 137Q83 142 83 154Q84 164 94 170',
    0x2A7E: '83 616Q83 624 89 630T99 636Q107 636 253 568T543 431T687 361Q694 356 694 346T687 331Q685 329 395 192L107 56H101Q83 58 83 76Q83 77 83 79Q82 86 98 95Q117 105 248 167Q326 204 378 228L626 346L360 472Q291 505 200 548Q112 589 98 597T83 616ZM674 172Q692 172 694 154Q694 142 687 137Q685 135 395 -2L107 -138H101Q83 -136 83 -118Q83 -106 96 -100Q100 -98 380 35T665 170T674 172',
    0x2A85: '667 761Q669 762 673 762Q682 762 688 756T694 741Q694 731 687 727Q684 724 420 613L156 502L416 392Q476 367 544 338T647 295T682 280Q694 274 694 262Q694 244 676 242Q670 242 524 303T235 425T90 487Q83 493 83 501Q83 514 94 519Q97 520 378 639T667 761ZM55 -23Q55 43 103 90T223 138Q265 138 316 114Q342 100 393 68L443 36Q502 0 554 0Q609 0 650 32T694 109Q694 138 708 138Q710 138 713 136T719 127T722 108Q722 37 673 -9T557 -56Q514 -56 468 -35T387 13T308 60T223 82Q167 82 127 50T83 -27Q81 -56 69 -56Q55 -56 55 -23ZM55 -257Q55 -191 103 -144T223 -96Q265 -96 316 -120Q342 -134 393 -166L443 -198Q502 -234 554 -234Q609 -234 650 -202T694 -125Q694 -96 708 -96Q710 -96 713 -98T719 -107T722 -126Q722 -197 673 -243T557 -290Q514 -290 468 -269T387 -221T308 -174T223 -152Q167 -152 127 -184T83 -261Q80 -290 69 -290Q55 -290 55 -257',
    0x2A86: '90 727Q83 734 83 743Q83 751 89 756T104 762Q111 760 396 641Q686 518 687 517Q694 512 694 502T687 487Q686 486 543 425T253 303T101 242Q83 244 83 262Q83 274 95 280Q96 280 130 294T232 338T361 392L621 502L357 613Q93 724 90 727ZM55 -23Q55 43 103 90T223 138Q265 138 316 114Q342 100 393 68L443 36Q502 0 554 0Q609 0 650 32T694 109Q694 138 708 138Q710 138 713 136T719 127T722 108Q722 37 673 -9T557 -56Q514 -56 468 -35T387 13T308 60T223 82Q167 82 127 50T83 -27Q81 -56 69 -56Q55 -56 55 -23ZM55 -257Q55 -191 103 -144T223 -96Q265 -96 316 -120Q342 -134 393 -166L443 -198Q502 -234 554 -234Q609 -234 650 -202T694 -125Q694 -96 708 -96Q710 -96 713 -98T719 -107T722 -126Q722 -197 673 -243T557 -290Q514 -290 468 -269T387 -221T308 -174T223 -152Q167 -152 127 -184T83 -261Q80 -290 69 -290Q55 -290 55 -257',
    0x2A87: '380 497Q445 528 522 564T636 618T673 635Q680 635 686 628T693 615T689 603Q686 599 418 472L151 343L418 215Q686 88 689 83Q693 79 693 72T687 59T675 52Q669 52 381 189T86 332Q82 337 82 344Q82 350 86 355Q91 359 380 497ZM82 -130T82 -124T95 -103H380L431 -54Q476 -6 486 -6Q491 -6 498 -12T505 -27Q505 -28 505 -29T504 -32Q503 -33 498 -38T485 -53T469 -70L438 -103H680Q682 -106 686 -110T691 -116T693 -123Q693 -130 680 -143H398L346 -192Q300 -241 291 -241Q271 -241 271 -221Q271 -209 306 -179L340 -143H95Q82 -130 82 -124',
    0x2A88: '82 614Q82 620 86 625T94 632T100 635Q106 635 394 498T689 355Q693 349 693 343Q693 338 689 332Q683 327 395 190T100 52Q95 52 89 58T82 72Q82 80 95 88Q114 99 358 215L624 343L358 472Q89 599 86 603Q82 607 82 614ZM82 -130T82 -124T95 -103H380L431 -54Q476 -6 486 -6Q491 -6 498 -12T505 -27Q505 -28 505 -29T504 -32Q503 -33 498 -38T485 -53T469 -70L438 -103H680Q682 -106 686 -110T691 -116T693 -123Q693 -130 680 -143H398L346 -192Q300 -241 291 -241Q271 -241 271 -221Q271 -209 306 -179L340 -143H95Q82 -130 82 -124',
    0x2A89: '86 512Q93 518 381 639T673 761Q680 761 686 755T693 741Q693 733 688 730Q685 723 419 612L155 501L419 390Q685 277 688 272Q693 269 693 261Q693 254 687 248T675 241Q669 241 381 362T86 490Q74 500 86 512ZM70 -59Q57 -59 57 -24Q57 40 104 87Q116 102 146 118Q186 136 231 136Q232 136 242 135T258 133T276 128T302 118T334 101T377 74Q386 69 396 63T411 53T417 50Q435 87 453 134Q491 223 495 227Q498 230 505 230Q513 230 519 225T526 212Q526 203 491 118T453 30Q453 22 489 10T553 -3Q589 -3 622 14Q653 28 669 50T688 90T694 122T706 136Q718 136 718 114Q718 113 718 109T717 103Q717 31 668 -14T554 -60Q529 -60 499 -50T451 -32T433 -24Q431 -24 404 -90T375 -157Q375 -159 402 -178T473 -218T553 -239Q599 -239 641 -211T691 -130Q694 -99 706 -99T718 -122Q718 -123 718 -127T717 -133Q717 -204 668 -249T559 -295Q512 -295 470 -275T355 -206L322 -290Q313 -310 304 -332T289 -367T282 -382Q277 -387 270 -387Q262 -387 255 -382T248 -368Q248 -361 322 -186Q311 -177 280 -166T222 -155Q189 -155 153 -173Q122 -186 106 -208T87 -248T82 -280T71 -294Q57 -294 57 -259Q57 -195 104 -148Q122 -126 155 -113T220 -99Q245 -99 276 -109T324 -127T342 -135Q397 -2 397 1Q386 10 367 23T302 58T222 80Q175 80 132 52T84 -28Q82 -59 70 -59',
    0x2A8A: '86 730Q81 734 81 740Q81 747 88 754T99 761Q103 761 392 640T688 512Q693 509 693 501T688 490Q682 484 394 363T99 241Q94 241 88 248T82 261Q82 268 86 272Q89 277 355 390L619 501L355 612Q89 723 86 730ZM70 -59Q57 -59 57 -24Q57 40 104 87Q116 102 146 118Q186 136 231 136Q232 136 242 135T258 133T276 128T302 118T334 101T377 74Q386 69 396 63T411 53T417 50Q435 87 453 134Q491 223 495 227Q498 230 505 230Q513 230 519 225T526 212Q526 203 491 118T453 30Q453 22 489 10T553 -3Q589 -3 622 14Q653 28 669 50T688 90T694 122T706 136Q718 136 718 114Q718 113 718 109T717 103Q717 31 668 -14T554 -60Q529 -60 499 -50T451 -32T433 -24Q431 -24 404 -90T375 -157Q375 -159 402 -178T473 -218T553 -239Q599 -239 641 -211T691 -130Q694 -99 706 -99T718 -122Q718 -123 718 -127T717 -133Q717 -204 668 -249T559 -295Q512 -295 470 -275T355 -206L322 -290Q313 -310 304 -332T289 -367T282 -382Q277 -387 270 -387Q262 -387 255 -382T248 -368Q248 -361 322 -186Q311 -177 280 -166T222 -155Q189 -155 153 -173Q122 -186 106 -208T87 -248T82 -280T71 -294Q57 -294 57 -259Q57 -195 104 -148Q122 -126 155 -113T220 -99Q245 -99 276 -109T324 -127T342 -135Q397 -2 397 1Q386 10 367 23T302 58T222 80Q175 80 132 52T84 -28Q82 -59 70 -59',
    0x2A8B: '674 1003Q681 1003 687 999T694 983Q694 973 683 967Q669 959 420 868L162 772L422 676Q683 579 685 577Q694 571 694 560Q694 550 687 546T673 541Q669 542 384 647T93 755Q83 760 83 772Q83 783 91 788Q98 791 383 897T674 1003ZM84 354T84 367T98 387H679Q694 379 694 367Q694 354 679 347H98Q84 354 84 367ZM84 160T84 173T98 193H679Q694 185 694 173Q694 160 679 153H98Q84 160 84 173ZM94 -3Q102 -1 104 -1Q107 -2 392 -107T684 -215Q694 -219 694 -232Q694 -241 687 -247Q686 -248 395 -357Q106 -463 101 -463Q83 -461 83 -443Q83 -431 94 -426Q97 -423 357 -328L615 -232L355 -136Q94 -39 92 -37Q83 -31 83 -21Q83 -9 94 -3',
    0x2A8C: '104 541Q98 541 91 545T83 560Q83 571 92 577Q94 579 355 676L615 772L357 868Q108 959 94 967Q83 973 83 983Q83 989 87 996T104 1003Q109 1002 396 896T687 787Q694 781 694 772Q694 759 684 755Q678 752 393 647T104 541ZM84 367Q84 380 98 387H679Q694 379 694 367Q694 356 680 348L390 347H100Q84 352 84 367ZM84 173Q84 188 100 193H680Q694 183 694 173Q694 160 679 153H98Q84 160 84 173ZM674 -1Q682 -1 688 -6T694 -20Q694 -31 685 -37Q683 -39 422 -136L162 -232L420 -328Q680 -423 683 -426Q694 -431 694 -443Q694 -461 676 -463Q671 -463 382 -357Q91 -248 90 -247Q83 -242 83 -232Q83 -220 93 -215Q667 -1 674 -1',
    0x2A95: '674 636Q682 636 688 631T694 616Q694 605 687 601Q685 599 395 462L107 326H101Q83 328 83 345Q83 358 96 365Q102 367 382 500T665 634Q671 636 674 636ZM674 442Q692 442 694 424Q694 412 687 407Q686 406 417 278L151 152L399 34Q687 -102 691 -107Q694 -113 694 -118Q694 -136 676 -138H670L382 -2Q92 135 90 137Q83 142 83 154Q84 165 96 171Q104 175 382 306T665 440Q669 442 674 442',
    0x2A96: '83 616Q83 624 89 630T99 636Q107 636 253 568T543 431T687 361Q694 354 694 346Q694 328 676 326H670L382 462Q317 493 226 535Q119 585 101 595T83 616ZM94 440Q102 442 104 442Q110 441 254 373T535 240T678 172Q679 172 680 171Q694 164 694 153T687 137Q685 135 395 -2L107 -138H101Q83 -136 83 -118Q83 -106 93 -101L128 -84Q163 -68 230 -36T361 26L626 152L360 278Q91 406 90 407Q83 412 83 424Q84 434 94 440',
    0x2AAF: '84 346Q84 359 91 363T117 367Q120 367 126 367T137 366Q388 370 512 430T653 609Q657 636 676 636Q685 635 689 629T694 618V612Q689 566 672 528T626 463T569 417T500 383T435 362T373 346Q379 345 404 339T440 330T477 318T533 296Q592 266 630 223T681 145T694 78Q694 57 674 57Q662 57 657 67T652 92T640 135T606 191Q500 320 137 326H114Q104 326 98 327T88 332T84 346ZM84 -131T84 -118T98 -98H679Q694 -106 694 -118T679 -138H98Q84 -131 84 -118',
    0x2AB0: '84 614Q84 636 102 636Q115 636 119 626T125 600T137 556T171 501Q277 372 640 366H661Q694 366 694 346T661 326H640Q578 325 526 321T415 307T309 280T222 237T156 172T124 83Q122 66 118 62T103 57Q100 57 98 57T95 58T93 59T90 62T85 67Q83 71 83 80Q88 126 105 164T151 229T208 275T277 309T342 330T404 346Q401 347 380 351T345 360T302 373T245 396Q125 455 92 565Q84 599 84 614ZM84 -131T84 -118T98 -98H679Q694 -106 694 -118T679 -138H98Q84 -131 84 -118',
    0x2AB5: '653 734Q653 738 660 745T673 752T686 745T693 723Q672 555 466 485Q390 463 378 463Q373 463 373 461Q373 458 378 458Q390 458 466 436Q562 404 620 350Q682 283 693 198Q693 183 686 176Q681 170 674 170T660 176T653 187Q653 192 652 200T646 228T631 265T602 307T555 350Q435 431 151 441H95Q82 454 82 460T95 481H151Q165 482 197 483T238 485Q427 500 528 554T649 707Q653 729 653 734ZM82 33Q82 37 83 40T89 47T95 54H473L520 105Q569 156 571 156Q573 157 578 157Q586 157 592 151T598 136Q598 130 562 92L526 56L604 54H682Q693 43 693 35Q693 31 692 28T686 21T680 14H489L342 -139L513 -142H682Q693 -148 693 -160Q693 -167 680 -182H304L258 -230Q248 -240 237 -251T221 -268T211 -278T203 -284T197 -286Q189 -286 184 -280T178 -264Q178 -257 213 -219L249 -182H171L93 -179L86 -175Q82 -170 82 -163Q82 -155 95 -142H289L360 -64L433 14H262L93 16Q82 23 82 33',
    0x2AB6: '693 466T693 460T680 441H624Q608 439 577 438T538 436Q349 421 248 367T126 214Q122 192 122 187Q122 183 116 177T102 170Q95 170 89 176Q82 183 82 198Q93 283 155 350Q213 404 309 436Q385 458 398 458Q402 458 402 461Q402 463 398 463Q385 463 309 485Q103 555 82 723Q82 738 89 745T102 752T115 745T122 734Q122 721 126 701T155 640T220 572Q340 490 624 481H680Q693 466 693 460ZM82 33Q82 37 83 40T89 47T95 54H473L520 105Q569 156 571 156Q573 157 578 157Q586 157 592 151T598 136Q598 130 562 92L526 56L604 54H682Q693 43 693 35Q693 31 692 28T686 21T680 14H489L342 -139L513 -142H682Q693 -148 693 -160Q693 -167 680 -182H304L258 -230Q248 -240 237 -251T221 -268T211 -278T203 -284T197 -286Q189 -286 184 -280T178 -264Q178 -257 213 -219L249 -182H171L93 -179L86 -175Q82 -170 82 -163Q82 -155 95 -142H289L360 -64L433 14H262L93 16Q82 23 82 33',
    0x2AB7: '82 494T82 501T95 521H171Q405 527 511 569Q630 618 651 732Q652 734 653 740T655 748T658 754T663 759T672 761L686 754Q693 747 693 734Q684 668 648 623Q627 591 573 557T442 507L417 501Q428 496 442 494Q520 478 573 444T648 378Q684 333 693 267Q693 254 686 247Q673 234 659 245Q657 247 651 269Q630 383 511 432Q406 474 171 481H95Q82 494 82 501ZM70 -59Q57 -59 57 -26Q57 30 90 73T177 132Q191 136 226 136Q228 136 239 136T253 135T267 132T287 125T311 113T346 95T391 67Q462 20 502 5Q519 1 553 1Q586 1 602 5Q641 18 664 45T691 107Q694 136 704 136Q717 136 717 115V105Q717 39 671 -9T554 -58Q518 -58 481 -43T382 14Q302 63 273 74Q255 78 222 78Q188 78 173 74Q90 46 84 -28Q82 -59 70 -59ZM71 -294Q57 -294 57 -262Q57 -205 90 -162T177 -104Q191 -99 226 -99Q266 -103 277 -106Q310 -119 391 -168Q455 -212 502 -231Q519 -235 553 -235Q586 -235 602 -231Q640 -218 661 -195T686 -151T693 -115T704 -99Q717 -99 717 -121V-131Q717 -198 671 -246T556 -294Q519 -294 482 -279T382 -222Q307 -175 273 -162Q255 -157 222 -157Q188 -157 173 -162Q133 -175 110 -201T84 -264Q82 -294 71 -294',
    0x2AB8: '693 501Q693 493 679 481H604Q369 474 264 432Q143 382 124 269Q116 246 115 245Q101 234 88 247Q82 254 82 267Q89 329 126 378Q147 410 201 444T333 494L357 501Q354 502 340 505T318 510T295 516T269 525T243 535T215 548T188 565Q142 599 126 623Q89 672 82 734Q82 761 102 761L115 756Q116 755 124 732Q143 619 264 569Q371 527 604 521H679Q693 507 693 501ZM70 -59Q57 -59 57 -26Q57 30 90 73T177 132Q191 136 226 136Q228 136 239 136T253 135T267 132T287 125T311 113T346 95T391 67Q462 20 502 5Q519 1 553 1Q586 1 602 5Q641 18 664 45T691 107Q694 136 704 136Q717 136 717 115V105Q717 39 671 -9T554 -58Q518 -58 481 -43T382 14Q302 63 273 74Q255 78 222 78Q188 78 173 74Q90 46 84 -28Q82 -59 70 -59ZM71 -294Q57 -294 57 -262Q57 -205 90 -162T177 -104Q191 -99 226 -99Q266 -103 277 -106Q310 -119 391 -168Q455 -212 502 -231Q519 -235 553 -235Q586 -235 602 -231Q640 -218 661 -195T686 -151T693 -115T704 -99Q717 -99 717 -121V-131Q717 -198 671 -246T556 -294Q519 -294 482 -279T382 -222Q307 -175 273 -162Q255 -157 222 -157Q188 -157 173 -162Q133 -175 110 -201T84 -264Q82 -294 71 -294',
    0x2AB9: '82 494T82 501T95 521H171Q256 523 317 528T441 548T543 584T613 644T651 732Q652 734 653 740T655 748T658 754T663 759T672 761L686 754Q693 747 693 734Q686 686 664 647T615 586T548 545T482 518T417 501Q419 500 451 493T517 471T590 434T657 367T693 267Q693 241 673 241Q664 241 659 245Q656 249 650 273T635 323T593 380T511 432Q406 474 171 481H95Q82 494 82 501ZM57 -26Q57 39 101 87T219 136Q254 136 277 130Q320 114 382 72Q419 50 424 45Q426 45 459 110Q496 178 497 179Q500 180 504 180Q509 180 517 175T526 161Q526 158 495 90L462 25Q462 21 502 5Q519 1 553 1Q586 1 602 5Q641 18 664 45T691 107Q694 136 706 136T718 115Q718 114 718 111T717 105Q717 39 671 -9T554 -58L459 -33Q450 -29 444 -27T437 -26L371 -155L391 -168Q485 -235 538 -235H553Q586 -235 602 -230Q683 -204 691 -128Q694 -99 706 -99T718 -120Q718 -121 718 -124T717 -130Q717 -199 670 -246T557 -294T393 -228Q353 -205 351 -201Q348 -201 315 -266Q294 -310 285 -323T268 -337Q259 -337 254 -331T248 -317Q248 -305 282 -246L313 -181Q313 -177 273 -161Q255 -157 222 -157Q188 -157 173 -161Q134 -174 113 -198T88 -242T82 -278T71 -294Q57 -294 57 -261Q57 -204 91 -161T179 -104Q195 -99 228 -99Q274 -102 315 -124Q337 -132 337 -130L404 -1L384 12Q319 58 273 74Q255 79 222 79Q188 79 173 74Q133 61 112 37T88 -7T82 -43T70 -59Q57 -59 57 -26',
    0x2ABA: '693 501Q693 493 679 481H604Q548 479 509 477T418 469T331 454T257 429T194 392T150 340T124 270Q117 247 115 245Q101 236 88 247Q82 254 82 267Q89 330 126 379Q147 411 202 444T333 494L357 501Q239 531 188 565Q142 599 126 623Q89 672 82 734Q82 761 102 761L115 756Q116 755 124 732Q133 678 166 640T241 579T349 544T470 527T604 521H679Q693 507 693 501ZM57 -26Q57 39 101 87T219 136Q254 136 277 130Q320 114 382 72Q419 50 424 45Q426 45 459 110Q496 178 497 179Q500 180 504 180Q509 180 517 175T526 161Q526 158 495 90L462 25Q462 21 502 5Q519 1 553 1Q586 1 602 5Q641 18 664 45T691 107Q694 136 706 136T718 115Q718 114 718 111T717 105Q717 39 671 -9T554 -58L459 -33Q450 -29 444 -27T437 -26L371 -155L391 -168Q485 -235 538 -235H553Q586 -235 602 -230Q683 -204 691 -128Q694 -99 706 -99T718 -120Q718 -121 718 -124T717 -130Q717 -199 670 -246T557 -294T393 -228Q353 -205 351 -201Q348 -201 315 -266Q294 -310 285 -323T268 -337Q259 -337 254 -331T248 -317Q248 -305 282 -246L313 -181Q313 -177 273 -161Q255 -157 222 -157Q188 -157 173 -161Q134 -174 113 -198T88 -242T82 -278T71 -294Q57 -294 57 -261Q57 -204 91 -161T179 -104Q195 -99 228 -99Q274 -102 315 -124Q337 -132 337 -130L404 -1L384 12Q319 58 273 74Q255 79 222 79Q188 79 173 74Q133 61 112 37T88 -7T82 -43T70 -59Q57 -59 57 -26',
    0x2AC5: '84 463Q84 585 166 663T360 752Q361 752 370 752T395 752T430 752T475 753T524 753H679Q694 746 694 733Q694 724 681 714L522 713H470H441Q366 713 338 709T266 685Q244 674 224 659T179 617T139 550T124 463V458Q124 370 185 302Q244 238 328 220Q348 215 366 215T522 213H681Q694 203 694 193Q694 180 679 173H526Q510 173 480 173T434 172Q350 172 289 188T172 258Q84 340 84 463ZM84 -14T84 -1T98 19H679Q694 11 694 -1Q694 -14 679 -21H98Q84 -14 84 -1ZM84 -208T84 -195T98 -175H679Q694 -183 694 -195Q694 -208 679 -215H98Q84 -208 84 -195',
    0x2AC6: '83 733Q83 746 98 753H251Q267 753 297 753T343 754Q427 754 488 738T605 668Q693 587 693 463Q693 378 650 312T545 213T415 174Q407 173 251 173H98Q83 180 83 193Q83 203 96 213H255H308H337Q412 213 439 217T512 241Q533 252 553 267T599 309T639 376T654 463Q654 554 592 624Q557 662 512 685Q468 704 439 708T335 713H306H255L96 714Q83 724 83 733ZM84 -14T84 -1T98 19H679Q694 11 694 -1Q694 -14 679 -21H98Q84 -14 84 -1ZM84 -208T84 -195T98 -175H679Q694 -183 694 -195Q694 -208 679 -215H98Q84 -208 84 -195',
    0x2ACB: '693 221Q693 214 680 201H524Q398 201 367 202T309 212Q236 230 180 280T98 398Q84 438 84 492T98 585Q126 663 193 716T346 781Q347 781 373 781T440 782T520 783H680Q682 780 686 776T691 770T693 763T680 743H526Q364 743 353 741Q279 730 221 687T138 578Q124 540 124 492T138 405Q163 340 221 297T353 243Q364 241 526 241H680Q682 238 686 234T691 228T693 221ZM82 -48T82 -41T95 -19H462L513 41L569 105Q574 110 582 110T596 104T602 90Q602 87 600 83Q600 77 555 30L515 -17L600 -19H682Q693 -30 693 -38T680 -59H480L415 -137L349 -213L515 -215H682Q693 -226 693 -233T680 -255H313L260 -317Q224 -360 212 -372T192 -385Q184 -385 179 -377T173 -362Q174 -361 218 -306L260 -255H178L93 -253L86 -248Q82 -243 82 -235Q82 -226 93 -215H195L295 -213L362 -137L426 -59H260L93 -57L86 -53Q82 -48 82 -41',
    0x2ACC: '82 759T82 763T83 769T89 776T95 783H251Q378 783 409 782T469 772Q540 753 596 703T678 585Q691 546 691 492T678 398Q649 320 581 267T426 203Q415 201 251 201H95Q82 214 82 221Q82 225 83 227T89 234T95 241H249Q411 241 422 243Q496 253 554 296T638 405Q651 444 651 492Q651 539 638 578Q613 643 555 686T422 741Q411 743 249 743H95Q82 759 82 763ZM82 -48T82 -41T95 -19H462L513 41L569 105Q574 110 582 110T596 104T602 90Q602 87 600 83Q600 77 555 30L515 -17L600 -19H682Q693 -30 693 -38T680 -59H480L415 -137L349 -213L515 -215H682Q693 -226 693 -233T680 -255H313L260 -317Q224 -360 212 -372T192 -385Q184 -385 179 -377T173 -362Q174 -361 218 -306L260 -255H178L93 -253L86 -248Q82 -243 82 -235Q82 -226 93 -215H195L295 -213L362 -137L426 -59H260L93 -57L86 -53Q82 -48 82 -41',
    0x3008: '333 -232Q332 -239 327 -244T313 -250Q303 -250 296 -240Q293 -233 202 6T110 250T201 494T296 740Q299 745 306 749L309 750Q312 750 313 750Q331 750 333 732Q333 727 243 489Q152 252 152 250T243 11Q333 -227 333 -232',
    0x3009: '55 732Q56 739 61 744T75 750Q85 750 92 740Q95 733 186 494T278 250T187 6T92 -240Q85 -250 75 -250Q67 -250 62 -245T55 -232Q55 -227 145 11Q236 248 236 250T145 489Q55 727 55 732',
    0xE006: '91 417Q104 430 111 430T131 417V301L171 341Q201 373 207 378T220 384Q227 384 233 377T240 366Q240 357 187 299L131 244V-10Q116 -23 111 -23T91 -10V201L49 157Q20 127 14 121T0 115Q-8 115 -14 121T-20 132Q-20 139 17 178Q29 191 36 199L91 257V417',
    0xE007: '56 417Q68 431 76 431L89 426L96 419V317L98 215L193 273L291 330V375L293 419Q301 431 311 431Q331 431 331 388L333 355L356 370Q381 384 388 384Q394 384 400 377T407 363Q407 354 367 328L331 308V-10Q316 -23 310 -23Q300 -23 293 -12L291 135V284L98 168L96 77V-12Q84 -24 76 -24L62 -19L58 -12L56 66V144L31 128Q5 114 -2 114Q-8 114 -14 121T-20 136Q-20 142 -14 147T20 170L56 190V417',
    0xE008: '477 261Q477 257 473 256T455 253T417 251T348 250H235L155 -77L146 -82Q137 -85 109 -85Q55 -85 55 -77L139 261Q224 596 226 598Q229 603 239 603Q240 603 254 603T290 603T341 604T405 605T477 605Q656 603 687 602T719 596Q719 589 692 588T513 585H319L282 427L242 272Q242 270 351 270Q388 270 410 270T444 269T460 267T469 265T477 261',
    0xE009: '228 325Q170 322 156 316T127 309Q108 309 104 314Q99 319 99 322T108 341Q125 376 171 400T268 425H271Q302 425 319 396Q328 377 328 358Q328 332 324 314Q311 270 286 221Q274 194 274 192H275Q339 234 484 325T639 421Q669 434 691 434T723 425T734 406Q734 394 719 381Q715 376 644 330L575 287L566 267Q543 233 526 176Q520 160 515 143T508 115T506 105Q506 103 533 103Q585 103 607 110T641 118Q670 118 670 107Q670 100 661 85Q643 50 598 27T504 3Q465 3 450 36Q441 51 441 73Q441 84 444 96Q452 146 484 205L497 236L324 125Q143 12 135 10Q103 -6 77 -6Q61 -6 49 2T37 21Q37 36 49 46T124 96L195 141L204 156Q219 179 243 248T264 323Q264 325 228 325',
    0xE00C: '86 472Q93 477 381 614T673 752Q680 752 686 746T693 732T689 721Q686 715 418 590L151 461L418 332Q684 207 689 201Q693 195 693 190Q693 183 687 177T675 170Q668 170 380 307T86 450Q82 454 82 461Q82 467 86 472ZM369 101V126Q369 156 382 156H384Q385 157 386 157Q409 157 409 115V98V54H680Q693 39 693 34T680 14H409V-142H680Q693 -155 693 -162Q693 -167 680 -182H409V-273Q396 -284 388 -284Q382 -284 369 -275V-182H95Q82 -167 82 -162Q82 -155 95 -142H369V14H95Q93 17 89 21T84 27T82 34T83 40T89 47T95 54H369V101',
    0xE00D: '89 745Q95 752 100 752Q106 752 394 615T689 472Q693 468 693 461T689 450Q684 445 396 308T100 170Q95 170 89 176T82 190Q82 195 86 201Q91 208 358 332L624 461L358 590Q90 715 86 721Q82 725 82 731Q82 739 89 745ZM369 101V126Q369 156 382 156H384Q385 157 386 157Q409 157 409 115V98V54H680Q693 39 693 34T680 14H409V-142H680Q693 -155 693 -162Q693 -167 680 -182H409V-273Q396 -284 388 -284Q382 -284 369 -275V-182H95Q82 -167 82 -162Q82 -155 95 -142H369V14H95Q93 17 89 21T84 27T82 34T83 40T89 47T95 54H369V101',
    0xE00E: '97 172Q82 172 82 190Q82 197 86 201Q94 209 173 246T327 319T402 357Q405 360 434 448T462 539L278 628Q96 713 86 721Q82 725 82 732T88 745T102 752Q103 752 125 742T198 709T293 666Q342 642 385 622T453 590T478 579Q479 579 506 659T562 824T598 915Q602 919 609 919T622 913T629 901Q629 898 571 728Q546 656 531 608T518 559Q555 539 602 519Q664 488 679 479T694 461Q694 457 689 450Q680 443 616 413T494 356T435 326L389 190L342 57L513 55H682Q694 43 694 34Q694 28 689 21L682 17L506 15H329L322 -8Q320 -13 310 -41T295 -85L275 -141H680Q682 -143 684 -146T688 -151T691 -156T693 -162Q693 -172 682 -179L473 -181H262L220 -303Q192 -388 185 -404T166 -421Q160 -421 153 -415T146 -403Q146 -400 179 -302T220 -185Q220 -181 158 -181L93 -179L86 -174Q82 -169 82 -161Q82 -152 93 -141H164L233 -139L260 -63L286 15H189L93 17L86 21Q82 26 82 34Q82 44 93 55H198L300 57L342 179Q350 204 361 238T378 286T382 301L246 237Q111 172 97 172ZM624 461Q621 464 560 492Q512 518 503 518Q500 518 500 517Q499 513 488 479T465 413T453 379L624 461',
    0xE00F: '97 54Q82 54 82 72Q82 79 86 84Q95 91 222 153L351 215L398 324L442 433L258 519Q95 597 87 604Q82 608 82 615T88 628T102 635Q107 635 424 484L458 468L524 630Q593 789 597 795Q601 801 609 801Q616 801 622 795T629 781L562 615L493 450L589 406Q665 371 679 362T694 344Q694 339 693 337T677 326T631 302T538 257Q504 241 465 223T406 195T386 186Q383 185 344 92T306 -3L486 81Q662 168 673 168Q680 168 686 162T693 148T689 137Q688 136 482 35L280 -59L233 -176Q184 -291 178 -299Q172 -303 166 -303T153 -297T146 -283Q146 -279 185 -186T224 -90Q225 -88 223 -88Q219 -88 193 -101Q109 -143 98 -143Q82 -138 82 -122Q82 -116 85 -113T108 -98T171 -67L249 -30L289 61Q297 81 307 107T321 144T326 157L218 106Q109 54 97 54ZM553 379Q480 412 480 415Q479 415 460 372T423 285T406 241Q408 240 516 291T624 344L553 379',
    0xE010: '102 168Q103 168 151 146T247 102T295 81Q299 85 322 144T344 206L218 268Q153 297 123 313T87 333T82 344T86 355Q104 369 291 455Q491 552 491 553L542 673Q581 767 590 784T609 801Q616 801 622 795T629 781Q629 773 586 677Q546 581 546 577L609 606Q669 635 673 635Q680 635 686 629T693 615Q693 610 692 608T670 593T604 561L524 521L400 226L542 157Q617 123 649 107T687 85T694 72Q694 66 690 60T679 54Q665 54 526 119Q394 186 386 186Q385 186 342 88L331 61L509 -23Q680 -105 688 -111Q693 -115 693 -122T688 -135T675 -141H673Q664 -141 491 -59Q320 21 316 21H315L249 -136Q183 -293 178 -299Q172 -303 166 -303T153 -297T146 -283Q146 -282 154 -261T181 -197T213 -119L280 41Q280 46 186 86Q157 101 121 119Q92 133 87 136T82 148Q82 155 88 161T102 168ZM418 370L466 495Q464 495 308 420T151 344T204 317T311 267T364 244Q364 247 418 370',
    0xE011: '82 34Q82 44 93 55H198L300 57L342 179Q351 207 362 238T378 286T384 303T238 377Q109 435 86 450Q82 454 82 460T86 472Q90 476 302 579L511 679Q512 679 553 795Q569 842 577 866T592 903T600 917T608 919Q615 919 622 912T629 901Q629 899 595 799Q589 777 581 753T569 717T564 703L618 728Q666 752 673 752T686 746T693 732Q693 723 683 717T615 683L546 650L491 488Q464 410 450 368T438 326Q493 297 562 266Q660 219 677 209T694 190Q694 183 690 177T678 171Q664 171 546 228L424 286Q422 286 382 172L342 57L513 55H682Q694 43 694 34Q694 28 689 21L682 17L506 15H329L322 -8Q320 -13 310 -41T295 -85L275 -141H680Q682 -143 684 -146T688 -151T691 -156T693 -162Q693 -172 682 -179L473 -181H262L220 -303Q192 -388 185 -404T166 -421Q160 -421 153 -415T146 -403Q146 -400 179 -302T220 -185Q220 -181 158 -181L93 -179L86 -174Q82 -169 82 -161Q82 -152 93 -141H164L233 -139L260 -63L286 15H189L93 17L86 21Q82 26 82 34ZM495 623Q495 626 493 626T321 544T151 461L398 343Q399 343 405 360T423 415T446 483Q457 513 469 551T488 606T495 623',
    0xE016: '82 -6Q82 1 95 14H262L295 94Q331 171 331 174Q324 175 312 178T267 194T206 227T146 283T98 368Q84 406 84 461T98 554Q126 632 194 685T349 750Q360 752 480 752H591L604 783Q620 819 624 821Q631 828 640 828Q653 825 658 810Q658 808 646 781L635 754Q635 752 658 752Q680 752 686 746Q693 739 693 732Q693 728 692 726T686 719T680 712H615L506 466Q479 407 451 344T408 248T393 214Q393 210 535 210H680Q693 194 693 190T680 170H373L340 92L304 14H680Q693 1 693 -6Q693 -11 680 -26H286L253 -103L218 -179L451 -181H682Q694 -193 694 -201Q694 -212 682 -219L440 -221H200L178 -270Q160 -309 154 -319T139 -330Q122 -330 118 -312L155 -223Q155 -221 126 -221H95Q82 -206 82 -201T95 -181H175L206 -108Q237 -35 242 -30Q242 -26 169 -26H95Q82 -11 82 -6ZM571 710Q571 712 469 712Q443 712 416 712T371 711T351 710Q279 700 221 656T138 548Q124 508 124 461T138 374Q186 245 351 212L460 459Q571 709 571 710',
    0xE017: '82 -14T82 -7T95 15H431L529 170H435Q341 170 333 175Q149 218 98 368Q84 406 84 461Q84 515 98 555Q126 633 193 686T346 750Q347 750 373 750T440 751T520 752H680Q693 739 693 732Q693 727 680 712H526Q364 712 353 710Q268 700 207 646T126 512Q123 496 123 461T126 410Q141 350 180 304T280 232Q312 217 344 214T464 210H555L589 261Q613 301 620 311T635 321Q644 321 650 315T657 301Q657 296 651 286T630 252T604 212Q604 210 642 210H680Q693 197 693 190Q693 186 692 184T686 177T680 170H578L526 92L478 17L580 15H682Q693 4 693 -4T680 -25H451L353 -179L518 -181H682Q694 -193 694 -201Q694 -211 682 -219L504 -221H326L293 -272Q257 -332 246 -332Q238 -332 232 -326T225 -313Q225 -310 226 -308Q226 -305 251 -265T278 -223Q278 -221 186 -221H95Q93 -218 89 -214T84 -208T82 -201T95 -181H306L404 -25H249L93 -23L86 -19Q82 -14 82 -7',
    0xE018: '82 732Q82 739 95 752H251H348Q420 752 460 744T551 708Q566 697 566 701Q618 815 624 821Q631 828 640 828Q653 825 658 810L600 677Q600 671 615 656T653 605T689 517Q692 496 692 461T689 406Q668 325 615 266Q572 221 513 196T391 170H373L340 92L304 14H680Q693 1 693 -6Q693 -11 680 -26H286L253 -103L218 -179L451 -181H682Q694 -193 694 -201Q694 -212 682 -219L440 -221H200L178 -270Q160 -309 154 -319T139 -330Q122 -330 118 -312L155 -223Q155 -221 126 -221H95Q82 -206 82 -201T95 -181H175L206 -108Q237 -35 242 -30Q242 -26 169 -26H95Q82 -11 82 -6Q82 1 95 14H262L295 92L331 170H95Q93 172 91 175T87 180T84 185T82 191Q82 199 93 210H220L349 212L549 659Q507 692 462 702T338 712H249H95Q82 727 82 732ZM652 473Q652 513 636 552T603 611T582 632Q581 632 487 422T393 210Q424 210 460 220T535 253T605 316T649 410Q652 427 652 461V473',
    0xE019: '82 732Q82 739 95 752H251Q415 752 426 750Q539 736 615 657Q667 599 689 517Q692 496 692 461T689 406Q668 325 615 266Q522 170 382 170H355L326 95Q319 80 311 59T298 28T293 17Q293 15 486 15H680Q693 0 693 -6T680 -25H275L213 -179L449 -181H682Q693 -192 693 -199T680 -221H198L178 -270Q153 -333 139 -333Q132 -333 126 -327T119 -314T135 -266T153 -223Q153 -221 124 -221H95Q82 -207 82 -201T95 -181H171L233 -25H162L93 -23L86 -19Q82 -14 82 -7T95 15H251L313 170H202L93 172L86 177Q82 182 82 190Q82 199 93 210H211L329 212L349 261Q366 301 372 311T386 321Q392 321 399 315T407 302Q407 295 390 254T373 210Q374 209 377 209Q412 209 444 217Q512 231 564 273T638 377Q651 414 651 461Q651 509 638 548Q613 613 555 656T422 710Q411 712 249 712H95Q82 727 82 732',
    0xE01A: '693 -115T693 -122T680 -144H315L269 -199Q221 -255 213 -255H212Q203 -255 197 -248T193 -231Q195 -225 229 -184L262 -144H186L113 -142L106 -137Q102 -130 102 -125Q102 -119 115 -104H298L426 52H386Q342 54 309 63Q236 79 180 129T98 249Q84 289 84 343Q84 398 98 436Q126 514 193 567T346 632Q347 632 373 632T440 633T520 634H680Q682 631 686 627T691 621T693 614T680 594H526Q364 594 353 592Q268 581 207 528T126 394Q123 378 123 343T126 292Q141 231 181 185T280 114Q329 92 415 92H462L506 147Q554 203 562 203H563Q572 203 578 196T582 178Q579 173 546 132L513 94L598 92H682Q693 81 693 73T680 52H480L349 -102L515 -104H682Q693 -115 693 -122',
    0xE01B: '82 610T82 614T83 620T89 627T95 634H251Q378 634 409 633T469 623Q540 604 596 554T678 436Q691 397 691 343T678 249Q653 181 597 131T469 63Q427 52 362 52H315L213 -102L438 -104H662Q673 -115 673 -123Q673 -129 660 -144H186L151 -197Q114 -250 109 -253Q106 -254 104 -254Q100 -254 98 -253Q91 -253 87 -248T82 -235Q82 -230 109 -186L138 -144H115Q82 -144 82 -125Q82 -119 95 -104H166L266 49Q266 52 182 52H95Q82 65 82 72Q82 76 83 78T89 85T95 92H295L329 143Q365 195 369 198Q372 203 380 203Q385 203 391 197T398 185Q398 184 398 184L399 182Q399 175 369 129L344 94Q344 92 376 92Q402 92 422 94Q496 104 554 147T638 256Q651 295 651 343Q651 390 638 429Q613 494 555 537T422 592Q411 594 249 594H95Q82 610 82 614',
    0x1D400: '296 0Q278 3 164 3Q58 3 49 0H40V62H92Q144 62 144 64Q388 682 397 689Q403 698 434 698Q463 698 471 689Q475 686 538 530T663 218L724 64Q724 62 776 62H828V0H817Q796 3 658 3Q509 3 485 0H472V62H517Q561 62 561 63L517 175H262L240 120Q218 65 217 64Q217 62 261 62H306V0H296ZM390 237L492 238L440 365Q390 491 388 491Q287 239 287 237H390',
    0x1D401: '720 510Q720 476 704 448T665 404T619 377T580 362L564 359L583 356Q602 353 632 342T690 312Q712 292 725 276Q752 235 752 189V183Q752 160 741 125Q698 18 547 2Q543 1 288 0H39V62H147V624H39V686H264H409Q502 686 542 681T624 655Q720 607 720 510ZM563 513Q563 553 548 578T518 611T486 622Q479 624 385 624H293V382H375Q458 383 467 385Q563 405 563 513ZM590 192Q590 307 505 329Q504 330 503 330L398 331H293V62H391H400H444Q496 62 528 75T580 131Q590 155 590 192',
    0x1D402: '64 343Q64 502 174 599T468 697Q502 697 533 691T586 674T623 655T647 639T657 632L694 663Q703 670 711 677T723 687T730 692T735 695T740 696T746 697Q759 697 762 692T766 668V627V489V449Q766 428 762 424T742 419H732H720Q699 419 697 436Q690 498 657 545Q611 618 532 632Q522 634 496 634Q356 634 286 553Q232 488 232 343T286 133Q355 52 497 52Q597 52 650 112T704 237Q704 248 709 251T729 254H735Q750 254 755 253T763 248T766 234Q766 136 680 63T469 -11Q285 -11 175 86T64 343',
    0x1D403: '39 624V686H270H310H408Q500 686 545 680T638 649Q768 584 805 438Q817 388 817 338Q817 171 702 75Q628 17 515 2Q504 1 270 0H39V62H147V624H39ZM655 337Q655 370 655 390T650 442T639 494T616 540T580 580T526 607T451 623Q443 624 368 624H298V62H377H387H407Q445 62 472 65T540 83T606 129Q629 156 640 195T653 262T655 337',
    0x1D404: '723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286',
    0x1D405: '425 0L228 3Q63 3 51 0H39V62H147V618H39V680H644V676Q647 670 659 552T675 428V424H613Q613 433 605 477Q599 511 589 535T562 574T530 599T488 612T441 617T387 618H368H304V371H333Q389 373 411 390T437 468V488H499V192H437V212Q436 244 430 263T408 292T378 305T333 309H304V62H439V0H425',
    0x1D406: '465 -10Q281 -10 173 88T64 343Q64 413 85 471T143 568T217 631T298 670Q371 697 449 697Q452 697 459 697T470 696Q502 696 531 690T582 675T618 658T644 641T656 632L732 695Q734 697 745 697Q758 697 761 692T765 668V627V489V449Q765 428 761 424T741 419H731H724Q705 419 702 422T695 444Q683 520 631 577T495 635Q364 635 295 563Q261 528 247 477T232 343Q232 296 236 260T256 185T296 120T366 76T472 52Q481 51 498 51Q544 51 573 67T607 108Q608 111 608 164V214H464V276H479Q506 273 680 273Q816 273 834 276H845V214H765V113V51Q765 16 763 8T750 0Q742 2 709 16T658 40L648 46Q592 -10 465 -10',
    0x1D407: '400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400',
    0x1D408: '397 0Q370 3 218 3Q65 3 38 0H25V62H139V624H25V686H38Q65 683 218 683Q370 683 397 686H410V624H296V62H410V0H397',
    0x1D409: '174 114Q174 96 169 82T159 63T144 47L155 45Q183 40 203 40Q271 40 290 104Q294 118 294 150T295 380V624H154V686H169Q196 683 365 683Q499 683 517 686H527V624H446V379Q446 183 446 153T441 108Q413 32 315 2Q266 -11 208 -11Q160 -11 118 -2T42 37T8 114V122Q8 150 30 174T91 198T152 174T174 122V114',
    0x1D40A: '400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V338L472 483L634 624H565V686H576Q597 683 728 683Q814 683 829 686H836V624H730L614 524Q507 432 497 422Q496 422 498 418T514 395T553 342T627 241L759 63L805 62H852V0H842Q830 3 701 3Q550 3 526 0H513V62H549Q584 62 584 63Q583 65 486 196T388 328L304 256V62H412V0H400',
    0x1D40B: '643 285Q641 280 629 148T612 4V0H39V62H147V624H39V686H51Q75 683 228 683Q415 685 425 686H439V624H304V62H352H378Q492 62 539 138Q551 156 558 178T569 214T576 255T581 289H643V285',
    0x1D40C: '314 0Q296 3 181 3T48 0H39V62H147V624H39V686H305Q316 679 323 667Q330 653 434 414L546 157L658 414Q766 662 773 674Q778 681 788 686H1052V624H944V62H1052V0H1040Q1016 3 874 3T708 0H696V62H804V341L803 618L786 580Q770 543 735 462T671 315Q540 13 536 9Q528 1 507 1Q485 1 477 9Q472 14 408 162T281 457T217 603Q215 603 215 334V62H323V0H314',
    0x1D40D: '314 0Q296 3 181 3T48 0H39V62H147V624H39V686H171H265Q288 686 297 686T309 684T315 679Q317 676 500 455T684 233V624H576V686H585Q603 683 718 683T851 686H860V624H752V319Q752 15 750 11Q747 4 742 2T718 0H712Q708 0 706 0T700 0T696 1T693 2T690 4T687 7T684 11T679 16T674 23Q671 27 437 311L215 579V62H323V0H314',
    0x1D40E: '64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 173 697 82T432 -10Q262 -10 163 85T64 339ZM625 454Q618 502 600 538T562 593T515 624T469 639T431 642Q331 642 276 563Q232 493 232 353Q232 315 234 285T244 216T267 148T308 94T372 56Q405 46 432 46Q517 46 567 106T627 267Q631 299 631 353Q631 418 625 454',
    0x1D40F: '400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H253Q435 686 470 685T536 678Q585 668 621 648T675 605T705 557T718 514T721 483T718 451T704 409T673 362T616 322T530 293Q500 288 399 287H304V62H412V0H400ZM553 475Q553 554 537 582T459 622Q451 623 373 624H298V343H372Q457 344 480 350Q527 362 540 390T553 475',
    0x1D410: '64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 255 768 184Q720 77 611 26L600 21Q635 -26 682 -26H696Q769 -26 769 0Q769 7 774 12T787 18Q805 18 805 -7V-13Q803 -64 785 -106T737 -171Q720 -183 697 -191Q687 -193 668 -193Q636 -193 613 -182T575 -144T552 -94T532 -27Q531 -23 530 -16T528 -6T526 -3L512 -5Q499 -7 477 -8T431 -10Q393 -10 382 -9Q238 8 151 97T64 339ZM326 80Q326 113 356 138T430 163Q492 163 542 100L553 86Q554 85 561 91T578 108Q637 179 637 330Q637 430 619 498T548 604Q500 641 425 641Q408 641 390 637T347 623T299 590T259 535Q226 469 226 338Q226 244 246 180T318 79L325 74Q326 74 326 80ZM506 58Q480 112 433 112Q412 112 395 104T378 77Q378 44 431 44Q480 44 506 58',
    0x1D411: '394 0Q370 3 222 3Q75 3 51 0H39V62H147V624H39V686H234Q256 686 299 686T362 687Q479 687 554 669T681 593Q716 550 716 497Q716 390 568 338Q569 337 572 336T577 332Q605 317 623 300T650 258T662 218T668 172Q678 98 689 76Q707 40 748 40Q770 40 780 54T795 88T801 111Q805 117 827 117H831Q846 117 852 113T858 92Q857 78 852 63T834 30T797 1T739 -11Q630 -11 580 12T511 87Q506 104 506 168Q506 170 506 178T507 194Q507 289 438 313Q424 318 356 318H298V62H406V0H394ZM366 369Q459 370 490 381Q548 402 548 476V498V517Q548 578 513 600Q479 624 392 624H358H298V369H366',
    0x1D412: '64 493Q64 582 120 636T264 696H272Q280 697 285 697Q380 697 454 645L480 669Q484 672 488 676T495 683T500 688T504 691T508 693T511 695T514 696T517 697T522 697Q536 697 539 691T542 652V577Q542 557 542 532T543 500Q543 472 540 465T524 458H511H505Q489 458 485 461T479 478Q472 529 449 564T393 614T336 634T287 639Q228 639 203 610T177 544Q177 517 195 493T247 457Q253 454 343 436T475 391Q574 326 574 207V200Q574 163 559 120Q517 12 389 -9Q380 -10 346 -10Q308 -10 275 -5T221 7T184 22T160 35T151 40L126 17Q122 14 118 10T111 3T106 -2T102 -5T98 -7T95 -9T92 -10T89 -11T84 -11Q70 -11 67 -4T64 35V108Q64 128 64 153T63 185Q63 203 63 211T69 223T77 227T94 228H100Q118 228 122 225T126 205Q130 125 193 88T345 51Q408 51 434 82T460 157Q460 196 439 221T388 257Q384 259 305 276T221 295Q155 313 110 366T64 493',
    0x1D413: '41 425Q41 426 51 545T62 669V675H737V669Q738 665 748 546T758 425V419H696V425Q687 517 669 555T595 607Q578 612 522 613H478V62H631V0H615Q585 3 399 3Q214 3 184 0H168V62H321V613H277H263Q164 613 134 561Q113 527 103 425V419H41V425',
    0x1D414: '570 686Q588 683 703 683T836 686H845V624H737V420Q737 390 737 345T738 284Q738 205 729 164T689 83Q614 -11 465 -11Q321 -11 240 51T148 207Q147 214 147 421V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V405V370V268Q304 181 311 146T346 87Q387 52 466 52Q642 52 667 195Q668 204 669 415V624H561V686H570',
    0x1D415: '592 686H604Q615 685 631 685T666 684T700 684T724 683Q829 683 835 686H843V624H744L611 315Q584 254 546 165Q492 40 482 19T461 -6L460 -7H409Q398 -4 391 9Q385 20 257 315L124 624H25V686H36Q57 683 190 683Q340 683 364 686H377V624H289L384 403L480 185L492 212Q504 240 529 298T575 405L670 624H582V686H592',
    0x1D416: '915 686L1052 683Q1142 683 1157 686H1164V624H1073L957 320Q930 249 900 170T855 52T839 10Q834 0 826 -5Q821 -7 799 -7H792Q777 -7 772 -5T759 10Q759 11 748 39T716 122T676 228L594 442L512 228Q486 159 455 78Q433 19 428 9T416 -5Q411 -7 389 -7H379Q356 -7 349 10Q349 12 334 51T288 170T231 320L116 624H24V686H35Q44 683 183 683Q331 683 355 686H368V624H323Q278 624 278 623L437 207L499 369L561 531L526 624H434V686H445Q454 683 593 683Q741 683 765 686H778V624H733Q688 624 688 623L847 207Q848 207 927 415T1006 624H905V686H915',
    0x1D417: '327 0Q306 3 174 3Q52 3 43 0H33V62H98L162 63L360 333L157 624H48V686H59Q80 683 217 683Q368 683 395 686H408V624H335L393 540L452 458L573 623Q573 624 528 624H483V686H494Q515 683 646 683Q769 683 778 686H787V624H658L575 511Q493 398 493 397L508 376Q522 356 553 312T611 229L727 62H835V0H824Q803 3 667 3Q516 3 489 0H476V62H513L549 63L401 274L247 63Q247 62 292 62H338V0H327',
    0x1D418: '605 0Q581 3 434 3Q286 3 262 0H250V62H358V275L126 624H19V686H30Q54 683 189 683Q361 685 370 686H383V624H308L319 608Q330 591 353 556T396 491L484 359L660 623Q660 624 623 624H585V686H595Q613 683 728 683Q832 683 841 686H849V624H742L509 274V62H618V0H605',
    0x1D419: '80 430L92 686H358Q624 686 628 684Q638 679 638 656Q638 640 637 639Q637 638 445 353Q401 288 351 214T277 103L253 67L256 66Q258 66 265 66T279 66T298 66H343Q380 66 406 68T464 81T518 110T557 164T579 250Q583 278 583 298Q583 299 614 299H645V291Q643 281 636 150T627 8V0H353Q79 0 75 2Q64 7 64 31Q64 48 66 52L259 340L451 623Q451 624 384 624Q294 623 259 612Q155 581 143 446Q142 440 142 432V430H80',
    0x1D41A: '64 349Q64 399 107 426T255 453Q346 453 402 423T473 341Q478 327 478 310T479 196V77Q493 63 529 62Q549 62 553 57T558 31Q558 9 552 5T514 0H497H481Q375 0 367 56L356 46Q300 -6 210 -6Q130 -6 81 30T32 121Q32 188 111 226T332 272H350V292Q350 313 348 327T337 361T306 391T248 402T194 399H189Q204 376 204 354Q204 327 187 306T134 284Q97 284 81 305T64 349ZM164 121Q164 89 186 67T238 45Q274 45 307 63T346 108L350 117V226H347Q248 218 206 189T164 121',
    0x1D41B: '32 686L123 690Q214 694 215 694H221V409Q289 450 378 450Q479 450 539 387T600 221Q600 122 535 58T358 -6H355Q272 -6 203 53L160 1L129 0H98V301Q98 362 98 435T99 525Q99 591 97 604T83 620Q69 624 42 624H29V686H32ZM227 105L232 99Q237 93 242 87T258 73T280 59T306 49T339 45Q380 45 411 66T451 131Q457 160 457 230Q457 264 456 284T448 329T430 367T396 389T343 398Q282 398 235 355L227 348V105',
    0x1D41C: '447 131H458Q478 131 478 117Q478 112 471 95T439 51T377 9Q330 -6 286 -6Q196 -6 135 35Q39 96 39 222Q39 324 101 384Q169 453 286 453Q359 453 411 431T464 353Q464 319 445 302T395 284Q360 284 343 305T325 353Q325 380 338 396H333Q317 398 295 398H292Q280 398 271 397T245 390T218 373T197 338T183 283Q182 275 182 231Q182 199 184 180T193 132T220 85T270 57Q289 50 317 50H326Q385 50 414 115Q419 127 423 129T447 131',
    0x1D41D: '351 686L442 690Q533 694 534 694H540V389Q540 327 540 253T539 163Q539 97 541 83T555 66Q569 62 596 62H609V31Q609 0 608 0Q588 0 510 -3T412 -6Q411 -6 411 16V38L401 31Q337 -6 265 -6Q159 -6 99 58T38 224Q38 265 51 303T92 375T165 429T272 449Q359 449 417 412V507V555Q417 597 415 607T402 620Q388 624 361 624H348V686H351ZM411 350Q362 399 291 399Q278 399 256 392T218 371Q195 351 189 320T182 238V221Q182 179 183 159T191 115T212 74Q241 46 288 46Q358 46 404 100L411 109V350',
    0x1D41E: '32 225Q32 332 102 392T272 452H283Q382 452 436 401Q494 343 494 243Q494 226 486 222T440 217Q431 217 394 217T327 218H175V209Q175 177 179 154T196 107T236 69T306 50Q312 49 323 49Q376 49 410 85Q421 99 427 111T434 127T442 133T463 135H468Q494 135 494 117Q494 110 489 97T468 66T431 32T373 5T292 -6Q181 -6 107 55T32 225ZM383 276Q377 346 348 374T280 402Q253 402 230 390T195 357Q179 331 176 279V266H383V276',
    0x1D41F: '308 0Q290 3 172 3Q58 3 49 0H40V62H109V382H42V444H109V503L110 562L112 572Q127 625 178 658T316 699Q318 699 330 699T348 700Q381 698 404 687T436 658T449 629T452 606Q452 576 432 557T383 537Q355 537 335 555T314 605Q314 635 328 649H325Q311 649 293 644T253 618T227 560Q226 555 226 498V444H340V382H232V62H318V0H308',
    0x1D420: '50 300Q50 368 105 409T255 450Q328 450 376 426L388 420Q435 455 489 455Q517 455 533 441T554 414T558 389Q558 367 544 353T508 339Q484 339 471 354T458 387Q458 397 462 400Q464 401 461 400Q459 400 454 399Q429 392 427 390Q454 353 459 328Q461 315 461 300Q461 240 419 202Q364 149 248 149Q185 149 136 172Q129 158 129 148Q129 105 170 93Q176 91 263 91Q273 91 298 91T334 91T366 89T400 85T432 77T466 64Q544 22 544 -69Q544 -114 506 -145Q438 -201 287 -201Q149 -201 90 -161T30 -70Q30 -58 33 -47T42 -27T54 -13T69 -1T82 6T94 12T101 15Q66 57 66 106Q66 151 90 187L97 197L89 204Q50 243 50 300ZM485 403H492Q491 404 488 404L485 403V403ZM255 200Q279 200 295 206T319 219T331 242T335 268T336 300Q336 337 333 352T317 380Q298 399 255 399Q228 399 211 392T187 371T178 345T176 312V300V289Q176 235 194 219Q215 200 255 200ZM287 -150Q357 -150 400 -128T443 -71Q443 -65 442 -61T436 -50T420 -37T389 -27T339 -21L308 -20Q276 -20 253 -20Q190 -20 180 -20T156 -26Q130 -38 130 -69Q130 -105 173 -127T287 -150',
    0x1D421: '40 686L131 690Q222 694 223 694H229V533L230 372L238 381Q248 394 264 407T317 435T398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V332Q106 387 106 453T107 534Q107 593 105 605T91 620Q77 624 50 624H37V686H40',
    0x1D422: '72 610Q72 649 98 672T159 695Q193 693 217 670T241 610Q241 572 217 549T157 525Q120 525 96 548T72 610ZM46 442L136 446L226 450H232V62H294V0H286Q271 3 171 3Q67 3 49 0H40V62H109V209Q109 358 108 362Q103 380 55 380H43V442H46',
    0x1D423: '104 610Q104 649 130 672T191 695Q225 693 249 670T273 610Q273 572 249 549T189 525Q152 525 128 548T104 610ZM78 442L173 446L268 450H274V196Q274 -5 274 -37T269 -83Q256 -132 201 -166T71 -200Q10 -200 -30 -173T-71 -102Q-71 -70 -51 -51T-1 -31Q27 -31 48 -49T69 -100Q69 -121 53 -147H56Q66 -149 77 -149H80Q90 -149 100 -146T127 -125T149 -73Q151 -55 151 149V362Q150 364 148 366T145 370T142 373T138 375T133 377T124 378T113 379T97 380H75V442H78',
    0x1D424: '32 686L123 690Q214 694 215 694H221V255L377 382H346V444H355Q370 441 476 441Q544 441 556 444H562V382H476L347 277L515 62H587V0H579Q564 3 476 3Q370 3 352 0H343V62H358L373 63L260 206L237 189L216 172V62H285V0H277Q259 3 157 3Q46 3 37 0H29V62H98V332Q98 387 98 453T99 534Q99 593 97 605T83 620Q69 624 42 624H29V686H32',
    0x1D425: '43 686L134 690Q225 694 226 694H232V62H301V0H292Q274 3 170 3Q67 3 49 0H40V62H109V332Q109 387 109 453T110 534Q110 593 108 605T94 620Q80 624 53 624H40V686H43',
    0x1D426: '40 442Q217 450 218 450H224V365Q226 367 235 378T254 397T278 416T314 435T362 448Q376 450 400 450H406Q503 450 534 393Q545 376 545 370Q545 368 555 379Q611 450 716 450Q774 450 809 434Q850 414 861 379T873 276V213V198V62H942V0H933Q915 3 809 3Q702 3 684 0H675V62H744V194V275Q744 348 735 373T690 399Q645 399 607 370T557 290Q555 281 554 171V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V210V303Q106 353 104 363T91 376Q77 380 50 380H37V442H40',
    0x1D427: '40 442Q217 450 218 450H224V407L225 365Q233 378 245 391T289 422T362 448Q374 450 398 450Q428 450 448 447T491 434T529 402T551 346Q553 335 554 198V62H623V0H614Q596 3 489 3Q374 3 365 0H356V62H425V194V275Q425 348 416 373T371 399Q326 399 288 370T238 290Q236 281 235 171V62H304V0H295Q277 3 171 3Q64 3 46 0H37V62H106V210V303Q106 353 104 363T91 376Q77 380 50 380H37V442H40',
    0x1D428: '287 -5Q228 -5 182 10T109 48T63 102T39 161T32 219Q32 272 50 314T94 382T154 423T214 446T265 452H279Q319 452 326 451Q428 439 485 376T542 221Q542 156 514 108T442 33Q384 -5 287 -5ZM399 230V250Q399 280 398 298T391 338T372 372T338 392T282 401Q241 401 212 380Q190 363 183 334T175 230Q175 202 175 189T177 153T183 118T195 91T215 68T245 56T287 50Q348 50 374 84Q388 101 393 132T399 230',
    0x1D429: '32 442L123 446Q214 450 215 450H221V409Q222 409 229 413T251 423T284 436T328 446T382 450Q480 450 540 388T600 223Q600 128 539 61T361 -6H354Q292 -6 236 28L227 34V-132H296V-194H287Q269 -191 163 -191Q56 -191 38 -194H29V-132H98V113V284Q98 330 97 348T93 370T83 376Q69 380 42 380H29V442H32ZM457 224Q457 303 427 349T350 395Q282 395 235 352L227 345V104L233 97Q274 45 337 45Q383 45 420 86T457 224',
    0x1D42A: '38 220Q38 273 54 314T95 380T152 421T211 443T264 449Q368 449 429 386L438 377L484 450H540V-132H609V-194H600Q582 -191 475 -191Q360 -191 351 -194H342V-132H411V42Q409 41 399 34T383 25T367 16T347 7T324 1T296 -4T264 -6Q162 -6 100 56T38 220ZM287 46Q368 46 417 127V301L412 312Q398 347 369 371T302 395Q282 395 263 388T225 362T194 308T182 221Q182 126 214 86T287 46',
    0x1D42B: '405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313',
    0x1D42C: '38 315Q38 339 45 360T70 404T127 440T223 453Q273 453 320 436L338 445L357 453H366Q380 453 383 447T386 403V387V355Q386 331 383 326T365 321H355H349Q333 321 329 324T324 341Q317 406 224 406H216Q123 406 123 353Q123 334 143 321T188 304T244 294T285 286Q305 281 325 273T373 237T412 172Q414 162 414 142Q414 -6 230 -6Q154 -6 117 22L68 -6H58Q44 -6 41 0T38 42V73Q38 85 38 101T37 122Q37 144 42 148T68 153H75Q87 153 91 151T97 147T103 132Q131 46 220 46H230Q257 46 265 47Q330 58 330 108Q330 127 316 142Q300 156 284 162Q271 168 212 178T122 202Q38 243 38 315',
    0x1D42D: '272 49Q320 49 320 136V145V177H382V143Q382 106 380 99Q374 62 349 36T285 -2L272 -5H247Q173 -5 134 27Q109 46 102 74T94 160Q94 171 94 199T95 245V382H21V433H25Q58 433 90 456Q121 479 140 523T162 621V635H224V444H363V382H224V239V207V149Q224 98 228 81T249 55Q261 49 272 49',
    0x1D42E: '40 442L134 446Q228 450 229 450H235V273V165Q235 90 238 74T254 52Q268 46 304 46H319Q352 46 380 67T419 121L420 123Q424 135 425 199Q425 201 425 207Q425 233 425 249V316Q425 354 423 363T410 376Q396 380 369 380H356V442L554 450V267Q554 84 556 79Q561 62 610 62H623V31Q623 0 622 0Q603 0 527 -3T432 -6Q431 -6 431 25V56L420 45Q373 6 332 -1Q313 -6 281 -6Q208 -6 165 14T109 87L107 98L106 230Q106 358 104 366Q96 380 50 380H37V442H40',
    0x1D42F: '401 444Q413 441 495 441Q568 441 574 444H580V382H510L409 156Q348 18 339 6Q331 -4 320 -4Q318 -4 313 -4T303 -3H288Q273 -3 264 12T221 102Q206 135 197 156L96 382H26V444H34Q49 441 145 441Q252 441 270 444H279V382H231L284 264Q335 149 338 149Q338 150 389 264T442 381Q442 382 418 382H394V444H401',
    0x1D430: '624 444Q636 441 722 441Q797 441 800 444H805V382H741L593 11Q592 10 590 8T586 4T584 2T581 0T579 -2T575 -3T571 -3T567 -4T561 -4T553 -4H542Q525 -4 518 6T490 70Q474 110 463 137L415 257L367 137Q357 111 341 72Q320 17 313 7T289 -4H277Q259 -4 253 -2T238 11L90 382H25V444H32Q47 441 140 441Q243 441 261 444H270V382H222L310 164L382 342L366 382H303V444H310Q322 441 407 441Q508 441 523 444H531V382H506Q481 382 481 380Q482 376 529 259T577 142L674 382H617V444H624',
    0x1D431: '227 0Q212 3 121 3Q40 3 28 0H21V62H117L245 213L109 382H26V444H34Q49 441 143 441Q247 441 265 444H274V382H246L281 339Q315 297 316 297Q320 297 354 341L389 382H352V444H360Q375 441 466 441Q547 441 559 444H566V382H471L355 246L504 63L545 62H586V0H578Q563 3 469 3Q365 3 347 0H338V62H366Q366 63 326 112T285 163L198 63L217 62H235V0H227',
    0x1D432: '84 -102Q84 -110 87 -119T102 -138T133 -149Q148 -148 162 -143T186 -131T206 -114T222 -95T234 -76T243 -59T249 -45T252 -37L269 0L96 382H26V444H34Q49 441 146 441Q252 441 270 444H279V382H255Q232 382 232 380L337 151L442 382H394V444H401Q413 441 495 441Q568 441 574 444H580V382H510L406 152Q298 -84 297 -87Q269 -139 225 -169T131 -200Q85 -200 54 -172T23 -100Q23 -64 44 -50T87 -35Q111 -35 130 -50T152 -92V-100H84V-102',
    0x1D433: '48 262Q48 264 54 349T60 436V444H252Q289 444 336 444T394 445Q441 445 450 441T459 418Q459 406 458 404Q456 399 327 229T194 55H237Q260 56 268 56T297 58T325 65T348 77T370 98T384 128T395 170Q400 197 400 216Q400 217 431 217H462V211Q461 208 453 108T444 6V0H245Q46 0 43 2Q32 7 32 28V33Q32 41 40 52T84 112Q129 170 164 217L298 393H256Q189 392 165 380Q124 360 115 303Q110 280 110 256Q110 254 79 254H48V262',
    0x1D434: '208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260',
    0x1D435: '231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229',
    0x1D436: '50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q484 659 454 652T382 628T299 572T226 479Q194 422 175 346T156 222Q156 108 232 58Q280 24 350 24Q441 24 512 92T606 240Q610 253 612 255T628 257Q648 257 648 248Q648 243 647 239Q618 132 523 55T319 -22Q206 -22 128 53T50 252',
    0x1D437: '287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469',
    0x1D438: '492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213',
    0x1D439: '48 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H742Q749 676 749 669Q749 664 736 557T722 447Q720 440 702 440H690Q683 445 683 453Q683 454 686 477T689 530Q689 560 682 579T663 610T626 626T575 633T503 634H480Q398 633 393 631Q388 629 386 623Q385 622 352 492L320 363H375Q378 363 398 363T426 364T448 367T472 374T489 386Q502 398 511 419T524 457T529 475Q532 480 548 480H560Q567 475 567 470Q567 467 536 339T502 207Q500 200 482 200H470Q463 206 463 212Q463 215 468 234T473 274Q473 303 453 310T364 317H309L277 190Q245 66 245 60Q245 46 334 46H359Q365 40 365 39T363 19Q359 6 353 0H336Q295 2 185 2Q120 2 86 2T48 1',
    0x1D43A: '50 252Q50 367 117 473T286 641T490 704Q580 704 633 653Q642 643 648 636T656 626L657 623Q660 623 684 649Q691 655 699 663T715 679T725 690L740 705H746Q760 705 760 698Q760 694 728 561Q692 422 692 421Q690 416 687 415T669 413H653Q647 419 647 422Q647 423 648 429T650 449T651 481Q651 552 619 605T510 659Q492 659 471 656T418 643T357 615T294 567T236 496T189 394T158 260Q156 242 156 221Q156 173 170 136T206 79T256 45T308 28T353 24Q407 24 452 47T514 106Q517 114 529 161T541 214Q541 222 528 224T468 227H431Q425 233 425 235T427 254Q431 267 437 273H454Q494 271 594 271Q634 271 659 271T695 272T707 272Q721 272 721 263Q721 261 719 249Q714 230 709 228Q706 227 694 227Q674 227 653 224Q646 221 643 215T629 164Q620 131 614 108Q589 6 586 3Q584 1 581 1Q571 1 553 21T530 52Q530 53 528 52T522 47Q448 -22 322 -22Q201 -22 126 55T50 252',
    0x1D43B: '228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637',
    0x1D43C: '43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1',
    0x1D43D: '447 625Q447 637 354 637H329Q323 642 323 645T325 664Q329 677 335 683H352Q393 681 498 681Q541 681 568 681T605 682T619 682Q633 682 633 672Q633 670 630 658Q626 642 623 640T604 637Q552 637 545 623Q541 610 483 376Q420 128 419 127Q397 64 333 21T195 -22Q137 -22 97 8T57 88Q57 130 80 152T132 174Q177 174 182 130Q182 98 164 80T123 56Q115 54 115 53T122 44Q148 15 197 15Q235 15 271 47T324 130Q328 142 387 380T447 625',
    0x1D43E: '285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628',
    0x1D43F: '228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 217 683Q271 680 344 680Q485 680 506 683H518Q524 677 524 674T522 656Q517 641 513 637H475Q406 636 394 628Q387 624 380 600T313 336Q297 271 279 198T252 88L243 52Q243 48 252 48T311 46H328Q360 46 379 47T428 54T478 72T522 106T564 161Q580 191 594 228T611 270Q616 273 628 273H641Q647 264 647 262T627 203T583 83T557 9Q555 4 553 3T537 0T494 -1Q483 -1 418 -1T294 0H116Q32 0 32 10Q32 17 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637',
    0x1D440: '289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629',
    0x1D441: '234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637',
    0x1D442: '740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476',
    0x1D443: '287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554',
    0x1D444: '399 -80Q399 -47 400 -30T402 -11V-7L387 -11Q341 -22 303 -22Q208 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435Q740 255 592 107Q529 47 461 16L444 8V3Q444 2 449 -24T470 -66T516 -82Q551 -82 583 -60T625 -3Q631 11 638 11Q647 11 649 2Q649 -6 639 -34T611 -100T557 -165T481 -194Q399 -194 399 -87V-80ZM636 468Q636 523 621 564T580 625T530 655T477 665Q429 665 379 640Q277 591 215 464T153 216Q153 110 207 59Q231 38 236 38V46Q236 86 269 120T347 155Q372 155 390 144T417 114T429 82T435 55L448 64Q512 108 557 185T619 334T636 468ZM314 18Q362 18 404 39L403 49Q399 104 366 115Q354 117 347 117Q344 117 341 117T337 118Q317 118 296 98T274 52Q274 18 314 18',
    0x1D445: '230 637Q203 637 198 638T193 649Q193 676 204 682Q206 683 378 683Q550 682 564 680Q620 672 658 652T712 606T733 563T739 529Q739 484 710 445T643 385T576 351T538 338L545 333Q612 295 612 223Q612 212 607 162T602 80V71Q602 53 603 43T614 25T640 16Q668 16 686 38T712 85Q717 99 720 102T735 105Q755 105 755 93Q755 75 731 36Q693 -21 641 -21H632Q571 -21 531 4T487 82Q487 109 502 166T517 239Q517 290 474 313Q459 320 449 321T378 323H309L277 193Q244 61 244 59Q244 55 245 54T252 50T269 48T302 46H333Q339 38 339 37T336 19Q332 6 326 0H311Q275 2 180 2Q146 2 117 2T71 2T50 1Q33 1 33 10Q33 12 36 24Q41 43 46 45Q50 46 61 46H67Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628Q287 635 230 637ZM630 554Q630 586 609 608T523 636Q521 636 500 636T462 637H440Q393 637 386 627Q385 624 352 494T319 361Q319 360 388 360Q466 361 492 367Q556 377 592 426Q608 449 619 486T630 554',
    0x1D446: '308 24Q367 24 416 76T466 197Q466 260 414 284Q308 311 278 321T236 341Q176 383 176 462Q176 523 208 573T273 648Q302 673 343 688T407 704H418H425Q521 704 564 640Q565 640 577 653T603 682T623 704Q624 704 627 704T632 705Q645 705 645 698T617 577T585 459T569 456Q549 456 549 465Q549 471 550 475Q550 478 551 494T553 520Q553 554 544 579T526 616T501 641Q465 662 419 662Q362 662 313 616T263 510Q263 480 278 458T319 427Q323 425 389 408T456 390Q490 379 522 342T554 242Q554 216 546 186Q541 164 528 137T492 78T426 18T332 -20Q320 -22 298 -22Q199 -22 144 33L134 44L106 13Q83 -14 78 -18T65 -22Q52 -22 52 -14Q52 -11 110 221Q112 227 130 227H143Q149 221 149 216Q149 214 148 207T144 186T142 153Q144 114 160 87T203 47T255 29T308 24',
    0x1D447: '40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40',
    0x1D448: '107 637Q73 637 71 641Q70 643 70 649Q70 673 81 682Q83 683 98 683Q139 681 234 681Q268 681 297 681T342 682T362 682Q378 682 378 672Q378 670 376 658Q371 641 366 638H364Q362 638 359 638T352 638T343 637T334 637Q295 636 284 634T266 623Q265 621 238 518T184 302T154 169Q152 155 152 140Q152 86 183 55T269 24Q336 24 403 69T501 205L552 406Q599 598 599 606Q599 633 535 637Q511 637 511 648Q511 650 513 660Q517 676 519 679T529 683Q532 683 561 682T645 680Q696 680 723 681T752 682Q767 682 767 672Q767 650 759 642Q756 637 737 637Q666 633 648 597Q646 592 598 404Q557 235 548 205Q515 105 433 42T263 -22Q171 -22 116 34T60 167V183Q60 201 115 421Q164 622 164 628Q164 635 107 637',
    0x1D449: '52 648Q52 670 65 683H76Q118 680 181 680Q299 680 320 683H330Q336 677 336 674T334 656Q329 641 325 637H304Q282 635 274 635Q245 630 242 620Q242 618 271 369T301 118L374 235Q447 352 520 471T595 594Q599 601 599 609Q599 633 555 637Q537 637 537 648Q537 649 539 661Q542 675 545 679T558 683Q560 683 570 683T604 682T668 681Q737 681 755 683H762Q769 676 769 672Q769 655 760 640Q757 637 743 637Q730 636 719 635T698 630T682 623T670 615T660 608T652 599T645 592L452 282Q272 -9 266 -16Q263 -18 259 -21L241 -22H234Q216 -22 216 -15Q213 -9 177 305Q139 623 138 626Q133 637 76 637H59Q52 642 52 648',
    0x1D44A: '436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683',
    0x1D44B: '42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0',
    0x1D44C: '66 637Q54 637 49 637T39 638T32 641T30 647T33 664T42 682Q44 683 56 683Q104 680 165 680Q288 680 306 683H316Q322 677 322 674T320 656Q316 643 310 637H298Q242 637 242 624Q242 619 292 477T343 333L346 336Q350 340 358 349T379 373T411 410T454 461Q546 568 561 587T577 618Q577 634 545 637Q528 637 528 647Q528 649 530 661Q533 676 535 679T549 683Q551 683 578 682T657 680Q684 680 713 681T746 682Q763 682 763 673Q763 669 760 657T755 643Q753 637 734 637Q662 632 617 587Q608 578 477 424L348 273L322 169Q295 62 295 57Q295 46 363 46Q379 46 384 45T390 35Q390 33 388 23Q384 6 382 4T366 1Q361 1 324 1T232 2Q170 2 138 2T102 1Q84 1 84 9Q84 14 87 24Q88 27 89 30T90 35T91 39T93 42T96 44T101 45T107 45T116 46T129 46Q168 47 180 50T198 63Q201 68 227 171L252 274L129 623Q128 624 127 625T125 627T122 629T118 631T113 633T105 634T96 635T83 636T66 637',
    0x1D44D: '58 8Q58 23 64 35Q64 36 329 334T596 635L586 637Q575 637 512 637H500H476Q442 637 420 635T365 624T311 598T266 548T228 469Q227 466 226 463T224 458T223 453T222 450L221 448Q218 443 202 443Q185 443 182 453L214 561Q228 606 241 651Q249 679 253 681Q256 683 487 683H718Q723 678 723 675Q723 673 717 649Q189 54 188 52L185 49H274Q369 50 377 51Q452 60 500 100T579 247Q587 272 590 277T603 282H607Q628 282 628 271Q547 5 541 2Q538 0 300 0H124Q58 0 58 8',
    0x1D44E: '33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328',
    0x1D44F: '73 647Q73 657 77 670T89 683Q90 683 161 688T234 694Q246 694 246 685T212 542Q204 508 195 472T180 418L176 399Q176 396 182 402Q231 442 283 442Q345 442 383 396T422 280Q422 169 343 79T173 -11Q123 -11 82 27T40 150V159Q40 180 48 217T97 414Q147 611 147 623T109 637Q104 637 101 637H96Q86 637 83 637T76 640T73 647ZM336 325V331Q336 405 275 405Q258 405 240 397T207 376T181 352T163 330L157 322L136 236Q114 150 114 114Q114 66 138 42Q154 26 178 26Q211 26 245 58Q270 81 285 114T318 219Q336 291 336 325',
    0x1D450: '34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159',
    0x1D451: '366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326',
    0x1D452: '39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353',
    0x1D453: '118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162',
    0x1D454: '311 43Q296 30 267 15T206 0Q143 0 105 45T66 160Q66 265 143 353T314 442Q361 442 401 394L404 398Q406 401 409 404T418 412T431 419T447 422Q461 422 470 413T480 394Q480 379 423 152T363 -80Q345 -134 286 -169T151 -205Q10 -205 10 -137Q10 -111 28 -91T74 -71Q89 -71 102 -80T116 -111Q116 -121 114 -130T107 -144T99 -154T92 -162L90 -164H91Q101 -167 151 -167Q189 -167 211 -155Q234 -144 254 -122T282 -75Q288 -56 298 -13Q311 35 311 43ZM384 328L380 339Q377 350 375 354T369 368T359 382T346 393T328 402T306 405Q262 405 221 352Q191 313 171 233T151 117Q151 38 213 38Q269 38 323 108L331 118L384 328',
    0x1D456: '184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287',
    0x1D457: '297 596Q297 627 318 644T361 661Q378 661 389 651T403 623Q403 595 384 576T340 557Q322 557 310 567T297 596ZM288 376Q288 405 262 405Q240 405 220 393T185 362T161 325T144 293L137 279Q135 278 121 278H107Q101 284 101 286T105 299Q126 348 164 391T252 441Q253 441 260 441T272 442Q296 441 316 432Q341 418 354 401T367 348V332L318 133Q267 -67 264 -75Q246 -125 194 -164T75 -204Q25 -204 7 -183T-12 -137Q-12 -110 7 -91T53 -71Q70 -71 82 -81T95 -112Q95 -148 63 -167Q69 -168 77 -168Q111 -168 139 -140T182 -74L193 -32Q204 11 219 72T251 197T278 308T289 365Q289 372 288 376',
    0x1D458: '121 647Q121 657 125 670T137 683Q138 683 209 688T282 694Q294 694 294 686Q294 679 244 477Q194 279 194 272Q213 282 223 291Q247 309 292 354T362 415Q402 442 438 442Q468 442 485 423T503 369Q503 344 496 327T477 302T456 291T438 288Q418 288 406 299T394 328Q394 353 410 369T442 390L458 393Q446 405 434 405H430Q398 402 367 380T294 316T228 255Q230 254 243 252T267 246T293 238T320 224T342 206T359 180T365 147Q365 130 360 106T354 66Q354 26 381 26Q429 26 459 145Q461 153 479 153H483Q499 153 499 144Q499 139 496 130Q455 -11 378 -11Q333 -11 305 15T277 90Q277 108 280 121T283 145Q283 167 269 183T234 206T200 217T182 220H180Q168 178 159 139T145 81T136 44T129 20T122 7T111 -2Q98 -11 83 -11Q66 -11 57 -1T48 16Q48 26 85 176T158 471L195 616Q196 629 188 632T149 637H144Q134 637 131 637T124 640T121 647',
    0x1D459: '117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59',
    0x1D45A: '21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287',
    0x1D45B: '21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287',
    0x1D45C: '201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120',
    0x1D45D: '23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102',
    0x1D45E: '33 157Q33 258 109 349T280 441Q340 441 372 389Q373 390 377 395T388 406T404 418Q438 442 450 442Q454 442 457 439T460 434Q460 425 391 149Q320 -135 320 -139Q320 -147 365 -148H390Q396 -156 396 -157T393 -175Q389 -188 383 -194H370Q339 -192 262 -192Q234 -192 211 -192T174 -192T157 -193Q143 -193 143 -185Q143 -182 145 -170Q149 -154 152 -151T172 -148Q220 -148 230 -141Q238 -136 258 -53T279 32Q279 33 272 29Q224 -10 172 -10Q117 -10 75 30T33 157ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326',
    0x1D45F: '21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287',
    0x1D460: '131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289',
    0x1D461: '26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26',
    0x1D462: '21 287Q21 295 30 318T55 370T99 420T158 442Q204 442 227 417T250 358Q250 340 216 246T182 105Q182 62 196 45T238 27T291 44T328 78L339 95Q341 99 377 247Q407 367 413 387T427 416Q444 431 463 431Q480 431 488 421T496 402L420 84Q419 79 419 68Q419 43 426 35T447 26Q469 29 482 57T512 145Q514 153 532 153Q551 153 551 144Q550 139 549 130T540 98T523 55T498 17T462 -8Q454 -10 438 -10Q372 -10 347 46Q345 45 336 36T318 21T296 6T267 -6T233 -11Q189 -11 155 7Q103 38 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287',
    0x1D463: '173 380Q173 405 154 405Q130 405 104 376T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Q21 294 29 316T53 368T97 419T160 441Q202 441 225 417T249 361Q249 344 246 335Q246 329 231 291T200 202T182 113Q182 86 187 69Q200 26 250 26Q287 26 319 60T369 139T398 222T409 277Q409 300 401 317T383 343T365 361T357 383Q357 405 376 424T417 443Q436 443 451 425T467 367Q467 340 455 284T418 159T347 40T241 -11Q177 -11 139 22Q102 54 102 117Q102 148 110 181T151 298Q173 362 173 380',
    0x1D464: '580 385Q580 406 599 424T641 443Q659 443 674 425T690 368Q690 339 671 253Q656 197 644 161T609 80T554 12T482 -11Q438 -11 404 5T355 48Q354 47 352 44Q311 -11 252 -11Q226 -11 202 -5T155 14T118 53T104 116Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 293 29 315T52 366T96 418T161 441Q204 441 227 416T250 358Q250 340 217 250T184 111Q184 65 205 46T258 26Q301 26 334 87L339 96V119Q339 122 339 128T340 136T341 143T342 152T345 165T348 182T354 206T362 238T373 281Q402 395 406 404Q419 431 449 431Q468 431 475 421T483 402Q483 389 454 274T422 142Q420 131 420 107V100Q420 85 423 71T442 42T487 26Q558 26 600 148Q609 171 620 213T632 273Q632 306 619 325T593 357T580 385',
    0x1D465: '52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289',
    0x1D466: '21 287Q21 301 36 335T84 406T158 442Q199 442 224 419T250 355Q248 336 247 334Q247 331 231 288T198 191T182 105Q182 62 196 45T238 27Q261 27 281 38T312 61T339 94Q339 95 344 114T358 173T377 247Q415 397 419 404Q432 431 462 431Q475 431 483 424T494 412T496 403Q496 390 447 193T391 -23Q363 -106 294 -155T156 -205Q111 -205 77 -183T43 -117Q43 -95 50 -80T69 -58T89 -48T106 -45Q150 -45 150 -87Q150 -107 138 -122T115 -142T102 -147L99 -148Q101 -153 118 -160T152 -167H160Q177 -167 186 -165Q219 -156 247 -127T290 -65T313 -9T321 21L315 17Q309 13 296 6T270 -6Q250 -11 231 -11Q185 -11 150 11T104 82Q103 89 103 113Q103 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287',
    0x1D467: '347 338Q337 338 294 349T231 360Q211 360 197 356T174 346T162 335T155 324L153 320Q150 317 138 317Q117 317 117 325Q117 330 120 339Q133 378 163 406T229 440Q241 442 246 442Q271 442 291 425T329 392T367 375Q389 375 411 408T434 441Q435 442 449 442H462Q468 436 468 434Q468 430 463 420T449 399T432 377T418 358L411 349Q368 298 275 214T160 106L148 94L163 93Q185 93 227 82T290 71Q328 71 360 90T402 140Q406 149 409 151T424 153Q443 153 443 143Q443 138 442 134Q425 72 376 31T278 -11Q252 -11 232 6T193 40T155 57Q111 57 76 -3Q70 -11 59 -11H54H41Q35 -5 35 -2Q35 13 93 84Q132 129 225 214T340 322Q352 338 347 338',
    0x1D468: '65 0Q45 0 45 18Q48 52 61 60Q65 62 81 62Q155 62 165 74Q166 74 265 228T465 539T569 699Q576 707 583 709T611 711T637 710T649 700Q650 697 695 380L741 63L784 62H827Q839 50 839 45L835 29Q831 9 827 5T806 0Q803 0 790 0T743 1T657 2Q585 2 547 1T504 0Q481 0 481 17Q484 54 497 60Q501 62 541 62Q580 62 580 63Q580 68 573 121T564 179V181H308L271 124Q236 69 236 67T283 62H287Q316 62 316 46Q316 26 307 8Q302 3 295 0L262 1Q242 2 168 2Q119 2 93 1T65 0ZM537 372Q533 402 528 435T521 486T518 504V505Q517 505 433 375L348 244L451 243Q555 243 555 244L537 372',
    0x1D469: '258 624H235Q214 624 209 626T199 639Q203 678 216 684Q220 686 449 686H477H586Q684 686 733 677T817 634Q853 598 853 547Q853 499 826 460T761 401T695 371T654 360H653L662 358Q670 357 683 354T712 344T744 327T774 303T795 269T804 224Q804 148 732 79T533 1Q524 0 288 0H58Q47 5 43 15Q47 54 60 60Q64 62 113 62H162L302 623Q302 624 258 624ZM703 550Q703 571 695 586T675 609T656 619T643 623L545 624H447L417 504Q386 384 386 383T470 382Q554 383 565 385Q632 397 667 447T703 550ZM651 240Q651 265 645 282T626 309T608 322T592 329Q587 330 479 331H373L340 198Q307 65 306 64Q306 62 406 62L507 63L519 65Q565 76 596 107T639 171T651 240',
    0x1D46A: '380 -17Q335 -17 293 -10T207 16T130 65T76 144T55 256Q55 306 70 361T122 476T211 582T345 663T525 702H545Q673 702 731 634L777 668Q783 672 789 677T800 685T808 691T814 695T818 698T822 700T825 702T828 703T830 703T833 703Q855 703 855 690Q855 686 823 558T789 426Q786 421 782 420T756 419Q734 420 729 421T724 432Q724 434 725 447T726 472Q726 552 678 604Q640 640 586 640H574Q533 640 494 632T409 604T324 541T260 437Q243 397 227 333T210 219Q210 152 237 117Q255 90 299 68T420 46H429Q506 46 580 100T678 234Q683 249 687 251T712 254H723Q743 254 743 240Q743 232 736 213T710 162T663 100T586 40T477 -5Q433 -17 380 -17',
    0x1D46B: '258 624H235Q214 624 209 626T199 639Q203 678 216 684Q220 686 437 686Q659 686 668 685Q727 680 772 662T842 621T883 568T905 517T913 475Q914 466 914 434Q914 373 892 307T828 179T712 69T548 7Q517 2 494 2T279 0H58Q47 5 43 15Q47 54 60 60Q64 62 113 62H162L302 623Q302 624 258 624ZM768 475Q768 515 753 544T718 588T666 611T613 622T563 624H538H532H452L382 344Q311 64 311 63T363 62H405Q490 62 545 76T656 142Q696 185 724 265T760 399T768 475',
    0x1D46C: '257 618H231Q198 618 198 636Q202 672 214 678L219 680H811Q817 677 820 673T824 666L825 664Q825 659 814 549T799 433Q793 424 771 424Q752 424 746 427T740 441Q740 445 742 466T744 505Q744 561 722 585T646 616Q639 617 545 618H456Q456 617 427 502T398 385Q398 384 435 384Q461 385 471 385T499 391T526 405T545 433T562 478Q566 494 571 497T595 501H604Q622 501 626 486Q626 482 593 349T557 213Q552 205 530 205Q499 205 499 219Q499 222 503 242T508 281Q508 308 491 314T429 322Q425 322 423 322H382L317 64Q317 62 390 62Q460 62 493 64T569 80T640 124Q665 149 686 187T719 253T733 283Q739 289 760 289Q791 289 791 274Q791 267 763 201T706 71L678 8Q676 4 667 0H58Q47 5 43 15Q47 54 60 60Q64 62 113 62H162L163 66Q163 67 231 341T301 616Q301 618 257 618',
    0x1D46D: '257 618H231Q198 618 198 636Q202 672 214 678L219 680H795Q801 677 804 673T808 666L809 664Q809 659 798 549T783 433Q777 424 755 424Q736 424 730 427T724 444Q724 448 725 468T727 507V524Q727 541 724 554T713 577T698 594T676 605T653 612T625 616T597 617T566 618T538 618H456L455 614Q455 611 424 491L394 371H429Q454 372 463 372T491 378T517 392T536 419T552 464Q556 481 561 484T586 488Q603 488 607 486Q616 482 616 473Q616 467 584 337T549 201Q542 192 521 192Q503 192 497 195T490 209Q490 212 492 224Q499 251 499 269Q499 288 489 296T465 306T417 308L379 309L348 188Q341 161 334 129T322 80L318 65L317 62H375H409Q430 62 438 59T447 45Q444 8 431 2L426 0L377 1Q347 2 231 2Q152 2 111 1T65 0Q48 0 43 15Q47 54 60 60Q64 62 113 62H162L163 66Q163 67 231 341T301 616Q301 618 257 618',
    0x1D46E: '379 -16Q233 -16 145 52T56 255Q56 310 73 368T127 483T216 586T347 663T518 702H540Q562 702 582 700T616 696T644 689T667 681T686 670T702 659T717 647T731 635L776 668Q782 672 788 677T799 685T807 691T813 695T817 698T821 700T824 702T827 703T829 703T832 703Q854 703 854 690Q854 686 822 558T788 426Q785 421 781 420T755 419Q734 420 729 422T723 432Q723 434 724 446T725 469Q725 531 702 571T642 628Q616 640 575 640Q468 640 390 593T272 464Q247 415 229 340T210 214Q210 166 228 132T277 79T343 54T419 46Q445 46 465 50T500 59T526 76T544 96T557 123T566 150T574 182T581 214H519Q511 214 498 214T479 213Q443 213 443 230Q443 250 452 268Q457 273 464 276L514 275Q546 274 657 274Q735 274 768 275T803 276Q826 276 826 258Q823 224 810 216Q806 214 771 214H736Q736 211 710 109T683 5Q678 0 671 0Q666 0 637 14T597 36Q593 38 590 40T585 44T582 44T576 40Q511 -16 379 -16',
    0x1D46F: '258 624H235Q214 624 209 626T199 639Q203 678 216 684Q220 686 239 686Q290 684 403 684Q475 684 512 685T553 686Q576 686 576 668Q572 632 560 626Q555 624 506 624H457L399 389Q399 388 547 388H695L753 623Q753 624 709 624H686Q665 624 660 626T650 639Q653 678 668 684Q672 686 681 686Q685 686 726 685T847 684Q902 684 937 684T986 685T1004 686Q1027 686 1027 668Q1023 632 1011 626Q1006 624 957 624H908L839 344Q768 64 768 63T812 62H839Q871 62 871 44Q867 6 854 2L850 0L808 1Q782 2 675 2Q600 2 560 1T516 0Q499 0 494 15Q498 54 511 60Q515 62 564 62H613L614 66L679 324Q679 326 531 326H383L382 322L317 64Q317 62 361 62H388Q420 62 420 44Q416 6 403 2L399 0L357 1Q331 2 224 2Q149 2 109 1T65 0Q48 0 43 15Q47 54 60 60Q64 62 113 62H162L302 623Q302 624 258 624',
    0x1D470: '247 624Q242 624 233 624T220 623Q186 623 186 640Q186 647 190 664T202 684Q206 686 226 686Q277 684 393 684Q435 684 471 684T528 685T553 686Q573 686 573 670Q573 650 564 632Q556 624 537 624H501H449L380 344Q309 64 309 63T356 62Q361 62 370 62T384 63Q417 63 417 46Q417 26 408 8Q403 3 396 0L352 1Q325 2 216 2T82 1L45 0Q30 7 30 16Q33 51 46 60Q51 62 102 62H154L294 623Q294 624 247 624',
    0x1D471: '205 131Q205 105 192 84T165 54L152 45Q152 44 160 42T182 37T213 35H216Q255 35 289 65Q314 90 329 129Q331 136 392 378T453 623Q453 624 393 624H332Q318 631 318 640Q318 647 322 664T334 684Q338 686 359 686Q413 684 533 684Q566 684 605 685T652 686Q677 686 685 683T694 669Q694 664 691 652Q686 631 681 628T647 624H602L542 380Q531 336 518 285T500 212T487 161T475 122T463 97T448 74T429 55Q351 -17 213 -17Q142 -17 99 7T43 70Q42 75 42 93Q42 143 73 168T139 194Q168 194 186 177T205 131',
    0x1D472: '536 0Q522 6 522 18Q522 35 533 57Q539 62 557 62Q595 62 601 65L472 330L365 255L342 160Q318 65 317 64Q317 62 361 62H388Q420 62 420 44Q416 6 403 2L399 0L357 1Q331 2 224 2Q149 2 109 1T65 0Q48 0 43 15Q47 54 60 60Q64 62 113 62H162L302 623Q302 624 258 624H235Q214 624 209 626T199 639Q203 678 216 684Q220 686 239 686Q290 684 403 684Q475 684 512 685T553 686Q576 686 576 668Q572 632 560 626Q555 624 506 624H457L422 481Q386 339 386 337L785 621Q779 624 749 624Q726 624 726 641Q726 645 730 659Q734 675 736 679T747 686L786 685Q812 684 888 684Q908 684 934 685T968 686Q1003 686 1003 669Q1003 646 991 629Q985 624 967 624Q918 624 888 617Q884 617 874 613L865 609Q864 608 732 515T599 420Q599 418 686 242T775 65Q784 62 829 62Q847 62 850 61T860 54Q862 52 862 43Q862 10 845 1Q844 1 842 1T836 0T797 1T694 2Q599 2 573 1L536 0',
    0x1D473: '258 624H235Q214 624 209 626T199 639Q203 678 216 684Q220 686 239 686Q290 684 409 684Q454 684 492 684T552 685T579 686Q603 686 603 668Q599 632 587 626Q583 624 520 624H457L388 344Q317 64 317 63T353 62H390Q418 62 440 64T493 78T548 110T598 169T643 261Q651 282 655 285T680 289Q696 289 700 288T709 279Q711 274 711 269Q710 265 663 138T613 8Q611 4 602 0H58Q47 5 43 15Q47 54 60 60Q64 62 113 62H162L302 623Q302 624 258 624',
    0x1D474: '258 624H231Q214 624 208 626T199 639Q203 678 216 684Q220 686 347 686H473Q474 685 478 682T484 677Q487 673 535 413L584 153L608 187Q631 221 672 281T761 410Q935 663 943 671Q949 678 962 686H1082H1166Q1201 686 1210 683T1219 668Q1215 632 1203 626Q1199 624 1149 624H1100L1031 344Q960 64 960 63T1004 62H1031Q1063 62 1063 44Q1060 7 1046 2Q1042 0 1034 0Q1030 0 990 1T875 2Q804 2 767 1T725 0H723Q707 0 703 15Q707 54 720 60Q724 62 773 62H822Q961 618 961 619L754 318Q546 15 543 12Q531 0 510 0Q500 0 495 0T484 5T477 19Q477 20 421 315L367 604L299 335Q234 72 234 68Q234 62 302 62Q334 62 334 46Q332 8 317 2Q313 0 306 0Q301 0 267 1T181 2Q125 2 96 1T63 0Q48 0 43 15Q43 19 47 35Q52 55 57 58T94 62Q147 64 164 69L233 345Q302 619 302 622Q302 624 258 624',
    0x1D475: '258 624H235Q214 624 209 626T199 639Q203 678 216 684Q220 686 344 686H434Q464 686 477 680Q480 677 607 454Q738 227 739 227Q742 227 789 418T836 618Q836 620 835 620L821 622Q811 622 779 624Q755 624 749 625T740 632Q737 635 737 644Q737 656 742 669T754 685Q755 685 757 685T763 686Q768 686 803 685T890 684Q925 684 951 684T990 685T1006 686Q1014 686 1016 684Q1027 679 1027 668Q1023 632 1011 626Q1007 624 978 624Q912 622 907 617Q907 616 831 314T753 8Q749 0 723 0H712Q699 0 692 7Q692 8 671 44T607 155T526 296L361 580L296 323Q234 74 234 68T302 62H307Q334 62 334 44Q330 6 317 2L313 0L280 1Q260 2 181 2Q125 2 96 1T63 0Q48 0 43 15Q43 19 47 35Q52 55 57 58T94 62Q147 64 164 69L233 345Q302 619 302 622Q302 624 258 624',
    0x1D476: '53 245Q53 297 70 356T125 478T216 590T349 671T523 703Q656 703 735 637T815 445Q815 378 791 307Q727 104 527 17Q437 -17 344 -17Q289 -17 242 -5T150 35T79 116T53 245ZM664 489Q664 575 618 611T511 648Q463 648 416 627T334 570Q297 531 270 472T230 355T213 261T208 206Q208 177 215 151T237 98T284 56T358 40Q440 40 510 98T618 270Q664 400 664 489',
    0x1D477: '162 62L302 623Q302 624 258 624H234Q214 624 209 626T200 638Q200 677 217 684Q220 686 439 686Q667 685 684 682Q686 681 693 680Q713 677 733 671T782 649T829 602T847 528Q847 450 784 382T604 293Q571 288 469 287H373L346 176Q340 151 333 122T321 78L317 64Q317 62 361 62H387Q420 62 420 44Q417 10 404 2L399 0L357 1Q331 2 224 2Q149 2 109 1T65 0Q43 0 43 17Q43 21 47 33Q52 54 57 58T89 62H113H162ZM692 558Q692 611 617 622Q610 623 529 624H452L381 343H458H492Q604 343 641 389Q662 414 677 471T692 558',
    0x1D478: '53 245Q53 297 70 356T125 478T216 590T349 671T523 703Q656 703 735 637T815 445Q815 410 808 370T781 277T729 178T643 87T519 14L525 4Q540 -19 553 -25T592 -32Q632 -32 654 -24T680 -7T689 10T704 18Q713 18 717 12T722 0Q722 -8 711 -36T681 -101T624 -166T541 -194Q513 -194 494 -183T465 -157T450 -118T444 -79T443 -41V-7L433 -9Q391 -17 344 -17Q301 -17 263 -10T185 15T118 62T71 138T53 245ZM666 482Q666 529 652 563T614 615T565 640T512 648Q412 648 335 573Q268 506 235 389T201 202Q201 164 210 136T230 95T259 66L262 76Q269 109 302 135T382 162Q401 162 415 159T449 140T484 92L491 78L496 82Q502 86 505 88T515 97T528 107T541 120T555 137T570 156T585 179T599 205T612 235Q629 278 647 351T666 482ZM439 56Q439 58 439 62T435 75T426 92T410 106T383 112Q353 112 332 96T311 63Q311 38 355 38H366Q391 39 415 45T439 56',
    0x1D479: '258 624H235Q214 624 209 626T199 639Q203 678 216 684Q220 686 422 686H446H525Q634 686 698 674T806 620Q843 583 843 535Q843 505 833 478T805 432T768 396T728 370T690 352T662 342L651 338L654 336Q658 334 667 327T688 310Q719 278 719 237Q719 222 710 165T701 94Q701 35 748 35Q775 35 793 57T819 101Q822 112 826 114T843 117H849Q881 117 881 99Q881 78 852 39T781 -11Q765 -17 728 -17Q537 -13 537 94Q537 110 552 169T567 243Q567 292 529 309Q517 316 508 316T441 318H375L374 314Q374 312 343 189T311 64Q311 62 355 62H382Q414 62 414 44Q410 6 397 2L393 0L351 1Q325 2 221 2Q147 2 108 1T65 0Q48 0 43 15Q47 54 60 60Q64 62 113 62H162L302 623Q302 624 258 624ZM687 555Q687 617 589 623Q581 624 513 624H451L420 498Q413 468 405 436T392 388L388 371Q388 369 458 369Q464 369 485 369T515 369T541 372T570 377T596 386T624 400Q649 417 664 457T683 522T687 555',
    0x1D47A: '354 45Q429 45 467 91T506 184Q506 225 477 250Q461 262 384 279T294 300Q238 318 210 362T182 452Q182 493 202 540T257 623Q338 702 449 702Q491 702 501 701Q571 690 610 654Q614 649 617 650Q618 650 650 675T683 702Q685 703 692 703Q714 703 714 690Q714 686 687 578T658 466Q653 458 629 458Q606 458 602 463Q600 465 599 466Q599 467 599 469T598 473Q598 475 599 487T600 511Q600 584 557 614T454 645Q386 645 347 606T308 520Q308 506 311 496T323 477T338 464T360 454T384 446T413 439T441 433Q523 416 549 401Q581 384 602 352Q631 309 631 254Q631 214 615 170T567 83T478 12T347 -16Q322 -16 300 -14T261 -8T230 0T205 10T187 20T172 30L162 37L130 11Q124 7 119 3T110 -4T104 -9T100 -13T96 -15T93 -16T91 -17T88 -17H82Q76 -17 73 -16T69 -14T66 -10T63 -5L90 107Q97 133 106 170Q116 211 120 219T136 228H148Q167 228 173 227T179 218Q179 216 176 200T173 168Q173 102 227 74T354 45',
    0x1D47B: '498 62Q511 58 511 43Q511 10 494 1L490 0Q487 0 482 0T424 1T271 2Q201 2 157 2T94 1T72 0H70Q46 0 46 17Q49 54 62 60L66 62H137Q208 62 209 63L218 98Q227 134 244 203T278 339L347 613H300Q262 612 246 611T198 599T146 564Q128 545 114 512T91 454T79 425Q73 419 52 419Q22 419 22 434Q22 440 41 498T80 611L100 666Q105 673 111 675H434Q758 675 762 673Q772 668 772 657Q772 655 756 549T738 434Q735 419 711 419H707Q690 419 686 421Q677 425 677 434Q676 436 678 449T683 485T686 529Q686 553 679 569T662 594T631 607T593 612T544 613H502L433 340Q418 279 400 207T374 100L365 65L364 62H498',
    0x1D47C: '856 686Q877 686 877 668Q877 663 873 649T867 631Q861 624 828 624Q762 622 757 617Q757 613 705 409T651 200Q620 112 540 48T328 -16Q251 -16 196 2T113 51T75 112T63 176Q63 202 70 232T117 422Q129 469 141 520T160 598L167 623Q167 624 123 624H96Q79 624 73 626T64 639Q68 678 81 684Q85 686 104 686Q155 684 268 684Q340 684 377 685T418 686Q441 686 441 668Q437 632 425 626Q421 624 371 624H322L270 415Q224 232 217 198T209 141Q209 45 336 45Q372 45 406 52T475 77T540 128T585 211L590 229Q594 247 601 274T617 336T636 409T654 482T670 547T681 595T686 618Q686 620 685 620H683Q681 621 678 621T671 622Q660 622 630 624Q616 624 610 624T598 626T589 630T587 640Q587 647 590 659Q594 677 598 681T613 686Q618 686 653 685T740 684Q775 684 801 684T840 685T856 686',
    0x1D47D: '401 686Q415 680 415 668Q415 651 404 629Q398 624 356 624Q318 624 318 623Q318 620 337 508T377 284L397 174L472 285Q548 396 623 507T699 620Q698 621 652 624Q634 624 627 627T619 641Q619 648 622 658Q627 677 631 681T650 686Q654 686 686 685T766 684Q794 684 823 684T858 685Q874 685 878 683T886 671Q886 667 882 651Q877 632 873 628T850 624Q800 624 779 617Q774 617 770 613Q767 610 560 304T350 -5Q346 -9 332 -16H306H291Q270 -16 267 -2Q267 -1 260 37T238 161T210 313L156 624H116H94Q62 624 62 642Q66 678 78 684Q82 686 99 686Q144 684 246 684Q330 684 368 685L401 686',
    0x1D47E: '111 624Q109 624 102 624T91 623Q61 623 61 640Q61 660 70 678Q78 686 98 686Q140 684 239 684Q277 684 309 684T360 685T383 686H385Q407 686 407 668Q404 634 391 626Q387 624 348 624Q307 624 307 622Q307 618 332 409Q359 198 359 195L570 532L564 576L558 622V624H522H504Q472 624 472 641Q475 678 488 684L493 686L529 685Q551 684 645 684Q716 684 753 685T795 686Q818 686 818 669Q815 632 802 626Q798 624 759 624Q718 624 718 622Q718 615 743 410Q770 199 770 196Q770 195 806 253T903 406Q1035 618 1035 619Q1025 624 968 624Q943 624 943 641Q943 648 946 659Q950 675 952 679T963 686L998 685Q1020 684 1093 684Q1113 684 1139 685T1173 686Q1207 686 1207 669Q1207 664 1204 652Q1199 631 1194 628T1164 624Q1113 622 1101 615Q1098 612 905 305Q715 -1 709 -7Q699 -17 673 -17Q645 -17 639 -8L581 441Q581 444 442 221Q331 44 314 18T288 -14Q279 -17 263 -17H254Q229 -17 227 -5Q225 2 186 311L147 620V624H111',
    0x1D47F: '931 686Q953 686 953 670Q953 650 944 632Q936 624 924 624H914Q823 624 803 611Q800 609 696 503T591 396Q591 394 667 229L743 62H787H814Q846 62 846 44Q843 7 829 2Q825 0 817 0Q813 0 775 1T664 2Q590 2 551 1T508 0H507Q484 0 484 18Q484 19 488 37Q492 56 497 58T534 62L566 63Q567 64 520 169T471 274Q469 274 369 172T268 67L315 62Q320 62 328 62L335 61Q347 58 347 44Q344 10 331 2L326 0L287 1Q263 2 177 2Q95 2 78 1L53 0Q38 6 38 17Q38 40 50 57Q56 62 78 62Q169 62 188 75Q194 77 435 324L444 334L439 347Q437 351 373 492L313 624H268H246Q220 624 212 632Q210 636 210 642Q210 655 215 669T227 684Q230 686 247 686Q295 684 398 684Q438 684 472 684T527 685T551 686Q567 686 572 671Q572 667 568 651Q563 631 558 628T523 624T492 623H488L526 540Q563 457 564 457Q564 456 574 466T604 496T645 537L724 619Q716 622 677 624H673Q645 624 645 640Q645 660 654 678Q659 683 666 686L704 685Q728 684 813 684Q847 684 873 684T913 685T931 686',
    0x1D480: '97 624H73Q40 624 40 640Q40 660 49 678Q57 686 77 686Q122 684 228 684Q269 684 304 684T360 685T385 686Q406 686 406 668Q406 662 403 653Q398 631 393 628T361 624H353Q321 624 321 623T376 491T432 360L448 377Q465 394 493 424T553 490L673 620Q662 624 630 624Q606 624 606 640Q608 678 623 684Q627 686 634 686Q638 686 671 685T755 684Q777 684 805 685T841 686Q861 686 868 683T876 669Q876 664 873 652Q868 631 863 628T829 624Q764 622 747 611Q727 590 590 441L437 275L411 170Q385 65 384 64Q384 62 429 62H453Q473 62 478 60T487 48Q488 44 484 29Q479 6 473 3Q468 0 454 0Q450 0 436 0T386 1T294 2Q220 2 181 1T138 0Q121 0 116 15Q120 54 133 60Q137 62 187 62H236L289 275L142 624H97',
    0x1D481: '223 430Q192 430 192 448Q192 450 225 561T261 677Q265 683 270 684Q273 686 534 686Q796 686 797 685Q805 682 805 673Q805 668 804 661T800 648T798 641Q796 637 531 352L266 67L329 66H364Q412 66 446 70T523 96T596 157Q617 186 630 220T649 273T663 297Q667 299 684 299H688Q715 299 715 281Q715 278 673 145T628 8Q626 4 617 0H348Q289 0 221 0T139 -1Q112 -1 99 -1T78 1T69 5T68 12Q68 16 71 31T77 49L84 57Q91 65 104 79T133 110T170 151T213 196L610 624H540Q533 624 514 624T488 624T467 623T443 620T422 616T398 609T373 600Q292 560 255 449Q251 436 246 433T223 430',
    0x1D482: '222 -8Q140 -8 89 34T38 158Q38 191 48 227Q72 329 151 390T327 452Q361 452 385 443T421 425T433 416H434L441 421Q448 426 460 430T486 435Q509 435 523 422T538 386Q538 380 522 315T488 179T467 93Q466 87 466 72Q466 42 483 42Q505 42 521 75Q531 94 541 134Q546 155 550 158T571 162H576H587Q607 162 607 148Q606 142 604 132T590 94T566 47T528 9T474 -8Q396 -8 358 40Q295 -8 222 -8ZM404 351Q383 401 324 401Q300 401 270 385T221 330Q206 296 186 220Q166 136 166 106Q166 72 184 58T228 43Q256 43 284 57T328 84T343 103Q343 106 374 228L404 351',
    0x1D483: '220 -8Q142 -8 94 35T45 155V167Q45 187 52 218T104 426L153 622H149Q148 622 144 622T134 623T122 624T111 624T101 624T96 625Q84 628 84 642Q84 647 88 661T94 679Q98 684 109 685T185 690Q258 694 272 694Q289 694 293 679Q293 676 263 553L232 429L244 434Q256 440 281 446T331 452Q417 452 465 407T513 285Q513 235 494 184T439 90T346 20T220 -8ZM385 337Q385 400 318 400Q269 400 226 360Q214 349 211 341T191 268Q162 149 162 113Q162 44 226 44Q269 44 299 76T339 135T362 215Q364 222 365 226Q385 303 385 337',
    0x1D484: '362 325Q362 344 371 361T390 386L399 394Q390 401 355 401Q276 401 231 338Q207 301 189 230T170 122Q170 43 264 43Q392 43 457 105Q472 120 480 117Q486 114 497 102T509 83Q509 79 502 70T477 47T432 21T360 1T259 -8Q194 -8 148 9T80 54T49 109T40 167Q40 280 129 365T352 451Q390 451 396 450Q448 442 473 416T499 358T477 302T421 274H417Q393 274 378 288T362 325',
    0x1D485: '222 -8Q140 -8 89 34T38 158Q38 220 68 285T151 391Q230 452 329 452Q382 452 416 428L422 424Q423 424 447 523L472 622H468Q467 622 463 622T453 623T441 624T430 624T420 624T415 625Q403 628 403 642Q403 647 407 661T413 679Q417 684 428 685T504 690Q577 694 591 694Q608 694 612 679L467 91Q466 87 466 72Q466 43 483 43Q518 43 541 134Q546 155 550 158T571 162H576H587Q607 162 607 148Q606 142 604 132T590 94T566 47T528 9T474 -8Q396 -8 358 40Q295 -8 222 -8ZM404 351Q383 401 324 401Q300 401 270 385T221 330Q206 296 186 220Q166 136 166 106Q166 72 184 58T228 43Q256 43 284 57T328 84T343 103Q343 106 374 228L404 351',
    0x1D486: '260 -8Q196 -8 151 9T83 54T52 111T42 169Q42 188 44 210Q50 240 58 266Q127 434 335 451L338 452Q342 452 345 452Q347 452 353 452T363 451Q426 451 464 424T502 352Q502 289 442 250Q381 211 222 211H184Q184 210 181 196T175 162T171 126Q171 43 264 43Q391 43 457 105Q472 120 480 117Q486 114 497 102T509 83Q509 79 502 70T477 47T432 21T360 1T260 -8ZM237 262Q427 266 427 349Q427 368 409 384T354 401Q316 401 287 388T242 354T216 314T202 278L197 263Q197 262 237 262',
    0x1D487: '584 444Q597 439 597 426Q597 409 586 387Q580 382 505 382H434V380Q432 378 421 314T395 162T368 30Q324 -164 203 -199Q194 -201 175 -201Q123 -201 94 -177T64 -117T88 -58T145 -33Q169 -33 184 -47T200 -84Q200 -122 166 -150L174 -151H185Q202 -148 217 -112Q222 -94 240 9Q246 40 262 132T293 303T307 382H247H210Q190 382 182 385T173 400Q177 436 189 442Q193 444 256 444H318L319 446Q337 565 355 602Q373 640 404 664T458 694T503 701Q569 701 596 676T624 617Q624 581 599 557T544 533Q520 533 504 547T488 585Q488 596 491 606T499 624T508 637T516 646L520 650Q515 650 509 651Q459 651 459 561V554L458 518L452 484Q446 448 445 447V444H584',
    0x1D488: '227 0Q142 0 93 43T43 166Q43 207 58 252T104 341T188 414T310 451L313 452Q316 452 319 452Q321 452 326 452T335 451Q367 451 390 443T425 425L436 416L443 421Q450 426 462 430T488 435Q511 435 525 422T540 386Q540 378 483 151T424 -82Q401 -139 335 -170T167 -202Q72 -202 36 -183T0 -125Q0 -90 24 -67T81 -43Q103 -43 119 -56T136 -99Q133 -124 114 -149L123 -150H183Q222 -150 254 -127T299 -74Q300 -71 306 -47T318 -1T324 23Q323 23 310 18T274 6T227 0ZM407 353Q406 354 404 358T400 365T395 371T388 379T381 385T371 391T360 396T346 400T329 401Q300 401 277 389T240 355T219 317T205 280Q171 148 171 109Q171 77 190 64T235 51T296 67Q322 82 337 98L345 106L407 353',
    0x1D489: '477 56Q477 48 479 46T490 43Q522 45 544 75T577 140Q582 156 585 159T605 162H611H622Q642 162 642 148Q642 138 632 114T602 62T550 13T478 -8Q429 -8 394 17T358 83Q358 95 395 199T433 350Q433 400 394 400H388H383Q335 400 291 363Q256 332 236 298Q233 293 202 170T169 40Q160 18 141 5T99 -8Q70 -8 58 9T45 39Q45 51 116 336L188 622H184Q183 622 179 622T169 623T157 624T146 624T136 624T131 625Q119 628 119 642Q119 647 123 661T129 679Q133 684 144 685T220 690Q293 694 307 694Q324 694 328 679Q328 672 294 540Q286 507 278 473T264 420L260 403Q260 400 269 408Q327 451 393 451H401H410Q425 451 439 450T476 442T515 424T544 391T556 337Q556 286 517 179T477 56',
    0x1D48A: '205 615Q205 646 229 670T283 694Q310 694 324 679T339 641Q339 610 315 586T258 562Q235 562 220 577T205 615ZM24 296Q24 305 34 328T63 380T115 430T187 452Q205 452 223 448T262 435T295 406T308 360Q308 345 287 290T240 170T207 87Q202 67 202 57Q202 42 215 42Q235 42 257 64Q288 92 302 140Q307 156 310 159T330 162H336H347Q367 162 367 148Q367 140 357 117T329 65T276 14T201 -8Q158 -8 121 15T83 84Q83 104 133 229T184 358Q189 376 189 388Q189 402 177 402Q156 402 134 380Q103 352 89 304Q84 288 81 285T61 282H55H44Q24 282 24 296',
    0x1D48B: '321 616Q321 648 346 671T400 694Q425 694 440 680T456 640Q456 609 431 586T376 562Q353 562 337 577T321 616ZM297 360T297 373T294 392T288 400T278 401H276Q241 399 210 372T158 303Q151 287 148 285T129 282H123H116Q102 282 97 284T92 298Q96 331 153 391T279 451Q357 451 388 422T420 354V339L371 142Q363 111 353 71T339 13T329 -30T318 -64T308 -88T296 -109T283 -125T264 -142Q190 -202 88 -202Q44 -202 16 -181T-12 -125Q-12 -93 11 -68T68 -43Q92 -43 108 -58T124 -93Q124 -121 106 -144Q101 -150 103 -150Q120 -150 147 -128T191 -64Q194 -57 242 136T294 345Q297 360 297 373',
    0x1D48C: '99 -8Q71 -8 58 9T45 39Q45 51 116 336L188 622H184Q183 622 179 622T169 623T157 624T146 624T136 624T131 625Q119 628 119 642Q119 647 123 661T129 679Q133 684 144 685T220 690Q293 694 307 694Q324 694 328 679Q328 674 280 482Q231 290 231 287Q231 285 234 286Q259 302 294 334T356 390T420 433T493 452Q528 452 546 427T564 364Q564 308 538 282T480 256Q456 256 441 269T425 308Q425 339 444 359T483 384L502 389Q502 395 496 398Q493 400 483 400Q465 400 449 395T409 374T373 347T323 305T268 257Q274 256 282 256Q312 251 329 247T371 232T411 202Q431 181 431 146Q431 132 427 110T422 73Q422 44 440 44H442Q462 44 478 64T502 102T514 141Q518 157 522 159T547 162H558Q578 162 578 148Q578 118 537 56T440 -7H432Q374 -7 337 21T299 94Q299 103 301 116T304 139Q304 164 281 181T235 202L212 206H211Q176 47 160 24Q137 -8 99 -8',
    0x1D48D: '157 -8Q138 -8 118 -4T77 11T41 42T27 91V106L156 622H152Q151 622 147 622T137 623T125 624T114 624T104 624T99 625Q87 628 87 642Q87 647 91 661T97 679Q101 684 112 685T188 690Q261 694 275 694Q292 694 296 679L151 91Q150 85 150 71Q150 42 167 42Q186 42 205 75Q216 96 225 134Q230 155 234 158T255 162H260H271Q291 162 291 148Q290 145 289 140T283 118T271 87T254 54T229 23T197 1T157 -8',
    0x1D48E: '24 296Q25 302 27 312T41 350T65 397T104 435T159 452Q203 452 234 435Q268 419 285 384L295 392Q305 401 317 410T349 429T389 445Q411 451 446 451Q560 451 592 383Q593 380 594 379L595 375L604 384Q675 452 762 452Q893 452 916 367Q918 356 918 334Q918 285 881 183T841 66Q838 43 849 43Q876 43 901 69T940 138Q945 156 949 159T969 162H975H986Q1006 162 1006 148Q1006 138 996 115T966 63T914 13T841 -8Q794 -8 758 16T721 82Q721 96 758 199T796 351Q796 401 753 401Q702 401 662 369T599 298Q597 294 567 172T533 40Q525 22 506 7T462 -8Q435 -8 422 8T409 39Q409 48 425 114T458 248T476 320Q478 330 478 348T474 377T462 393T449 399T433 400H428Q380 400 336 363Q301 332 281 298Q278 293 247 170T214 40Q206 22 187 7T143 -8T104 7T90 39Q90 47 108 124T146 274L164 347Q166 355 166 372Q166 401 149 401Q129 401 115 379T89 306Q84 288 80 285T55 282H44Q24 282 24 296',
    0x1D48F: '24 296Q25 302 27 312T41 350T65 397T104 435T159 452Q203 452 234 435Q268 419 285 384L293 391Q363 452 454 452Q575 446 597 367Q599 356 599 334Q599 285 562 183T522 66Q519 43 530 43Q557 43 582 69T621 138Q626 156 630 159T650 162H656H667Q687 162 687 148Q687 138 677 115T647 63T595 13T522 -8Q475 -8 439 16T402 82Q402 96 439 199T477 351Q477 401 434 401Q421 401 409 398Q341 388 285 305L278 295L247 170Q216 46 214 40Q206 22 187 7T143 -8T104 7T90 39Q90 47 108 124T146 274L164 347Q166 355 166 372Q166 401 149 401Q129 401 115 379T89 306Q84 288 80 285T55 282H44Q24 282 24 296',
    0x1D490: '254 -8Q191 -8 146 9T80 54T49 111T39 169Q39 206 53 247T96 329T176 402T292 446Q317 451 336 451L344 452Q353 452 359 452Q457 452 516 408T576 279Q576 169 488 81T254 -8ZM349 400Q321 400 287 385T231 338Q206 301 188 228T170 126Q170 99 178 83Q198 44 260 44Q367 44 409 157Q419 185 432 238T445 317Q445 336 443 348Q435 372 416 384T384 398T349 400',
    0x1D491: '24 296Q25 302 27 312T41 350T65 397T103 435T157 452Q235 452 273 404Q336 452 409 452Q434 452 458 448T507 432T550 402T581 354T593 285Q593 221 564 159T480 53Q401 -8 302 -8Q290 -8 279 -7T259 -3T242 3T228 9T218 14T212 18L209 20Q208 19 190 -55T171 -131T198 -132H213Q240 -132 240 -150Q237 -187 223 -192Q219 -194 212 -194Q208 -194 176 -193T95 -192Q48 -192 24 -193T-3 -194Q-11 -194 -16 -190T-22 -182T-23 -176Q-20 -142 -7 -134Q-3 -132 20 -132H44L164 354Q165 357 165 372Q165 401 148 401Q113 401 90 310Q85 289 82 286T60 282H55H44Q24 282 24 296ZM465 339Q465 373 447 387T403 401Q375 401 347 387T303 360T288 341Q288 338 257 216L227 93Q248 43 306 43Q332 43 361 59T410 115Q425 147 445 224Q465 309 465 339',
    0x1D492: '38 159Q38 209 58 260T113 355T205 425T327 452Q338 452 348 451T366 449T382 444T394 440T405 434T414 429T422 423T429 418Q440 429 481 440T533 452Q540 452 545 447T550 437Q550 432 481 152Q410 -130 410 -131T437 -132H452Q479 -132 479 -150Q476 -187 462 -192Q458 -194 451 -194Q447 -194 414 -193T330 -192Q277 -192 249 -193T217 -194Q202 -194 197 -179Q197 -175 201 -159Q206 -139 211 -136T243 -132H283L319 15L307 10Q295 4 270 -2T220 -8Q134 -8 86 37T38 159ZM402 353Q402 358 395 368T369 390T324 401Q301 401 282 394T249 369T226 338T208 297T196 258T186 218Q166 141 166 107Q166 44 229 44Q265 44 294 61T337 95Q341 100 371 222T402 353',
    0x1D493: '24 296Q24 298 28 313T42 352T67 398T104 436T154 452Q198 452 230 437T273 404L282 411Q334 452 393 452Q441 452 470 423T500 350Q500 301 473 279T418 256Q395 256 379 270T363 308Q363 366 424 386Q424 388 420 391T405 398T385 401Q363 401 343 390Q321 380 289 341L252 192Q214 42 212 39Q190 -8 142 -8Q117 -8 103 7T89 39Q89 52 127 202T165 369Q165 402 148 402Q139 402 128 393T110 369Q100 348 90 310Q85 289 82 286T60 282H55H44Q24 282 24 296',
    0x1D494: '140 290Q140 311 148 336T176 388T235 433T326 451H336Q355 451 373 449T418 439T460 412T476 363Q476 333 456 311T406 289Q384 289 371 302T357 335Q357 351 364 364T379 384L386 391Q386 392 381 394T362 398T330 400Q299 400 278 393T247 373T235 352T232 335Q232 322 242 312Q258 299 315 290T403 260Q457 224 457 167Q457 152 453 134T435 90T397 43T330 7T229 -8Q133 -8 95 22T57 91Q57 127 81 152T139 177Q161 177 177 164T194 121Q189 80 153 56Q179 43 236 43Q275 43 303 52T343 75T361 101T366 124Q366 148 338 161T272 180T232 186Q187 198 164 227T140 290',
    0x1D495: '82 382H55Q21 382 21 399Q21 422 33 439Q39 444 93 444H144L162 517Q163 522 167 541T174 567T181 589T192 611T206 627T226 639T253 643Q276 643 291 630T306 594Q306 586 288 514Q284 499 280 481T273 454L271 445Q271 444 317 444Q322 444 331 444T345 445Q377 445 377 428Q377 408 368 390Q360 382 341 382H306H255Q182 86 182 75Q182 43 201 43H204Q242 46 279 81Q298 101 309 119T323 145T330 157T350 162H356H363Q377 162 382 160T387 146Q385 136 372 114T337 64T275 14T192 -7Q131 -7 95 19T59 90V105L128 381Q128 382 82 382',
    0x1D496: '189 389Q189 397 187 399T176 401Q150 399 126 372T89 304Q84 288 81 285T61 282H55H44Q24 282 24 296Q24 307 35 331T65 383T117 431T187 452Q237 452 272 427T308 362Q308 347 273 254T238 111Q238 43 291 43Q319 43 344 58T380 86T391 103T426 247T464 396Q472 414 491 429T535 444T574 429T588 397Q588 390 570 315T534 168L516 97Q514 89 514 72Q514 42 531 42Q544 42 556 56Q574 76 589 134Q594 155 598 158T619 162H624H635Q655 162 655 148Q654 142 652 132T638 94T614 47T575 9T520 -8Q509 -8 498 -7T478 -3T461 2T446 8T434 16T424 23T416 29T410 35T406 39L405 41L397 34Q347 -7 288 -7H281Q148 -7 122 78Q116 95 116 125V136Q116 174 152 273T189 389',
    0x1D497: '380 367Q380 397 406 425T465 453Q493 453 516 430T540 357Q540 314 524 250T467 115T373 13Q338 -8 292 -8Q218 -8 167 23T116 129Q116 178 152 275T189 388Q189 396 187 398T176 401Q148 398 125 372T89 304Q84 288 81 285T61 282H55H44Q24 282 24 296Q24 306 34 330T64 382T116 431T189 452Q231 452 269 429T308 362Q308 346 273 255T238 114Q238 43 306 43Q336 43 363 65T407 118T437 182T456 239T462 268Q462 290 417 315Q380 335 380 367',
    0x1D498: '636 367Q636 400 664 426T719 453Q748 453 772 431T796 357Q796 321 782 256T727 112T633 6Q604 -8 567 -8Q466 -8 415 43Q414 42 410 38T403 31T396 25T388 18T378 11T367 5T355 0T340 -4T324 -7T306 -8Q249 -8 209 5T151 40T125 84T117 129Q117 176 153 274T190 388Q190 408 158 396Q112 376 90 306Q85 288 81 285T61 282H55H44Q24 282 24 296Q24 305 34 328T63 380T114 430T187 452Q240 452 274 427T309 362Q309 346 275 255T240 117Q240 43 317 43Q325 43 333 45T347 50T359 57T369 66T377 75T383 83T388 90L390 95Q390 99 389 110T387 129Q387 139 391 167Q393 177 419 282T448 396Q456 414 475 429T519 444Q546 444 559 428T572 397Q572 384 542 265T511 114Q511 43 579 43Q608 43 633 66T673 122T699 188T714 244L718 267Q718 291 673 315Q636 335 636 367',
    0x1D499: '74 282H63Q43 282 43 296Q43 298 45 307T56 332T76 365T110 401T159 433Q200 451 233 451H236Q273 451 282 450Q358 437 382 400L392 410Q434 452 483 452Q538 452 568 421T599 346Q599 303 573 280T517 256Q494 256 478 270T462 308Q462 343 488 367Q501 377 520 385Q520 386 516 389T502 396T480 400T462 398Q429 383 415 341Q354 116 354 80T405 44Q449 44 485 74T535 142Q539 156 542 159T562 162H568H579Q599 162 599 148Q599 135 586 111T550 60T485 12T397 -8Q313 -8 266 35L258 44Q215 -7 161 -7H156Q99 -7 71 25T43 95Q43 143 70 165T125 188Q148 188 164 174T180 136Q180 101 154 77Q141 67 122 59Q124 54 136 49T161 43Q183 43 200 61T226 103Q287 328 287 364T236 400Q200 400 164 377T107 302Q103 288 100 285T80 282H74',
    0x1D49A: '206 -150Q240 -150 268 -134T314 -95T344 -48T362 -7T367 14Q339 -7 280 -7Q230 -7 195 5T144 39T122 79T115 122Q115 175 152 274T189 388Q189 396 187 398T176 401Q148 398 125 372T89 304Q84 288 81 285T61 282H55H44Q24 282 24 296Q24 306 34 329T64 381T116 431T188 452Q239 452 273 427T308 361Q308 347 273 253T237 109Q237 43 291 43T388 98Q388 99 425 246T463 396Q471 414 490 429T534 444T573 430T587 399Q587 386 537 186T483 -25Q461 -84 410 -126T296 -188Q248 -202 204 -202Q127 -202 96 -175T64 -114Q64 -82 86 -57T144 -31Q169 -31 184 -45T199 -83Q199 -89 198 -94T196 -104T193 -113T189 -120T184 -128T179 -134T173 -141T168 -147Q189 -150 206 -150',
    0x1D49B: '66 -8H60Q34 -8 34 5Q34 9 42 22T70 59T115 110Q162 156 255 229T381 332L389 339H381Q348 332 298 329T212 325T172 321Q168 318 151 318H146Q116 318 116 332Q116 334 118 342Q128 374 154 402Q205 452 265 452Q304 452 352 422T426 392Q441 392 462 421T485 451T508 452H518Q539 452 539 438Q539 431 516 401T458 334Q412 289 312 210Q229 146 191 111L183 103H195Q203 103 213 104T240 107T268 110Q301 114 337 116T391 119T428 123T455 134T469 157Q473 166 495 166Q521 166 525 161Q532 156 528 141Q510 81 456 37T337 -7Q297 -7 251 22T177 52Q154 52 134 38T100 8L88 -7Q86 -8 66 -8',
    0x1D49C: '76 60Q83 29 135 29Q190 29 264 81Q280 93 280 95T277 99T265 106T248 118Q189 166 189 237Q189 307 245 388Q267 421 299 436Q336 455 386 455Q488 455 550 403L559 395L571 405Q727 544 944 679L957 687L966 701Q968 704 970 707T973 712T975 714T978 716T982 717T989 717H995Q1004 717 1007 717T1013 714T1016 708Q1016 705 829 403L636 92L630 83Q659 93 685 110T728 143L745 158Q758 158 752 138L748 127L740 119Q676 58 605 42L593 22Q590 17 587 12T583 6T579 2T573 0T564 0H530H484Q480 3 480 8Q480 15 489 26T498 39T497 40Q477 40 423 49T327 74L316 78L302 68Q200 -8 121 -8Q85 -8 60 7T35 53T60 113T123 144Q144 144 153 132T162 106Q162 89 143 75T99 61Q90 61 76 65V60ZM904 614L905 615Q901 615 840 573T700 469T581 369L587 359Q600 340 608 315T618 273T622 238T624 216L764 414Q904 612 904 614ZM525 363Q493 405 379 418H375Q342 418 309 378Q251 300 251 234Q251 174 306 137Q318 128 322 131Q323 132 329 139Q351 161 362 180Q430 273 509 348L525 363ZM579 205Q579 245 571 278T556 323T546 337L521 311Q461 248 422 196T362 121L353 111Q427 85 499 79Q517 77 520 77L525 76L549 111Q551 114 556 121T563 131T568 138T573 147T575 157T577 169T578 185T579 205',
    0x1D49E: '367 89Q367 84 353 77T334 70Q325 70 312 83T298 120Q298 169 364 233T496 298Q538 298 563 275T588 220V213Q588 132 501 53T306 -26Q251 -26 211 6T170 114Q171 148 181 184T205 248T232 298T255 334T265 349T246 350Q127 350 77 390T26 480Q26 533 71 581T178 656T295 683Q312 683 312 676Q312 674 311 672L302 660Q294 648 292 647L286 646Q280 646 276 646Q197 641 145 583T93 476Q93 387 265 387Q271 387 277 387T287 388T292 388T313 414T373 483T451 562Q618 712 732 727Q733 727 740 727T753 728Q790 727 804 708T819 665Q819 643 810 617T773 553T699 481T572 414T385 361Q381 361 367 341Q247 172 247 86Q247 11 325 11Q404 11 465 95Q518 165 528 208Q529 212 529 220Q529 237 518 249T480 261Q431 261 387 209T343 126Q343 111 355 101T367 89ZM777 658Q777 691 738 691Q704 691 658 662T570 590T491 504T432 432T410 400H411Q416 400 440 405T505 423T589 455T675 506T743 576Q777 627 777 658',
    0x1D49F: '251 272Q199 272 168 298T136 374Q136 432 175 496T267 603Q321 645 395 676T552 708Q610 708 655 694T724 659T763 618T784 584L790 569Q792 569 800 572T819 576T840 578Q855 578 855 571Q855 566 846 554T829 541Q824 541 817 539T804 533T799 529Q802 517 802 483Q802 376 742 256T585 53T392 -31Q353 -31 300 -7L289 -2L277 -6Q242 -17 192 -17Q141 -17 113 -13T77 -3T68 14Q68 20 73 28T93 45T131 58Q152 62 197 62Q241 62 272 48L282 44Q308 65 334 93Q380 145 467 266T622 454Q644 476 664 493T694 517T720 534T740 547Q699 671 540 671Q461 671 385 625T276 534Q265 520 251 499T219 438T202 368Q202 309 267 309Q325 309 396 383T491 545Q492 548 493 552Q494 558 496 559T511 564Q513 565 514 565Q523 568 527 568Q534 568 534 560Q534 554 529 537Q507 442 420 357T251 272ZM332 20Q332 19 341 15T368 6T400 2Q425 2 457 13T531 49T614 125T690 248Q750 376 750 476V490L738 479Q698 436 646 366T554 239T455 121T332 20ZM226 20Q226 25 186 25Q181 25 174 24H166Q161 24 158 23H152Q170 21 197 21Q205 21 213 21T223 20H226',
    0x1D4A2: '206 318L249 320Q249 327 259 352T282 399Q312 447 366 510T465 610Q588 717 661 717Q695 717 716 701T738 653T704 577Q663 522 610 474T512 397T424 346T359 315T333 306Q331 304 327 290T323 267Q323 229 368 229Q402 229 439 254T505 312T571 382T638 435Q642 437 644 437Q658 437 658 409Q655 403 647 399T624 379T595 326Q583 296 564 267T523 179Q504 126 483 91T423 27Q335 -37 231 -37Q191 -37 157 -30T95 -2T67 53Q67 89 94 123T159 158Q180 158 190 146T200 119Q200 102 178 89T136 75Q128 75 120 78T110 81Q105 81 105 62Q105 38 129 24T180 5T238 1H244Q282 1 319 32Q349 55 371 85T436 190L465 239Q413 192 354 192Q300 192 274 217T245 276Q245 284 242 284Q220 280 187 280Q106 280 59 315T12 409Q12 457 43 508T118 597T210 659T295 683Q308 683 308 675Q308 670 299 658T282 646Q266 646 240 633Q182 606 118 511Q76 448 76 400Q76 368 105 343T206 318ZM677 660Q677 680 646 680Q616 680 565 629Q537 601 514 571Q493 544 455 492T389 398T360 355Q366 357 386 367Q463 406 534 473T641 591T677 660',
    0x1D4A5: '829 148Q845 148 845 143T841 130T823 109T788 83T730 54T644 22Q637 20 634 19T627 16T622 13T618 10T612 3T604 -6Q510 -112 396 -203T201 -312Q190 -314 171 -314H166Q156 -314 147 -312T123 -304T101 -283T92 -245Q92 -203 117 -160T175 -93Q214 -65 280 -41T390 -6T509 22L532 27L547 47Q673 219 673 225L665 228Q657 231 648 235T627 249T606 270T591 300T584 341Q584 389 614 447T686 544Q735 588 799 615T959 667T1108 713Q1118 717 1119 717Q1125 717 1129 705T1133 689Q1133 686 1115 673Q1051 627 1001 579T918 481T867 403T828 328T805 277Q802 271 801 267T798 261T798 259Q849 270 900 317Q956 371 956 421Q956 438 953 457T950 480Q950 481 950 482L951 484Q953 487 966 492T985 498Q989 498 994 473Q1000 441 1000 423Q1000 362 934 302T790 223L775 220L767 207Q757 191 731 158T685 98T662 63Q662 61 690 70T755 99T811 142L816 148H829ZM646 332Q646 308 659 291T685 268L698 263L735 320Q828 465 865 511Q923 582 1003 643L1005 645Q1004 645 924 620Q775 572 716 492Q646 401 646 332ZM184 -278Q233 -278 311 -212T444 -80L498 -15H496Q468 -20 424 -30T293 -70T174 -133Q167 -140 158 -153T138 -190T127 -232Q127 -278 184 -278',
    0x1D4A6: '521 506Q521 493 549 493Q608 493 660 527Q667 531 690 555L736 604Q750 619 777 646T825 694T848 716T852 717Q857 717 860 711T865 697L866 690Q866 687 812 615Q654 404 654 401Q655 401 656 401T659 402T665 403T680 404Q718 404 734 374Q735 370 743 376Q745 377 752 382Q806 416 852 466T933 563T982 623Q1028 666 1075 686T1155 706Q1165 706 1173 705T1186 703T1194 699T1199 695T1201 692T1202 688V687L1204 677Q1204 667 1191 670Q1189 670 1183 670T1174 671Q1137 671 1086 643T1001 564Q970 517 899 449T749 339L739 333L736 322Q730 295 703 253T652 165T628 77Q628 21 681 21Q692 21 698 23Q751 46 817 134L827 148H844Q861 148 864 146Q869 140 859 127Q818 75 761 29T665 -17Q649 -17 633 -12T598 4T569 40T558 100Q558 128 563 152T585 205T609 245T643 294Q647 300 645 300Q633 297 615 297Q607 297 600 298T589 300T584 301Q581 301 569 284T536 236T488 171T418 97T331 28Q233 -37 155 -37Q104 -37 68 -17T29 44Q29 82 55 120T123 158Q144 158 154 146T164 119Q164 102 143 89T100 75Q92 75 86 76T77 80T72 82Q68 82 68 59Q68 37 85 23T123 5T167 0Q203 0 238 21T311 85T382 174T468 288T563 410Q576 426 588 440T607 462T615 472L605 468Q568 456 533 456H527Q490 456 463 483Q451 496 451 508T468 545T486 581Q486 593 465 593Q448 593 425 568T384 518T364 493Q364 492 347 492Q326 492 326 499T351 537T414 599T477 630Q509 630 528 615T547 576Q547 556 534 533T521 506ZM675 357Q675 368 665 368Q656 368 644 363Q631 355 616 333H628Q640 334 672 341Q675 354 675 357',
    0x1D4A9: '764 513Q764 482 772 423T780 330Q780 304 778 285T775 256T773 245Q778 252 826 328T932 484T1042 617Q1077 652 1114 678T1173 715T1200 726Q1208 726 1208 717Q1208 711 1206 695L1203 679L1199 675Q1197 675 1187 670T1161 657T1133 639Q1050 583 959 456Q906 381 858 307T779 179T725 83T691 18T679 -6Q677 -8 660 -8H656Q639 -8 639 -1Q639 4 646 17Q685 93 685 173V196Q685 233 681 288T676 380Q676 438 687 487L664 454Q505 230 454 170Q366 64 290 14T163 -36H152Q87 -36 58 -11T29 46Q29 82 55 120T123 158Q144 158 154 146T164 119Q164 102 143 89T100 75Q92 75 86 76T77 80T72 82Q67 82 67 59Q67 37 89 19T167 1Q187 1 197 3Q221 9 246 22T292 52T336 91T375 132T411 174T440 212T463 245T478 266Q779 695 784 698Q786 700 802 700H818Q824 694 824 692T809 668T779 604T764 513',
    0x1D4AA: '259 -8Q230 -7 205 0T153 24T112 74T96 153Q96 254 174 379T374 599T607 707H621Q732 707 778 661Q805 634 805 598Q805 558 775 517T696 452L684 447V441Q684 378 626 273T484 97Q379 7 288 -7Q279 -8 259 -8ZM760 594Q760 670 608 670Q562 670 493 622T347 472Q174 240 174 131Q174 76 205 53T279 29Q294 29 306 32Q405 60 507 205Q592 325 616 401Q625 426 625 435Q625 436 621 436T603 440T569 449Q524 466 515 475Q513 477 513 481T525 496T541 508L548 504Q555 501 565 497T587 488T609 480T625 476Q627 476 626 481Q626 486 623 494T613 513T589 533T548 541Q495 541 413 454T286 281Q265 241 254 201T240 141T235 120Q234 118 217 111T197 104Q195 104 192 107T189 112Q190 125 193 147T220 231T280 348Q335 428 407 493T539 576Q548 578 563 578Q594 578 617 568T653 546T672 518T681 494T683 482Q683 481 684 481Q690 481 707 495T742 538T760 594',
    0x1D4AB: '571 345Q571 384 612 418T687 452Q698 452 698 445Q698 436 679 417Q677 415 670 415Q650 412 633 389T615 350Q615 340 621 331T634 319T643 315L663 342Q751 462 817 536Q873 595 896 614L907 625Q843 680 701 680Q594 680 499 632T344 516Q317 486 296 449T267 384Q262 366 262 354Q262 332 276 316T326 299H327Q374 299 426 338Q481 376 537 456T597 598Q597 616 599 617Q601 619 614 624T630 630Q639 630 639 604V587V581Q639 519 597 456Q544 377 462 320T318 262Q278 262 250 282T222 350Q222 418 285 504Q360 597 480 656T702 716Q773 716 825 707T898 688T951 660Q962 670 985 685T1012 700Q1018 700 1022 690T1026 673Q1026 670 1019 664Q988 633 988 631Q988 630 999 618T1020 580T1031 522Q1031 471 1003 419T928 330Q854 275 765 264Q757 262 733 262H714L701 245Q615 121 473 42T218 -37Q159 -37 125 -15T90 46Q90 82 116 120T185 158Q203 158 213 147T224 121Q224 110 219 102Q198 75 159 75Q154 75 149 76T143 77T140 77Q137 72 137 53Q138 37 149 26T177 9T205 2T228 0Q313 0 419 74T602 257L620 281L614 285Q607 289 601 294T587 306T576 323T571 345ZM950 529Q950 576 943 576Q940 576 840 439T741 299H751Q804 300 845 334T924 438Q949 490 950 529',
    0x1D4AC: '330 387Q330 331 402 331Q463 331 514 371T589 459T613 542Q613 559 608 570T598 588T593 596Q593 601 617 610Q632 617 636 616Q675 585 675 527Q675 464 629 409T516 324T387 294Q271 294 271 394V402Q271 438 292 478Q344 582 457 649T672 717Q765 717 825 675T885 548Q885 433 771 298T498 76Q493 73 491 72T486 69T484 67T485 66Q539 41 607 41Q655 41 703 71T780 139L787 148H804Q806 148 809 148Q826 149 826 140Q826 128 786 91T687 19T589 -16H576Q503 -16 414 20L396 27Q279 -17 192 -17Q130 -17 92 2T54 53Q54 92 107 123T222 155Q303 155 401 106L431 91L441 97Q476 118 527 157Q622 236 711 361T801 573Q801 591 795 607T775 641T732 668T660 679Q592 679 528 644T422 560T355 464T330 387ZM201 20Q232 20 267 27T322 40T342 49Q342 52 315 60T243 77T160 86Q150 88 144 88Q130 88 122 79T112 62L111 53Q111 20 201 20',
    0x1D4AE: '346 463Q346 419 406 386T576 352H588L613 384L681 476Q767 594 842 651T973 708Q1016 708 1016 661Q1016 621 987 562T894 449Q802 375 696 338L682 334L665 312Q638 279 605 233T547 158T482 97Q418 46 332 5T158 -36Q87 -36 58 -11T29 48Q29 82 55 120T123 158Q144 158 154 146T164 119Q164 102 143 89T100 75Q92 75 86 76T77 80T72 82Q67 82 67 59Q67 28 98 14T166 0Q232 0 320 55T491 226Q530 279 551 305L558 314Q558 315 543 315Q417 321 353 365T289 460Q289 566 488 632Q578 662 660 665H679Q685 660 685 657T676 642Q670 633 666 629L664 628Q663 628 661 628T655 628Q606 628 546 615T426 568T350 486Q346 475 346 463ZM976 653Q976 671 959 671Q938 671 919 661T883 629T858 593T835 554Q832 548 830 545Q802 495 775 455T734 400T721 382L736 388Q876 449 946 568Q948 572 949 573Q976 622 976 653',
    0x1D4AF: '354 350Q264 350 264 426Q264 442 265 448Q279 514 347 582T503 692T662 735Q719 735 774 714T882 672T983 651Q996 651 996 644Q996 639 977 612T954 581Q953 580 938 580Q909 582 884 587L869 591L870 587Q870 583 849 557T796 491T748 422Q729 391 692 313T620 188Q555 105 454 34T253 -37Q214 -37 181 -30T120 -2T92 53Q92 89 119 123T184 158Q205 158 215 146T225 119Q225 102 203 89T161 75Q153 75 145 78T135 81Q130 81 130 62Q130 39 153 24T204 5T267 0Q311 0 358 29T454 117T539 226T629 358T710 476Q726 496 744 516T778 551T807 577T828 595L836 601L785 623Q743 642 713 651T668 661T626 663Q564 663 509 644T418 596T356 535T317 475T305 431Q305 416 312 408Q323 388 369 388Q429 388 465 411T530 480Q557 526 557 565Q557 573 556 579T555 587T555 590Q555 591 568 600T584 611Q588 612 600 603Q622 581 622 549Q622 516 600 475T536 405Q454 350 354 350',
    0x1D4B0: '55 377Q55 443 122 523T290 660T478 717Q533 717 575 689T618 594Q618 565 611 538T585 477T552 422T506 355T458 288L357 146Q307 68 307 31Q307 20 318 20Q326 20 331 21Q367 27 411 57T490 128L767 500L861 617H908H939Q953 617 956 616T960 609Q960 605 928 566T816 423T648 198Q587 113 571 86Q540 34 540 21Q540 20 545 20Q580 25 623 55T696 124Q702 132 704 133T722 134H739Q744 130 744 127T735 113Q713 80 655 38T548 -14Q527 -17 524 -17Q475 -17 473 47V63L462 55Q364 -17 302 -17Q235 -17 235 69Q235 88 239 105T248 135T268 171T292 205T328 251T369 304Q376 313 395 338T423 374T450 408T476 445T499 479T519 514T534 546T545 579T548 608Q548 647 522 663T460 680Q355 680 243 591T99 406Q97 399 97 383V377Q97 339 153 339Q169 339 175 340Q215 350 241 373T298 444Q333 496 349 535T367 588T374 603Q402 616 408 616Q416 616 416 608Q416 563 393 492T320 378Q233 302 140 302H132Q75 302 57 353Q55 361 55 377',
    0x1D4B1: '540 717Q542 717 545 717Q562 717 562 710Q562 708 557 702T541 678T517 632T485 544T448 407Q447 405 443 388T438 366T433 345T427 321T420 299T411 274T400 250T387 223T372 197Q363 181 364 181L388 203Q476 284 527 354T620 490T718 612Q754 647 790 673T835 700Q839 700 842 691T848 672L850 662Q850 657 842 653Q803 630 768 600T699 527T653 467T610 405Q554 322 518 282T368 138Q307 84 273 51T231 9T218 -5L207 -17H175Q169 -11 169 -9Q169 -4 183 10Q227 56 258 120T302 234T330 350T356 445Q357 450 360 458L362 464Q317 434 276 434Q221 437 221 479Q221 498 240 521T259 552Q259 565 235 565Q209 565 174 546T105 482Q103 480 102 478T99 474T97 472T95 470T93 468T90 467T86 467T81 467H75Q56 467 56 475Q56 482 82 511T156 570T253 601Q289 601 311 590T334 557Q334 543 312 517T289 478Q289 471 297 471Q327 471 378 514Q384 519 390 531T412 571T451 632Q482 675 524 717H540',
    0x1D4B2: '232 504Q232 492 263 492Q304 492 356 515L367 520L379 537Q443 632 515 705L527 717H543H552Q564 717 564 709Q564 705 562 703T554 694T540 677T518 643T488 589T448 504T398 385Q368 309 353 281L349 270L523 472L669 634Q726 695 737 706T757 717H765Q786 717 786 710Q786 704 776 691T738 627T675 497Q630 394 609 354T541 244Q456 120 449 111L447 107L448 108Q630 240 700 327Q734 368 788 463Q821 520 841 550T898 619T980 683Q1010 700 1018 700Q1020 700 1023 697T1026 692Q1026 688 1024 671T1020 652Q1018 650 1007 645T988 635Q940 609 902 565T842 477T781 374T699 272Q653 226 535 133Q423 47 373 -2L358 -17H342Q320 -17 320 -11Q320 -7 328 5T354 46T390 112Q416 161 439 217T488 326T564 453L589 490Q587 490 523 414T352 217T166 14Q138 -16 137 -16Q136 -17 120 -17Q106 -17 103 -16T99 -9Q99 -5 100 -3T106 3T116 14T132 35T154 72T184 129T222 212T270 327Q310 426 337 471L326 467Q278 455 243 455Q209 455 188 462T161 478T155 496Q155 508 176 533T198 576Q198 579 198 581T192 588T178 593Q151 593 100 519Q89 504 86 502T75 499H68Q46 499 46 506Q46 510 63 534T112 587T170 627Q178 629 195 629Q235 629 252 613T270 577Q270 556 251 532T232 504',
    0x1D4B3: '351 351Q308 351 290 373T272 426Q272 487 329 566T478 688Q538 717 584 717Q635 717 681 696T745 620Q752 598 752 564T745 498L741 485Q742 486 769 516T825 573T889 634T962 689T1027 716Q1035 717 1060 717Q1083 716 1096 714T1120 705T1131 686Q1131 668 1109 647T1055 626Q1035 626 1026 638T1016 663Q1016 667 1020 679H1015Q971 671 886 589T728 413L688 360Q688 359 725 359H750Q762 359 766 357T770 348Q769 345 761 335T750 322Q748 321 704 321H660Q651 311 632 282T589 199T565 107Q565 25 653 20Q684 20 720 44T779 95T826 152T850 183L856 184Q861 184 865 184Q888 184 888 173Q883 163 845 117Q770 37 723 10T638 -17Q584 -14 554 17T523 101Q523 147 534 167L532 166Q530 164 526 160T518 153Q378 15 256 -15Q250 -16 226 -16Q161 -16 132 7T103 59Q103 93 129 125T194 158Q232 158 232 121Q233 118 233 113T221 96T188 77Q182 75 168 75T150 78V70Q150 43 178 32T241 20Q340 20 527 286L552 321H524Q489 321 489 330Q489 333 497 344T509 358Q511 359 545 359H579Q580 362 597 389T631 445T661 514T675 586Q675 637 645 658T572 680Q506 680 444 632T348 527T314 434Q314 388 361 388H364H366Q380 388 389 390T416 408T457 454Q487 497 505 536T526 594L529 613Q531 615 545 622T560 630Q568 630 573 613T578 577Q578 518 532 455Q504 413 453 382T351 351',
    0x1D4B4: '155 280Q116 280 87 300T57 368Q57 409 87 466T192 589Q269 653 345 684T472 716Q572 716 613 675Q644 644 644 599Q644 585 643 574T637 550T629 529T616 505T600 481T578 450T554 416Q494 330 493 328L480 306Q466 278 466 256Q466 227 492 227H496Q514 227 534 234Q541 237 544 241T571 279L762 559Q777 579 792 595Q818 620 856 646T919 686T946 700Q951 700 955 692T959 677Q959 673 947 665T911 639T866 595Q816 538 749 408T640 225Q574 138 464 61T248 -17Q190 -17 144 1T98 62Q98 81 109 102T131 135Q156 156 183 158Q226 158 226 121Q226 111 224 107Q215 93 196 84T162 74Q154 74 147 77H144V70Q146 41 185 31T263 20Q363 20 493 175L507 192H504Q500 191 498 191Q484 189 476 189Q430 189 405 219T379 287Q379 294 379 299T382 311T385 322T391 335T398 347T408 363T420 379T434 399T450 422Q455 429 469 449T488 475T504 499T520 523T533 543T544 565T552 583T557 603T559 620Q559 680 467 680Q402 680 333 646T213 563T131 462T98 373Q98 343 119 330T169 317Q187 317 212 333Q242 354 291 423T352 555Q354 562 355 588Q355 612 356 612Q357 614 371 622T387 630Q391 630 397 623T409 597T415 556Q415 507 380 448T294 344Q216 280 155 280',
    0x1D4B5: '221 428Q221 487 280 555T425 670T583 717H587Q641 717 665 695T689 646Q689 625 674 600T658 564Q658 550 671 541T695 530T710 528L718 539Q779 613 821 646Q894 707 964 707H970Q1010 707 1025 675Q1032 661 1032 645Q1032 626 1022 607Q1008 579 980 560T897 522Q867 512 836 505T788 496L771 493Q768 493 760 477T736 429T702 370Q700 367 698 363Q696 360 696 359H805Q809 355 809 350Q809 340 791 322Q789 321 728 321H668Q562 179 433 88L419 78L434 73Q505 54 554 54Q609 54 654 82T720 140H752Q758 134 758 132Q758 128 747 113Q711 67 657 32T552 -14Q540 -16 517 -16T480 -15T439 -3T375 27L354 38L338 30Q257 -8 191 -8H184Q154 -8 133 -5T103 1T88 10T83 19T83 29Q83 35 86 44T100 65T127 88T173 105T241 112Q286 112 342 99L360 95L372 105Q434 157 523 270L560 320Q560 321 533 321L507 322Q502 325 502 330Q502 339 521 358Q523 359 556 359H588L669 474L682 491Q676 492 665 494T647 498T632 503T614 510T596 521Q556 547 556 570Q556 585 579 618T603 663Q603 679 568 679Q510 679 452 650T354 581T288 500T262 431Q262 407 280 397T321 387Q331 387 341 390T360 398T376 409T390 423T400 435T409 447L414 454Q457 514 460 562Q460 575 461 576Q461 577 475 586T492 595Q496 595 503 588T514 572Q520 559 520 539Q520 473 452 412T308 351Q269 351 245 370T221 428ZM989 642Q989 667 953 671Q905 671 871 644Q853 632 832 604T799 554T787 531H788Q801 531 842 539T916 561Q989 592 989 642ZM198 29Q230 29 257 36T295 52L306 59Q306 63 259 73Q251 74 209 74Q177 74 158 66T134 48L130 40Q130 29 198 29',
    0x1D504: '22 505Q22 563 94 624T271 685H280Q416 685 443 560Q447 535 447 504Q444 414 405 330L399 319L229 155Q233 154 241 153T253 150T265 145T281 135T301 119T328 93L357 64L402 92Q438 116 473 137L500 154V339Q500 528 495 593V601L559 649Q621 696 624 696L638 686L629 677Q599 650 593 638Q582 614 581 504Q580 490 580 443Q580 314 584 238Q584 235 584 224T584 210T585 199T586 187T588 176T591 164T595 152T601 137T609 121Q630 77 640 77Q661 77 703 101Q704 95 706 90L707 86V84L636 29Q618 15 601 2T574 -19T564 -25L500 121Q499 121 399 48L299 -26Q298 -26 291 -15T272 11T245 42T209 69T165 80Q120 80 58 43L48 37L40 42L32 48L122 117Q196 173 241 211Q319 280 343 327T368 447Q368 535 317 582Q264 633 199 633Q155 633 122 605T86 542Q86 518 133 467T181 387Q181 348 140 309Q113 281 73 260L64 255L50 265L59 273Q112 307 112 345Q112 363 90 387T45 441T22 505',
    0x1D505: '48 506Q48 568 120 629T268 691Q362 691 425 594L431 585L441 594Q478 628 528 657T629 686Q665 686 687 670Q703 658 718 584T753 506Q756 505 763 505Q778 505 804 512L815 516L820 496Q820 494 808 490T774 476T732 454Q720 445 708 437L675 415L640 394L625 383Q626 382 635 382Q652 382 670 379T712 364T754 336T784 289T797 220Q797 172 776 122Q769 106 766 102T745 84Q654 11 619 -8T538 -27Q483 -27 387 10T249 47Q218 47 186 34T133 8T112 -5T104 7T97 21L196 82Q259 120 284 140Q333 181 351 214Q368 251 368 353Q368 588 228 620Q222 621 205 621Q160 621 139 596Q117 569 117 548Q117 526 162 470T208 387Q208 352 179 320T104 264Q88 256 86 256Q83 256 70 266L82 274Q134 309 134 343Q134 352 130 359Q118 377 100 401T72 439T56 470T48 506ZM453 528Q457 496 457 419L458 357L488 367Q554 390 622 425Q673 449 673 453L671 454Q669 456 665 460T657 473T648 498T639 541Q629 597 616 613Q599 633 567 633Q534 633 493 599Q471 577 457 540L453 528ZM713 176Q713 252 661 295T528 339Q512 339 494 336T466 330T455 325Q454 325 452 311T444 270T425 217L420 207L304 118L319 116Q381 111 475 74T602 37Q655 37 684 79T713 176',
    0x1D507: '346 611Q300 611 261 604T194 584T144 555T107 519T82 481T65 443T55 410T50 383T48 367L37 372L27 378V393Q33 524 115 603Q160 648 230 666T365 685Q423 685 434 684Q745 653 745 405Q745 281 694 151L687 133L657 103Q524 -27 470 -27Q456 -27 331 18T157 64Q122 64 84 28Q67 9 57 -6L50 -16L43 -8L35 0Q35 3 46 22T83 74T141 133H154Q208 136 253 161T299 230Q299 259 277 290T232 348T209 392Q209 434 254 479T358 556L368 561L382 550Q382 549 381 548T377 545T371 541Q353 527 326 496T298 444Q298 430 343 365T389 277Q389 240 353 202T267 136L252 127Q304 118 400 83T513 47Q548 47 582 79T635 145Q671 208 671 323Q671 390 651 441T599 524T523 576T436 603T346 611',
    0x1D508: '301 564Q240 564 203 507T165 361Q165 280 190 218T260 119T358 64T474 46Q491 46 499 47L511 48L628 106V80L499 -5Q498 -6 497 -7T494 -10T490 -12T485 -15T478 -17T468 -19T456 -21T439 -22T418 -23T392 -24Q252 -20 169 67T86 315Q86 409 124 491Q128 500 139 508Q211 560 272 591L293 601L325 585L338 594Q374 617 422 639T502 674L532 685Q533 685 540 663T557 614T574 581Q580 575 591 575Q600 575 616 580T634 585V564L623 559Q572 535 532 529L522 527Q491 547 442 627Q442 628 440 627T435 624T428 620Q410 610 405 597T399 559V553Q399 534 409 487Q419 431 427 369L476 400Q526 431 526 432Q531 426 537 420Q565 382 602 359Q611 353 610 352Q609 351 575 332T537 312Q536 312 505 335T463 358Q451 358 439 352T425 337Q394 243 263 223L251 221L243 229L235 236L245 239Q274 247 303 266Q320 277 325 290T330 336Q330 394 315 451T300 531Q300 549 303 561Q303 564 301 564',
    0x1D509: '198 617Q177 617 159 609T128 587T106 557T91 524T82 494T76 472L75 463Q74 463 67 468T59 474Q59 488 63 510T80 564T114 622T170 667T253 686Q272 686 295 680Q330 672 384 645T468 598Q498 580 524 580Q549 580 595 626L612 643V616L599 599Q522 500 482 500Q466 500 435 514L420 521Q388 516 349 486T309 415Q309 396 323 366T352 315T367 294Q367 293 375 301T398 322T429 352L490 410Q537 355 542 332Q542 330 531 315T510 286L499 273Q479 313 449 313Q437 313 419 303T390 282L378 271L394 250Q444 183 470 129Q484 96 484 71Q484 -19 402 -86T223 -153H220Q175 -153 137 -120Q103 -89 103 -8Q103 12 106 40T109 96Q109 132 103 146T72 161Q46 161 16 143L14 154L11 165Q88 219 143 219Q163 219 177 197T192 127Q192 102 186 65T179 4Q179 -60 210 -88T272 -117Q319 -117 362 -75T405 33Q405 72 363 139T278 271T235 368Q235 385 243 404T264 439T292 472T324 500T353 522T374 538L382 543Q382 544 351 562T274 598T198 617',
    0x1D50A: '373 560Q373 543 378 509T388 448T394 421Q396 421 416 433T474 474T548 537L538 543Q481 570 452 628L487 659Q521 690 522 690L526 684Q529 677 535 667T551 646T575 625T607 608Q617 606 621 606Q644 606 660 622L664 600L497 455Q495 453 527 453H546Q628 453 665 407L666 406Q710 357 710 297Q710 196 631 109L621 98L577 69Q471 -7 452 -15Q413 -26 370 -26Q239 -26 155 59Q66 148 66 319Q66 442 113 505L191 552Q269 600 270 600H271Q273 600 280 596T293 589T299 586Q300 586 357 623Q413 659 415 659L426 649Q373 604 373 560ZM219 228Q305 262 305 329V343Q305 384 294 434T282 519Q282 562 287 567Q287 569 286 569Q222 556 191 520Q144 464 144 362Q144 213 228 128T420 42Q514 42 568 103T622 255V260Q622 320 578 357Q526 400 453 400Q434 400 410 396L399 394L400 378V372Q400 330 388 301T348 254T305 232T252 217Q245 215 242 214L234 213L226 220L219 228',
    0x1D50D: '194 601Q175 601 155 590T121 564T95 533T76 506L69 495Q55 503 55 507Q55 509 60 521Q87 586 132 636T222 686Q251 686 289 660T363 607T422 580Q442 580 466 588T506 604L522 612V591L487 574Q371 517 359 517H357Q332 522 280 561T194 601ZM383 39Q383 96 356 203T329 361Q329 364 329 370T330 378L331 388L339 399Q362 429 394 462T446 513T469 531Q470 531 477 527T484 521L474 509Q411 434 411 379Q411 341 434 223T458 82Q458 1 390 -69T239 -139Q191 -139 162 -123T123 -83T108 -30T101 23T88 64T52 80Q27 80 -4 64L-10 80Q-5 85 13 98T63 128T118 144Q149 144 163 129T179 93T182 38T187 -19Q199 -96 278 -96Q294 -96 309 -91T343 -73T372 -31T383 39',
    0x1D50E: '154 37Q219 41 219 142Q219 203 190 302T160 434Q160 445 172 472T209 534T269 602T354 657T460 680H472Q576 680 618 617V599Q618 578 615 555T608 517T602 501Q596 495 587 495Q586 495 586 499Q586 500 586 505T585 513Q567 628 415 628Q384 628 356 621T302 596T260 546T244 466Q244 416 258 377L261 367L276 382Q294 401 317 422T386 471T468 500Q500 500 518 477T544 422T554 386Q555 382 560 376T576 364T601 357Q612 357 623 361Q623 360 621 351T617 340L541 305L465 272Q469 271 476 270T488 266T502 260L512 255L519 242Q533 211 546 157T564 93Q584 53 617 53Q649 53 682 74V54L675 46Q646 17 612 -5T554 -27Q546 -27 538 -23T517 -9T494 28T478 91Q465 172 448 200T378 228Q337 228 289 207L288 196Q288 160 284 138Q283 125 262 98Q185 1 112 -24L102 -27L91 -25Q47 -13 17 31Q17 33 49 69L80 106Q111 37 154 37ZM421 434Q411 436 405 436Q370 436 336 407T275 337L267 325L271 313Q288 257 288 234Q289 234 395 276T502 319Q501 320 499 323T493 330T485 345T475 371Q473 378 468 388T449 416T421 434',
    0x1D50F: '251 231Q251 254 206 341T160 468Q160 529 238 605Q313 677 425 685L432 686Q440 686 445 686Q520 686 545 657T571 576Q571 548 568 517T564 480Q564 466 572 460T608 452H623V431L619 430Q618 430 611 428T591 423T566 417L516 404Q497 415 491 419T480 433T475 461Q475 470 477 498T480 546Q480 561 480 569T474 592T459 615T429 631T379 638Q322 638 283 606T239 526Q237 480 280 394Q319 310 320 268V250Q308 235 244 169L203 128H210Q215 128 256 112T357 80T466 64Q526 64 564 88T625 186L629 196Q643 187 644 186Q618 70 604 41Q577 -15 513 -24Q496 -26 476 -26Q418 -26 344 -3T211 45T133 69Q115 69 97 50T65 7T49 -20L45 -16Q41 -11 37 -6T33 0Q33 8 66 69T111 134Q251 156 251 231',
    0x1D510: '687 578Q690 586 719 612T794 665T877 692Q909 692 926 670T953 614T973 570Q983 561 1000 560Q1023 560 1048 569V553L1034 546Q1003 528 972 504T933 466Q905 403 905 264Q905 205 909 172T920 126T940 91Q951 74 959 74T997 87L1027 100V79L956 27Q940 15 922 2T894 -19L885 -26Q883 -26 854 27L825 80V192Q826 314 830 341Q831 345 833 356Q840 398 844 404Q871 444 920 489L917 491Q914 493 911 495T903 501T898 508Q893 516 877 562T852 616Q840 628 818 628Q751 628 702 541L697 532L700 515Q708 467 708 419Q706 348 690 276T662 169T643 126L634 116Q626 105 611 87T581 51L522 -22L514 -15Q470 21 452 21Q431 21 394 -16L384 5L386 9L426 60Q449 87 460 95T486 104Q487 104 491 104T497 103Q514 99 541 81L559 69Q595 96 606 169T618 350Q618 486 598 543T517 601Q484 601 458 570T432 523Q432 516 434 492T436 443Q436 250 369 133L363 122L280 50Q207 -16 192 -27L182 -18Q136 26 106 26Q83 26 62 9T37 -16L27 0L33 10Q41 22 54 39T94 81T143 106Q178 106 225 62L235 53Q283 82 307 117Q352 190 352 359Q352 408 345 451T320 534T267 597T183 621Q159 621 147 617T120 598Q97 574 96 556Q96 528 143 469T191 377T161 311T102 262T70 245Q69 245 59 252T49 260L56 264Q63 268 73 275T94 291T111 312T118 338Q118 355 95 384T50 446T27 506Q31 567 101 626T255 686Q297 686 330 671T382 632T409 595T421 572V571L430 580Q454 610 496 634T588 659H590Q655 659 683 585L687 578',
    0x1D511: '112 334Q112 356 70 410T27 497Q27 553 94 619T229 685Q230 685 236 685T246 686Q303 686 349 654Q373 636 392 607T419 558L426 538L454 576Q474 604 486 618T520 651T569 678T633 686Q668 684 687 673T713 651T730 609Q730 608 732 600T736 588T741 578T747 568T754 561T765 555T779 553Q789 553 817 562Q819 557 819 555V547L790 526Q743 492 730 479T712 447Q697 369 697 281Q697 166 726 108Q741 76 755 68Q759 66 767 66Q789 66 825 93V82Q825 71 822 70Q821 69 763 27T701 -18L692 -25L668 15Q662 25 650 45T635 70L627 85V107Q627 122 626 162T624 285Q624 381 632 398Q638 409 651 425T675 454T696 477T707 489H696Q683 490 679 492T669 507T653 551Q642 588 627 608T584 628Q572 628 560 625T538 616T519 602T502 586T486 568T473 549T463 532T454 517T448 504L445 497Q437 480 437 474Q437 472 439 461T444 421T446 348Q446 205 405 124Q396 105 392 100T368 78Q312 32 278 9T235 -18T214 -22Q191 -22 170 -10T139 12T129 25T160 66T192 105Q193 102 194 98T200 83T213 64T233 49T261 42Q303 42 339 90Q373 134 373 268Q373 397 339 493T235 618Q215 628 191 628Q155 628 126 604T97 548Q97 524 120 493T168 431T192 381Q192 346 164 318T86 260L70 250L54 266L63 272Q112 300 112 334',
    0x1D512: '428 596Q412 596 386 595T350 593Q289 593 270 625Q267 632 267 640Q267 656 280 672T312 705T336 729H343Q351 729 351 728Q342 710 342 703Q342 683 382 676T493 662T604 643Q648 627 677 599T720 535T739 466T744 392Q744 317 732 260T696 166T659 116T621 83Q617 80 615 78Q485 -27 377 -27Q320 -25 272 -9T187 21T122 36H116Q65 36 29 -13L27 -15L12 0Q12 1 32 26T76 78T109 109Q145 123 166 150T187 207Q187 244 134 318T80 412Q80 454 112 498T176 566T213 590Q216 590 224 585L234 580L225 573Q216 566 207 557T188 536T172 511T165 484Q165 448 213 368T261 259Q261 241 252 219T228 179T200 146T176 122L167 112Q170 111 174 111Q188 110 233 91T339 55T453 37Q508 37 556 68T626 152Q655 219 655 328Q655 543 532 582Q484 596 428 596',
    0x1D513: '112 339Q112 354 91 380T49 438T28 497Q28 565 95 628T242 692Q261 692 277 689T307 682T331 670T351 655T367 637T379 619T388 600T395 582T401 565T405 550Q409 554 422 570T453 603T500 641Q573 692 637 692Q656 692 670 686T692 672T705 647T713 618T718 584Q720 568 721 562T728 546T742 534T768 530Q776 531 782 532T791 535T796 536Q799 536 804 521Q801 519 789 513T764 499T738 480Q697 447 680 414Q677 407 677 396Q677 370 713 312T750 210Q750 125 686 57T560 -11Q540 -11 475 13L410 37V31Q410 -9 412 -50T417 -118T420 -150Q419 -150 373 -184T326 -218L305 -208Q305 -207 307 -196T314 -165T322 -116T328 -46T331 43V63L318 66Q270 80 250 80Q233 80 213 70Q183 57 138 -3L128 -16L118 5L125 20Q193 154 282 154Q309 154 331 146V287Q331 444 327 469Q321 522 301 560Q284 590 251 611T184 633Q146 633 119 607T92 550Q92 539 94 534Q100 516 143 460T186 386Q186 366 170 336T119 281Q102 264 70 250L49 260L56 266Q64 271 72 278T90 296T106 317T112 339ZM602 345Q602 357 608 371T622 397T642 421T661 441T678 456L686 462Q663 473 652 486T639 512T634 553Q631 594 624 608T593 631Q587 632 567 632Q539 632 497 600T416 497L410 484V122L467 103Q481 99 502 92T533 82T557 75T578 69T594 66T610 64Q647 64 672 87T697 144Q697 180 650 250T602 345',
    0x1D514: '428 596Q412 596 386 595T350 593Q313 593 291 605T268 638Q268 644 269 648T274 658T284 669T301 689T326 718L336 729H343Q351 729 351 728Q342 710 342 703Q342 683 382 676T493 662T604 643Q744 592 744 398Q744 299 708 213T646 104L603 68L614 55Q670 -5 710 -5Q726 -5 744 1T772 14L781 20Q782 20 782 7V-6L771 -13Q673 -69 665 -69L647 -63Q552 -30 514 8H512Q509 8 500 3T471 -9T428 -23Q405 -27 377 -27Q305 -24 228 6T124 36Q69 36 27 -16Q23 -13 19 -8L11 0L27 20Q93 102 109 109Q145 123 166 150T187 207Q187 244 134 318T80 412Q80 454 112 498T176 566T213 590Q216 590 224 585L234 580L225 573Q216 566 207 557T188 536T172 511T165 484Q165 448 213 368T261 259Q261 241 252 219T228 179T200 146T176 122L167 112Q170 111 174 111Q188 110 233 91T339 55T453 37Q508 37 556 68T626 152Q655 219 655 328Q655 543 532 582Q484 596 428 596',
    0x1D516: '750 276Q750 141 645 57T378 -27Q224 -27 146 67Q66 163 66 307Q66 361 80 412T127 515T217 609T356 676L388 684L420 692L442 681Q545 625 586 608T654 591Q688 591 710 609T737 646L742 665Q742 665 756 654L752 642Q736 594 706 566T621 515L607 510Q580 513 528 542T421 599T335 627Q272 627 214 569Q139 500 139 373Q139 308 159 247T217 136T316 56T455 26Q520 26 566 43T634 90T666 148T676 207Q676 264 649 297T580 338Q574 339 552 339Q516 339 442 325T327 310H324Q303 310 290 312T259 328T232 369Q230 375 230 390Q230 426 259 461Q286 488 338 507Q351 498 351 495L346 492Q342 490 339 488T330 482T320 473T312 462T305 447T303 428Q303 368 366 368Q393 368 487 388T613 409Q656 409 696 385T748 306Q750 294 750 276',
    0x1D517: '289 686Q338 686 439 668T565 649Q606 649 641 672Q656 683 664 690T674 700L675 701Q676 698 676 692V681L641 636Q608 591 602 588Q577 575 528 575Q490 575 438 583L426 585L416 578Q335 520 335 465Q335 437 393 366T452 259Q452 226 406 171Q387 146 351 115L341 106L358 97Q438 58 475 58Q525 58 598 124L608 133Q617 119 617 118Q617 114 606 103Q513 0 448 -27L438 -25Q401 -19 337 14T234 48Q186 48 122 -3L112 -11L106 -3L101 5L110 15Q160 63 209 105L224 117H310Q384 163 384 210Q384 238 329 303T263 398Q262 400 262 404Q262 427 290 476T368 580Q383 596 381 596Q315 622 228 622Q159 622 118 593T76 516Q76 482 96 461T139 431L107 399L75 367Q34 403 34 472Q34 525 64 572T148 652Q207 686 289 686',
    0x1D518: '160 247Q160 291 110 382T59 505Q59 542 106 597T207 690L218 697L229 682Q229 680 216 669T187 644T158 604T144 552Q144 526 165 482T207 387T228 291Q228 277 228 267T224 247T219 232T210 217T199 202T184 184T166 163L118 107Q124 105 132 105T160 98T220 77Q298 47 317 47Q354 47 409 105Q444 142 451 161T458 244V277Q458 339 455 457T447 596L575 686L591 676L583 668Q550 632 541 587T532 449V372V298Q532 198 550 147Q572 79 605 79Q617 79 631 84T656 95L665 100V79L595 27Q578 15 560 2T532 -19L523 -26Q522 -26 490 42L458 111L397 50Q389 42 374 27T355 8T340 -5T325 -16T311 -22T294 -26T274 -27Q232 -25 152 6T35 37Q28 36 19 30T4 18T-8 4T-16 -5Q-25 10 -25 11T-20 18Q-5 34 15 57L54 101Q70 103 86 116Q94 121 113 140T137 166Q160 201 160 247',
    0x1D519: '54 266Q118 307 118 339Q118 360 74 413T27 493Q26 530 59 578T133 651Q187 686 256 686Q299 686 332 673T382 640T409 600T424 567T429 553Q431 553 463 586T542 653T624 686Q663 686 715 652T798 617Q812 617 825 622V606L815 599Q785 576 762 546Q724 495 724 432Q724 397 737 317T750 217Q750 148 711 96Q697 75 639 34T578 -10Q563 -21 555 -23T522 -26Q458 -26 363 29Q253 89 211 89Q192 89 173 83T139 67T114 49T96 34L90 27L80 43L95 59Q121 87 148 110T191 143T213 154Q261 154 300 195Q328 222 340 267T352 406Q352 562 255 611Q222 627 187 627H182Q143 627 115 598Q96 579 96 559Q96 528 144 470T192 381Q192 348 156 314T80 256L70 250L54 266ZM727 548Q701 550 650 583T567 617Q560 617 554 615Q532 610 501 580T445 501L437 485V465Q432 326 378 223L294 150Q321 143 421 87T560 31Q608 31 634 64Q660 102 660 198Q660 226 655 292T650 387Q650 418 658 452L660 462L735 548H727ZM264 150Q265 151 263 151H261Q261 150 264 150ZM280 150H276V149Q280 149 280 150',
    0x1D51A: '32 501Q35 564 103 625T264 686Q326 686 365 652Q402 618 420 564L441 585Q486 630 539 670L559 686L572 672Q637 606 665 559L682 576Q787 686 845 686Q877 686 929 656T992 623Q999 621 1016 621Q1041 621 1054 628L1051 617L1047 606Q1042 602 1037 597Q983 557 969 522T954 434Q954 394 961 336T968 221Q968 201 966 184T963 155T956 131T948 113T936 96T923 82T906 66T887 50L816 -2Q815 -3 810 -6T801 -11T791 -16T777 -20T759 -23T735 -25Q691 -25 619 4T505 37H496L463 21Q420 0 389 -20L378 -27H362Q316 -27 275 -9T202 28T150 46H146Q114 46 59 -5L48 -16L41 -6Q40 -4 38 -2T34 2L33 4Q33 8 77 54Q111 87 142 112L154 122H166Q239 127 288 182Q346 244 346 406Q346 489 326 537T259 610Q227 628 195 628Q155 628 128 606T101 549Q101 517 146 465T192 382Q192 348 156 310T85 254L75 250L64 258L55 266Q56 267 74 276T105 301T118 339Q118 362 75 413T32 501ZM952 547Q927 555 877 586T796 617Q744 617 682 525L676 516L677 498Q678 486 678 425Q678 301 652 206Q649 195 613 151T577 102Q577 100 582 100Q618 100 720 51Q761 32 790 32H794Q843 32 869 83Q884 110 884 189Q884 233 879 294T873 400Q874 433 879 451T889 478T915 507T952 547ZM241 105Q249 98 263 88T317 60T393 42Q478 42 547 109Q607 171 607 358Q607 371 607 380T604 417T595 467T577 517T546 566T500 601L479 580Q449 550 433 526L426 516V503Q426 311 357 200L352 191L296 149Q241 107 241 105',
    0x1D51B: '96 511L78 527L149 603Q207 666 227 686L237 685Q278 680 306 667T351 631T376 588T395 533L400 516L406 527Q439 600 523 653Q538 664 587 688Q589 688 596 672T613 635T629 606Q643 588 665 588Q677 588 693 596L709 603V585L607 526Q583 536 554 564T512 614Q461 571 435 507T405 381V367H581L563 347Q561 344 558 341T553 335T549 330T546 326L545 325H541Q537 325 488 329T411 334H405V325Q405 198 454 123Q497 54 568 54Q594 54 619 64T660 84L676 95V74L565 -16L553 -20Q528 -27 512 -27Q492 -27 475 -21T444 -5T418 19T398 47T382 77T371 105T363 128T358 145L357 151Q354 151 339 136T294 91T232 37Q152 -22 113 -22Q90 -22 69 -9T38 17T28 32Q28 33 58 68L86 101Q94 81 115 64T165 47Q206 47 249 84Q302 128 325 222Q334 263 336 312V334H312Q198 334 163 324H161Q162 326 182 348L198 367H336V398Q333 508 308 550Q295 570 274 585T227 601Q204 601 181 589T145 565T115 533T96 511',
    0x1D51C: '123 345Q123 358 75 415T27 496Q27 533 63 578T121 639Q181 685 256 685Q305 685 332 676T384 635Q419 588 425 542Q468 585 526 628T618 686Q632 667 658 645T704 609T724 594Q740 512 740 385V375V361Q740 128 682 -3Q656 -64 554 -141T361 -218Q319 -218 287 -203T243 -173T230 -150Q230 -148 267 -109L304 -69Q311 -115 341 -142T411 -170Q474 -170 534 -119T624 11Q660 111 660 312Q660 447 633 528L612 549Q578 583 552 596L543 601L528 592Q501 574 483 558Q454 528 436 494L431 484V473Q431 330 376 230Q366 213 359 206T306 159L250 112Q278 105 327 82T399 58Q421 58 440 69T471 92T484 104H485L493 90L480 73Q453 39 429 13Q393 -22 372 -22Q342 -22 260 15T153 53Q97 53 48 -16L38 5Q46 22 74 54T128 108L143 122H155Q226 127 275 168Q352 236 352 399Q352 501 309 564T197 628Q156 628 129 607T102 553Q102 517 147 463T192 383Q192 323 75 250L59 266Q123 314 123 345',
    0x1D51E: '86 363Q86 365 128 391T212 444L255 470Q256 470 263 465T283 453T308 442Q338 431 346 431Q350 431 358 436L414 465L421 459L418 434Q404 339 404 262Q404 147 408 119L425 97Q443 74 444 74L467 86L491 97Q492 97 497 83L436 28Q377 -26 374 -26L331 46L329 91L155 -35Q152 -35 114 10T68 65L67 86Q66 100 66 156Q66 177 66 198T68 236T71 268T74 296T77 320T80 338T83 351T86 360V363ZM314 365Q285 367 255 374T206 386L187 392Q181 392 172 376T154 311T145 197Q145 124 151 118Q156 110 187 78L208 56H214Q221 57 253 76L308 109L329 123V136Q328 143 328 257V365H314',
    0x1D51F: '177 427Q177 364 181 364Q184 364 192 370T223 395T271 433Q317 469 323 469Q325 469 338 462T377 440T432 413L440 409L441 396Q441 394 441 372T442 334Q442 203 425 108L423 97L400 83Q347 49 296 21T222 -19T196 -31Q192 -29 149 12T87 71L89 89Q100 155 100 319Q100 500 94 627Q94 632 94 638T94 648T94 656T93 662V664Q93 668 97 669T106 670H110Q114 653 118 633L127 596Q127 595 132 597Q136 599 195 642L255 685L272 673Q269 670 256 659T233 637T211 609T190 565T179 508Q177 494 177 427ZM295 377L274 385Q273 385 264 381T242 370T223 361Q213 355 188 340L178 333V123L198 103Q259 42 285 42Q299 42 314 55T339 85Q363 132 363 232Q363 310 358 343V349L345 355Q330 363 295 377',
    0x1D520: '72 208Q72 323 84 361Q84 363 167 414Q248 466 250 466Q255 465 260 465Q283 460 307 450T344 430L357 422L306 343L301 342L296 340Q267 362 247 372T216 384T177 390Q154 349 154 238Q154 220 156 158V145L168 132Q179 121 208 93T244 59Q245 58 246 58Q255 58 302 83T350 108L352 104Q355 100 356 96L358 92Q358 91 274 32T187 -29L177 -20Q160 -6 120 36T77 84Q77 87 75 118T72 208',
    0x1D521: '13 542Q13 544 77 576T147 609Q154 609 185 598T283 551T414 464L427 454V440Q427 436 427 412T428 372Q428 315 426 270T418 197T409 152T400 121T394 103L304 35Q285 21 261 2T225 -25L214 -33Q149 7 97 59L76 80L75 91V171Q75 221 76 254T79 299T80 313Q80 315 78 321Q78 323 78 326L77 330Q79 336 132 384T211 447L219 445Q221 445 224 444L228 443Q229 443 228 441T221 432T206 415L191 395Q175 378 162 339Q152 306 152 250Q152 217 159 140V134L171 121Q194 99 235 74T284 48Q296 48 310 75T337 156T349 267Q349 346 336 400L315 420Q246 489 176 525Q127 545 94 545H73L27 527L13 542',
    0x1D522: '353 103Q353 97 358 87L337 71Q293 38 247 6Q191 -30 189 -30Q188 -30 173 -16T130 26T76 85L74 99Q70 139 70 190Q70 228 73 271T79 338T84 365L94 372Q105 378 126 392T166 417L246 467Q283 417 349 369L364 358L355 349Q249 249 169 180L151 166L152 152V139L165 126Q186 105 215 84T260 62Q267 62 309 82L353 103ZM267 323Q246 337 230 350T204 371T189 385T179 394T174 397Q149 381 149 219V211Q151 211 171 223T220 258T268 299L282 313L267 323',
    0x1D523: '128 387Q128 391 112 456T92 546V555L101 568Q133 617 183 670L193 681L204 673Q238 648 262 648Q276 648 292 656L302 661L308 653Q308 652 278 618L249 585H234Q194 587 159 595Q158 595 156 596H153L150 597Q151 593 152 581T154 564T157 547T164 524T176 494Q199 436 203 400V392H207L323 386Q323 384 309 368L296 351H203V176Q201 -9 198 -32Q194 -61 166 -114Q158 -129 153 -138Q114 -214 110 -221Q105 -221 98 -220L87 -219V-216Q88 -215 106 -150T124 -82Q128 -73 129 155V351H30L64 386H96Q128 386 128 387',
    0x1D524: '27 -144L17 -131L82 -75L146 -20L126 6Q99 37 92 48L78 65L77 79Q75 103 75 158Q75 217 78 268T86 343T91 368Q92 370 109 382T157 413T222 452Q240 465 249 469L251 470Q296 443 350 428L365 424L437 465L442 459Q442 456 441 453T437 444T432 424T427 385T423 317T421 215V133L423 119Q423 111 455 -17Q455 -21 380 -108T290 -201Q290 -202 284 -204T269 -207T252 -209Q172 -209 75 -135L62 -126Q60 -126 44 -135L27 -144ZM349 351Q267 359 178 389Q177 387 173 376T166 358T161 337T157 303T155 259Q155 195 159 135L160 124L170 112Q180 101 204 77T230 53Q231 53 286 88L340 123V141Q340 235 348 329Q348 334 348 339T348 348L349 351ZM364 -59Q364 -37 358 -1T347 64T341 93Q336 93 252 28T149 -57Q226 -134 293 -134Q325 -134 344 -118T364 -69V-59',
    0x1D525: '88 427Q88 486 87 545T84 634T81 667Q81 673 82 673T89 676H94L117 600L200 661Q208 667 218 674T233 684L238 688L254 678Q222 646 216 637Q164 572 164 483V442V371Q187 390 244 431T312 478Q344 446 411 423L428 417L429 396Q434 297 434 218Q430 8 406 -34Q346 -111 262 -195L251 -205L249 -203Q248 -203 244 -199T236 -193Q226 -183 227 -182Q228 -182 244 -169T278 -140T301 -121Q330 -89 340 -22Q355 60 355 171Q355 200 353 244T348 321T344 354Q333 363 307 376T260 390Q241 390 179 350L164 341V121Q180 96 201 66L213 50Q210 46 172 11T131 -24Q130 -24 123 -11T102 25T77 65V78Q80 104 84 227T88 427',
    0x1D526: '72 617Q72 618 102 645T133 673H134Q134 668 175 627L187 615L130 555L116 568Q72 615 72 617ZM27 369Q21 376 14 382L26 392Q83 440 119 474Q158 435 169 427L179 420L176 395Q166 302 166 227Q166 171 174 139Q178 119 186 103T202 81L208 75Q255 100 261 100Q262 100 264 92T267 83Q267 80 208 30T145 -20Q143 -20 118 17L91 55Q98 117 98 193Q98 339 88 369Q71 390 68 390Q63 390 39 376L27 369',
    0x1D527: '101 644L132 672L145 657Q155 642 169 628L182 614L169 600Q148 579 140 570L125 555L112 568Q109 570 91 592T72 615Q72 617 101 644ZM19 -208Q-9 -185 -9 -183Q57 -134 80 -106Q103 -81 110 -19T118 179Q118 294 113 329T86 383Q78 389 76 389Q73 389 57 379L39 367Q26 380 26 381L33 387Q40 393 53 405T79 428L130 474Q147 457 186 428L195 422L196 376Q196 130 192 58T174 -35Q172 -39 104 -114T19 -208',
    0x1D528: '93 348Q93 379 90 503T87 658V670Q87 671 94 671L100 672L112 636Q124 603 124 600L144 616Q196 659 234 682L246 689Q252 686 256 685T268 680L254 667Q225 641 211 626T184 579T168 505V497L178 504Q203 523 237 544L300 584L310 573Q359 522 359 481Q359 476 359 472T358 464T355 456T351 448T346 440T340 433T332 424T323 414T312 402T299 389L255 343L300 342H346L320 309H177V128L193 113Q214 92 244 68L254 60L303 84Q351 108 352 108L362 96Q355 85 277 30T194 -25L170 -4Q146 18 120 41T89 68Q94 85 94 168Q94 184 94 218T93 268V309H58L24 310L51 342H93V348ZM172 342Q217 342 252 374T287 445Q287 472 255 504Q242 517 241 517Q202 498 187 468T168 365V342H172',
    0x1D529: '221 76L267 99Q268 98 269 96T271 88T270 82L262 76Q255 69 241 57T214 34L148 -20L98 56L99 89Q107 247 107 373Q107 494 101 621Q101 653 99 659V665L106 668L113 672L118 655Q122 642 131 617L138 597Q140 597 157 611L240 670L264 685Q265 685 270 680T276 674T269 667T247 647T219 617Q197 587 186 551T173 493T171 438Q171 376 175 282T179 147V117Q184 109 201 93T221 76',
    0x1D52A: '20 367L8 379Q9 380 63 425T118 471Q130 460 143 446L168 421V398L169 376L295 475Q362 433 415 418V399Q415 380 416 380T437 394T484 428T529 462L544 474L556 467Q590 449 614 438T646 424L653 421L665 417L664 412Q664 411 664 407T664 397T663 384Q660 342 660 335Q658 303 658 245Q658 186 660 152L661 126L669 115Q680 96 697 79L707 83Q716 87 723 90T735 96T741 100T746 102L747 103V102L750 95Q753 88 753 87L631 -18Q630 -17 622 -3T589 43L576 60L579 72Q592 146 592 218Q592 265 584 321Q581 345 578 350T560 363Q535 376 496 386L481 390Q475 387 425 358L415 351V238V157Q415 142 415 135T417 120T421 110T430 98T441 81L465 47Q462 44 458 41T443 28T420 8L380 -26L333 47L336 62Q339 77 342 109T345 184Q345 223 341 285T333 348Q322 364 258 382L240 388L169 347L168 240Q168 118 171 110L174 106Q178 101 183 93T195 78L217 48Q217 47 196 30T154 -5T133 -21L130 -16Q127 -10 122 0T111 19Q89 56 89 60Q95 76 95 153Q95 239 88 337V365L62 391L20 367',
    0x1D52B: '31 368Q20 379 20 380T72 427L121 470L129 463Q137 455 155 441T176 425V367L320 475L329 469Q351 454 385 437T434 417L432 402Q429 362 429 231V128L439 111Q442 107 445 102T449 95T453 90T456 86T459 84T463 82T467 82Q468 82 489 93T511 105T514 95V88L395 -18L340 65L341 77Q347 111 348 178Q348 343 343 353V358L332 363Q298 377 264 382Q260 382 254 382L249 383Q247 383 211 362L176 341V229V147Q176 134 176 127T177 115T179 106T183 99T189 91T197 81Q201 76 206 69T214 57L217 53Q217 52 175 15T132 -22Q132 -20 114 5T88 41Q84 45 84 50Q94 116 94 203Q94 227 93 263T92 324L90 364L67 388L50 378Q32 368 31 368',
    0x1D52C: '67 121Q70 265 84 359V364L97 371Q137 394 177 421T238 464T260 480L278 468Q295 457 327 442T394 418L406 414Q412 388 412 300Q412 263 410 228T405 170T399 130T393 103T391 92L381 86Q274 19 165 -28L161 -24Q157 -21 151 -15T136 -2T118 14T101 30T86 46T74 60L67 68V121ZM335 278Q335 286 335 303T334 335L333 349V356H326Q288 360 208 388L183 397Q178 393 172 383T154 333T142 239Q142 192 151 134Q152 124 155 120T175 99Q197 77 219 64T251 47T267 44T281 52T302 80T320 124Q335 182 335 278',
    0x1D52D: '23 25Q15 33 12 38L35 59Q82 102 87 105V351L68 378Q42 414 42 422Q42 437 67 472T114 530L125 541Q126 541 132 537T138 532Q121 507 121 488Q121 453 160 413L167 405L166 390L165 372Q169 372 233 421T305 478Q307 479 315 472Q395 421 423 415Q424 415 424 415T425 414L426 410Q426 407 426 401T426 388Q430 335 430 272Q430 139 408 80Q407 78 340 22L273 -33Q200 23 165 23Q164 23 164 -32Q165 -89 168 -155V-170L93 -212L78 -203Q85 -48 87 16V47H79Q53 44 23 25ZM319 41Q346 94 349 212Q349 278 343 343V351L330 357Q318 363 270 381L255 387L245 383Q212 370 178 345L166 336V287Q165 260 165 166V94H175Q219 90 299 51L319 41ZM132 57L129 60Q130 58 132 57ZM158 29Q159 29 155 34T145 45T138 50Q155 29 158 29',
    0x1D52E: '399 19Q399 -123 407 -174V-179L332 -219L322 -210L312 -202L314 -185Q320 -83 323 54V95L311 85Q255 40 162 -19Q146 -29 145 -27Q140 -22 103 20L63 65V73Q61 83 61 115Q61 122 61 135T60 154Q60 263 79 353L83 368L94 375Q123 391 147 405T186 429T212 446T229 458T238 466T243 470T247 471L260 464Q274 457 295 448T330 434L341 432L410 479L412 478Q414 476 416 475T419 473L417 461Q399 358 399 19ZM316 367Q287 370 252 377T196 391L176 397H175Q173 397 166 382T149 314T139 187V158Q139 138 141 132T155 114Q158 111 160 109Q210 58 211 58L218 62Q226 67 240 75T266 91L319 124V196Q319 334 325 361V367H316',
    0x1D52F: '357 398Q364 398 375 403L386 408Q386 404 387 400V393L369 377Q361 370 350 360T336 347T327 340T316 336T303 335Q270 335 234 371L224 379Q220 375 214 370T198 355L182 340V243Q182 164 183 152T189 129Q195 117 211 100T239 72T254 60T298 81Q342 101 343 101Q344 100 345 92T346 82L200 -21Q174 -5 117 55L97 75L99 92Q106 147 106 196Q106 216 104 282T97 355Q95 359 95 361Q95 364 77 378L65 387L48 380Q30 372 29 372Q28 371 23 375T17 380Q17 384 50 415T107 467L115 474L128 461Q171 421 182 414V382L235 425Q247 435 261 446T283 462L290 468L295 460Q335 398 357 398',
    0x1D530: '272 33Q284 33 290 70T296 138Q296 181 290 198T262 230Q257 232 246 232Q231 232 218 227T156 194L108 167L101 176Q90 192 75 219L69 230V284Q69 346 70 357V377L146 427Q181 450 202 464T223 477L225 476Q227 475 229 474Q231 472 242 466T270 450T296 431Q309 418 326 418Q342 418 361 429T392 450T403 459Q406 445 406 442Q406 440 384 421T338 382L316 363Q315 362 310 362Q292 362 251 371T173 396Q156 403 155 403Q143 386 143 342Q143 305 150 278T168 244Q171 242 181 242L190 243L315 300Q330 295 357 274Q358 273 362 270T366 266T369 261T372 253T373 239T374 217T374 185Q374 157 372 133T368 98T363 71T358 50L336 40Q288 20 255 2T211 -22T198 -29L190 -22Q181 -14 168 -3T138 19T104 38T70 46Q50 46 32 37T3 20T-9 11L-18 23L-1 41Q46 89 62 99T112 110Q141 110 157 103T225 62Q268 33 272 33',
    0x1D531: '228 640L242 627L227 613Q213 599 211 593T203 553Q197 500 196 435V389H301L272 353H195V274Q195 178 196 159L197 123Q249 71 273 68H280L312 83Q344 99 345 99Q348 99 348 78Q348 76 314 52T246 4L212 -20Q211 -20 164 19T112 62Q112 122 113 196Q113 228 113 262T114 318T114 341V353H27L62 389H116L117 431V558L228 640',
    0x1D532: '171 315Q171 252 165 199T153 124L147 103Q147 102 196 80L244 57L335 107V116Q339 161 339 268Q339 315 338 351T337 412V424L420 468Q424 465 427 461L424 435Q412 331 412 226Q412 170 415 145T434 96Q442 84 452 83Q461 83 492 96L506 102Q507 102 510 96T513 88L493 71Q445 32 401 -9Q392 -18 388 -17L384 -16Q358 39 355 44Q336 77 333 77Q261 45 203 -9Q186 -23 181 -23Q177 -23 162 -11T121 18T69 44L57 48L61 54Q65 60 71 73T82 102Q100 156 100 262Q100 305 93 335T80 373T62 396L23 376Q18 377 9 386L119 474Q149 437 171 421V339V315',
    0x1D533: '55 418Q55 443 100 503Q121 530 123 530Q125 528 127 528T131 528T134 528T135 524T131 516Q123 499 123 486Q123 457 159 416L169 405L170 388L171 372Q171 371 244 424L317 477L334 466Q394 428 432 416L433 402Q433 400 433 377T434 336V305Q434 195 420 131Q413 94 406 87Q403 84 298 29L192 -28L172 -8Q139 25 106 52L92 64V70Q95 97 95 198Q95 293 94 318L92 355L84 367Q55 406 55 418ZM174 306Q174 297 173 255T171 184Q171 153 175 136T198 100Q207 94 224 80T255 57T282 49Q304 49 328 80Q359 129 359 243Q359 284 352 345Q351 358 348 360Q333 373 304 384T265 396L251 390Q215 372 186 351L175 344V337Q175 319 174 306',
    0x1D534: '45 425Q45 439 82 485T126 532Q127 532 128 532T131 531T137 529L132 519Q121 499 121 483Q121 473 131 454T156 419L167 408L169 376L185 388Q237 425 291 473L301 466Q337 443 394 416L419 405L418 387V369Q419 369 487 418T560 471L581 459Q597 450 621 437T664 415T684 406Q688 406 688 323Q688 254 679 193T662 103T648 71Q647 70 554 20L464 -28L443 -15Q416 1 386 17T343 40T331 49Q331 52 333 73T337 133T339 216Q339 309 334 339Q333 341 316 353T277 377T246 389Q235 389 201 369T166 346Q166 345 164 247Q164 232 164 210T163 179Q163 139 170 116T205 57L212 48L136 -27Q115 16 87 44L78 53L80 67Q88 124 88 211Q88 282 87 315T83 356T74 371Q45 410 45 425ZM591 352Q580 359 565 365T540 374T517 381T504 385L418 342L417 318V220Q417 212 417 194T417 170T418 152T420 134T424 120T431 106T440 95T454 83Q508 44 544 44Q566 44 583 77Q603 120 605 235Q605 289 600 322Q598 343 597 345T591 352',
    0x1D535: '14 377Q63 428 117 472Q130 462 144 449L193 408V392V376L247 420Q300 464 301 464L310 451Q331 417 363 390L333 365Q303 340 301 340Q293 343 277 364T250 386Q241 386 215 361L195 341Q194 333 193 327T191 318T190 304T188 269Q188 220 192 148Q193 122 195 118T210 101Q255 60 271 60Q276 60 278 61L318 82Q327 86 336 91T351 98L356 101Q359 82 356 79Q354 77 283 27T210 -24L192 -7Q160 23 137 40L126 49L116 40Q66 -13 66 -54Q66 -117 167 -140L179 -142V-147L180 -152L123 -188L112 -185Q58 -170 31 -145Q10 -122 10 -96Q10 -80 22 -53Q44 -10 95 49Q97 51 100 54T104 59T107 64T109 71T111 81T112 97T113 119T114 149T114 188Q114 284 108 347V354L96 365Q76 385 67 385Q62 385 45 377L27 368L14 377',
    0x1D536: '74 58Q89 124 89 241Q89 265 89 278T89 305T88 324T87 336T84 346T81 352T77 359T71 368Q57 388 52 398L45 409Q62 454 98 507L113 528Q128 528 128 524Q128 523 125 518T120 503T117 483V471Q123 456 130 445Q135 438 140 432T148 422T153 415T157 409T160 405T162 402T163 399T163 395V384V365Q165 365 237 419L311 473Q383 430 420 416Q426 414 426 411V404Q426 398 426 388T427 367Q431 233 431 201Q431 -3 391 -52Q387 -58 305 -138T221 -218L218 -217Q216 -216 211 -214T202 -210L184 -202L199 -194Q259 -162 288 -127T334 -19T350 184Q350 257 342 328L340 356Q282 390 262 390Q248 390 178 346L163 336V111L216 45L131 -26L124 -15Q114 3 85 44L74 58',
    0x1D537: '47 335L36 347L52 362Q112 421 167 461L181 471L192 465Q236 444 260 417T284 369Q284 355 276 343T233 291Q195 246 195 245T205 242T241 228T300 198L302 187Q314 138 314 74Q314 -24 291 -95Q290 -100 222 -157L154 -214H145Q102 -214 53 -189T-7 -117Q41 -21 183 122L207 147Q205 149 186 157T140 172T100 180H97V192L140 231Q192 280 199 293Q205 303 205 315Q205 339 185 363T137 388Q119 388 63 347L47 335ZM179 -153Q212 -153 226 -113T240 14Q240 67 233 98T223 132T211 143L222 130Q216 125 206 116T170 82T124 33T88 -20T72 -70Q72 -99 105 -126T179 -153',
    0x1D538: '130 -1H63Q34 -1 26 2T17 17Q17 24 22 29T35 35Q49 35 64 44T88 66Q101 93 210 383Q331 693 335 697T346 701T357 697Q358 696 493 399Q621 104 633 83Q656 35 686 35Q693 35 698 30T703 17Q703 5 693 2T643 -1H541Q388 -1 386 1Q378 6 378 16Q378 24 383 29T397 35Q412 35 434 45T456 65Q456 93 428 170L419 197H197L195 179Q184 134 184 97Q184 82 186 71T190 55T198 45T205 39T214 36L219 35Q241 31 241 17Q241 5 233 2T196 -1H130ZM493 68Q493 51 481 35H619Q604 56 515 256Q486 321 468 361L348 637Q347 637 330 592T313 543Q313 538 358 436T448 219T493 68ZM404 235Q404 239 355 355T295 488L275 430Q241 348 208 232H306Q404 232 404 235ZM155 48Q151 55 148 88V117L135 86Q118 47 117 46L110 37L135 35H159Q157 41 155 48',
    0x1D539: '11 665Q11 672 22 683H213Q407 681 431 677Q582 649 582 515Q582 488 573 468Q554 413 484 372L474 366H475Q620 317 620 178Q620 115 568 69T420 6Q393 1 207 -1H22Q11 10 11 18Q11 35 51 35Q79 37 88 39T102 52Q107 70 107 341T102 630Q97 640 88 643T51 648H46Q11 648 11 665ZM142 341Q142 129 141 88T134 37Q133 36 133 35H240L233 48L229 61V623L233 635L240 648H133L138 639Q142 621 142 341ZM284 370Q365 378 391 411T417 508Q417 551 406 581T378 624T347 643T320 648Q298 648 278 635Q267 628 266 611T264 492V370H284ZM546 515Q546 551 531 577T494 617T454 635T422 641L411 643L420 630Q439 604 445 579T452 510V504Q452 481 451 467T441 430T415 383Q420 383 439 391T483 413T527 455T546 515ZM585 185Q585 221 570 249T534 294T490 320T453 334T436 337L435 336L440 330Q445 325 452 315T467 288T479 246T484 188Q484 145 474 110T454 62T442 48Q442 47 444 47Q450 47 470 54T517 75T564 119T585 185ZM449 184Q449 316 358 332Q355 332 335 333T302 335H264V199Q266 68 270 57Q275 50 289 43Q300 37 324 37Q449 37 449 184',
    0x1D53B: '16 666Q16 675 28 683H193Q329 683 364 682T430 672Q534 650 600 585T686 423Q688 406 688 352Q688 274 673 226Q641 130 565 72T381 1Q368 -1 195 -1H28Q16 5 16 16Q16 35 53 35Q68 36 75 37T87 42T95 52Q98 61 98 341T95 630Q91 640 83 643T53 648Q16 648 16 666ZM237 646Q237 648 184 648H128Q128 647 133 632Q136 620 136 341Q136 64 133 50L128 35H237L230 48L226 61V343Q228 620 231 633Q232 636 237 646ZM264 61Q278 40 310 35Q363 35 401 55T461 112T496 193T513 295Q515 333 515 349Q515 411 504 459Q481 598 373 641Q351 648 321 648Q304 648 292 643T277 635T264 621V61ZM461 628Q462 627 471 616T489 594T509 559T529 509T544 441T550 352Q550 165 479 75L468 59Q474 61 484 65T522 87T573 128T618 195T650 290Q654 322 654 354Q654 418 638 464T581 552Q559 576 529 595T480 621L461 628',
    0x1D53C: '12 666Q12 675 24 683H582Q590 680 593 672V588Q593 514 591 502T575 490Q567 490 563 495T555 517Q552 556 517 590Q486 623 445 634T340 648H282Q266 636 264 620T260 492V370H277Q329 375 358 391T404 439Q420 480 420 506Q420 529 436 529Q445 529 451 521Q455 517 455 361Q455 333 455 298T456 253Q456 217 453 207T437 197Q420 196 420 217Q420 240 406 270Q377 328 284 335H260V201Q261 174 261 134Q262 73 264 61T278 38Q281 36 282 35H331Q400 35 449 50Q571 93 602 179Q605 203 622 203Q629 203 634 197T640 183Q638 181 624 95T604 3L600 -1H24Q12 5 12 16Q12 35 51 35Q92 38 97 52Q102 60 102 341T97 632Q91 645 51 648Q12 648 12 666ZM137 341Q137 131 136 89T130 37Q129 36 129 35H235Q233 41 231 48L226 61V623L231 635L235 648H129Q132 641 133 638T135 603T137 517T137 341ZM557 603V648H504Q504 646 515 639Q527 634 542 619L557 603ZM420 317V397L406 383Q394 370 380 363L366 355Q373 350 382 346Q400 333 409 328L420 317ZM582 61L586 88Q585 88 582 83Q557 61 526 46L511 37L542 35H577Q577 36 578 39T580 49T582 61',
    0x1D53D: '584 499Q569 490 566 490Q558 490 552 497T546 515Q546 535 533 559Q526 574 506 593T469 621Q415 648 326 648Q293 648 287 647T275 641Q264 630 263 617Q262 609 260 492V370L275 372Q323 376 350 392T393 441Q409 473 409 506Q409 529 427 529Q437 529 442 519Q444 511 444 362Q444 212 442 206Q436 197 426 197Q409 197 409 217Q409 265 375 299Q346 328 280 335H260V206Q260 70 262 63Q265 46 276 41T326 35Q362 35 366 28Q377 17 366 3L360 -1H24Q12 5 12 16Q12 35 51 35Q92 38 97 52Q102 60 102 341T97 632Q91 645 51 648Q12 648 12 666Q12 675 24 683H573Q576 678 584 670V499ZM137 341Q137 131 136 89T130 37Q129 36 129 35H182Q233 35 233 39Q226 54 225 92T224 346L226 623L231 635L235 648H129Q132 641 133 638T135 603T137 517T137 341ZM549 603V648H495L506 641Q531 621 533 619L549 603ZM409 317V395L400 386Q390 376 375 366L357 355L373 346Q394 331 397 328L409 317',
    0x1D53E: '737 285Q749 277 749 268Q749 260 744 255T730 250Q695 250 677 217Q666 195 666 119Q666 52 664 50Q656 36 555 3Q483 -16 415 -19Q364 -19 348 -17Q226 -3 146 70T44 261Q39 283 39 341T44 421Q66 538 143 611T341 699Q344 699 364 700T395 701Q449 698 503 677T585 655Q603 655 611 662T620 678T625 694T639 702Q650 702 657 690V481L653 474Q640 467 628 472Q624 476 618 496T595 541Q562 587 507 625T390 663H381Q337 663 299 625Q213 547 213 337Q213 75 341 23Q357 19 397 19Q440 19 462 22T492 30T513 45V119Q513 184 506 203Q491 237 435 250Q421 250 415 257Q404 267 415 281L421 285H737ZM250 43Q250 45 243 55T225 87T203 139T185 224T177 343V361Q184 533 250 625Q264 643 261 643Q238 635 214 620T161 579T110 510T79 414Q74 384 74 341T79 268Q106 117 230 52L250 43ZM621 565V625Q617 623 613 623Q603 619 590 619H575L588 605Q608 583 610 579L621 565ZM655 250H517L524 241Q548 213 548 149V114V39Q549 39 562 44T592 55T615 63L630 70V134Q632 190 634 204T648 237Q655 245 655 250',
    0x1D540: '20 666Q20 676 31 683H358Q369 676 369 666Q369 648 331 648Q288 645 282 632Q278 626 278 341Q278 57 282 50Q286 42 295 40T331 35Q369 35 369 16Q369 6 358 -1H31Q20 4 20 16Q20 35 58 35Q84 37 93 39T107 50Q113 60 113 341Q113 623 107 632Q101 645 58 648Q20 648 20 666ZM249 35Q246 40 246 41T244 54T242 83T242 139V341Q242 632 244 639L249 648H140Q146 634 147 596T149 341Q149 124 148 86T140 35H249',
    0x1D541: '79 103Q108 103 129 83T151 38Q151 9 130 -15Q116 -34 130 -37Q133 -39 157 -39Q208 -39 219 -8L226 3V305Q226 612 224 621Q220 636 211 641T166 647Q137 647 128 654Q119 665 128 679L135 683H466Q478 677 478 666Q478 647 439 647Q399 644 393 632Q388 620 388 347Q386 69 384 59Q364 -6 316 -39T184 -77H172Q102 -77 56 -48T6 30Q6 62 26 82T79 103ZM353 354Q353 556 354 596T361 645Q362 646 362 647H253Q257 639 258 628T261 547T262 312V-4L255 -17Q248 -29 250 -29Q253 -29 258 -28T277 -20T302 -5T327 22T348 65Q350 74 353 354ZM115 36Q115 47 105 57T79 67Q73 67 67 66T52 56T44 34Q44 9 62 -8Q66 -11 71 -15T81 -22T86 -24L90 -13Q100 3 102 5Q115 22 115 36',
    0x1D542: '22 666Q22 676 33 683H351L358 679Q368 665 358 655Q351 648 324 648Q288 645 280 637Q275 631 274 605T273 477L275 343L382 446Q473 530 492 553T512 599Q512 617 502 631T475 648Q455 651 455 666Q455 677 465 680T510 683H593H720Q732 676 732 666Q732 659 727 654T713 648Q670 648 589 581Q567 562 490 489T413 415Q413 413 554 245T711 61Q737 35 751 35Q758 35 763 29T768 15Q768 6 758 -1H624Q491 -1 486 3Q480 10 480 17Q480 25 487 30T506 35Q518 36 520 38T520 48L400 195L302 310L286 297L273 283V170Q275 65 277 57Q280 41 300 38Q302 37 324 35Q349 35 358 28Q367 17 358 3L351 -1H33Q22 4 22 16Q22 35 60 35Q101 38 106 52Q111 60 111 341T106 632Q100 645 60 648Q22 648 22 666ZM240 341V553Q240 635 246 648H138Q141 641 142 638T144 603T146 517T146 341Q146 131 145 89T139 37Q138 36 138 35H246Q240 47 240 129V341ZM595 632L615 648H535L542 637Q542 636 544 625T549 610V595L562 606Q565 608 577 618T595 632ZM524 226L386 388Q386 389 378 382T358 361Q330 338 330 333Q330 332 330 332L331 330L533 90Q558 55 558 41V35H684L671 50Q667 54 524 226',
    0x1D543: '12 666Q12 675 24 683H333L340 679Q350 665 340 655Q333 648 309 648Q287 646 279 643T266 630Q264 623 264 346Q264 68 266 57Q274 40 284 35H340Q413 37 460 55Q514 78 553 117T602 197Q605 221 622 221Q629 221 634 215T640 201Q638 194 625 105T611 12Q611 6 600 -1H24Q12 5 12 16Q12 35 51 35Q92 38 97 52Q102 60 102 341T97 632Q91 645 51 648Q12 648 12 666ZM137 341Q137 131 136 89T130 37Q129 36 129 35H237Q235 41 233 48L229 61L226 339Q226 621 229 628Q230 630 231 636T233 643V648H129Q132 641 133 638T135 603T137 517T137 341ZM580 48Q580 59 583 74T586 97Q586 98 585 97T579 92T571 86Q549 64 513 43L500 35H577L580 48',
    0x1D544: '18 666Q18 677 27 680T73 683H146Q261 683 266 679L465 215Q469 215 566 443Q663 676 668 681Q673 683 790 683H908L915 679Q924 664 915 655Q912 648 897 648Q851 639 835 606L833 346Q833 86 835 79Q838 69 849 58T873 41Q877 40 887 38T901 35Q926 35 926 16Q926 6 915 -1H604L597 3Q588 19 597 28Q600 35 615 35Q660 42 673 68L679 79V339Q679 409 679 443T679 520T679 580T677 597Q646 521 584 375T473 117T424 3Q416 -1 410 -1T401 1Q399 3 273 301L148 599L146 343Q146 86 148 79Q152 69 163 58T186 41Q190 40 200 38T215 35Q226 35 235 28Q244 17 235 3L228 -1H28Q17 4 17 17Q17 35 39 35Q84 42 97 68L104 79V639L88 641Q72 644 53 648Q34 648 26 651T18 666ZM457 166Q451 169 449 171T435 198T404 268T344 412L244 648H157L166 637Q169 633 293 346L413 66Q424 88 435 117L457 166ZM817 646Q817 648 766 648H715V72L708 57Q701 45 697 41L695 37Q695 35 757 35H819L813 46Q802 61 800 76Q797 105 797 346L799 612L804 626Q812 638 815 641L817 646ZM124 42Q119 42 119 38Q119 35 128 35Q132 35 132 36Q125 42 124 42',
    0x1D546: '131 601Q180 652 249 676T387 701Q485 701 562 661Q628 629 671 575T731 448Q742 410 742 341T731 234Q707 140 646 81Q549 -19 389 -19Q228 -19 131 81Q57 155 37 274Q34 292 34 341Q34 392 37 410Q58 528 131 601ZM568 341Q568 613 437 659Q406 664 395 665Q329 665 286 625Q232 571 213 439Q210 408 210 341Q210 275 213 245Q232 111 286 57Q309 37 342 23Q357 19 389 19Q420 19 437 23Q469 38 491 57Q568 132 568 341ZM174 341Q174 403 177 441T197 535T249 639Q246 639 224 627T193 608Q189 606 183 601T169 589T155 577Q69 488 69 344Q69 133 231 52Q244 45 246 45Q248 45 246 48Q231 69 222 85T200 141T177 239Q174 269 174 341ZM708 341Q708 415 684 475T635 563T582 610Q578 612 565 619T546 630Q533 637 531 637Q530 637 530 636V635L531 634Q562 591 577 543Q602 471 602 341V316Q602 264 599 230T580 144T531 48L530 47V46Q530 45 531 45Q533 45 547 52T583 75T622 105Q708 195 708 341',
    0x1D54A: '54 238Q72 238 72 212Q72 174 106 121Q113 110 132 90T166 59Q221 23 264 23Q315 23 348 41Q368 50 384 79Q393 102 393 129Q393 181 356 219T221 299Q120 343 74 390T28 501Q28 561 55 610Q98 682 212 699Q214 699 231 700T261 701Q309 698 340 687T408 675Q431 678 445 690T465 702Q474 702 481 690V497L477 490Q464 481 450 490Q446 500 446 501Q446 546 386 606T260 666Q215 666 182 639T148 565Q148 528 186 496T319 428Q352 414 370 405T418 379T468 338T506 284Q528 239 528 191Q528 102 456 46T266 -10Q211 -10 176 2T110 15Q86 9 73 -1T53 -12Q44 -12 37 -1V112V182Q37 214 40 226T54 238ZM446 619Q446 648 444 648Q439 646 435 644Q425 644 415 639H404L417 624Q435 606 439 601L446 592V619ZM124 619L128 635Q126 635 108 617Q64 576 64 502Q64 489 65 479T76 449T102 414T150 376T228 335Q335 291 381 245T427 128Q427 94 419 75L415 61Q421 61 448 88Q490 127 490 190Q490 233 475 264Q456 299 430 321Q402 349 369 367T287 404T204 441Q138 481 119 526Q113 544 113 565Q113 596 124 619ZM75 43Q76 43 90 46T110 50H119L106 64L74 101Q72 101 72 72T75 43',
    0x1D54B: '33 672Q36 680 44 683H624Q632 680 635 672V490L631 483Q621 479 617 479Q611 479 606 485T600 499Q600 525 584 552Q577 567 558 588T524 617Q479 642 426 646L415 648V355Q415 62 422 52Q425 42 434 40T473 35Q500 35 509 28Q518 17 509 3L502 -1H166L160 3Q149 17 160 28Q167 35 195 35Q224 37 234 39T249 52Q253 66 253 355V648L242 646Q192 642 144 617Q129 609 110 588T84 552Q69 527 69 499Q69 490 64 484T50 478Q39 478 33 490V672ZM113 639L126 648H69V597L84 612Q93 623 113 639ZM389 35Q382 46 381 86Q380 134 380 350V648H289V350Q289 199 288 131T286 53T280 35H389ZM600 597V648H542L555 639Q575 623 584 612L600 597',
    0x1D54C: '16 666Q16 677 28 683H341L348 679Q359 665 348 654Q342 648 315 648Q270 644 266 632Q262 627 262 598T261 399Q261 372 261 325T260 260Q260 149 274 99T339 30Q355 25 393 25Q430 25 457 33T494 49T519 72Q562 115 575 205Q576 219 576 379Q576 538 575 550Q568 597 550 622T506 648Q498 648 493 654T487 667T499 683H697Q709 675 709 667T704 654T690 648Q653 648 633 597Q624 573 622 546T619 377Q617 193 613 174Q596 95 544 41Q477 -19 355 -19H344Q275 -16 226 5T153 57T120 110T106 154Q101 172 99 399Q99 618 95 632Q88 644 53 648Q16 648 16 666ZM228 639L233 648H128Q128 647 133 632Q135 621 135 412Q135 197 137 185Q148 115 181 79Q209 51 235 41Q242 36 258 31T277 25Q276 27 268 38T254 59T241 92T228 145Q226 161 226 399Q226 632 228 639ZM604 621Q606 626 619 648H577L586 634Q587 632 591 625T595 614L597 608L604 621',
    0x1D54D: '316 683Q327 676 327 666Q327 648 302 648Q272 642 258 628Q249 621 249 608Q252 589 263 556T289 485T322 406T357 325T388 256T411 205L420 185Q423 185 473 317Q547 497 547 590Q547 621 541 632T516 648Q501 648 498 654Q488 664 498 679L504 683H607H660Q695 683 707 680T719 667Q719 660 714 654T700 648Q678 648 658 628L642 614L513 301Q484 231 449 148T397 25T380 -15Q373 -20 368 -20Q361 -20 358 -15Q354 -13 287 135T149 438T67 610Q45 648 18 648Q11 648 6 653T0 666Q0 677 9 680T59 683H164H316ZM216 614Q216 620 216 622T216 628T216 633T217 635T218 638T219 640T221 644T224 648H84L96 632Q118 592 236 330L367 43L387 88L404 132L380 185Q250 468 222 568Q216 590 216 614ZM576 645Q584 628 584 597L587 568L598 597Q609 624 618 637L624 648H600Q576 648 576 645',
    0x1D54E: '785 664Q785 670 795 683H982Q994 675 994 665Q994 650 975 648Q953 643 939 619Q931 593 823 292T710 -15Q706 -19 699 -19T688 -15Q682 -6 639 107T555 328T513 437Q513 438 500 409T462 325T413 212Q315 -14 310 -17Q308 -19 302 -19T288 -15L57 619Q45 643 24 648Q5 650 5 665Q5 677 17 683H146H200Q256 683 270 681T285 666Q285 659 280 654T268 648Q253 648 239 634Q230 630 230 619Q230 598 264 481L362 192Q363 193 428 341T493 492Q493 496 473 546T446 608Q426 648 399 648Q392 648 387 653T382 667Q382 678 393 683H679Q690 670 690 665Q690 662 685 655T673 648Q653 648 633 632L622 625V610Q626 576 657 479T719 300T751 218Q754 218 779 294Q847 492 847 581Q847 648 802 648Q796 648 791 652T785 664ZM194 623Q194 630 199 648H82L90 632Q99 616 199 332L302 50Q303 50 322 94T342 141Q342 142 305 245T231 467T194 623ZM585 620Q585 634 593 648H530Q466 648 466 645Q479 632 595 323L699 54Q701 56 718 103T735 154L702 245Q585 562 585 620ZM884 572L890 587Q896 602 903 620T915 645Q915 648 893 648H868L875 634Q883 598 883 576Q883 572 884 572',
    0x1D54F: '22 666Q22 677 31 680T80 683H184H335Q346 675 346 667Q346 660 341 655Q335 648 315 648Q280 644 273 637Q273 630 300 583T356 492T386 448Q430 504 450 535T474 577T478 601Q478 620 469 634T444 648Q428 648 428 666Q428 678 436 680T488 683H559H630Q673 683 681 681T690 666Q690 648 673 648Q652 648 619 637Q571 615 517 550Q490 517 450 464T410 408Q415 399 501 273T617 106Q648 61 661 48T688 35Q705 35 705 16Q705 5 695 -1H539Q384 -1 379 3Q373 10 373 17Q373 27 380 31T408 35Q459 40 459 49Q459 59 418 129T335 259Q334 260 332 260Q328 260 273 197Q210 127 208 117Q199 104 199 82Q199 57 213 46T239 35Q247 35 252 29T257 15Q257 10 256 7T253 3T248 0L246 -1H28Q16 7 16 15T21 29T35 35Q61 35 117 88Q289 279 304 297Q307 303 255 377Q117 586 79 626Q60 648 39 648Q32 648 27 653T22 666ZM237 639V648H173Q113 647 113 646Q113 642 137 612Q186 546 302 373T453 139Q497 63 497 43Q497 39 495 35H559Q622 35 622 37Q622 38 583 94T486 233T373 399T277 552T237 639ZM553 637L566 648H504L508 637Q510 630 515 615V603L528 615Q529 616 539 625T553 637ZM170 46Q169 49 167 58T164 70V83L137 59L113 35H175Q175 38 170 46',
    0x1D550: '16 659T16 667T28 683H295Q306 676 306 666Q306 648 284 648Q258 648 255 641Q255 634 265 615T339 479Q418 339 421 339L455 394Q489 448 523 502L557 557Q560 566 560 582Q560 637 504 648Q489 648 486 655Q475 664 486 679L493 683H693Q704 675 704 667Q704 650 684 648Q672 645 653 623Q633 604 614 576T517 426L439 301V183Q442 62 444 59Q449 35 504 35Q521 35 528 30Q538 16 528 3L521 -1H195L188 3Q178 16 188 30Q195 35 213 35Q266 35 273 59Q274 61 277 163V261L75 621Q64 638 58 643T37 648Q28 648 22 653ZM219 637V648H101Q110 634 215 446L313 270V166Q310 59 306 48L301 35H415L410 48Q404 65 404 175V290L317 443Q230 601 226 612Q219 625 219 637ZM608 630L624 648H575Q584 632 588 623L595 610L608 630',
    0x1D56C: '821 97Q822 97 824 88T827 77L793 53Q676 -25 670 -28Q669 -29 656 -27L583 123Q583 124 467 46L352 -31L341 -20Q305 18 264 47T192 77Q161 77 60 32L49 40Q37 47 38 49Q39 49 93 83T212 160T297 219Q411 312 411 452Q411 519 360 571T233 624Q180 624 157 601T133 548Q133 524 160 496T214 441T241 393Q241 356 199 321T100 256L86 249L77 256Q68 263 67 263L84 274Q101 286 118 304T135 339T109 384T56 446T29 504Q29 566 118 624Q207 686 309 686Q349 686 360 685Q405 678 439 661T491 625T520 583T534 543T537 511Q537 436 491 344L478 318L455 299Q420 272 308 179L284 160L294 158Q348 154 426 89L437 79Q513 110 579 153V175Q579 183 579 227T580 330T581 446T582 542L583 582L664 630Q681 640 703 653T734 673L744 679Q750 678 756 676L767 674L716 623V585Q716 568 712 463T708 289V250Q708 237 709 218T710 195L711 180L739 130Q768 79 771 79Q775 79 796 88T821 97',
    0x1D56D: '160 345Q160 357 144 376T109 413T73 458T57 509Q57 544 95 584Q142 631 205 657T331 684Q382 684 427 658T500 585L505 577L521 588Q537 599 562 614T616 646T679 673T738 684Q790 684 807 666T840 587Q850 552 863 532T888 508Q894 505 906 505Q917 505 930 507T953 512T963 514L964 504Q965 495 965 494T914 467T808 413T745 384H751Q782 380 802 377T854 362T904 334T937 287T951 217Q951 178 937 143T908 91Q903 86 820 34L734 -21L718 -24Q679 -31 639 -31Q561 -31 451 4T271 40Q190 40 119 -2L99 -13L91 1L84 15L86 16Q88 18 132 42T233 100T315 152Q377 199 386 233Q388 240 393 297T399 363Q399 487 353 551Q337 573 306 597T238 622Q201 622 179 602T157 557T214 476T272 396Q272 371 229 334T143 272T96 246Q95 246 85 252T74 259T95 273T138 306T160 345ZM529 443Q529 409 528 385T526 353L525 346Q526 346 649 390T773 435Q749 451 742 464T727 518Q727 519 725 532T721 548T717 562T712 577T706 589T698 601T688 608T675 614T658 616Q626 616 576 582T525 528Q525 527 526 518T528 489T529 443ZM772 57Q774 57 778 58T792 64T808 77T821 103T827 144Q827 222 784 266T660 322Q652 323 611 323H596Q577 323 535 316L523 314Q520 291 505 255L500 241L356 138L366 137Q443 131 518 110T650 72T748 54Q763 54 772 57',
    0x1D56E: '460 -32Q373 -32 305 -11T193 45T122 124T83 214T72 303Q72 395 114 476L119 486L313 592L338 568L359 580Q418 615 479 638T568 668T606 675Q607 675 608 676H610Q612 676 615 661T630 621T660 578Q673 568 694 568Q717 568 721 570H726Q724 565 722 559L717 549L706 545Q608 513 583 513Q568 517 559 522T533 546T493 603L490 609Q452 599 452 558Q452 537 469 481T486 393Q486 353 474 331T422 285T296 231L272 223L262 230L253 237Q279 246 314 274T351 338Q351 376 334 442T316 532Q316 546 319 552Q319 554 316 554Q304 554 288 547T250 523T214 466T199 371Q199 218 299 133T541 47Q571 47 585 51T652 81L712 108Q716 104 716 81L706 74Q695 68 673 54T633 29L550 -22L540 -24Q492 -32 460 -32',
    0x1D56F: '380 596Q307 596 250 582T158 546T100 493T67 433T56 373V361Q55 361 43 366L31 372V384Q31 455 69 523T173 627Q213 650 284 666T444 683H452Q629 683 735 629Q896 548 896 369Q896 263 839 163Q835 155 818 140Q746 82 662 27T563 -29Q525 -29 386 16T183 62Q147 62 127 52T63 1L48 -14L40 -4L31 5Q83 73 172 149L186 161H199Q291 161 329 181Q357 199 357 231Q357 258 301 316T245 396Q245 423 282 458T349 512T403 543L413 548L425 545L438 541Q373 491 373 462Q373 446 399 415T453 349T480 288Q480 251 433 212Q394 180 348 156L334 148L353 145Q408 134 513 105T654 76Q711 76 745 132T780 277Q780 434 676 517Q637 549 562 572T380 596',
    0x1D570: '527 55Q574 55 619 69T691 97L717 111V85L562 -18Q520 -29 443 -29Q379 -29 325 -15T235 21T180 61T146 98Q74 186 74 307Q74 395 109 472Q113 482 123 489T190 533Q251 568 295 591L308 598L350 580L361 586Q403 612 464 636T564 673T609 686Q610 686 610 685Q612 683 616 670T627 636T646 601Q666 572 686 572H692Q713 572 726 576H728L725 565L723 554L692 544Q660 535 629 526T595 516Q585 514 574 519Q563 527 543 552T507 597T490 617Q467 604 456 579V564Q456 535 473 471T492 393L494 381L613 460L622 446Q630 433 650 411T696 371L703 365L614 312H596L580 322Q568 329 553 340T528 355T510 360Q496 358 491 354T484 345T471 326T435 297Q408 278 370 261T307 235T277 227Q273 227 266 234L256 240L267 245Q280 251 294 258T330 288T353 336Q353 373 335 444T316 530V537Q316 549 322 567Q270 554 233 499T196 370Q196 253 287 157Q392 55 527 55',
    0x1D571: '424 522Q265 596 208 596Q193 596 180 593T150 579T116 542T89 474Q86 465 86 463L59 481L63 494Q87 578 137 627Q191 684 285 684Q334 684 406 658T538 607T621 581Q644 581 706 629L721 640Q722 640 725 630L727 620Q701 592 654 548T582 486L569 487Q533 490 485 504L468 508Q449 503 429 495T387 466T365 422Q365 373 439 299L453 310Q473 325 528 370L588 418Q614 398 642 368T668 331Q667 331 628 296L590 262L582 274Q557 311 526 311Q511 311 487 297T462 278Q462 277 492 244T551 166T581 88Q581 54 570 25T536 -27T505 -56T478 -76Q376 -146 274 -146H270Q199 -146 162 -118T124 -15Q124 12 128 30T132 96V107Q132 144 117 157Q102 169 85 169Q74 169 59 165T32 156T20 151Q20 152 19 158T17 167Q17 168 17 168T17 169T19 170T22 172T27 175T35 179Q131 230 195 230Q231 230 259 202Q270 190 270 171Q269 150 253 87T236 -16Q236 -67 261 -87T322 -107Q380 -107 428 -68Q467 -35 467 30Q467 60 447 91T383 171T316 251Q290 286 278 308T263 339T261 359Q261 384 284 418Q322 469 424 522',
    0x1D572: '742 611Q784 611 812 631V611Q807 607 783 591T718 544T629 476L606 458Q608 458 628 457T667 453T713 443T762 423T804 388T836 335Q844 313 844 289Q844 231 814 182T746 103Q720 82 655 48T546 -18L520 -21Q456 -29 432 -29Q313 -29 223 33Q204 45 183 65T135 119T91 207T74 320Q74 428 109 480Q116 491 127 497T215 546L308 595L343 583L355 591Q387 613 433 636T488 660H489L491 659Q493 658 495 657T500 655L509 650L500 645Q479 635 460 612T441 552Q441 535 447 498T459 433T466 405L625 513L643 526Q620 530 585 546T535 586Q535 587 532 592T527 602T525 610Q525 613 577 649L630 687Q632 687 638 675T653 649T686 623T742 611ZM349 313Q349 328 327 413T305 510V516Q305 531 308 542T314 559T317 566T315 567Q297 567 270 548Q233 524 212 490T191 392Q191 337 206 288T244 207T284 156T316 128Q410 51 535 51Q632 51 675 102T718 217Q718 269 690 314T599 375Q574 381 535 381Q501 381 477 377L466 376Q469 364 469 349Q469 314 457 295T408 258Q366 236 308 219L288 213L279 220L270 227Q284 232 294 236T309 243T320 252T326 260T331 270T336 281Q349 310 349 313',
    0x1D573: '288 139Q288 172 255 224T189 335T156 442Q156 495 242 579Q289 625 361 668Q364 671 368 673T376 678T380 681L384 683L392 676Q401 670 414 661T443 642T477 626T509 619Q543 619 618 668Q625 672 628 674T631 675Q632 673 633 663T633 651L564 595Q556 589 545 580T528 566T516 556T505 548T497 543T488 539T481 537T472 535T463 534T451 534H442Q385 534 304 581L291 589Q290 588 285 583T277 575T269 566T262 555T257 543T255 529V522Q255 507 260 487T276 446T293 409T311 376L321 359Q321 358 322 358T324 359T327 361T333 366Q386 409 481 460L503 472L543 471Q586 471 599 470Q692 459 714 430Q725 416 738 360T752 245Q752 184 742 127T725 51T703 -8Q700 -13 619 -64T518 -123Q508 -126 493 -126Q438 -126 398 -86L427 -52Q456 -17 457 -17Q460 -17 465 -16H473Q474 -21 481 -32T504 -56T539 -69Q572 -69 599 -34Q625 4 625 158Q625 264 609 311T532 378Q508 386 484 386Q455 386 419 372T360 345T337 330L346 313Q375 263 386 227Q389 215 389 202Q389 192 388 184T384 168T376 152T365 138T350 121T331 103T307 81T278 54L194 -24Q130 30 99 30Q85 30 64 20T31 1T16 -10Q15 -11 13 -7Q12 -6 11 -3Q8 4 6 8L32 35Q88 88 117 107T169 126Q177 126 182 125Q218 118 252 84L263 73Q288 113 288 139',
    0x1D574: '500 615Q523 615 550 628T595 655T614 668L623 654L607 642Q512 569 440 534L427 527L413 529Q384 535 340 547T265 565T209 572Q173 572 145 556T101 522T60 465Q58 460 54 460T41 468L32 477L37 487Q96 599 139 640Q187 681 247 681Q275 681 283 680Q313 674 398 645T500 615ZM418 170Q418 186 410 260T401 382Q403 418 403 424L405 433L415 444Q482 515 571 571L582 578Q591 573 607 568L597 560Q522 504 522 450Q522 427 533 357T545 241V228Q545 190 536 159T508 106T478 73T446 48Q343 -25 238 -25Q179 -25 118 15L107 22L79 5Q51 -12 51 -12L38 2L55 18Q106 67 175 122L192 136Q202 130 206 123Q223 91 252 61Q263 50 266 48T278 39T297 32T320 30Q357 30 389 68Q415 102 418 170',
    0x1D575: '65 510Q68 517 74 528T101 569T144 620T202 661T274 680Q308 680 389 628T503 576Q530 576 596 600Q615 607 616 607Q616 602 615 596V585Q605 581 576 568T531 548T485 531T418 509L400 503L358 522Q347 527 327 537T299 550T277 560T257 568T239 573T220 577T201 578H196Q181 578 169 575T135 554T88 502L83 496Q82 496 74 502T65 510ZM424 4Q424 50 395 151T365 313V320Q365 352 369 361T405 403Q431 432 465 462T521 508T547 525L549 524Q551 524 554 523T560 521L571 517L552 498Q515 461 499 430Q485 399 485 366Q485 326 512 231T539 84Q539 -14 460 -77T273 -141Q248 -141 234 -140T198 -131T160 -106T134 -59Q128 -40 124 -16T117 22T108 49T91 69T59 75T15 65L1 59Q-8 76 -7 77Q4 85 22 97T88 129T170 149Q218 149 234 125Q242 112 242 43V21Q242 -17 248 -41T274 -85T322 -105H325H330Q363 -105 396 -75Q424 -47 424 4',
    0x1D576: '234 109Q234 144 194 245T153 404Q153 445 180 490Q232 572 325 626T517 681H524Q612 681 661 658Q683 647 699 632T717 604Q717 600 708 545L699 490L690 489Q681 488 679 488Q675 488 669 504T640 546T577 592Q520 620 446 620Q415 620 386 614T327 594T280 553T262 487Q262 468 265 447T271 413T279 384T285 362L295 371Q320 396 352 421T439 474T538 502Q577 502 596 484T627 428Q642 386 651 373T677 360H682Q698 360 727 369L724 357Q724 354 724 351T722 346V344Q559 289 539 283Q582 272 589 271L615 265L637 189Q662 109 663 108Q668 97 682 84Q698 68 722 68H730H738Q762 68 799 91L803 80L806 70Q795 59 770 40T703 -3T631 -26Q598 -26 578 -8Q548 24 536 92Q524 154 509 183T477 218T428 224Q409 224 385 220T346 212L331 207Q330 205 330 201T331 189T332 178Q332 158 325 116L305 96Q269 60 240 38Q171 -21 123 -21Q72 -21 33 18L20 32L62 74Q96 107 102 112T116 118Q120 118 122 113T131 95T150 69Q171 48 190 48Q198 48 206 51T224 69T234 109ZM519 367Q497 432 450 432Q379 432 313 333L300 314L304 299Q306 294 309 280T315 260L321 235L542 313Q530 325 519 367',
    0x1D577: '277 226Q277 248 253 286T203 369T178 449Q178 490 212 533T284 607Q380 683 532 683Q610 683 639 660T668 583Q668 568 666 546T663 509Q663 478 683 460Q691 452 719 452L738 450Q732 437 729 437Q728 437 652 416T573 394Q554 394 541 409T527 444Q527 449 532 487T538 542Q536 584 501 606T418 628Q389 628 364 620T317 587T295 523Q295 478 333 401T372 276Q372 269 371 267Q371 264 318 206L264 149Q284 141 317 130T433 101T577 82Q619 82 652 95T701 127T728 164T742 196L744 209Q744 210 749 208T759 203T764 199T760 185T751 154T744 129Q714 42 680 13Q628 -28 566 -28Q490 -28 403 -5T249 42T153 66T106 53T70 15T47 -16Q46 -17 30 -5L39 13Q85 100 138 148L147 156L161 157Q218 165 246 179T277 226',
    0x1D578: '134 338Q134 357 81 417T27 504Q27 516 34 530Q55 568 110 615Q190 683 305 683H314Q445 683 495 580L501 569L512 577Q608 646 681 646Q759 646 801 585L808 576L816 583Q860 619 921 650T1041 682Q1063 682 1077 675T1096 660T1112 631T1132 596Q1160 555 1188 555Q1204 555 1228 564Q1230 565 1231 562Q1231 560 1232 554V547L1215 538Q1179 521 1114 475Q1112 474 1106 470T1099 464T1093 459T1088 452T1085 441T1082 425T1081 404T1079 376T1079 339Q1079 282 1084 236T1098 160T1117 112T1138 85T1159 77Q1166 77 1180 81T1207 90L1219 94Q1220 94 1221 86T1222 76L1045 -32Q1044 -32 1004 15L964 64V167Q965 334 970 372V378L994 402Q1032 440 1057 460Q1061 463 1066 467Q1070 469 1070 470T1068 471T1060 474T1050 481Q1040 488 1021 531T996 583Q979 609 947 609Q922 609 887 592T820 537L821 524Q825 484 825 448Q825 268 768 155L759 137L589 -28L579 -20Q533 17 507 17Q475 17 449 -7L436 -18L424 2L441 20Q446 25 456 36T471 52T484 65T497 79T509 90T522 99T534 106T548 112T561 115T576 117Q602 117 639 86Q648 81 648 81Q650 82 657 94T668 112Q711 202 711 373Q711 484 677 533T600 583Q592 583 583 581T569 577T554 568T542 560T528 549T516 539L519 523Q527 485 527 461Q527 444 522 407Q506 266 447 150L437 130L217 -25L208 -15Q165 28 126 28Q89 28 62 1Q47 -14 43 -14Q42 -14 36 -8L28 0L44 17Q96 73 120 92T166 117Q182 123 204 123Q239 123 284 78L295 67Q307 72 337 102Q400 178 400 346Q400 508 325 571Q270 618 208 618Q180 618 168 614T140 594Q124 578 124 564Q124 540 182 480T240 396Q240 359 197 321Q154 285 94 252L80 245L76 248L67 257L61 262L71 268Q82 275 94 284T120 309T134 338',
    0x1D579: '522 492Q521 492 517 502T512 513Q542 444 542 333Q542 226 503 137L498 125L396 53Q308 -8 292 -17T260 -27Q226 -27 191 -9T136 29L145 39Q162 56 192 89L230 129L235 128H241Q276 57 332 57Q358 57 391 80Q403 89 409 100T422 143T428 227Q428 329 406 408T347 530T272 594T196 615Q152 615 135 596T118 558Q118 535 146 502T203 438T232 385Q232 357 195 322T122 265T83 243Q82 242 72 249T61 258L66 262Q72 265 82 273T103 292Q125 314 125 333Q125 351 101 376T51 432T26 492Q26 549 108 614T290 679Q326 679 335 678Q353 675 370 670T400 658T425 642T445 625T463 606T477 588T487 571T495 556T500 543L504 535L523 553Q553 581 569 595T619 632T686 667T757 678Q778 678 793 675T819 664T833 651T844 633T852 617Q884 548 910 548H916Q938 548 962 556L967 542Q967 540 947 531Q909 509 883 492T847 467T838 458Q825 419 825 328Q825 234 833 191T858 121Q875 94 892 77Q898 71 907 71Q912 71 928 76T957 87T971 91L972 88Q972 84 972 81L973 73L957 63Q891 21 806 -23L794 -30L783 -14Q766 13 728 60L713 79V372L724 384Q743 406 765 427T800 460L813 471Q809 472 806 472Q783 479 766 503T741 551T715 594T672 614Q644 614 622 595Q597 576 572 550T534 508L522 492',
    0x1D57A: '254 595Q269 583 269 581L262 577Q256 573 247 566T228 549T212 527T205 502Q205 480 266 386T328 277Q328 234 239 150L221 134L231 133Q264 131 376 99T516 62Q567 50 604 50Q614 50 626 52Q643 57 662 71T703 115T739 198T753 323Q753 454 692 517Q652 555 584 565T382 577Q365 577 357 577H308L300 591L292 606Q292 608 342 665L392 724L403 725Q406 725 411 726H416L417 725L412 715Q408 705 408 698Q408 684 423 679Q431 677 516 672T663 655Q757 634 806 593T873 463Q881 421 881 380Q881 340 874 306Q859 223 809 147Q801 134 789 124Q595 -30 456 -30Q395 -30 289 3T147 36Q134 36 121 33T98 26T76 15T59 4T44 -8T32 -17L22 -7L12 4L56 59L100 114L116 118Q217 142 217 199Q217 230 185 276T120 365T87 430Q87 435 109 464T172 534T254 595',
    0x1D57B: '247 398Q247 372 206 334T126 272T83 247Q82 247 72 253T61 261Q60 261 61 262T66 265Q127 306 127 343Q127 364 63 430Q42 451 38 458T33 480V490V497Q33 526 63 567Q112 632 170 660T282 688Q341 688 384 667Q454 633 482 566Q483 565 484 566T496 574Q562 623 630 653Q699 681 751 681Q778 681 797 673Q818 662 830 609Q835 580 843 564Q863 524 895 524H901Q917 524 932 528Q936 522 938 518T942 513T942 511Q873 480 836 454Q789 423 789 395Q789 362 834 298T880 200Q880 170 867 145T820 81Q733 -20 647 -20Q581 -20 499 21V9Q499 -16 502 -53T509 -116L512 -141L370 -223L357 -216Q344 -209 344 -208L348 -196Q370 -113 370 33V52L355 58Q307 76 284 76Q258 76 228 60T183 29T141 -11Q137 -7 133 -2L126 7L134 18Q181 89 210 121T278 170Q304 179 328 179Q336 179 358 177L370 175Q368 268 367 359Q367 416 363 434Q362 438 362 441Q348 527 302 574T203 621Q169 621 148 599T127 557Q127 535 187 476T247 398ZM673 315Q673 357 786 442Q786 443 776 444T750 449T727 462Q719 471 716 484V496Q715 507 715 515Q715 571 698 588Q680 611 643 611Q592 611 547 571Q534 558 511 522L499 505V139L543 123Q702 64 744 64Q770 64 781 79T793 112Q793 143 733 217T673 315',
    0x1D57C: '254 595Q269 583 269 581L262 577Q256 573 247 566T228 549T212 527T205 502Q205 480 266 386T328 277Q328 234 239 150L221 134L231 133Q264 131 376 99T516 62Q567 50 604 50Q614 50 626 52Q643 57 662 71T703 115T739 198T753 323Q753 454 692 517Q652 555 584 565T382 577Q365 577 357 577H308L300 591L292 606Q292 608 342 665L392 724L403 725Q406 725 411 726H416L417 725L412 715Q408 705 408 698Q408 684 423 679Q431 677 516 672T663 655Q757 634 806 593T873 463Q881 421 881 380Q881 340 874 306Q864 250 838 196T791 126Q748 93 733 82L715 69Q714 68 723 60T748 40T774 23Q806 2 832 2Q849 2 870 6T904 14L917 17Q917 12 918 6V-3L882 -22Q806 -60 778 -73L755 -83Q640 -36 596 -7L586 0L576 -4Q513 -30 457 -30Q394 -30 289 2T149 35Q119 35 93 22T52 -4T36 -17T24 -7T12 4L56 59L100 114L116 118Q217 142 217 199Q217 230 185 276T120 365T87 430Q87 435 109 464T172 534T254 595',
    0x1D57D: '31 498Q34 541 76 586T176 659T279 688H290Q377 688 429 653T506 569L511 558L526 572Q620 663 707 682Q722 685 737 685Q781 685 804 665T830 619T838 565T854 525Q866 511 897 511Q917 511 925 513L937 515Q938 515 941 509T944 501T925 493T870 470T803 438Q735 406 735 401Q735 400 741 399T767 390T814 374L828 367L829 307Q829 233 833 202T852 144Q873 109 896 90Q906 82 928 82T976 95V92Q976 88 978 72L807 -28Q768 39 733 87L718 108V149Q718 230 714 257T693 298Q654 333 580 333Q524 333 520 329Q520 300 489 224T443 133Q441 131 333 53T223 -27Q221 -26 204 -11T169 16T136 28Q110 28 66 -8L56 -16Q52 -13 40 -1L48 7Q165 124 211 124Q232 124 287 77L298 67Q309 73 337 97Q397 150 397 347Q397 419 379 474T330 560T269 604T207 619Q177 619 152 601T126 563Q126 540 185 479T244 387Q240 336 160 289Q144 278 98 255L80 246L62 261L79 272Q96 283 113 301T130 337Q130 353 115 373T81 410T47 451T31 498ZM524 358Q537 358 657 405T777 457Q777 459 768 459Q749 462 738 474T723 499T714 539Q706 585 697 599Q681 618 657 618Q632 618 597 595T532 515L525 502L524 441Q524 375 523 369Q523 358 524 358',
    0x1D57E: '457 -31Q356 -31 272 6T135 120T82 304Q82 372 106 430T170 527T241 588T305 626Q341 643 386 657T460 678T495 685T554 660T674 609T778 584Q800 584 818 591T848 610T866 633T878 651T883 659L893 649L901 639Q879 574 803 532T666 490Q661 490 657 490T650 491T641 492T633 495T622 500T610 505T595 513T577 522T554 533T527 547Q436 594 415 602Q393 608 374 608Q303 608 253 545T202 386Q202 229 307 135T568 41Q674 41 748 85T822 198Q822 244 779 283T639 322Q595 322 499 303T383 283Q358 283 335 290T291 318T270 374Q270 418 313 460T424 510H431L435 505L440 500Q425 496 403 475T380 427Q380 382 431 373Q437 372 475 372Q543 372 626 388T742 404Q831 404 868 362T905 260Q905 182 831 108Q692 -31 457 -31',
    0x1D57F: '666 641Q737 641 794 686L802 662Q790 648 734 596L677 541L664 538Q630 528 583 528Q540 528 482 537L461 541Q402 512 402 456Q402 427 439 387T512 311T549 253Q549 220 455 139L440 126Q541 75 586 75Q600 75 619 80T654 94T685 110T709 124T719 130Q722 125 725 119L730 108Q700 72 568 -18Q551 -30 542 -30Q495 -30 404 6T270 42H263Q213 42 142 -11L131 -19L129 -8Q126 1 126 4Q218 84 301 126L316 134H406L413 142Q436 165 436 189Q436 202 421 221T364 281Q336 307 318 328T296 356T283 381L290 394Q338 478 410 540Q419 549 417 549Q415 550 369 558T268 575T195 584Q153 584 127 567T100 523Q100 499 116 479T151 447T170 433Q170 429 171 428Q171 427 131 394T88 359Q82 363 73 370T47 403T31 457Q31 513 79 565T197 648T332 679Q369 679 490 660T666 641',
    0x1D580: '273 244Q273 281 244 331T186 428T155 502Q155 524 165 536Q239 634 333 688Q338 684 345 680L356 672L344 664Q310 642 295 624T280 582Q280 550 303 505T348 407T371 300Q371 270 362 248L247 123L358 92Q452 64 484 64Q507 64 523 72Q553 87 573 109Q583 121 586 146T593 283Q594 303 594 344Q594 401 591 461T584 558L581 595Q598 600 623 611T672 634T719 659T754 678L768 686Q770 686 784 673L782 670Q781 668 777 664T768 655Q747 635 738 616T721 535T714 359Q714 205 723 176Q727 164 744 133T771 89Q780 75 804 75Q814 75 853 87L867 92L871 73L671 -39L654 -10Q636 20 619 50T600 83Q600 84 589 75T539 34Q478 -16 475 -19Q469 -22 449 -28T414 -34Q410 -34 394 -32Q356 -28 282 -2L237 15Q169 38 126 38Q106 38 85 27T51 4T37 -8T27 -1T18 8Q18 10 70 63T124 116Q154 123 176 131T223 154T260 191T273 244',
    0x1D581: '133 343Q133 360 79 416T25 496Q25 523 58 563T118 624Q197 685 293 685Q331 685 339 684Q453 665 489 558L493 546Q521 570 553 596T640 653T725 684Q753 684 783 672T844 641T889 618Q895 616 912 616Q924 616 936 617T956 620T965 622T966 612V604L952 595Q924 576 895 549Q864 517 856 496T847 448V434Q847 395 848 388L859 323Q874 241 874 212Q874 142 830 96Q796 62 724 14Q661 -29 603 -29Q555 -29 421 28T242 86Q182 86 110 31Q105 28 102 26T99 25Q88 36 88 42Q95 54 222 142Q252 163 262 165Q319 183 344 218Q378 266 378 377Q378 444 362 494T319 571T266 610T212 623Q181 623 156 603T131 562Q131 539 154 512T206 458T243 416Q246 409 246 399Q246 387 242 377T225 351T178 311T94 259L79 251Q72 256 68 261T62 268L61 270L70 277Q131 318 133 343ZM822 526Q778 531 719 564T628 597Q611 597 579 574Q543 543 513 506L505 495L506 473Q506 469 506 461T507 449Q507 348 467 271L462 261L404 218L348 174Q349 173 356 173Q384 169 450 144L546 105Q665 56 708 56Q737 56 746 72T756 118Q756 129 755 135L741 219Q725 314 725 334V344Q725 416 736 431Q748 450 815 510L832 526H822',
    0x1D582: '133 317T133 338T80 413T26 496Q26 532 83 591Q100 608 111 616T151 644T219 672T304 682Q381 682 434 646T506 564L510 557Q513 557 534 573L677 665L707 683L790 561L803 572Q933 682 1001 682Q1037 682 1098 650T1193 616Q1208 616 1222 619L1235 622Q1239 622 1239 616Q1239 611 1240 609Q1240 608 1206 577T1138 503T1104 430Q1104 409 1123 330T1142 208Q1142 183 1136 147Q1127 118 1117 106Q1114 103 1031 48T935 -14Q930 -18 908 -22T862 -27Q826 -27 759 -6T647 26Q597 38 578 38Q573 38 561 33T533 20T505 4T480 -10L469 -16L452 -26L439 -28Q423 -30 411 -30Q358 -30 279 7T169 45Q125 45 58 -5L47 -14L41 -4L35 8Q35 11 56 29T113 75T181 125L200 139H217Q279 143 320 180T377 270T394 393Q394 453 378 498T334 568T277 605T213 617Q177 617 155 607Q140 600 130 587T119 560Q119 545 137 522T177 479T217 434T236 393Q236 324 98 251L89 246L76 253L63 261Q91 275 112 296ZM1088 526Q1066 526 1004 556T909 586Q863 586 816 539L802 526L804 514Q814 461 814 411Q814 319 781 238Q772 214 760 198T730 165T702 136L715 133Q759 122 848 90T973 57Q1003 57 1017 80Q1022 93 1022 116Q1022 152 1003 241T983 377V391Q983 405 985 409T1002 429Q1019 450 1045 475T1090 514L1107 528Q1104 527 1102 527T1096 527T1088 526ZM699 358Q699 391 696 419T688 467T675 503T660 530T642 550T626 563T608 574T593 582Q581 575 559 554T524 512Q523 510 523 477Q523 315 444 218L435 207L368 169Q301 132 301 131Q307 128 315 125L377 99Q476 57 515 57Q534 57 608 94L627 102L636 111Q699 187 699 358',
    0x1D583: '273 679Q354 674 408 633T477 525L484 533Q496 548 524 574T571 615Q594 633 625 649T675 673T699 681Q724 632 747 607Q754 601 756 599T765 594T777 591T794 590Q818 590 834 594V585L835 577L704 513L693 518Q657 534 631 560T597 599Q596 601 581 584Q495 490 489 379V366H562L681 369Q682 369 679 366T668 355T651 341L620 314H485V295Q490 190 543 125T686 60Q720 60 789 88L801 93V89Q798 83 798 66Q781 59 685 -10L665 -25L634 -30Q596 -35 594 -35Q570 -35 536 -23T477 19Q461 37 445 67T418 118L409 138Q401 131 388 120T340 79T273 28T206 -12T151 -31Q129 -31 90 -12T32 22L113 101Q114 101 120 96T136 84T160 69T189 56T221 51Q256 51 305 90Q376 149 376 301V315H293Q276 315 251 315T210 314T190 313L168 312Q168 313 200 340L231 368L238 367Q275 367 311 366H378V387Q376 470 355 512T291 572Q274 579 252 579Q223 579 197 568T156 544T131 519T117 508Q112 512 108 518L99 527L117 545Q177 604 255 665L273 679',
    0x1D584: '34 496Q34 518 53 549T107 610T195 661T310 682Q357 682 398 663T460 611Q467 600 475 583T489 554T495 542Q495 544 531 570T617 629T700 676L724 688Q742 670 756 657T784 635T806 621T830 606T856 592Q878 416 878 340Q878 154 805 -3L798 -20L779 -40Q706 -113 613 -163T421 -214Q359 -214 317 -196T256 -160L306 -63L313 -64L320 -66L326 -79Q337 -104 349 -120T392 -151T470 -166Q576 -166 644 -101Q750 7 750 292Q750 426 721 495T617 565H611Q563 565 513 509L506 501L508 493Q508 490 509 475T510 445Q510 319 458 236L451 225L436 216Q406 198 365 169T318 134L332 127Q336 126 397 103T489 80H493Q527 80 593 129L604 137L607 127Q610 119 610 116Q610 114 592 95T543 46T484 -4Q450 -27 446 -27Q441 -27 402 -18Q365 -9 290 20T188 50Q135 50 64 -7L52 -17L43 -7L34 2L51 19Q118 87 177 132L192 143H215Q259 145 289 155T335 184T355 214T366 245Q382 306 382 388Q382 426 381 436Q368 520 318 570T214 621Q184 621 165 608T142 583T137 562Q137 541 163 508L201 469Q245 425 251 408Q253 403 253 398Q253 383 240 366T212 335T161 295Q128 271 99 253L89 247L77 256L65 266L76 273Q125 301 134 329Q136 334 136 342Q136 357 124 372T88 410T49 455Q34 479 34 496',
    0x1D585: '278 601Q242 601 212 591T167 570T121 533Q114 528 111 525L93 550Q223 661 244 667Q299 677 356 677Q415 677 456 666T515 634T541 596T549 555Q549 513 529 478T480 421T424 388T377 372Q365 370 365 367Q365 365 389 365T450 358T523 337T588 282T623 183Q624 177 624 161Q624 20 524 -60Q415 -148 285 -148Q242 -148 213 -139Q181 -131 159 -109Q136 -87 127 -56T114 6T104 49Q94 69 57 69Q38 69 13 58L1 53Q1 55 0 59T-3 68T-4 76Q78 130 138 142Q150 144 162 144Q213 144 227 120T242 31Q242 -30 263 -66T345 -102Q397 -102 444 -52T491 107Q491 172 471 211T428 265Q392 288 306 288Q269 288 233 284L218 282Q208 289 208 291L229 324L251 359Q250 360 248 360Q239 360 248 371L256 381H273Q344 385 378 409T413 495Q413 537 384 569T278 601',
    0x1D586: '80 129V151Q80 241 99 363Q99 367 111 372T172 401T285 465L297 472Q340 455 405 443L423 440L455 453Q486 467 489 467L497 461L494 451Q480 390 480 292V283Q480 207 483 155L484 143L535 80L558 90L582 99Q586 95 586 83Q586 81 513 25L443 -29Q410 16 386 40L371 55V61Q371 63 371 67T370 74V80L278 25Q186 -29 184 -31Q182 -32 160 -12T112 35T80 75V129ZM359 366Q334 366 300 371T243 382L221 388Q218 388 212 375T200 323T194 228Q194 191 197 152L198 139L217 120Q245 92 269 74L279 66L304 78Q338 95 349 100L369 110V152Q368 164 368 210T367 275Q367 358 366 361V366H359',
    0x1D587: '99 398Q99 610 86 662Q86 665 95 669T106 674L108 669Q109 664 112 654T119 635Q122 626 125 616T130 601L131 596Q214 649 273 678Q295 690 298 690Q299 690 304 688T313 682L317 679Q275 653 240 612Q210 569 210 469V459Q210 450 210 432T211 406L212 378L285 425Q301 435 321 447T350 466L360 472Q360 473 361 473T368 471T401 456T465 429L501 414V408Q504 386 504 309Q504 255 500 203T491 125T485 97Q485 95 445 74T343 23T237 -24L214 -32Q197 -22 165 3T109 49T87 73Q99 169 99 398ZM386 251Q386 320 380 347V350L305 374L282 382L214 348L213 274Q213 184 214 165V131L230 119Q288 76 349 54Q386 137 386 251',
    0x1D588: '227 393Q215 393 210 351T205 269Q205 161 213 153Q220 145 244 125T290 88L312 72L365 92Q414 113 418 113V93L365 60Q255 -9 221 -26L211 -18Q158 21 91 88L90 107Q87 167 87 225Q87 267 90 302T96 351T100 366L295 473L311 470Q340 464 368 454T410 437T424 429L347 334L342 333H337L325 342Q299 363 271 378T228 393H227',
    0x1D589: '88 117Q88 177 91 231T97 310T102 341Q102 343 118 357T168 397T239 447L257 459L268 454L278 449Q242 416 238 412L219 394Q219 391 216 378T211 349T206 307T203 249Q203 211 206 166L208 148Q224 132 261 108T333 70Q341 66 342 67T350 79Q393 157 393 302Q393 368 388 406V411L371 424Q199 558 101 558Q69 558 28 545L18 542L8 549L-1 557L24 569Q61 587 147 621L177 632Q179 631 194 627T216 621T240 613T269 602T302 589T340 571T382 549T431 522T484 488Q504 475 504 472Q511 449 511 365Q511 248 474 129L468 108L451 96Q427 77 347 28T254 -28Q235 -20 174 21T89 86L88 117',
    0x1D58A: '309 69Q391 98 416 108Q418 106 422 100T425 92Q419 86 326 30T229 -27Q228 -27 207 -13T154 27T97 76L85 87L84 106Q81 152 81 194Q81 295 93 359L95 369L286 471L313 449Q376 397 414 372L428 362Q428 360 375 318L188 181V170Q188 156 189 153V148L203 138Q228 119 266 94T309 69ZM209 389Q208 388 204 366T194 307T187 244Q187 225 188 225T201 233L245 261Q283 284 291 291Q324 313 324 316L296 334Q280 343 259 357T224 380L210 390Q209 390 209 389',
    0x1D58B: '128 400Q127 401 121 422T108 478T99 540V555L111 569Q135 597 165 626T214 671T235 687L249 678Q263 668 282 659T315 650Q335 650 362 666L372 654L286 569H271Q205 576 173 586V583Q173 558 208 492T252 401Q253 399 310 399T367 398L332 355H254V311Q251 160 235 16Q230 -28 226 -36Q225 -38 221 -45Q171 -140 121 -211L113 -222H104Q94 -222 94 -220Q94 -215 105 -187L121 -145Q139 -80 139 35V93Q139 222 135 314L134 354Q134 355 84 355H35L84 399H106Q128 399 128 400',
    0x1D58C: '92 71Q92 74 91 88T88 128T86 183Q86 230 91 275T102 342T109 366Q115 372 207 422T305 472Q407 426 431 426Q435 426 476 445L519 465L525 463L532 461Q497 392 497 268Q496 255 496 233Q496 179 516 92T539 -10L541 -22L526 -38Q441 -126 355 -194L339 -206L327 -207Q324 -207 319 -207T310 -208Q242 -208 171 -179T73 -131L56 -141Q40 -150 38 -150Q17 -140 17 -137Q17 -136 18 -136T98 -79L176 -23Q174 -21 134 24T92 71ZM226 393Q224 393 221 372T214 312T210 235Q210 182 214 144L215 132L230 118Q281 70 301 66Q304 66 331 80T373 105L384 112L383 165Q383 224 387 309Q387 314 387 319T387 329T388 336T388 341V343Q388 344 381 344T339 354T249 384Q246 385 243 386T236 389T231 391T228 392L226 393ZM414 -80Q414 -64 411 -43T403 -1T394 37T386 66T382 79Q381 79 286 15T189 -52Q312 -125 365 -125Q397 -125 405 -115T414 -80',
    0x1D58D: '95 661Q95 662 103 667T113 672L126 634L137 596L147 602Q235 656 275 677L292 687L303 680Q305 679 307 677T312 674L313 672L310 670Q307 669 301 667T289 660T274 649T259 634Q250 622 244 611T233 585T226 560T222 528T221 497T220 456T219 413V377L232 384Q244 391 271 409T339 455L362 471L383 461Q425 440 491 415L504 410V406Q507 399 507 269Q507 76 486 -21Q485 -30 483 -33T461 -57Q382 -139 299 -207L281 -197L263 -186L266 -185Q268 -184 280 -177T312 -155Q344 -130 353 -116Q394 -59 394 117Q394 162 391 216T386 301T382 335Q382 338 365 346T323 364T281 376L250 362Q220 347 219 347Q213 336 213 232Q213 177 217 144L218 128L224 119Q244 92 263 71L272 60Q206 21 157 -24Q156 -24 151 -16T132 11T98 52L89 62L91 103Q104 289 104 436Q104 471 103 506T101 568T99 616T96 649L95 661',
    0x1D58E: '73 613L164 686L184 666Q200 650 214 637T235 620T242 614T203 577T162 540Q158 540 122 570T73 613ZM92 58Q92 63 94 83T98 142T101 234Q101 318 97 358V366L59 387L40 379L21 371Q20 371 12 376T3 382L38 406Q78 431 125 466L138 477Q149 468 186 444L219 422V389Q215 324 215 247Q215 136 222 123Q226 113 238 98T258 83Q263 83 292 94L322 104Q322 103 324 97T327 89Q327 88 317 82T272 52T190 -7Q166 -25 164 -25L112 35Q92 55 92 58',
    0x1D58F: '74 611L155 682Q172 666 186 655T208 636L235 614Q227 606 191 574L154 540L135 556Q101 582 84 601L74 611ZM10 377L144 477Q145 476 184 453T229 428L233 425V416Q238 346 238 252Q238 93 215 -16L213 -30L185 -57Q29 -203 19 -203Q17 -203 -19 -189L-9 -183Q52 -146 78 -116T114 -37Q120 31 120 192V237Q120 327 113 351T72 380L53 372Q34 362 32 364L10 377',
    0x1D590: '106 72Q110 105 111 193T114 294V308H74L34 309L83 346H115V430Q114 591 106 652Q105 662 107 665T114 668T123 672Q125 672 139 635L152 597L154 598Q156 600 160 602T167 607Q193 625 226 644T279 672T302 682L312 676L321 670L312 665Q281 649 263 626T241 587T233 547Q232 541 231 530T230 510T230 501Q231 501 265 522T334 564T369 583L380 570Q428 509 428 481Q428 475 427 470T423 459T416 448T404 434T389 418T369 397T344 371L321 347L365 346H409L372 308H227V294Q227 272 230 208T234 138Q234 136 256 119T302 84L324 68L372 88Q421 108 422 108T432 90L421 83Q373 53 270 -5L234 -25L204 -1Q172 25 124 60L106 72ZM336 434Q336 452 327 472T308 503T297 514Q296 514 290 510T275 499T264 490Q230 458 230 358V346H247Q268 346 276 350T302 372Q328 398 335 423Q335 424 335 428T336 434',
    0x1D591: '111 275Q111 406 108 518T104 650V657Q105 657 109 660T117 665T122 666L133 629L144 594L161 606Q218 642 272 670L294 681Q295 681 300 677T306 672L302 669Q298 666 292 662T278 651T263 637T251 621Q232 587 227 530T222 343Q222 226 230 125L231 112L244 98L258 83Q271 87 285 92L312 102V84Q297 72 231 24T163 -23L100 55Q110 141 111 275',
    0x1D592: '115 203Q115 257 114 291T112 338T111 355Q111 357 93 370L75 384L54 375Q32 366 31 365Q27 365 16 378Q25 383 89 430L152 476Q175 453 228 420Q229 420 229 418T229 410T227 394L225 369Q279 400 315 425T363 461T376 471Q480 424 514 416V412Q514 411 514 404T513 392L511 376L520 382Q529 387 548 399T584 422Q599 432 618 444T648 463L657 469H658Q661 469 681 461T735 440T796 420Q803 418 803 416Q801 414 798 390T791 325T788 247Q788 220 790 172T794 123Q799 115 814 97T835 78H838Q841 78 867 89L895 101Q896 101 896 100T897 92T900 78L873 62Q810 23 761 -12L736 -30Q735 -30 729 -22T707 7T671 48L661 59Q674 93 674 207V219Q674 341 670 344Q655 353 591 372L576 376L544 364Q511 351 510 351Q507 349 507 224V132L535 95Q541 87 548 78T560 63L563 58Q563 57 504 15T444 -28L385 53L387 67Q396 114 396 206Q396 289 393 334Q393 346 390 348Q369 358 306 373Q301 373 265 361L228 349V335Q227 322 227 284Q227 206 231 157Q231 151 231 144T232 133V129Q232 125 259 90Q286 56 286 53Q287 53 284 51T273 43T258 31L173 -31L166 -20Q160 -11 145 7T119 38T108 59Q108 62 110 81T113 133T115 203',
    0x1D593: '608 88Q572 65 535 37T477 -8T455 -25Q432 7 389 53L375 68L378 82Q386 160 386 195V221Q386 284 385 307L384 344Q352 359 306 373L286 379L213 353V273Q214 229 214 161V129L275 62L163 -28L150 -14Q136 0 121 16T91 44Q86 48 86 50Q95 83 96 148Q96 224 89 340L88 366L79 374Q69 384 67 385L64 388L55 383Q52 382 44 378T33 373L21 367L13 374Q5 379 5 381Q5 384 69 428L133 473Q135 473 147 464T179 443T215 424L214 400V376Q271 404 342 457L363 472Q363 473 364 473Q366 473 375 469T418 449T502 414L512 411V407Q502 330 502 217V197V132L523 109Q527 104 533 97T543 87T547 83L550 80L578 92Q603 103 604 103Q606 103 608 88',
    0x1D594: '107 102Q107 178 112 242T123 334T129 362Q129 363 140 368T199 400T315 469L336 482L346 476Q409 439 498 414L514 410L515 389Q515 208 502 141Q494 101 491 94Q490 89 478 81Q430 51 375 23T288 -20T254 -34Q250 -34 200 -1T119 56L108 65L107 76V102ZM389 355Q367 358 346 363T309 372T282 381T264 388L257 390H256Q254 390 249 381T238 348T227 293Q226 280 226 237Q226 183 231 146L232 131L244 122Q285 91 323 74T374 57H377L380 68Q405 154 405 267Q405 315 401 349V354L389 355',
    0x1D595: '66 435Q66 445 117 501T173 557Q174 557 183 555T193 551Q174 526 174 509Q174 496 190 472T233 428V386L377 482L399 471Q450 445 509 425Q519 421 519 420L518 419Q518 418 518 416T517 410Q517 405 518 381T519 335Q519 222 501 137Q492 84 489 84L473 75Q457 66 423 44T354 -6L338 -19L329 -13Q320 -8 313 -4T297 4T284 10T270 14T258 17T245 20T233 22V12L241 -161L214 -172Q187 -184 160 -195T131 -207Q127 -207 112 -202L113 -188Q113 -182 115 -77T118 31Q118 32 109 32Q63 27 23 0L10 -9Q5 -4 -1 8Q1 13 52 57T114 101H115L117 123Q117 141 117 230V359L110 367Q85 394 71 421Q66 433 66 435ZM384 83Q386 83 389 110T396 180T400 254Q400 294 395 339L394 349L379 355Q308 383 294 383Q290 383 263 372L234 360L233 245V130Q270 125 305 113T361 92T384 83',
    0x1D596: '362 -196Q375 -92 375 47V78L282 24Q189 -29 188 -30Q187 -30 139 21T90 75Q87 84 87 158Q88 206 94 259T107 342L113 372L308 478L322 473Q374 452 421 444L433 442L503 485Q515 479 515 477Q485 378 485 56Q485 -100 494 -164V-171L381 -211L371 -207L362 -202V-196ZM280 72Q301 77 323 86T358 101T372 110Q372 268 377 346L378 358H374Q368 360 358 360T323 365T257 380L234 386Q231 386 229 379Q215 353 211 310T207 180Q207 152 208 150Q210 142 235 114T280 72',
    0x1D597: '23 367Q21 370 18 374T14 380L13 382L151 472L236 411L238 381L290 426Q298 432 307 439T322 452T333 461T342 467L344 469Q382 410 404 399Q410 397 416 397Q423 397 432 399T446 403L451 405Q453 405 453 399V393Q430 374 404 356T364 328T350 318L349 317Q321 320 276 356Q257 371 256 371Q253 374 249 366T242 351Q232 321 232 236Q232 214 232 205T232 182T233 162T235 148T238 137T242 129T249 120T257 114T268 105T281 95Q313 70 314 70L358 85Q377 92 389 96T402 100V90L403 80L229 -26L221 -18Q195 6 166 29T121 63T105 76T106 82T110 97T114 121T117 158T119 208Q119 269 114 329L113 341L103 350Q90 362 67 380L45 374L23 367',
    0x1D598: '189 331Q190 304 196 282T207 252T214 244Q239 244 348 292L371 302L382 297Q398 290 415 279T433 265Q442 238 442 166Q442 103 423 45Q416 42 380 29T310 3T244 -26L227 -34Q139 40 73 40Q61 40 48 37T24 30T6 22T-8 14L-13 11Q-14 11 -18 18T-23 26T38 75T102 125Q107 128 146 131H153Q192 131 296 56Q318 40 318 43Q323 48 323 114Q323 157 321 177L319 194Q308 208 291 216T261 225Q239 225 160 185L123 167Q85 205 79 227Q78 230 78 304V377L171 428Q264 479 265 478Q268 478 287 465T334 440T384 427Q423 427 475 463L478 453Q481 446 481 442Q481 439 410 391L339 342H331Q309 345 277 361T222 391T198 406T195 399T191 372T189 331',
    0x1D599: '328 69Q401 102 403 102Q404 102 405 94T406 84Q406 83 318 28L230 -27Q223 -21 206 -5T171 25T132 54L124 60V71Q129 154 129 297V359H43L44 363Q44 365 44 367L45 369L48 372Q51 374 57 378T68 387L90 405H129V553L285 648Q304 641 306 640L260 598V592Q259 589 255 505T249 413V405H353V402Q353 399 328 379L303 360H245V319Q245 150 253 125Q257 115 276 101T311 78T328 69',
    0x1D59A: '444 -31Q444 -29 384 66Q382 66 364 58T309 30T231 -17Q214 -29 212 -29L197 -20Q172 -4 140 11T88 34L68 42Q68 43 73 49T85 67T100 98T113 149T118 221Q118 272 105 332L100 356L58 383L23 365L9 379L76 425Q141 472 144 472Q144 471 183 443L221 414V404Q224 365 224 275V253Q224 159 196 113Q191 104 193 104Q203 104 285 72L308 62L374 89L375 106Q375 266 373 340Q373 364 371 396V424L430 445L491 467Q493 467 499 463T505 457Q505 456 503 442Q488 335 488 187V158L529 81L534 80Q541 80 568 90L598 101Q605 94 602 87L524 27Q445 -32 444 -31',
    0x1D59B: '95 67Q104 80 104 193Q104 261 100 321L98 355L91 363Q56 402 56 421Q56 441 82 472T132 524T159 546Q174 542 175 542Q159 520 159 501Q159 481 205 432L221 415L220 401Q219 394 219 387L288 429Q309 441 325 451T347 465T358 472T365 476L504 415V409Q504 408 505 374T507 318Q507 155 474 91L469 80L343 26Q314 14 281 0T232 -20L216 -27L202 -15Q192 -5 152 28Q141 35 126 45T103 60T95 67ZM386 349Q302 389 287 389Q271 383 253 375L220 361V136Q226 120 256 100T312 68T342 56Q355 56 360 68Q389 134 389 258Q389 310 386 341V349',
    0x1D59C: '90 58T90 59T92 64T97 78T102 105T107 150T109 218Q109 290 103 350V356L83 377Q55 407 55 425Q55 445 138 528Q158 549 162 549L164 548Q165 548 167 548T170 547L175 546L172 540Q168 533 165 523T161 502Q161 479 216 430L229 419V382Q232 382 366 471Q407 445 500 408L511 404V387L512 370L595 420Q678 469 679 469L693 462Q756 431 795 417L815 409L814 380Q812 187 782 96Q774 71 766 62T744 48T684 25T577 -23L557 -32L546 -26Q536 -19 519 -10T481 10T436 31T393 47Q384 50 380 50Q380 52 381 58T384 77T387 104Q391 174 391 256V292L390 333L377 340Q350 357 304 373L294 376L227 355V348Q224 322 224 243Q228 117 232 112L235 108Q238 103 245 95T257 80L281 50Q281 49 227 10T172 -29L159 -13Q133 19 116 36T94 56ZM652 64Q658 64 667 84T685 162T697 303V336L686 341Q653 356 619 367L591 376Q590 376 553 361T514 344T512 324T510 275T508 221Q508 167 510 152T521 126Q537 112 590 88T652 64',
    0x1D59D: '8 -90Q8 -68 13 -63Q13 -56 53 -8T120 63L128 71L129 85Q133 120 134 182Q134 308 131 331T106 365Q100 367 97 369L75 381L35 365L20 377Q20 378 47 397T110 440T161 471L253 413V396Q253 378 254 378L309 422Q364 466 365 466Q365 467 366 466T370 461T376 454Q403 419 426 396L441 380L438 377Q438 376 433 372T420 359T404 344L372 314Q351 320 338 327T310 344T277 364Q261 364 252 316Q251 306 251 235Q251 136 255 129Q257 127 258 124T268 113T298 92Q334 68 335 68Q340 70 349 73T377 84T408 95T421 99Q422 99 422 90L423 82L334 26Q246 -28 243 -28L200 8Q156 43 148 43Q144 43 130 36T99 9T83 -36Q83 -67 121 -89T198 -118L237 -124V-129L238 -133L193 -160Q183 -166 171 -173T152 -184L146 -188Q140 -187 131 -185T98 -173T56 -154T23 -127T8 -90',
    0x1D59E: '280 53Q272 47 246 27T199 -10T176 -27L167 -18Q137 17 107 44L90 60L93 71Q108 130 109 290V331Q109 339 109 344T108 353T107 359T105 364T102 369T97 374T91 381Q60 412 60 432Q60 448 86 479T138 534L164 557Q168 553 180 553Q163 532 163 511Q165 491 186 468Q206 443 231 423V404L232 385L371 477L389 468Q439 441 498 418L512 412V386Q512 360 507 190T500 14Q488 -26 445 -67Q401 -111 355 -148T282 -203T249 -221Q247 -220 230 -210T213 -199T229 -191T269 -172T306 -151Q361 -120 379 14Q391 92 391 182Q391 218 386 305Q384 339 380 341Q363 353 330 366T288 379Q282 379 258 368L230 356V181V141Q230 127 232 120T236 108T251 89T275 59L280 53',
    0x1D59F: '153 371Q141 371 126 365T100 354T78 340L65 331L57 338L50 346L62 356Q133 419 222 471Q274 453 306 422T338 366Q338 356 329 346T283 301L243 264L262 257Q298 246 361 214Q378 154 378 73Q378 33 371 -9T356 -74T345 -104Q340 -106 267 -160L191 -214H177Q60 -214 13 -150Q-7 -122 -7 -115Q-7 -112 19 -77T106 25T241 149Q241 152 227 158T181 173T109 185V190L108 194L158 229Q212 267 223 278T234 306Q234 329 208 350T153 371ZM258 1Q258 42 257 68T254 105T252 118Q235 105 210 85T144 22T102 -45Q102 -79 146 -106T234 -133H238Q248 -128 254 -80Q258 -58 258 1',
    0x1D5A0: '183 181Q183 179 152 91T118 0H28L154 346L280 693Q281 694 333 694H385L511 349Q636 4 638 2Q638 0 584 0H530L464 183H184L183 181ZM324 606Q319 578 292 492T238 332T210 256Q210 254 324 254T438 255L429 281L419 308Q409 336 395 378T365 465T339 551T324 611V606',
    0x1D5A1: '425 363Q438 363 465 353T526 324T585 270T610 192Q610 132 561 78T426 7Q404 2 387 2T240 0H90V694H227Q373 693 396 689Q484 673 533 623T583 517Q583 494 574 473T551 437T520 409T487 388T456 374T433 366L425 363ZM490 516Q490 527 485 539T467 568T423 599T347 621Q340 622 262 623H188V399H261H286Q432 399 478 475Q490 496 490 516ZM514 190Q514 245 462 280T343 322Q336 323 259 323H188V71H274Q365 72 388 77Q445 88 479 121T514 190',
    0x1D5A2: '59 347Q59 440 100 521T218 654T392 705Q473 705 550 680Q577 670 577 667Q576 666 572 642T564 595T559 571Q515 601 479 613T392 626Q300 626 232 549T164 347Q164 231 229 150T397 68Q453 68 489 80T568 120L581 129L582 110Q584 91 585 71T587 46Q580 40 566 31T502 5T396 -11Q296 -11 218 41T99 174T59 347',
    0x1D5A3: '88 0V694H237H258H316Q383 694 425 686T511 648Q578 604 622 525T666 343Q666 190 564 86Q494 18 400 3Q387 1 237 0H88ZM565 341Q565 409 546 463T495 550T429 600T359 621Q348 623 267 623H189V71H267Q272 71 286 71T310 70Q461 70 527 184Q565 251 565 341',
    0x1D5A4: '86 0V691H541V611H366L190 612V397H513V321H190V85H372L554 86V0H86',
    0x1D5A5: '86 0V691H526V611H358L190 612V384H485V308H190V0H86',
    0x1D5A6: '59 346Q59 499 157 601T384 704Q436 704 466 700T541 679Q551 674 560 670T575 664T583 660T588 658T590 656Q590 652 582 605T573 557L564 564Q489 626 392 626Q301 626 233 549T164 347T233 145T392 68Q441 68 506 84V223H388V299H599V38L588 33Q494 -11 393 -11Q296 -11 219 40T100 172T59 346',
    0x1D5A7: '86 0V694H190V399H517V694H621V0H517V323H190V0H86',
    0x1D5A8: '87 0V694H191V0H87',
    0x1D5A9: '181 53Q200 53 215 56T241 66T259 79T272 95T280 109T285 122L287 129V694H388V415V229Q388 135 385 112T369 63Q364 51 355 39T328 12T280 -12T212 -22Q172 -22 130 -12T66 8T43 20L46 42Q50 65 54 88L58 110Q58 111 65 104Q107 53 181 53',
    0x1D5AA: '88 0V694H188V519L189 343L525 694H638L375 419L651 0H541L309 351L188 225V0H88',
    0x1D5AB: '87 0V694H191V79L297 80H451L499 81V0H87',
    0x1D5AC: '92 0V694H228L233 680Q236 675 284 547T382 275T436 106Q446 149 497 292T594 558L640 680L645 694H782V0H689V305L688 606Q688 577 500 78L479 23H392L364 96Q364 97 342 156T296 280T246 418T203 544T186 609V588Q185 568 185 517T185 427T185 305V0H92',
    0x1D5AD: '88 0V694H235L252 659Q261 639 364 428T526 84V694H619V0H472L455 35Q453 39 330 294T185 601L181 611V0H88',
    0x1D5AE: '55 345Q55 504 149 609T361 715Q386 715 406 713Q521 696 600 592T680 344Q680 193 590 86T368 -22Q239 -22 147 84T55 345ZM276 59T368 59T518 146T576 360Q576 473 525 545T401 634Q371 637 362 637Q284 637 222 562T159 360T217 147',
    0x1D5AF: '88 0V694H230Q347 693 370 692T410 686Q487 667 535 611T583 485Q583 409 527 348T379 276Q369 274 279 274H192V0H88ZM486 485Q486 523 471 551T432 593T391 612T357 621Q350 622 268 623H189V347H268Q350 348 357 349Q370 351 383 354T416 368T450 391T475 429T486 485',
    0x1D5B0: '55 345Q55 504 149 609T361 715Q386 715 406 713Q521 696 600 592T680 344Q680 284 665 231T629 143T587 85T551 48L536 35L648 -120L652 -125H531L452 -8L440 -12Q407 -22 369 -22Q239 -22 147 85T55 345ZM579 345Q579 473 517 555T369 637Q279 637 218 554T156 345Q156 223 215 141T368 58Q376 58 382 58T392 58T397 59T401 60T403 61H404Q404 63 360 128T315 194H421L453 150Q485 105 486 105Q490 108 496 113T517 138T545 182T567 247T579 334V345',
    0x1D5B1: '88 0V694H227H259H302Q365 694 399 689T474 663Q528 637 558 595T589 504Q589 482 584 462T569 426T547 396T522 372T495 353T470 338T449 328T434 322L429 320L440 300Q452 280 477 238T523 160L617 1L565 0Q513 0 512 1Q512 2 424 156L337 309H189V0H88ZM492 504Q492 600 367 620Q354 622 271 623H189V385H271Q363 386 388 392Q432 402 462 430T492 504',
    0x1D5B2: '55 514Q55 589 115 652T283 716Q315 716 345 711T396 699T432 685T457 672T467 667Q467 666 459 618T449 568Q383 634 282 634Q214 634 182 600T150 525Q150 507 155 492T172 465T194 446T222 432T247 423T272 416T289 412Q353 396 378 384Q432 358 466 307T500 194Q500 110 438 44T272 -22Q215 -22 159 -5T73 28T44 50Q45 51 49 75T57 122T62 146L65 143Q68 140 74 136T88 125T107 111T131 98T160 85T194 74T232 66T274 63H286Q327 63 366 96T406 182Q406 245 352 280Q329 296 265 310T173 339Q124 363 90 409T55 514',
    0x1D5B3: '36 608V688H644V608H518L392 609V0H288V609L162 608H36',
    0x1D5B4: '87 450V694H191V449Q192 203 193 194Q200 148 220 117T266 72T311 54T347 49Q404 49 446 84T501 178Q505 195 505 218T507 449V694H600V450Q600 414 600 356Q599 198 595 181Q594 178 594 177Q575 89 505 34T345 -22Q258 -22 184 34T89 196Q88 205 87 450',
    0x1D5B5: '14 692Q14 694 68 694H122L146 633Q325 165 339 90Q340 87 341 87Q341 124 530 619L558 694H605Q652 694 652 692Q650 690 523 354T390 10L387 0H279L276 10Q271 18 144 354T14 692',
    0x1D5B6: '115 694Q115 693 156 550T233 266T270 90L271 85Q272 86 272 92Q272 153 405 616L427 694H524L553 590Q672 174 681 95L682 84L684 95Q689 138 728 287T803 563T841 692Q841 694 885 694T929 693Q929 691 829 346L730 0H679L628 1L606 75Q478 524 470 600L469 611L467 600Q458 518 338 101L310 0H213L114 346Q14 691 14 693Q14 694 64 694H115',
    0x1D5B7: '14 0Q16 5 144 184T275 367L153 528Q121 571 88 615T42 674T28 694H150L228 584Q315 463 316 461L326 448L497 694H610L609 692Q606 689 492 528Q440 454 409 410T378 366Q378 365 515 182L652 0H531L326 292Q326 293 299 254T226 146L128 0H14',
    0x1D5B8: '4 693L64 694H125L174 621Q335 378 340 364L341 362Q361 398 395 450L558 694H663L383 277V0H282V278L143 485Q112 531 75 586T21 668L4 693',
    0x1D5B9: '69 617V694H555V643L373 362Q190 81 190 79H234Q244 79 272 79T344 80T419 81H560V0H55V53L237 334Q420 615 420 617Q413 618 387 618Q380 618 334 618T245 617H69',
    0x1D5BA: '236 387Q209 387 184 382T141 370T111 355T91 342T83 337L82 355Q80 373 79 393T77 417Q77 419 81 421Q86 423 91 426Q155 460 227 460H238Q319 460 368 400Q393 371 400 341T408 252Q408 240 408 207T407 152V0H317V39L306 32Q244 -10 159 -10H152Q109 -10 77 22Q38 61 38 126Q38 142 39 146Q55 199 130 223T295 252H314V277Q314 305 313 310Q308 342 287 364T236 387ZM303 186Q124 180 124 126Q124 105 144 86T208 66Q284 66 309 124Q314 137 314 166V186H303',
    0x1D5BB: '303 -11Q280 -11 259 -6T222 6T194 21T176 33T168 38V0H75V694H165V550L166 405Q247 455 336 455Q397 455 439 389T482 226Q482 115 428 52T303 -11ZM390 221Q390 283 361 331T265 379Q214 379 177 342L168 334V118Q203 66 258 66Q316 66 353 106T390 221',
    0x1D5BC: '34 223Q34 327 99 393T245 460Q290 460 301 459Q328 455 354 445T395 427T410 415L396 338L386 344Q377 349 362 357T335 370Q305 381 258 381H252Q182 381 146 315Q126 275 126 224Q126 158 159 113T255 68Q329 68 394 106L408 114L410 93Q411 72 412 52L414 32Q407 27 394 20T338 2T252 -10Q156 -10 95 58T34 223',
    0x1D5BD: '33 224Q33 321 81 388T197 455Q277 455 342 414L351 408V694H441V0H348V44L338 37Q278 -10 198 -10Q177 -10 168 -8Q99 11 62 90Q33 148 33 224ZM348 337Q307 378 263 378Q260 378 256 378T251 379Q239 379 223 374T182 355T142 305T126 220Q126 90 225 67Q231 66 250 66H255Q306 66 342 115L348 124V337',
    0x1D5BE: '28 226Q28 329 91 395T235 461Q258 461 279 456T325 436T368 397T399 332T415 238V219H113V215Q113 163 151 114T248 65Q273 65 298 70T341 82T373 96T396 108L403 113Q403 106 406 76T409 38Q409 34 408 33T393 24Q325 -10 252 -10Q155 -10 92 59T28 226ZM340 289L338 297Q335 305 333 310T327 326T317 343T304 358T286 372T263 381T233 385Q212 385 193 376T162 353T140 325T127 301T123 289H340',
    0x1D5BF: '262 705H267Q300 705 347 694V612L336 616Q303 628 274 628H266Q224 628 199 605Q187 590 184 579T181 541V507V444H287V371H184V0H94V371H27V444H94V492Q94 544 95 550Q102 617 151 661T262 705',
    0x1D5C0: '55 286Q55 357 105 406T224 455Q280 455 323 421L322 423L318 427Q318 428 339 434T396 448T465 455H471L478 416L485 377Q484 377 474 379T445 383T401 385Q397 385 391 385T381 384L362 383L357 387Q358 386 364 375T375 354T384 325T389 287Q389 217 340 168T221 119Q178 119 138 142Q133 145 131 143Q125 131 125 117Q125 82 155 72L227 71Q230 71 251 71T280 71T310 69T343 65T373 57T403 46T428 30T449 7Q471 -26 471 -62V-71Q471 -136 384 -178Q326 -206 250 -206Q159 -206 102 -172T30 -92Q28 -84 28 -68T31 -37T40 -12T52 7T64 21T75 31T82 38Q60 68 60 106Q60 145 80 180L86 189L80 199Q55 240 55 286ZM304 233T304 287T279 362T220 383Q189 383 165 361T140 287Q140 243 161 217T220 191Q253 191 278 212ZM250 -134Q298 -134 331 -122T375 -96T387 -69Q387 -21 306 -7Q288 -5 216 -5Q161 -5 153 -7Q146 -9 139 -13T122 -31T113 -66Q113 -75 113 -80T127 -97T166 -121Q203 -134 250 -134',
    0x1D5C1: '163 395Q223 455 307 455Q417 455 438 354Q442 331 443 164V0H350V157Q349 315 348 320Q334 378 259 378H253Q224 378 204 358Q180 334 173 301T165 209Q165 198 165 172T166 129V0H73V694H163V395',
    0x1D5C2: '67 576V680H171V576H67ZM74 0V444H164V0H74',
    0x1D5C3: '88 576V680H192V576H88ZM31 -126Q40 -126 48 -125T62 -122T73 -117T82 -111T89 -105T94 -99T98 -92L102 -86V444H192V180Q191 -45 191 -70T184 -113Q171 -152 140 -178T63 -205Q34 -205 4 -197T-43 -181T-59 -171T-51 -133T-41 -96L-38 -99Q-34 -102 -28 -106T-13 -115T7 -123T31 -126',
    0x1D5C4: '76 0V694H163V257L340 444H449L286 272L292 263Q296 259 378 138T463 12L471 0H372L309 92Q294 114 277 139T250 179T237 198L228 211L160 139V0H76',
    0x1D5C5: '74 0V694H164V0H74',
    0x1D5C6: '160 392Q223 455 304 455Q359 455 386 436T430 383L437 391Q495 455 584 455Q694 455 715 354Q719 331 720 164V0H627V157Q626 315 625 320Q611 378 536 378H530Q501 378 481 358Q457 334 450 301T442 209Q442 198 442 172T443 129V0H350V157Q349 315 348 320Q334 378 259 378H253Q224 378 204 358Q180 334 173 301T165 209Q165 198 165 172T166 129V0H73V450H160V392',
    0x1D5C7: '160 392Q214 446 283 454Q285 454 292 454T303 455H306Q417 455 438 354Q442 331 443 164V0H350V157Q349 315 348 320Q334 378 259 378H253Q224 378 204 358Q180 334 173 301T165 209Q165 198 165 172T166 129V0H73V450H160V392',
    0x1D5C8: '28 222Q28 323 95 391T244 460Q275 460 281 459Q364 445 417 377T471 219Q471 124 408 57T250 -10Q158 -10 93 57T28 222ZM377 230Q377 277 364 310T328 358T287 379T248 385Q233 385 219 382T186 369T155 342T132 297T122 230Q122 146 159 108T250 69H253Q263 69 274 70T305 81T339 106T365 154T377 230',
    0x1D5C9: '166 404Q194 424 241 439T337 455H341Q410 455 451 370Q483 307 483 222Q483 128 433 59T306 -10Q282 -10 260 -5T222 7T194 21T176 33T168 38V-194H75V444H165V424L166 404ZM390 222Q390 287 354 331T266 376T177 340L168 332V118Q200 66 257 66Q313 66 351 112T390 222',
    0x1D5CA: '33 220Q33 325 87 389T206 454Q286 454 341 406L351 398V455H441V-194H348V41L338 35Q276 -8 198 -11Q171 -11 154 -5Q102 12 68 74T33 220ZM126 220Q126 160 161 113T251 65Q305 65 351 123V298L350 301Q349 304 347 308T342 319T336 331T327 343T315 355T300 365T283 373Q273 375 256 375Q208 375 167 332T126 220',
    0x1D5CB: '171 389Q237 455 320 455H327V373H317Q262 369 220 336T167 248Q165 239 164 119V0H74V450H159V377L171 389',
    0x1D5CC: '33 326Q33 376 60 408T117 450T175 460H190Q245 460 272 454T345 429Q345 428 338 388L331 349Q278 386 188 386H183Q119 386 119 336Q119 307 142 295T210 276T278 256Q360 213 360 130Q360 108 354 88T332 43T281 5T195 -10Q152 -10 111 1T49 22T28 35Q29 36 32 56T39 95T43 115T51 110T72 99T102 85T143 73T193 68Q274 68 274 123Q274 152 248 167Q234 178 187 186T115 207Q66 229 46 273Q33 298 33 326',
    0x1D5CD: '333 27Q333 24 314 16T257 -1T184 -10H172Q146 -10 128 14T105 58T99 91Q95 113 95 251V371H18V444H98V571H182V444H316V371H182V253Q183 128 189 104Q199 68 234 68Q277 72 314 98Q315 93 323 61T333 27',
    0x1D5CE: '353 39Q352 38 344 34T331 27T315 19T295 11T270 3T241 -3T207 -8T168 -10H162Q148 -10 137 -8T111 2T87 30T74 81Q73 89 73 268V444H166V268L167 92Q171 79 174 74T192 64T238 59Q317 59 344 116Q349 128 349 148T350 291V444H443V0H353V39',
    0x1D5CF: '178 0Q15 441 14 442Q14 444 60 444Q107 444 107 442Q108 441 136 364T196 194T232 67Q233 98 280 234T356 442Q356 444 401 444T446 442L282 0H178',
    0x1D5D0: '14 444H105L108 434Q192 160 200 74V65L201 75Q206 144 282 399L296 444H381L399 381Q480 112 480 69L481 70Q481 113 562 386L580 444H668L534 1L483 0H432L429 10Q343 294 338 367L337 377Q336 375 336 370Q336 340 313 250T269 88T245 11L242 0H195L148 1L14 444',
    0x1D5D1: '187 229L6 444H107L227 294L344 444H393L442 443Q439 437 299 268L267 229L460 0H359L294 88Q280 107 262 131T236 166L227 177L100 0H0Q1 1 47 58T140 171T187 229',
    0x1D5D2: '113 -204Q83 -204 63 -200L43 -197Q43 -196 40 -157T36 -117L48 -121Q79 -133 114 -133Q124 -133 130 -132T145 -121T163 -94Q169 -82 184 -42T200 1L188 29Q176 57 152 115T107 223T62 330T26 416L14 443Q14 444 61 444H109L122 411Q230 155 236 75L237 65V74Q245 161 348 424L356 444H401Q446 444 446 443L396 313Q345 183 293 49T236 -93Q191 -204 123 -204H113',
    0x1D5D3: '42 370V444H400V395L156 76L279 77H402V0H28V51L273 371L157 370H42',
    0x1D5D4: '110 0H86Q42 0 42 27Q42 37 148 350T258 667Q269 687 291 692Q295 694 366 694H399Q432 694 448 689T474 667Q477 663 583 350T690 27Q690 0 642 0H617H592Q582 0 575 1T561 2T549 6T541 11T533 18T527 26T522 37T517 49T512 64T506 81L490 130H225Q225 128 208 79T189 27Q185 19 180 14T170 7T156 3T143 1T127 0T110 0ZM439 279Q359 524 359 547L357 555L355 543Q347 503 270 263L259 231H357Q455 231 455 232L439 279',
    0x1D5D5: '119 1Q98 5 92 28V667Q98 686 118 693Q121 694 272 694H289H346Q439 694 500 681T600 625Q640 580 640 513Q640 451 601 414T504 364L518 361Q568 351 602 329T649 280T666 235T671 197Q671 172 665 147T642 91T586 37T488 5Q456 1 282 1H119ZM489 509Q489 532 479 548T450 573T421 585T394 591Q387 592 315 593H247V404H298H325Q432 404 466 444Q489 470 489 509ZM517 194Q517 235 502 261T458 299T407 313T353 317H329H322H247V101H319H357Q387 101 407 103T452 111T492 133T514 171Q516 176 517 194',
    0x1D5D6: '423 -11Q339 -11 275 9T171 62T106 143T71 240T61 347Q61 450 93 527Q157 664 313 694Q357 704 416 704Q479 704 517 699T608 676Q634 667 635 660Q635 653 624 592L612 528L609 524Q604 521 601 521Q595 521 583 531T555 555T505 578T428 589H424Q298 589 250 494Q224 438 224 347Q224 292 233 251T265 175T329 122T432 104Q488 104 524 115T604 158Q607 160 610 162T615 165T619 168L621 170Q625 172 630 170T637 163Q638 160 642 109T647 54Q646 49 625 37T568 11T499 -7Q463 -11 423 -11',
    0x1D5D7: '119 1Q98 5 92 28V667Q98 686 118 693H124Q131 693 142 693T168 694T200 694T237 694H296Q416 694 450 692T525 677Q732 617 732 342Q732 169 644 81Q593 32 528 16T372 0Q356 0 324 0T276 1H119ZM573 349Q573 387 571 413T559 473T532 527T482 567T403 591Q395 592 320 593H250V101H321Q418 102 456 114Q553 144 569 263Q573 303 573 349',
    0x1D5D8: '277 122Q280 122 380 123T544 125Q552 125 557 125T565 124T569 124Q595 115 595 75V62V47Q595 9 569 2Q564 0 341 0L119 1Q99 7 92 28V664Q98 683 118 690Q121 691 335 691T554 689Q580 682 580 644V632V618Q580 582 554 573Q553 573 551 573T542 572T527 572Q464 572 364 573T260 575H253V412H385H459Q524 412 536 404T549 357Q549 341 549 334T542 318T523 305Q518 303 385 303H253V122H277',
    0x1D5D9: '512 572Q451 572 356 573T258 575H253V400H370H431Q494 400 506 392T518 345Q518 307 507 299T437 291H370H253V161Q253 141 253 113T254 75Q254 23 245 12T195 0H170L119 1Q99 7 92 28V664Q98 683 118 690Q121 691 327 691T538 689Q564 682 564 644V632V618Q564 582 538 573Q537 573 535 573T526 572T512 572',
    0x1D5DA: '61 347Q61 405 70 454T105 550T171 631T276 685T426 705Q483 705 537 693T620 668T650 646Q650 645 649 637T645 612T639 578L627 514L624 510Q620 507 615 507T597 520T566 548T512 577T430 590Q223 590 223 347T431 104Q478 104 506 112Q508 112 508 164V215H471L434 216L428 222L427 268Q427 315 429 318Q432 323 444 323T544 324H652Q655 320 659 317V45L656 43Q654 39 624 27T536 2T424 -11Q366 -11 317 -2T219 33T137 97T82 200T61 347',
    0x1D5DB: '92 667Q101 694 143 694H172H198Q244 694 251 669Q253 663 253 539V415H540V539Q540 558 540 585T539 621Q539 673 550 683T611 694H621H646Q671 694 683 690T700 669Q702 663 702 347T700 25Q696 9 684 5T646 0H621H606Q560 0 550 11T539 76Q539 85 539 116T540 169V306H253V169Q253 147 253 116T254 75Q254 23 245 12T194 0H170L119 1Q99 7 92 28V667',
    0x1D5DC: '85 667Q94 694 136 694H165H191Q237 694 244 669Q246 663 246 347T244 25Q235 0 192 0H163L112 1Q92 7 85 28V667',
    0x1D5DD: '236 -22Q190 -22 144 -11T72 12T46 29Q63 147 69 153Q80 164 92 146Q124 91 191 91Q222 91 242 102T267 134Q268 139 268 402Q268 663 270 669Q275 687 294 692Q298 694 347 694H367Q393 694 406 690T425 669Q427 663 427 399Q427 132 426 125Q421 87 404 58T366 15T318 -9T273 -20T236 -22',
    0x1D5DE: '92 667Q101 694 139 694H163H186Q225 694 234 671Q236 663 236 529L237 392L533 682Q550 694 590 694H623H681Q695 680 695 672Q695 670 693 664Q688 657 561 533L431 405L698 33Q701 28 701 23Q701 7 683 0H626H604Q571 0 564 2T545 13Q544 14 530 33T489 90T437 162L332 307Q331 307 284 260L236 214V122V65Q236 32 231 19T210 2Q205 0 161 0L119 1Q99 7 92 28V667',
    0x1D5DF: '92 667Q98 684 109 689T142 694H172H198Q244 694 251 669Q253 663 253 389V116L278 117Q410 119 490 119H495Q511 119 517 115T534 93V63V48Q534 9 508 2Q503 0 310 0L119 1Q99 7 92 28V667',
    0x1D5E0: '92 667Q98 684 109 689T146 695Q152 695 167 695T192 694Q200 694 214 694T234 695Q291 695 305 664Q313 651 400 419T487 165Q487 162 488 162T489 165Q489 187 574 413T671 664Q679 680 695 688Q708 694 785 694H828Q855 694 867 689T884 669Q886 663 886 347T884 25Q876 0 832 0H817H802Q758 0 750 25Q748 31 748 293V555L746 544Q737 509 692 386T606 160T564 52Q548 22 502 22H487H472Q423 22 410 52Q407 59 367 160T283 385T231 546L230 548Q229 548 229 293Q229 31 227 25Q222 9 211 5T176 0H158L119 1Q99 7 92 28V667',
    0x1D5E1: '92 667Q98 684 109 689T146 694H185Q273 694 279 692Q301 689 315 669Q322 660 419 453L554 163L562 143Q564 143 564 401Q564 663 566 669Q574 694 618 694H633H648Q692 694 700 669Q702 663 702 347T700 25Q696 10 683 5T642 0H596H551Q520 0 505 4T478 25Q471 34 374 241L239 532Q231 550 231 552L229 479Q229 440 229 293Q229 31 227 25Q222 9 211 5T176 0H158L119 1Q99 7 92 28V667',
    0x1D5E2: '362 715Q364 715 376 715T394 716H400Q542 716 626 643T727 426Q731 395 731 342Q731 271 722 225Q674 -22 396 -22Q320 -22 259 -3T148 68T77 201Q62 257 62 342Q62 447 86 522T173 649Q245 707 362 715ZM568 433Q551 623 396 623Q383 623 370 622T333 612T292 591T257 550T233 485Q223 442 223 350Q223 276 232 227T267 137Q309 74 397 74Q433 74 461 85T507 113T537 156T556 205T566 260T569 310T570 357Q570 409 568 433',
    0x1D5E3: '641 470Q641 426 630 391T603 334T561 295T513 271T459 259T408 254T361 253H350H337H253V142Q253 125 253 100T254 67Q254 32 249 19T227 2Q222 0 170 0L119 1Q99 7 92 28V667Q98 686 118 693Q121 694 271 694Q428 693 462 688Q641 656 641 470ZM487 467Q487 495 485 510T474 546T442 578T382 592Q375 593 310 593H250V347H309H339Q364 347 380 348T418 354T451 368T474 395T486 438Q487 444 487 467',
    0x1D5E4: '450 -20Q444 -20 429 -21T396 -22Q320 -22 259 -3T148 68T77 201Q62 257 62 342Q62 447 86 522T173 649Q245 707 362 715Q364 715 376 715T394 716Q732 716 732 340Q732 268 719 210T686 120T647 68T615 39T601 29T638 -22T676 -73Q679 -78 679 -83Q679 -98 661 -106H593Q526 -106 521 -104Q514 -103 507 -97T496 -84T477 -55L454 -19L450 -20ZM554 509Q516 622 391 622Q294 622 250 535Q220 475 220 345Q220 299 222 266T234 198T258 140T299 99T363 74Q378 71 393 71H395L381 92Q367 114 353 136T338 161Q336 165 336 170Q336 186 352 193L361 194Q370 194 384 194T412 194H452Q457 194 460 194T466 194T471 192T476 191T480 188T483 185T487 180T492 174T497 167T504 158L526 129Q532 127 552 175Q573 231 573 348Q573 455 554 509',
    0x1D5E5: '654 24Q654 9 644 5T612 0H577L521 1Q509 5 503 13Q498 20 421 160L343 304H250V168Q250 147 250 118T251 78Q251 24 242 12T192 0H168L119 1Q99 7 92 28V667Q98 686 118 693H124Q131 693 141 693T165 694T195 694T229 694T280 694T332 695Q389 695 428 691T510 675T582 637T627 569Q641 532 641 493Q641 377 537 331L497 317L493 316L571 177Q653 28 654 24ZM487 472T487 492T485 525T476 553T450 577T404 591Q398 592 322 593H250V391H321Q327 391 353 391T385 392T412 395T438 401T457 412T474 430T483 456',
    0x1D5E6: '61 503Q61 547 72 583T110 650T186 698T305 716Q405 716 496 671Q513 664 514 657Q514 656 513 648T509 623T503 589L491 525L488 521Q484 518 479 518H475L461 532Q430 565 395 581T305 598Q201 598 201 523Q201 480 240 462T345 431T443 394Q549 324 549 204Q549 160 538 123T502 51T427 -2T308 -22Q180 -22 69 41Q50 52 49 57Q49 58 50 66T54 91T60 125L72 189L75 193Q80 196 84 196Q87 196 104 182T145 149T212 117T304 102Q408 102 408 188Q408 215 396 234T362 263T319 278T267 290T219 302Q149 324 105 380T61 503',
    0x1D5E7: '67 687Q70 688 366 688Q661 688 666 686Q692 680 692 641V629V615Q692 579 666 570H660Q655 569 648 569Q645 569 624 569T581 570Q505 570 475 572H447V302Q447 31 445 25Q436 0 393 0H364L313 1Q293 7 286 28L285 300V572H257Q227 570 151 570Q130 570 109 570T84 569Q77 569 72 570H66Q48 577 44 588T40 631L41 661Q47 680 67 687',
    0x1D5E8: '92 667Q101 694 143 694H172H200Q242 694 251 671Q253 663 253 430Q254 189 255 185Q262 134 288 107T384 79Q498 79 516 168Q520 191 521 431Q521 663 523 671Q532 694 572 694H596H618Q639 694 648 692T665 679Q671 672 671 653Q672 632 672 555V432Q671 200 670 190Q652 79 581 29T383 -22Q137 -22 98 166Q92 195 92 303V667',
    0x1D5E9: '27 667Q27 683 39 688T75 694H101Q155 694 159 692Q182 687 194 665Q202 652 283 419T374 142Q376 165 473 445Q552 664 553 666Q568 694 618 694H639H658Q681 694 693 689T705 667Q705 660 592 347Q481 32 477 28Q466 7 441 1H292Q266 7 255 28Q251 32 140 347Q27 660 27 667',
    0x1D5EA: '994 694Q1012 683 1014 668Q1014 661 977 519T896 217T845 26Q831 0 783 0H747H711Q685 0 672 5T649 26Q644 36 583 272T517 548Q516 552 516 551Q503 479 437 227Q389 37 383 26Q367 0 323 0H288H254Q207 0 193 26Q191 32 108 346T24 665Q24 685 44 693Q47 694 98 694H115Q152 694 168 668Q174 657 235 417T297 144Q297 134 300 153Q307 204 362 421T427 668Q441 694 488 694H523Q586 694 597 688Q612 683 620 661T651 549Q664 496 673 462Q744 194 750 146V140Q767 223 800 354T857 576T883 668Q897 694 938 694H958H994',
    0x1D5EB: '52 1Q37 11 37 23Q37 26 39 32Q39 34 158 202L275 369Q275 370 221 441T112 586T55 663Q53 669 53 672Q53 687 68 693H72Q77 693 84 693T99 694T118 694T139 694H176Q203 694 212 692T230 682Q231 681 239 669T265 634T296 591L358 504L418 591Q481 682 486 686Q491 691 499 692Q505 694 569 694H632Q650 685 650 672Q650 667 646 660Q643 654 592 582T491 440T441 369T566 201T693 29Q694 27 694 23Q694 11 677 0H607L537 1Q523 6 519 10T437 131Q422 153 411 170T390 200T375 222T365 237T359 245L357 247L348 232Q339 218 319 188T283 131Q222 37 211 22T186 1H52',
    0x1D5EC: '635 694H668Q688 694 698 690T708 670Q708 664 704 658L446 278L445 152V27Q442 20 440 17T433 9T419 1L368 0H339Q316 0 305 5T288 26Q286 31 286 154V278L157 468Q135 500 101 550Q43 635 34 650T24 671Q24 686 39 693Q42 694 105 694H122H132Q163 694 180 689T214 666Q225 654 336 485Q373 425 373 420L374 418Q375 419 375 421Q378 432 418 493T496 609T536 667Q543 676 551 681T572 689T591 693T615 694T635 694',
    0x1D5ED: '411 584Q243 581 131 581Q122 581 116 581T106 582T102 582Q84 589 80 600T76 640L77 667Q83 686 103 693Q106 694 343 694Q579 694 584 692Q592 691 599 684T609 668Q610 665 610 646Q610 614 608 608Q605 603 434 361L261 116Q340 117 402 118T490 119T533 120T560 120H572Q605 120 614 95Q616 89 616 60V46Q616 9 590 2Q585 0 339 0Q92 0 87 2Q79 3 72 10T62 26Q61 29 61 49Q61 84 63 90Q65 94 152 217T325 461T411 584',
    0x1D5EE: '255 394Q218 394 186 383T138 358T109 333T94 321H91Q88 321 86 322T83 325T80 331T79 339T78 349T77 362T75 377Q72 410 72 420Q72 423 72 425T73 429T74 431T77 433T80 435T85 437Q166 475 262 475Q360 475 413 440Q462 406 471 341Q472 332 472 181Q472 155 472 119T473 73Q473 20 462 10T398 0H380Q349 0 337 8T324 48V65Q298 30 257 10T172 -11Q109 -11 70 37T31 145Q31 276 307 289H321V309Q321 337 318 352T300 381T255 394ZM176 146Q176 116 190 97T231 77Q251 77 266 85Q322 110 322 185Q322 189 322 192T322 198L321 201V234L308 232Q176 220 176 146',
    0x1D5EF: '54 667Q63 694 102 694H127H151Q190 694 199 671Q201 663 201 544L202 422L211 428Q270 468 355 468Q523 468 523 231Q523 -10 321 -10Q286 -10 261 -2T204 33Q197 11 187 6T142 0H126L81 1Q61 7 54 28V667ZM372 230Q372 317 355 349T280 382Q251 382 204 356V107Q235 76 274 76Q301 76 320 84T349 105T364 139T371 180T372 230',
    0x1D5F0: '188 233Q188 199 190 177T200 131T225 95T271 83H281Q356 83 421 130Q433 138 434 139Q446 141 448 131Q449 128 453 84T457 36Q455 30 432 20T364 -1T273 -11Q37 -11 37 232Q37 456 244 474Q246 474 257 474T276 475Q349 475 400 455Q443 436 448 431L451 425Q451 419 443 377Q442 372 441 366T439 356T438 348T436 340T435 334T433 330T431 327T429 325T426 324Q420 324 406 336Q376 362 350 372T281 382Q254 382 236 373T208 352T194 317T189 278T188 233',
    0x1D5F1: '225 -11Q192 -11 164 -3T104 29T55 102T37 227Q37 321 63 376Q111 469 223 469Q292 469 349 433L359 426V546Q359 564 359 589T358 623Q358 675 369 684T433 694H451Q497 694 505 669Q507 663 507 347T505 25Q500 9 487 5T450 0H432H413Q356 0 356 36V40Q298 -11 225 -11ZM356 359Q326 382 286 382Q239 382 215 358Q189 330 189 256V229V203V195Q189 102 231 86Q251 76 274 76Q318 76 356 114V359',
    0x1D5F2: '30 231Q30 301 51 351T107 426T181 463T262 474H268Q293 474 312 472T366 459T422 427T462 363T480 260Q480 230 466 222T405 213Q395 213 364 213T311 214H173V211Q173 183 183 148T216 96Q244 76 287 76Q319 76 350 85T399 104T433 125T451 136Q463 138 465 128Q466 125 469 84T473 39Q471 29 423 13T330 -9Q321 -10 286 -10Q213 -10 161 11T81 68T42 144T30 231ZM353 292Q350 324 342 344T320 373T294 384T264 387Q191 387 175 286V282H353V292',
    0x1D5F3: '67 458H78V502V509Q78 538 79 556T90 604T117 651T169 685T253 704Q254 704 258 704T265 705T275 705T287 704Q364 704 381 687V638V607Q381 591 378 585T366 579Q362 581 351 591T323 610T282 618Q238 618 226 587Q224 581 223 519V458H253Q288 458 298 453Q315 441 315 415Q315 399 312 390T299 377T282 372T259 371H255H226V201Q226 31 224 25Q215 0 174 0H150L106 1Q86 7 79 28L78 199V371H69Q29 371 29 412Q29 425 30 431T40 447T67 458',
    0x1D5F4: '63 108Q63 142 83 176L76 184Q35 227 35 300Q35 469 243 469Q330 469 385 437L397 443Q451 469 508 469Q515 468 517 466T522 456T528 425Q534 392 534 386Q532 379 523 377Q520 377 509 381T477 390T431 398L425 399Q453 362 453 297Q453 268 445 242T417 189T351 146T242 130Q169 130 119 153Q117 141 117 136Q117 95 155 83Q161 81 252 81Q354 80 362 79Q437 71 475 48T526 -24Q532 -42 532 -65Q532 -116 489 -156T341 -204Q323 -206 274 -206H256Q39 -206 18 -84Q17 -79 17 -68Q17 15 82 42L76 53Q63 79 63 108ZM310 300Q310 359 298 377T238 396Q217 396 204 390T186 368T179 339T178 300Q178 245 189 224T244 203T299 224T310 300ZM414 -66Q414 -55 411 -47T401 -32T387 -21T368 -14T346 -10T322 -7T297 -6T271 -6T246 -6H193Q163 -6 154 -10T140 -30Q135 -45 135 -62Q135 -134 274 -134Q414 -134 414 -66',
    0x1D5F5: '53 667Q62 694 101 694H126H148Q191 694 198 669Q200 663 200 526V390Q263 469 361 469Q390 469 412 465T456 449T491 413T507 351Q508 342 508 185Q508 31 506 25Q498 0 450 0H432H413Q368 0 359 23Q357 31 357 186Q356 345 355 350Q349 369 336 376Q324 381 301 381H298Q269 381 242 362Q217 342 210 316T202 239Q202 229 202 202T203 157V82Q203 24 195 12T146 0H125L80 1Q60 7 53 28V667',
    0x1D5F6: '72 574Q55 583 51 591T46 619V636L47 670L48 673Q50 676 52 678T56 684T63 690T73 694H81Q89 694 102 694T129 695H181Q193 687 196 685T203 676T207 661T208 634Q208 603 204 593T181 574H72ZM54 431Q63 458 102 458H127H149Q192 458 199 433Q201 427 201 229T199 25Q190 0 149 0H125L81 1Q61 7 54 28V431',
    0x1D5F7: '70 634V648Q70 686 96 693Q100 695 151 695H176Q201 695 213 691T230 670Q232 665 232 634V620Q232 582 206 575Q202 573 151 573H126Q101 573 89 577T72 598Q70 603 70 634ZM-41 -84Q-1 -105 28 -105Q67 -105 78 -85Q83 -77 83 -48T84 180Q84 427 86 433Q93 458 136 458H158H180Q201 458 209 456T225 443Q230 436 231 418Q232 397 232 313V183V124V40Q232 -55 228 -87T203 -147Q166 -205 78 -205Q31 -205 -20 -189T-71 -159Q-71 -156 -62 -124T-52 -89Q-49 -84 -41 -84',
    0x1D5F8: '496 23Q496 9 487 5T457 0H427H398Q367 0 354 11Q352 12 288 99L226 183L191 150V90V54Q191 30 186 18T165 2Q160 0 124 0L90 1Q70 7 63 28V667Q72 694 108 694H128H146Q183 694 192 671Q194 663 194 496L195 325L254 383Q266 394 281 409T301 429T316 441T329 450T341 455T357 458T376 458H409H436Q461 458 470 454T480 437Q480 430 477 427T445 395Q417 368 396 347L319 271Q319 270 358 217T442 103T494 32Q496 30 496 23',
    0x1D5F9: '54 667Q63 694 102 694H127H149Q192 694 199 669Q201 663 201 347T199 25Q190 0 149 0H125L81 1Q61 7 54 28V667',
    0x1D5FA: '197 386Q256 468 366 468Q404 468 430 461T471 438T491 413T503 385Q563 469 666 469Q731 469 769 446T814 350Q815 343 815 185Q815 31 813 25Q808 9 796 5T758 0H737L692 1Q672 7 665 28L664 186V206V290Q664 349 655 365T610 381Q581 381 560 370T529 341T515 311T510 291Q509 286 509 157V82Q509 24 501 12T452 0H431L386 1Q366 7 359 28L358 186V206V290Q358 349 349 365T304 381Q275 381 254 370T223 341T209 311T204 291Q203 286 203 157V82Q203 24 195 12T146 0H125L80 1Q60 7 53 28V437Q58 453 80 464H122H142Q167 464 178 460T195 439Q197 434 197 409V386',
    0x1D5FB: '197 386Q264 468 350 468Q375 468 390 467T429 460T466 443T492 408T507 351Q508 342 508 185Q508 31 506 25Q498 0 450 0H432H413Q368 0 359 23Q357 31 357 186Q356 345 355 350Q349 369 336 376Q324 381 301 381H298Q269 381 242 362Q217 342 210 316T202 239Q202 229 202 202T203 157V82Q203 24 195 12T146 0H125L80 1Q60 7 53 28V437Q58 453 80 464H122H142Q167 464 178 460T195 439Q197 434 197 409V386',
    0x1D5FC: '274 -11Q32 -11 32 225Q32 346 85 406T249 474H266H271Q302 474 325 471T385 458T451 419T498 346Q518 300 518 225Q518 -11 274 -11ZM367 233Q367 322 350 354T270 387Q240 387 222 377T195 344T184 298T182 233Q182 151 198 117T275 83H282Q318 83 339 104Q355 119 361 146T367 233',
    0x1D5FD: '125 458H139Q174 458 185 452T202 420L211 426Q245 448 288 458T354 469Q356 469 361 469T369 468Q443 468 481 412Q523 355 523 223Q523 164 509 120T473 51T423 12T371 -7T323 -11Q260 -11 204 33V-65Q204 -80 204 -102T205 -131Q205 -162 200 -175T178 -192Q173 -194 126 -194L81 -193Q61 -187 54 -166V431Q58 447 81 458H125ZM372 230Q372 376 282 376Q247 376 204 352V107L208 103Q213 99 218 95T232 87T251 79T274 76Q323 76 349 116Q372 153 372 230',
    0x1D5FE: '226 -11Q37 -11 37 236Q37 294 51 338T86 407T135 445T186 464T233 469H235Q300 469 349 422L359 413V425Q359 452 376 464Q384 469 433 469H455Q498 469 505 444Q507 438 507 137Q507 -163 505 -169Q500 -185 487 -189T450 -194H432H413Q367 -194 358 -171Q356 -163 356 -63V40L348 33Q296 -11 231 -11H226ZM281 375Q188 375 188 228Q188 77 275 77Q322 77 359 120V328Q338 357 324 366T281 375',
    0x1D5FF: '54 437Q58 453 81 464H122H147Q186 464 194 439Q196 434 196 405V377L203 387Q245 456 324 468Q325 468 331 468T340 469Q347 469 356 462V360Q350 355 346 354T339 353T326 353T300 347Q260 337 234 311T202 252Q201 247 201 138Q201 122 201 98T202 66Q202 33 197 20T175 2Q170 0 125 0L81 1Q61 7 54 28V437',
    0x1D600: '37 328Q37 392 75 433T203 474Q254 474 265 473Q319 465 370 442Q378 439 380 432Q380 426 372 384Q364 336 359 333Q358 331 355 331Q348 331 337 341Q282 388 216 388H208Q190 388 180 387T161 377T151 351Q151 333 164 323T224 306L267 297Q314 285 355 246T396 144Q396 17 282 -5Q260 -10 218 -10Q170 -10 124 2T55 26T30 44Q30 48 39 99T49 153Q52 159 60 159Q66 159 70 153Q100 120 133 101T218 82Q231 82 238 83T258 87T277 101T283 126Q283 149 260 160T200 176T153 186Q109 201 73 236T37 328',
    0x1D601: '225 267Q225 202 226 169T232 115T244 88T265 82Q295 84 318 100T345 116Q352 116 354 110T364 77Q373 46 373 43Q373 28 312 9T190 -10Q160 -10 139 1T107 29T89 77T82 136T80 210V258V371H66H59Q39 371 27 386Q20 394 20 417Q21 432 23 437Q35 458 60 458H65H83V510L84 562Q93 589 131 589H154H174Q216 589 223 564Q225 558 225 508V458H274Q330 458 338 453Q355 441 355 415Q355 388 338 376Q330 371 274 371H225V267',
    0x1D602: '53 431Q62 459 100 459Q105 459 114 459T127 458H152Q192 458 201 435Q203 427 203 262Q204 86 208 77Q209 74 216 71Q227 66 258 66H264Q334 66 354 140L356 150L357 290Q357 427 359 435Q365 449 377 453T412 458H432H450Q498 458 506 433Q508 427 508 229T506 25Q498 0 451 0H434H418Q386 0 374 7T360 43V58L352 49Q298 -11 199 -11Q135 -9 101 11T56 80Q52 100 52 273L53 431',
    0x1D603: '26 429T26 435T32 448T44 456Q48 458 85 458H99Q145 458 161 431Q162 429 207 285L251 145L294 284Q333 410 341 430Q351 451 374 456Q379 458 420 458H430Q450 458 457 456T471 443Q473 437 473 435Q473 426 443 325T381 126L350 28Q339 7 316 2Q312 0 250 0Q187 0 183 2Q160 7 149 28L136 68Q124 109 106 166T70 283T39 385',
    0x1D604: '699 458Q717 447 719 432Q719 426 666 230T610 27Q602 10 588 5T548 0H512H482Q431 0 420 17T384 135Q356 241 352 298V308L351 295Q348 251 322 145T290 28Q279 0 233 0H212H191Q146 0 133 27Q130 33 77 229T24 430Q24 449 44 457Q47 458 79 458Q122 458 126 456Q154 450 163 419L233 153Q241 187 272 304T307 431Q318 458 368 458Q394 458 398 456Q421 451 430 431Q434 423 509 147L547 286Q582 416 588 429Q600 454 624 457Q632 458 647 458H663H699',
    0x1D605: '92 0Q87 0 77 0T62 -1Q24 -1 24 22Q24 29 33 41T106 136Q185 237 184 238Q184 239 147 284T73 376T33 427Q31 430 31 436Q31 451 45 457Q48 458 96 458H122Q152 458 163 450T208 394L247 345L282 394Q288 403 297 416T309 434T319 444T328 452T338 455T352 458T372 458H393H440Q457 449 457 435Q457 428 450 419T379 328Q308 239 308 237L389 137Q409 112 436 79Q475 31 475 23Q475 -1 436 -1Q432 -1 422 -1T407 0Q360 0 352 3Q343 6 336 16T291 83L247 151L245 148Q243 145 239 139T229 124T218 106T204 84Q167 24 160 15T141 1L92 0',
    0x1D606: '454 458Q473 446 473 430Q473 426 394 184L311 -68Q291 -119 245 -162T123 -205Q51 -205 46 -190Q44 -187 40 -142T36 -92Q36 -90 36 -88L37 -87Q41 -80 46 -80Q48 -80 73 -92T126 -105Q146 -105 161 -98T185 -76T197 -53T206 -28L215 0L122 212Q29 427 29 435Q29 448 46 457Q49 458 91 458Q93 458 106 458T125 457T140 454T157 446T170 431Q183 410 224 305T266 158Q266 152 266 151Q267 151 268 163Q271 206 302 310T342 432Q354 458 398 458H418H454',
    0x1D607: '268 376Q250 376 180 375T92 374Q69 374 63 380Q46 390 46 419Q46 428 49 437Q57 451 73 457Q76 458 242 458T413 456Q420 455 427 448Q439 438 439 413Q439 392 433 385Q432 383 318 236T204 88Q235 88 306 89T395 90H399Q408 90 414 89T427 84T438 70T442 45Q442 9 416 2Q411 0 236 0H136Q73 0 62 1T41 12Q31 23 31 47Q31 68 36 77Q37 78 51 97T96 155T153 228L268 376',
    0x1D608: '28 0L429 694H533L585 350Q596 275 610 182T632 46L638 3V0H530L528 18Q527 25 515 103T503 183H223L135 29L118 1L73 0H28ZM492 254Q492 256 473 398T454 589V610Q433 552 290 301L264 255L378 254H492',
    0x1D609: '501 363Q557 355 605 316T653 222Q653 148 586 85T403 2Q394 1 240 0Q90 0 90 1L100 46Q109 90 128 177T164 348L238 694H375Q518 693 546 688Q614 674 655 635T696 544Q696 490 648 441T516 368L501 363ZM601 530Q601 568 566 590T479 621Q472 622 394 623H320L297 513Q292 489 286 459T276 415L273 401V399H339H372Q504 399 571 466Q601 498 601 530ZM257 322Q256 320 230 197T203 73Q203 71 289 71Q379 72 387 73Q459 84 507 122T556 210Q556 255 519 283T428 320Q415 322 336 323Q257 323 257 322',
    0x1D60A: '124 266Q124 372 179 473T333 639T544 705Q592 705 635 697T698 679L718 670Q719 669 701 621T681 572L676 576Q670 580 661 586T641 598T614 611T583 620Q558 625 526 625Q406 625 318 516T230 276Q230 238 236 212Q251 148 294 108T412 68Q469 68 508 80T598 123Q608 129 608 128Q606 109 603 87L598 45L573 33Q521 7 486 -1T394 -10Q358 -10 346 -8Q260 5 202 62Q124 145 124 266',
    0x1D60B: '162 348L236 694H385Q535 693 543 692Q600 682 641 654T705 586T737 506T747 425Q747 296 672 187Q625 114 548 62T384 1Q376 0 262 0Q88 0 88 1L98 46Q107 90 126 177T162 348ZM622 533Q575 624 443 624Q434 624 419 624T399 623H321L263 348Q249 283 234 213T212 107L204 72Q204 71 289 71Q374 72 386 74Q501 94 573 193T646 422Q646 487 622 533',
    0x1D60C: '86 2Q88 4 160 346T233 689Q233 691 461 691Q688 691 688 689Q685 686 671 611H495L320 612L319 609Q319 607 297 501L274 397H436Q597 397 597 396L596 391Q595 386 593 376T589 358L581 322L420 321Q258 321 258 320Q209 89 208 87Q208 85 390 85Q417 85 460 85T518 86L572 85Q556 8 554 2V0H86V2',
    0x1D60D: '86 2Q88 4 160 346T233 689Q233 691 453 691T673 689Q670 686 656 611H488L320 612Q314 579 302 523T281 427T272 385Q272 384 419 384H567L551 308H255L223 156Q216 124 207 82T194 20L190 2Q190 0 138 0H86V2',
    0x1D60E: '125 267Q125 375 182 476T337 641T544 705Q598 705 644 693T710 669T730 655L712 609L693 560L692 557L681 567Q618 626 526 626Q447 626 378 573T269 440T229 277Q229 185 276 127T406 68Q422 68 451 71T502 78T524 84L526 93Q528 102 532 119T539 153L553 222Q553 223 495 223Q436 223 436 224Q436 230 444 262L452 299H662V296Q661 290 635 166T607 40Q606 37 576 25T492 1T391 -11Q272 -11 199 66T125 267',
    0x1D60F: '517 2Q518 3 551 161T585 322Q586 323 557 323T422 323H259L190 0H138Q86 0 86 1L96 46Q105 90 124 177T160 348L234 694H337V691Q336 690 306 545T275 399H602L603 403Q603 407 634 551L665 694H768V691Q768 690 695 348T621 2V0H517V2',
    0x1D610: '161 348L235 694H338V691Q338 690 265 348T191 2V0H139Q87 0 87 1L96 46Q106 90 125 177T161 348',
    0x1D611: '377 424L435 694H535V691Q534 685 476 412T416 135Q401 74 350 26T210 -22Q165 -22 124 -11T65 9T46 21L54 41Q62 61 70 83T81 109Q82 111 85 106Q86 105 87 103Q93 94 103 84T135 64T185 53Q238 53 272 76T317 142Q317 145 325 182T348 289T377 424',
    0x1D612: '236 223Q235 222 213 113T188 2V0H138Q88 0 88 1L98 46Q107 90 126 177T162 348L236 694H285Q335 694 335 693L330 671Q326 649 316 603T298 518Q289 477 280 433T266 366L261 343L672 694H729L784 693L465 420L651 0H596L541 1L384 350Q383 351 310 288T236 223',
    0x1D613: '161 348L235 694H338V691Q338 690 273 385T208 79Q278 80 362 80H516Q502 11 499 2V0H293Q87 0 87 1L96 46Q106 90 125 177T161 348',
    0x1D614: '375 691Q456 215 459 124V106Q488 177 762 641L793 694H929V691Q929 690 856 348T782 2V0H689V2Q691 4 753 304Q817 604 818 606Q819 611 817 608Q817 607 815 603Q798 559 540 117L484 22H440L397 23L393 42Q393 47 373 169T334 422T315 594V609L250 306Q186 3 185 2Q185 0 138 0Q92 0 92 1L102 46Q111 90 130 177T166 348L240 694H375V691',
    0x1D615: '311 609Q310 608 246 306T181 2V0H134Q88 0 88 1L98 46Q107 90 126 177T162 348L236 694H382L383 691Q383 688 418 561T493 286T541 97L544 84L545 89Q545 90 553 128T578 246T610 394L674 694H766V691Q766 690 693 348T619 2V0H472L469 13Q468 17 393 293T312 605L311 609',
    0x1D616: '118 254Q118 366 174 473T324 648T517 716Q627 716 695 638T763 435Q763 321 706 215T555 43T362 -22Q256 -22 187 56T118 254ZM380 58Q452 58 518 116T622 263T661 442Q661 496 646 535T608 594T567 622T534 634Q516 636 496 636Q400 636 313 528T225 264Q225 172 267 115T380 58',
    0x1D617: '162 348L236 694H378Q522 693 530 692Q604 680 647 635T690 524Q690 474 665 430T612 359Q550 299 465 280Q443 275 343 274H250V271Q250 269 235 201T206 68T192 2V0H140Q88 0 88 1L98 46Q107 90 126 177T162 348ZM594 513Q594 560 562 588T477 622Q470 623 394 623H321L293 487L263 349V347H342H347H375Q530 347 578 449Q594 483 594 513',
    0x1D618: '118 254Q118 366 174 473T324 648T517 716Q627 716 695 638T763 435Q763 305 693 194T543 36Q547 29 586 -47T625 -125H504L450 -8Q406 -22 363 -22Q256 -22 187 56T118 254ZM661 437Q661 532 616 584T506 636Q428 636 361 578T257 433T220 258Q220 167 264 113T380 58Q390 58 397 58T408 59T413 60T417 61Q417 63 387 127T356 193Q356 194 409 194H462L485 150L508 105Q509 103 532 125T567 161Q661 278 661 437',
    0x1D619: '162 348L236 694H375H414H445Q507 694 538 690T606 668Q698 623 698 534V528Q698 447 608 377Q582 358 555 345T512 326L497 321L617 0H565L513 1L402 309H255L189 0H138Q88 0 88 1L98 46Q107 90 126 177T162 348ZM603 525Q603 603 499 620Q486 622 403 623H321L297 506Q292 482 285 449T274 402L271 387V385H346Q350 385 363 385T386 384Q548 384 592 479Q603 503 603 525',
    0x1D61A: '161 478Q161 568 242 642T435 716Q527 716 599 673L609 667Q595 633 589 615L571 568Q570 568 564 575T546 592T518 611T475 628T417 635Q351 635 305 596T259 507Q259 465 290 444T372 411T432 396Q473 385 509 343T545 236Q545 140 464 59T270 -22Q155 -22 54 48L92 146Q93 146 101 138T124 117T161 92T216 72T288 63Q360 63 403 109T447 204Q447 220 444 233T435 256T421 273T404 285T385 295T366 301T347 306T331 310T315 314T292 321T265 331T235 346T207 367T183 395T168 431T161 478',
    0x1D61B: '165 608L182 687Q182 688 486 688H790L789 685L781 645L773 609H521L457 306Q393 3 392 2Q392 0 340 0H288V2Q289 5 353 304T417 605V609L291 608H165',
    0x1D61C: '340 -22Q251 -22 191 33T131 177V187Q131 192 131 195T132 205T133 215T136 231T141 253T147 285T156 328T168 384T184 457L235 694H338V691Q338 690 288 451T236 210Q234 194 234 177Q234 138 247 111T280 72T319 54T357 49Q408 49 449 74T510 128Q516 136 521 143T530 158T538 175T545 194T553 220T560 250T569 289T579 336T591 395T606 464L655 694H747V691Q651 243 645 213Q623 149 587 102Q482 -22 340 -22',
    0x1D61D: '220 348L161 694H216Q270 694 270 693L283 613Q334 313 346 215Q359 102 359 96Q359 87 358 84Q388 162 684 657L706 694H753Q799 694 799 693L387 0H333Q279 0 279 1L272 45Q264 89 249 177T220 348',
    0x1D61E: '596 540Q596 562 597 585T599 609Q599 588 436 255Q402 185 362 104L310 0H213V3Q213 6 188 347T161 694H263L265 664Q290 327 293 184Q293 112 289 85Q290 85 290 87Q290 95 301 123T332 194T373 282T419 380T463 469T498 541T517 579L574 694H671V689L674 646Q678 603 682 538T691 401T699 263T703 160Q703 102 700 87Q719 154 930 576L989 694H1076Q1076 693 903 347L730 0H628V4L626 26Q624 48 622 85T616 168T609 267T603 369T598 464T596 540',
    0x1D61F: '14 0Q17 3 184 184T352 367L265 529Q244 567 222 609T188 672L176 692Q176 694 236 694H297L338 612Q387 515 400 489L421 448L645 694H758L708 640Q481 393 456 368Q455 366 500 281T596 104T652 0H531L388 293L128 0H14',
    0x1D620: '151 692Q151 694 212 694H272L418 362L696 683L705 694H758L809 693Q809 692 630 490T444 280Q442 275 413 139L383 1L333 0Q282 0 282 2Q283 3 312 141L341 278L246 484L151 692',
    0x1D621: '67 54Q551 615 551 617Q543 618 517 618Q510 618 463 618T376 617Q200 617 200 618T209 657L216 694H459Q702 694 702 692Q702 689 697 667L692 643L207 80H392Q493 81 577 81Q577 70 560 2V0H55V2L67 54',
    0x1D622: '313 386Q286 386 260 381T217 369T186 355T164 342T155 337Q154 338 159 377T165 418Q251 461 320 461Q322 461 328 461T337 460Q397 460 435 424T473 329Q473 325 473 318T472 308Q432 110 407 2V0H317V2L325 38Q295 21 269 10Q215 -10 156 -10H149Q76 -10 62 69Q61 75 61 90Q61 127 73 150T116 194Q146 215 207 231T348 252H368L373 277Q378 302 378 318Q378 367 339 384Q332 386 313 386ZM150 116Q150 93 171 79T223 65Q259 65 293 85T341 135Q343 140 348 160T353 184Q353 186 342 186Q298 186 231 174T153 134Q150 127 150 116',
    0x1D623: '302 -11Q266 -11 235 1T190 26L176 38Q170 8 168 2V0H121Q75 0 75 1L84 46Q94 90 113 177T149 348L223 694H267Q312 694 312 693T282 551T251 407Q251 406 256 408T271 415Q347 454 430 454H438Q501 454 528 374Q539 339 539 299Q539 179 466 84T302 -11ZM443 275Q443 317 421 348T346 379Q318 379 296 369Q269 359 238 332L193 118L198 109Q220 65 269 65Q350 65 396 130T443 275',
    0x1D624: '75 164Q75 226 100 282T165 377T252 437T342 460H347Q447 460 499 417L483 378Q468 339 468 338Q466 338 455 347T424 366T385 378Q355 382 334 382Q262 382 215 318T168 177Q168 120 196 95T259 69H269Q345 69 420 108Q432 114 432 113T427 72L422 32L402 22Q382 12 344 2T259 -11Q214 -11 180 2T126 36T95 81T79 126T75 164',
    0x1D625: '73 156Q73 224 102 293T184 408T294 455Q375 455 432 413Q438 407 438 410T469 553L499 694H588V691Q588 690 515 348T441 2V0H348V2Q357 29 357 43L352 41Q332 24 288 7T196 -10H190Q178 -10 166 -7T134 8T98 46T75 113Q73 129 73 156ZM419 335Q419 339 412 348T386 368T342 379Q284 379 243 343T184 261T167 168Q167 122 191 94T263 66Q321 66 367 116L374 124L397 229Q419 333 419 335',
    0x1D626: '248 -11Q170 -11 121 41T71 173Q71 265 133 349T285 454Q305 460 318 460H328Q368 460 399 448Q472 414 472 309Q472 274 464 234L462 219H159Q156 198 156 185Q156 137 179 107T237 68Q246 66 268 66Q345 66 427 113V109Q426 108 422 73T417 37Q417 34 409 29Q329 -11 248 -11ZM401 299Q399 337 376 361T316 385Q291 385 266 371Q220 350 184 289H401V299',
    0x1D627: '381 443Q381 440 374 407T366 371H315Q263 371 263 369Q262 368 224 186Q215 145 205 97T189 25L184 2V0H94V2L99 25Q104 48 114 96T134 186Q172 368 173 369Q173 371 139 371H106V373L114 410L121 444H155L188 445L191 455L212 551Q232 612 288 658T415 705Q438 705 464 701T494 694Q478 614 477 614L467 618Q457 621 440 624T406 629H400Q333 629 306 579Q301 568 289 507L275 444H328Q381 444 381 443',
    0x1D628: '113 252Q113 334 177 394T311 454Q332 454 350 451T379 442T398 432T410 424L413 421Q412 423 411 424L409 426Q409 429 434 436T496 449T560 455H568V451Q568 447 567 429T566 394L565 377L553 379Q522 385 479 385Q463 385 456 384L443 383L436 392Q454 357 454 324Q454 243 390 182T249 120Q233 120 219 122T195 128T178 136T167 142L163 145Q149 131 149 105Q149 78 171 72L242 71Q246 71 269 71T303 71T336 68T372 62T403 51T432 32Q461 8 461 -40Q461 -112 383 -159T211 -206Q123 -206 68 -172T12 -86Q12 -55 31 -23T82 32Q90 38 89 39Q89 40 87 44T82 59T80 82Q80 134 126 189Q113 228 113 252ZM369 319Q369 354 350 368T304 383Q274 383 252 369T218 333T202 291T197 255Q197 221 217 206T263 191Q317 191 343 233T369 319ZM373 -59Q373 -41 362 -30T330 -13T291 -7T247 -5H216Q167 -5 158 -6T139 -12Q123 -20 110 -38T97 -76Q97 -102 133 -118T221 -134Q242 -134 267 -130T316 -118T357 -94T373 -59',
    0x1D629: '416 321Q416 379 336 379Q276 379 237 302Q226 276 209 202T180 66T166 2V0H119Q73 0 73 1L82 46Q92 90 111 177T147 348L221 694H265Q310 694 310 693T279 544L247 395Q325 455 403 455Q513 455 513 358Q513 334 508 309Q507 304 476 156T443 2V0H350V2L357 34Q364 65 373 110T392 200T409 281T416 321',
    0x1D62A: '189 578Q190 579 199 627T211 678V680H315V678Q313 675 304 627T293 578V576H189V578ZM168 442T168 443T213 444T258 443T212 225T164 2V0H74V2Q75 7 121 224',
    0x1D62B: '211 577L233 680H284Q336 680 336 679L315 576H263Q211 576 211 577ZM19 -204Q-12 -204 -40 -196T-82 -179T-96 -170Q-96 -168 -78 -132L-61 -95L-54 -103Q-32 -126 3 -126Q26 -126 50 -116Q76 -101 83 -85Q84 -79 140 180T196 443Q196 444 241 444T286 443Q286 441 232 186T175 -75Q163 -120 122 -162T19 -204',
    0x1D62C: '150 348L224 694H310V691Q218 259 218 258L232 270Q245 281 274 306T327 351L435 444H489L542 443Q542 442 443 357L344 272L471 1L422 0H372L366 14Q359 27 347 54T323 105L273 210Q271 210 231 174L190 139L160 0H118Q76 0 76 1L86 46Q95 90 114 177T150 348',
    0x1D62D: '148 348L222 694H311V691Q311 690 238 348T164 2V0H119Q74 0 74 1L84 46Q93 90 112 177T148 348',
    0x1D62E: '416 321Q416 379 336 379Q276 379 237 302Q226 276 209 202T180 66T166 2V0H119Q73 0 73 2L121 226L169 449Q169 450 213 450H256L249 421Q248 417 247 412T246 404T245 398T244 394T244 392Q250 398 261 407T307 433T379 454H392H400Q451 454 472 439Q482 434 489 427T500 412T506 399T510 388L511 384Q511 384 517 388Q563 431 620 446Q648 455 680 455Q790 455 790 358Q790 334 785 309Q784 304 753 156T720 2V0H627V2L634 34Q641 65 650 110T669 200T686 281T693 321Q693 379 613 379Q553 379 514 302Q503 276 486 202T457 66T443 2V0H350V2L357 34Q364 65 373 110T392 200T409 281T416 321',
    0x1D62F: '416 321Q416 379 336 379Q276 379 237 302Q226 276 209 202T180 66T166 2V0H119Q73 0 73 2L121 226L169 449Q169 450 213 450H256L249 421Q248 417 247 412T246 404T245 398T244 394T244 392Q250 398 261 407T307 433T379 454H392Q416 454 433 452T470 440T502 411T513 358Q513 334 508 309Q507 304 476 156T443 2V0H350V2L357 34Q364 65 373 110T392 200T409 281T416 321',
    0x1D630: '69 169Q69 238 107 306T211 417T348 461Q419 461 471 412T523 271Q523 161 438 75T247 -11Q170 -11 120 39T69 169ZM432 279Q432 338 401 361T333 385Q280 385 240 352T182 273T164 178Q164 119 195 94T265 68Q306 68 344 94Q380 115 406 169T432 279',
    0x1D631: '259 443Q251 405 251 404L260 409Q269 414 286 421T324 436T375 449T434 455Q482 455 510 417T538 303Q538 169 463 79T302 -11Q226 -11 176 39V36Q175 35 151 -80L127 -193Q127 -194 80 -194H34V-191L102 127L169 443Q169 444 214 444T259 443ZM269 65Q332 65 386 124T441 262Q441 304 422 334T370 373Q356 375 339 375Q293 375 238 331L193 118Q200 103 206 94T229 75T269 65',
    0x1D632: '72 149Q72 272 146 363T304 455Q340 455 371 442T409 423T436 398Q438 411 442 427L448 455H538L400 -193Q400 -194 354 -194Q307 -194 307 -193L356 37V41Q355 41 350 38T332 27T302 13Q247 -10 191 -10H179Q138 -10 105 32T72 149ZM414 298Q402 376 341 376Q277 376 223 317T169 182Q169 121 198 93T265 65Q319 65 365 111L377 123L414 298',
    0x1D633: '240 377L244 380Q248 384 255 390T272 404T296 419T325 434T361 446T401 454Q403 454 408 454T416 455H424L421 442Q419 435 413 405T406 373Q351 373 294 336T216 237Q213 231 201 173T178 60T164 2V0H119Q74 0 74 2L122 226L170 449Q170 450 213 450H255L247 414Q246 409 245 403T243 393T241 385T240 379T240 377',
    0x1D634: '99 299Q99 318 106 341T133 393T195 441T298 461Q336 461 370 453T420 437L436 429Q436 428 421 389T405 350Q356 386 273 386H265Q248 386 237 384T211 371T191 337Q189 329 189 326Q189 320 190 315T194 306T200 299T209 293T218 289T228 285T239 283T251 281T263 278L270 276Q278 275 283 274T298 270T316 264T333 255T351 243T367 228T380 209T388 186T391 157Q391 96 341 43T193 -11Q171 -11 150 -8T114 -1T84 9T61 19T45 28T35 33Q35 36 67 116L76 109Q132 67 211 67Q258 67 279 88T301 135Q301 159 280 170T224 187T180 197Q141 212 120 239T99 299',
    0x1D635: '245 68Q267 68 289 75T322 90L334 98Q338 94 338 28V24L324 19Q268 -4 218 -8Q198 -11 177 -11Q118 -11 118 75Q118 98 123 127Q125 137 149 251T174 369Q174 371 135 371H97V373L105 410L112 444H152L192 445L200 478Q208 512 213 541L219 571H261Q303 571 303 570T290 506L276 444H343Q410 444 410 443Q410 440 403 407T395 371H328Q261 371 261 369Q211 152 211 118Q211 68 245 68',
    0x1D636: '166 -10H160Q146 -10 137 -8T115 0T97 22T90 63Q90 79 130 268L167 443Q167 444 214 444Q260 444 260 443L224 273Q187 97 187 86Q187 70 202 65T250 59Q303 59 336 83T379 139Q380 143 412 292T444 443Q444 444 491 444Q537 444 537 443T491 225T443 2V0H353V2L361 38L352 34Q344 29 326 22T286 7T232 -5T166 -10',
    0x1D637: '177 6L108 442V444H201V442Q202 441 213 371T235 213T246 90V65Q259 117 429 406L450 444H495Q540 444 540 443Q539 442 411 221L282 1L230 0H178L177 6',
    0x1D638: '148 5Q147 8 128 222T109 440L108 444H199V442Q200 441 204 385T214 253T219 140Q219 108 215 76Q215 72 214 67V65L215 66Q219 95 278 221L390 444H475V437Q497 203 497 121Q497 90 494 70Q494 67 494 67L496 73Q520 143 654 405L674 444H718Q762 444 762 443L534 1L483 0H432V5Q429 28 422 126T413 283Q413 343 416 370L417 378Q416 377 416 376Q401 303 248 12L242 0H148V5',
    0x1D639: '317 229Q453 9 460 0H409L359 1L312 88Q266 176 265 176Q265 177 254 165T223 132T182 88L100 0H1L15 14Q29 28 61 59T118 115L236 229L226 244Q108 433 100 444H201L290 294L438 444H537L528 435Q526 432 512 418T468 376T418 327L317 229',
    0x1D63A: '11 -117L20 -120Q28 -124 46 -128T84 -132H100Q124 -122 149 -85Q200 -6 200 1Q200 17 155 204T109 442Q109 444 156 444H203Q203 443 208 419T221 357T235 277T248 190T254 114Q254 81 250 67V65Q251 65 251 67Q256 94 297 177Q339 259 422 397L450 444H540Q540 443 386 186T219 -90Q179 -153 145 -179T73 -205Q52 -205 34 -202Q29 -202 21 -201T7 -198L1 -197Q1 -196 6 -157T11 -117',
    0x1D63B: '129 408L136 444H315Q494 444 494 443Q494 441 489 419L484 396L164 76L291 77Q418 77 418 76T411 41T402 2V0H215Q28 0 28 2L34 27L38 50L360 371L240 370Q121 370 121 371Q124 388 129 408',
    0x1D670: '191 76Q212 75 220 68T229 38Q229 10 208 1H129H80Q48 1 38 7T28 38Q28 51 29 57T40 69T70 76Q89 76 89 78Q90 79 117 205T173 461T205 599Q212 623 250 623H262H273Q312 623 319 599Q322 591 350 461T406 205T435 78Q435 76 454 76H458Q484 76 493 59Q496 53 496 38Q496 11 478 3Q474 1 395 1H317Q295 8 295 38Q295 65 311 73Q316 75 333 76L348 77V78Q348 80 341 112L334 143H190L183 112Q176 80 176 78Q175 76 178 76Q180 76 191 76ZM318 221Q313 238 288 366T263 519Q263 526 262 527Q261 527 261 520Q261 493 236 365T206 221Q206 219 262 219T318 221',
    0x1D671: '39 1Q17 10 17 32V38V46Q17 65 34 73Q40 76 61 76H84V535H61H54Q27 535 19 553Q17 557 17 573Q17 583 17 587T23 599T39 610Q40 611 179 611Q320 610 332 607Q332 607 339 605Q394 591 427 547T461 454Q461 413 436 378T369 325L358 320Q405 311 443 270T482 169Q482 112 445 64T345 3L334 1H39ZM309 533Q302 535 234 535H168V356H230Q284 357 296 358T323 368Q346 380 361 402T377 452Q377 482 358 505T309 533ZM398 176Q396 218 371 246T315 279Q310 280 237 280H168V76H239Q316 77 327 81Q329 82 334 84Q398 107 398 176',
    0x1D672: '40 305Q40 437 110 529T281 622Q315 622 343 611T387 589T404 578Q409 585 415 596T425 611T435 618T452 622Q472 622 478 609T485 566Q485 559 485 540T484 508V460Q484 413 478 403T442 393Q417 393 409 402Q400 409 400 420Q400 428 395 445T380 487T347 528T295 546Q235 546 180 483T124 306Q124 245 141 197T186 121T241 80T296 66Q346 66 373 103T400 178Q400 209 435 209H442H450Q484 209 484 172Q480 96 421 43T281 -11Q177 -11 109 84T40 305',
    0x1D673: '38 1Q16 8 16 38Q16 62 32 73Q39 76 58 76H78V535H58Q40 535 32 538Q16 548 16 573Q16 587 17 591Q23 604 34 607T83 611H166H176Q188 611 209 611T239 612Q299 612 337 597T415 530Q485 438 485 300Q485 180 431 100T301 3L291 1H38ZM400 301Q400 363 385 410T346 482T303 519T267 534Q261 535 210 535H162V76H214L267 77Q323 89 361 148T400 301',
    0x1D674: '374 271Q374 241 367 232T332 223Q307 223 299 231Q290 240 290 263V279H173V76H418V118V144Q418 167 426 176T460 186Q491 186 500 166Q502 161 502 93V52Q502 25 499 17T480 1H41Q19 9 19 32V38Q19 63 36 73Q42 76 65 76H89V535H65H55Q44 535 38 537T25 548T19 573Q19 602 41 610H47Q53 610 63 610T88 610T121 610T160 611T204 611T251 611H458Q460 609 465 606T471 602T475 598T478 593T479 586T480 576T480 562V526V488Q480 452 462 444Q458 442 438 442Q413 442 405 450Q398 457 397 463T396 501V535H173V355H290V371Q290 394 299 403T332 412Q363 412 372 392Q374 387 374 317V271',
    0x1D675: '384 260Q384 230 377 221T342 212Q317 212 309 220Q300 229 300 252V268H179V76H249Q264 67 267 61T271 38Q271 10 249 1H44Q22 9 22 32V38Q22 63 39 73Q45 76 69 76H95V535H69H59Q42 535 32 542T22 573Q22 602 44 610H50Q56 610 66 610T91 610T125 610T164 611T208 611T257 611H468Q470 609 475 606T481 602T485 598T488 593T489 586T490 576T490 562V526V488Q490 452 472 444Q468 442 448 442Q423 442 415 450Q408 457 407 463T406 501V535H179V344H300V360Q300 383 309 392T342 401Q373 401 382 381Q384 376 384 306V260',
    0x1D676: '38 306Q38 447 105 534T261 622Q280 622 298 618T329 608T350 596T366 585L371 581Q373 581 377 591T390 612T417 622Q437 622 443 609T450 566Q450 559 450 540T449 508V460Q449 413 443 403T407 393Q392 393 386 394T373 402T364 426Q360 472 335 509T271 546Q214 546 168 477T121 308Q121 210 164 138T271 65Q293 65 310 78T337 109T352 147T360 180T362 195Q362 196 333 196L304 197Q282 204 282 227V234Q282 247 282 251T288 261T304 272H474Q488 263 492 256T496 234Q496 211 479 199Q475 197 461 196H449V21Q441 6 434 3T412 -1H407H402Q385 -1 379 3T364 28Q350 14 322 2T260 -11Q173 -11 106 76T38 306',
    0x1D677: '16 571Q16 597 27 604T74 611H125H208Q223 602 226 596T230 573Q230 559 227 551T217 540T204 536T186 535H165V356H359V535H338H333Q306 535 297 552Q295 556 295 573Q295 586 295 590T301 600T317 611H486Q501 602 504 596T508 573Q508 559 505 551T495 540T482 536T464 535H443V76H464H470Q482 76 489 75T502 64T508 38Q508 10 486 1H317Q306 5 301 11T296 21T295 38V44Q295 66 311 73Q318 76 338 76H359V280H165V76H186H192Q204 76 211 75T224 64T230 38Q230 10 208 1H39Q28 5 23 11T18 21T17 38V44Q17 66 33 73Q40 76 60 76H81V535H60Q45 535 38 536T24 545T16 571',
    0x1D678: '400 76Q431 76 441 69T452 38Q452 29 452 26T450 18T443 9T430 1H95Q84 6 79 12T73 23T72 38Q72 65 90 73Q96 76 157 76H220V535H157H124Q93 535 83 542T72 573Q72 603 93 610Q97 611 264 611H430Q432 609 436 607T444 602T449 594Q452 588 452 573Q452 546 434 538Q428 535 367 535H304V76H367H400',
    0x1D679: '202 543T202 573T224 610H228Q231 610 237 610T251 610T269 610T291 611T315 611T342 611H457Q471 602 475 595T479 573Q479 549 462 538Q454 535 432 535H408V328Q408 159 408 133T402 93Q386 48 340 19T229 -11Q158 -11 108 16T57 100Q57 129 73 141T108 154Q128 154 143 140T159 102Q159 93 155 79Q188 65 228 65H230Q290 65 318 106Q323 115 323 139T324 329V535H274L224 536Q202 543 202 573',
    0x1D67A: '18 549T18 573T29 604T70 611H118H193Q207 603 210 596T214 573Q214 549 198 538Q191 535 172 535H152V421Q152 344 152 326T153 309L242 422L329 534Q327 535 322 536T314 538T308 542T303 548T300 558T298 573Q298 600 316 608Q322 611 392 611H463Q477 602 481 595T485 573Q485 535 446 535H441H420L281 357L436 77L454 76Q473 75 478 73Q495 62 495 38Q495 10 473 1H345Q334 5 329 11T324 21T323 38Q323 51 324 56T332 68T355 77L233 296L152 192V76H172Q191 76 198 73Q214 63 214 38Q214 9 193 1H41Q18 8 18 38Q18 61 35 73Q42 76 61 76H81V535H61Q42 535 35 538Q18 549 18 573',
    0x1D67B: '27 594Q34 605 43 608T84 611H154H213Q258 611 269 605T281 573Q281 546 263 538Q257 535 222 535H185V76H404V118V145Q404 168 411 177T446 186H453Q478 186 486 167Q488 161 488 93V50Q488 24 485 17T466 1L258 0H147H99Q47 0 36 6T25 38Q25 59 35 69Q44 76 76 76H101V535H76H64Q36 535 27 552Q25 557 25 573T27 594',
    0x1D67C: '50 535Q37 536 31 537T18 547T12 573Q12 598 22 604T62 611H91H121Q147 611 158 607T178 587Q183 579 222 446T261 293Q261 289 262 288Q263 288 263 292Q263 311 298 434T346 588Q353 603 365 607T402 611H435H450Q488 611 500 605T512 573Q512 556 506 547T493 537T474 535H459V76H474Q487 75 493 74T505 64T512 38Q512 11 494 3Q490 1 424 1H386Q355 1 345 7T335 38Q335 55 341 64T354 74T373 76H388V302Q388 512 387 519Q382 482 346 359T304 228Q292 204 262 204T220 228Q215 237 179 359T137 519Q136 512 136 302V76H151Q164 75 170 74T182 64T189 38Q189 11 171 3Q167 1 101 1H63Q32 1 22 7T12 38Q12 55 18 64T31 74T50 76H65V535H50',
    0x1D67D: '20 571Q20 598 30 604T73 611H105H136Q152 611 160 611T177 607T189 601T198 587T206 568T217 537T231 497Q354 142 365 95L368 84V535H347H342Q314 535 306 552Q304 556 304 573Q304 586 304 590T310 600T326 611H482Q497 602 500 596T504 573Q504 559 501 551T491 540T478 536T460 535H439V25Q432 7 424 4T389 0H374Q334 0 322 31L293 115Q171 468 159 517L156 528V76H177H183Q195 76 202 75T215 64T221 38Q221 10 199 1H43Q32 5 27 11T22 21T21 38V44Q21 66 37 73Q44 76 64 76H85V535H64Q49 535 42 536T28 545T20 571',
    0x1D67E: '102 588Q140 621 240 621Q323 621 335 620Q393 613 422 588Q450 560 459 493T468 306Q468 185 460 118T422 23Q382 -10 289 -10H262H235Q142 -10 102 23Q74 50 65 118T56 306Q56 427 64 494T102 588ZM363 513Q357 523 347 530T324 540T302 544T280 546H268Q192 546 167 521Q150 501 145 452T140 300Q140 235 142 197T151 130T172 89T207 71T262 65Q317 65 341 81T374 144T384 300Q384 474 363 513',
    0x1D67F: '41 1Q19 9 19 32V38Q19 63 36 73Q42 76 65 76H89V535H65H55Q38 535 29 543T19 576Q19 603 41 610H49Q57 610 70 610T100 610T136 611T175 611Q190 611 216 611T255 612Q321 612 363 598T441 537Q480 486 480 427V421Q480 354 447 311T378 251Q339 230 275 230H239H173V76H197Q220 76 227 73Q244 62 244 38Q244 10 222 1H41ZM396 421Q396 461 369 491T300 533Q294 534 233 535H173V306H233Q294 307 300 308Q345 319 370 352T396 421',
    0x1D680: '56 306Q56 380 58 426T68 510T87 568T120 600T170 617T240 621Q323 621 335 620Q393 613 422 588Q450 560 459 493T468 306Q468 124 447 66Q433 23 394 6L424 -53Q454 -112 454 -118Q454 -128 441 -138H377Q367 -135 363 -129T333 -69L304 -11H254Q205 -10 180 -8T128 6T91 36T70 92T58 178T56 306ZM227 151Q227 171 262 171H276H281Q292 171 296 171T305 170T313 165T317 158T323 145T332 127L353 88Q356 88 361 95T372 131T382 202Q384 228 384 306Q384 452 371 492T304 544Q296 545 251 545Q230 545 215 543T188 534T169 520T155 497T147 466T143 423T141 371T140 306Q140 248 141 217T146 154T157 109T178 83T212 68T262 65H266L264 70Q261 75 256 85T247 105Q227 145 227 151',
    0x1D681: '16 571Q16 598 27 605T76 612Q84 612 108 612T148 611Q268 611 294 605Q346 592 389 550T432 440Q432 394 410 359Q393 329 366 310L358 303Q387 273 399 239Q405 219 405 178T408 106T421 68Q426 65 428 65Q433 65 435 74T438 96T441 112Q450 130 480 130H485Q519 130 522 100Q522 79 516 56T488 11T434 -11Q421 -11 408 -8T377 5T344 37T324 93Q322 101 322 154L321 209Q304 257 257 267Q252 268 207 268H165V76H186H192Q204 76 211 75T224 64T230 38Q230 10 208 1H39Q28 5 23 11T18 21T17 38V44Q17 66 33 73Q40 76 60 76H81V535H60Q45 535 38 536T24 545T16 571ZM348 440Q348 478 321 502T260 532Q252 534 208 535H165V344H208Q212 344 223 344T239 345T252 346T266 348T278 351T293 358Q348 387 348 440',
    0x1D682: '52 454Q52 524 107 572T229 621Q266 621 274 620Q326 610 360 588L371 581Q377 594 379 598T386 610T397 619T412 622Q433 622 439 610T446 570Q446 563 446 545T445 515V479Q445 441 444 432T436 417Q428 408 403 408T370 417Q361 424 361 434Q361 439 360 448T351 476T331 509T295 535T238 546Q194 546 163 522T132 458Q132 435 148 412Q155 401 166 393T192 380T218 371T247 364T270 359Q341 342 349 339Q389 325 418 296T461 229Q472 201 472 164Q469 92 417 41T287 -11Q240 -11 200 -1T143 19L126 29Q117 6 109 -2Q100 -11 84 -11Q64 -11 58 1T51 42Q51 49 51 66T52 95V135Q52 173 53 180T61 194Q70 203 95 203Q119 203 127 194Q136 186 136 168Q143 66 284 66H290Q325 66 350 85Q391 115 391 165Q391 204 369 228T322 260Q320 260 255 275T185 293Q123 309 88 355T52 454',
    0x1D683: '129 38Q129 51 129 55T135 65T151 76H220V535H110V501Q110 470 109 464T101 450Q93 442 68 442H60Q37 442 28 461Q26 466 26 527L27 589Q36 607 49 610H55Q61 610 72 610T97 610T131 610T170 611T215 611T264 611H476Q478 609 483 606T489 602T493 598T496 593T497 586T498 576T498 562V526V488Q498 452 480 444Q476 442 456 442Q431 442 423 450Q416 457 415 463T414 501V535H304V76H374Q389 67 392 61T396 38Q396 10 374 1H151Q140 5 135 11T130 21T129 38',
    0x1D684: '-3 573Q-3 597 8 604T50 612Q57 612 77 612T111 611H200Q214 602 218 595T222 573Q222 549 205 538Q198 535 175 535H151V359Q151 333 151 291Q152 177 156 162Q157 160 157 159Q165 123 193 95T262 66Q303 66 330 94T367 159Q371 175 371 191T373 359V535H349H339Q328 535 322 537T309 548T303 573T306 595T325 611H506Q520 602 524 595T528 573Q528 549 511 538Q504 535 481 535H457V364Q457 189 456 182Q448 101 394 45T262 -11Q189 -11 132 43T68 182Q67 189 67 364V535H43H33Q22 535 16 537T3 548T-3 573',
    0x1D685: '19 578Q19 585 20 590T23 598T29 604T38 608T48 610T62 611T78 612T97 611T119 611H195Q210 602 213 596T217 573Q217 561 216 555T206 542T179 535H164Q166 529 188 435T235 231T261 94L262 84V88Q263 91 263 94Q265 121 289 231T336 438L360 535H345Q308 535 308 566V573Q308 586 308 590T314 600T330 611H484Q499 602 502 595T505 573Q505 560 504 554T493 541T465 535H447L384 278Q321 19 319 14Q309 -7 278 -7H262H246Q215 -7 205 14Q203 19 140 278L78 535H59Q45 535 38 536T25 547T19 573V578',
    0x1D686: '459 611Q491 611 501 605T512 573Q512 538 482 535H474L439 276Q406 26 402 11Q398 2 389 -3Q387 -3 386 -4L380 -7H359H349Q324 -7 313 13Q307 29 285 139T263 275Q263 283 262 283Q261 282 261 274Q261 248 239 137T211 13Q200 -7 175 -7H165H144Q136 -3 127 3Q121 10 117 36T85 276L50 535H42Q26 536 19 545T12 564V573Q12 603 33 610Q37 611 101 611H134Q165 611 175 604T186 573Q186 563 186 559T182 547T169 538T143 535H122V531Q124 517 133 446T155 266T172 96V84L173 102Q176 157 192 243T215 346Q227 367 259 367H262H265Q297 367 309 346Q316 329 332 243T351 102L352 84V96Q356 161 368 266T390 444T402 531V535H381Q366 535 359 536T345 547T338 573Q338 600 356 608Q362 611 425 611H459',
    0x1D687: '39 571Q39 597 49 604T93 611H141H218Q233 602 236 595T239 573Q239 538 210 535Q202 535 202 534T215 507T243 454L257 428L307 535H298Q266 538 266 573Q266 584 267 588T273 598T289 611H366H401Q442 611 454 605T466 573Q466 546 448 538Q442 535 421 535H398L299 327Q299 323 362 201L426 77L449 76Q467 76 475 75T489 65T495 38Q495 11 477 3Q473 1 395 1H317Q295 8 295 38Q295 73 325 76L334 77Q333 78 314 117T276 196L257 235L239 196Q221 157 204 118T186 77Q190 76 196 76Q211 74 218 67T227 55T228 38Q228 28 227 24T221 13T206 1H50Q28 9 28 32V38Q28 63 45 73Q51 76 73 76H96L214 324Q215 327 162 431L108 535H85H79Q67 535 60 536T46 546T39 571',
    0x1D688: '20 573Q20 597 30 604T72 611H121H198Q212 602 216 595T220 573Q220 568 219 563T217 555T214 549T211 544T207 541T203 538T198 537T194 536T190 536L188 535Q179 535 179 534L188 516Q196 497 208 470T232 415T252 363T261 332Q261 329 262 329T263 332Q263 354 333 508L345 534Q345 535 336 535Q305 538 305 567V573Q305 589 308 595T327 611H483Q505 598 505 573Q505 549 488 538Q481 535 460 535H438L304 245V76H325H331Q343 76 350 75T363 64T369 38Q369 10 347 1H178Q167 5 162 11T157 21T156 38V44Q156 66 172 73Q180 76 199 76H220V245L86 535H64Q44 535 36 538Q20 548 20 573',
    0x1D689: '71 1Q60 5 55 11T49 23T48 39V46Q48 56 58 73T131 183Q171 242 197 282L366 535H144V501Q144 470 143 464T135 450Q127 442 102 442H94Q71 442 62 461Q60 466 60 527L61 589Q70 607 83 610H88Q93 610 102 610T124 610T154 610T188 611T227 611T270 611H454Q456 609 461 606T467 601T471 597T474 591T475 584T476 572V565Q476 555 466 538T393 428Q353 369 327 329L158 76H397V120V146Q397 169 405 179T439 189Q470 189 479 169Q481 164 481 95V48Q481 24 478 16T459 1H71',
    0x1D68A: '126 306Q105 306 90 321T74 359Q74 439 211 439Q268 439 276 438Q343 426 383 390T430 306Q431 301 431 190V81Q446 79 465 78T492 76T509 72T521 60T524 38Q524 11 506 3Q502 1 466 1Q426 1 406 5T379 14T355 36L345 30Q284 -6 205 -6Q135 -6 92 39T48 141Q48 182 79 212T158 256T252 278T342 285H347V290Q347 315 325 335T267 362Q258 363 224 363Q189 363 185 362H179L178 358Q178 353 178 352T176 345T174 337T170 330T165 322T158 316T150 311T139 308T126 306ZM132 140Q132 115 157 93T224 70Q269 70 302 87T344 133Q346 139 347 175V211H339Q256 209 194 190T132 140',
    0x1D68B: '4 573Q4 596 15 603T52 611H90H124Q146 611 155 608T171 591Q173 586 173 491V396L182 402Q217 424 256 431Q280 437 309 437Q376 437 434 379T492 217Q492 162 473 118T422 47T358 8T293 -6Q229 -6 174 38Q171 13 163 7T135 1H131H122Q99 1 90 23L89 279V535H58L27 536Q4 543 4 573ZM409 215Q409 269 377 315T283 361Q255 361 224 344T177 297L173 290V167Q189 124 213 97T278 70Q330 70 369 111T409 215',
    0x1D68C: '291 -6Q196 -6 131 60T66 216Q66 296 119 361Q154 403 200 421T273 439Q275 440 293 440H313Q400 440 433 409Q454 388 454 359Q454 335 439 321T402 306Q380 306 365 321T350 357V362L340 363Q339 363 326 363T303 364Q280 364 266 362Q217 352 184 313T151 215Q151 153 199 112T313 70Q341 70 357 85T381 118T394 140Q402 146 424 146Q443 146 447 144Q466 137 466 117Q466 106 457 88T429 47T374 10T291 -6',
    0x1D68D: '266 573Q266 596 277 603T314 611H352H385Q411 611 419 607T435 586V76H498Q512 67 516 60T520 38Q520 9 498 1H436Q429 1 417 1T398 0Q375 0 363 7T351 34V43L342 36Q288 -6 223 -6Q143 -6 87 58T31 216Q31 307 88 372T230 437Q292 437 342 405L351 399V535H320L289 536Q266 543 266 573ZM351 290Q347 302 337 316T302 346T244 361Q193 361 154 319T115 215Q115 152 152 111T235 70Q314 70 351 170V290',
    0x1D68E: '48 217Q48 295 100 361T248 439L258 440Q268 440 274 440Q329 438 369 416T428 359T456 292T464 228Q464 215 461 208T454 198T442 190L288 189H135L138 179Q153 132 199 102T303 71Q336 71 353 86T380 120T398 143Q404 146 422 146Q453 146 462 126Q464 120 464 116Q464 84 416 39T285 -6Q187 -6 118 59T48 217ZM377 264Q371 291 365 306T341 338T294 362Q288 363 264 363Q225 363 190 336T139 264H377',
    0x1D68F: '43 395Q44 405 44 408T47 416T53 423T66 431H176V461Q176 500 182 518Q201 570 252 593T353 617Q399 614 418 593T437 548Q437 528 424 514T387 499Q365 499 353 511T338 537V541H328Q275 536 261 494Q260 490 260 460V431H327Q334 431 346 431T364 432Q392 432 404 425T416 393T405 362T365 355H327H260V76H319Q375 76 388 71T401 38Q401 27 400 23T395 12T379 1H58Q47 6 42 12T36 23T35 38Q35 65 53 73Q59 76 117 76H176V355H121H93Q64 355 54 362T43 395',
    0x1D690: '60 274Q60 337 107 386T233 436Q278 436 316 417L329 410L338 416Q384 442 427 442T489 423T509 381T494 345T460 332Q449 332 440 338Q432 341 427 348T419 360T415 365Q414 364 410 364L383 355Q406 320 406 274Q406 211 358 162T233 112Q189 112 155 128L146 133Q142 125 142 115Q142 99 150 85T175 71Q182 72 187 70Q188 70 195 70T218 70T254 69Q259 69 275 69T297 69T318 68T340 66T361 62T384 57T405 49T428 38Q495 -1 495 -76Q495 -143 427 -186T262 -229Q161 -229 94 -185T29 -73Q30 -60 33 -48T39 -26T47 -8T57 8T67 20T77 30T86 38L91 43Q91 44 86 53T75 80T70 117Q70 142 89 183L83 194Q60 232 60 274ZM321 274Q321 312 296 337T230 362Q197 362 171 338T145 274Q145 235 170 211T233 187Q273 187 297 212T321 274ZM422 -78Q422 -54 408 -38T366 -15T315 -6T255 -4H200Q198 -4 193 -4T183 -3Q148 -3 125 -26T102 -78Q102 -110 151 -132T261 -154Q321 -154 371 -132T422 -78',
    0x1D691: '4 573Q4 596 15 603T52 611H90H124Q146 611 155 608T171 591Q173 586 173 489Q173 394 175 394L186 402Q197 410 219 420T269 434Q278 436 306 436Q343 436 371 423Q411 402 423 365T436 265Q436 257 436 239T435 211V198V76H498Q512 67 516 60T520 38Q520 9 498 1H308Q286 10 286 32V38V46Q286 65 303 73Q309 76 329 76H351V188Q351 204 351 230T352 266Q352 321 341 341T288 361Q253 361 222 341T176 274L174 264L173 170V76H236Q250 67 254 60T258 38Q258 9 236 1H27Q4 8 4 38Q4 53 8 60T27 76H89V535H58L27 536Q4 543 4 573',
    0x1D692: '202 538T202 559T218 596T260 612Q283 612 300 597T317 560Q317 538 300 523T260 507Q235 507 219 522ZM411 76Q441 76 451 69T462 38Q462 29 462 26T460 18T453 9T440 1H94Q72 8 72 33V38Q72 46 72 49T74 58T81 68T94 76H233V355H167L102 356Q80 363 80 393Q80 418 91 425T138 432Q145 432 165 432T200 431H295Q297 429 303 425T310 420T314 415T317 404T317 389T318 363Q318 354 318 314T317 241V76H378H411',
    0x1D693: '261 559Q261 580 277 596T319 612Q342 612 359 597T376 560T360 523T320 507Q296 507 279 523T261 559ZM75 -91T100 -91T138 -107T152 -144V-150L160 -151H193H203Q241 -151 267 -121Q284 -97 288 -73T292 23V151V355H218L145 356Q123 365 123 387V393Q123 422 145 430H148Q151 430 156 430T169 430T185 430T205 431T227 431T251 431H354Q356 430 360 427T365 424T369 420T372 416T373 410T375 402T376 391T377 376T377 356Q377 345 377 286T376 176Q376 -67 371 -88Q362 -123 342 -151T299 -194Q254 -228 180 -228Q84 -226 56 -177Q49 -162 48 -148Q48 -122 61 -107',
    0x1D694: '13 42Q13 63 23 69T69 76H102V535H69H54Q34 535 24 542T13 573Q13 588 15 593Q22 605 29 608T56 611H95Q113 611 122 611T140 610T152 609T159 607T163 603T167 597T173 589V413L174 237L295 355H275Q260 355 253 356T239 367T232 393Q232 419 243 425T304 431H359H464Q479 422 482 415T485 393Q485 364 464 356L431 355H398L293 254L427 76H486Q501 67 504 60T507 38Q507 28 507 24T501 12T486 1H314Q292 8 292 38Q292 62 308 73Q312 75 326 76L338 77L290 140Q279 154 267 171T248 196L242 204L207 171L173 139V76H206H221Q241 76 251 69T262 38Q262 11 244 3Q240 1 138 1Q123 1 100 1T70 0Q32 0 23 7T13 42',
    0x1D695: '51 573Q51 602 73 610H76Q79 610 84 610T97 610T113 610T133 611T155 611T179 611H282Q301 598 304 586V76H452Q466 67 470 60T474 38Q474 10 452 1H73Q51 9 51 32V38Q51 54 54 60T73 76H220V535H146L73 536Q51 545 51 567V573',
    0x1D696: '133 76Q156 74 164 67T172 38Q172 9 151 1H11Q-12 8 -12 38Q-12 61 5 73Q10 75 28 76H45V355H28Q10 356 5 358Q-12 370 -12 393Q-12 419 11 431H52H70Q91 431 100 427T116 405Q163 436 200 436Q255 436 281 390L285 394Q289 398 292 400T301 407T314 415T329 423T346 429T366 434T389 436H392Q425 436 448 411Q469 390 474 360T480 268V232V203V76H497Q520 74 528 67T536 38Q536 9 515 1H396Q374 9 374 32V38Q374 73 402 76H409V191V242Q409 317 404 339T375 361Q343 361 323 332T299 264Q298 258 298 165V76H315Q338 74 346 67T354 38Q354 9 333 1H214Q192 9 192 32V38Q192 73 220 76H227V191V242Q227 317 222 339T193 361Q161 361 141 332T117 264Q116 258 116 165V76H133',
    0x1D697: '89 431Q94 431 105 431T122 432Q173 432 173 399Q173 394 175 394Q176 394 190 404T233 425T298 436Q343 436 371 423Q411 402 423 365T436 265Q436 257 436 239T435 211V198V76H498Q512 67 516 60T520 38Q520 9 498 1H308Q286 9 286 32V38V45Q286 65 303 73Q309 76 329 76H351V188Q351 204 351 230T352 266Q352 321 341 341T288 361Q253 361 222 341T176 274L174 264L173 170V76H236Q250 67 254 60T258 38Q258 9 236 1H27Q4 8 4 38Q4 53 8 60T27 76H89V355H58L27 356Q4 363 4 393Q4 408 8 415T27 431H89',
    0x1D698: '52 216Q52 318 118 379T261 440Q343 440 407 378T472 216Q472 121 410 58T262 -6Q176 -6 114 58T52 216ZM388 225Q388 281 351 322T261 364Q213 364 175 325T136 225Q136 158 174 114T262 70T350 114T388 225',
    0x1D699: '89 431Q93 431 104 431T121 432Q173 432 173 401V396L182 402Q237 437 305 437Q376 437 434 378T492 217Q492 146 459 93T382 17T291 -6Q261 -6 232 5T188 26L174 37Q173 37 173 -54V-146H236Q250 -155 254 -162T258 -184Q258 -213 236 -221H27Q4 -214 4 -184Q4 -169 8 -162T27 -146H89V355H58L27 356Q4 363 4 393Q4 408 8 415T27 431H89ZM409 215Q409 269 377 315T283 361Q255 361 224 344T177 297L173 290V167Q189 124 213 97T278 70Q330 70 369 111T409 215',
    0x1D69A: '34 215Q34 309 91 368T222 436Q224 436 231 436T242 437Q309 437 372 390V401Q372 419 381 428T414 437Q426 437 432 436T444 430T456 412V-146H489H504Q524 -146 534 -153T545 -184Q545 -211 527 -219Q523 -221 414 -221Q398 -221 374 -221T342 -222Q304 -222 294 -216T283 -184Q283 -157 301 -149Q307 -146 339 -146H372V-51Q372 43 371 43L364 38Q357 33 345 26T318 12T280 -1T236 -6Q155 -6 95 55T34 215ZM117 215Q117 152 157 111T250 70Q289 70 318 92T363 146Q372 163 372 192V215L371 263Q339 360 254 360Q206 360 162 321T117 215',
    0x1D69B: '327 76Q359 76 369 70T380 38Q380 10 359 1H47Q24 8 24 38Q24 54 28 61T47 76H145V355H96L47 356Q24 363 24 393Q24 409 28 416T47 431H207Q223 419 226 414T229 393V387V369Q297 437 394 437Q436 437 461 417T487 368Q487 347 473 332T438 317Q428 317 420 320T407 327T398 337T393 347T390 356L388 361Q348 356 324 345Q228 299 228 170Q228 161 228 151T229 138V76H293H327',
    0x1D69C: '72 317Q72 361 108 396T229 439Q231 439 245 439T268 440Q303 439 324 435T353 427T363 423L372 432Q380 440 397 440Q430 440 430 395Q430 390 430 380T429 366V335Q429 311 422 302T387 293Q364 293 355 300T346 316T343 336T325 353Q306 364 257 364Q209 364 178 351T147 317Q147 284 231 272Q327 256 357 247Q458 210 458 129V121Q458 74 413 34T271 -6Q246 -6 224 -3T189 5T165 14T150 22T144 26Q142 23 139 18T135 11T132 6T128 1T124 -2T119 -4T113 -5T104 -6Q84 -6 78 6T71 43Q71 48 71 60T72 79Q72 132 73 141T81 157Q90 166 115 166Q135 166 142 162T157 140Q168 108 191 90T260 70Q297 70 323 76T361 91T379 110T384 129Q384 157 346 171T247 195T165 212Q119 228 96 256T72 317',
    0x1D69D: '25 395Q26 405 26 408T29 416T35 423T48 431H145V481L146 532Q154 547 161 550T184 554H189Q218 554 227 534Q229 529 229 480V431H405Q406 430 411 427T418 422T422 416T426 407T427 393Q427 387 427 382T424 374T421 368T417 363T413 360T408 358L405 356L317 355H229V249Q229 237 229 214T228 179Q228 126 241 98T295 70Q354 70 365 149Q366 167 375 174Q383 182 407 182H415Q438 182 446 166Q448 161 448 148Q448 84 398 39T282 -6Q226 -6 189 29T146 128Q145 134 145 247V355H96H72Q45 355 35 362T25 395',
    0x1D69E: '4 393Q4 416 15 423T52 431H90Q141 431 151 429T168 417Q171 412 173 409V254L174 100Q182 70 244 70Q320 70 344 119Q349 130 350 144T351 248V355H320L289 356Q266 363 266 393Q266 408 270 415T289 431H351H386Q409 431 418 428T433 411Q435 406 435 241V76H498Q512 67 516 60T520 38Q520 9 498 1H436H394Q372 1 364 5T351 26L342 21Q293 -5 227 -5Q118 -5 96 67Q91 82 90 101T89 227V355H58L27 356Q4 363 4 393',
    0x1D69F: '24 392Q24 417 36 424T79 432Q85 432 103 432T132 431H215Q229 422 233 415T237 393Q237 355 198 355H193H172L262 77L352 355H331H323Q288 355 288 393Q288 409 291 415T310 431H478Q491 423 495 416T500 393Q500 364 478 356L452 355H426L374 190Q320 24 318 20Q307 -4 273 -4H262H251Q217 -4 206 20Q204 24 150 190L98 355H72L47 356Q24 363 24 392',
    0x1D6A0: '54 355Q16 355 16 388V393Q16 423 37 430Q41 431 125 431H162Q206 431 218 425T230 393Q230 366 212 358Q206 355 174 355Q141 355 141 354L150 296Q181 110 181 89V84Q182 85 183 96Q185 118 199 173T218 237Q223 247 245 259H264H268Q294 259 309 240Q315 229 329 174T343 92Q343 84 344 84V86Q344 88 344 91T345 97Q347 125 356 187T374 301T383 354Q383 355 350 355H333Q314 355 304 362T294 393Q294 420 312 428Q318 431 401 431H440Q485 431 496 425T508 393Q508 382 508 377T498 363T470 355L455 354Q455 353 441 271T413 104T396 16Q384 -4 355 -4H351Q315 -4 305 9T280 79Q278 90 276 96Q265 149 265 169Q265 176 264 169Q263 166 263 162Q261 130 248 79T230 18Q220 -4 183 -4H175L151 -3Q134 5 127 17L112 102Q97 188 83 270T69 354Q62 355 54 355',
    0x1D6A1: '35 393Q35 417 46 424T89 432Q95 432 112 432T141 431H223Q238 422 241 415T244 393Q244 389 244 383T237 367T216 355Q209 355 209 354L234 319Q259 286 260 286L308 354Q308 355 301 355Q285 356 278 365T270 384L271 393Q271 420 289 428Q295 431 376 431H459Q460 430 465 427T472 422T476 416T480 407T481 393Q481 368 470 362T434 355H425H392L344 290Q295 225 295 223Q294 223 309 203T350 149L405 77L439 76H453Q474 76 484 69T495 38Q495 10 473 1H303Q281 9 281 32V38Q281 49 282 54T290 67T313 76Q324 76 324 77L259 173L197 77Q202 76 209 76Q225 75 233 68T241 55T242 38Q242 28 242 24T236 12T221 1H51Q29 9 29 32V38Q29 48 29 51T31 59T38 67T51 76H117L171 149Q224 222 224 223L124 355H90H78Q54 355 45 361T35 393',
    0x1D6A2: '26 393Q26 417 37 424T80 431H134H217Q232 422 235 416T239 393Q239 379 236 371T226 360T214 356T197 355L179 354V353L188 330Q197 306 209 272T235 201T259 133T271 89V84L274 95Q279 122 298 185T335 300T352 354Q352 355 331 355Q312 355 304 358Q288 368 288 393Q288 408 291 415T310 431H478Q479 430 484 427T491 422T495 416T499 407T500 393Q500 376 493 367T479 357T458 355H452Q426 355 425 353Q420 337 351 124T280 -94Q240 -195 168 -220Q147 -228 125 -228Q89 -228 66 -201T42 -139Q42 -116 56 -102T93 -87Q117 -87 130 -102T144 -135V-138H126Q121 -148 121 -150T130 -152Q182 -147 207 -87Q211 -78 223 -40T236 1Q230 10 102 355H75L49 356Q26 363 26 393',
    0x1D6A3: '56 1Q40 7 37 14T34 41Q34 59 36 64Q39 67 43 73Q65 95 191 213T341 355H133V334Q133 306 124 297Q116 289 91 289H83Q60 289 51 308Q49 313 49 361L50 409Q59 427 72 430H78Q83 430 92 430T115 430T144 430T179 431T219 431T262 431H450Q452 430 455 428T459 424T463 422T466 419T468 416T469 413T470 409T471 404T472 398T472 391Q472 374 469 368L462 358Q453 349 315 218Q210 122 164 76H391V103Q391 136 400 146Q409 155 433 155Q464 155 473 135Q475 130 475 78V46Q475 24 472 16T453 1H56',
    0x1D6A8: '296 0Q278 3 164 3Q58 3 49 0H40V62H92Q144 62 144 64Q388 682 397 689Q403 698 434 698Q463 698 471 689Q475 686 538 530T663 218L724 64Q724 62 776 62H828V0H817Q796 3 658 3Q509 3 485 0H472V62H517Q561 62 561 63L517 175H262L240 120Q218 65 217 64Q217 62 261 62H306V0H296ZM390 237L492 238L440 365Q390 491 388 491Q287 239 287 237H390',
    0x1D6A9: '720 510Q720 476 704 448T665 404T619 377T580 362L564 359L583 356Q602 353 632 342T690 312Q712 292 725 276Q752 235 752 189V183Q752 160 741 125Q698 18 547 2Q543 1 288 0H39V62H147V624H39V686H264H409Q502 686 542 681T624 655Q720 607 720 510ZM563 513Q563 553 548 578T518 611T486 622Q479 624 385 624H293V382H375Q458 383 467 385Q563 405 563 513ZM590 192Q590 307 505 329Q504 330 503 330L398 331H293V62H391H400H444Q496 62 528 75T580 131Q590 155 590 192',
    0x1D6AA: '425 0L228 3Q63 3 51 0H39V62H147V618H39V680H612V676Q614 670 627 552T643 428V424H581V428Q580 430 576 461T562 524T532 576Q512 596 481 605T426 616T357 618H304V62H439V0H425',
    0x1D6AB: '901 12Q901 7 892 0H479Q65 0 62 2Q56 6 56 11Q56 14 242 347T433 685Q438 694 450 696Q454 698 480 698H506L523 687Q526 683 711 354T899 17Q901 13 901 12ZM653 137L427 538L202 137L315 136H540L653 137',
    0x1D6AC: '723 286Q721 284 700 145T677 3V0H39V62H147V618H39V680H660V676Q662 670 675 552T691 428V424H629V428Q629 429 627 448T618 494T601 541Q574 593 527 605T382 618H374H304V384H336Q338 384 347 384T361 384T376 386T392 390T407 397T421 407T432 423Q442 444 443 482V501H505V205H443V224Q442 258 435 278T411 307T380 318T336 322H304V62H375H394Q429 62 449 62T497 66T541 76T577 95T609 126T632 170T651 232Q661 287 661 289H723V286',
    0x1D6AD: '80 430L92 686H358Q624 686 628 684Q638 679 638 656Q638 640 637 639Q637 638 445 353Q401 288 351 214T277 103L253 67L256 66Q258 66 265 66T279 66T298 66H343Q380 66 406 68T464 81T518 110T557 164T579 250Q583 278 583 298Q583 299 614 299H645V291Q643 281 636 150T627 8V0H353Q79 0 75 2Q64 7 64 31Q64 48 66 52L259 340L451 623Q451 624 384 624Q294 623 259 612Q155 581 143 446Q142 440 142 432V430H80',
    0x1D6AE: '400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V388H595V624H487V686H499Q523 683 673 683Q824 683 848 686H860V624H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V326H304V62H412V0H400',
    0x1D6AF: '629 -10T446 -10T164 89T64 340Q64 380 71 420T102 510T163 596T266 662T418 696H438Q488 696 499 695Q582 686 644 655T741 584T796 495T823 409T829 338Q829 188 729 89ZM439 645Q416 645 390 638T333 615T275 564T236 480Q221 423 221 341Q221 272 230 228Q247 144 301 94T447 43T592 93T663 228Q672 272 672 341Q672 645 439 645ZM286 242V446H348V412H545V446H607V242H545V276H348V242H286',
    0x1D6B0: '397 0Q370 3 218 3Q65 3 38 0H25V62H139V624H25V686H38Q65 683 218 683Q370 683 397 686H410V624H296V62H410V0H397',
    0x1D6B1: '400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H51Q75 683 226 683Q376 683 400 686H412V624H304V338L472 483L634 624H565V686H576Q597 683 728 683Q814 683 829 686H836V624H730L614 524Q507 432 497 422Q496 422 498 418T514 395T553 342T627 241L759 63L805 62H852V0H842Q830 3 701 3Q550 3 526 0H513V62H549Q584 62 584 63Q583 65 486 196T388 328L304 256V62H412V0H400',
    0x1D6B2: '285 0Q267 3 154 3Q56 3 47 0H40V62H131Q131 63 167 160T244 369T321 578T359 678Q366 698 393 698H404H413Q437 698 446 678Q448 672 560 369T674 62H765V0H754Q733 3 604 3Q453 3 429 0H416V62H461L507 63L355 470Q353 468 279 265L203 63L249 62H294V0H285',
    0x1D6B3: '314 0Q296 3 181 3T48 0H39V62H147V624H39V686H305Q316 679 323 667Q330 653 434 414L546 157L658 414Q766 662 773 674Q778 681 788 686H1052V624H944V62H1052V0H1040Q1016 3 874 3T708 0H696V62H804V341L803 618L786 580Q770 543 735 462T671 315Q540 13 536 9Q528 1 507 1Q485 1 477 9Q472 14 408 162T281 457T217 603Q215 603 215 334V62H323V0H314',
    0x1D6B4: '314 0Q296 3 181 3T48 0H39V62H147V624H39V686H171H265Q288 686 297 686T309 684T315 679Q317 676 500 455T684 233V624H576V686H585Q603 683 718 683T851 686H860V624H752V319Q752 15 750 11Q747 4 742 2T718 0H712Q708 0 706 0T700 0T696 1T693 2T690 4T687 7T684 11T679 16T674 23Q671 27 437 311L215 579V62H323V0H314',
    0x1D6B5: '54 465L63 674Q63 675 383 675T703 674L712 465Q712 464 681 464H650V467Q650 490 646 516T632 545Q612 550 383 550H283Q169 550 149 548T124 531Q123 530 123 529Q116 506 116 467V464H85Q54 464 54 465ZM160 256V447H222V414H544V447H606V256H544V289H222V256H160ZM57 0L48 222H110V219Q110 147 125 133Q127 130 130 129T160 127T235 126T383 126Q482 126 530 126T604 127T635 129T641 133Q656 146 656 219V222H718L709 0H57',
    0x1D6B6: '64 339Q64 431 96 502T182 614T295 675T420 696Q469 696 481 695Q620 680 709 589T798 339Q798 173 697 82T432 -10Q262 -10 163 85T64 339ZM625 454Q618 502 600 538T562 593T515 624T469 639T431 642Q331 642 276 563Q232 493 232 353Q232 315 234 285T244 216T267 148T308 94T372 56Q405 46 432 46Q517 46 567 106T627 267Q631 299 631 353Q631 418 625 454',
    0x1D6B7: '400 0Q376 3 226 3Q75 3 51 0H39V62H147V618H39V680H860V618H752V62H860V0H848Q824 3 674 3Q523 3 499 0H487V62H595V618H304V62H412V0H400',
    0x1D6B8: '400 0Q376 3 226 3Q75 3 51 0H39V62H147V624H39V686H253Q435 686 470 685T536 678Q585 668 621 648T675 605T705 557T718 514T721 483T718 451T704 409T673 362T616 322T530 293Q500 288 399 287H304V62H412V0H400ZM553 475Q553 554 537 582T459 622Q451 623 373 624H298V343H372Q457 344 480 350Q527 362 540 390T553 475',
    0x1D6BA: '766 271Q764 266 750 137T735 4V0H407Q74 0 71 4L70 5Q64 9 64 18Q64 24 82 41T213 158L359 288Q360 288 320 336T214 460Q67 633 66 635Q64 638 64 655Q64 679 75 684Q78 686 407 686H735V682Q738 676 751 558T766 434V430H735Q704 430 704 431Q704 434 703 444T696 477T681 520T654 563T613 598Q578 615 527 619T371 624H281L396 489Q506 358 513 351Q517 342 512 334Q503 325 371 208Q338 179 303 147T249 99L231 83L243 81Q258 81 364 81Q382 81 418 81T470 82T513 83T554 88T587 96T619 109T645 129Q689 173 702 260L704 274Q704 275 735 275H766V271',
    0x1D6BB: '41 425Q41 426 51 545T62 669V675H737V669Q738 665 748 546T758 425V419H696V425Q687 517 669 555T595 607Q578 612 522 613H478V62H631V0H615Q585 3 399 3Q214 3 184 0H168V62H321V613H277H263Q164 613 134 561Q113 527 103 425V419H41V425',
    0x1D6BC: '64 556Q69 619 114 658T224 697Q271 697 310 677T375 622T417 554T444 484L447 477V479Q456 516 473 551T516 620T582 676T670 697Q735 697 780 656T829 556Q829 539 818 532H772Q761 539 761 548Q761 571 681 571Q664 571 653 570T623 562T587 537T555 490Q536 448 531 410T525 300V210V62H660V0H646L447 3Q257 1 247 0H233V62H368V210V301Q368 373 363 410T338 490Q324 518 307 536T270 561T240 569T212 571Q132 571 132 548Q132 539 121 532H75Q64 538 64 556',
    0x1D6BD: '609 0Q582 3 415 3T221 0H207V62H342V168L328 169Q193 180 117 241Q64 286 64 343T117 445Q193 506 328 517L342 518V624H207V686H221Q248 683 415 683T609 686H623V624H488V518L502 517Q637 506 713 445Q766 400 766 343T713 241Q637 180 502 169L488 168V62H623V0H609ZM342 219T342 343T340 467Q328 467 304 459Q277 451 261 439T237 409T228 378T226 343Q226 314 229 296T250 259T301 228Q331 219 341 219Q342 219 342 343ZM604 343Q604 365 602 379T591 413T560 446T503 464L489 467Q488 467 488 343T489 219Q499 219 529 228Q554 236 570 248T593 277T602 308T604 343',
    0x1D6BE: '327 0Q306 3 174 3Q52 3 43 0H33V62H98L162 63L360 333L157 624H48V686H59Q80 683 217 683Q368 683 395 686H408V624H335L393 540L452 458L573 623Q573 624 528 624H483V686H494Q515 683 646 683Q769 683 778 686H787V624H658L575 511Q493 398 493 397L508 376Q522 356 553 312T611 229L727 62H835V0H824Q803 3 667 3Q516 3 489 0H476V62H513L549 63L401 274L247 63Q247 62 292 62H338V0H327',
    0x1D6BF: '64 515Q64 532 71 536T104 540H139Q200 540 207 538Q225 533 236 521T253 489T260 454T264 414Q264 340 287 296T347 237Q369 226 373 226Q374 226 374 425V624H239V686H253Q280 683 447 683T641 686H655V624H520V226L522 227Q525 228 531 229T552 240T580 261T606 298T624 354Q627 368 628 394T631 440T637 482T654 518T686 538Q693 540 754 540H794Q817 540 823 536T829 515Q829 500 824 495T811 489T796 483T782 461T775 408Q767 212 568 175Q526 168 521 168Q520 168 520 115V62H655V0H641Q614 3 447 3T253 0H239V62H374V168L364 169Q290 178 243 203Q126 261 118 409Q117 443 111 461T98 484T83 489T70 495T64 515',
    0x1D6C0: '598 645T415 645T232 458Q232 385 275 239T318 26Q318 8 311 4T272 -1Q265 -1 240 -1T196 0H88V3Q86 5 70 108Q52 211 51 212V215H113V212Q123 149 132 133Q136 124 149 122T202 118Q241 118 241 119Q241 132 132 277Q64 378 64 457Q64 564 158 630T403 696Q487 696 543 685T661 638Q722 599 744 549T766 458Q766 434 761 410T749 368T729 327T709 293T684 258T663 229Q632 187 614 160T592 126L589 119Q589 118 628 118Q667 119 680 121T698 133Q702 140 706 160T714 196L717 212V215H779V212Q778 211 760 108Q744 5 742 3V0H634H562Q528 0 520 4T512 26Q512 92 555 238T598 458Q598 645 415 645',
    0x1D6C1: '56 673Q56 679 65 686H892Q901 679 901 673Q901 668 714 331T521 -15Q518 -18 506 -24H452Q440 -19 436 -15Q431 -8 337 162T150 501L57 669Q57 670 56 672V673ZM528 136L758 553H297Q298 551 414 341L528 136',
    0x1D6E2: '208 74Q208 50 254 46Q272 46 272 35Q272 34 270 22Q267 8 264 4T251 0Q249 0 239 0T205 1T141 2Q70 2 50 0H42Q35 7 35 11Q37 38 48 46H62Q132 49 164 96Q170 102 345 401T523 704Q530 716 547 716H555H572Q578 707 578 706L606 383Q634 60 636 57Q641 46 701 46Q726 46 726 36Q726 34 723 22Q720 7 718 4T704 0Q701 0 690 0T651 1T578 2Q484 2 455 0H443Q437 6 437 9T439 27Q443 40 445 43L449 46H469Q523 49 533 63L521 213H283L249 155Q208 86 208 74ZM516 260Q516 271 504 416T490 562L463 519Q447 492 400 412L310 260L413 259Q516 259 516 260',
    0x1D6E3: '231 637Q204 637 199 638T194 649Q194 676 205 682Q206 683 335 683Q594 683 608 681Q671 671 713 636T756 544Q756 480 698 429T565 360L555 357Q619 348 660 311T702 219Q702 146 630 78T453 1Q446 0 242 0Q42 0 39 2Q35 5 35 10Q35 17 37 24Q42 43 47 45Q51 46 62 46H68Q95 46 128 49Q142 52 147 61Q150 65 219 339T288 628Q288 635 231 637ZM649 544Q649 574 634 600T585 634Q578 636 493 637Q473 637 451 637T416 636H403Q388 635 384 626Q382 622 352 506Q352 503 351 500L320 374H401Q482 374 494 376Q554 386 601 434T649 544ZM595 229Q595 273 572 302T512 336Q506 337 429 337Q311 337 310 336Q310 334 293 263T258 122L240 52Q240 48 252 48T333 46Q422 46 429 47Q491 54 543 105T595 229',
    0x1D6E4: '49 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 661Q197 674 203 680H714Q721 676 721 669Q721 664 708 557T694 447Q692 440 674 440H662Q655 445 655 454Q655 455 658 480T661 534Q661 572 652 592Q638 619 603 626T501 634H471Q398 633 393 630Q389 628 386 622Q385 619 315 341T245 60Q245 46 333 46H345Q366 46 366 35Q366 33 363 21T358 6Q356 1 339 1Q334 1 292 1T187 2Q122 2 88 2T49 1',
    0x1D6E5: '574 715L582 716Q589 716 595 716Q612 716 616 714Q621 712 621 709Q622 707 705 359T788 8Q786 5 785 3L781 0H416Q52 0 50 2T48 6Q48 9 305 358T567 711Q572 712 574 715ZM599 346L538 602L442 474Q347 345 252 217T157 87T409 86T661 88L654 120Q646 151 629 220T599 346',
    0x1D6E6: '492 213Q472 213 472 226Q472 230 477 250T482 285Q482 316 461 323T364 330H312Q311 328 277 192T243 52Q243 48 254 48T334 46Q428 46 458 48T518 61Q567 77 599 117T670 248Q680 270 683 272Q690 274 698 274Q718 274 718 261Q613 7 608 2Q605 0 322 0H133Q31 0 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 659Q197 676 203 680H757Q764 676 764 669Q764 664 751 557T737 447Q735 440 717 440H705Q698 445 698 453L701 476Q704 500 704 528Q704 558 697 578T678 609T643 625T596 632T532 634H485Q397 633 392 631Q388 629 386 622Q385 619 355 499T324 377Q347 376 372 376H398Q464 376 489 391T534 472Q538 488 540 490T557 493Q562 493 565 493T570 492T572 491T574 487T577 483L544 351Q511 218 508 216Q505 213 492 213',
    0x1D6E7: '58 8Q58 23 64 35Q64 36 329 334T596 635L586 637Q575 637 512 637H500H476Q442 637 420 635T365 624T311 598T266 548T228 469Q227 466 226 463T224 458T223 453T222 450L221 448Q218 443 202 443Q185 443 182 453L214 561Q228 606 241 651Q249 679 253 681Q256 683 487 683H718Q723 678 723 675Q723 673 717 649Q189 54 188 52L185 49H274Q369 50 377 51Q452 60 500 100T579 247Q587 272 590 277T603 282H607Q628 282 628 271Q547 5 541 2Q538 0 300 0H124Q58 0 58 8',
    0x1D6E8: '228 637Q194 637 192 641Q191 643 191 649Q191 673 202 682Q204 683 219 683Q260 681 355 681Q389 681 418 681T463 682T483 682Q499 682 499 672Q499 670 497 658Q492 641 487 638H485Q483 638 480 638T473 638T464 637T455 637Q416 636 405 634T387 623Q384 619 355 500Q348 474 340 442T328 395L324 380Q324 378 469 378H614L615 381Q615 384 646 504Q674 619 674 627T617 637Q594 637 587 639T580 648Q580 650 582 660Q586 677 588 679T604 682Q609 682 646 681T740 680Q802 680 835 681T871 682Q888 682 888 672Q888 645 876 638H874Q872 638 869 638T862 638T853 637T844 637Q805 636 794 634T776 623Q773 618 704 340T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q520 50 522 50T528 55T534 64T540 82T547 110T558 153Q565 181 569 198Q602 330 602 331T457 332H312L279 197Q245 63 245 58Q245 51 253 49T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628Q285 635 228 637',
    0x1D6E9: '740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM640 466Q640 523 625 565T583 628T532 658T479 668Q370 668 273 559T151 255Q150 245 150 213Q150 156 165 116T207 55T259 26T313 17Q385 17 451 63T561 184Q590 234 615 312T640 466ZM510 276Q510 278 512 288L515 298Q515 299 384 299H253L250 285Q246 271 244 268T231 265H227Q216 265 214 266T207 274Q207 278 223 345T244 416Q247 419 260 419H263Q280 419 280 408Q280 406 278 396L275 386Q275 385 406 385H537L540 399Q544 413 546 416T559 419H563Q574 419 576 418T583 410Q583 403 566 339Q549 271 544 267Q542 265 538 265H530H527Q510 265 510 276',
    0x1D6EA: '43 1Q26 1 26 10Q26 12 29 24Q34 43 39 45Q42 46 54 46H60Q120 46 136 53Q137 53 138 54Q143 56 149 77T198 273Q210 318 216 344Q286 624 286 626Q284 630 284 631Q274 637 213 637H193Q184 643 189 662Q193 677 195 680T209 683H213Q285 681 359 681Q481 681 487 683H497Q504 676 504 672T501 655T494 639Q491 637 471 637Q440 637 407 634Q393 631 388 623Q381 609 337 432Q326 385 315 341Q245 65 245 59Q245 52 255 50T307 46H339Q345 38 345 37T342 19Q338 6 332 0H316Q279 2 179 2Q143 2 113 2T65 2T43 1',
    0x1D6EB: '285 628Q285 635 228 637Q205 637 198 638T191 647Q191 649 193 661Q199 681 203 682Q205 683 214 683H219Q260 681 355 681Q389 681 418 681T463 682T483 682Q500 682 500 674Q500 669 497 660Q496 658 496 654T495 648T493 644T490 641T486 639T479 638T470 637T456 637Q416 636 405 634T387 623L306 305Q307 305 490 449T678 597Q692 611 692 620Q692 635 667 637Q651 637 651 648Q651 650 654 662T659 677Q662 682 676 682Q680 682 711 681T791 680Q814 680 839 681T869 682Q889 682 889 672Q889 650 881 642Q878 637 862 637Q787 632 726 586Q710 576 656 534T556 455L509 418L518 396Q527 374 546 329T581 244Q656 67 661 61Q663 59 666 57Q680 47 717 46H738Q744 38 744 37T741 19Q737 6 731 0H720Q680 3 625 3Q503 3 488 0H478Q472 6 472 9T474 27Q478 40 480 43T491 46H494Q544 46 544 71Q544 75 517 141T485 216L427 354L359 301L291 248L268 155Q245 63 245 58Q245 51 253 49T303 46H334Q340 37 340 35Q340 19 333 5Q328 0 317 0Q314 0 280 1T180 2Q118 2 85 2T49 1Q31 1 31 11Q31 13 34 25Q38 41 42 43T65 46Q92 46 125 49Q139 52 144 61Q147 65 216 339T285 628',
    0x1D6EC: '135 2Q114 2 90 2T60 1Q35 1 35 11Q35 28 42 40Q45 46 55 46Q119 46 151 94Q153 97 325 402T498 709Q505 716 526 716Q543 716 549 710Q550 709 560 548T580 224T591 57Q594 52 595 52Q603 47 638 46H663Q670 39 670 35Q669 12 657 0H644Q613 2 530 2Q497 2 469 2T424 2T405 1Q388 1 388 10Q388 15 391 24Q392 27 393 32T395 38T397 41T401 44T406 45T415 46Q473 46 487 64L472 306Q468 365 465 426T459 518L457 550Q456 550 328 322T198 88Q196 80 196 77Q196 49 243 46Q261 46 261 35Q261 34 259 22Q256 7 254 4T240 0Q237 0 211 1T135 2',
    0x1D6ED: '289 629Q289 635 232 637Q208 637 201 638T194 648Q194 649 196 659Q197 662 198 666T199 671T201 676T203 679T207 681T212 683T220 683T232 684Q238 684 262 684T307 683Q386 683 398 683T414 678Q415 674 451 396L487 117L510 154Q534 190 574 254T662 394Q837 673 839 675Q840 676 842 678T846 681L852 683H948Q965 683 988 683T1017 684Q1051 684 1051 673Q1051 668 1048 656T1045 643Q1041 637 1008 637Q968 636 957 634T939 623Q936 618 867 340T797 59Q797 55 798 54T805 50T822 48T855 46H886Q892 37 892 35Q892 19 885 5Q880 0 869 0Q864 0 828 1T736 2Q675 2 644 2T609 1Q592 1 592 11Q592 13 594 25Q598 41 602 43T625 46Q652 46 685 49Q699 52 704 61Q706 65 742 207T813 490T848 631L654 322Q458 10 453 5Q451 4 449 3Q444 0 433 0Q418 0 415 7Q413 11 374 317L335 624L267 354Q200 88 200 79Q206 46 272 46H282Q288 41 289 37T286 19Q282 3 278 1Q274 0 267 0Q265 0 255 0T221 1T157 2Q127 2 95 1T58 0Q43 0 39 2T35 11Q35 13 38 25T43 40Q45 46 65 46Q135 46 154 86Q158 92 223 354T289 629',
    0x1D6EE: '234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637',
    0x1D6EF: '222 668Q222 670 229 677H654Q677 677 705 677T740 678Q764 678 770 676T777 667Q777 662 764 594Q761 579 757 559T751 528L749 519Q747 512 729 512H717Q710 519 710 525Q712 532 715 559T719 591Q718 595 711 595Q682 598 486 598Q252 598 246 592Q239 587 228 552L216 517Q214 512 197 512H185Q178 517 178 522Q178 524 198 591T222 668ZM227 262Q218 262 215 262T209 266L207 270L227 356Q247 435 250 439Q253 443 260 443H267H280Q287 438 287 433Q287 430 285 420T280 402L278 393Q278 392 431 392H585L590 415Q595 436 598 439T612 443H628Q635 438 635 433Q635 431 615 351T594 268Q592 262 575 262H572Q556 262 556 272Q556 280 560 293L565 313H258L252 292Q248 271 245 267T230 262H227ZM60 0Q53 4 53 11Q53 14 68 89T84 169Q88 176 98 176H104H116Q123 169 123 163Q122 160 117 127T112 88Q112 80 243 80H351H454Q554 80 574 81T597 88V89Q603 100 610 121T622 157T630 174Q633 176 646 176H658Q665 171 665 166Q665 164 643 89T618 7Q616 2 607 1T548 0H335H60',
    0x1D6F0: '740 435Q740 320 676 213T511 42T304 -22Q207 -22 138 35T51 201Q50 209 50 244Q50 346 98 438T227 601Q351 704 476 704Q514 704 524 703Q621 689 680 617T740 435ZM637 476Q637 565 591 615T476 665Q396 665 322 605Q242 542 200 428T157 216Q157 126 200 73T314 19Q404 19 485 98T608 313Q637 408 637 476',
    0x1D6F1: '48 1Q31 1 31 10Q31 12 34 24Q39 43 44 45Q48 46 59 46H65Q92 46 125 49Q139 52 144 61Q146 66 215 342T285 622Q285 629 281 629Q273 632 228 634H197Q191 640 191 642T193 661Q197 674 203 680H541Q621 680 709 680T812 681Q841 681 855 681T877 679T886 676T887 670Q887 663 885 656Q880 637 875 635Q871 634 860 634H854Q827 634 794 631Q780 628 775 619Q773 614 704 338T634 58Q634 51 638 51Q646 48 692 46H723Q729 38 729 37T726 19Q722 6 716 0H701Q664 2 567 2Q533 2 504 2T458 2T437 1Q420 1 420 10Q420 15 423 24Q428 43 433 45Q437 46 448 46H454Q481 46 514 49Q528 52 533 61Q536 67 572 209T642 491T678 632Q678 634 533 634H388Q387 631 316 347T245 59Q245 55 246 54T253 50T270 48T303 46H334Q340 38 340 37T337 19Q333 6 327 0H312Q275 2 178 2Q144 2 115 2T69 2T48 1',
    0x1D6F2: '287 628Q287 635 230 637Q206 637 199 638T192 648Q192 649 194 659Q200 679 203 681T397 683Q587 682 600 680Q664 669 707 631T751 530Q751 453 685 389Q616 321 507 303Q500 302 402 301H307L277 182Q247 66 247 59Q247 55 248 54T255 50T272 48T305 46H336Q342 37 342 35Q342 19 335 5Q330 0 319 0Q316 0 282 1T182 2Q120 2 87 2T51 1Q33 1 33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM645 554Q645 567 643 575T634 597T609 619T560 635Q553 636 480 637Q463 637 445 637T416 636T404 636Q391 635 386 627Q384 621 367 550T332 412T314 344Q314 342 395 342H407H430Q542 342 590 392Q617 419 631 471T645 554',
    0x1D6F4: '65 0Q58 4 58 11Q58 16 114 67Q173 119 222 164L377 304Q378 305 340 386T261 552T218 644Q217 648 219 660Q224 678 228 681Q231 683 515 683H799Q804 678 806 674Q806 667 793 559T778 448Q774 443 759 443Q747 443 743 445T739 456Q739 458 741 477T743 516Q743 552 734 574T710 609T663 627T596 635T502 637Q480 637 469 637H339Q344 627 411 486T478 341V339Q477 337 477 336L457 318Q437 300 398 265T322 196L168 57Q167 56 188 56T258 56H359Q426 56 463 58T537 69T596 97T639 146T680 225Q686 243 689 246T702 250H705Q726 250 726 239Q726 238 683 123T639 5Q637 1 610 1Q577 0 348 0H65',
    0x1D6F5: '40 437Q21 437 21 445Q21 450 37 501T71 602L88 651Q93 669 101 677H569H659Q691 677 697 676T704 667Q704 661 687 553T668 444Q668 437 649 437Q640 437 637 437T631 442L629 445Q629 451 635 490T641 551Q641 586 628 604T573 629Q568 630 515 631Q469 631 457 630T439 622Q438 621 368 343T298 60Q298 48 386 46Q418 46 427 45T436 36Q436 31 433 22Q429 4 424 1L422 0Q419 0 415 0Q410 0 363 1T228 2Q99 2 64 0H49Q43 6 43 9T45 27Q49 40 55 46H83H94Q174 46 189 55Q190 56 191 56Q196 59 201 76T241 233Q258 301 269 344Q339 619 339 625Q339 630 310 630H279Q212 630 191 624Q146 614 121 583T67 467Q60 445 57 441T43 437H40',
    0x1D6F6: '45 535Q34 535 31 536T28 544Q28 554 39 578T70 631T126 683T206 705Q230 705 251 698T295 671T330 612T344 514Q344 477 342 473V472Q343 472 347 480T361 509T380 547Q471 704 596 704Q615 704 625 702Q659 692 679 663T700 595Q700 565 696 552T687 537T670 535Q656 535 653 536T649 543Q649 544 649 550T650 562Q650 589 629 605T575 621Q502 621 448 547T365 361Q290 70 290 60Q290 46 379 46H404Q410 40 410 39T408 19Q404 6 398 0H381Q340 2 225 2Q184 2 149 2T94 2T69 1Q61 1 58 1T53 4T51 10Q51 11 53 23Q54 25 55 30T56 36T58 40T60 43T62 44T67 46T73 46T82 46H89Q144 46 163 49T190 62L198 93Q206 124 217 169T241 262T262 350T274 404Q281 445 281 486V494Q281 621 185 621Q147 621 116 601T74 550Q71 539 66 537T45 535',
    0x1D6F7: '356 624Q356 637 267 637H243Q237 642 237 645T239 664Q243 677 249 683H264Q342 681 429 681Q565 681 571 683H583Q589 677 589 674T587 656Q582 641 578 637H540Q516 637 504 637T479 633T463 630T454 623T448 613T443 597T438 576Q436 566 434 556T430 539L428 533Q442 533 472 526T543 502T613 451T642 373Q642 301 567 241T386 158L336 150Q332 150 331 146Q310 66 310 60Q310 46 399 46H424Q430 40 430 39T428 19Q424 6 418 0H401Q360 2 247 2Q207 2 173 2T119 2T95 1Q87 1 84 1T79 4T77 10Q77 11 79 23Q80 25 81 30T82 36T84 40T86 43T88 44T93 46T99 46T108 46H115Q170 46 189 49T216 62Q220 74 228 107L239 150L223 152Q139 164 82 205T24 311Q24 396 125 462Q207 517 335 533L346 578Q356 619 356 624ZM130 291Q130 203 241 188H249Q249 190 287 342L325 495H324Q313 495 291 491T229 466T168 414Q130 357 130 291ZM536 393Q536 440 507 463T418 496L341 187L351 189Q443 201 487 255Q536 314 536 393',
    0x1D6F8: '42 0H40Q26 0 26 11Q26 15 29 27Q33 41 36 43T55 46Q141 49 190 98Q200 108 306 224T411 342Q302 620 297 625Q288 636 234 637H206Q200 643 200 645T202 664Q206 677 212 683H226Q260 681 347 681Q380 681 408 681T453 682T473 682Q490 682 490 671Q490 670 488 658Q484 643 481 640T465 637Q434 634 411 620L488 426L541 485Q646 598 646 610Q646 628 622 635Q617 635 609 637Q594 637 594 648Q594 650 596 664Q600 677 606 683H618Q619 683 643 683T697 681T738 680Q828 680 837 683H845Q852 676 852 672Q850 647 840 637H824Q790 636 763 628T722 611T698 593L687 584Q687 585 592 480L505 384Q505 383 536 304T601 142T638 56Q648 47 699 46Q734 46 734 37Q734 35 732 23Q728 7 725 4T711 1Q708 1 678 1T589 2Q528 2 496 2T461 1Q444 1 444 10Q444 11 446 25Q448 35 450 39T455 44T464 46T480 47T506 54Q523 62 523 64Q522 64 476 181L429 299Q241 95 236 84Q232 76 232 72Q232 53 261 47Q262 47 267 47T273 46Q276 46 277 46T280 45T283 42T284 35Q284 26 282 19Q279 6 276 4T261 1Q258 1 243 1T201 2T142 2Q64 2 42 0',
    0x1D6F9: '216 151Q48 174 48 329Q48 361 56 403T65 458Q65 482 58 494T43 507T28 510T21 520Q21 528 23 534T29 544L32 546H72H94Q110 546 119 544T139 536T154 514T159 476V465Q159 445 149 399T138 314Q142 229 197 201Q223 187 226 190L233 218Q240 246 253 300T280 407Q333 619 333 625Q333 637 244 637H220Q214 642 214 645T216 664Q220 677 226 683H241Q321 681 405 681Q543 681 549 683H560Q566 677 566 674T564 656Q559 641 555 637H517Q448 636 436 628Q429 623 423 600T373 404L320 192Q370 201 419 248Q451 281 469 317T500 400T518 457Q529 486 542 505T569 532T594 543T621 546H644H669Q692 546 692 536Q691 509 676 509Q623 509 593 399Q587 377 579 355T552 301T509 244T446 195T359 159Q324 151 314 151Q311 151 310 150T298 106T287 60Q287 46 376 46H401Q407 40 407 39T405 19Q401 6 395 0H378Q337 2 224 2Q184 2 150 2T96 2T72 1Q64 1 61 1T56 4T54 10Q54 11 56 23Q57 25 58 30T59 36T61 40T63 43T65 44T70 46T76 46T85 46H92Q147 46 166 49T193 62L204 106Q216 149 216 151',
    0x1D6FA: '125 84Q127 78 194 76H243V78Q243 122 208 215T165 350Q164 359 162 389Q162 522 272 610Q328 656 396 680T525 704Q628 704 698 661Q734 637 755 601T781 544T786 504Q786 439 747 374T635 226T537 109Q518 81 518 77Q537 76 557 76Q608 76 620 78T640 92Q646 100 656 119T673 155T683 172Q690 173 698 173Q718 173 718 162Q718 161 681 82T642 2Q639 0 550 0H461Q455 5 455 9T458 28Q472 78 510 149T584 276T648 402T677 525Q677 594 636 631T530 668Q476 668 423 641T335 568Q284 499 271 400Q270 388 270 348Q270 298 277 228T285 115Q285 82 280 49T271 6Q269 1 258 1T175 0H87Q83 3 80 7V18Q80 22 82 98Q84 156 85 163T91 172Q94 173 104 173T119 172Q124 169 124 126Q125 104 125 84',
    0x1D6FC: '34 156Q34 270 120 356T309 442Q379 442 421 402T478 304Q484 275 485 237V208Q534 282 560 374Q564 388 566 390T582 393Q603 393 603 385Q603 376 594 346T558 261T497 161L486 147L487 123Q489 67 495 47T514 26Q528 28 540 37T557 60Q559 67 562 68T577 70Q597 70 597 62Q597 56 591 43Q579 19 556 5T512 -10H505Q438 -10 414 62L411 69L400 61Q390 53 370 41T325 18T267 -2T203 -11Q124 -11 79 39T34 156ZM208 26Q257 26 306 47T379 90L403 112Q401 255 396 290Q382 405 304 405Q235 405 183 332Q156 292 139 224T121 120Q121 71 146 49T208 26',
    0x1D6FD: '29 -194Q23 -188 23 -186Q23 -183 102 134T186 465Q208 533 243 584T309 658Q365 705 429 705H431Q493 705 533 667T573 570Q573 465 469 396L482 383Q533 332 533 252Q533 139 448 65T257 -10Q227 -10 203 -2T165 17T143 40T131 59T126 65L62 -188Q60 -194 42 -194H29ZM353 431Q392 431 427 419L432 422Q436 426 439 429T449 439T461 453T472 471T484 495T493 524T501 560Q503 569 503 593Q503 611 502 616Q487 667 426 667Q384 667 347 643T286 582T247 514T224 455Q219 439 186 308T152 168Q151 163 151 147Q151 99 173 68Q204 26 260 26Q302 26 349 51T425 137Q441 171 449 214T457 279Q457 337 422 372Q380 358 347 358H337Q258 358 258 389Q258 396 261 403Q275 431 353 431',
    0x1D6FE: '31 249Q11 249 11 258Q11 275 26 304T66 365T129 418T206 441Q233 441 239 440Q287 429 318 386T371 255Q385 195 385 170Q385 166 386 166L398 193Q418 244 443 300T486 391T508 430Q510 431 524 431H537Q543 425 543 422Q543 418 522 378T463 251T391 71Q385 55 378 6T357 -100Q341 -165 330 -190T303 -216Q286 -216 286 -188Q286 -138 340 32L346 51L347 69Q348 79 348 100Q348 257 291 317Q251 355 196 355Q148 355 108 329T51 260Q49 251 47 251Q45 249 31 249',
    0x1D6FF: '195 609Q195 656 227 686T302 717Q319 716 351 709T407 697T433 690Q451 682 451 662Q451 644 438 628T403 612Q382 612 348 641T288 671T249 657T235 628Q235 584 334 463Q401 379 401 292Q401 169 340 80T205 -10H198Q127 -10 83 36T36 153Q36 286 151 382Q191 413 252 434Q252 435 245 449T230 481T214 521T201 566T195 609ZM112 130Q112 83 136 55T204 27Q233 27 256 51T291 111T309 178T316 232Q316 267 309 298T295 344T269 400L259 396Q215 381 183 342T137 256T118 179T112 130',
    0x1D700: '190 -22Q124 -22 76 11T27 107Q27 174 97 232L107 239L99 248Q76 273 76 304Q76 364 144 408T290 452H302Q360 452 405 421Q428 405 428 392Q428 381 417 369T391 356Q382 356 371 365T338 383T283 392Q217 392 167 368T116 308Q116 289 133 272Q142 263 145 262T157 264Q188 278 238 278H243Q308 278 308 247Q308 206 223 206Q177 206 142 219L132 212Q68 169 68 112Q68 39 201 39Q253 39 286 49T328 72T345 94T362 105Q376 103 376 88Q376 79 365 62T334 26T275 -8T190 -22',
    0x1D701: '296 643Q298 704 324 704Q342 704 342 687Q342 682 339 664T336 633Q336 623 337 618T338 611Q339 612 341 612Q343 614 354 616T374 618L384 619H394Q471 619 471 586Q467 548 386 546H372Q338 546 320 564L311 558Q235 506 175 398T114 190Q114 171 116 155T125 127T137 104T153 86T171 72T192 61T213 53T235 46T256 39L322 16Q389 -10 389 -80Q389 -119 364 -154T300 -202Q292 -204 274 -204Q247 -204 225 -196Q210 -192 193 -182T172 -167Q167 -159 173 -148Q180 -139 191 -139Q195 -139 221 -153T283 -168Q298 -166 310 -152T322 -117Q322 -91 302 -75T250 -51T183 -29T116 4T65 62T44 160Q44 287 121 410T293 590L302 595Q296 613 296 643',
    0x1D702: '21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q156 442 175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336V326Q503 302 439 53Q381 -182 377 -189Q364 -216 332 -216Q319 -216 310 -208T299 -186Q299 -177 358 57L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287',
    0x1D703: '35 200Q35 302 74 415T180 610T319 704Q320 704 327 704T339 705Q393 701 423 656Q462 596 462 495Q462 380 417 261T302 66T168 -10H161Q125 -10 99 10T60 63T41 130T35 200ZM383 566Q383 668 330 668Q294 668 260 623T204 521T170 421T157 371Q206 370 254 370L351 371Q352 372 359 404T375 484T383 566ZM113 132Q113 26 166 26Q181 26 198 36T239 74T287 161T335 307L340 324H145Q145 321 136 286T120 208T113 132',
    0x1D704: '139 -10Q111 -10 92 0T64 25T52 52T48 74Q48 89 55 109T85 199T135 375L137 384Q139 394 140 397T145 409T151 422T160 431T173 439T190 442Q202 442 213 435T225 410Q225 404 214 358T181 238T137 107Q126 74 126 54Q126 43 126 39T130 31T142 27H147Q206 27 255 78Q272 98 281 114T290 138T295 149T313 153Q321 153 324 153T329 152T332 149T332 143Q332 106 276 48T145 -10H139',
    0x1D705: '83 -11Q70 -11 62 -4T51 8T49 17Q49 30 96 217T147 414Q160 442 193 442Q205 441 213 435T223 422T225 412Q225 401 208 337L192 270Q193 269 208 277T235 292Q252 304 306 349T396 412T467 431Q489 431 500 420T512 391Q512 366 494 347T449 327Q430 327 418 338T405 368Q405 370 407 380L397 375Q368 360 315 315L253 266L240 257H245Q262 257 300 251T366 230Q422 203 422 150Q422 140 417 114T411 67Q411 26 437 26Q484 26 513 137Q516 149 519 151T535 153Q554 153 554 144Q554 121 527 64T457 -7Q447 -10 431 -10Q386 -10 360 17T333 90Q333 108 336 122T339 146Q339 170 320 186T271 209T222 218T185 221H180L155 122Q129 22 126 16Q113 -11 83 -11',
    0x1D706: '166 673Q166 685 183 694H202Q292 691 316 644Q322 629 373 486T474 207T524 67Q531 47 537 34T546 15T551 6T555 2T556 -2T550 -11H482Q457 3 450 18T399 152L354 277L340 262Q327 246 293 207T236 141Q211 112 174 69Q123 9 111 -1T83 -12Q47 -12 47 20Q47 37 61 52T199 187Q229 216 266 252T321 306L338 322Q338 323 288 462T234 612Q214 657 183 657Q166 657 166 673',
    0x1D707: '58 -216Q44 -216 34 -208T23 -186Q23 -176 96 116T173 414Q186 442 219 442Q231 441 239 435T249 423T251 413Q251 401 220 279T187 142Q185 131 185 107V99Q185 26 252 26Q261 26 270 27T287 31T302 38T315 45T327 55T338 65T348 77T356 88T365 100L372 110L408 253Q444 395 448 404Q461 431 491 431Q504 431 512 424T523 412T525 402L449 84Q448 79 448 68Q448 43 455 35T476 26Q485 27 496 35Q517 55 537 131Q543 151 547 152Q549 153 557 153H561Q580 153 580 144Q580 138 575 117T555 63T523 13Q510 0 491 -8Q483 -10 467 -10Q446 -10 429 -4T402 11T385 29T376 44T374 51L368 45Q362 39 350 30T324 12T288 -4T246 -11Q199 -11 153 12L129 -85Q108 -167 104 -180T92 -202Q76 -216 58 -216',
    0x1D708: '74 431Q75 431 146 436T219 442Q231 442 231 434Q231 428 185 241L137 51H140L150 55Q161 59 177 67T214 86T261 119T312 165Q410 264 445 394Q458 442 496 442Q509 442 519 434T530 411Q530 390 516 352T469 262T388 162T267 70T106 5Q81 -2 71 -2Q66 -2 59 -1T51 1Q45 5 45 11Q45 13 88 188L132 364Q133 377 125 380T86 385H65Q59 391 59 393T61 412Q65 431 74 431',
    0x1D709: '268 632Q268 704 296 704Q314 704 314 687Q314 682 311 664T308 635T309 620V616H315Q342 619 360 619Q443 619 443 586Q439 548 358 546H344Q326 546 317 549T290 566Q257 550 226 505T195 405Q195 381 201 364T211 342T218 337Q266 347 298 347Q375 347 375 314Q374 297 359 288T327 277T280 275Q234 275 208 283L195 286Q149 260 119 214T88 130Q88 116 90 108Q101 79 129 63T229 20Q238 17 243 15Q337 -21 354 -33Q383 -53 383 -94Q383 -137 351 -171T273 -205Q240 -205 202 -190T158 -167Q156 -163 156 -159Q156 -151 161 -146T176 -140Q182 -140 189 -143Q232 -168 274 -168Q286 -168 292 -165Q313 -151 313 -129Q313 -112 301 -104T232 -75Q214 -68 204 -64Q198 -62 171 -52T136 -38T107 -24T78 -8T56 12T36 37T26 66T21 103Q21 149 55 206T145 301L154 307L148 313Q141 319 136 323T124 338T111 358T103 382T99 413Q99 471 143 524T259 602L271 607Q268 618 268 632',
    0x1D70A: '201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120',
    0x1D70B: '132 -11Q98 -11 98 22V33L111 61Q186 219 220 334L228 358H196Q158 358 142 355T103 336Q92 329 81 318T62 297T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 389 431Q549 431 553 430Q573 423 573 402Q573 371 541 360Q535 358 472 358H408L405 341Q393 269 393 222Q393 170 402 129T421 65T431 37Q431 20 417 5T381 -10Q370 -10 363 -7T347 17T331 77Q330 86 330 121Q330 170 339 226T357 318T367 358H269L268 354Q268 351 249 275T206 114T175 17Q164 -11 132 -11',
    0x1D70C: '58 -216Q25 -216 23 -186Q23 -176 73 26T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 219 486 165T425 74T345 13T266 -10H255H248Q197 -10 165 35L160 41L133 -71Q108 -168 104 -181T92 -202Q76 -216 58 -216ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q217 269 193 170L176 102Q193 26 260 26Q298 26 334 62Q367 92 389 158T418 266T424 322',
    0x1D70D: '31 207Q31 306 115 374T302 442Q341 442 373 430T405 400Q405 392 399 383T379 374Q373 375 348 390T296 405Q222 405 160 357T98 249Q98 232 103 218T112 195T132 175T154 159T186 141T219 122Q234 114 255 102T286 85T299 78L302 74Q306 71 308 69T315 61T322 51T328 40T332 25T334 8Q334 -31 305 -69T224 -107Q194 -107 163 -92Q156 -88 156 -80Q156 -73 162 -67T178 -61Q186 -61 190 -63Q209 -71 224 -71Q244 -71 253 -59T263 -30Q263 -25 263 -21T260 -12T255 -4T248 3T239 9T227 17T213 25T195 34T174 46Q170 48 150 58T122 74T97 90T70 112T51 137T36 169T31 207',
    0x1D70E: '184 -11Q116 -11 74 34T31 147Q31 247 104 333T274 430Q275 431 414 431H552Q553 430 555 429T559 427T562 425T565 422T567 420T569 416T570 412T571 407T572 401Q572 357 507 357Q500 357 490 357T476 358H416L421 348Q439 310 439 263Q439 153 359 71T184 -11ZM361 278Q361 358 276 358Q152 358 115 184Q114 180 114 178Q106 141 106 117Q106 67 131 47T188 26Q242 26 287 73Q316 103 334 153T356 233T361 278',
    0x1D70F: '39 284Q18 284 18 294Q18 301 45 338T99 398Q134 425 164 429Q170 431 332 431Q492 431 497 429Q517 424 517 402Q517 388 508 376T485 360Q479 358 389 358T299 356Q298 355 283 274T251 109T233 20Q228 5 215 -4T186 -13Q153 -13 153 20V30L203 192Q214 228 227 272T248 336L254 357Q254 358 208 358Q206 358 197 358T183 359Q105 359 61 295Q56 287 53 286T39 284',
    0x1D710: '413 384Q413 406 432 424T473 443Q492 443 507 425T523 367Q523 334 508 270T468 153Q424 63 373 27T282 -10H268Q220 -10 186 2T135 36T111 78T104 121Q104 170 138 262T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 299 34 333T82 404T161 441Q200 441 225 419T250 355Q248 336 247 334Q247 331 232 291T201 199T185 118Q185 68 211 47T275 26Q317 26 355 57T416 132T452 216T465 277Q465 301 457 318T439 343T421 361T413 384',
    0x1D711: '92 210Q92 176 106 149T142 108T185 85T220 72L235 70L237 71L250 112Q268 170 283 211T322 299T370 375T429 423T502 442Q547 442 582 410T618 302Q618 224 575 152T457 35T299 -10Q273 -10 273 -12L266 -48Q260 -83 252 -125T241 -179Q236 -203 215 -212Q204 -218 190 -218Q159 -215 159 -185Q159 -175 214 -2L209 0Q204 2 195 5T173 14T147 28T120 46T94 71T71 103T56 142T50 190Q50 238 76 311T149 431H162Q183 431 183 423Q183 417 175 409Q134 361 114 300T92 210ZM574 278Q574 320 550 344T486 369Q437 369 394 329T323 218Q309 184 295 109L286 64Q304 62 306 62Q423 62 498 131T574 278',
    0x1D712: '576 -125Q576 -147 547 -175T487 -204H476Q394 -204 363 -157Q334 -114 293 26L284 59Q283 58 248 19T170 -66T92 -151T53 -191Q49 -194 43 -194Q36 -194 31 -189T25 -177T38 -154T151 -30L272 102L265 131Q189 405 135 405Q104 405 87 358Q86 351 68 351Q48 351 48 361Q48 369 56 386T89 423T148 442Q224 442 258 400Q276 375 297 320T330 222L341 180Q344 180 455 303T573 429Q579 431 582 431Q600 431 600 414Q600 407 587 392T477 270Q356 138 353 134L362 102Q392 -10 428 -89T490 -168Q504 -168 517 -156T536 -126Q539 -116 543 -115T557 -114T571 -115Q576 -118 576 -125',
    0x1D713: '161 441Q202 441 226 417T250 358Q250 338 218 252T187 127Q190 85 214 61Q235 43 257 37Q275 29 288 29H289L371 360Q455 691 456 692Q459 694 472 694Q492 694 492 687Q492 678 411 356Q329 28 329 27T335 26Q421 26 498 114T576 278Q576 302 568 319T550 343T532 361T524 384Q524 405 541 424T583 443Q602 443 618 425T634 366Q634 337 623 288T605 220Q573 125 492 57T329 -11H319L296 -104Q272 -198 272 -199Q270 -205 252 -205H239Q233 -199 233 -197Q233 -192 256 -102T279 -9Q272 -8 265 -8Q106 14 106 139Q106 174 139 264T173 379Q173 380 173 381Q173 390 173 393T169 400T158 404H154Q131 404 112 385T82 344T65 302T57 280Q55 278 41 278H27Q21 284 21 287Q21 299 34 333T82 404T161 441',
    0x1D714: '495 384Q495 406 514 424T555 443Q574 443 589 425T604 364Q604 334 592 278T555 155T483 38T377 -11Q297 -11 267 66Q266 68 260 61Q201 -11 125 -11Q15 -11 15 139Q15 230 56 325T123 434Q135 441 147 436Q160 429 160 418Q160 406 140 379T94 306T62 208Q61 202 61 187Q61 124 85 100T143 76Q201 76 245 129L253 137V156Q258 297 317 297Q348 297 348 261Q348 243 338 213T318 158L308 135Q309 133 310 129T318 115T334 97T358 83T393 76Q456 76 501 148T546 274Q546 305 533 325T508 357T495 384',
    0x1D715: '202 508Q179 508 169 520T158 547Q158 557 164 577T185 624T230 675T301 710L333 715H345Q378 715 384 714Q447 703 489 661T549 568T566 457Q566 362 519 240T402 53Q321 -22 223 -22Q123 -22 73 56Q42 102 42 148V159Q42 276 129 370T322 465Q383 465 414 434T455 367L458 378Q478 461 478 515Q478 603 437 639T344 676Q266 676 223 612Q264 606 264 572Q264 547 246 528T202 508ZM430 306Q430 372 401 400T333 428Q270 428 222 382Q197 354 183 323T150 221Q132 149 132 116Q132 21 232 21Q244 21 250 22Q327 35 374 112Q389 137 409 196T430 306',
    0x1D716: '227 -11Q149 -11 95 41T40 174Q40 262 87 322Q121 367 173 396T287 430Q289 431 329 431H367Q382 426 382 411Q382 385 341 385H325H312Q191 385 154 277L150 265H327Q340 256 340 246Q340 228 320 219H138V217Q128 187 128 143Q128 77 160 52T231 26Q258 26 284 36T326 57T343 68Q350 68 354 58T358 39Q358 36 357 35Q354 31 337 21T289 0T227 -11',
    0x1D717: '537 500Q537 474 533 439T524 383L521 362Q558 355 561 351Q563 349 563 345Q563 321 552 318Q542 318 521 323L510 326Q496 261 459 187T362 51T241 -11Q100 -11 100 105Q100 139 127 242T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Q21 291 27 313T47 368T79 418Q103 442 134 442Q169 442 201 419T233 344Q232 330 206 228T180 98Q180 26 247 26Q292 26 332 90T404 260L427 349Q422 349 398 359T339 392T289 440Q265 476 265 520Q265 590 312 647T417 705Q463 705 491 670T528 592T537 500ZM464 564Q464 668 413 668Q373 668 339 622T304 522Q304 494 317 470T349 431T388 406T421 391T435 387H436L443 415Q450 443 457 485T464 564',
    0x1D718: '228 325Q170 322 156 316T127 309Q108 309 104 314Q99 319 99 322T108 341Q125 376 171 400T268 425H271Q302 425 319 396Q328 377 328 358Q328 332 324 314Q311 270 286 221Q274 194 274 192H275Q339 234 484 325T639 421Q669 434 691 434T723 425T734 406Q734 394 719 381Q715 376 644 330L575 287L566 267Q543 233 526 176Q520 160 515 143T508 115T506 105Q506 103 533 103Q585 103 607 110T641 118Q670 118 670 107Q670 100 661 85Q643 50 598 27T504 3Q465 3 450 36Q441 51 441 73Q441 84 444 96Q452 146 484 205L497 236L324 125Q143 12 135 10Q103 -6 77 -6Q61 -6 49 2T37 21Q37 36 49 46T124 96L195 141L204 156Q219 179 243 248T264 323Q264 325 228 325',
    0x1D719: '409 688Q413 694 421 694H429H442Q448 688 448 686Q448 679 418 563Q411 535 404 504T392 458L388 442Q388 441 397 441T429 435T477 418Q521 397 550 357T579 260T548 151T471 65T374 11T279 -10H275L251 -105Q245 -128 238 -160Q230 -192 227 -198T215 -205H209Q189 -205 189 -198Q189 -193 211 -103L234 -11Q234 -10 226 -10Q221 -10 206 -8T161 6T107 36T62 89T43 171Q43 231 76 284T157 370T254 422T342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53T203 35T237 27H244L337 404Q333 404 326 403T297 395T255 379T211 350T170 304Q152 276 137 237Q122 191 122 150ZM500 282Q500 320 484 347T444 385T405 400T381 404H378L332 217L284 29Q284 27 285 27Q293 27 317 33T357 47Q400 66 431 100T475 170T494 234T500 282',
    0x1D71A: '205 -174Q136 -174 102 -153T67 -76Q67 -25 91 85T127 234Q143 289 182 341Q252 427 341 441Q343 441 349 441T359 442Q432 442 471 394T510 276Q510 169 431 80T253 -10Q226 -10 204 -2T169 19T146 44T132 64L128 73Q128 72 124 53T116 5T112 -44Q112 -68 117 -78T150 -95T236 -102Q327 -102 356 -111T386 -154Q386 -166 384 -178Q381 -190 378 -192T361 -194H348Q342 -188 342 -179Q342 -169 315 -169Q294 -169 264 -171T205 -174ZM424 322Q424 359 407 382T357 405Q322 405 287 376T231 300Q221 276 204 217Q188 152 188 116Q188 68 210 47T259 26Q297 26 334 62Q367 92 389 158T418 266T424 322',
    0x1D71B: '206 -10Q158 -10 136 24T114 110Q114 233 199 349L205 358H184Q144 358 121 347Q108 340 95 330T75 312T61 295T53 285Q51 284 38 284Q19 284 19 294Q19 300 38 329T93 391T164 429Q171 431 532 431Q799 431 803 430Q823 423 823 402Q823 377 801 364Q790 358 766 358Q748 358 748 357Q748 355 749 348T752 327T754 297Q754 258 738 207T693 107T618 24T520 -10Q488 -10 466 2T432 36T416 77T411 120Q411 128 410 128T404 122Q373 71 323 31T206 -10ZM714 296Q714 316 707 358H251Q250 357 244 348T230 328T212 301T193 267T176 229T164 187T159 144Q159 62 222 62Q290 62 349 127T432 285Q433 286 434 288T435 291T437 293T440 294T444 294T452 294H466Q472 288 472 286Q472 285 464 244T456 170Q456 62 534 62Q604 62 659 139T714 296',
    0x1D71C: '65 0Q45 0 45 18Q48 52 61 60Q65 62 81 62Q155 62 165 74Q166 74 265 228T465 539T569 699Q576 707 583 709T611 711T637 710T649 700Q650 697 695 380L741 63L784 62H827Q839 50 839 45L835 29Q831 9 827 5T806 0Q803 0 790 0T743 1T657 2Q585 2 547 1T504 0Q481 0 481 17Q484 54 497 60Q501 62 541 62Q580 62 580 63Q580 68 573 121T564 179V181H308L271 124Q236 69 236 67T283 62H287Q316 62 316 46Q316 26 307 8Q302 3 295 0L262 1Q242 2 168 2Q119 2 93 1T65 0ZM537 372Q533 402 528 435T521 486T518 504V505Q517 505 433 375L348 244L451 243Q555 243 555 244L537 372',
    0x1D71D: '258 624H235Q214 624 209 626T199 639Q203 678 216 684Q220 686 449 686H477H586Q684 686 733 677T817 634Q853 598 853 547Q853 499 826 460T761 401T695 371T654 360H653L662 358Q670 357 683 354T712 344T744 327T774 303T795 269T804 224Q804 148 732 79T533 1Q524 0 288 0H58Q47 5 43 15Q47 54 60 60Q64 62 113 62H162L302 623Q302 624 258 624ZM703 550Q703 571 695 586T675 609T656 619T643 623L545 624H447L417 504Q386 384 386 383T470 382Q554 383 565 385Q632 397 667 447T703 550ZM651 240Q651 265 645 282T626 309T608 322T592 329Q587 330 479 331H373L340 198Q307 65 306 64Q306 62 406 62L507 63L519 65Q565 76 596 107T639 171T651 240',
    0x1D71E: '257 618H231Q198 618 198 636Q202 672 214 678L219 680H763Q769 677 772 673T776 666L777 664Q777 659 766 549T751 433Q745 424 723 424Q704 424 699 427T693 441Q693 444 695 467T697 513Q697 543 689 563T670 594T636 610T592 617T534 618H516H456L455 614Q455 613 387 339T317 64Q317 62 375 62H411Q430 62 438 59T447 44Q444 7 430 2Q426 0 416 0Q409 0 359 1T231 2Q152 2 111 1T65 0Q48 0 43 15Q47 54 60 60Q64 62 113 62H162L163 66Q163 67 231 341T301 616Q301 618 257 618',
    0x1D71F: '65 0Q59 6 59 9T61 16Q64 20 334 357T608 698Q616 706 629 710Q630 710 634 710T644 710T656 711Q686 711 694 703Q698 699 700 693Q706 674 805 345T904 14Q904 7 894 1L479 0H65ZM630 342L567 551L232 134L462 133H693Q693 137 630 342',
    0x1D720: '257 618H231Q198 618 198 636Q202 672 214 678L219 680H811Q817 677 820 673T824 666L825 664Q825 659 814 549T799 433Q793 424 771 424Q752 424 746 427T740 441Q740 445 742 466T744 505Q744 561 722 585T646 616Q639 617 545 618H456Q456 617 427 502T398 385Q398 384 435 384Q461 385 471 385T499 391T526 405T545 433T562 478Q566 494 571 497T595 501H604Q622 501 626 486Q626 482 593 349T557 213Q552 205 530 205Q499 205 499 219Q499 222 503 242T508 281Q508 308 491 314T429 322Q425 322 423 322H382L317 64Q317 62 390 62Q460 62 493 64T569 80T640 124Q665 149 686 187T719 253T733 283Q739 289 760 289Q791 289 791 274Q791 267 763 201T706 71L678 8Q676 4 667 0H58Q47 5 43 15Q47 54 60 60Q64 62 113 62H162L163 66Q163 67 231 341T301 616Q301 618 257 618',
    0x1D721: '223 430Q192 430 192 448Q192 450 225 561T261 677Q265 683 270 684Q273 686 534 686Q796 686 797 685Q805 682 805 673Q805 668 804 661T800 648T798 641Q796 637 531 352L266 67L329 66H364Q412 66 446 70T523 96T596 157Q617 186 630 220T649 273T663 297Q667 299 684 299H688Q715 299 715 281Q715 278 673 145T628 8Q626 4 617 0H348Q289 0 221 0T139 -1Q112 -1 99 -1T78 1T69 5T68 12Q68 16 71 31T77 49L84 57Q91 65 104 79T133 110T170 151T213 196L610 624H540Q533 624 514 624T488 624T467 623T443 620T422 616T398 609T373 600Q292 560 255 449Q251 436 246 433T223 430',
    0x1D722: '258 624H235Q214 624 209 626T199 639Q203 678 216 684Q220 686 239 686Q290 684 403 684Q475 684 512 685T553 686Q576 686 576 668Q572 632 560 626Q555 624 506 624H457L399 389Q399 388 547 388H695L753 623Q753 624 709 624H686Q665 624 660 626T650 639Q653 678 668 684Q672 686 681 686Q685 686 726 685T847 684Q902 684 937 684T986 685T1004 686Q1027 686 1027 668Q1023 632 1011 626Q1006 624 957 624H908L839 344Q768 64 768 63T812 62H839Q871 62 871 44Q867 6 854 2L850 0L808 1Q782 2 675 2Q600 2 560 1T516 0Q499 0 494 15Q498 54 511 60Q515 62 564 62H613L614 66L679 324Q679 326 531 326H383L382 322L317 64Q317 62 361 62H388Q420 62 420 44Q416 6 403 2L399 0L357 1Q331 2 224 2Q149 2 109 1T65 0Q48 0 43 15Q47 54 60 60Q64 62 113 62H162L302 623Q302 624 258 624',
    0x1D723: '358 -17Q218 -17 136 49T54 243Q54 298 70 356T123 474T211 582T338 663T504 702H527Q578 702 590 701Q709 688 776 622T844 441Q844 379 825 315T765 192T668 86T532 11T358 -17ZM700 474Q700 525 685 561T642 616T587 643T528 652Q390 652 301 534Q252 472 225 373T198 210Q198 160 214 125T256 71T311 44T372 36Q484 36 571 119Q639 189 669 299T700 474ZM366 428Q366 425 364 419T362 411H466L570 412L573 422Q576 437 581 441T604 445Q620 445 623 444Q636 440 636 429Q636 423 616 340T593 253Q586 243 572 243H566Q545 243 539 249Q536 251 535 253T534 258T534 263T535 270T537 277H329L326 266Q323 251 318 247T295 243Q279 243 276 244Q263 248 263 259Q263 265 283 346Q288 366 295 394Q304 431 308 438T326 445H334H338Q366 445 366 428',
    0x1D724: '247 624Q242 624 233 624T220 623Q186 623 186 640Q186 647 190 664T202 684Q206 686 226 686Q277 684 393 684Q435 684 471 684T528 685T553 686Q573 686 573 670Q573 650 564 632Q556 624 537 624H501H449L380 344Q309 64 309 63T356 62Q361 62 370 62T384 63Q417 63 417 46Q417 26 408 8Q403 3 396 0L352 1Q325 2 216 2T82 1L45 0Q30 7 30 16Q33 51 46 60Q51 62 102 62H154L294 623Q294 624 247 624',
    0x1D725: '536 0Q522 6 522 18Q522 35 533 57Q539 62 557 62Q595 62 601 65L472 330L365 255L342 160Q318 65 317 64Q317 62 361 62H388Q420 62 420 44Q416 6 403 2L399 0L357 1Q331 2 224 2Q149 2 109 1T65 0Q48 0 43 15Q47 54 60 60Q64 62 113 62H162L302 623Q302 624 258 624H235Q214 624 209 626T199 639Q203 678 216 684Q220 686 239 686Q290 684 403 684Q475 684 512 685T553 686Q576 686 576 668Q572 632 560 626Q555 624 506 624H457L422 481Q386 339 386 337L785 621Q779 624 749 624Q726 624 726 641Q726 645 730 659Q734 675 736 679T747 686L786 685Q812 684 888 684Q908 684 934 685T968 686Q1003 686 1003 669Q1003 646 991 629Q985 624 967 624Q918 624 888 617Q884 617 874 613L865 609Q864 608 732 515T599 420Q599 418 686 242T775 65Q784 62 829 62Q847 62 850 61T860 54Q862 52 862 43Q862 10 845 1Q844 1 842 1T836 0T797 1T694 2Q599 2 573 1L536 0',
    0x1D726: '439 0Q425 6 425 18Q425 35 436 57Q442 62 485 62Q525 62 525 64L478 483Q478 484 465 463T422 394T350 277Q222 69 222 68Q223 67 224 67Q229 64 271 62Q290 62 297 59T305 45Q305 38 302 28Q297 9 293 5T274 0Q270 0 238 1T159 2Q133 2 105 2T72 1Q56 1 52 3T44 15Q44 19 48 35Q53 55 58 58T89 62Q142 64 151 73Q154 76 345 387T538 699Q550 711 570 711H580H592Q613 711 618 695Q619 692 654 379T690 63Q690 62 726 62H746Q776 62 776 44Q773 7 759 2Q755 0 747 0Q743 0 707 1T600 2Q502 2 476 1L439 0',
    0x1D727: '258 624H231Q214 624 208 626T199 639Q203 678 216 684Q220 686 347 686H473Q474 685 478 682T484 677Q487 673 535 413L584 153L608 187Q631 221 672 281T761 410Q935 663 943 671Q949 678 962 686H1082H1166Q1201 686 1210 683T1219 668Q1215 632 1203 626Q1199 624 1149 624H1100L1031 344Q960 64 960 63T1004 62H1031Q1063 62 1063 44Q1060 7 1046 2Q1042 0 1034 0Q1030 0 990 1T875 2Q804 2 767 1T725 0H723Q707 0 703 15Q707 54 720 60Q724 62 773 62H822Q961 618 961 619L754 318Q546 15 543 12Q531 0 510 0Q500 0 495 0T484 5T477 19Q477 20 421 315L367 604L299 335Q234 72 234 68Q234 62 302 62Q334 62 334 46Q332 8 317 2Q313 0 306 0Q301 0 267 1T181 2Q125 2 96 1T63 0Q48 0 43 15Q43 19 47 35Q52 55 57 58T94 62Q147 64 164 69L233 345Q302 619 302 622Q302 624 258 624',
    0x1D728: '258 624H235Q214 624 209 626T199 639Q203 678 216 684Q220 686 344 686H434Q464 686 477 680Q480 677 607 454Q738 227 739 227Q742 227 789 418T836 618Q836 620 835 620L821 622Q811 622 779 624Q755 624 749 625T740 632Q737 635 737 644Q737 656 742 669T754 685Q755 685 757 685T763 686Q768 686 803 685T890 684Q925 684 951 684T990 685T1006 686Q1014 686 1016 684Q1027 679 1027 668Q1023 632 1011 626Q1007 624 978 624Q912 622 907 617Q907 616 831 314T753 8Q749 0 723 0H712Q699 0 692 7Q692 8 671 44T607 155T526 296L361 580L296 323Q234 74 234 68T302 62H307Q334 62 334 44Q330 6 317 2L313 0L280 1Q260 2 181 2Q125 2 96 1T63 0Q48 0 43 15Q43 19 47 35Q52 55 57 58T94 62Q147 64 164 69L233 345Q302 619 302 622Q302 624 258 624',
    0x1D729: '206 466Q175 466 175 484Q175 487 201 574T230 666Q235 673 241 675H547Q853 675 857 673Q867 668 867 657Q867 655 850 569T832 478Q827 466 808 466H802H795Q773 466 771 481Q771 486 775 508T779 541V549H774Q755 552 505 552Q281 551 267 548Q262 548 255 533T242 496T233 472Q228 466 206 466ZM259 255H252Q231 255 228 270Q228 275 248 355T270 439Q277 448 288 448H298Q321 448 326 440Q331 434 326 414Q326 413 486 413H647L650 424Q654 441 658 444T678 448H683H693Q702 448 705 446T714 432L694 348Q674 267 669 261Q664 255 652 255H643Q622 255 617 261Q613 265 613 272T613 283T616 289Q616 290 456 290H295L294 285Q293 280 292 275T288 265T281 257Q278 255 259 255ZM150 131Q150 124 281 123Q346 123 390 123Q640 123 664 126Q668 127 675 127Q686 131 704 198Q708 213 713 216T733 220H738Q755 220 759 218Q768 213 768 203Q768 198 741 105T710 8Q708 4 699 0H388Q77 0 73 2Q62 7 62 18Q62 27 81 115Q99 206 102 212Q106 220 120 220H129Q140 220 145 220T155 215T160 202Q160 196 159 192Q150 145 150 131',
    0x1D72A: '53 245Q53 297 70 356T125 478T216 590T349 671T523 703Q656 703 735 637T815 445Q815 378 791 307Q727 104 527 17Q437 -17 344 -17Q289 -17 242 -5T150 35T79 116T53 245ZM664 489Q664 575 618 611T511 648Q463 648 416 627T334 570Q297 531 270 472T230 355T213 261T208 206Q208 177 215 151T237 98T284 56T358 40Q440 40 510 98T618 270Q664 400 664 489',
    0x1D72B: '257 618H231Q198 618 198 636Q202 672 214 678L219 680H1011Q1022 675 1026 665Q1022 626 1009 620Q1005 618 956 618H907L906 614Q906 613 838 339T768 64Q768 62 812 62H839Q871 62 871 44Q867 6 854 2L850 0L808 1Q782 2 675 2Q600 2 560 1T516 0Q499 0 494 15Q498 54 511 60Q515 62 564 62H613L614 66Q614 67 682 341T752 616Q752 618 604 618H456L455 614Q455 613 387 339T317 64Q317 62 361 62H388Q420 62 420 44Q416 6 403 2L399 0L357 1Q331 2 224 2Q149 2 109 1T65 0Q48 0 43 15Q47 54 60 60Q64 62 113 62H162L163 66Q163 67 231 341T301 616Q301 618 257 618',
    0x1D72C: '162 62L302 623Q302 624 258 624H234Q214 624 209 626T200 638Q200 677 217 684Q220 686 439 686Q667 685 684 682Q686 681 693 680Q713 677 733 671T782 649T829 602T847 528Q847 450 784 382T604 293Q571 288 469 287H373L346 176Q340 151 333 122T321 78L317 64Q317 62 361 62H387Q420 62 420 44Q417 10 404 2L399 0L357 1Q331 2 224 2Q149 2 109 1T65 0Q43 0 43 17Q43 21 47 33Q52 54 57 58T89 62H113H162ZM692 558Q692 611 617 622Q610 623 529 624H452L381 343H458H492Q604 343 641 389Q662 414 677 471T692 558',
    0x1D72E: '847 430Q828 430 823 434T817 450Q817 454 817 466T818 487Q818 526 809 551T784 591T737 613T675 622T590 624H528H430L513 487Q594 351 596 345Q596 335 590 330Q583 323 418 204L250 81L363 80Q533 80 591 89T694 142Q739 185 765 252Q772 268 776 271T799 274Q816 274 820 272Q832 266 830 254Q829 250 784 130T736 7Q732 3 725 0H405Q84 0 80 2Q69 7 69 18Q69 26 75 32Q76 32 98 48T168 100T255 164L432 293Q429 300 329 465T225 637Q223 675 245 686H888Q900 680 902 671Q902 667 890 556T876 441Q871 430 847 430',
    0x1D72F: '498 62Q511 58 511 43Q511 10 494 1L490 0Q487 0 482 0T424 1T271 2Q201 2 157 2T94 1T72 0H70Q46 0 46 17Q49 54 62 60L66 62H137Q208 62 209 63L218 98Q227 134 244 203T278 339L347 613H300Q262 612 246 611T198 599T146 564Q128 545 114 512T91 454T79 425Q73 419 52 419Q22 419 22 434Q22 440 41 498T80 611L100 666Q105 673 111 675H434Q758 675 762 673Q772 668 772 657Q772 655 756 549T738 434Q735 419 711 419H707Q690 419 686 421Q677 425 677 434Q676 436 678 449T683 485T686 529Q686 553 679 569T662 594T631 607T593 612T544 613H502L433 340Q418 279 400 207T374 100L365 65L364 62H498',
    0x1D730: '32 544Q32 586 91 644T229 703Q277 703 311 683T363 628T389 560T397 491V478L404 491Q455 589 526 646T677 703Q730 703 766 671T802 584Q802 551 793 541T766 531H757L736 532L732 535L729 539V549Q731 569 715 575T658 581H650Q545 581 477 443Q453 392 443 351Q441 345 424 273T389 133T371 64Q371 62 428 62H461Q483 62 492 59T501 44Q498 10 485 2L480 0L431 1Q401 2 278 2T127 1L85 0Q71 5 71 17Q71 24 74 33Q77 46 78 49T84 57T95 61T118 62H154H216Q232 126 249 193T273 287T287 345T296 388T299 416T300 452Q294 581 198 581Q154 581 132 575T106 562T99 546T86 533Q82 531 60 531L39 532Q32 537 32 544',
    0x1D731: '323 624H293Q267 624 261 626T251 639Q255 678 268 684Q272 686 293 686Q348 684 475 684Q557 684 600 685T647 686H648Q671 686 671 668Q667 632 655 626Q650 624 588 624H525L500 520Q500 519 520 518T579 507T656 480Q737 440 737 372Q737 294 648 237Q562 180 426 169L412 168L399 118Q386 66 386 65L385 62H443H479Q498 62 506 59T515 44Q511 8 499 2L494 0L447 1Q417 2 298 2Q212 2 167 1T118 0Q100 0 95 15Q99 54 112 60Q116 62 179 62H241Q242 64 254 114T266 167Q266 168 262 168Q256 168 237 170T180 181T110 205T54 249T29 316Q29 391 112 446T327 516Q345 518 349 518Q351 518 353 518L355 519Q356 520 368 570T381 623Q381 624 323 624ZM342 466Q341 467 339 467Q320 467 283 455T225 420Q181 361 181 296Q181 273 193 257T222 233T254 222T277 219L280 220Q281 220 311 342T342 466ZM583 389Q583 409 576 423T557 444T533 456T509 463T492 467H486L455 343Q444 300 437 271T428 231T426 219Q430 219 445 222T483 232T521 250Q551 269 567 310T583 389',
    0x1D732: '931 686Q953 686 953 670Q953 650 944 632Q936 624 924 624H914Q823 624 803 611Q800 609 696 503T591 396Q591 394 667 229L743 62H787H814Q846 62 846 44Q843 7 829 2Q825 0 817 0Q813 0 775 1T664 2Q590 2 551 1T508 0H507Q484 0 484 18Q484 19 488 37Q492 56 497 58T534 62L566 63Q567 64 520 169T471 274Q469 274 369 172T268 67L315 62Q320 62 328 62L335 61Q347 58 347 44Q344 10 331 2L326 0L287 1Q263 2 177 2Q95 2 78 1L53 0Q38 6 38 17Q38 40 50 57Q56 62 78 62Q169 62 188 75Q194 77 435 324L444 334L439 347Q437 351 373 492L313 624H268H246Q220 624 212 632Q210 636 210 642Q210 655 215 669T227 684Q230 686 247 686Q295 684 398 684Q438 684 472 684T527 685T551 686Q567 686 572 671Q572 667 568 651Q563 631 558 628T523 624T492 623H488L526 540Q563 457 564 457Q564 456 574 466T604 496T645 537L724 619Q716 622 677 624H673Q645 624 645 640Q645 660 654 678Q659 683 666 686L704 685Q728 684 813 684Q847 684 873 684T913 685T931 686',
    0x1D733: '205 471Q205 445 196 403T186 333Q186 303 194 281T218 248T240 233T262 224L361 623Q361 624 303 624Q296 624 284 624T266 623Q232 623 232 641Q232 648 235 657Q240 678 244 682T268 686H273Q329 684 457 684Q502 684 540 684T599 685T626 686H628Q651 686 651 668Q649 633 631 624H505L407 227Q410 228 416 229T439 239T472 259T507 294T539 345Q549 365 563 416T597 498T649 538Q657 540 717 540Q725 540 737 540T755 541Q790 541 790 524Q790 512 784 497Q780 491 767 490T742 477Q736 471 731 463T722 449T715 433T710 419T705 403T701 389Q686 340 658 302T599 240T530 201T463 179T404 169L391 168L379 116Q365 67 365 63Q365 62 422 62H455Q477 62 486 59T495 44Q492 10 479 2L474 0L427 1Q397 2 278 2T131 1L90 0Q76 5 76 17Q76 24 79 33Q82 46 83 49T89 57T100 61T123 62H159H221Q247 162 247 168H244Q241 169 239 169Q202 176 178 182T123 207T74 252Q46 291 46 351Q46 375 52 404T59 454Q59 489 40 489Q32 489 27 494T22 507Q22 535 37 538Q40 540 99 540H128Q168 540 186 528T205 471',
    0x1D734: '162 119Q181 115 235 115L273 116Q273 133 231 222T180 345Q173 368 173 391V406V414Q173 477 214 540Q255 600 315 635Q353 661 423 682T585 703Q656 703 711 690T799 656T851 608T879 555T886 503Q886 449 860 401Q840 359 810 322T725 230T643 146Q619 117 619 116T650 115Q707 115 722 120Q730 123 750 165T775 210Q779 212 796 212Q828 212 828 196Q828 191 807 144T764 52L743 7Q740 4 740 4T733 2T717 0T686 0H632H573Q535 0 526 3T517 17Q517 44 544 103T617 243T671 341Q729 454 729 535Q729 599 686 625T583 652Q549 652 517 645T450 616T388 561T344 470T327 340Q327 304 331 237T336 135Q336 93 330 50T313 2Q308 0 208 0H142Q107 0 100 4T93 25Q93 28 93 41T95 77T96 118L100 199Q105 208 109 210T131 212Q147 212 151 210T161 199V160Q161 131 162 125V119',
    0x1D736: '39 166Q39 213 59 261T117 353T219 424T362 452Q420 452 466 433T536 384T573 325T586 269V265Q593 272 609 308T636 381Q640 397 644 399T669 402H680Q700 402 700 388Q700 379 691 351T659 276T604 188L593 173L595 153Q600 79 612 43H618Q634 45 642 51T653 64T658 71Q661 73 684 73Q712 73 712 59Q712 39 685 16T603 -7Q588 -7 575 -5T551 2T532 12T516 24T503 37T494 49T487 60T481 69L469 61Q362 -8 251 -8Q159 -8 99 36T39 166ZM260 43Q310 43 361 63T438 101T465 124Q458 240 453 277Q435 401 354 401Q291 401 245 355Q230 337 217 313Q201 279 186 216T170 126Q170 72 208 54Q230 43 260 43',
    0x1D737: '59 -194H49Q31 -194 28 -182Q28 -178 107 139T192 473Q212 533 248 580T324 652T395 689T450 701H461Q514 701 551 688T605 652T630 607T637 561Q637 546 634 526T611 465T556 393Q572 382 590 347T608 262Q608 146 522 69T299 -8Q279 -8 261 -6T228 2T204 13T183 26T169 37T157 48L150 56L120 -64Q113 -90 104 -128Q93 -175 89 -184T73 -194H59ZM531 592Q531 651 463 651Q399 651 341 600T253 466Q250 458 217 327T182 185Q180 176 180 159Q180 108 212 76T301 44Q330 44 354 51T393 65T423 91T444 118T459 151T468 179T475 206Q490 264 491 296Q491 313 489 326T484 345L482 350Q481 350 477 348T464 344T444 340T413 335T372 333T334 334T301 340T274 355T265 380Q265 444 397 444Q425 444 445 441T476 436L485 433Q489 433 499 458Q509 482 520 527T531 592ZM424 390Q424 393 389 393Q383 393 374 393T362 392Q348 392 333 388Q345 384 379 384Q424 384 424 390',
    0x1D738: '5 269Q5 285 19 312T57 368T124 421T215 451H241Q274 451 303 439T353 406T389 361T416 311T432 266T442 232L444 220L446 216L450 226Q473 278 513 357T561 441Q566 444 584 444H594Q617 444 617 430Q617 426 596 389T536 273T462 110L452 84L451 70Q447 12 427 -76T388 -192Q375 -211 355 -211Q339 -211 332 -198T325 -171Q325 -114 386 64L393 84V98Q393 181 371 241Q360 280 319 303T210 327Q158 327 126 317T84 296T68 272T59 258Q55 256 36 256Q23 256 18 256T9 260T5 269',
    0x1D739: '216 610Q216 640 229 664T262 700T299 719T327 725Q330 725 406 709T487 690Q513 681 513 651Q513 627 494 607T450 587Q417 587 378 631Q346 663 314 663Q286 663 272 639Q271 637 271 634Q271 609 344 536L397 484Q438 448 458 410T478 313Q478 234 443 147T338 18Q298 -8 249 -8Q214 -8 180 0T113 26T60 81T39 168Q39 200 50 237T87 316T160 391T272 442L260 465Q216 553 216 610ZM348 235Q348 274 336 313T310 372L298 392Q295 391 290 390T269 380T241 359T212 323T185 267Q157 168 157 130Q157 83 186 63T255 43Q280 43 300 67Q317 89 332 138T348 235',
    0x1D73A: '224 -17Q126 -17 81 22T36 112Q36 178 84 226L93 236L88 246Q79 264 79 289Q79 341 124 388Q201 461 333 461Q402 461 455 425Q480 409 481 390Q481 365 464 350T428 334Q415 334 387 352T313 370Q141 370 141 293Q141 275 146 270Q147 270 148 270T155 272Q202 291 263 291H270Q349 291 349 244Q349 195 281 183Q274 182 239 182Q201 182 184 185T137 200Q123 188 112 168T100 129T112 98T148 81T189 75T237 74H243H251Q288 74 310 75T359 86T398 112Q405 124 417 124Q426 124 432 117T439 100Q439 88 427 70T390 32T322 -3T224 -17ZM286 238Q286 240 253 240Q245 240 234 239T216 237T209 235Q209 232 250 232Q286 232 286 238',
    0x1D73B: '361 711Q373 711 381 703T389 683Q389 681 388 676T383 656T376 618V612H379Q385 618 429 618Q521 618 521 572Q521 551 506 534Q483 510 415 507Q385 507 371 511T336 536L326 528Q254 472 204 381T154 209Q154 190 157 177Q159 165 162 154T170 135T182 119T195 106T212 95T229 86T249 78T269 72T290 66T311 60Q385 37 388 36Q437 14 454 -36Q456 -46 456 -64Q456 -83 455 -90Q445 -132 413 -167T333 -202Q300 -202 257 -191T206 -169Q203 -164 203 -158Q203 -148 210 -140T231 -130Q239 -130 263 -139T326 -151H329Q337 -151 342 -150T352 -143T357 -123Q356 -117 355 -113T350 -104T344 -96T335 -90T324 -85T310 -80T294 -74T275 -68T254 -62Q253 -62 231 -56T205 -48T179 -39T150 -26T125 -10T100 11T80 37T62 70T53 109T48 157Q48 281 123 396T317 586V612Q319 638 320 649T325 678T338 703T361 711ZM454 564Q445 567 424 567Q407 567 398 565T387 563Q387 558 411 558Q434 558 450 562L454 564',
    0x1D73C: '24 296Q25 302 27 312T41 350T65 397T103 435T157 452Q202 452 233 435Q267 419 284 384L294 392Q304 401 316 410T348 429T388 445Q410 451 445 451H453Q468 451 482 450T519 443T558 425T587 391T600 337V327Q600 311 538 64Q484 -158 478 -168Q457 -211 409 -211Q386 -211 372 -197T357 -161Q357 -158 415 80Q476 330 477 348Q477 366 473 377T461 393T448 399T432 400H427Q379 400 335 363Q300 332 280 298Q277 293 246 170T213 40Q205 22 186 7T142 -8T103 7T89 39Q89 49 106 117T142 260T164 351Q166 363 166 372Q166 402 148 402Q126 402 110 369Q100 350 90 310Q85 289 82 286T60 282H55H44Q24 282 24 296',
    0x1D73D: '213 -8Q130 -8 85 50T40 200V207Q40 303 83 428Q122 535 189 608Q279 702 381 702Q410 702 437 693T492 661T537 593T554 486Q554 428 539 362T495 230T425 111T330 25T213 -8ZM433 562Q433 600 419 625T377 651Q363 651 348 644T311 619T268 557T229 453Q225 441 217 411T208 378H401Q433 500 433 562ZM161 140Q161 43 217 43Q249 43 280 74Q310 103 332 150T378 287Q385 313 385 315Q385 316 289 316H192Q191 308 183 275T169 205T161 140',
    0x1D73E: '161 -8Q111 -8 75 16T38 85Q38 95 48 121T80 214T123 368L124 374Q126 381 127 386T132 399T139 414T149 428T162 440T180 448T203 452Q226 452 241 439T257 404Q257 386 230 290T171 111Q157 73 157 57Q157 43 166 43Q209 43 258 69T322 144Q326 157 330 159T348 162H355H366Q386 162 386 148Q386 143 383 132T367 100T335 61Q301 27 253 10T161 -8',
    0x1D73F: '258 405Q258 394 251 364T237 308T230 281T238 284T270 306T330 349Q365 377 389 394T450 427T519 444Q545 444 559 430T574 391Q574 360 551 336T491 312Q469 312 454 326T439 364Q439 372 438 372Q433 372 395 344T320 289T283 260H285Q287 260 290 260T297 259Q495 248 495 146Q495 132 491 110T486 74Q486 43 505 43Q520 43 531 53Q559 72 578 141Q582 157 586 159T611 162H622Q642 162 642 148T627 100T578 29T504 -7H495Q435 -7 399 22T363 96Q363 111 366 122T369 142Q369 155 364 165T347 182T326 193T298 200T269 204T238 207T212 210L211 206L190 123L169 40Q161 22 142 7T98 -8T59 7T45 39Q45 48 67 139T112 317L134 404Q142 424 161 438T204 452Q226 452 242 440T258 405',
    0x1D740: '95 -13Q70 -13 55 4T40 41Q40 65 61 88Q65 92 210 207T357 322L235 602Q217 640 185 643Q182 643 178 644T173 645Q161 651 161 666Q161 677 167 684T181 692Q189 694 212 694Q335 694 358 660Q362 653 500 340T647 18Q652 10 652 6Q652 -8 622 -8H589H538L526 -5Q506 1 500 8Q494 16 444 128Q442 133 440 138L387 259L265 134Q156 20 137 4T95 -13',
    0x1D741: '294 -8Q265 -8 244 -5T213 1T201 4Q200 4 192 -32T172 -111T155 -168Q134 -211 86 -211Q62 -211 48 -196T34 -158Q37 -144 103 123T174 404Q182 424 201 438T244 452Q271 452 284 436T298 404Q298 392 267 269T235 114Q235 43 305 43Q342 43 375 68T418 110Q420 112 455 253T492 397Q514 444 562 444Q587 444 601 429T615 397Q615 387 599 320T563 178T542 93Q540 81 540 72Q540 42 558 42Q580 42 596 75Q606 94 616 134Q621 155 624 158T646 162H651H662Q682 162 682 148Q681 142 679 132T665 94T641 47T602 9T548 -8Q523 -8 502 -3T468 11T446 27T432 40L429 46Q367 -8 294 -8',
    0x1D742: '88 382Q70 382 65 385T59 402T64 427T78 443Q79 444 157 448T247 452Q256 452 261 448T266 440L267 437Q267 432 223 252L177 71L192 77Q293 117 371 199T480 388Q489 424 511 438T556 452Q579 452 593 438T608 402Q608 378 593 340T540 251T446 152T299 62T96 -1Q91 -2 78 -2Q38 -2 38 15Q38 22 82 198L127 379Q124 382 88 382',
    0x1D743: '287 648Q291 671 293 680T305 700T329 711Q339 711 347 705T356 687Q356 680 351 653T345 619Q345 615 346 615Q358 618 398 618Q490 618 490 572Q490 553 476 536T434 512Q411 508 378 508H366Q332 508 306 534L298 525Q271 496 254 456T237 375Q237 336 244 336Q272 346 319 346H325Q354 346 372 344T406 331T422 300Q422 252 350 238Q332 236 303 236Q286 236 269 238T240 242T218 247T202 252L196 254Q191 254 174 237T141 191T124 139Q124 108 151 92T267 46Q285 40 295 37Q308 33 332 25T366 13T392 3T415 -8T432 -20T445 -36T451 -55T454 -80Q454 -118 427 -153T358 -199Q349 -201 327 -201Q313 -201 298 -200T271 -196T246 -191T226 -185T210 -180T200 -176L196 -174Q187 -170 187 -158T196 -138T216 -130Q217 -130 254 -140T329 -151Q349 -151 349 -135Q349 -127 340 -122T293 -104Q260 -93 238 -85Q130 -48 115 -41Q71 -19 47 15T23 88Q23 126 48 179T130 277L144 288L136 297Q99 336 99 390Q99 456 148 514T285 602V619Q285 624 286 635T287 648ZM355 563Q362 560 376 558Q424 558 423 564Q405 567 390 567Q369 567 355 563ZM279 292Q297 287 315 287Q355 287 355 293Q355 296 321 296Q316 296 308 296L301 295Q295 295 289 294L279 292',
    0x1D744: '254 -8Q191 -8 146 9T80 54T49 111T39 169Q39 206 53 247T96 329T176 402T292 446Q317 451 336 451L344 452Q353 452 359 452Q457 452 516 408T576 279Q576 169 488 81T254 -8ZM349 400Q321 400 287 385T231 338Q206 301 188 228T170 126Q170 99 178 83Q198 44 260 44Q367 44 409 157Q419 185 432 238T445 317Q445 336 443 348Q435 372 416 384T384 398T349 400',
    0x1D745: '55 289H43Q23 289 23 303Q23 308 33 322Q116 434 199 443Q200 444 418 444Q591 444 617 444T652 439Q674 426 674 400Q674 378 661 360T625 335Q621 334 549 333H479L477 321Q476 312 476 279Q476 219 491 174T521 104T536 65Q536 38 511 15T457 -8Q403 -8 386 94Q384 110 384 139Q384 181 391 229T406 304L413 331Q413 333 365 333H316L315 329Q315 328 312 314T301 272T288 220Q274 167 258 103Q244 49 240 38T228 18Q225 16 224 14Q200 -8 172 -8Q146 -8 132 7T118 44Q118 54 121 61Q122 65 142 102T190 195T235 293Q250 329 250 333Q177 333 166 332Q115 328 88 301L77 290L55 289',
    0x1D746: '307 -8Q277 -8 251 0T215 14L205 20Q203 18 193 -25T171 -114T155 -168Q134 -211 87 -211Q64 -211 49 -198T34 -162Q34 -158 137 254Q153 299 179 334T232 390T277 419T311 434Q357 451 403 451Q435 451 455 449T506 435T560 400Q603 357 603 285Q603 172 520 82T307 -8ZM474 343Q474 364 458 382T409 400H406Q339 400 299 341Q281 313 264 257Q261 248 242 170T222 89Q222 84 230 74T260 54T308 43Q334 43 365 57T417 110Q437 145 456 228Q474 298 474 332V343',
    0x1D747: '33 209Q33 277 80 334T195 421T330 451H344Q410 451 439 429Q457 417 457 402Q457 386 445 375T420 363Q415 363 406 368T383 383T354 398Q347 400 330 400Q256 400 196 361T135 265V257Q135 242 147 225T174 199L358 107Q400 77 400 28T362 -63T271 -105Q254 -105 229 -99T195 -86Q188 -82 188 -71Q188 -56 197 -50T216 -44Q225 -44 237 -48T270 -53H282Q293 -44 293 -31Q293 -19 283 -10Q278 -4 200 33T115 76Q77 98 55 133T33 209',
    0x1D748: '35 151Q35 190 51 236T99 327T184 404T306 443Q307 443 316 443T342 443T378 444T425 444T476 444Q606 444 626 444T655 439Q677 426 677 400Q677 358 639 340Q625 333 563 333Q510 333 510 331Q518 319 518 272Q518 155 437 74T226 -8Q123 -8 79 41T35 151ZM396 278Q396 314 375 323T305 332Q249 332 222 310T180 243Q171 219 162 178T153 116V110Q153 43 234 43Q347 43 382 199Q383 203 383 204Q396 255 396 278',
    0x1D749: '55 289H43Q23 289 23 303Q23 308 33 322Q116 434 199 443Q200 444 386 444Q571 444 577 442Q588 441 599 432T610 402Q610 359 572 340Q561 335 547 334T452 333H353V331Q352 330 342 261T320 119T306 40Q300 18 281 3Q257 -13 233 -13Q210 -13 196 0T181 35Q181 44 182 48Q183 53 229 187T279 331Q279 333 228 333H209Q163 333 136 328T88 301L77 290L55 289',
    0x1D74A: '189 388Q189 396 187 398T176 401Q144 399 122 369T89 304Q84 288 81 285T61 282H55H44Q24 282 24 296Q24 306 34 330T64 382T116 431T188 452Q232 452 270 430T308 361Q308 345 275 258T241 123Q241 44 336 44H344Q380 44 415 73T474 140T511 214T526 267Q526 280 513 292Q505 301 486 311T456 333T444 367Q444 400 471 426T529 453Q555 453 579 431T604 358Q604 327 592 271T557 172Q550 157 541 142T510 97T464 47T404 9T328 -8Q264 -8 219 5T154 41T125 85T117 131Q117 182 153 277T189 388',
    0x1D74B: '238 4Q230 5 218 8T174 26T118 58T73 112T53 190Q53 219 60 246Q77 313 103 362T143 426T163 443Q165 444 186 444Q217 444 217 432Q217 425 188 392Q157 351 137 291T116 206Q116 127 263 109L276 107L288 139Q347 304 414 378T566 452Q621 449 662 412T703 286Q698 167 598 82T357 -8H332V-11Q332 -12 327 -46T317 -116T310 -157Q306 -180 286 -198T234 -216Q211 -216 197 -203T183 -168Q183 -160 184 -155Q184 -152 198 -112T225 -34T238 4ZM637 260Q637 303 607 322T541 341Q502 341 466 319T405 264Q368 218 356 159Q348 111 348 104Q348 103 361 103Q502 103 569 152T637 260',
    0x1D74C: '58 -194Q32 -194 32 -164Q32 -153 46 -139L175 -13Q296 104 296 106Q271 232 226 308Q165 401 141 401Q128 401 117 390T100 365Q94 350 91 349T69 346H45Q35 348 35 359Q35 380 62 411T133 450Q143 452 165 452Q286 452 329 402Q347 379 366 333T394 254T404 215Q404 213 405 213Q405 212 420 227T463 268T520 324Q637 437 640 438Q647 444 661 444Q667 444 676 438T685 419Q685 405 670 389T549 271L420 145Q433 85 444 53Q466 -25 509 -88T575 -151Q590 -151 600 -140T617 -114T626 -98Q629 -96 650 -96H655Q681 -96 681 -108Q681 -114 679 -119Q670 -148 646 -169T591 -199Q581 -201 550 -201Q422 -201 381 -143Q345 -88 316 20L311 39L230 -40Q144 -126 114 -153Q85 -182 77 -188T58 -194',
    0x1D74D: '244 141Q244 117 254 98T277 70T305 55T329 48T342 47L344 48L424 366Q501 678 505 686Q508 691 512 692T533 694T555 693T562 688T565 683Q565 678 486 362T406 45Q406 43 415 43Q467 49 514 78T590 143T636 213T653 266Q653 282 641 293T613 311T585 332T572 367Q572 397 598 425T657 453Q684 453 708 430T732 358Q732 330 723 287T706 225Q671 124 578 58T401 -8H393L370 -101Q346 -196 345 -197Q340 -202 316 -202H306Q286 -202 286 -188Q286 -187 296 -144T318 -57T331 -8Q331 -6 328 -6Q290 -6 233 11T148 62Q119 97 119 146Q119 181 154 275T190 388Q190 401 181 401Q154 401 129 375T90 306Q85 288 81 285T61 282H55H44Q24 282 24 296Q24 306 34 329T64 381T116 431T189 452Q237 452 273 428T309 362Q309 343 277 260T244 141',
    0x1D74E: '532 367Q532 399 559 426T618 453Q645 453 668 430T691 357Q691 319 677 261T649 171Q640 149 626 125T586 68T521 14T438 -7Q401 -7 372 7T333 30T311 57Q246 -8 165 -8Q119 -8 82 19T30 102Q24 126 24 163V178Q24 210 37 255Q61 346 118 424Q141 451 161 451Q174 451 184 443T194 419Q194 402 179 387Q91 273 91 206Q91 159 122 138T189 117T281 145V173Q283 223 294 253Q304 276 323 289T364 303Q386 303 400 287T415 250Q415 219 385 157L378 144Q378 142 388 136T419 124T462 117Q522 117 566 165T610 255Q610 288 561 320Q532 337 532 367',
    0x1D74F: '230 475Q202 475 189 492T175 526T186 570T221 631T288 687T389 710Q430 710 438 709Q495 701 537 679T601 629T637 568T653 509T657 459Q657 409 640 341Q617 248 581 180T507 75T424 16T348 -11T282 -17Q171 -17 113 37Q60 88 60 159Q60 192 71 231Q96 336 184 402Q264 462 366 462Q407 462 439 448T497 389L502 380Q503 381 508 403T519 463T525 531Q523 580 499 610T447 648T387 657Q324 657 283 616Q271 604 276 604Q279 604 286 600T302 583T311 555Q311 523 287 499T230 475ZM196 110Q196 41 287 41Q351 41 398 88Q422 111 437 151Q473 243 473 298Q473 386 409 409Q408 409 383 411Q316 411 278 373Q265 360 259 351T241 311T217 226Q196 143 196 110',
    0x1D750: '415 89Q423 89 429 74T436 46Q436 43 434 39Q432 36 420 29T380 11T322 -5Q311 -7 281 -7Q216 -7 168 10T94 54T56 110T44 167V181Q44 262 94 329Q104 343 119 357T162 391T234 425T327 443Q328 443 348 443T383 444Q434 444 442 438Q450 430 450 416Q446 392 424 383L376 382Q306 381 278 369Q230 349 208 294Q199 274 199 268Q199 267 291 267Q305 267 325 267T353 268Q383 268 394 263T406 241Q406 214 380 206Q375 205 279 205T183 203Q174 176 174 140Q174 87 208 65T292 43Q295 43 300 43T307 44Q337 49 372 69T415 89',
    0x1D751: '114 132Q114 153 140 253T166 372Q166 402 148 402Q126 402 110 369Q100 350 90 310Q85 289 82 286T60 282H55H44Q24 282 24 296Q25 302 27 312T41 350T65 397T104 435T158 452Q184 452 211 445T263 414T288 354V339L265 245Q237 134 237 118V107V102Q237 87 239 77T257 56T300 43Q395 43 455 254Q479 346 479 347L460 354Q294 408 294 528Q294 606 350 653T464 701Q536 701 579 659Q634 601 634 491Q634 468 630 438T623 388L620 370Q624 370 631 369T647 364T656 352Q656 347 653 335Q647 317 642 316Q640 315 637 315Q635 315 619 317Q606 319 605 316Q605 315 603 308Q587 248 550 177T457 57Q379 -8 293 -8Q192 -8 153 23T114 116V132ZM519 566Q519 600 507 625T464 651Q425 651 391 617T356 529Q356 501 370 478T404 441T443 417T477 404L491 400Q493 400 499 428T512 497T519 566',
    0x1D752: '228 325Q170 322 156 316T127 309Q108 309 104 314Q99 319 99 322T108 341Q125 376 171 400T268 425H271Q302 425 319 396Q328 377 328 358Q328 332 324 314Q311 270 286 221Q274 194 274 192H275Q339 234 484 325T639 421Q669 434 691 434T723 425T734 406Q734 394 719 381Q715 376 644 330L575 287L566 267Q543 233 526 176Q520 160 515 143T508 115T506 105Q506 103 533 103Q585 103 607 110T641 118Q670 118 670 107Q670 100 661 85Q643 50 598 27T504 3Q465 3 450 36Q441 51 441 73Q441 84 444 96Q452 146 484 205L497 236L324 125Q143 12 135 10Q103 -6 77 -6Q61 -6 49 2T37 21Q37 36 49 46T124 96L195 141L204 156Q219 179 243 248T264 323Q264 325 228 325',
    0x1D753: '274 -7Q232 -4 195 7T125 38T71 94T51 176V190Q51 213 60 242T95 307T156 373T255 425T393 451L397 452L427 568Q434 597 443 636Q452 677 456 685T472 694H486H495Q517 694 517 680L514 665Q510 650 503 621T489 564L460 451H469Q527 447 574 430T657 370T693 266Q693 163 599 82T350 -7H346L322 -100Q301 -190 295 -197Q291 -202 283 -202H269H258Q238 -202 238 -188Q238 -186 260 -96L283 -7H274ZM449 400Q448 400 404 225T359 47T366 45Q464 55 516 119Q542 149 558 199T575 295Q575 387 462 398L449 400ZM384 398Q384 399 381 399Q350 399 298 378T214 308Q168 236 168 149Q168 68 259 49Q282 44 294 44H295L384 398',
    0x1D754: '371 -168Q357 -168 323 -171T245 -175Q143 -175 109 -150T75 -66Q75 -5 100 108T137 254Q153 299 179 334T232 390T277 419T311 434Q357 451 403 451Q435 451 455 449T506 435T560 400Q603 357 603 282Q603 213 569 148T465 38T304 -8Q273 -8 247 -2T204 14T176 31T159 46T152 53Q152 52 148 27T144 -16Q144 -36 150 -44T189 -58T293 -64Q405 -65 432 -75Q466 -88 466 -127Q466 -140 459 -172Q455 -188 451 -191T426 -194H420Q405 -194 400 -191T395 -176Q396 -170 394 -169T378 -168Q373 -168 371 -168ZM236 116Q236 77 258 60T311 43Q369 43 407 94Q429 123 451 206T474 331Q474 400 409 400H406Q339 400 299 341Q276 305 256 227T236 116',
    0x1D755: '55 289H43Q23 289 23 303Q23 308 33 322Q116 434 199 443Q200 444 562 444Q922 444 928 442Q961 434 961 400Q961 376 944 355T886 333H870Q872 322 872 295V279Q872 230 842 165T751 46T618 -8Q581 -8 554 6T513 45T494 84T484 119Q484 121 478 114Q477 113 476 111Q384 -7 268 -7H265Q251 -7 237 -4T199 11T162 54T147 132Q147 149 149 166T155 198T165 229T176 256T189 281T200 301T211 319T220 333H199Q120 333 88 301L77 290L55 289ZM639 103Q674 103 712 122T780 188T811 295Q811 318 808 330V333H289Q274 318 244 263T214 169Q214 133 236 118T288 103Q351 103 412 153T494 278Q497 290 502 292T529 295Q546 295 551 293T556 283Q556 281 553 260T550 218Q550 153 576 128T639 103',
    0x1D756: '110 0H86Q42 0 42 27Q42 37 148 350T258 667Q269 687 291 692Q295 694 366 694H399Q432 694 448 689T474 667Q477 663 583 350T690 27Q690 0 642 0H617H592Q582 0 575 1T561 2T549 6T541 11T533 18T527 26T522 37T517 49T512 64T506 81L490 130H225Q225 128 208 79T189 27Q185 19 180 14T170 7T156 3T143 1T127 0T110 0ZM439 279Q359 524 359 547L357 555L355 543Q347 503 270 263L259 231H357Q455 231 455 232L439 279',
    0x1D757: '119 1Q98 5 92 28V667Q98 686 118 693Q121 694 272 694H289H346Q439 694 500 681T600 625Q640 580 640 513Q640 451 601 414T504 364L518 361Q568 351 602 329T649 280T666 235T671 197Q671 172 665 147T642 91T586 37T488 5Q456 1 282 1H119ZM489 509Q489 532 479 548T450 573T421 585T394 591Q387 592 315 593H247V404H298H325Q432 404 466 444Q489 470 489 509ZM517 194Q517 235 502 261T458 299T407 313T353 317H329H322H247V101H319H357Q387 101 407 103T452 111T492 133T514 171Q516 176 517 194',
    0x1D758: '92 664Q98 683 118 690Q121 691 312 691T508 689Q534 682 534 644V632V618Q534 582 508 573L502 572Q496 572 489 572Q486 572 463 572T416 573Q333 573 291 575H253V303Q253 31 251 25Q242 0 199 0H170L119 1Q99 7 92 28V664',
    0x1D759: '381 692Q386 694 458 694Q516 694 527 693T549 687Q564 680 575 663Q576 658 715 349T856 27Q856 6 838 1H826Q815 1 795 1T747 1T686 1T616 0T539 0T458 0T378 0T300 0T230 0T169 1T122 1T90 1H78Q60 6 60 27Q62 38 201 349T341 663Q356 687 381 692ZM627 148Q626 149 581 250T492 453L447 554Q447 553 446 552Q444 546 326 278L268 148Q268 147 448 147Q627 147 627 148',
    0x1D75A: '277 122Q280 122 380 123T544 125Q552 125 557 125T565 124T569 124Q595 115 595 75V62V47Q595 9 569 2Q564 0 341 0L119 1Q99 7 92 28V664Q98 683 118 690Q121 691 335 691T554 689Q580 682 580 644V632V618Q580 582 554 573Q553 573 551 573T542 572T527 572Q464 572 364 573T260 575H253V412H385H459Q524 412 536 404T549 357Q549 341 549 334T542 318T523 305Q518 303 385 303H253V122H277',
    0x1D75B: '411 584Q243 581 131 581Q122 581 116 581T106 582T102 582Q84 589 80 600T76 640L77 667Q83 686 103 693Q106 694 343 694Q579 694 584 692Q592 691 599 684T609 668Q610 665 610 646Q610 614 608 608Q605 603 434 361L261 116Q340 117 402 118T490 119T533 120T560 120H572Q605 120 614 95Q616 89 616 60V46Q616 9 590 2Q585 0 339 0Q92 0 87 2Q79 3 72 10T62 26Q61 29 61 49Q61 84 63 90Q65 94 152 217T325 461T411 584',
    0x1D75C: '92 667Q101 694 143 694H172H198Q244 694 251 669Q253 663 253 539V415H540V539Q540 558 540 585T539 621Q539 673 550 683T611 694H621H646Q671 694 683 690T700 669Q702 663 702 347T700 25Q696 9 684 5T646 0H621H606Q560 0 550 11T539 76Q539 85 539 116T540 169V306H253V169Q253 147 253 116T254 75Q254 23 245 12T194 0H170L119 1Q99 7 92 28V667',
    0x1D75D: '62 340Q62 716 425 716Q511 716 576 696T681 642T747 559T783 458T793 341Q793 264 777 203T721 89T608 7T428 -22Q62 -22 62 340ZM638 333Q638 365 637 387T632 441T621 495T600 542T567 583T518 611T451 628Q443 629 427 629Q402 629 378 624T327 608T276 571T240 511Q217 453 217 345Q217 254 231 204T279 120Q333 69 428 69Q522 69 576 120Q638 183 638 333ZM279 349V373Q279 413 305 420Q309 422 427 422H487Q550 422 563 414T576 369V349Q576 345 576 337T577 324Q577 284 550 277Q545 275 428 275H369Q306 275 293 283T279 329V349',
    0x1D75E: '85 667Q94 694 136 694H165H191Q237 694 244 669Q246 663 246 347T244 25Q235 0 192 0H163L112 1Q92 7 85 28V667',
    0x1D75F: '92 667Q101 694 139 694H163H186Q225 694 234 671Q236 663 236 529L237 392L533 682Q550 694 590 694H623H681Q695 680 695 672Q695 670 693 664Q688 657 561 533L431 405L698 33Q701 28 701 23Q701 7 683 0H626H604Q571 0 564 2T545 13Q544 14 530 33T489 90T437 162L332 307Q331 307 284 260L236 214V122V65Q236 32 231 19T210 2Q205 0 161 0L119 1Q99 7 92 28V667',
    0x1D760: '106 0H83Q41 0 41 28Q41 39 133 349T229 667Q242 694 296 694H335H375Q403 694 418 689T442 667Q445 660 537 350T630 28Q630 11 619 6T584 0H555H526Q478 0 465 27Q462 32 431 136T366 372T325 555V546Q320 503 287 376T222 141T186 27Q184 22 177 15T165 6Q154 0 106 0',
    0x1D761: '92 667Q98 684 109 689T146 695Q152 695 167 695T192 694Q200 694 214 694T234 695Q291 695 305 664Q313 651 400 419T487 165Q487 162 488 162T489 165Q489 187 574 413T671 664Q679 680 695 688Q708 694 785 694H828Q855 694 867 689T884 669Q886 663 886 347T884 25Q876 0 832 0H817H802Q758 0 750 25Q748 31 748 293V555L746 544Q737 509 692 386T606 160T564 52Q548 22 502 22H487H472Q423 22 410 52Q407 59 367 160T283 385T231 546L230 548Q229 548 229 293Q229 31 227 25Q222 9 211 5T176 0H158L119 1Q99 7 92 28V667',
    0x1D762: '92 667Q98 684 109 689T146 694H185Q273 694 279 692Q301 689 315 669Q322 660 419 453L554 163L562 143Q564 143 564 401Q564 663 566 669Q574 694 618 694H633H648Q692 694 700 669Q702 663 702 347T700 25Q696 10 683 5T642 0H596H551Q520 0 505 4T478 25Q471 34 374 241L239 532Q231 550 231 552L229 479Q229 440 229 293Q229 31 227 25Q222 9 211 5T176 0H158L119 1Q99 7 92 28V667',
    0x1D763: '627 553Q609 553 512 554T366 555Q316 555 220 554T105 553Q96 553 90 553T82 554T78 554Q61 560 57 571T52 605V623L53 661Q59 680 79 687Q82 688 366 688Q649 688 654 686Q680 679 680 639V621V603Q680 563 654 554Q653 554 651 554T642 554T627 553ZM149 423Q152 424 366 424Q579 424 584 422Q610 415 610 376V358V340Q610 300 584 293Q579 291 366 291H232Q162 291 150 293T129 306Q122 315 122 360L123 397Q129 416 149 423ZM108 135Q143 135 226 134T363 133Q407 133 507 134T632 135H645Q675 135 684 110Q686 104 686 68V49Q686 9 660 2Q655 0 364 0L74 1Q57 7 49 21L47 28L46 65V83Q46 126 72 133Q80 135 108 135',
    0x1D764: '362 715Q364 715 376 715T394 716H400Q542 716 626 643T727 426Q731 395 731 342Q731 271 722 225Q674 -22 396 -22Q320 -22 259 -3T148 68T77 201Q62 257 62 342Q62 447 86 522T173 649Q245 707 362 715ZM568 433Q551 623 396 623Q383 623 370 622T333 612T292 591T257 550T233 485Q223 442 223 350Q223 276 232 227T267 137Q309 74 397 74Q433 74 461 85T507 113T537 156T556 205T566 260T569 310T570 357Q570 409 568 433',
    0x1D765: '92 664Q98 683 118 690Q121 691 396 691T676 689Q695 684 700 666Q702 660 702 345Q702 31 700 25Q696 9 684 5T646 0H621H596Q571 0 559 4T542 25Q540 31 540 307V582H253V307Q253 31 251 25Q242 0 199 0H170L119 1Q99 7 92 28V664',
    0x1D766: '641 470Q641 426 630 391T603 334T561 295T513 271T459 259T408 254T361 253H350H337H253V142Q253 125 253 100T254 67Q254 32 249 19T227 2Q222 0 170 0L119 1Q99 7 92 28V667Q98 686 118 693Q121 694 271 694Q428 693 462 688Q641 656 641 470ZM487 467Q487 495 485 510T474 546T442 578T382 592Q375 593 310 593H250V347H309H339Q364 347 380 348T418 354T451 368T474 395T486 438Q487 444 487 467',
    0x1D768: '322 124Q326 124 457 125T672 127H689Q721 127 730 102Q732 96 732 64V48Q732 9 706 2Q701 0 394 0L89 1Q76 5 69 13T62 29V36Q62 37 62 38Q62 47 70 58T126 126Q161 167 185 196Q302 335 302 336L187 463Q74 584 68 594Q61 603 61 639L62 667Q68 686 88 693Q91 694 396 694T706 692Q732 686 732 647V635V621Q732 585 706 576Q705 576 702 576T691 576T670 575L302 578Q302 577 394 475T490 371Q498 362 498 347Q498 336 488 323T408 226L322 124',
    0x1D769: '67 687Q70 688 366 688Q661 688 666 686Q692 680 692 641V629V615Q692 579 666 570H660Q655 569 648 569Q645 569 624 569T581 570Q505 570 475 572H447V302Q447 31 445 25Q436 0 393 0H364L313 1Q293 7 286 28L285 300V572H257Q227 570 151 570Q130 570 109 570T84 569Q77 569 72 570H66Q48 577 44 588T40 631L41 661Q47 680 67 687',
    0x1D76A: '62 560Q62 607 94 644T169 698T253 715Q273 715 286 713T322 704T363 677T398 625Q413 597 423 556L428 540Q429 541 436 566T454 620T494 677T561 713Q570 715 593 715Q682 715 737 668T793 560Q793 549 793 545T786 533T767 520H670Q646 532 644 551T632 579Q618 594 591 594Q539 594 524 530T509 321V216Q509 31 507 25Q498 0 455 0H426L375 1Q355 7 348 28L347 232Q346 344 346 441Q346 442 343 468T335 521T312 571T266 594Q252 594 247 593Q228 586 220 576T212 557T209 539T191 523L185 520H88Q75 527 69 534T63 545T62 560',
    0x1D76B: '62 292T62 347T80 445T124 511T183 552T243 574T292 584L315 587H319V627L320 667Q329 694 370 694H397H422Q466 694 473 669Q475 663 475 625V587H478Q479 587 500 584T548 575T608 553T668 513T713 446T732 347Q732 253 674 187Q655 167 628 152T576 128T530 116T493 109L478 107H475V69V50Q475 9 449 2Q444 0 395 0L347 1Q327 7 320 28L319 67V107H315L292 110Q269 114 243 119T184 142T124 182T80 249ZM319 197T319 347T318 497Q316 497 307 494T284 485T262 471Q220 438 220 347Q220 285 239 249Q248 234 261 223T286 208T308 200L317 197Q319 197 319 347ZM572 347V357Q572 387 569 407T548 452T496 491Q495 491 494 491T487 493T475 497V197Q518 210 541 232T571 303Q572 312 572 347',
    0x1D76C: '52 1Q37 11 37 23Q37 26 39 32Q39 34 158 202L275 369Q275 370 221 441T112 586T55 663Q53 669 53 672Q53 687 68 693H72Q77 693 84 693T99 694T118 694T139 694H176Q203 694 212 692T230 682Q231 681 239 669T265 634T296 591L358 504L418 591Q481 682 486 686Q491 691 499 692Q505 694 569 694H632Q650 685 650 672Q650 667 646 660Q643 654 592 582T491 440T441 369T566 201T693 29Q694 27 694 23Q694 11 677 0H607L537 1Q523 6 519 10T437 131Q422 153 411 170T390 200T375 222T365 237T359 245L357 247L348 232Q339 218 319 188T283 131Q222 37 211 22T186 1H52',
    0x1D76D: '61 585Q62 594 62 597T64 606T73 616T89 626H138Q196 626 208 620Q243 602 253 546T261 431T271 309T325 219Q342 205 349 205Q350 205 350 436L351 667Q360 694 401 694H428H454Q495 694 504 671Q506 663 506 436L507 205Q542 222 561 251T586 318T593 392T595 472T602 546Q614 614 661 625Q665 626 708 626H730Q766 626 780 618T794 582Q794 548 768 540Q755 538 754 501T750 410T736 298T680 191T560 120Q550 116 512 109H506V70V50Q506 9 480 2Q475 0 426 0L378 1Q358 7 351 28L350 68V109L335 111Q298 117 267 129T214 156T175 191T146 229T127 272T115 314T109 357T106 395T105 429Q104 537 87 540Q66 548 63 565Q61 570 61 585',
    0x1D76E: '241 122Q225 154 191 199T131 278T83 363T61 464Q61 497 68 527T94 591T145 650T228 693T349 715Q354 715 370 715T396 716Q539 716 622 668Q658 647 682 617T715 556T728 505T732 465Q732 415 711 365T663 280T602 200T552 122H632Q649 122 669 122T693 123H697Q736 123 742 98Q744 92 744 62V47Q744 9 718 2Q713 0 591 0L471 1Q454 7 446 21Q444 27 444 45Q444 96 463 154T506 257T549 360T569 469Q569 504 563 530T538 580T485 616T396 629Q313 629 268 594T223 468Q223 419 243 361T286 258T330 152T350 41Q350 14 335 7T276 -1Q267 -1 241 -1T197 0L77 1Q57 7 50 28L49 59V74Q49 114 75 121Q81 123 100 123Q104 123 124 123T161 122H241',
    0x1D7CE: '266 654H280H282Q500 654 524 418Q529 370 529 320Q529 125 456 52Q397 -10 287 -10Q110 -10 63 154Q45 212 45 316Q45 504 113 585Q140 618 185 636T266 654ZM374 548Q347 604 286 604Q247 604 218 575Q197 552 193 511T188 311Q188 159 196 116Q202 87 225 64T287 41Q339 41 367 87Q379 107 382 152T386 329Q386 518 374 548',
    0x1D7CF: '481 0L294 3Q136 3 109 0H96V62H227V304Q227 546 225 546Q169 529 97 529H80V591H97Q231 591 308 647L319 655H333Q355 655 359 644Q361 640 361 351V62H494V0H481',
    0x1D7D0: '175 580Q175 578 185 572T205 551T215 510Q215 467 191 449T137 430Q107 430 83 448T58 511Q58 558 91 592T168 640T259 654Q328 654 383 637Q451 610 484 563T517 459Q517 401 482 360T368 262Q340 243 265 184L210 140H274Q416 140 429 145Q439 148 447 186T455 237H517V233Q516 230 501 119Q489 9 486 4V0H57V25Q57 51 58 54Q60 57 109 106T215 214T288 291Q364 377 364 458Q364 515 328 553T231 592Q214 592 201 589T181 584T175 580',
    0x1D7D1: '80 503Q80 565 133 610T274 655Q366 655 421 623T491 538Q493 528 493 510Q493 446 453 407T361 348L376 344Q452 324 489 281T526 184Q526 152 514 121T474 58T392 8T265 -11Q175 -11 111 34T48 152Q50 187 72 209T132 232Q171 232 193 208T216 147Q216 136 214 126T207 108T197 94T187 84T178 77T170 72L168 71Q168 70 179 65T215 54T266 48H270Q331 48 350 105Q358 128 358 185Q358 239 348 268T309 313Q292 321 242 322Q205 322 198 324T191 341V348Q191 366 196 369T232 375Q239 375 247 376T260 377T268 378Q284 383 297 393T326 436T341 517Q341 536 339 547T331 573T308 593T266 600Q248 600 241 599Q214 593 183 576Q234 556 234 503Q234 462 210 444T157 426Q126 426 103 446T80 503',
    0x1D7D2: '531 0Q510 3 381 3Q238 3 214 0H201V62H313V155H32V217L205 434Q342 606 362 630T387 655L391 656Q395 656 401 656T414 656H427Q447 656 451 645Q453 641 453 429V217H542V155H453V62H542V0H531ZM324 217V494L103 218L213 217H324',
    0x1D7D3: '100 565V605Q100 637 102 646T113 655Q116 655 139 647T202 631T286 623Q332 623 372 631T434 647T459 655Q466 655 469 651T472 643T472 629Q472 613 463 601Q370 487 219 487Q195 487 183 488T169 490T168 433V376Q169 376 174 379T188 387T211 397T244 405T288 409Q390 409 453 352T517 201Q517 106 445 48T253 -11Q169 -11 113 37T57 154Q57 187 79 208T131 229T183 209T206 154Q206 99 155 83Q152 82 157 78Q196 47 253 47Q347 47 358 135Q358 137 358 138Q360 158 360 209Q360 277 355 301T337 338Q315 358 282 358Q202 358 160 303Q153 294 149 292T130 290Q107 290 102 301Q100 304 100 474V565',
    0x1D7D4: '48 318Q48 395 68 456T120 553T193 613T273 646T350 655Q425 655 461 616T497 524Q497 485 475 468T428 451Q399 451 378 470T357 521Q357 565 403 588Q375 601 351 601Q313 601 282 584Q242 565 222 526Q199 473 199 367Q201 369 210 380T227 396T246 410T275 422T312 426Q438 426 494 332Q526 285 526 208V199Q526 112 465 53Q428 17 388 3T285 -11Q236 -11 195 7T135 43T104 80Q48 165 48 318ZM375 231V244V268Q375 295 373 310T364 342T341 366T299 374H297Q231 374 208 287Q200 257 200 196Q201 120 209 100Q231 47 288 47Q351 47 368 90Q375 112 375 231',
    0x1D7D5: '256 -11Q231 -11 208 5T185 65Q185 105 193 146T212 220T241 289T275 349T312 402T346 445T377 479T397 502L400 504H301Q156 503 150 497Q142 491 134 456T126 407H64V411Q65 414 82 544T99 675T130 676H161V673Q161 669 162 666T167 661T173 657T181 654T190 652T200 651T210 650T220 649T229 648Q237 648 254 647T276 646Q277 646 426 644H558V620V607Q558 596 551 586T509 537Q489 515 476 500Q390 401 384 393Q349 339 337 259T324 113T322 38Q307 -11 256 -11',
    0x1D7D6: '80 474Q80 561 139 607T278 654Q357 654 411 632Q490 593 494 509Q494 424 416 376L407 371L418 364Q432 356 447 345T481 312T513 260T526 192Q526 100 461 45T285 -11Q184 -11 116 32T48 164Q48 181 50 196T58 225T69 249T84 270T100 286T117 300T134 311T149 321T162 329L152 336Q120 360 100 397T80 474ZM347 404Q404 446 404 503Q404 579 317 599Q309 600 276 600Q178 600 170 538Q170 532 171 527T173 518T178 509T184 501T194 492T205 484T219 476T235 467T254 456T275 445L347 404ZM289 47Q323 47 351 54T402 82T425 137Q425 147 421 161Q411 183 391 197T303 249Q224 293 223 293Q220 291 215 288T197 273T175 248T157 213T149 167Q149 109 188 78T289 47',
    0x1D7D7: '178 59Q206 48 238 48Q311 48 345 102Q370 138 375 259V278Q374 278 369 271T350 252T322 232Q297 220 258 220Q172 220 110 275T48 438V446Q54 561 146 618Q199 654 278 654Q321 654 329 653Q526 621 526 330Q526 252 507 190T457 92T388 31T312 -2T240 -11Q165 -11 121 25T77 120Q77 159 99 176T147 193T194 177T217 122Q217 113 216 106T211 92T205 82T198 73T191 67T184 62T178 59ZM374 446V465Q374 523 364 552T315 598Q309 600 293 601Q227 601 210 562Q199 539 199 433Q199 343 204 319T235 279Q250 272 274 271H282Q293 271 303 274T327 288T353 323T371 385Q374 403 374 446',
    0x1D7E2: '117 621Q174 678 247 678Q305 678 351 647Q396 617 424 557Q460 472 460 328Q460 271 455 224Q448 154 427 104T376 27T314 -10T249 -22Q201 -22 160 1T91 67Q39 154 39 316Q39 541 117 621ZM250 55Q274 55 293 66T324 93T344 136T357 185T364 240T366 291T367 340Q367 373 367 393T363 449T352 507T332 553T299 589T250 601Q217 601 194 584T159 542T141 479T133 411T132 340V331Q132 299 133 277T137 219T147 157T167 107T201 68T250 55',
    0x1D7E3: '94 612Q172 616 211 632T284 678H307V73H430V0H88V73H213V317Q213 560 212 560Q210 558 197 554T155 546T96 540L83 539V612H94',
    0x1D7E4: '222 599Q190 599 166 585T128 550T108 509T97 474T93 459L67 492L42 526L47 539Q72 608 120 642T225 677Q304 677 355 644Q449 579 449 454Q449 373 361 290Q351 280 315 250T199 144Q156 103 137 85L293 86H449V0H50V79L216 242Q284 302 317 349T351 456Q351 517 315 558T222 599',
    0x1D7E5: '333 521Q333 554 313 579T243 604Q154 604 99 514L78 546Q56 577 56 579Q56 580 62 589T82 611T114 637T162 662T222 677Q224 677 231 677T242 678H245Q318 678 374 634T430 520Q430 483 417 452T382 398T351 369T329 354L328 353Q369 333 373 330Q408 306 432 268T457 184Q457 103 397 41T242 -22Q131 -22 51 58L42 68L49 105L55 142L58 138Q62 134 66 130T77 120T91 108T108 96T129 83T152 72T179 63T209 57T242 54Q285 54 319 86T353 184Q353 231 331 267T260 315L213 316H166V354Q166 392 167 392Q233 395 257 405Q290 418 311 450T333 521',
    0x1D7E6: '271 654L272 656H380V235H471V159H380V0H286V159H28V235L149 443Q269 652 271 654ZM292 235V607Q292 604 290 591T286 571T280 548T269 517T252 476T226 422T189 354T140 267Q136 260 132 253T126 240L123 236Q123 235 207 235H292',
    0x1D7E7: '257 350Q236 350 218 342T189 323T171 301T160 281L157 273Q157 272 116 272H75V656H416V577H162V486Q162 396 163 396T174 403T207 418T258 426Q339 426 394 360T449 203Q449 113 386 46T226 -21H223Q188 -21 156 -11T102 13T64 42T41 66T33 77Q34 78 44 95T64 128L73 144Q93 112 117 93Q165 54 223 54Q270 54 306 86T345 197Q345 350 257 350',
    0x1D7E8: '42 318Q42 396 61 460T109 564T173 629T237 666T289 677H301H317Q359 677 408 658V621Q408 585 407 585H406Q359 605 308 605Q246 605 203 556T146 421Q143 403 144 403Q145 402 152 409Q216 469 299 469Q333 469 357 457T407 405Q457 330 457 226Q457 126 402 57Q340 -22 251 -22Q216 -22 183 -7T116 43T63 149T42 318ZM260 393Q216 393 188 365T150 306T141 243Q141 153 172 104Q192 68 230 56Q238 54 251 54Q311 54 342 116Q360 152 360 226Q360 297 344 332Q320 382 277 392Q275 392 270 392T260 393',
    0x1D7E9: '42 570V656H457V577L447 564Q345 439 295 289T244 0V-11H145V12Q160 330 356 550Q360 556 365 561T374 571L208 570H42',
    0x1D7EA: '55 500Q55 568 109 623T250 678Q327 678 385 627T444 501Q444 445 410 410T336 357L329 353H330Q378 335 417 293T456 184Q456 93 393 36T249 -22T106 35T43 184Q43 251 82 293T169 353Q171 354 166 356Q165 356 163 357Q113 378 84 416T55 500ZM358 496Q358 557 325 581T250 605Q206 605 174 580T141 496Q141 446 171 420T250 393Q298 393 328 419T358 496ZM245 316Q205 316 172 285T139 185V179Q139 79 222 57Q231 55 250 55H254Q295 55 327 84Q360 120 360 188Q360 254 326 285Q295 316 245 316',
    0x1D7EB: '44 476Q57 561 116 619T245 677H255Q308 677 349 647Q392 619 424 545T457 334Q457 178 382 78T205 -22Q168 -22 135 -10T86 14L72 25Q73 25 91 58L110 91Q127 78 136 72T163 60T203 54Q238 54 265 71T308 110T335 164T350 214T357 253V257L347 248Q284 187 200 187Q165 187 140 201T87 258Q42 332 42 430Q42 458 44 476ZM269 604Q265 605 254 605Q222 605 199 591T164 554T148 517T141 487Q140 478 140 430T141 373Q146 335 164 307T207 269Q223 263 247 263Q299 266 328 308T358 417Q358 435 356 456T346 511T318 570T269 604',
    0x1D7EC: '274 -22Q227 -22 190 -9T128 24T87 76T62 135T49 204T44 271T43 336V343V362Q43 407 45 440T56 524T86 613T141 677Q197 715 264 715Q314 715 353 702T418 669T460 616T487 555T500 483T505 413T506 343Q506 310 506 293T503 241T498 185T486 133T467 83T437 42T397 8T343 -13T274 -22ZM355 355V401Q355 448 354 476T349 537T336 587T311 617T272 629Q270 629 266 629T261 628Q219 618 207 568T194 419V355Q194 203 200 156T231 85Q250 66 275 66Q299 66 318 85Q342 109 348 156T355 355',
    0x1D7ED: '118 560H116Q107 560 100 561T85 572T76 600Q76 612 77 618T83 632T99 644Q102 645 135 646T207 660T275 700Q292 716 310 716Q353 716 360 691Q362 685 362 386V87H446Q464 76 468 69T473 44Q473 12 446 1H118Q105 7 100 13T94 25T93 44V62Q100 79 119 87H210V329Q210 571 208 571Q182 560 118 560',
    0x1D7EE: '339 477Q339 505 332 531T301 579T242 601Q165 601 136 503Q133 493 130 490T121 486Q116 486 94 514Q86 523 82 528Q46 572 46 577Q46 591 77 632T147 691Q192 716 257 716Q305 716 351 700Q416 674 455 615T494 481Q494 421 463 376T356 266Q326 240 287 205T224 146T199 122H331Q359 122 392 122T431 123H445Q485 123 492 98Q494 92 494 62V47Q494 9 468 2Q463 0 272 0L83 1Q63 7 56 28L55 57V89Q59 97 215 261Q255 303 275 327T317 394T339 477',
    0x1D7EF: '61 624Q62 630 83 650T153 693T262 716Q328 716 373 698T438 650T465 593T473 536Q473 438 375 376L387 371Q450 350 476 305T503 208Q503 164 492 126T456 53T380 -2T261 -22Q224 -22 189 -15T130 2T86 24T57 43T46 53Q46 56 53 99T62 145Q65 152 71 152Q76 152 90 143T123 121T175 99T248 87Q302 87 321 113T341 202Q341 264 329 292T279 329L232 331L190 332L184 338V411Q190 417 192 417Q193 418 205 419T232 421T252 424Q280 430 299 461T318 539V551Q318 599 283 609Q276 611 257 611Q225 611 199 601T159 577T136 554T120 543T102 560T76 597T62 618T61 624',
    0x1D7F0: '278 693H282Q285 693 291 693T305 694T322 694T342 694H377Q402 694 411 691T430 677Q434 670 434 646T435 456V249H461H472Q509 249 516 224Q518 219 518 194Q518 178 518 171T511 155T492 142Q488 140 461 140H435V86V53Q435 9 409 2Q405 0 366 0H351Q306 0 298 25Q296 31 296 86V140H179H123Q99 140 80 129T50 106T37 95Q31 95 31 163V208Q31 246 33 251Q251 673 262 684Q268 691 278 693ZM302 249V416L301 576Q301 536 165 276L151 250L226 249H302',
    0x1D7F1: '109 282Q87 290 83 310V666Q83 667 84 670T87 676T91 682T98 688T108 693Q112 694 269 694T431 692Q457 686 457 648V637V624Q457 588 431 581Q426 579 326 579H227V510Q227 442 229 442Q243 450 288 450Q377 450 435 399T494 222Q494 -22 241 -22Q202 -22 167 -11T109 16T69 49T45 79T37 94T69 151Q91 185 97 185Q105 185 112 170Q127 135 160 111T240 87Q266 87 284 94T311 111T325 142T331 179T332 226Q332 307 324 335T281 363Q228 363 197 306Q189 289 172 282H109',
    0x1D7F2: '414 589Q410 589 389 600T334 612Q275 612 243 575Q209 538 202 433V422L209 431Q243 487 317 487Q392 487 440 442Q478 402 490 357T503 236Q503 113 454 54Q421 13 381 -4T279 -22Q263 -22 250 -21T214 -15T173 1T133 30T96 77T68 146T50 242Q46 278 46 336Q46 406 52 447Q84 698 312 715L315 716Q318 716 321 716Q323 716 328 716T337 715Q398 715 425 688V596Q419 591 414 589ZM282 87Q324 89 336 117T348 231Q348 310 343 343T324 388T277 399Q249 399 231 373T208 317T202 253Q202 201 207 168T224 117T249 93T282 87',
    0x1D7F3: '135 38Q135 190 198 335T353 572H215Q185 572 151 572T110 571H96Q55 571 48 596Q46 602 46 633V648Q46 686 72 693Q76 695 124 695Q134 695 183 695T274 694Q472 694 477 692Q503 686 503 648V637Q503 612 502 605T491 588Q300 349 292 46V36Q292 -4 266 -9Q262 -11 214 -11H192Q160 -11 148 -3T135 38',
    0x1D7F4: '61 518Q61 574 79 614T128 676T192 706T263 715H270Q298 715 318 714T373 701T430 671T470 612T488 517Q488 459 458 423T390 376Q388 375 393 373Q395 372 398 371Q503 330 503 204Q503 -22 275 -22Q209 -22 163 -3T92 49T57 120T46 204Q46 230 50 252T61 289T77 318T96 339T116 353T134 363T148 369T158 373T160 376Q118 389 90 424T61 518ZM344 538Q344 563 340 578T326 600T307 609T279 612Q232 612 218 594T204 518Q204 459 216 439T275 418Q328 418 338 450Q344 464 344 515V538ZM248 88T274 88T315 94T338 117T346 149T349 197Q349 269 342 290Q338 309 320 320T274 331Q246 331 229 320T207 290Q200 269 200 197Q201 163 202 149T210 118T232 94',
    0x1D7F5: '347 272Q346 272 342 266T330 250T309 230T276 214T230 207Q185 207 150 223Q116 240 90 276T54 357Q46 393 46 468Q46 469 46 484T47 502T48 520T51 540T55 559T61 579T69 599T81 620T96 640T115 661Q174 716 276 716Q299 716 317 714T369 698T426 658T471 580T499 456Q503 402 503 342Q503 115 392 29Q322 -22 231 -22Q163 -22 115 7L82 31Q76 38 81 46Q116 112 127 123Q130 126 134 126T148 116T179 97T226 87Q287 87 318 132Q323 139 326 146T332 165T337 182T340 204T342 225T345 249T347 272ZM201 547T201 454T211 329T262 294Q276 294 285 296T310 312T335 355Q347 391 347 447Q347 520 340 550T317 595Q300 612 277 612Q226 612 214 580',
    0x1D7F6: '42 305Q42 450 111 535T257 621Q335 621 390 562Q482 468 482 306Q482 174 418 82T262 -10T106 82T42 305ZM257 545Q209 545 168 481T126 320Q126 220 162 147Q204 65 262 65Q318 65 358 139T398 320V328Q395 411 364 470T284 543Q270 545 257 545',
    0x1D7F7: '99 461Q99 470 99 474T104 487T120 498T151 502Q213 517 251 596Q264 622 283 622Q308 622 319 597V76H373H401Q428 76 439 69T450 38Q450 11 428 1H127Q104 10 104 38Q104 62 115 69T153 76H181H235V269Q235 461 234 461Q184 426 137 424H133Q124 424 119 425T109 431T99 447V461',
    0x1D7F8: '52 462Q52 528 110 575T247 622H250Q343 622 407 565T472 421Q472 371 446 324T390 248T308 178Q307 177 275 151T214 101L185 77Q185 76 286 76H388V87Q388 105 397 114T430 123T463 114Q470 107 471 100T472 61V42Q472 24 468 16T450 1H75Q53 10 53 32V38V48Q53 57 63 67T127 122Q153 144 169 157L289 256Q388 345 388 419Q388 473 346 509T231 545H224Q176 545 146 499L144 494Q155 476 155 459Q154 459 155 455T154 444T148 430T136 417T114 408Q113 408 110 408T104 407Q80 407 66 422T52 462',
    0x1D7F9: '260 546Q233 546 211 541T180 531T171 524L174 514Q177 505 177 497Q177 476 162 461T125 446Q106 446 90 459T73 504Q76 540 98 565T150 601T203 616T239 621Q241 622 265 622Q322 620 362 602T420 558T444 513T451 478Q451 386 369 329L375 326Q381 323 386 320T401 311T419 298T436 283T452 263T466 240T475 212T479 180Q479 99 416 44T259 -11T105 28T44 130Q44 154 59 168T95 183Q117 183 132 169T148 131Q148 119 139 101Q175 65 260 65Q316 65 355 97T395 179Q395 211 375 240Q336 292 253 292H234H215Q194 292 185 299T175 330Q175 350 184 359Q192 368 238 370T309 384Q336 398 351 423T367 474Q367 496 350 513Q321 546 260 546',
    0x1D7FA: '235 1Q213 10 213 32V38V46Q213 65 230 73Q236 76 274 76H314V168H183L52 169Q37 175 33 182T29 205V218L30 244Q53 283 155 443T264 613Q276 623 298 623H323H363Q378 616 385 601V244H429H450Q474 244 484 237T495 206Q495 179 477 171Q471 168 429 168H385V76H425H442Q466 76 476 69T487 38Q487 10 465 1H235ZM314 244V554L117 245L215 244H314',
    0x1D7FB: '387 189Q387 244 354 278T273 313Q230 313 205 301T163 271T138 249H120Q102 249 97 251Q85 258 83 266T80 311Q80 320 80 359T81 430Q81 587 82 591Q88 605 103 610H108Q112 610 120 610T138 610T163 610T192 611T225 611T260 611H415Q416 610 421 607T428 602T432 596T436 587T437 573Q437 567 437 562T434 554T431 548T427 543T423 540T418 538L415 536L289 535H164V363L170 366Q175 368 184 372T207 380T238 386T276 389Q357 389 414 331T472 187Q472 116 412 53T245 -10Q218 -10 209 -9Q126 5 89 48T52 137Q52 164 68 177T104 191Q130 191 143 175T156 141Q156 132 154 125T149 113T146 107Q146 104 155 95T188 76T245 65Q298 65 342 98T387 189',
    0x1D7FC: '357 536Q357 546 318 546Q258 546 205 497T133 357V353L144 361Q210 402 285 402Q362 402 414 350Q479 285 479 193Q479 111 418 50T263 -11Q234 -11 207 -3T149 26T97 81T60 171T45 301Q45 444 129 533T319 622Q388 622 421 589T454 510Q454 491 442 475T402 458Q373 458 362 475T350 510Q350 520 354 528L357 536ZM319 326T269 326T179 298T136 223Q136 202 143 174T176 112T237 68Q246 66 265 66Q319 66 360 107Q395 146 395 197Q395 250 356 289Q319 326 269 326',
    0x1D7FD: '204 -10Q162 -10 162 40Q162 146 198 261T310 477Q311 478 321 491T342 517T358 535H128V524Q128 506 119 497Q111 489 86 489H78Q55 489 46 508Q44 513 44 557V580Q44 605 52 616T88 627H93Q114 627 125 611H458Q474 598 477 593T480 573Q480 559 478 553T469 543T446 521T408 477Q252 290 246 49Q246 43 246 37T246 27T245 22Q243 11 233 1T204 -10',
    0x1D7FE: '58 460Q58 523 117 572T254 621Q290 621 298 620Q376 607 421 560T466 460Q466 441 460 424T443 393T421 370T397 352T374 340T357 332L350 330L356 328Q363 325 371 321T392 310T415 295T439 274T459 249T473 217T479 179Q479 102 418 46T262 -10T106 46T45 179Q45 202 52 222T70 257T96 284T123 305T148 319T167 328L174 330L170 332Q166 333 159 336T145 343Q104 362 81 393T58 460ZM382 458Q382 491 349 518T263 546Q215 546 179 521T142 458Q142 421 178 395T262 368Q315 368 348 396T382 458ZM396 178Q396 223 358 257T263 292Q206 292 167 258T128 178Q128 137 163 102T262 66Q324 66 360 101T396 178',
    0x1D7FF: '392 259Q333 210 236 210H233Q163 210 109 262Q46 325 46 411T99 550Q164 622 264 622Q293 622 319 615T376 587T428 532T464 440T479 304Q479 167 400 78T217 -11Q140 -11 105 22T70 101Q70 124 84 138T122 153Q150 153 162 137T174 101Q174 91 168 76Q179 65 216 65Q267 65 300 93Q322 109 339 130T366 173T380 210T388 242T392 259ZM388 389Q388 438 357 492T268 546T185 520Q129 479 129 415Q129 384 138 363Q145 349 156 334T195 302T255 285Q305 285 345 313T388 389',
},{
    0x2033: "\u2032\u2032",
    0x2034: "\u2032\u2032\u2032",
    0x2036: "\u2035\u2035",
    0x2037: "\u2035\u2035\u2035",
    0x2057: "\u2032\u2032\u2032\u2032",
    0x2204: "\u2203\u0338",
    0x220C: "\u220B\u0338",
    0x2244: "\u2243\u0338",
    0x2249: "\u2248\u0338",
    0x2262: "\u2261\u0338",
    0x226D: "\u224D\u0338",
    0x2274: "\u2272\u0338",
    0x2275: "\u2273\u0338",
    0x2278: "\u2276\u0338",
    0x2279: "\u2277\u0338",
    0x2284: "\u2282\u0338",
    0x2285: "\u2283\u0338",
    0x22E2: "\u2291\u0338",
    0x22E3: "\u2292\u0338",
    0x2A0C: "\u222C\u222C",
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2201">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {sansSerifBoldItalic as font} from '../../../common/fonts/tex/sans-serif-bold-italic.js';

export const sansSerifBoldItalic: SVGCharMap = AddPaths(font, {
    0x131: '54 431Q63 458 102 458H127H149Q192 458 199 433Q201 427 201 229T199 25Q190 0 149 0H125L81 1Q61 7 54 28V431',
    0x237: '-38 -84Q-36 -84 -14 -95T33 -106H38Q70 -103 78 -86Q83 -78 83 -49T84 180Q84 427 86 433Q93 458 136 458H158H180Q201 458 209 456T225 443Q230 436 231 418Q232 397 232 313V183V124V40Q232 -55 228 -87T203 -147Q166 -205 78 -205Q31 -205 -20 -189T-71 -159Q-71 -156 -59 -123Q-50 -96 -47 -91T-38 -84',
},{
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2202">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {sansSerifBold as font} from '../../../common/fonts/tex/sans-serif-bold.js';

export const sansSerifBold: SVGCharMap = AddPaths(font, {
    0x21: '111 669Q111 680 111 682T113 689T121 693T137 694H184H249Q255 686 256 681Q244 220 239 213Q236 208 229 208T183 207T137 207T127 213T118 431T111 669ZM110 71V95Q110 137 136 144Q140 146 183 146H200Q246 146 254 121Q256 115 256 73V51Q256 9 230 2Q225 0 181 0L138 1Q121 7 113 21L111 28L110 71',
    0x22: '38 687Q42 693 45 693Q46 694 111 694H176Q179 690 183 687V556L144 501Q139 494 134 486T126 474T120 465T114 457T110 451T106 447T102 445T98 443T94 443T89 442H73H62Q37 442 37 453Q37 458 55 501T74 546Q74 548 59 548L44 549L38 555V687ZM275 687Q279 693 282 693Q283 694 348 694H413Q416 690 420 687V556L381 501Q376 494 371 486T363 474T357 465T351 457T347 451T343 447T339 445T335 443T331 443T326 442H310H299Q274 442 274 453Q274 458 292 501T311 546Q311 548 296 548L281 549L275 555V687',
    0x23: '61 365Q61 370 62 375T65 383T69 390T74 395T80 399T85 403T90 406L94 407H344L381 536Q418 668 426 680Q431 687 445 692Q451 694 457 694Q477 694 488 682T500 651Q500 645 466 528T431 409Q431 407 504 407H577L609 521Q651 668 656 675Q669 693 691 693Q710 693 721 680T733 651Q733 645 699 528T664 409Q664 407 743 407H823L827 405Q831 403 834 402T841 397T848 389T853 379T855 365Q855 337 823 324L731 323H639L619 253Q599 181 598 180V177H823L827 175Q831 173 834 172T841 167T848 159T853 149T855 135Q855 107 823 94L698 93H573L540 -21Q498 -168 493 -175Q480 -193 458 -193Q439 -193 428 -180T416 -151Q416 -144 450 -27T485 91Q485 93 412 93H340L307 -21Q265 -168 260 -175Q247 -193 225 -193Q206 -193 195 -180T183 -151Q183 -144 217 -27T252 91Q252 93 173 93L94 94Q61 105 61 135Q61 140 62 145T65 153T69 160T74 165T80 169T85 173T90 176L94 177H185L277 178L297 248L318 320V323H206L94 324Q61 335 61 365ZM551 320V323H479Q406 323 405 322Q404 319 385 249T365 178T438 177L510 178L530 248L551 320',
    0x24: '231 712L232 716Q232 719 232 722T234 729T239 736T246 743T256 748T271 750Q318 750 318 711V703Q393 692 451 656Q469 645 470 640Q470 635 461 587L453 537Q445 529 442 529Q438 529 424 540T384 565T330 585Q328 585 325 585T320 586L318 587V434Q322 433 333 429T350 424T365 418T382 409T399 397T419 380Q488 313 488 213Q488 24 334 -5L318 -8V-17Q318 -56 279 -56H272Q253 -56 243 -46T232 -30T231 -18V-8H224Q170 2 127 20T68 50T49 67Q49 71 58 122T68 176Q71 182 79 182Q83 182 98 169T145 138T216 110Q228 108 229 108H231V288Q167 299 114 356T61 496Q61 537 70 570T94 624T126 661T162 684T195 696T219 701L228 702H231V712ZM231 521Q231 583 230 583Q226 582 220 579T204 561T193 521Q193 491 212 472Q226 458 230 458Q231 458 231 521ZM318 112Q356 131 356 187Q356 237 318 263V112',
    0x25: '61 549Q61 733 218 749Q220 749 228 749T241 750Q286 750 321 735T369 708T389 683Q422 634 422 548V538Q422 519 420 501T408 453T381 401T328 364T243 347Q61 347 61 549ZM292 549Q292 663 242 663Q221 663 211 648T198 615T196 566V548Q196 471 206 454Q218 434 242 434Q292 434 292 549ZM243 -55Q223 -55 212 -42T201 -13Q201 -2 207 7Q209 11 480 371T758 738Q770 750 788 750Q805 750 817 738T830 709Q830 694 820 681L544 315Q273 -43 269 -47Q258 -55 243 -55ZM606 146Q606 330 763 346Q764 346 773 346T786 347Q831 347 866 332T914 305T934 280Q966 233 966 146V135Q966 115 964 97T952 49T925 -2T872 -40T788 -56Q606 -56 606 146ZM742 146V132Q742 107 743 93T748 62T762 39T787 31Q819 31 832 79Q837 97 837 146Q837 260 787 260Q767 260 757 246T744 214T742 169V146',
    0x26: '757 117Q762 117 769 110V3Q759 -7 718 -14T641 -22T571 -15T518 1T477 19T453 31L437 23Q350 -19 257 -22Q158 -22 103 30T47 155Q47 188 57 216T87 263T119 292T151 313L182 333L187 336L181 349Q150 431 150 506Q150 605 211 660T347 716Q417 716 471 668T526 543Q526 517 518 495T471 432T360 343L342 330Q342 327 358 306T402 250T458 189L467 181Q518 225 556 289T607 395L620 437Q622 443 630 443Q631 443 679 430Q718 420 725 418T733 409Q733 402 722 365T670 255T573 123Q562 111 563 111Q589 94 644 94Q678 94 703 100T740 111T757 117ZM397 544Q397 573 384 601T346 629Q320 629 299 607T277 538Q277 484 295 429Q301 413 301 412Q302 409 309 415Q397 476 397 544ZM227 258Q197 228 197 177Q197 150 207 126T234 95Q242 93 251 93Q288 93 337 107L349 110L328 131Q266 196 234 248L227 258',
    0x27: '81 687Q85 693 88 693Q89 694 154 694H219Q222 690 226 687V556L187 501Q182 494 177 486T169 474T163 465T157 457T153 451T149 447T145 445T141 443T137 443T132 442H116H105Q80 442 80 453Q80 458 98 501T117 546Q117 548 102 548L87 549L81 555V687',
    0x28: '79 250Q79 352 100 441T152 585T213 678T266 733L287 749Q288 750 324 750H359Q366 741 366 738Q366 734 356 721T329 682T296 623T262 531T238 407Q230 346 230 250Q230 142 244 55T278 -82T318 -165T352 -215T366 -238Q366 -242 359 -249H286L277 -242Q79 -74 79 250',
    0x29: '61 737Q61 750 85 750H106H141L150 742Q348 574 348 250T150 -242L141 -249L106 -250H87Q61 -250 61 -238Q61 -233 74 -216Q157 -113 183 51Q197 130 197 250T183 449Q174 505 158 554T126 634T95 687T71 722T61 737',
    0x2A: '241 579Q241 582 228 639T215 702Q215 722 233 736T271 750Q296 750 315 736T334 702V697Q334 693 328 664T314 607L308 579L352 620Q389 654 397 660T417 668Q447 668 464 647T482 602Q482 591 479 583T472 569T459 559T443 552T421 546T397 538L342 521L397 504Q405 501 420 497T442 490T458 483T472 473T479 460T482 440Q482 416 465 395T417 374Q406 375 398 381T352 422L308 463L314 435Q321 407 327 378T334 345Q336 333 327 319T296 295Q288 293 275 293Q241 293 227 311T215 345Q215 349 221 378T234 435L241 463L197 422Q160 388 152 382T132 374Q102 374 85 395T67 440Q67 451 70 459T77 473T90 483T106 490T128 496T152 504L207 521L152 538Q144 541 129 545T107 552T91 559T77 569T70 582T67 602Q67 626 84 647T132 668Q143 667 151 661T197 620L241 579',
    0x2B: '61 250Q61 276 94 292H386V436V535Q386 577 388 589T401 607Q411 617 427 617Q458 617 468 587Q470 581 470 436V292H762L766 290Q770 288 773 287T780 282T787 274T792 264T794 250Q794 222 762 209L616 208H470V64Q470 -81 468 -87Q458 -116 428 -116T388 -87Q386 -81 386 64V208H240L94 209Q61 220 61 250',
    0x2C: '81 139Q85 145 88 145Q89 146 154 146H219Q222 142 226 139V8L187 -47Q182 -54 177 -62T169 -74T163 -83T157 -91T153 -97T149 -101T145 -103T141 -105T137 -105T132 -106H116H105Q80 -106 80 -95Q80 -90 98 -47T117 -2Q117 0 102 0L87 1L81 7V139',
    0x2D: '12 230Q12 257 26 265T80 274Q88 274 114 274T158 273T201 273T235 274Q276 274 290 266T305 230T291 194T235 185Q226 185 201 185T159 186Q143 186 119 186T85 185Q43 185 28 193T12 230',
    0x2E: '219 146Q222 142 226 139V7L222 4L219 1L154 0Q102 0 94 0T82 6Q80 9 80 74L81 139Q85 145 88 145Q89 146 154 146H219',
    0x2F: '103 -249Q81 -249 71 -235T61 -207Q61 -201 62 -198Q64 -192 235 265T409 727Q418 750 445 750Q464 750 476 737T488 707Q488 701 313 234Q143 -225 137 -232Q126 -249 103 -249',
    0x3A: '226 319L219 313H87L81 319L80 384Q80 437 80 445T86 456Q89 458 154 458H219Q222 454 226 451V319ZM219 146Q222 142 226 139V7L222 4L219 1L154 0Q102 0 94 0T82 6Q80 9 80 74L81 139Q85 145 88 145Q89 146 154 146H219',
    0x3B: '226 319L219 313H87L81 319L80 384Q80 437 80 445T86 456Q89 458 154 458H219Q222 454 226 451V319ZM81 139Q85 145 88 145Q89 146 154 146H219Q222 142 226 139V8L187 -47Q182 -54 177 -62T169 -74T163 -83T157 -91T153 -97T149 -101T145 -103T141 -105T137 -105T132 -106H116H105Q80 -106 80 -95Q80 -90 98 -47T117 -2Q117 0 102 0L87 1L81 7V139',
    0x3D: '94 324Q61 335 61 366Q61 396 91 405Q96 407 429 407H762Q763 406 767 404T774 400T781 395T787 387T792 378T794 365Q794 338 762 324H94ZM94 94Q61 105 61 135Q61 149 69 160T92 175Q97 177 430 177H762L766 175Q770 173 773 172T780 167T787 159T792 149T794 135Q794 107 762 94H94',
    0x3F: '61 644Q61 652 87 666T157 693T244 705Q344 705 400 671T457 551Q457 516 446 490T422 451T387 421T356 391Q330 361 318 332T305 292T303 252Q303 218 300 213T290 208T244 207H220Q194 207 188 213Q187 214 186 215V255Q187 282 188 296T198 345T229 417T288 496Q306 515 306 559Q306 596 296 607T253 618Q214 618 185 607T143 583T120 558T103 547Q99 547 95 551Q93 553 77 597T61 644ZM171 71V95Q171 137 197 144Q201 146 244 146H261Q307 146 315 121Q317 115 317 73V51Q317 9 291 2Q286 0 242 0L199 1Q182 7 174 21L172 28L171 71',
    0x40: '61 264T61 347T82 494T136 596T217 660T311 694T410 704Q460 704 471 703Q534 694 577 666Q633 623 651 552T670 370V342Q670 249 633 195Q583 116 454 116Q238 116 238 347Q238 443 276 499Q328 578 456 578Q488 578 494 577L504 575Q475 617 430 617H421Q196 617 196 347Q196 215 253 143Q310 76 427 76Q499 76 561 102L575 107H664Q671 97 671 94V89L663 81Q566 -11 422 -11Q365 -11 316 -2T219 33T137 97T82 200ZM469 490Q459 492 453 492Q429 492 405 472Q374 439 374 347Q374 233 423 210Q436 202 454 202L486 210Q536 228 536 347Q536 461 486 484Q476 490 469 490',
    0x5B: '318 -206Q318 -235 305 -243T255 -251Q248 -251 229 -251T198 -250H143Q112 -250 99 -246T81 -225Q79 -219 79 250T81 725Q85 741 98 745T143 750H198Q210 750 229 750T255 751Q291 751 304 743T318 707Q318 680 301 668Q293 663 255 663H224V-163H255Q293 -163 301 -168Q318 -180 318 -206',
    0x5D: '24 706Q24 734 39 742T90 751Q97 751 114 751T143 750H198Q230 750 243 746T261 725Q263 719 263 250T261 -225Q257 -241 244 -245T198 -250H143Q131 -250 112 -250T86 -251Q50 -251 37 -243T24 -207Q24 -180 41 -168Q49 -163 87 -163H118V663H87H71Q24 663 24 706',
    0x5E: '108 550Q108 554 135 589T190 658T219 692Q221 694 275 694Q328 694 330 693Q331 692 381 629T438 557Q441 553 441 549T434 538L399 537Q363 537 362 538Q361 538 318 575L275 611Q274 611 231 575Q188 538 187 538Q186 537 150 537L115 538Q108 545 108 550',
    0x5F: '0 -66Q0 -32 26 -25Q30 -23 274 -23Q469 -23 497 -23T532 -28Q549 -40 549 -67Q549 -93 532 -105Q525 -109 498 -109T275 -110Q31 -110 26 -108Q0 -101 0 -66',
    0x7E: '92 215Q92 259 122 301T204 344Q238 344 264 329T310 300T343 285Q356 285 361 295T369 322T377 344H450Q457 334 457 330Q457 281 427 240T344 198Q312 198 285 213T239 242T206 257Q188 257 182 230T172 199L137 198H120Q102 198 97 200T92 215',
    0x131: '54 431Q63 458 102 458H127H149Q192 458 199 433Q201 427 201 229T199 25Q190 0 149 0H125L81 1Q61 7 54 28V431',
    0x237: '-38 -84Q-36 -84 -14 -95T33 -106H38Q70 -103 78 -86Q83 -78 83 -49T84 180Q84 427 86 433Q93 458 136 458H158H180Q201 458 209 456T225 443Q230 436 231 418Q232 397 232 313V183V124V40Q232 -55 228 -87T203 -147Q166 -205 78 -205Q31 -205 -20 -189T-71 -159Q-71 -156 -59 -123Q-50 -96 -47 -91T-38 -84',
    0x300: '-458 682Q-458 690 -452 692T-426 694H-381H-314L-312 691Q-311 691 -305 682T-287 655T-263 622L-218 555V549Q-218 544 -224 538L-259 537Q-295 537 -296 538Q-298 539 -376 606T-456 676Q-458 680 -458 682',
    0x301: '-290 537H-310Q-334 537 -334 549Q-334 553 -311 588T-264 656L-241 690Q-240 690 -239 691T-236 693Q-235 694 -167 694H-100Q-93 684 -93 681T-94 677Q-95 675 -173 607T-255 538Q-256 537 -290 537',
    0x302: '-442 550Q-442 554 -415 589T-360 658T-331 692Q-329 694 -275 694Q-222 694 -220 693Q-219 692 -169 629T-112 557Q-109 552 -109 549Q-109 545 -116 538L-151 537Q-187 537 -188 538Q-189 538 -232 575L-275 611Q-276 611 -319 575Q-362 538 -363 538Q-364 537 -400 537L-435 538Q-442 545 -442 550',
    0x303: '-458 565Q-458 609 -428 651T-346 694Q-312 694 -286 679T-240 650T-207 635Q-194 635 -189 645T-181 672T-173 694H-100Q-93 684 -93 680Q-93 631 -123 590T-206 548Q-238 548 -265 563T-311 592T-344 607Q-362 607 -368 580T-378 549L-413 548H-430Q-448 548 -453 550T-458 565',
    0x304: '-84 660Q-81 656 -77 653V567L-81 564L-84 561L-274 560H-383Q-469 560 -471 565L-472 566Q-474 569 -474 611L-473 653Q-469 659 -466 659Q-465 660 -274 660H-84',
    0x306: '-123 694Q-80 694 -80 657Q-80 626 -99 601T-161 563Q-199 552 -275 552Q-352 552 -389 563Q-470 586 -470 655Q-470 667 -468 673Q-457 694 -435 694H-431Q-408 694 -396 685Q-387 676 -387 671Q-384 661 -275 661Q-167 661 -164 671Q-164 674 -163 677T-151 687T-123 694',
    0x307: '-329 596Q-346 602 -351 611T-356 638V646Q-356 653 -356 654T-356 661T-355 668T-353 673T-351 679T-347 684T-341 689T-332 693T-274 695H-221Q-202 683 -198 676T-194 645Q-194 632 -195 625T-202 610T-221 596H-329',
    0x308: '-331 695Q-312 683 -308 676T-304 645Q-304 632 -304 626T-311 610T-331 596L-380 595H-408Q-448 595 -457 617Q-459 621 -459 645T-457 673Q-448 696 -409 696Q-405 696 -396 696T-380 695H-331ZM-247 644Q-247 658 -246 665T-239 680T-221 694Q-217 695 -169 695H-143Q-102 695 -93 672Q-91 664 -91 645V635Q-91 613 -106 602Q-113 597 -121 596T-171 595L-219 596Q-232 600 -238 608T-246 622T-247 644',
    0x30A: '-365 616Q-365 658 -331 676T-256 694Q-253 694 -247 694T-236 693Q-166 693 -139 666Q-119 644 -119 616T-139 565Q-166 538 -237 538H-242Q-365 538 -365 616ZM-181 616Q-181 641 -195 647T-242 654Q-258 654 -266 654T-284 650T-298 638T-303 616Q-303 592 -289 585T-242 577Q-209 577 -195 584T-181 616',
    0x30B: '-426 686Q-424 694 -394 694H-350H-283Q-277 686 -277 682Q-277 673 -317 608T-361 538L-396 537H-420Q-432 537 -436 539T-440 548Q-440 560 -434 616Q-432 633 -430 650T-427 677L-426 686ZM-243 686Q-241 694 -211 694H-167H-100Q-94 686 -94 682Q-94 673 -134 608T-178 538L-213 537H-237Q-249 537 -253 539T-257 548Q-257 560 -251 616Q-249 633 -247 650T-244 677L-243 686',
    0x30C: '-442 645Q-442 657 -418 657H-398Q-393 657 -388 657T-379 657T-371 656T-365 656H-363L-319 620L-276 583Q-275 583 -232 619Q-189 656 -188 656Q-187 657 -151 657H-116Q-109 649 -109 645Q-109 642 -112 637Q-118 629 -168 566T-220 501Q-222 500 -275 500Q-329 500 -331 501Q-442 634 -442 645',
    0x2013: '0 284Q0 318 26 325Q30 327 274 327Q469 327 497 327T532 322Q549 310 549 283Q549 257 532 245Q525 241 498 241T275 240Q31 240 26 242Q0 249 0 284',
    0x2014: '0 284Q0 318 26 325Q30 327 549 327T1073 325Q1099 318 1099 284Q1099 249 1073 242Q1068 240 549 240Q31 240 26 242Q0 249 0 284',
    0x2015: '0 284Q0 318 26 325Q30 327 549 327T1073 325Q1099 318 1099 284Q1099 249 1073 242Q1068 240 549 240Q31 240 26 242Q0 249 0 284',
    0x2017: '0 -66Q0 -32 26 -25Q30 -23 274 -23Q469 -23 497 -23T532 -28Q549 -40 549 -67Q549 -93 532 -105Q525 -109 498 -109T275 -110Q31 -110 26 -108Q0 -101 0 -66',
    0x2018: '87 443L81 449V581L119 636Q125 644 131 653T141 667T148 677T154 685T158 689T163 692T167 693T173 694H190H201Q226 694 226 683Q226 678 208 635T189 590Q189 588 204 588H219Q222 584 226 581V449L219 443H87',
    0x2019: '81 687Q85 693 88 693Q89 694 154 694H219Q222 690 226 687V556L187 501Q182 494 177 486T169 474T163 465T157 457T153 451T149 447T145 445T141 443T137 443T132 442H116H105Q80 442 80 453Q80 458 98 501T117 546Q117 548 102 548L87 549L81 555V687',
    0x201C: '144 443L138 449V581L176 636Q182 644 188 653T198 667T205 677T211 685T215 689T220 692T224 693T230 694H247H258Q283 694 283 683Q283 678 265 635T246 590Q246 588 261 588H276Q279 584 283 581V449L276 443H144ZM381 443L375 449V581L413 636Q419 644 425 653T435 667T442 677T448 685T452 689T457 692T461 693T467 694H484H495Q520 694 520 683Q520 678 502 635T483 590Q483 588 498 588H513Q516 584 520 581V449L513 443H381',
    0x201D: '38 687Q42 693 45 693Q46 694 111 694H176Q179 690 183 687V556L144 501Q139 494 134 486T126 474T120 465T114 457T110 451T106 447T102 445T98 443T94 443T89 442H73H62Q37 442 37 453Q37 458 55 501T74 546Q74 548 59 548L44 549L38 555V687ZM275 687Q279 693 282 693Q283 694 348 694H413Q416 690 420 687V556L381 501Q376 494 371 486T363 474T357 465T351 457T347 451T343 447T339 445T335 443T331 443T326 442H310H299Q274 442 274 453Q274 458 292 501T311 546Q311 548 296 548L281 549L275 555V687',
    0x2044: '103 -249Q81 -249 71 -235T61 -207Q61 -201 62 -198Q64 -192 235 265T409 727Q418 750 445 750Q464 750 476 737T488 707Q488 701 313 234Q143 -225 137 -232Q126 -249 103 -249',
    0x2206: '381 692Q386 694 458 694Q516 694 527 693T549 687Q564 680 575 663Q576 658 715 349T856 27Q856 6 838 1H826Q815 1 795 1T747 1T686 1T616 0T539 0T458 0T378 0T300 0T230 0T169 1T122 1T90 1H78Q60 6 60 27Q62 38 201 349T341 663Q356 687 381 692ZM627 148Q626 149 581 250T492 453L447 554Q447 553 446 552Q444 546 326 278L268 148Q268 147 448 147Q627 147 627 148',
},{
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2203">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {sansSerifItalic as font} from '../../../common/fonts/tex/sans-serif-italic.js';

export const sansSerifItalic: SVGCharMap = AddPaths(font, {
    0x21: '160 187L257 694H306Q355 694 355 693L238 186H199Q160 186 160 187ZM110 2Q111 3 120 49T131 96Q131 98 180 98T229 96L219 50Q209 3 208 2V0H110V2',
    0x22: '171 647L180 694H229Q278 694 278 693L276 686Q275 680 273 668T268 644L258 597L182 471H157Q133 471 133 472L189 595Q189 596 174 596H160V598Q160 601 171 647ZM365 647L374 694H423Q472 694 472 693L470 686Q469 680 467 668T462 644L452 597L376 471H351Q327 471 327 472L383 595Q383 596 368 596H354V598Q354 601 365 647',
    0x23: '793 170Q809 162 809 149Q809 145 807 141T802 135T796 132L793 130H547L472 -27Q397 -184 394 -187Q389 -194 379 -194Q367 -194 362 -183Q359 -179 359 -173Q360 -168 431 -20L503 129Q503 130 410 130H317L242 -27Q167 -184 164 -187Q159 -194 149 -194Q137 -194 132 -183Q129 -179 129 -173Q130 -168 201 -19L273 130H187L100 131Q87 141 87 150Q87 162 102 170H294L331 248Q339 265 349 286T365 318L370 328Q370 330 258 330Q145 330 142 332Q129 338 129 351Q129 362 140 368Q146 370 267 370L391 371L467 527Q542 684 544 686Q544 688 549 691T560 694H562Q565 693 567 692T571 690T575 686T578 681T579 672Q577 665 507 520T436 373L435 370H528L621 371L692 518Q767 675 769 677Q775 694 789 694Q798 694 804 688T809 672Q806 664 737 519L665 371L751 370Q835 370 841 368Q851 362 851 350Q851 337 841 334T799 330H765H741H645L606 250L568 170H793ZM600 328Q600 330 508 330H415Q412 326 338 171Q338 170 431 170H524L561 248Q569 265 579 286T595 318L600 328',
    0x24: '228 70Q233 92 246 155T270 266T280 316Q271 318 265 320T237 333T200 360T172 403T159 468Q159 537 205 600T325 691Q352 701 360 701Q361 701 361 701T362 703T364 711T368 727L372 750H409Q445 750 445 749L436 705Q436 703 450 702T494 691T554 657L565 649Q562 642 548 604L534 568Q511 591 484 605T440 621L424 623L419 624L372 405Q399 400 424 384Q490 338 490 247V240Q490 156 430 85Q374 13 294 -5L284 -7L280 -30Q279 -35 278 -41T275 -52L274 -55Q274 -56 237 -56Q201 -56 201 -54Q202 -53 205 -34T211 -11Q211 -9 206 -9Q154 -2 115 19Q80 35 56 59L88 141L99 131Q109 121 119 113T141 99T160 89T180 82T197 77T214 73T228 70ZM303 426Q304 427 313 471T332 564T345 620L335 616Q287 596 263 549Q252 525 252 499Q252 470 267 451T298 426Q303 424 303 426ZM302 75Q305 75 315 80T340 98T367 125T390 164T399 214Q399 247 384 268T349 297Q338 247 326 186L302 75',
    0x25: '268 347Q224 347 195 386T165 488Q165 517 173 552Q191 637 246 693T349 749Q389 749 414 725T448 673T456 614Q456 506 396 427T268 347ZM372 604Q372 674 339 674Q311 674 290 633T261 549T253 482V474Q253 438 272 426Q277 424 286 424Q319 424 345 485T372 604ZM189 -56Q179 -56 173 -49T167 -37Q167 -30 347 198Q425 296 475 360Q780 745 785 747Q790 750 796 750Q814 748 814 730Q814 725 811 719L204 -49Q198 -56 189 -56ZM523 87Q523 184 583 265T713 347Q758 347 786 308T815 207Q815 110 757 28T629 -55Q576 -55 550 -12T523 87ZM729 200Q729 271 696 271Q675 271 658 247T631 189T616 125T611 76Q611 21 644 21H647Q672 21 700 77T729 200',
    0x26: '219 -22Q158 -22 117 13T71 111Q71 131 74 150T84 185T98 215T118 241T137 262T159 281T179 295T199 308L214 318L258 348L256 362Q254 373 254 413V435Q254 483 271 537T325 641T411 708Q427 715 441 715Q446 716 455 716Q504 716 534 681T565 590Q565 522 519 468T377 347L358 334Q359 333 363 320T374 290T387 262Q404 227 428 187T460 139Q521 183 574 251T651 362T674 409L710 398Q746 388 747 388Q747 381 720 333T635 213T517 94L510 87Q542 57 598 57Q649 57 708 72Q716 75 718 75L709 34L701 -7Q636 -22 578 -22Q531 -22 498 -8T428 34L408 25Q314 -22 219 -22ZM480 579Q480 640 436 640Q410 640 385 615T351 554Q340 513 340 457Q340 413 343 410Q343 406 360 419Q431 471 455 505T480 579ZM245 57Q279 59 311 67T359 81T375 89T358 113T318 178T281 260L274 277L245 257Q167 205 167 135Q167 110 174 93T194 69T217 60T237 57H245',
    0x27: '228 647L237 694H286Q335 694 335 693L334 686Q332 680 330 668T325 644L315 597L239 471H214Q190 471 190 472L246 595Q246 596 231 596H217V598Q217 601 228 647',
    0x28: '195 37Q195 -7 200 -47T213 -113T231 -166T250 -204T268 -232T280 -250H204L194 -238Q104 -124 104 55Q104 238 181 432T405 740L417 750H454Q491 750 491 749L468 729Q446 709 411 667T337 565T262 405T208 188Q195 110 195 37',
    0x29: '300 463Q300 634 222 740L214 750H290L299 740Q300 738 309 726T323 707T337 682T353 651T367 613T379 566T387 510T390 444Q390 314 344 156T203 -125Q179 -155 145 -191Q111 -224 89 -241L78 -250H2Q4 -248 27 -227T65 -189T107 -140T155 -71T200 16T244 129T278 266Q300 372 300 463',
    0x2A: '193 608Q193 628 210 644T246 660Q250 660 252 660T257 658T264 654T272 648T284 638T302 623Q340 590 340 593Q341 594 345 623T354 682T360 715Q365 729 378 739T407 750Q424 750 433 740T443 720Q443 712 427 652L410 591L462 623Q505 650 514 655T534 660Q549 660 558 650T568 625Q568 617 567 611T560 599T551 590T536 580T519 571T496 561T470 548L429 528L474 500Q482 495 492 489T506 481T516 475T523 469T527 464T529 458T530 450Q530 430 514 414T479 397H475Q468 397 460 402T423 433Q414 440 404 448T388 461L383 465L365 344Q348 306 314 306Q302 306 292 313T281 338Q281 347 297 404L313 464L260 433Q201 397 195 397H189Q173 397 165 407T156 432Q156 438 157 443T161 452T166 460T175 468T185 475T198 482T212 489T230 497T250 506L295 528L250 556Q203 582 202 585Q193 591 193 608',
    0x2B: '108 244T108 250T112 261T119 268T124 270H426V272Q428 274 457 419Q489 565 492 573Q497 583 508 583Q516 583 522 577T528 565Q528 553 498 417Q491 384 483 346T471 288L467 270H760Q775 262 775 250T760 230H458Q456 221 426 77T394 -71Q389 -83 375 -83Q367 -83 362 -78T356 -64Q356 -58 387 84Q394 118 401 155T413 210L417 229Q417 230 271 230H124Q123 230 120 232T112 239',
    0x2C: '90 2Q91 3 100 49T111 96Q111 98 160 98T209 96L199 50Q189 3 188 2Q188 0 149 -63L112 -125H63L120 0H105Q90 0 90 2',
    0x2D: '66 257V259H332V257L324 220L317 186H184Q51 186 51 187T58 220T66 257',
    0x2E: '90 2Q91 3 100 49T111 96Q111 98 160 98T209 96L199 50Q189 3 188 2V0H90V2',
    0x2F: '564 744L568 747Q573 750 579 750Q588 750 594 744T599 729Q597 721 321 241T41 -243Q37 -250 27 -250Q6 -250 6 -230Q6 -228 8 -222Q9 -219 285 261T564 744',
    0x30: '245 -22Q209 -22 181 -11T135 20T107 65T92 116T88 171Q88 235 114 354T194 557Q226 606 269 635T340 671T392 678H395Q422 678 446 670T495 643T534 582T549 481Q549 430 534 350T499 213Q459 89 379 25Q315 -22 247 -22H245ZM430 582Q408 601 378 601Q313 601 269 534Q234 475 205 341Q181 232 181 174Q181 104 209 76Q231 54 260 54T318 73T368 125Q410 194 447 375Q460 445 460 487Q460 555 430 582',
    0x31: '234 613Q277 613 331 628T428 678H439Q451 678 451 676Q450 671 387 373T323 74T384 73H445L430 0H259L88 1L104 73H229L332 560Q278 541 198 539Q198 540 198 541T199 546T200 554T202 564T205 576L213 612H219Q221 612 226 612T234 613',
    0x32: '190 460Q189 460 181 475T164 507T155 527Q155 535 182 571Q259 678 380 678Q462 678 506 630T551 513V507Q551 418 487 349Q469 329 441 305T391 265T344 232T316 212Q158 87 158 86T188 85Q194 85 234 85T311 86Q467 86 467 85Q451 9 449 2V0H50Q54 18 58 40L67 79L133 133Q246 226 269 243Q369 318 410 373T452 492Q452 535 433 560T393 592T350 599Q311 599 279 578T231 532T203 484T190 460',
    0x33: '446 542Q446 576 424 590T372 605Q330 605 288 583T216 524Q209 515 208 516Q207 517 192 549L178 580L187 589Q224 627 276 652T386 678Q456 678 500 642T544 550Q544 515 530 482T495 427T453 387T418 362L403 353L413 348Q440 335 462 313Q500 271 500 217Q500 135 423 57T236 -22T63 59L56 68L85 141Q106 112 125 98Q177 54 254 54Q315 54 355 105T396 218Q396 242 393 254Q380 301 335 313Q327 315 280 316Q233 316 233 318L249 392Q298 392 322 399Q373 408 409 453T446 542',
    0x34: '78 235L411 656H465Q519 656 519 655T475 447T430 237V235H521V233L505 160Q505 159 459 159H414L380 0H286L320 159H62L63 164Q64 169 66 179T70 198L78 235ZM342 235L421 607Q420 607 419 604Q409 535 197 267Q173 236 173 235H342',
    0x35: '330 350Q263 350 214 272H133V275Q134 276 174 467L214 655Q214 656 385 656H555V653Q555 652 554 647T550 631T546 613L539 577H284L265 486Q261 464 256 441T248 406L246 395L250 398Q255 401 264 406T286 415T315 423T350 427Q412 427 455 381T498 256Q498 150 415 64T222 -22Q186 -22 155 -12T105 12T74 41T55 65T50 77L51 79Q61 89 78 112L104 145L107 138Q110 130 114 123T125 106T142 88T165 72T196 60T236 55Q282 55 316 79T366 140T389 208T396 267Q396 310 378 330T337 350H330',
    0x36: '437 605Q397 605 361 585T301 536T261 477T236 426T228 401L236 408Q244 414 260 424T296 445T345 462T402 469H404Q422 469 434 467T465 446T498 394Q515 351 515 307Q515 254 497 193T439 85Q352 -22 246 -22Q220 -22 196 -14T148 15T109 78T94 179Q94 272 123 373Q163 505 257 591T450 678Q474 678 498 674T535 664T548 656L540 621L532 586L520 590Q509 594 485 599T437 605ZM339 392Q281 392 233 334T185 163V158Q185 87 230 61Q244 54 262 54Q325 54 371 122Q395 158 407 217T419 298Q419 337 401 364T339 392',
    0x37: '173 614L181 656H389Q596 656 596 655L595 650Q594 645 592 635T588 616L580 578L554 551Q313 307 245 4L242 -11H192Q143 -11 143 -10Q144 0 148 17T169 89T212 198T285 327T393 470Q423 504 472 550Q479 555 485 561T496 571L329 570Q163 570 163 571L164 577Q166 583 168 593T173 614',
    0x38: '159 470Q159 547 229 612T394 678Q467 678 510 636T554 533Q554 512 549 493T535 458T515 429T492 405T467 386T443 372T423 362T409 356L404 354Q404 353 405 353Q411 353 432 341T476 295T500 218Q500 134 424 56T246 -22Q175 -22 126 22T77 143Q77 204 110 251T188 327L202 334Q216 340 229 346T243 353T235 358T214 372T189 393T168 426T159 470ZM467 527Q467 605 375 605Q317 605 281 566T244 472Q244 429 271 411T334 392Q392 392 429 430T467 527ZM405 228Q405 262 384 289T315 316Q257 316 216 266T174 144Q174 95 199 75T262 54Q329 54 367 109T405 228',
    0x39: '220 594Q303 677 389 677Q545 677 545 479Q545 413 526 327Q493 175 398 77T202 -22Q124 -22 77 25L130 91L137 83Q169 54 218 54Q255 54 290 76T347 129Q364 151 380 182T403 232T411 256Q410 255 390 241T353 217T303 197T236 187Q195 187 173 209Q155 226 140 263T124 352Q124 392 135 435Q154 527 220 594ZM455 497Q455 605 383 605Q340 605 305 577T246 492Q220 411 220 360Q220 278 279 264Q280 264 287 264T299 263Q347 263 387 302Q455 375 455 497',
    0x3A: '174 396L184 444H233Q282 444 282 443Q277 421 272 394L262 346H213Q164 346 164 347Q169 369 174 396ZM90 2Q91 3 100 49T111 96Q111 98 160 98T209 96L199 50Q189 3 188 2V0H90V2',
    0x3B: '174 396L184 444H233Q282 444 282 443Q277 421 272 394L262 346H213Q164 346 164 347Q169 369 174 396ZM90 2Q91 3 100 49T111 96Q111 98 160 98T209 96L199 50Q189 3 188 2Q188 0 149 -63L112 -125H63L120 0H105Q90 0 90 2',
    0x3D: '142 368Q145 370 463 370Q780 370 784 368Q796 364 796 350T784 332Q780 330 463 330Q145 330 142 332Q129 338 129 351Q129 362 142 368ZM88 137T88 150T102 170H738Q739 170 742 168T750 161T754 150T750 139T743 132T738 130H102Q88 137 88 150',
    0x3F: '194 652Q194 654 218 666T284 691T362 704Q444 704 490 678T536 583Q536 541 516 500T459 433Q415 400 387 371T343 313T321 266T307 216L301 186H262Q223 186 223 187Q224 199 228 218T250 288T294 377Q317 413 344 440T391 481T414 499Q442 527 442 574Q442 584 441 590T433 607T409 623T362 629Q335 629 310 624T267 610T235 595T214 582T205 576L200 614Q194 651 194 652ZM173 2Q174 3 183 49T194 96Q194 98 243 98T292 96L282 50Q272 3 271 2V0H173V2',
    0x40: '120 267Q120 377 179 478T336 642T538 705Q610 705 658 662T707 513Q707 425 681 331Q658 241 590 179T447 117Q386 117 343 163T300 288Q300 397 374 486T544 576Q575 576 608 562Q590 628 517 628Q406 628 309 522T212 278Q212 179 267 122T404 65T550 91H631Q513 -10 390 -10Q265 -10 193 70T120 267ZM600 397Q600 441 581 471T530 501Q476 501 433 436T390 298Q390 254 409 224T462 193Q512 193 556 257T600 397',
    0x5B: '148 252L253 750H339Q425 750 425 749L424 744Q423 739 421 729T417 711L409 675L367 674H325L235 252Q145 -167 145 -172Q145 -174 187 -174H229V-176Q213 -240 213 -250H127Q41 -250 41 -248Q41 -245 148 252',
    0x5D: '353 749Q353 746 303 512T200 27T141 -250H-31Q-31 -240 -15 -176V-174H70L250 674H208L165 675L181 750H267Q353 750 353 749',
    0x5E: '190 527L360 694H434L484 611Q533 528 533 527H457L390 632L385 639L266 527H190',
    0x5F: '59 -75L66 -38H316Q565 -38 565 -39T558 -75T549 -112Q549 -114 299 -114Q50 -114 50 -113L52 -108Q53 -103 55 -93T59 -75',
    0x7E: '330 327Q356 326 388 298T446 269Q470 269 484 327H522Q560 327 560 325L557 316Q554 306 549 292T535 263T512 232T480 208Q453 193 429 193T370 222T315 251Q285 251 275 193H199V197Q214 257 251 292T330 327',
    0x131: '168 442T168 443T213 444T258 443T212 225T164 2V0H74V2Q75 7 121 224',
    0x237: '-54 -96L-48 -104Q-41 -111 -27 -118T7 -126Q60 -126 82 -87Q85 -81 140 181L196 443Q196 444 241 444T286 443Q286 441 232 186T175 -75Q163 -120 122 -162T19 -204Q-13 -204 -41 -196T-83 -180T-96 -170Q-55 -96 -54 -96',
    0x300: '-262 681L-270 694H-177L-132 612Q-89 530 -87 528Q-87 527 -125 527H-163L-208 598Q-254 670 -262 681',
    0x301: '-96 625L-29 694H63Q42 673 -31 605L-114 527H-190L-176 541Q-160 559 -96 625',
    0x302: '-310 527L-140 694H-66L-16 611Q33 528 33 527H-43L-110 632L-115 639L-234 527H-310',
    0x303: '-170 677Q-144 676 -112 648T-54 619Q-30 619 -16 677H22Q60 677 60 675L57 666Q54 656 49 642T35 613T12 582T-20 558Q-47 543 -71 543T-130 572T-185 601Q-215 601 -225 543H-301V547Q-286 607 -249 642T-170 677',
    0x304: '-314 553L-297 631H-116Q64 631 64 630Q60 612 56 591L47 553L-133 552Q-314 552 -314 553',
    0x306: '-142 508Q-205 508 -244 548T-284 652Q-284 666 -281 683L-280 694H-204Q-205 689 -205 677Q-205 650 -196 631T-173 604T-147 593T-125 590Q-85 590 -50 618T-5 686L-2 694H73V690Q53 610 -10 559T-142 508',
    0x307: '-180 578Q-179 579 -170 627T-158 678V680H-54V678Q-56 675 -65 627T-76 578V576H-180V578',
    0x308: '-273 584Q-272 585 -262 632L-252 678V680H-154V678L-164 632Q-174 585 -175 584Q-175 582 -224 582T-273 584ZM-78 586Q-78 587 -69 632T-58 678V680H40L39 677Q39 676 38 670T34 651T29 628L19 583L-30 582H-79L-78 586',
    0x30A: '-227 597Q-227 639 -186 666T-102 693H-97Q-29 693 -8 649Q-2 637 -2 623Q-2 582 -43 555T-132 527Q-171 527 -199 546T-227 597ZM-59 619Q-59 635 -68 643T-104 652Q-142 652 -156 636T-171 602Q-171 569 -123 569Q-119 569 -111 570T-99 571Q-59 582 -59 619',
    0x30B: '-236 619L-195 694H-149Q-103 694 -103 693L-211 527H-287L-282 536Q-281 539 -236 619ZM-70 619L-29 694H17Q63 694 63 693L-45 527H-121L-116 536Q-115 539 -70 619',
    0x30C: '-283 654H-207L-140 549L-135 542L-16 654H60L-109 487H-147L-184 488L-234 570Q-283 653 -283 654',
    0x391: '28 0L429 694H533L585 350Q596 275 610 182T632 46L638 3V0H530L528 18Q527 25 515 103T503 183H223L135 29L118 1L73 0H28ZM492 254Q492 256 473 398T454 589V610Q433 552 290 301L264 255L378 254H492',
    0x392: '501 363Q557 355 605 316T653 222Q653 148 586 85T403 2Q394 1 240 0Q90 0 90 1L100 46Q109 90 128 177T164 348L238 694H375Q518 693 546 688Q614 674 655 635T696 544Q696 490 648 441T516 368L501 363ZM601 530Q601 568 566 590T479 621Q472 622 394 623H320L297 513Q292 489 286 459T276 415L273 401V399H339H372Q504 399 571 466Q601 498 601 530ZM257 322Q256 320 230 197T203 73Q203 71 289 71Q379 72 387 73Q459 84 507 122T556 210Q556 255 519 283T428 320Q415 322 336 323Q257 323 257 322',
    0x393: '87 2Q88 4 160 346T234 689Q234 691 440 691T646 689Q643 686 629 611H475L321 612Q193 4 191 2V0H87V2',
    0x394: '273 343L510 694H617Q790 2 790 0H416L42 1L273 343ZM539 576Q536 597 536 600Q536 602 535 605Q534 607 534 607Q527 580 222 130L201 98H651L648 110Q645 123 639 149T627 198Q554 489 539 576',
    0x395: '86 2Q88 4 160 346T233 689Q233 691 461 691Q688 691 688 689Q685 686 671 611H495L320 612L319 609Q319 607 297 501L274 397H436Q597 397 597 396L596 391Q595 386 593 376T589 358L581 322L420 321Q258 321 258 320Q209 89 208 87Q208 85 390 85Q417 85 460 85T518 86L572 85Q556 8 554 2V0H86V2',
    0x396: '67 54Q551 615 551 617Q543 618 517 618Q510 618 463 618T376 617Q200 617 200 618T209 657L216 694H459Q702 694 702 692Q702 689 697 667L692 643L207 80H392Q493 81 577 81Q577 70 560 2V0H55V2L67 54',
    0x397: '517 2Q518 3 551 161T585 322Q586 323 557 323T422 323H259L190 0H138Q86 0 86 1L96 46Q105 90 124 177T160 348L234 694H337V691Q336 690 306 545T275 399H602L603 403Q603 407 634 551L665 694H768V691Q768 690 695 348T621 2V0H517V2',
    0x398: '119 260Q119 348 157 433T254 579T387 677T533 715Q701 715 772 574Q804 511 804 431Q804 315 744 209T586 41T384 -22Q262 -22 191 59T119 260ZM706 426Q706 524 655 582T525 640Q454 640 395 600T293 502Q256 447 237 383T218 266Q218 168 269 112T401 55Q518 55 612 166T706 426ZM283 349L293 397H473Q652 397 652 396Q647 374 642 347L632 299H452Q273 299 273 300Q278 322 283 349',
    0x399: '161 348L235 694H338V691Q338 690 265 348T191 2V0H139Q87 0 87 1L96 46Q106 90 125 177T161 348',
    0x39A: '236 223Q235 222 213 113T188 2V0H138Q88 0 88 1L98 46Q107 90 126 177T162 348L236 694H285Q335 694 335 693L330 671Q326 649 316 603T298 518Q289 477 280 433T266 366L261 343L672 694H729L784 693L465 420L651 0H596L541 1L384 350Q383 351 310 288T236 223',
    0x39B: '28 0L401 694H504V690Q505 686 543 345T582 1Q582 0 528 0H473V3Q472 6 460 113T435 359T422 558Q422 593 424 603L425 610L424 608Q414 572 343 431Q287 316 143 49L117 1L73 0H28',
    0x39C: '375 691Q456 215 459 124V106Q488 177 762 641L793 694H929V691Q929 690 856 348T782 2V0H689V2Q691 4 753 304Q817 604 818 606Q819 611 817 608Q817 607 815 603Q798 559 540 117L484 22H440L397 23L393 42Q393 47 373 169T334 422T315 594V609L250 306Q186 3 185 2Q185 0 138 0Q92 0 92 1L102 46Q111 90 130 177T166 348L240 694H375V691',
    0x39D: '311 609Q310 608 246 306T181 2V0H134Q88 0 88 1L98 46Q107 90 126 177T162 348L236 694H382L383 691Q383 688 418 561T493 286T541 97L544 84L545 89Q545 90 553 128T578 246T610 394L674 694H766V691Q766 690 693 348T619 2V0H472L469 13Q468 17 393 293T312 605L311 609',
    0x39E: '193 687Q193 688 479 688H765V686Q764 685 755 642L747 600H461L175 601Q175 602 184 645L193 687ZM196 400Q196 401 418 401T640 400L622 315Q622 314 400 314T178 315L196 400ZM42 2Q43 3 51 44T60 87H64Q68 87 75 87T93 87T119 87T151 88T190 88T237 88T291 88T352 88H643Q638 66 634 44T627 13T624 2V0H42V2',
    0x39F: '118 254Q118 366 174 473T324 648T517 716Q627 716 695 638T763 435Q763 321 706 215T555 43T362 -22Q256 -22 187 56T118 254ZM380 58Q452 58 518 116T622 263T661 442Q661 496 646 535T608 594T567 622T534 634Q516 636 496 636Q400 636 313 528T225 264Q225 172 267 115T380 58',
    0x3A0: '86 2Q88 4 160 346T233 689Q233 691 501 691Q768 691 768 689Q766 688 694 346T621 2V0H517V2Q518 3 582 304T646 609L648 615H321L190 0H86V2',
    0x3A1: '162 348L236 694H378Q522 693 530 692Q604 680 647 635T690 524Q690 474 665 430T612 359Q550 299 465 280Q443 275 343 274H250V271Q250 269 235 201T206 68T192 2V0H140Q88 0 88 1L98 46Q107 90 126 177T162 348ZM594 513Q594 560 562 588T477 622Q470 623 394 623H321L293 487L263 349V347H342H347H375Q530 347 578 449Q594 483 594 513',
    0x3A3: '194 655L202 694H508Q813 694 813 693Q809 675 805 653L797 614H559L321 615Q327 606 405 478L485 347Q449 311 348 203T247 86Q247 84 294 84Q303 84 359 84T465 85H684Q684 84 675 42L666 0H360L55 1L195 154Q346 319 347 320L359 333L273 473Q187 614 186 614L187 620Q188 625 190 635T194 655',
    0x3A4: '165 608L182 687Q182 688 486 688H790L789 685L781 645L773 609H521L457 306Q393 3 392 2Q392 0 340 0H288V2Q289 5 353 304T417 605V609L291 608H165',
    0x3A5: '357 637Q320 637 297 612T266 555H173Q178 576 188 598Q214 651 265 683T373 716Q497 716 497 542V509L504 526Q579 715 711 715Q773 715 808 677T843 589Q843 576 840 555H747L748 557Q748 559 748 563T749 574V580Q749 604 731 622Q715 638 693 638Q591 638 543 465Q531 425 506 309T462 98T441 2V0H337V2Q425 401 436 486Q438 504 438 526Q438 637 364 637H357',
    0x3A6: '124 308Q124 399 208 481T433 587Q437 587 437 589Q438 590 449 643L459 694H508Q557 694 557 693Q557 691 546 641T535 587Q543 587 562 583T614 565T674 531T722 472T743 387Q743 288 656 209T449 110L433 106Q411 3 410 2Q410 0 361 0H312L313 3Q313 5 324 56L335 107H331L321 108Q311 110 297 114T266 124T228 141T190 168Q124 225 124 308ZM227 315Q227 282 239 257T270 218T306 197T338 186L350 184H351L386 346Q420 507 420 509H419Q411 509 393 505T342 485T284 444Q227 387 227 315ZM642 381Q642 413 629 437T599 475T563 496T533 507T519 510Q518 510 484 348T450 184Q544 201 593 258T642 381',
    0x3A7: '14 0Q17 3 184 184T352 367L265 529Q244 567 222 609T188 672L176 692Q176 694 236 694H297L338 612Q387 515 400 489L421 448L645 694H758L708 640Q481 393 456 368Q455 366 500 281T596 104T652 0H531L388 293L128 0H14',
    0x3A8: '325 556Q325 524 310 447T294 330Q294 289 304 260Q314 234 333 216T364 192T380 187L488 694H585V691Q584 689 531 438L478 188H479Q485 188 503 195T555 231T613 305Q637 352 654 435Q662 470 669 496T681 538T690 562T698 578T704 587Q719 609 733 615T772 621H802H854V619L838 546Q838 545 832 545Q775 539 749 418Q716 274 638 196Q616 173 590 156T543 131T503 117T473 110T460 106Q460 105 450 54T438 2V0H340V2Q341 3 351 54T362 106Q363 107 358 108T344 111T322 117T295 128T267 145T239 171T216 207T200 256T194 319Q194 356 203 408T213 483Q213 517 203 530T182 544T171 546Q184 609 187 619V621H239Q286 621 294 620T309 612Q325 596 325 556',
    0x3A9: '148 407Q148 475 182 534T269 633T386 694T511 716Q622 716 695 658T769 507Q769 461 747 409T699 321T628 225T562 136Q533 90 533 86Q542 85 557 85Q564 85 583 85T614 86Q695 86 695 85Q679 9 677 2V0H425Q426 3 433 30T447 72T480 131T549 241L554 248Q558 254 563 261T576 281T592 306T609 335T625 366T640 400T653 434T661 466T664 498Q664 562 618 601T497 640Q416 640 351 596T262 482Q250 441 250 392T276 237T302 70V56Q302 28 296 2V0H44V2L62 85Q62 86 143 86L225 85V88Q224 89 224 89T224 91T224 95T223 101T222 110T220 123T216 140T209 163T200 191T188 227Q148 344 148 407',
    0x2013: '59 275L66 312H316Q565 312 565 311T558 275T549 238Q549 236 299 236Q50 236 50 237L52 242Q53 247 55 257T59 275',
    0x2014: '59 275L66 312H566Q1065 312 1065 311T1058 275T1049 238Q1049 236 549 236Q50 236 50 237L52 242Q53 247 55 257T59 275',
    0x2015: '59 275L66 312H566Q1065 312 1065 311T1058 275T1049 238Q1049 236 549 236Q50 236 50 237L52 242Q53 247 55 257T59 275',
    0x2017: '59 -75L66 -38H316Q565 -38 565 -39T558 -75T549 -112Q549 -114 299 -114Q50 -114 50 -113L52 -108Q53 -103 55 -93T59 -75',
    0x2018: '309 567L299 520Q289 474 288 473Q288 471 239 471T190 473L192 480Q193 486 196 499T201 522L211 569L287 694H312L335 693L332 685Q328 677 321 661T307 630L279 570L294 569Q309 569 309 567',
    0x2019: '228 647L237 694H286Q335 694 335 693L334 686Q332 680 330 668T325 644L315 597L239 471H214Q190 471 190 472L246 595Q246 596 231 596H217V598Q217 601 228 647',
    0x201C: '393 567L383 520Q373 474 372 473Q372 471 323 471T274 473L276 480Q277 486 280 499T285 522L295 569L371 694H396L419 693L416 685Q412 677 405 661T391 630L363 570L378 569Q393 569 393 567ZM587 567L577 520Q567 474 566 473Q566 471 517 471T468 473L470 480Q471 486 474 499T479 522L489 569L565 694H590L613 693L610 685Q606 677 599 661T585 630L557 570L572 569Q587 569 587 567',
    0x201D: '171 647L180 694H229Q278 694 278 693L276 686Q275 680 273 668T268 644L258 597L182 471H157Q133 471 133 472L189 595Q189 596 174 596H160V598Q160 601 171 647ZM365 647L374 694H423Q472 694 472 693L470 686Q469 680 467 668T462 644L452 597L376 471H351Q327 471 327 472L383 595Q383 596 368 596H354V598Q354 601 365 647',
    0x2044: '564 744L568 747Q573 750 579 750Q588 750 594 744T599 729Q597 721 321 241T41 -243Q37 -250 27 -250Q6 -250 6 -230Q6 -228 8 -222Q9 -219 285 261T564 744',
    0x2206: '273 343L510 694H617Q790 2 790 0H416L42 1L273 343ZM539 576Q536 597 536 600Q536 602 535 605Q534 607 534 607Q527 580 222 130L201 98H651L648 110Q645 123 639 149T627 198Q554 489 539 576',
},{
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2204">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {sansSerif as font} from '../../../common/fonts/tex/sans-serif.js';

export const sansSerif: SVGCharMap = AddPaths(font, {
    0x21: '120 187Q120 225 115 440T110 693Q110 694 159 694T208 693Q208 655 203 440T198 187Q198 186 159 186T120 187ZM110 0V98H208V0H110',
    0x22: '33 596V694H131V597L82 471H32L47 532Q62 593 63 594Q63 596 48 596H33ZM227 596V694H325V597L276 471H226L241 532Q256 593 257 594Q257 596 242 596H227',
    0x23: '56 350Q56 363 70 370H192Q314 370 314 371L356 526Q396 676 401 685Q406 694 416 694Q423 694 429 689T436 677Q436 673 396 523T355 371Q355 370 449 370Q544 370 544 371L586 526Q628 682 630 685Q636 694 646 694Q653 694 659 689T665 678Q665 670 645 593T605 444L585 371Q585 370 673 370H762Q777 362 777 350Q777 337 767 334T723 330H668H573L567 305Q560 282 545 226L530 171L646 170H721Q756 170 766 167T777 150Q777 138 762 130H640Q518 130 518 129L476 -26Q434 -182 432 -185Q426 -194 416 -194Q409 -194 403 -189T397 -178Q397 -170 417 -93T457 56L477 129Q477 130 383 130Q288 130 288 129L246 -26Q204 -182 202 -185Q196 -194 186 -194Q179 -194 173 -189T167 -178Q167 -170 187 -94T227 56L247 129Q247 130 159 130H70Q56 137 56 150Q56 165 72 170H259L265 195Q273 222 287 275L302 330H186L70 331Q63 334 58 339Q56 343 56 350ZM489 170L532 330H343L337 305Q330 282 315 226L300 171L394 170H489',
    0x24: '55 509Q55 585 103 638T213 701V750H286V703H289Q312 703 354 689Q372 682 399 666T427 646L413 569Q413 568 403 575Q352 615 291 624H286V405Q357 389 400 331T444 199Q444 128 402 69T286 -7V-56H213V-9Q167 -3 125 14T63 44T44 60Q44 61 52 101L59 140L69 132Q78 125 87 119T107 107T124 97T141 90T157 84T173 80T187 76T201 73T213 70V317L202 319Q141 335 98 386T55 509ZM213 424V620L203 615Q143 587 143 522Q143 455 213 424ZM356 187Q356 208 350 227T334 258T315 280T298 293T287 297Q286 297 286 186V75Q356 110 356 187',
    0x25: '56 549Q56 639 98 694T195 750Q248 750 290 694T332 548Q332 455 290 401T195 347Q141 347 99 403T56 549ZM248 549Q248 602 234 638T195 674Q145 674 145 549Q145 423 195 423Q219 423 233 459T248 549ZM197 -56Q187 -56 182 -49T176 -35Q176 -33 178 -27Q179 -25 399 356T623 741Q626 750 639 750Q648 750 654 744T659 729Q657 721 435 336T207 -52Q203 -56 197 -56ZM500 146Q500 235 542 291T639 347Q692 347 734 293T776 146Q776 53 733 -1T639 -56Q587 -56 544 -2T500 146ZM692 146Q692 199 678 235T639 271Q589 271 589 146Q589 20 639 20Q663 20 677 56T692 146',
    0x26: '156 502Q156 600 198 658T302 716Q367 716 405 665T444 549Q444 531 442 523Q426 446 304 348L287 334Q305 297 340 249T402 170T430 139T443 149T472 181T509 231T549 303T583 394Q584 398 586 404Q587 408 587 409Q588 409 626 399T665 388Q663 381 660 369T644 322T614 253T567 176T502 98L491 87Q534 57 584 57Q653 57 700 75Q702 75 702 34T700 -7Q652 -22 586 -22H580Q505 -22 434 26L421 34Q419 33 405 25T374 11T336 -4T285 -17T226 -22Q143 -22 93 31T42 152Q42 184 51 211T81 260T111 291T144 317L184 348L178 365Q156 430 156 502ZM359 552Q359 588 345 614T302 640Q292 640 282 636T260 622T241 590T233 535Q236 474 253 417L257 407L271 419Q312 454 330 479Q359 514 359 552ZM345 102Q262 190 216 277Q215 277 204 267T180 247T165 236Q135 208 135 159Q135 123 152 97T198 61Q207 58 227 58Q286 58 357 89L345 102',
    0x27: '90 596V694H188V597L139 471H89L104 532Q119 593 120 594Q120 596 105 596H90',
    0x28: '74 250Q74 564 240 733L257 750H333L323 739Q167 573 167 250T323 -239L333 -250H257L240 -233Q74 -63 74 250',
    0x29: '221 -73T221 250T65 739L55 750H131L148 733Q314 567 314 250T148 -233L131 -250H55L65 -239Q221 -73 221 250',
    0x2A: '208 717Q211 731 222 740T250 750Q265 750 277 741T291 717Q291 706 290 675T286 617L285 591L329 622Q369 651 376 655T393 659Q411 659 423 647T436 616Q436 609 434 603T429 594T419 585T407 577T389 567T368 556L316 528L368 500Q421 472 429 464Q436 455 436 440Q436 422 423 409T393 396Q390 396 388 396T384 397T380 398T375 401T367 406T358 413T346 422T329 434L285 465Q284 465 285 438T289 381T291 347Q291 327 278 317T250 306Q234 306 222 315T208 339Q208 350 209 381T212 439L214 465L170 434Q130 405 123 401T106 397Q88 397 76 409T63 440Q63 447 65 453T70 462T80 471T92 479T110 489T131 500L183 528L131 556Q78 584 70 592Q63 601 63 616Q63 634 76 647T106 660Q109 660 111 660T115 659T119 658T124 655T132 650T141 643T153 634T170 622L214 591L212 617Q211 643 210 674T208 717',
    0x2B: '56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250',
    0x2C: '90 0V98H188V1L139 -125H89L104 -64Q119 -3 120 -2Q120 0 105 0H90',
    0x2D: '11 186V259H277V186H11',
    0x2E: '90 0V98H188V0H90',
    0x2F: '423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750',
    0x3A: '90 346V444H188V346H90ZM90 0V98H188V0H90',
    0x3B: '90 346V444H188V346H90ZM90 0V98H188V1L139 -125H89L104 -64Q119 -3 120 -2Q120 0 105 0H90',
    0x3D: '56 350Q56 363 70 370H707Q722 362 722 350Q722 339 708 331L390 330H72Q56 335 56 350ZM56 150Q56 165 72 170H708Q722 160 722 150Q722 138 707 130H70Q56 137 56 150',
    0x3F: '55 652Q63 658 77 666T132 689T214 704T265 703Q303 698 332 684T376 653T401 615T413 578T416 546Q416 475 360 426Q325 396 303 365T273 303T263 256T261 216V186H183V225Q184 281 194 322Q206 368 232 409T276 469T306 495Q323 517 323 550Q323 596 297 612T223 629Q187 629 157 618Q122 607 91 583L83 576L55 652ZM173 0V98H271V0H173',
    0x40: '422 576Q440 576 456 573T480 566L488 563Q488 565 484 571T472 588T452 607T424 622T387 629Q294 629 220 550T146 347Q146 233 210 155T365 66Q376 65 400 65Q465 68 517 86L532 91H612L598 76Q511 -11 388 -11Q250 -11 153 93T56 347Q56 454 107 538T231 663T378 704Q446 704 492 680T564 608T599 506T611 376Q611 320 607 299Q595 227 546 173T422 118Q343 118 288 185T232 347Q232 444 287 510T422 576ZM520 347Q520 429 487 465T421 501Q385 501 354 461T323 347Q323 270 355 232T422 193Q454 193 487 229T520 347',
    0x5B: '94 -250V750H266V674H181V-174H266V-250H94',
    0x5D: '22 674V750H194V-250H22V-174H107V674H22',
    0x5E: '146 612L212 694H287L353 612Q417 532 420 529Q421 528 418 527Q414 527 383 527H345L250 639Q244 633 199 580L154 527H116Q79 528 79 529Q82 532 146 612',
    0x5F: '0 -114V-38H499V-114H0',
    0x7E: '83 204Q86 254 113 290T186 327Q211 327 251 299T312 270Q337 270 340 315V327H416V316Q413 258 382 226T315 193Q289 193 249 221T187 250Q162 250 159 205V193H83V204',
    0x131: '74 0V444H164V0H74',
    0x237: '-35 -95Q-4 -126 34 -126Q58 -126 76 -116T100 -88Q102 -82 102 181V444H192V180Q191 -45 191 -70T184 -113Q171 -152 140 -178T63 -205Q34 -205 4 -197T-43 -181T-59 -171L-47 -133L-35 -95',
    0x300: '-415 692L-417 694H-324L-262 612Q-249 594 -233 572T-208 539L-200 528L-237 527H-275L-344 608Q-359 625 -378 647T-406 680T-415 692',
    0x301: '-239 612L-177 694H-84L-86 692Q-86 691 -95 681T-123 648T-157 608L-226 527H-264L-301 528L-293 539Q-285 550 -269 572T-239 612',
    0x302: '-354 612L-288 694H-213L-147 612Q-83 532 -80 529Q-79 528 -82 527Q-86 527 -117 527H-155L-250 639Q-256 633 -301 580L-346 527H-384Q-421 528 -421 529Q-418 532 -354 612',
    0x303: '-417 554Q-414 604 -387 640T-314 677Q-289 677 -249 649T-188 620Q-163 620 -160 665V677H-84V666Q-87 608 -118 576T-185 543Q-211 543 -251 571T-313 600Q-338 600 -341 555V543H-417V554',
    0x304: '-431 552V631H-70V552H-431',
    0x306: '-250 508Q-331 508 -379 567T-427 689V694H-351V685Q-348 649 -321 620T-250 591Q-206 591 -180 619T-150 685V694H-74V689Q-74 624 -122 566T-250 508',
    0x307: '-302 576V680H-198V576H-302',
    0x308: '-397 582V680H-299V582H-397ZM-202 582V680H-104V582H-202',
    0x30A: '-319 611Q-319 649 -285 671T-211 694Q-164 694 -132 671T-99 611Q-99 572 -133 550T-209 527T-285 549T-319 611ZM-155 610Q-155 635 -171 643T-215 651Q-263 651 -263 610Q-263 570 -211 570H-209H-207Q-155 570 -155 610',
    0x30B: '-250 693Q-317 544 -323 527H-399L-343 694H-296Q-250 694 -250 693ZM-84 693Q-151 544 -157 527H-233L-177 694H-130Q-84 694 -84 693',
    0x30C: '-421 652Q-422 653 -419 654Q-415 654 -384 654H-346L-301 601Q-287 585 -275 571T-258 551T-250 542L-155 654H-117Q-80 653 -80 652Q-83 649 -147 569L-213 487H-288L-354 569Q-418 649 -421 652',
    0x391: '183 181Q183 179 152 91T118 0H28L154 346L280 693Q281 694 333 694H385L511 349Q636 4 638 2Q638 0 584 0H530L464 183H184L183 181ZM324 606Q319 578 292 492T238 332T210 256Q210 254 324 254T438 255L429 281L419 308Q409 336 395 378T365 465T339 551T324 611V606',
    0x392: '425 363Q438 363 465 353T526 324T585 270T610 192Q610 132 561 78T426 7Q404 2 387 2T240 0H90V694H227Q373 693 396 689Q484 673 533 623T583 517Q583 494 574 473T551 437T520 409T487 388T456 374T433 366L425 363ZM490 516Q490 527 485 539T467 568T423 599T347 621Q340 622 262 623H188V399H261H286Q432 399 478 475Q490 496 490 516ZM514 190Q514 245 462 280T343 322Q336 323 259 323H188V71H274Q365 72 388 77Q445 88 479 121T514 190',
    0x393: '87 0V691H499V611H345L191 612V0H87',
    0x394: '203 348L362 694H470L629 348Q789 2 790 1Q790 0 416 0T42 1Q43 2 203 348ZM630 98Q630 100 584 198T481 422T407 603L405 610L403 600Q388 544 191 122L180 99L405 98H630',
    0x395: '86 0V691H541V611H366L190 612V397H513V321H190V85H372L554 86V0H86',
    0x396: '69 617V694H555V643L373 362Q190 81 190 79H234Q244 79 272 79T344 80T419 81H560V0H55V53L237 334Q420 615 420 617Q413 618 387 618Q380 618 334 618T245 617H69',
    0x397: '86 0V694H190V399H517V694H621V0H517V323H190V0H86',
    0x398: '56 344Q56 430 86 502T164 619T271 690T388 716Q448 716 506 691T613 619T692 501T722 344Q722 188 624 84T389 -21Q252 -21 154 83T56 344ZM624 345Q624 423 597 488T513 596T380 639Q343 639 305 621T232 568T175 475T153 344Q153 216 222 136T388 56Q487 56 555 138T624 345ZM209 299V397H568V299H209',
    0x399: '87 0V694H191V0H87',
    0x39A: '88 0V694H188V519L189 343L525 694H638L375 419L651 0H541L309 351L188 225V0H88',
    0x39B: '294 606Q294 574 252 430T163 144T117 0H72Q28 0 28 1T141 348L254 694H357L469 348Q582 2 582 1T527 0L473 1L469 11Q469 13 427 141T343 411T296 599L294 610V606',
    0x39C: '92 0V694H228L233 680Q236 675 284 547T382 275T436 106Q446 149 497 292T594 558L640 680L645 694H782V0H689V305L688 606Q688 577 500 78L479 23H392L364 96Q364 97 342 156T296 280T246 418T203 544T186 609V588Q185 568 185 517T185 427T185 305V0H92',
    0x39D: '88 0V694H235L252 659Q261 639 364 428T526 84V694H619V0H472L455 35Q453 39 330 294T185 601L181 611V0H88',
    0x39E: '47 600V688H619V600H47ZM111 314V401H555V314H111ZM42 0V88H624V0H42',
    0x39F: '55 345Q55 504 149 609T361 715Q386 715 406 713Q521 696 600 592T680 344Q680 193 590 86T368 -22Q239 -22 147 84T55 345ZM276 59T368 59T518 146T576 360Q576 473 525 545T401 634Q371 637 362 637Q284 637 222 562T159 360T217 147',
    0x3A0: '86 0V691H621V0H517V615H190V0H86',
    0x3A1: '88 0V694H230Q347 693 370 692T410 686Q487 667 535 611T583 485Q583 409 527 348T379 276Q369 274 279 274H192V0H88ZM486 485Q486 523 471 551T432 593T391 612T357 621Q350 622 268 623H189V347H268Q350 348 357 349Q370 351 383 354T416 368T450 391T475 429T486 485',
    0x3A3: '55 0Q56 3 171 167T288 332Q288 334 172 474L55 615V694H666V614H428L190 615L412 347L322 218Q236 97 228 84L447 85H666V0H55',
    0x3A4: '36 608V688H644V608H518L392 609V0H288V609L162 608H36',
    0x3A5: '55 565Q59 625 105 670T219 716H222Q310 716 353 627Q376 583 386 524L389 510L393 532Q397 555 407 584T433 644T482 695T557 716Q621 716 669 673T722 565V555H629V563Q627 592 607 615T557 638Q530 638 511 629T479 598T459 553T447 488T442 411T441 319V202V0H337V202Q337 453 331 497Q313 634 226 638Q185 638 167 612T148 563V555H55V565',
    0x3A6: '666 347Q666 326 661 302T638 247T594 190T520 140T413 107H410V0H312V54Q312 107 311 107Q286 107 229 128T125 192Q55 260 55 347Q55 396 77 438T131 507T200 552T265 579T311 587Q312 587 312 641V694H410V587H413Q476 576 524 552T598 502T640 444T661 390T666 347ZM310 510Q305 510 291 507T252 492T208 464T172 416T157 347T171 279T204 233T247 205T286 190T310 184H312V347Q312 510 310 510ZM564 347Q564 385 549 416T514 463T470 491T433 505T414 509L410 510V184Q413 184 426 187T464 200T510 227T548 275T564 347',
    0x3A7: '14 0Q16 5 144 184T275 367L153 528Q121 571 88 615T42 674T28 694H150L228 584Q315 463 316 461L326 448L497 694H610L609 692Q606 689 492 528Q440 454 409 410T378 366Q378 365 515 182L652 0H531L326 292Q326 293 299 254T226 146L128 0H14',
    0x3A8: '340 187V694H438V187Q481 206 495 219Q518 239 533 267T553 332T560 386T562 435Q562 576 593 608Q608 621 637 621H670H722V545H719Q718 545 715 545T710 544Q679 536 666 487Q664 474 662 429T654 344T633 259T580 175T486 119Q450 109 438 108V0H340V108L326 110Q122 149 117 415Q116 460 111 487Q98 536 67 544Q65 544 62 544T58 545H55V621H107Q160 621 163 620Q191 613 202 573Q213 536 213 473T220 351T256 249Q262 239 270 230T285 216T301 205T316 197T329 192T340 187',
    0x3A9: '55 462Q55 561 141 638T359 716Q492 716 579 640T666 462Q666 407 642 347T579 222T529 126Q515 91 515 86Q517 85 528 85Q530 85 552 85T596 86H677V0H425V14Q429 79 465 168L492 228Q494 232 504 254T516 283T527 310T539 340T548 368T556 399T560 428T562 460Q562 531 510 585T361 639Q263 639 211 585T159 460Q159 422 170 378T192 309T229 228L256 168Q292 79 296 14V0H44V86H125Q146 86 168 86T193 85L206 86Q206 103 183 148T131 241T79 352T55 462',
    0x2013: '0 236V312H499V236H0',
    0x2014: '0 236V312H999V236H0',
    0x2015: '0 236V312H999V236H0',
    0x2017: '0 -114V-38H499V-114H0',
    0x2018: '90 568L140 694H189L174 633Q159 572 158 571Q158 569 173 569H188V471H90V568',
    0x2019: '90 596V694H188V597L139 471H89L104 532Q119 593 120 594Q120 596 105 596H90',
    0x201C: '174 568L224 694H273L258 633Q243 572 242 571Q242 569 257 569H272V471H174V568ZM368 568L418 694H467L452 633Q437 572 436 571Q436 569 451 569H466V471H368V568',
    0x201D: '33 596V694H131V597L82 471H32L47 532Q62 593 63 594Q63 596 48 596H33ZM227 596V694H325V597L276 471H226L241 532Q256 593 257 594Q257 596 242 596H227',
    0x2044: '423 750Q432 750 438 744T444 730Q444 725 271 248T92 -240Q85 -250 75 -250Q68 -250 62 -245T56 -231Q56 -221 230 257T407 740Q411 750 423 750',
    0x2206: '203 348L362 694H470L629 348Q789 2 790 1Q790 0 416 0T42 1Q43 2 203 348ZM630 98Q630 100 584 198T481 422T407 603L405 610L403 600Q388 544 191 122L180 99L405 98H630',
},{
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2205">

export {scriptBold} from '../../../common/fonts/tex/script-bold.js';
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2206">

export {script} from '../../../common/fonts/tex/script.js';
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2207">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {smallop as font} from '../../../common/fonts/tex/smallop.js';

export const smallop: SVGCharMap = AddPaths(font, {
    0x28: '152 251Q152 646 388 850H416Q422 844 422 841Q422 837 403 816T357 753T302 649T255 482T236 250Q236 124 255 19T301 -147T356 -251T403 -315T422 -340Q422 -343 416 -349H388Q359 -325 332 -296T271 -213T212 -97T170 56T152 251',
    0x29: '305 251Q305 -145 69 -349H56Q43 -349 39 -347T35 -338Q37 -333 60 -307T108 -239T160 -136T204 27T221 250T204 473T160 636T108 740T60 807T35 839Q35 850 50 850H56H69Q197 743 256 566Q305 425 305 251',
    0x2F: '481 838Q489 850 500 850Q508 850 515 844T522 827Q521 824 311 248T96 -337Q90 -349 77 -349Q68 -349 62 -343T55 -326Q56 -323 266 253T481 838',
    0x5B: '202 -349V850H394V810H242V-309H394V-349H202',
    0x5C: '522 -326Q522 -337 515 -343T500 -349Q487 -349 481 -337Q477 -328 267 248T55 827Q54 835 60 842T76 850Q89 850 96 838Q100 829 310 253T522 -326',
    0x5D: '22 810V850H214V-349H22V-309H174V810H22',
    0x7B: '477 -343L471 -349H458Q432 -349 367 -325T273 -263Q258 -245 250 -212L249 -51Q249 -27 249 12Q248 118 244 128Q243 129 243 130Q220 189 121 228Q109 232 107 235T105 250Q105 256 105 257T105 261T107 265T111 268T118 272T128 276T142 283T162 291Q224 324 243 371Q243 372 244 373Q248 384 249 469Q249 475 249 489Q249 528 249 552L250 714Q253 728 256 736T271 761T299 789T347 816T422 843Q440 849 441 849H443Q445 849 447 849T452 850T457 850H471L477 844V830Q477 820 476 817T470 811T459 807T437 801T404 785Q353 760 338 724Q333 710 333 550Q333 526 333 492T334 447Q334 393 327 368T295 318Q257 280 181 255L169 251L184 245Q318 198 332 112Q333 106 333 -49Q333 -209 338 -223Q351 -255 391 -277T469 -309Q477 -311 477 -329V-343',
    0x7D: '110 849L115 850Q120 850 125 850Q151 850 215 826T309 764Q324 747 332 714L333 552Q333 528 333 489Q334 383 338 373Q339 372 339 371Q353 336 391 310T469 271Q477 268 477 251Q477 241 476 237T472 232T456 225T428 214Q357 179 339 130Q339 129 338 128Q334 117 333 32Q333 26 333 12Q333 -27 333 -51L332 -212Q328 -228 323 -240T302 -271T255 -307T175 -338Q139 -349 125 -349T108 -346T105 -329Q105 -314 107 -312T130 -304Q233 -271 248 -209Q249 -203 249 -49V57Q249 106 253 125T273 167Q307 213 398 245L413 251L401 255Q265 300 250 389Q249 395 249 550Q249 710 244 724Q224 774 112 811Q105 813 105 830Q105 845 110 849',
    0x2C6: '279 669Q273 669 142 610T9 551L0 569Q-8 585 -8 587Q-8 588 -7 588L12 598Q30 608 66 628T136 666L277 744L564 587L555 569Q549 556 547 554T544 552Q539 555 410 612T279 669',
    0x2DC: '374 597Q337 597 269 627T160 658Q101 658 34 606L24 597L12 611Q1 624 1 626Q1 627 27 648T55 671Q120 722 182 722Q219 722 286 692T395 661Q454 661 521 713L531 722L543 708Q554 695 554 693Q554 692 528 671T500 648Q434 597 374 597',
    0x302: '-277 669Q-283 669 -414 610T-547 551L-556 569Q-564 585 -564 587Q-564 588 -563 588L-544 598Q-526 608 -490 628T-420 666L-279 744L8 587L-1 569Q-7 556 -9 554T-12 552Q-17 555 -146 612T-277 669',
    0x303: '-182 597Q-219 597 -287 627T-396 658Q-455 658 -522 606L-532 597L-544 611Q-555 624 -555 626Q-555 627 -529 648T-501 671Q-436 722 -374 722Q-337 722 -270 692T-161 661Q-102 661 -35 713L-25 722L-13 708Q-2 695 -2 693Q-2 692 -28 671T-56 648Q-122 597 -182 597',
    0x2016: '257 0V602H300V0H257ZM478 0V602H521V0H478',
    0x2044: '481 838Q489 850 500 850Q508 850 515 844T522 827Q521 824 311 248T96 -337Q90 -349 77 -349Q68 -349 62 -343T55 -326Q56 -323 266 253T481 838',
    0x2191: '112 421L120 424Q127 427 136 430T161 441T191 458T224 481T260 510T295 546T328 591L333 600L340 589Q380 527 431 489T555 421V377L543 381Q445 418 368 492L355 504V0H312V504L299 492Q222 418 124 381L112 377V421',
    0x2193: '312 96V600H355V96L368 108Q445 182 543 219L555 223V179L546 176Q538 173 529 169T505 158T475 141T442 119T407 90T372 53T339 9L334 0L327 11Q287 73 236 111T112 179V223L124 219Q222 182 299 108L312 96',
    0x21D1: '142 329Q300 419 389 599Q389 598 399 579T420 541T452 494T497 438T558 383T636 329T708 294L721 289V246Q718 246 694 256T623 293T532 356L522 364L521 182V0H478V405L466 417Q436 450 389 516Q388 515 378 500T352 463T312 417L300 405V0H257V364L247 356Q202 320 155 293T82 256L57 246V289L70 294Q101 305 142 329',
    0x21D3: '257 236V600H300V195L312 183Q342 150 389 84Q390 85 400 100T426 137T466 183L478 195V600H521V418L522 236L532 244Q576 280 623 307T696 344L721 354V311L708 306Q677 295 636 271Q478 181 389 1Q389 2 379 21T358 59T326 106T281 162T220 217T142 271T70 306L57 311V354Q60 354 83 345T154 308T247 244L257 236',
    0x220F: '158 656Q147 684 131 694Q110 707 69 710H55V750H888V710H874Q840 708 820 698T795 678T786 656V-155Q798 -206 874 -210H888V-250H570V-210H584Q618 -208 638 -197T663 -178T673 -155V710H270V277L271 -155Q283 -206 359 -210H373V-250H55V-210H69Q103 -208 123 -197T148 -178T158 -155V656',
    0x2210: '158 656Q147 684 131 694Q110 707 69 710H55V750H373V710H359Q325 708 305 698T280 678T271 656L270 223V-210H673V656Q666 672 663 679T639 697T584 710H570V750H888V710H874Q840 708 820 698T795 678T786 656V-155Q798 -206 874 -210H888V-250H55V-210H69Q103 -208 123 -197T148 -178T158 -155V656',
    0x2211: '61 748Q64 750 489 750H913L954 640Q965 609 976 579T993 533T999 516H979L959 517Q936 579 886 621T777 682Q724 700 655 705T436 710H319Q183 710 183 709Q186 706 348 484T511 259Q517 250 513 244L490 216Q466 188 420 134T330 27L149 -187Q149 -188 362 -188Q388 -188 436 -188T506 -189Q679 -189 778 -162T936 -43Q946 -27 959 6H999L913 -249L489 -250Q65 -250 62 -248Q56 -246 56 -239Q56 -234 118 -161Q186 -81 245 -11L428 206Q428 207 242 462L57 717L56 728Q56 744 61 748',
    0x221A: '263 249Q264 249 315 130T417 -108T470 -228L725 302Q981 837 982 839Q989 850 1001 850Q1008 850 1013 844T1020 832V826L741 243Q645 43 540 -176Q479 -303 469 -324T453 -348Q449 -350 436 -350L424 -349L315 -96Q206 156 205 156L171 130Q138 104 137 104L111 130L263 249',
    0x2223: '146 612Q151 627 166 627Q182 627 187 612Q188 610 188 306T187 0Q184 -15 166 -15Q149 -15 146 0V10Q146 19 146 35T146 73T146 122T145 179T145 241T145 306T145 370T145 433T145 489T146 538T146 576T146 602V612',
    0x2225: '146 612Q151 627 166 627Q182 627 187 612Q188 610 188 306T187 0Q184 -15 166 -15Q149 -15 146 0V10Q146 19 146 35T146 73T146 122T145 179T145 241T145 306T145 370T145 433T145 489T146 538T146 576T146 602V612ZM368 612Q373 627 388 627Q404 627 409 612Q410 610 410 306T409 0Q406 -15 389 -15Q371 -15 368 0V10Q368 19 368 35T368 73T368 122T367 179T367 241T367 306T367 370T367 433T367 489T368 538T368 576T368 602V612',
    0x222B: '113 -244Q113 -246 119 -251T139 -263T167 -269Q186 -269 199 -260Q220 -247 232 -218T251 -133T262 -15T276 155T297 367Q300 390 305 438T314 512T325 580T340 647T361 703T390 751T428 784T479 804Q481 804 488 804T501 805Q552 802 581 769T610 695Q610 669 594 657T561 645Q542 645 527 658T512 694Q512 705 516 714T526 729T538 737T548 742L552 743Q552 745 545 751T525 762T498 768Q475 768 460 756T434 716T418 652T407 559T398 444T387 300T369 133Q349 -38 337 -102T303 -207Q256 -306 169 -306Q119 -306 87 -272T55 -196Q55 -170 71 -158T104 -146Q123 -146 138 -159T153 -195Q153 -206 149 -215T139 -230T127 -238T117 -242L113 -244',
    0x222C: '113 -244Q113 -246 119 -251T139 -263T167 -269Q186 -269 199 -260Q220 -247 232 -218T251 -133T262 -15T276 155T297 367Q300 390 305 438T314 512T325 580T340 647T361 703T390 751T428 784T479 804Q481 804 488 804T501 805Q552 802 581 769T610 695Q610 669 594 657T561 645Q542 645 527 658T512 694Q512 705 516 714T526 729T538 737T548 742L552 743Q552 745 545 751T525 762T498 768Q475 768 460 756T434 716T418 652T407 559T398 444T387 300T369 133Q349 -38 337 -102T303 -207Q256 -306 169 -306Q119 -306 87 -272T55 -196Q55 -170 71 -158T104 -146Q123 -146 138 -159T153 -195Q153 -206 149 -215T139 -230T127 -238T117 -242L113 -244ZM460 -244Q460 -246 466 -251T486 -263T514 -269Q532 -269 546 -260Q567 -247 579 -218T598 -133T609 -15T623 155T644 367Q647 390 652 438T661 512T672 580T687 647T708 703T737 751T775 784T826 804Q828 804 835 804T848 805Q899 802 928 769T957 695Q957 669 941 657T908 645Q889 645 874 658T859 694Q859 705 863 714T873 729T885 737T895 742L899 743Q899 745 892 751T872 762T845 768Q822 768 807 756T781 716T765 652T754 559T745 444T734 300T716 133Q696 -38 684 -102T650 -207Q603 -306 516 -306Q466 -306 434 -272T402 -196Q402 -170 418 -158T451 -146Q470 -146 485 -159T500 -195Q500 -206 496 -215T486 -230T474 -238T464 -242L460 -244',
    0x222D: '113 -244Q113 -246 119 -251T139 -263T167 -269Q186 -269 199 -260Q220 -247 232 -218T251 -133T262 -15T276 155T297 367Q300 390 305 438T314 512T325 580T340 647T361 703T390 751T428 784T479 804Q481 804 488 804T501 805Q552 802 581 769T610 695Q610 669 594 657T561 645Q542 645 527 658T512 694Q512 705 516 714T526 729T538 737T548 742L552 743Q552 745 545 751T525 762T498 768Q475 768 460 756T434 716T418 652T407 559T398 444T387 300T369 133Q349 -38 337 -102T303 -207Q256 -306 169 -306Q119 -306 87 -272T55 -196Q55 -170 71 -158T104 -146Q123 -146 138 -159T153 -195Q153 -206 149 -215T139 -230T127 -238T117 -242L113 -244ZM460 -244Q460 -246 466 -251T486 -263T514 -269Q532 -269 546 -260Q567 -247 579 -218T598 -133T609 -15T623 155T644 367Q647 390 652 438T661 512T672 580T687 647T708 703T737 751T775 784T826 804Q828 804 835 804T848 805Q899 802 928 769T957 695Q957 669 941 657T908 645Q889 645 874 658T859 694Q859 705 863 714T873 729T885 737T895 742L899 743Q899 745 892 751T872 762T845 768Q822 768 807 756T781 716T765 652T754 559T745 444T734 300T716 133Q696 -38 684 -102T650 -207Q603 -306 516 -306Q466 -306 434 -272T402 -196Q402 -170 418 -158T451 -146Q470 -146 485 -159T500 -195Q500 -206 496 -215T486 -230T474 -238T464 -242L460 -244ZM807 -244Q807 -246 813 -251T833 -263T861 -269Q880 -269 893 -260Q914 -247 926 -218T945 -133T956 -15T970 155T991 367Q994 390 999 438T1008 512T1019 580T1034 647T1055 703T1084 751T1122 784T1173 804Q1175 804 1182 804T1195 805Q1246 802 1275 769T1304 695Q1304 669 1288 657T1255 645Q1236 645 1221 658T1206 694Q1206 705 1210 714T1220 729T1232 737T1242 742L1246 743Q1246 745 1239 751T1219 762T1192 768Q1169 768 1154 756T1128 716T1112 652T1101 559T1092 444T1081 300T1063 133Q1043 -38 1031 -102T997 -207Q950 -306 863 -306Q813 -306 781 -272T749 -196Q749 -170 765 -158T798 -146Q817 -146 832 -159T847 -195Q847 -206 843 -215T833 -230T821 -238T811 -242L807 -244',
    0x222E: '269 74L256 80Q244 85 227 97T191 128T161 179T148 250Q148 332 199 379T302 433L306 434L307 444Q309 456 313 495T321 553T331 607T345 664T365 712T393 756T431 785T479 804Q481 804 488 804T501 805Q552 802 581 769T610 695Q610 669 594 657T561 645Q542 645 527 658T512 694Q512 705 516 714T526 729T538 737T548 742L552 743Q552 745 545 751T525 762T498 768Q471 768 454 752T427 693T414 626T406 536Q405 530 405 527L397 425L404 422Q410 419 421 413T445 399T470 376T494 345T511 303T518 250Q518 205 502 169T460 112T410 80T364 66L360 65L359 55Q357 38 353 4T346 -43T340 -81T333 -118T326 -148T316 -179T303 -207Q256 -306 169 -306Q119 -306 87 -272T55 -196Q55 -170 71 -158T104 -146Q123 -146 138 -159T153 -195Q153 -206 149 -215T139 -230T127 -238T117 -242L113 -244Q113 -246 119 -251T139 -263T167 -269Q186 -269 199 -260Q231 -241 242 -183T266 33L269 74ZM272 122Q272 156 300 391Q300 392 299 392Q287 392 263 379T213 331T187 249Q187 211 205 180T239 137T272 116V122ZM366 107Q378 107 402 119T453 167T479 249Q479 340 394 383V377Q394 375 394 374T393 371T393 366T392 357T391 342T389 321T386 291T382 251T377 199T369 133Q366 112 366 107',
    0x22C0: '119 -249T97 -249T65 -235T55 -207Q55 -201 56 -198Q58 -190 218 268T380 729Q392 750 416 750Q438 750 451 732Q453 728 534 498T695 36L775 -194Q777 -204 777 -208Q777 -222 767 -235T735 -249Q713 -249 700 -231Q696 -225 557 177L416 579L276 177Q136 -226 132 -231Q119 -249 97 -249',
    0x22C1: '55 708Q55 729 68 739T96 750Q119 750 132 731Q136 726 276 323L416 -79L557 323Q696 725 700 731Q713 749 735 749Q756 749 766 736T777 708Q777 700 696 466T533 1T451 -232Q436 -249 416 -249Q402 -249 391 -241Q384 -236 380 -226Q368 -198 219 230Q55 697 55 708',
    0x22C2: '139 -217Q127 -241 114 -246Q106 -249 97 -249Q67 -249 57 -220Q55 -214 55 102Q55 152 55 221T54 312Q54 422 60 464T91 554Q120 612 165 654T257 714T337 741T392 749Q393 750 402 750Q414 750 422 749Q557 749 660 659T776 430Q777 422 777 102Q777 -214 775 -220Q765 -249 735 -249Q716 -249 708 -241T694 -217L692 428L690 441Q674 540 597 603T416 666H409Q388 666 364 662T294 638T212 581Q156 523 142 441L140 428L139 105V-217',
    0x22C3: '96 750Q103 750 109 748T120 744T127 737T133 730T137 723T139 718V395L140 73L142 60Q159 -43 237 -104T416 -166Q521 -166 597 -103T690 60L692 73L694 718Q708 749 735 749Q765 749 775 720Q777 714 777 398Q777 78 776 71Q766 -51 680 -140Q571 -249 416 -249H411Q261 -249 152 -140Q66 -51 56 71Q55 78 55 398Q55 714 57 720Q60 734 70 740Q80 750 96 750',
    0x2308: '202 -349V850H449V810H242V-349H202',
    0x2309: '22 810V850H269V-349H229V810H22',
    0x230A: '202 -349V850H242V-309H449V-349H202',
    0x230B: '229 -309V850H269V-349H22V-309H229',
    0x2329: '373 850Q392 850 394 832Q394 825 267 538L139 250L267 -38Q394 -325 394 -332Q392 -350 375 -350Q361 -350 356 -338Q354 -331 289 -186T161 103T97 250T160 397T289 685T356 838Q362 850 373 850',
    0x232A: '77 832Q77 837 82 843T98 850Q110 849 115 838Q117 831 182 686T310 397T374 250T311 103T182 -185T115 -338Q110 -350 96 -350Q79 -350 77 -332Q77 -325 204 -38L332 250L204 538Q77 825 77 832',
    0x23D0: '312 0V602H355V0H312',
    0x2758: '146 612Q151 627 166 627Q182 627 187 612Q188 610 188 306T187 0Q184 -15 166 -15Q149 -15 146 0V10Q146 19 146 35T146 73T146 122T145 179T145 241T145 306T145 370T145 433T145 489T146 538T146 576T146 602V612',
    0x27E8: '373 850Q392 850 394 832Q394 825 267 538L139 250L267 -38Q394 -325 394 -332Q392 -350 375 -350Q361 -350 356 -338Q354 -331 289 -186T161 103T97 250T160 397T289 685T356 838Q362 850 373 850',
    0x27E9: '77 832Q77 837 82 843T98 850Q110 849 115 838Q117 831 182 686T310 397T374 250T311 103T182 -185T115 -338Q110 -350 96 -350Q79 -350 77 -332Q77 -325 204 -38L332 250L204 538Q77 825 77 832',
    0x2A00: '555 -250Q420 -250 306 -185T124 -4T56 250Q56 453 193 595T526 749Q528 750 539 750Q554 750 562 749Q688 749 800 687T983 508T1054 250Q1054 112 987 -3T806 -184T555 -250ZM555 -165Q672 -165 767 -108T916 44T970 250Q970 418 861 532T600 664Q591 665 548 665Q446 665 353 614T200 466T140 250V243Q140 88 248 -30Q262 -46 280 -62T338 -105T434 -148T555 -165ZM478 250Q478 288 503 307T551 326Q586 326 609 305T632 250Q632 217 610 196T555 174T500 196T478 250',
    0x2A01: '555 -250Q420 -250 306 -185T124 -4T56 250Q56 453 193 595T526 749Q528 750 539 750Q554 750 562 749Q688 749 800 687T983 508T1054 250Q1054 112 987 -3T806 -184T555 -250ZM513 478Q513 664 512 664Q504 664 481 660T406 637T313 588Q281 564 255 537T211 483T181 431T161 382T150 342T144 310T141 292H513V478ZM798 588Q758 616 711 634T639 658T602 663L597 664V292H969Q969 293 967 309T960 341T949 381T930 430T900 482T856 537T798 588ZM513 -164V208H141Q142 205 144 189T149 160T158 125T173 83T196 39T229 -9Q249 -34 273 -55T318 -92T363 -119T405 -138T444 -150T475 -158T499 -162T513 -164ZM775 -103Q801 -87 823 -68T863 -30T894 10T919 49T937 88T950 123T959 154T964 180T968 198L969 208H597V-164Q599 -163 616 -161T647 -155T683 -145T728 -128T775 -103',
    0x2A02: '555 -250Q420 -250 306 -185T124 -4T56 250Q56 453 193 595T526 749Q528 750 539 750Q554 750 562 749Q688 749 800 687T983 508T1054 250Q1054 112 987 -3T806 -184T555 -250ZM600 664Q591 665 548 665Q414 665 306 583L292 573L423 441L555 310L687 441L818 573L804 583Q714 650 600 664ZM364 118L495 250L364 382L232 513L223 500Q140 391 140 250Q140 107 223 0L232 -13L364 118ZM970 250Q970 389 887 501L878 512Q878 513 861 496T812 447T746 381L615 250L746 118L878 -13L887 0Q970 109 970 250ZM687 59L555 190L423 59L292 -73L306 -83Q416 -166 555 -166T804 -83L818 -73L687 59',
    0x2A04: '96 750Q103 750 109 748T120 744T127 737T133 730T137 723T139 718V395L140 73L142 60Q159 -43 237 -104T416 -166Q521 -166 597 -103T690 60L692 73L694 718Q708 749 735 749Q765 749 775 720Q777 714 777 398Q777 78 776 71Q766 -51 680 -140Q571 -249 416 -249H411Q261 -249 152 -140Q66 -51 56 71Q55 78 55 398Q55 714 57 720Q60 734 70 740Q80 750 96 750ZM223 276Q223 282 224 287T227 296T232 302T238 308T243 313T250 316L254 319H374V376V406Q374 438 382 454T418 470Q443 467 450 453T458 410V376V319H579Q580 319 583 317T589 313T594 308T600 302T604 295T608 287T609 276Q609 253 587 241Q577 235 513 235H458V178Q458 176 458 166T459 148Q459 84 415 84Q401 84 390 93T375 117Q374 120 374 178V235H319Q317 235 307 235T290 234Q223 234 223 276',
    0x2A06: '777 -217Q766 -244 745 -249H88Q64 -242 57 -220Q55 -214 55 250T57 720Q60 734 70 740Q80 750 96 750Q127 750 137 720Q139 714 139 274V-166H693V274Q693 714 695 720Q705 749 735 749Q766 749 775 719Q777 713 777 248V-217',
    0x3008: '373 850Q392 850 394 832Q394 825 267 538L139 250L267 -38Q394 -325 394 -332Q392 -350 375 -350Q361 -350 356 -338Q354 -331 289 -186T161 103T97 250T160 397T289 685T356 838Q362 850 373 850',
    0x3009: '77 832Q77 837 82 843T98 850Q110 849 115 838Q117 831 182 686T310 397T374 250T311 103T182 -185T115 -338Q110 -350 96 -350Q79 -350 77 -332Q77 -325 204 -38L332 250L204 538Q77 825 77 832',
},{
    0x2A0C: "\u222C\u222C",
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2208">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {texCalligraphicBold as font} from '../../../common/fonts/tex/tex-calligraphic-bold.js';

export const texCalligraphicBold: SVGCharMap = AddPaths(font, {
    0x41: '761 751Q784 751 784 728V711Q784 570 795 417T820 191Q844 76 865 76Q868 76 902 93T962 112H973Q989 104 989 94Q989 92 987 86Q978 47 846 -11Q812 -25 779 -26Q722 -26 708 9Q688 47 669 161H524L379 162L359 136Q286 43 234 -3T142 -49T71 -19T39 55Q39 92 60 131T103 174Q113 174 117 167T124 149T136 128T166 110Q183 105 190 105Q230 105 341 246Q401 322 453 397T531 514T582 601T611 651H640V663Q640 692 676 718T745 750Q747 750 752 750T761 751ZM658 266Q653 312 649 377T644 489T641 541V556L557 415Q500 325 448 253Q467 261 524 261H568H658V266',
    0x42: '441 83Q571 83 571 195Q571 246 538 279T466 322T386 333Q378 333 357 330T329 327Q307 327 307 345Q307 354 313 365T347 396T419 430Q546 472 581 498Q594 508 594 535Q594 574 567 589T508 604Q469 604 442 583Q390 546 342 457T265 256Q237 148 186 60Q167 29 144 13Q105 -15 68 -17H65Q40 -17 40 1Q40 7 53 29T87 100T124 210Q162 373 190 575Q188 575 174 567T138 550T98 542Q75 542 75 560Q75 588 123 618Q135 625 203 659T281 696Q299 703 316 703Q339 703 339 685Q339 656 328 583L333 588Q338 592 346 599T367 615T394 634T428 654T467 674T511 690T559 701T611 705Q651 704 681 689Q739 659 739 598Q739 507 595 427L584 421Q585 420 595 416T610 410T626 402T644 392T660 380T677 365T691 347T703 325T710 299T715 268Q717 193 665 130Q622 73 531 28T348 -17Q275 -17 225 10Q206 19 200 24T193 36Q193 57 231 86T311 119H322Q386 83 441 83',
    0x43: '243 -20Q135 -20 78 48T20 218Q20 280 39 344T98 470T193 580T324 661T488 702H490Q491 702 493 702T498 703T507 703T518 702H526Q599 702 599 631Q599 597 577 550T541 486Q523 463 490 447T431 430Q423 430 419 433Q409 437 409 450Q410 456 432 499T454 567Q454 586 446 594T415 603Q316 603 254 532Q216 487 190 421T164 284Q164 228 181 186T226 122T282 90T340 80Q377 80 405 96T449 131T492 167T553 187H555Q580 187 580 168Q580 153 551 123T476 60T367 4T243 -20',
    0x44: '107 0Q92 5 92 18Q92 33 113 53T160 86Q170 91 182 94T197 100L206 120Q248 226 273 337T304 501T309 585Q278 585 234 577T179 557Q172 550 166 532T156 509Q140 484 105 466T44 447Q20 447 20 465Q20 482 34 510T76 565Q122 608 173 632Q281 686 447 686H480H517Q692 686 784 631Q885 571 885 450Q885 339 805 239T586 75T286 1Q276 0 187 0H107ZM741 391Q741 424 731 452T694 510T613 558T481 584Q476 584 468 584T457 585L449 586V579Q441 501 425 424T391 292T357 193T330 125T319 100H324Q511 100 628 175Q688 215 714 275T741 391',
    0x45: '495 516Q485 516 478 520T470 532Q470 537 476 550T482 570Q482 589 465 596T401 603Q344 603 319 582Q295 558 295 519Q295 493 312 474T355 445T407 432T455 427Q477 427 477 409Q477 395 453 371T389 333Q380 330 345 327T279 312T223 272Q181 223 181 176Q181 131 225 107T324 83Q366 83 395 98T448 136T487 167Q517 185 547 187H551Q574 187 574 170Q574 151 535 113T421 36T271 -15Q260 -16 226 -16Q181 -16 152 -9Q104 4 71 33T37 111Q37 140 50 176T106 263T216 356Q215 357 207 362T190 374T172 392T156 419T150 456Q150 521 208 580T341 670T474 702Q475 703 499 703Q528 703 547 701T586 693T615 673T627 637Q627 584 581 550T495 516',
    0x46: '812 567Q804 567 795 570T786 579Q786 586 647 586H559L558 582Q558 575 539 510T506 407L498 384H775Q788 378 790 368Q790 328 746 298T665 268Q646 268 642 284H457L447 261Q396 150 360 94Q329 46 270 8T149 -30Q123 -30 100 -24T63 -10T37 9T22 26T17 36Q17 59 56 88T135 119Q145 119 149 117T165 104Q187 78 227 72Q232 72 234 76Q245 93 273 145T350 323T424 570L428 586H276Q265 575 239 563T190 551Q180 551 174 556T167 569Q167 580 179 597T213 634T278 668T371 685Q374 686 624 686Q863 685 888 682Q917 678 927 663Q930 658 930 650Q930 624 888 596T812 567',
    0x47: '50 279Q50 361 88 438T190 570T335 661T503 702H514Q524 703 532 703Q671 703 671 626Q671 580 614 514T495 447Q472 447 472 465Q472 477 499 511T527 562Q527 582 507 592T433 602Q351 602 302 569Q252 535 223 469T194 344Q194 266 237 217T352 168Q401 168 442 205T505 316Q515 345 551 368T622 393H625Q649 393 649 376Q649 371 635 318T612 237Q580 129 540 62T442 -49Q353 -114 264 -114Q259 -114 252 -114L246 -113Q190 -113 142 -107T81 -96Q71 -90 71 -81Q71 -57 110 -30T187 2Q196 2 236 -4T338 -14Q371 -14 377 -9Q410 24 446 113L451 127Q353 68 253 68Q157 68 104 129T50 279',
    0x48: '42 447Q20 447 20 465Q20 481 47 515T119 589T239 657T392 686Q443 686 463 664T484 616Q484 570 473 506T452 401L441 360Q441 359 550 359H660L663 370Q684 435 716 522T758 624Q771 646 806 666T870 686Q894 686 894 668Q894 667 867 597T804 416T752 218Q737 135 737 93Q737 77 746 65T778 53Q799 53 803 54T814 63Q831 86 864 103T924 120Q946 120 946 100Q945 85 931 63T888 16T806 -27T684 -48H681Q625 -48 603 -10Q593 4 593 29Q593 71 603 131T624 230L634 269Q632 269 624 266Q610 261 600 261T507 259H411L399 222Q344 62 322 21Q301 -7 268 -24T209 -41H207Q187 -41 185 -25Q185 -17 192 2T220 71T261 184Q284 256 284 258Q284 259 227 259H170Q169 259 166 261T162 264T158 266T156 271T155 277Q155 296 184 320T250 356Q259 358 286 359Q312 359 312 360Q314 372 318 385Q332 450 339 526Q339 530 339 535T340 543Q340 586 296 586Q255 586 227 576T188 553T165 523T146 497Q127 476 97 462T42 447',
    0x49: '56 499Q32 499 32 516Q32 540 64 580T165 649Q241 682 365 685Q366 685 376 685T405 685T445 686T496 686T553 686H732Q746 677 746 668Q746 646 711 620T642 587L572 586H503Q479 546 458 479T424 352T383 224T318 111L309 101L412 100H514L523 109Q567 150 618 153Q644 153 644 135Q644 132 642 124Q629 86 581 52T476 6Q454 2 433 2T216 0Q-11 0 -15 2Q-27 6 -27 18Q-27 37 2 61T59 93Q77 100 142 100H198Q255 177 299 369Q337 513 382 574L391 586H348Q261 586 176 576Q163 543 124 521T56 499',
    0x4A: '286 390Q263 390 263 407Q263 432 293 481T367 566Q511 687 724 687Q738 687 761 687T793 686H923Q937 677 937 668Q937 648 905 623T842 589Q829 587 817 586T802 585T795 583T788 578Q709 506 632 189Q622 153 615 134T588 81T537 17Q482 -39 404 -76T247 -114Q192 -114 158 -100Q53 -61 53 32Q53 59 58 73T79 102Q126 147 177 147Q200 147 200 128Q200 123 198 112T196 96Q196 47 238 17T345 -13Q362 -13 377 -9T404 0T426 16T444 34T459 55T470 76T478 97T483 116T488 132L490 141Q511 222 520 257T554 364T608 486T675 576L685 586H634H612Q532 586 484 564Q453 549 436 526T409 478T395 447Q378 424 345 407T286 390',
    0x4B: '98 542Q75 542 75 560Q75 588 123 618Q132 624 199 657T275 694Q291 703 315 703Q327 703 332 699T338 690T339 670Q339 596 323 505T283 337T237 194T198 90L181 53Q170 31 136 8T68 -17H65Q40 -17 40 0L76 92Q112 185 150 322T194 564V578L168 565Q125 542 98 542ZM834 142Q834 125 819 100T774 48T692 3T576 -16H560Q540 -16 508 6Q469 33 422 108T342 267T309 398Q309 411 310 417T320 442T347 482Q401 542 517 615T710 702Q712 702 721 702T735 703Q772 703 791 690Q819 674 819 646T792 597T733 574H722Q704 584 704 599Q706 607 700 610T672 617L660 613Q609 595 524 538T423 450V440Q423 376 488 247T604 83Q621 70 640 70Q677 70 701 82Q713 87 718 101T737 132T783 160Q792 163 807 163Q834 163 834 142',
    0x4C: '63 -17Q41 -17 41 0Q41 22 85 54Q101 68 113 92T133 141T154 219T182 315Q230 462 306 553Q345 599 391 632T478 678T543 697T582 703Q584 703 589 703T598 702Q643 702 666 676T689 613Q689 588 683 575Q674 551 632 524T552 496Q530 496 530 512Q530 517 531 525T533 538Q533 559 522 577T480 596H476Q462 596 451 588T415 544Q350 447 310 281Q284 181 261 136L255 124H285Q342 123 441 107T583 90L596 89Q603 116 647 144T729 173Q751 173 751 157Q751 118 685 60T523 -15Q514 -16 479 -16Q421 -16 320 0T171 18H155L142 10Q98 -17 63 -17',
    0x4D: '38 20Q38 59 60 99T104 139Q106 139 126 125T176 106H181Q200 106 221 139T286 281Q322 370 342 451T368 581T376 634Q384 657 420 680T487 703Q502 703 507 696T522 649Q538 589 554 537Q579 453 609 372T660 248T686 202Q687 201 739 244T830 322L1166 642Q1225 700 1230 701Q1230 701 1237 703Q1258 703 1258 667L1253 637Q1248 607 1241 558T1227 451T1214 326T1209 202Q1209 77 1232 77Q1237 77 1269 94T1326 112H1329Q1353 112 1353 94Q1353 81 1334 60Q1311 37 1248 7T1150 -24H1141H1135Q1085 -24 1074 26Q1064 75 1064 134Q1064 239 1086 426Q1087 430 1087 434L1061 410Q871 227 783 149L694 76Q653 44 647 40T631 34Q620 34 616 37T594 63Q546 125 514 198Q467 307 423 449L418 466L412 444Q376 310 306 153Q278 88 251 45T201 -18T163 -43T131 -49Q102 -48 70 -31T38 20',
    0x4E: '47 139Q81 105 122 105Q137 105 147 117Q159 134 182 199T234 381T274 610Q275 634 284 647Q297 666 327 684T389 703Q403 703 408 695T428 645Q480 490 567 298Q628 163 673 103Q674 102 674 102T675 106Q732 331 803 551Q842 674 875 725Q908 775 966 807T1081 840H1084Q1105 840 1105 803Q1105 768 1088 733T1051 689Q1045 686 1032 686Q986 683 948 663T901 624Q881 579 837 430T760 154L726 28Q725 28 725 28T723 25Q716 0 682 -24T611 -48Q600 -48 595 -45T576 -23Q522 44 480 124Q417 243 332 463L328 473L325 457Q291 293 227 124Q159 -49 72 -49Q38 -49 5 -28Q-24 -8 -24 21Q-24 58 -3 98T41 139H47',
    0x4F: '433 703Q456 703 456 685Q456 672 441 655T407 627Q402 623 378 611T328 579T276 524Q207 434 207 324Q207 222 270 153T441 84Q566 84 651 177T737 400V405Q737 496 693 549T576 603Q542 603 510 560Q490 537 472 502T442 454Q397 412 346 409Q320 409 320 427Q320 430 322 436Q331 465 360 507T433 594T542 671T677 703Q776 703 829 636T882 468Q882 369 831 277T702 122T528 21T343 -17Q214 -17 139 61T63 257Q63 336 94 409T173 534T272 625T367 684T432 703H433',
    0x50: '170 -67Q147 -67 147 -49Q147 -42 162 -8T204 99T253 254Q274 332 288 415T305 542L308 585Q277 585 234 577T179 557Q172 550 166 532T156 509Q140 484 105 466T44 447Q20 447 20 465Q20 482 34 510T76 565Q122 608 173 632Q279 686 448 686H495H537Q622 686 678 677T784 637Q846 598 846 533Q846 452 776 375T597 252T378 206H366L358 181Q341 130 316 68T282 -7Q262 -33 230 -50T170 -67ZM701 468Q701 512 661 540T570 577T461 586H448V582Q446 576 443 545T428 447T395 301L389 280Q390 280 398 284T419 295T441 303Q443 304 484 306T572 321T651 359Q701 402 701 468',
    0x51: '874 453Q874 372 836 298T750 177T638 89T543 33T486 8L483 7Q485 5 523 -7T622 -32T726 -46Q741 -46 746 -45T755 -41T762 -27Q770 -1 806 23T878 50H890Q905 42 905 33Q905 -8 838 -68T670 -145Q662 -146 628 -146Q538 -146 389 -100T164 -50Q132 -50 132 -32T162 11T227 47Q231 48 286 51T394 62T518 100T641 180Q730 271 730 387Q730 478 673 540T520 602Q410 602 337 525T264 355Q264 284 310 244T420 203Q476 203 568 222Q594 222 594 204Q594 184 565 161T508 128Q433 103 316 103Q227 103 174 157T120 290Q120 382 182 471T343 620T548 697Q578 703 601 703Q604 703 611 703T623 702Q663 702 687 696Q760 679 817 618T874 453',
    0x52: '159 0Q159 5 172 34T205 114T245 229T284 386T309 575V585H304Q303 585 295 585T282 584Q233 579 207 570T175 553T165 531T156 509Q140 484 105 466T44 447Q20 447 20 465Q20 482 34 510T76 565Q122 608 173 632Q279 686 448 686H505H582Q683 686 745 672T834 611Q842 594 842 565Q842 523 824 484T780 419T722 370T669 336T632 318L619 312L626 302Q640 279 667 227T696 172Q717 133 735 112T762 88T784 84Q824 84 872 118T957 153Q981 153 981 136Q981 114 937 78T820 13T684 -17Q646 -17 616 8T569 66T526 151T477 234Q461 256 446 265Q437 272 421 274Q400 274 400 291Q400 311 430 336T495 371Q496 371 543 374T627 392T681 436Q699 467 699 503Q699 550 644 568T471 586H449V582Q449 581 447 559T438 499T422 413T393 298T348 165Q313 73 296 45Q282 24 249 4T185 -17Q159 -17 159 0',
    0x53: '204 476Q204 525 248 577T372 666T539 703T674 683T721 612Q721 588 714 569Q704 547 669 524T601 499Q573 499 573 516Q573 521 575 527T577 543Q577 563 568 574T548 588L539 590Q490 603 444 603Q418 603 394 597T364 583Q348 567 348 533Q348 493 382 466T459 425T555 387T633 330Q662 292 662 249Q662 153 544 69T257 -16Q218 -16 208 -15Q118 1 64 46Q25 76 25 126Q25 185 82 235T203 290H207Q229 290 231 274Q231 243 180 213Q173 209 172 206T170 189T171 170T183 150T216 121Q273 83 356 83Q412 83 459 100Q493 111 507 141Q518 165 518 185Q518 208 506 228T478 262T437 288T398 306T360 320Q316 335 285 352T239 384T215 416T205 443T204 467V476',
    0x54: '61 462H59Q38 462 38 479Q38 528 109 594T289 683L304 685L837 687L846 693Q889 720 923 720Q947 720 947 702Q945 671 892 631T776 583Q774 583 772 583T769 582T766 582L764 581H758Q753 581 744 581T722 580T693 580T662 580H563L514 385Q507 355 493 299T475 225T460 172T443 119T426 76T402 24Q386 -11 355 -33T304 -61T266 -69Q242 -69 242 -50Q243 -45 253 -25T278 32T307 115L364 340Q405 511 413 538T436 580H207Q202 572 200 568T197 561T195 552T190 537Q176 511 135 487T61 462',
    0x55: '124 586Q107 586 74 569T15 552H13Q-10 552 -10 570Q-10 605 70 645T222 686Q283 686 283 631Q283 590 246 504T172 326T135 181Q135 130 157 107T205 83Q221 83 259 106Q347 165 453 301T604 548Q607 557 612 569T619 587T624 600T628 612T632 621T637 628T641 634T647 640T654 645T662 652Q706 686 748 686Q771 686 771 669Q771 656 754 614T700 467T630 229Q615 168 610 105Q610 88 617 78L641 90Q681 111 706 112Q733 112 733 95Q733 82 714 60Q694 40 633 10Q567 -23 532 -24Q507 -24 495 -17Q466 -4 466 32Q466 96 500 225Q277 -17 102 -17Q56 -17 23 17T-10 118Q-10 164 13 234T64 363T115 481T139 567Q139 586 124 586',
    0x56: '25 608Q25 628 60 657T148 686Q184 683 213 671T273 625T327 538T363 394T380 184L381 134L399 148Q503 226 574 302T667 415T689 467Q688 474 684 482T672 502T645 521T600 532Q576 532 576 567Q576 604 597 644T641 685H649Q701 685 737 648T774 545Q774 457 703 333T461 66Q397 13 332 -32T255 -77Q237 -77 237 -30V-23Q241 20 241 109Q241 483 115 569Q91 586 50 589Q25 589 25 608',
    0x57: '25 607Q25 629 62 657T142 686Q205 686 248 647T312 541T339 411T347 275Q347 249 345 203V189Q375 219 449 316T587 516Q629 584 629 587Q629 589 626 597T622 607Q622 629 658 656T732 686H744Q755 680 757 678Q757 677 769 649T799 577T835 475T874 339T904 183Q908 157 910 151L925 169Q997 252 1059 343T1121 474Q1120 498 1103 513T1059 532Q1036 532 1036 568Q1036 600 1053 636T1090 683L1097 686H1109Q1147 684 1176 652T1206 551Q1206 460 1131 320T897 7Q859 -33 840 -52T816 -74T804 -77Q788 -77 784 -32Q783 -28 783 -26Q774 108 744 239T691 436T665 501Q664 501 649 475T602 400T528 289T420 146T280 -15Q243 -56 231 -66T210 -77Q191 -77 191 -40Q191 -38 195 -4T204 91T209 217Q209 290 202 351T177 469T126 557T45 589Q25 589 25 607',
    0x58: '762 562Q762 579 737 584T711 604Q711 630 753 658T834 686Q864 686 885 669T906 627Q906 580 834 522T614 379L584 362V357Q585 354 589 315T597 233T603 183Q610 132 627 116T671 100Q678 100 704 113T754 126T778 107Q776 79 733 45T626 2Q615 1 578 1Q542 1 535 3Q521 7 510 15T491 31T477 54T467 78T460 108T456 137T452 170T449 201Q447 220 445 240T442 270L441 281Q435 281 357 233Q240 165 206 135Q200 128 200 124Q200 113 208 108T226 101T244 96T252 82Q252 61 214 31T129 1H120Q97 1 77 16T56 60Q56 105 133 168T414 345Q428 352 431 354T433 359Q422 493 414 522Q407 551 395 566T373 583T350 586H341L332 580Q290 560 265 560Q243 560 243 577Q243 585 248 596T269 624T306 653T365 676T447 686H456Q472 686 484 683T514 671T543 637T562 576Q565 557 570 501L577 437Q577 436 613 457T694 506T756 551Q762 558 762 562',
    0x59: '73 555Q49 555 49 573Q49 602 110 644T239 686Q319 686 376 624Q416 584 444 511T483 361T499 240T503 173Q503 165 504 165Q506 165 524 184T556 218Q631 297 674 377T718 485Q718 505 699 526Q673 552 628 552Q619 552 613 562T607 590Q607 617 621 645T658 685Q661 686 671 686Q718 686 757 652T797 545Q797 476 749 369T602 146Q500 29 371 -67T176 -164Q112 -164 74 -120T36 -29Q36 5 55 36T95 67Q104 67 108 59T115 39T128 12T154 -12Q183 -30 216 -30Q239 -30 305 7L361 44L367 49V54Q367 95 364 143T351 273T312 429T243 546Q206 581 156 588L146 581Q108 555 73 555',
    0x5A: '622 574Q522 579 420 579H396Q373 579 364 574T351 550Q339 516 297 490T218 462Q195 462 195 479Q195 487 197 492Q218 565 313 625T509 685Q564 685 650 683T755 680Q787 680 807 683T831 686Q853 686 853 669Q853 657 826 626Q742 532 641 437L619 415L622 414Q626 414 631 414T642 414Q697 411 697 388Q697 367 670 345T607 323Q605 323 592 325T546 329H522L490 302Q457 274 400 226T289 136L260 113L318 112Q345 111 452 109T587 106H627Q650 143 656 170Q666 197 710 225T788 253Q811 253 811 237Q811 211 781 160T710 77Q619 0 515 0Q507 0 497 0T484 1Q434 1 319 3T177 6Q123 6 95 2Q83 2 71 0H68Q46 0 46 17Q46 28 58 44Q68 56 100 80T210 165T383 307L408 329H361L314 330Q297 338 297 350Q297 368 320 388T368 413Q375 415 441 415H506L647 555L664 574H622',
    0x131: '24 296Q24 305 34 328T63 380T115 430T187 452Q205 452 223 448T262 435T295 406T308 360Q308 345 287 290T240 170T207 87Q202 67 202 57Q202 42 215 42Q235 42 257 64Q288 92 302 140Q307 156 310 159T330 162H336H347Q367 162 367 148Q367 140 357 117T329 65T276 14T201 -8Q158 -8 121 15T83 84Q83 104 133 229T184 358Q189 376 189 388Q189 402 177 402Q156 402 134 380Q103 352 89 304Q84 288 81 285T61 282H55H44Q24 282 24 296',
    0x237: '297 360T297 373T294 392T288 400T278 401H276Q237 398 200 363Q181 343 170 325T156 299T149 287T129 282H123H116Q102 282 97 284T92 298Q93 303 98 315T118 349T151 390T201 427T267 451H279Q357 451 388 422T420 354V339L370 138Q321 -60 317 -69Q287 -157 163 -194Q133 -201 99 -201Q39 -201 14 -178T-12 -125Q-12 -94 11 -69T68 -43Q93 -43 108 -57T123 -95Q123 -121 100 -151H104Q131 -151 155 -125T193 -60Q195 -54 244 141T294 345Q297 360 297 373',
},{
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2209">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {texCalligraphic as font} from '../../../common/fonts/tex/tex-calligraphic.js';

export const texCalligraphic: SVGCharMap = AddPaths(font, {
    0x41: '576 668Q576 688 606 708T660 728Q676 728 675 712V571Q675 409 688 252Q696 122 720 57Q722 53 723 50T728 46T732 43T737 41T743 39L754 45Q788 61 803 61Q819 61 819 47Q818 43 814 35Q799 15 755 -7T675 -30Q659 -30 648 -25T630 -8T621 11T614 34Q603 77 599 106T594 146T591 160V163H460L329 164L316 145Q241 35 196 -7T119 -50T59 -24T30 43Q30 75 46 100T74 125Q81 125 83 120T88 104T96 84Q118 57 151 57Q189 57 277 182Q432 400 542 625L559 659H567Q574 659 575 660T576 668ZM584 249Q579 333 577 386T575 473T574 520V581L563 560Q497 426 412 290L372 228L370 224H371L383 228L393 232H586L584 249',
    0x42: '304 342Q292 342 292 353Q292 372 323 391Q331 396 417 428T533 487Q563 512 563 555V562Q563 575 557 589T530 618T475 636Q429 636 396 613T330 539Q263 446 210 238Q196 183 173 120Q135 31 121 16Q108 1 85 -10T47 -22T32 -10Q32 -5 44 18T77 93T112 206Q135 296 154 395T182 550T191 615Q191 616 190 616Q188 616 179 611T157 601T131 594Q113 594 113 605Q113 623 144 644Q154 650 205 676T267 703Q277 705 279 705Q295 705 295 693Q295 686 288 635T278 575Q278 572 287 582Q336 635 402 669T540 704Q603 704 633 673T664 599Q664 559 638 523T580 462Q553 440 504 413L491 407L504 402Q566 381 596 338T627 244Q627 172 575 110T444 13T284 -22Q208 -22 158 28Q144 42 146 50Q150 67 178 85T230 103Q236 103 246 95T267 75T302 56T357 47Q436 47 486 93Q526 136 526 198V210Q526 228 518 249T491 292T436 330T350 345Q335 345 321 344T304 342',
    0x43: '201 -25Q167 -25 136 -14T75 23T29 94T12 202Q12 290 50 394T161 574Q227 642 303 673T433 704Q435 705 457 705Q533 701 533 640Q533 606 507 548T464 474Q431 444 396 444Q381 444 381 453Q381 459 388 473T407 513T428 563Q433 580 433 594Q433 636 381 636Q314 636 260 594T175 489T128 363T112 247Q112 157 153 101T273 44Q347 44 398 121Q413 144 437 157T481 171Q496 171 496 160Q496 150 476 123Q426 56 350 16T201 -25',
    0x44: '37 475Q19 475 19 487Q19 536 103 604T327 682H356Q386 683 408 683H419Q475 683 506 681T582 668T667 633Q766 571 766 450Q766 365 723 287T611 152T455 57T279 6Q248 1 160 0Q148 0 131 0T108 -1Q72 -1 72 11Q72 24 90 40T133 64L144 68L152 88Q247 328 272 587Q275 613 272 613Q272 613 269 613Q225 610 195 602T149 579T129 556T119 532Q118 530 116 525T113 518Q102 502 80 490T37 475ZM665 407Q665 596 412 613Q403 614 383 614Q370 614 370 612Q370 598 363 542T323 357T242 103L228 69H265Q391 73 481 119Q536 148 575 188T633 268T658 338T665 392V407',
    0x45: '144 470Q144 556 240 630T451 705Q564 705 564 637Q564 611 540 573Q529 559 505 547T464 534Q448 534 448 545Q448 552 455 562Q463 577 463 591Q463 600 462 604T456 616T436 627T400 635Q396 635 390 635T380 636Q291 636 258 568Q245 544 245 516Q245 463 290 438T391 410Q415 410 415 398Q415 392 407 380T376 356T326 341Q288 340 260 327Q218 311 187 276T143 208T130 151Q130 113 156 88T211 55T268 47Q349 47 403 125Q415 144 439 157T483 171Q499 171 499 160Q499 148 475 120T413 59T315 3T197 -22Q124 -22 77 14T30 105Q30 126 39 154T66 216T122 288T209 354L223 362Q144 400 144 470',
    0x46: '199 579Q181 579 181 590Q181 598 188 611T212 639T260 666T335 682Q336 682 349 682T383 682T431 682T493 683T561 683Q776 682 784 681Q826 673 829 647Q829 620 797 600T744 580Q728 580 728 595Q729 607 713 610Q698 613 598 614H500L499 610Q499 598 467 486T428 367Q428 365 551 365H674Q683 360 684 355Q687 346 677 329Q666 312 642 299T598 285Q586 285 582 296H402L394 277Q386 258 373 229T346 167T315 102T286 51Q265 22 225 -5T133 -32Q108 -32 87 -25T54 -7T33 15T21 35T18 47Q18 60 44 80T98 103Q108 103 111 101T119 88Q130 66 150 54T179 39T195 37Q199 37 203 43Q217 67 245 125T318 300T391 532Q393 543 398 564T406 598T409 613T339 614H269Q229 579 199 579',
    0x47: '216 68Q155 68 115 100T59 177T44 273Q44 299 50 333T73 421T133 533T239 632Q346 704 466 704Q508 704 515 703Q555 696 577 681T599 635Q599 605 570 560T523 496Q490 466 455 466Q440 466 440 475T469 526T499 589Q499 605 489 617Q460 636 403 636Q343 636 295 611T220 548T174 464T150 382T144 318Q144 241 180 189T287 137Q325 137 359 160Q428 205 466 322Q472 342 501 359T551 376Q557 376 560 373T564 368L565 365Q560 341 551 302T512 173T451 31Q359 -119 204 -119Q163 -118 127 -109T74 -91T53 -77Q52 -75 52 -71Q52 -54 79 -35T132 -14H140L151 -19Q210 -49 281 -49H289Q312 -49 329 -31Q351 -7 372 36T405 109T416 142L408 136Q401 131 392 125T369 111T338 96T303 82T261 72T216 68',
    0x48: '18 487Q18 496 29 517T67 566T127 621T216 665T330 683Q359 683 376 669T397 643T400 622Q400 584 382 488T348 343Q348 342 467 342H587L594 366Q615 440 648 534T690 641Q701 656 723 669T764 683Q783 683 783 672L750 578Q716 485 677 346T625 101Q624 92 623 82T622 65T621 56Q621 20 658 20Q666 20 701 25Q709 52 736 69T785 87Q803 87 803 75T791 44T754 3T685 -33T588 -48Q568 -48 562 -46Q522 -31 522 13V23Q531 129 562 250L569 281L565 280Q561 278 556 277T549 274L438 273H328L321 249Q307 202 275 107T232 0Q219 -16 196 -28T155 -41Q149 -41 145 -39T140 -34T139 -29Q139 -24 148 -3T181 86T233 247Q240 270 240 272Q240 273 194 273H169Q139 273 139 285Q139 295 153 308T187 332Q206 341 236 342L260 343L264 359Q278 414 289 482T300 578Q300 613 260 613H254Q198 613 169 592Q148 578 127 544T104 508Q72 478 37 475Q18 475 18 487',
    0x49: '174 0H31Q-13 0 -21 2T-30 12Q-30 23 -17 36Q9 60 42 68L155 70Q187 102 214 179T257 333T302 491T366 610L369 614H305Q221 611 188 607T145 596T128 569Q119 543 94 529T47 512Q28 512 28 524Q28 527 32 539Q56 614 159 654Q218 678 312 682Q314 682 339 682T404 682T481 683H632Q642 678 642 671Q642 657 621 641T577 617Q570 615 507 614H444Q427 592 406 542Q382 478 355 366T310 209Q280 123 238 78L230 69H330Q442 70 442 74Q443 74 443 77T447 87T460 105Q490 134 527 137Q545 137 545 125Q545 120 542 112Q531 78 491 49T399 7Q379 2 360 2T174 0',
    0x4A: '148 78Q148 16 189 -17T286 -50Q319 -50 348 -33T396 10T426 59T444 101L471 204Q498 306 521 372Q575 532 649 605L659 614H591Q517 613 494 607Q433 591 400 550T360 477Q353 454 325 437T275 419Q256 419 260 435Q280 523 376 597T583 681Q603 683 713 683H830Q839 674 839 671Q839 654 810 634T754 614Q735 614 721 601Q688 571 654 495T600 351T561 209T541 132Q507 29 412 -45T213 -119Q141 -119 94 -77T47 33Q47 55 50 69T58 90T71 103Q105 131 135 131Q152 131 152 120Q152 119 151 114T149 99T148 78',
    0x4B: '194 618Q193 618 182 613T156 601T131 594Q113 594 113 605Q113 623 144 644Q154 650 205 676T267 703Q277 705 279 705Q295 705 295 691Q295 569 250 397Q225 306 197 217T151 81T128 25Q120 8 94 -7T47 -22Q32 -22 32 -10L64 76Q95 163 133 295T185 530Q198 611 194 618ZM331 429Q331 383 364 290T449 117T542 36Q574 36 607 51T652 103Q660 124 677 133T709 143Q727 143 727 128Q727 119 723 111Q704 56 639 17T497 -22H493Q463 -22 425 16Q401 40 382 71Q335 138 296 243T256 399Q256 434 288 473Q342 540 471 622T670 705Q691 704 703 696Q732 678 732 644Q732 613 714 600T677 586Q671 586 667 587T660 592T657 604V619Q657 647 629 647Q623 647 620 646Q576 635 495 583T365 482Q331 448 331 429',
    0x4C: '62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11',
    0x4D: '28 9Q28 37 43 63T73 90Q77 90 83 84T103 70T141 57H146Q162 57 178 79T222 167Q266 279 295 371T334 513T349 598T358 651T371 677Q397 705 432 705Q442 705 445 699T452 666Q453 661 453 659Q475 538 509 405T568 207L574 192Q581 178 587 164T594 150Q596 150 635 189T693 248Q765 324 863 438T1024 626T1089 701Q1093 705 1100 705Q1111 705 1111 682Q1111 675 1108 660T1099 611T1086 540Q1041 277 1041 144Q1041 98 1044 75T1050 48T1059 42Q1064 41 1075 46Q1102 61 1121 61Q1137 61 1137 50Q1137 28 1087 0T1000 -29Q983 -29 972 -23T955 -9T945 16T942 45T941 83V96Q941 158 952 256T974 422L985 489Q984 489 939 436T821 300T698 164Q665 128 620 85T568 37Q564 34 558 34Q550 34 546 37T535 54Q512 91 496 127T450 259T389 498L384 518Q349 367 294 223T198 15Q155 -50 117 -50Q87 -50 61 -35T30 -6Q28 2 28 9',
    0x4E: '343 705Q358 705 358 698Q360 696 370 658T411 524T484 319Q536 174 590 82L595 73L615 152Q646 274 683 407Q729 571 752 637T799 727Q852 780 937 788Q939 788 947 788T958 789H962Q979 789 979 765Q979 722 951 692Q942 683 924 683Q888 681 859 672T818 654T803 639Q784 608 708 322T631 15Q631 14 630 15Q630 17 629 15Q628 14 628 12Q621 -4 601 -17T560 -31Q550 -31 546 -28T530 -7Q484 67 458 123T398 272Q352 392 314 514L306 535V534Q306 533 296 488T272 379T234 239T185 100T127 -7T61 -50Q34 -50 4 -34T-27 8Q-27 33 -12 61T18 90Q21 90 36 77T87 57H92Q109 57 123 78T162 173Q206 299 232 417T265 599T276 667Q284 681 304 693T343 705',
    0x4F: '308 428Q289 428 289 438Q289 457 318 508T378 593Q417 638 475 671T599 705Q688 705 732 643T777 483Q777 380 733 285T620 123T464 18T293 -22Q188 -22 123 51T58 245Q58 327 87 403T159 533T249 626T333 685T388 705Q404 705 404 693Q404 674 363 649Q333 632 304 606T239 537T181 429T158 290Q158 179 214 114T364 48Q489 48 583 165T677 438Q677 473 670 505T648 568T601 617T528 636Q518 636 513 635Q486 629 460 600T419 544T392 490Q383 470 372 459Q341 430 308 428',
    0x50: '37 475Q19 475 19 487Q19 536 103 604T327 682Q329 682 344 682T380 682T421 683H463Q625 683 695 615Q718 591 726 564Q733 547 733 525Q733 412 607 312T321 205H312Q293 205 293 217Q293 224 302 236T333 260T385 274Q558 287 614 407Q633 445 633 477Q633 515 612 543T556 585T481 607T399 614H370L368 603Q352 463 312 312T242 82T202 -13Q190 -33 164 -45T121 -57Q108 -57 108 -45Q108 -40 120 -10T151 73T192 190T233 349T266 539Q267 546 269 565T272 598T274 613H270Q209 613 163 588Q131 572 113 518Q102 502 80 490T37 475',
    0x51: '114 286Q114 358 151 433T249 569T392 667T558 705Q653 705 713 641T774 460Q774 389 750 322T687 206T600 114T504 46T412 4L399 -2Q542 -62 636 -62Q660 -62 670 -54T686 -27T700 0Q734 34 770 34Q787 34 787 23Q787 -18 720 -74T563 -131Q485 -131 350 -83T145 -34Q127 -34 127 -22Q127 -12 144 5T190 31L200 34L237 35Q386 38 467 79Q550 120 612 210T675 416Q675 510 625 573T484 636Q410 636 346 587T248 469T214 333Q214 306 221 281T243 229T288 188T360 172Q403 172 441 188T490 205Q510 205 510 192Q505 162 432 132T287 102Q206 102 160 155T114 286',
    0x52: '37 475Q19 475 19 487Q19 503 35 530T83 589T180 647T327 682H374Q387 682 417 682T464 683Q519 683 559 679T642 663T708 625T731 557Q731 481 668 411T504 300Q506 296 512 286T528 257T553 202Q594 105 611 82Q635 47 665 47Q708 47 742 93Q758 113 786 128Q804 136 819 137Q837 137 837 125Q837 115 818 92T767 43T687 -2T589 -22Q549 -22 517 22T467 120T422 221T362 273Q346 273 346 287Q348 301 373 320T436 342Q437 342 446 343T462 345T481 348T504 353T527 362T553 375T577 393Q598 412 614 443T630 511Q630 545 613 566T541 600T393 614Q370 614 370 613L366 584Q349 446 311 307T243 96L213 25Q205 8 179 -7T132 -22Q125 -22 120 -18T117 -8Q117 -5 130 26T163 113T205 239T246 408T274 606V614Q273 614 259 613T231 609T198 602T163 588Q131 572 113 518Q102 502 80 490T37 475',
    0x53: '554 512Q536 512 536 522Q536 525 539 539T542 564Q542 588 528 604Q515 616 482 625T410 635Q374 635 349 624T312 594T295 561T290 532Q290 505 303 482T342 442T378 419T409 404Q435 391 451 383T494 357T535 323T562 282T574 231Q574 133 464 56T220 -22Q138 -22 78 21T18 123Q18 184 61 227T156 274Q178 274 178 263Q178 260 177 258Q172 247 164 239T151 227T136 218L127 213L124 202Q118 186 118 163Q120 124 165 86T292 48Q374 48 423 86T473 186V193Q473 267 347 327Q268 364 239 389Q191 431 191 486Q191 547 242 600T356 679T470 705Q472 705 478 705T489 704Q551 704 596 682T642 610Q642 566 621 545Q592 516 554 512',
    0x54: '49 475Q34 475 34 490Q34 552 106 611T261 681Q272 683 507 683H742Q790 717 816 717Q833 717 833 708Q833 682 795 653T714 615Q691 610 588 609Q490 609 490 607L483 580Q476 554 462 496T435 392Q410 289 395 231T363 116T335 34T309 -15T279 -47T242 -64Q231 -68 218 -68Q203 -68 203 -57Q203 -52 211 -38Q224 -7 234 20T251 66T268 123T283 179T304 261T328 360Q342 415 360 488Q380 567 384 582T397 605Q400 607 401 609H302H244Q200 609 188 607T167 596Q145 572 145 541Q145 520 109 498T49 475',
    0x55: '8 592Q8 616 70 649T193 683Q246 683 246 631Q246 587 205 492T124 297T83 143Q83 101 100 75T154 48Q202 48 287 135T450 342T560 553Q589 635 593 640Q603 656 626 668T669 683H670Q687 683 687 672T670 616T617 463T547 220Q525 137 521 68Q521 54 522 50T533 42L543 47Q573 61 588 61Q604 61 604 47Q599 16 506 -22Q486 -28 468 -28T436 -18T421 18Q421 92 468 258Q468 259 467 257T459 248Q426 206 391 167T303 81T194 6T83 -22Q66 -22 58 -20Q25 -11 4 19T-17 99Q-17 146 8 220T64 358T120 488T146 586Q146 604 141 608T123 613H120Q99 613 72 597T25 580Q8 580 8 592',
    0x56: '25 633Q25 647 47 665T100 683Q291 683 291 306Q291 264 288 213T282 132L279 102Q281 102 308 126T378 191T464 279T545 381T596 479Q600 490 600 502Q600 527 581 550T523 577Q505 577 505 601Q505 622 516 647T542 681Q546 683 558 683Q605 679 631 645T658 559Q658 423 487 215Q409 126 308 37T190 -52Q177 -52 177 -28Q177 -26 183 15T196 127T203 270Q203 356 192 421T165 523T126 583T83 613T41 620Q25 620 25 633',
    0x57: '25 633Q25 647 46 665T103 683Q168 683 207 632Q228 608 243 568Q269 485 269 374Q269 324 265 271T256 184L251 150L252 152Q254 153 257 157T264 167T274 180T286 197Q359 293 424 398T519 558T549 616Q549 618 547 624T545 638Q550 654 572 668T615 683Q626 683 632 672T657 595Q726 370 741 128L742 110Q752 122 767 142T823 217T894 321T950 424T976 511Q976 544 958 560T918 577Q906 577 906 602Q906 629 918 651T942 681Q948 683 954 683Q983 683 1008 658T1034 569T999 421T915 257T813 109T724 -3T681 -49Q666 -59 660 -45Q659 -41 657 35T639 233T591 477Q573 551 570 551Q569 551 554 523T507 439T433 315T323 155T182 -25Q160 -52 151 -53Q137 -53 137 -30Q137 -29 148 25T170 168T181 338Q181 424 168 483T131 571T87 609T40 620Q25 620 25 633',
    0x58: '324 614Q291 576 250 573Q231 573 231 584Q231 589 232 592Q235 601 244 614T271 643T324 671T400 683H403Q462 683 481 610Q485 594 490 545T498 454L501 413Q504 413 551 442T648 509T705 561Q707 565 707 578Q707 610 682 614Q667 614 667 626Q667 641 695 662T755 683Q765 683 775 680T796 662T807 623Q807 596 792 572T713 499T530 376L505 361V356Q508 346 511 278T524 148T557 75Q569 69 580 69Q585 69 593 77Q624 108 660 110Q667 110 670 110T676 106T678 94Q668 59 624 30T510 0Q487 0 471 9T445 32T430 71T422 117T417 173Q416 183 416 188Q413 214 411 244T407 286T405 299Q403 299 344 263T223 182T154 122Q152 118 152 105Q152 69 180 69Q183 69 187 66T191 60L192 58V56Q192 41 163 21T105 0Q94 0 84 3T63 21T52 60Q52 77 56 90T85 131T155 191Q197 223 259 263T362 327T402 352L391 489Q391 492 390 505T387 526T384 547T379 568T372 586T361 602T348 611Q346 612 341 613T333 614H324',
    0x59: '65 599Q65 618 107 650T204 683Q267 683 312 643T380 533T414 385T424 217Q424 186 423 160T422 123Q426 123 468 170T567 304T650 469Q661 503 661 519Q661 546 639 570Q615 591 583 591Q569 591 569 616Q569 640 582 661T613 683Q624 683 638 679T671 664T702 625T714 558Q714 472 639 329T426 45Q361 -21 282 -82T154 -143Q97 -143 64 -104T31 -20Q31 4 44 25T70 46Q78 46 81 39T87 16T97 -9Q127 -51 182 -51Q184 -51 187 -50H190Q233 -41 314 25Q330 36 330 40Q336 79 336 178Q336 508 223 594Q199 614 158 619L148 620L139 611Q111 586 83 586Q65 586 65 599',
    0x5A: '694 220Q708 220 708 210Q708 195 695 167T658 105T593 42T502 3Q492 1 458 1Q400 1 293 11T150 22Q116 22 92 11T51 0Q37 0 37 10Q37 21 63 44T179 146T367 319L391 343H343L296 344Q285 350 285 358Q285 365 289 372T300 383T313 392T324 398L329 400H450L561 518Q597 558 607 571L621 587H596Q553 589 484 599T383 609Q342 609 326 596T301 555Q294 533 263 514T208 492Q189 492 189 503Q189 510 197 528T215 559Q249 607 318 645T466 683Q504 683 573 673T669 662L690 661Q734 682 748 683Q767 683 767 673Q767 666 746 640Q655 531 555 428L529 400Q529 399 543 399Q604 397 604 366Q604 350 587 337T551 322Q541 322 539 323Q529 328 529 334Q529 339 487 342L470 343L446 320Q272 153 200 96L235 95Q297 95 392 86T533 74H554Q586 116 597 159Q604 179 635 199T694 220',
},{
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.221">
import '../startup/lib/startup.js';
import './preload.js';
import '../core/core.js';
import '../input/tex/tex.js';
import '../input/mml/mml.js';
import '../output/svg/svg.js';
import '../output/svg/fonts/tex/tex.js';
import '../ui/menu/menu.js';
import '../a11y/assistive-mml/assistive-mml.js';
import '../startup/startup.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2210">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {texMathit as font} from '../../../common/fonts/tex/tex-mathit.js';

export const texMathit: SVGCharMap = AddPaths(font, {
    0x41: '85 46Q112 48 132 56T161 73T176 92T185 104Q185 106 353 407T524 709Q527 716 551 716Q568 716 572 712Q573 711 574 710Q576 708 594 384Q613 54 617 52H618Q626 46 672 46H689Q696 41 696 36Q696 13 683 0H670Q639 2 557 2Q526 2 500 2T459 2T441 1Q425 1 425 10Q425 12 427 24Q428 27 429 31T430 36T432 40T434 43T437 45T443 46T450 46Q514 46 514 69Q514 74 511 136L506 209H292L260 152Q222 84 222 74Q222 48 264 46Q280 46 280 35Q280 33 278 21Q275 7 272 4T259 0Q256 0 232 1T159 2Q135 2 109 1T78 0Q58 0 58 10Q58 14 61 26T66 40Q68 46 85 46ZM504 260Q503 263 496 407T486 553L466 520Q446 486 402 406L318 256Q318 255 411 255H504V260',
    0x42: '57 11Q57 38 69 45L74 46Q78 46 85 46T99 46Q134 47 145 50T162 62Q164 66 233 344T303 626Q303 627 302 629V631Q296 637 241 637H223Q217 642 217 645T219 664Q223 677 229 683H411L593 682L605 680Q616 678 628 675T660 662T694 639T720 601T732 547Q732 519 726 503Q710 452 662 414T556 360L545 357L556 355Q604 346 641 312T678 221Q678 155 622 92T482 8Q459 2 439 2T256 0H154H105Q74 0 66 2T57 11ZM629 549Q628 550 629 557T627 576T619 600T601 622T570 636Q564 637 490 637Q472 637 454 637T424 636T411 636Q399 635 395 622T364 500Q333 377 332 376Q332 374 408 374L485 375L495 377Q547 390 588 437T629 549ZM504 336Q500 337 410 337Q323 337 322 336Q322 334 305 263T270 122T252 51Q252 47 337 46Q346 46 361 46T384 45Q425 45 455 55T515 95Q574 156 574 235Q574 276 555 304T504 336',
    0x43: '395 -21Q279 -21 215 56T150 244Q150 402 265 543Q339 630 421 667T562 704Q596 704 604 703Q627 698 647 689T679 669T699 649T711 633T716 627L753 665Q790 704 792 704Q793 705 798 705Q812 705 812 698Q812 694 780 561Q744 422 744 421Q742 416 739 415T721 413H705Q699 419 699 426Q701 432 701 444Q705 464 705 493Q705 524 700 551T681 604T643 644T583 659Q480 659 387 570Q321 502 287 397T252 213Q252 123 297 74Q347 24 421 24Q500 24 564 89T653 240Q656 253 659 255T677 257Q700 257 700 248Q700 242 694 222Q681 183 656 143T593 65T504 3T395 -21',
    0x44: '56 11Q56 38 68 45L72 46Q77 46 84 46T98 46Q133 47 144 50T161 62Q163 66 232 344T302 626Q302 627 302 629L301 631Q295 637 240 637H222Q216 642 216 645T218 664Q222 677 228 683H403Q582 683 589 682Q672 674 723 608T775 440Q775 312 709 209T562 54Q502 14 432 2Q423 1 243 0H148H102Q72 0 64 2T56 11ZM254 51Q254 46 348 46Q395 46 422 50T484 71Q585 121 633 255Q679 396 679 477Q679 522 665 554T629 603T587 626T548 636Q547 636 536 636T510 636T480 637Q420 637 411 636T398 627Q396 623 325 339T254 51',
    0x45: '248 634Q216 634 214 638Q213 641 213 646Q213 674 224 678Q226 680 481 680H736Q743 676 743 669Q743 665 729 557T713 447Q711 440 690 440H675Q667 445 667 454Q667 455 671 481T675 536Q675 583 658 604T592 632Q574 634 475 634Q439 634 424 633T405 631T399 625Q397 622 367 501T336 377Q336 376 367 376H388Q451 376 477 389Q493 399 503 419T520 462T528 489Q531 493 549 493Q557 493 561 492T566 491T569 488T572 483L539 351Q507 221 503 216Q503 216 500 213H484Q468 213 465 216Q461 219 461 225Q461 228 466 250T472 290Q472 317 452 323T368 330H324Q323 326 289 191T255 51T331 46H360Q413 46 444 49T511 67T570 113Q589 137 608 175T638 242T652 272Q656 274 670 274Q693 274 693 262L648 148Q590 4 588 2Q585 0 323 0H61Q54 4 54 11Q54 27 61 41Q65 46 95 46Q131 47 142 50T159 62L194 200Q229 337 264 477T299 623Q299 630 292 631T248 634',
    0x46: '299 623Q299 630 292 631T247 634H219Q213 640 213 642T215 661Q218 673 225 680H724Q731 676 731 669Q731 665 717 557T701 447Q699 440 678 440H663Q656 444 656 452Q656 457 659 485T663 538Q663 586 644 607T566 633Q564 633 535 633T486 634H458Q404 634 399 625Q396 620 364 492L332 363H380Q446 365 464 373Q496 389 514 458Q518 477 523 479Q527 480 541 480H556Q563 475 563 470Q563 467 532 339T498 207Q496 200 475 200H460Q453 207 453 212Q454 213 456 225T461 254T464 278Q464 304 445 310T369 317H321L289 190Q257 66 257 59Q257 54 261 52T283 48T337 46Q348 46 352 46T360 45T366 42T368 37Q368 32 365 23Q360 4 355 2Q352 1 342 1Q336 1 297 1T199 2Q138 2 106 2T71 1H68Q54 1 54 11Q54 38 66 45L70 46Q75 46 82 46T96 46Q131 47 142 50T159 62L194 200Q229 337 264 477T299 623',
    0x47: '632 -1Q629 -1 622 5T604 25T583 53Q508 -22 394 -22Q287 -22 219 52T150 244Q150 402 265 543Q339 630 421 667T562 704Q596 704 604 703Q627 698 647 689T679 669T699 649T711 633T716 627L753 665Q790 704 792 704Q793 705 798 705Q812 705 812 698Q812 694 780 561Q744 422 744 421Q742 416 739 415T721 413H705Q699 419 699 426Q701 432 701 444Q705 464 705 493Q705 524 700 551T681 604T643 644T583 659Q480 659 387 570Q319 501 286 394T252 208Q252 156 269 118T314 61T369 33T425 24Q470 24 509 46T566 104Q571 116 583 162T595 214Q595 222 583 223Q561 227 517 227H495Q488 230 488 238Q488 254 495 268Q500 273 511 273Q515 273 532 273T581 272T649 271Q731 271 752 273H761Q767 267 767 264T765 246Q761 233 755 227H742Q698 227 693 213L639 4Q636 -1 632 -1',
    0x48: '61 0Q54 7 54 11Q54 27 61 41Q65 46 95 46Q131 47 142 50T159 62Q161 66 230 344T300 626Q300 627 300 629L299 631Q293 637 238 637H220Q214 642 214 645T216 664Q220 677 226 683H239Q307 681 372 681Q480 681 486 683H496Q502 677 502 674T500 656Q496 643 490 637H472Q418 637 406 630Q400 627 396 612T367 500Q360 474 352 442T340 395L336 380Q336 378 466 378H596Q657 622 657 626Q657 627 656 629V631Q650 637 595 637H577Q571 642 571 645T573 664Q577 677 583 683H596Q664 681 729 681Q837 681 843 683H853Q860 676 860 672Q858 647 848 637H819Q783 636 772 634T756 623Q753 618 684 340T614 57Q614 50 621 49T666 46Q697 46 699 40Q701 37 698 21Q693 3 689 1Q686 0 677 0Q673 0 657 0T611 1T546 2Q453 2 428 0H418Q411 7 411 11Q411 27 418 41Q422 46 452 46Q488 47 499 50T516 62Q517 64 550 196T584 331Q584 332 454 332H324L291 197Q257 64 257 56Q257 50 265 49T309 46Q340 46 342 40Q344 37 341 21Q336 3 332 1Q329 0 320 0Q316 0 300 0T254 1T189 2Q96 2 71 0H61',
    0x49: '235 637Q217 637 213 638T209 649Q209 673 220 682Q222 683 237 683Q278 681 369 681Q404 681 441 682T483 683Q499 683 503 681T508 672Q508 670 505 658T500 643Q498 637 464 637Q425 635 415 633T398 621Q396 618 327 340T257 58T260 52T278 48T322 46Q349 46 349 36Q349 31 346 22Q342 4 337 1Q336 1 334 1T329 0Q325 0 307 0T258 1T190 2Q95 2 67 0H56Q49 7 49 11Q51 38 62 46H91Q129 47 141 50T159 62Q161 66 230 344T300 625Q300 637 235 637',
    0x4A: '361 637Q333 637 331 641Q330 644 330 649Q330 673 341 682Q343 683 360 683Q405 681 500 681Q551 681 577 681T607 682Q622 682 622 673Q622 665 616 647Q614 640 610 639T587 637Q547 636 541 624Q538 618 477 374T413 124Q391 64 333 22T207 -21T109 12T78 86Q78 130 101 150T149 170Q193 170 196 129Q196 100 178 80T137 58L132 57Q134 52 138 46T160 28T205 16Q242 16 273 48T319 122Q322 129 383 371T444 627Q444 637 361 637',
    0x4B: '668 621Q668 635 645 637Q629 637 629 648Q629 650 632 662T637 677Q640 682 653 682Q657 682 688 681T764 680Q786 680 810 681T839 682Q859 682 859 672Q859 655 852 643Q849 637 839 637Q804 637 768 621T717 595T697 578Q696 578 600 497L505 417L508 408Q543 311 574 227T618 106T632 69Q645 47 688 46H707Q713 38 713 37T710 19Q706 6 700 0H688Q659 2 587 2Q557 2 532 2T492 2T474 1Q458 1 458 10Q458 13 460 23Q464 39 466 42T480 46Q526 46 526 72Q526 75 476 213L427 350Q426 350 396 325T334 272T302 242Q302 241 299 230T290 194T279 150Q257 61 257 55Q257 50 265 49T309 46H337Q343 40 343 38T341 19Q337 6 331 0H316Q280 2 190 2Q158 2 131 2T89 2T70 1Q54 1 54 11Q54 38 66 45L70 46Q75 46 82 46T96 46Q131 47 142 50T159 62Q161 66 230 344T300 626Q300 627 300 629L299 631Q293 637 238 637H220Q214 642 214 645T216 664Q220 677 226 683H239Q307 681 372 681Q386 681 414 681T464 682L487 683H496Q502 677 502 674T500 656Q495 641 491 637H462Q426 636 415 634T399 623Q396 618 358 467L320 314Q321 314 484 452Q510 474 552 509Q625 570 646 590T668 621',
    0x4C: '61 0Q54 4 54 11Q54 27 61 41Q65 46 95 46Q131 47 142 50T159 62Q161 66 230 344T300 626Q300 627 300 629L299 631Q293 637 238 637H220Q214 642 214 645T216 664Q220 677 226 683H240Q275 681 371 681Q407 681 438 681T487 682T509 682Q527 682 527 674Q527 670 524 659Q523 657 523 654T522 649T520 645T519 642T517 640T515 639T512 638T507 637T502 637T494 637H478Q433 636 417 633T396 617Q395 614 325 334T255 51Q255 47 319 47Q387 47 410 52Q459 65 494 98T543 163T570 229T589 273H622Q628 264 628 262Q628 259 584 133T539 5Q537 1 511 1Q482 0 296 0H61',
    0x4D: '72 1Q58 1 58 11Q58 33 66 41Q68 46 87 46Q150 50 168 84Q172 91 238 356T304 626Q304 627 304 629L303 631Q297 637 242 637H224Q218 642 218 645T220 664Q224 677 230 683H326H394Q417 683 422 682T429 676L480 127L502 163Q523 199 560 262T642 400Q801 668 805 676L817 683H1003Q1010 678 1010 672Q1010 650 997 637H979Q915 637 906 623Q903 618 834 340T764 57Q764 50 771 49T817 46H845Q851 38 851 37T848 19Q845 7 838 0H824Q789 2 701 2Q670 2 644 2T603 2T584 1Q569 1 569 11Q569 13 571 25Q576 42 581 45L586 46Q590 46 597 46T611 46Q646 47 657 50T674 62L813 616L634 313Q453 7 452 7Q446 0 428 0Q409 0 407 6Q405 10 379 304T351 604L285 348Q220 83 220 82Q220 65 233 57T279 46H295Q301 38 301 37T298 19Q295 7 288 0H275Q244 2 171 2Q145 2 123 2T88 2T72 1',
    0x4E: '633 637Q624 637 621 639T617 650Q617 670 630 683H641Q682 680 736 680Q836 680 845 683H853Q860 676 860 672Q858 647 848 637H832Q764 633 750 598Q746 590 673 300Q656 230 638 156T610 44L600 7Q598 0 576 0H559Q553 6 448 297L342 588Q341 588 279 336T216 81Q216 49 274 46Q293 46 295 40Q297 37 294 21Q293 19 292 16T291 11T290 7T289 4T287 2T284 1T280 1T275 0T263 0T229 1T167 2Q91 2 70 0H61Q54 7 54 11T57 27Q61 41 64 43T83 46Q146 50 164 84Q167 90 235 362L303 634Q300 635 253 637H220Q214 643 214 645T216 664Q220 677 226 683H314Q386 683 397 683T410 677Q412 675 501 428L591 179Q591 178 592 180T595 189T600 209T610 246T624 303T645 385Q698 595 698 606Q698 618 683 627T633 637',
    0x4F: '149 237Q149 326 186 413T282 563T412 665T552 704Q619 704 667 678T741 611T777 528T788 444Q788 328 728 219T572 44T377 -22Q275 -22 212 50T149 237ZM688 487Q688 570 650 617T548 665Q467 665 398 592T291 413T253 203Q253 119 290 70T387 20Q440 20 489 52T573 135T635 249T675 373T688 487',
    0x50: '62 0Q55 7 55 11Q55 27 62 41Q66 46 96 46Q132 47 143 50T160 62Q162 66 231 344T301 626Q301 627 300 629V631Q294 637 239 637H221Q215 642 215 645T217 664Q221 677 227 683H404H431H502Q578 683 615 675T684 636Q729 595 729 531Q729 462 671 396T524 308Q499 302 404 301H318L288 182Q258 63 258 55T310 46Q341 46 343 40Q345 37 342 21Q337 3 333 1Q330 0 321 0Q317 0 301 0T255 1T190 2Q97 2 72 0H62ZM626 555V562Q626 620 552 635Q546 636 481 637Q466 637 450 637T423 636T412 636Q401 635 398 627Q396 622 361 484Q353 452 344 416T330 362L325 344Q325 342 390 342H427Q523 342 567 386Q596 415 611 473T626 555',
    0x51: '460 -107Q460 -72 464 -42T468 -7L457 -10Q446 -14 424 -18T379 -22Q276 -22 213 50T149 237Q149 326 186 413T282 563T412 665T552 704Q664 704 726 631T788 442Q788 305 703 180Q627 64 517 13L506 8Q506 7 508 -12T513 -38T522 -59T538 -79T565 -85Q604 -85 634 -59T672 0Q676 11 684 11Q693 11 695 2Q695 -1 690 -20T673 -69T644 -126T599 -174T538 -194Q464 -194 460 -110Q460 -108 460 -107ZM689 481Q689 578 646 621T551 665Q468 665 391 586Q321 512 285 399T249 202Q249 106 295 58Q310 41 314 41Q315 41 315 46Q315 83 344 118T420 154Q450 154 473 135Q493 114 500 69L502 58L512 65Q571 110 613 192T672 348T689 481ZM472 49Q472 118 415 118Q393 118 373 98T353 51Q353 18 386 18H387Q424 18 472 40V49',
    0x52: '62 0Q55 7 55 11Q55 27 62 41Q66 46 96 46Q132 47 143 50T160 62Q162 66 231 344T301 626Q301 627 300 629V631Q294 637 239 637H221Q215 642 215 645T217 664Q221 677 227 683H386Q554 682 569 679Q571 678 580 676Q643 662 680 623T717 533Q717 473 667 420T528 337L538 330Q563 314 578 286T594 228Q594 212 588 147T581 65Q581 36 589 26T616 16H618Q637 16 652 37Q668 57 677 94Q679 105 701 105T723 95Q723 89 717 72T698 33T662 -5T610 -22Q555 -22 513 3T471 88Q471 107 486 168T502 244Q502 303 452 320Q445 322 382 323H320L288 192Q255 63 255 55T307 46Q338 46 340 40Q342 37 339 21Q335 3 330 1Q326 0 320 0Q317 0 306 0T265 1T190 2Q99 2 73 0H62ZM612 558Q612 566 612 568T610 581T603 597T590 611T567 625T532 635Q526 636 470 637Q458 637 445 637T422 636T412 636Q402 635 397 627L390 598Q383 570 373 532T354 455T337 389T330 361Q356 360 384 360H415Q483 360 527 382Q557 399 574 424T604 498Q612 533 612 558',
    0x53: '198 460Q198 551 269 628T432 705Q516 705 557 644L583 673Q589 679 593 684T600 693T605 698T609 702T611 704T614 705T618 705H620Q633 705 633 698T605 577T573 459L570 456H554Q546 456 543 456T536 457T532 460T531 466Q531 469 533 489T536 532Q536 573 525 600T496 640T462 657T427 662Q369 662 325 612T281 503Q281 475 290 458T318 430T356 415T407 401T463 383Q506 360 522 323T538 258V244Q538 141 465 60T300 -22Q198 -22 152 41L143 31Q137 25 126 12T106 -10T95 -21L92 -22Q88 -22 86 -22Q81 -22 78 -20T74 -16V-14Q74 -11 132 221Q134 227 155 227H171Q177 221 177 215Q177 212 175 205T171 182T169 147Q171 99 195 70T246 33T306 25Q358 25 400 70T453 169Q455 180 455 203V210Q455 263 414 285Q409 288 347 305Q271 328 254 339Q239 350 224 371Q198 409 198 460',
    0x54: '178 437Q173 442 171 446Q171 451 238 654Q243 670 250 677H681H762Q792 677 799 676T806 667Q806 661 788 553T768 444Q768 437 746 437Q727 437 723 445Q723 450 729 492T736 562Q736 589 728 602T693 624Q675 630 622 630H595Q575 630 571 629T564 623Q562 621 492 342T422 59Q422 48 502 46H542Q548 38 548 37T545 19Q541 6 535 0H517Q475 2 357 2Q315 2 279 2T223 2T198 1Q179 1 179 9Q179 14 182 24Q187 42 190 44Q194 46 206 46H232Q289 47 301 49T326 65L395 344Q465 619 465 626Q465 629 462 629Q456 631 411 631Q364 631 336 625T288 597T255 549T224 467Q215 442 210 437H178',
    0x55: '636 637Q627 637 624 639T620 650Q620 670 633 683H644Q702 681 753 681Q760 681 772 681T796 681T820 682T838 683H845H853Q860 676 860 672Q858 647 848 637H832Q764 633 750 598Q745 588 698 400T648 204Q627 140 584 86Q484 -22 378 -22Q300 -22 247 31T194 167Q194 176 194 182T196 198T200 218T207 248T217 288T231 346T250 422Q300 618 300 626Q300 627 300 629L299 631Q293 637 238 637H220Q214 642 214 645T216 664Q220 677 226 683H239Q307 681 372 681Q480 681 486 683H496Q502 677 502 674T500 656Q496 643 490 637H472Q418 637 406 630Q400 627 394 603T344 410Q299 232 292 198T284 135Q284 102 294 78T322 44T355 29T387 24Q455 24 515 74T604 211Q605 215 653 404T701 607Q701 618 686 627T636 637',
    0x56: '667 637Q657 637 654 639T650 650Q650 670 663 683H675Q704 681 772 681Q793 681 818 682T847 683Q868 683 868 672Q868 670 865 658T860 643Q857 637 848 637Q785 637 749 587L394 -15Q387 -22 366 -22Q346 -22 342 -16Q341 -13 313 303Q285 622 285 623Q283 631 273 634T229 637Q205 637 205 648Q205 654 208 666T217 682Q219 683 230 683Q276 680 329 680Q444 680 456 683H466Q472 677 472 674T470 656Q466 643 460 637H448Q384 637 384 615Q385 612 406 371T427 126Q427 125 495 240T632 473T704 596Q707 604 707 609Q707 633 667 637',
    0x57: '234 637H226Q205 637 205 648Q205 673 216 682Q218 683 231 683Q265 681 340 681Q371 681 404 682T443 683Q458 683 462 681T467 672Q467 670 464 658T459 643Q457 637 434 637Q407 636 394 632T378 623T376 613Q376 589 385 377T394 149L511 361Q542 419 596 519L613 551L612 585Q610 621 610 624Q608 637 559 637H555Q537 637 537 647Q537 654 540 664Q544 677 550 683H561Q600 680 656 680Q771 680 783 683H792Q798 677 798 675T796 658Q792 643 790 640T778 637H774Q721 637 708 620L717 385Q726 150 727 149Q727 148 752 193T812 303T882 433T942 546T969 596Q970 600 970 606Q970 610 969 613T966 620T961 625T955 628T949 631T941 633T934 634T927 636T920 637Q903 637 903 648Q903 650 905 664Q909 677 915 683H928Q960 681 1031 681Q1050 681 1073 681T1101 682Q1124 682 1124 672Q1124 655 1117 643Q1114 637 1104 637Q1085 637 1069 632T1043 618T1026 603T1014 588L1009 580L687 -16Q681 -22 660 -22Q643 -22 637 -16Q635 -14 627 223Q617 441 617 464L602 441Q578 397 487 228Q456 171 423 110T372 17T355 -15Q348 -22 328 -22Q312 -22 308 -20T303 -9Q303 -5 291 310T277 627Q273 636 234 637',
    0x58: '684 0Q670 0 634 1T569 2Q512 2 482 2T449 1Q433 1 433 10Q433 11 435 25Q437 34 438 37T442 43T448 45T459 46T476 49Q506 58 506 64Q506 65 467 179T426 295L382 244Q339 194 295 142T249 86Q245 79 245 72Q245 48 279 46Q293 46 293 32Q293 13 280 0H268Q206 2 151 2Q70 2 64 0Q50 0 50 11Q50 15 53 27Q57 41 60 43T78 46Q154 49 205 100Q207 103 312 225L411 341L407 353Q404 360 381 428T336 560T310 627Q301 636 255 637H229Q223 643 223 645T225 664Q229 677 235 683H246Q288 680 346 680Q462 680 477 683H487Q493 677 493 674T491 656Q488 644 485 641T471 637Q461 635 454 635Q419 626 421 619Q421 617 453 524T486 430T554 509T624 593Q631 604 631 611Q631 622 621 629T598 637Q583 637 583 648Q583 650 585 660Q589 676 591 679T602 683Q606 683 637 682T715 680Q742 680 771 681T804 682Q825 682 825 672Q825 650 817 642Q814 637 797 637Q739 634 700 608Q684 597 659 569T505 389L501 384L557 222Q612 61 616 57Q625 47 671 46Q691 46 697 45T704 36Q704 35 702 23Q701 19 700 14T699 7T696 3T692 1T684 0',
    0x59: '232 637Q198 637 198 647Q198 651 201 664T210 682Q212 683 223 683Q269 680 325 680Q443 680 455 683H465Q472 676 472 672Q472 656 465 642Q460 637 441 637Q395 634 395 623Q395 621 438 478T482 334T583 460T688 591Q688 593 694 601T700 617Q700 637 668 637H666Q655 637 655 648Q655 654 658 664Q660 672 660 673T663 678T668 682T677 683Q680 683 704 682T776 680Q801 680 828 681T858 682Q875 682 875 673Q875 669 872 657T867 643Q865 637 848 637Q788 634 749 597Q733 581 608 424L487 273L461 170Q454 145 448 118T438 76T434 60Q434 54 436 52T452 48T496 46H514Q520 41 520 38T518 19Q514 6 508 0H495Q427 2 364 2Q350 2 323 2T272 0H250H241Q234 7 234 11Q234 27 241 41Q245 46 275 46Q312 47 323 50T340 64Q340 65 344 79T355 120T368 171L393 274L341 448Q288 622 286 626Q278 636 232 637',
    0x5A: '203 452Q203 455 236 565T270 677Q270 681 274 681Q276 683 488 683H699Q704 678 704 675Q704 663 697 649Q697 647 449 348L201 50L266 49H301Q442 49 495 116Q525 155 556 251Q563 274 565 278T579 282H585Q609 285 609 271Q609 270 570 142T528 8T518 1T466 0H303Q253 0 197 0T131 -1Q112 -1 102 -1T87 1T81 3T80 8Q80 30 89 39Q90 41 204 178T446 470T575 626L584 637H512H504H475Q446 637 426 635T378 624T330 597T289 546T254 467Q247 446 243 444Q239 442 226 442Q203 442 203 452',
    0x61: '418 53Q418 26 438 26Q466 26 494 131Q500 151 504 152Q507 153 516 153H521Q531 153 534 153T540 150T543 144Q543 141 540 126T529 88T509 43T477 5T434 -11Q404 -11 383 3T354 30T347 48H346Q345 47 342 45T337 40Q282 -11 228 -11Q172 -11 137 34T101 146Q101 260 177 351T333 442Q343 442 352 441T369 437T382 431T393 425T402 417T409 410T414 402T419 396Q423 406 436 414T461 422Q475 422 484 413T494 395Q494 384 459 244T420 88Q418 80 418 58V53ZM397 323Q397 344 382 374T333 405Q302 405 271 372Q249 349 235 316T203 215Q184 135 184 108V100V94Q184 54 207 35Q218 26 235 26Q279 26 330 91Q343 109 346 118T372 217Q397 317 397 323',
    0x62: '158 683Q163 683 223 688T300 694Q312 694 312 685T279 544Q243 405 243 403L256 412Q268 422 292 432T338 442Q395 442 431 398T467 284Q467 175 393 82T229 -11Q175 -11 142 32T108 142Q108 176 115 207T166 412Q177 458 190 510T209 588T216 616Q216 629 209 632T170 637H149Q143 643 143 645T145 664Q150 683 158 683ZM178 109Q178 27 234 27Q247 27 254 29Q295 44 323 94Q343 129 363 208T384 332Q384 354 382 361Q369 405 332 405Q282 405 228 326L222 317L205 250Q178 142 178 109',
    0x63: '257 -10Q183 -10 143 37T103 155Q103 257 173 341T337 440Q341 441 348 441H358Q421 441 445 415T469 356Q469 320 450 305T410 289Q392 289 381 299T370 325Q370 362 404 378L414 383Q392 402 365 405Q322 405 285 375T227 294Q217 271 202 213T187 119Q187 27 263 27Q299 27 330 40Q361 51 386 71T424 106T440 121Q444 121 455 110T466 96Q466 92 458 81T432 54T390 24T331 0T257 -10',
    0x64: '418 54Q418 26 438 26Q466 26 494 131Q500 151 504 152Q507 153 516 153H521H526Q543 153 543 144Q543 143 541 129Q531 91 521 65T487 14T434 -11T383 3T354 30T347 48H346Q345 47 342 45T337 40Q282 -11 228 -11Q172 -11 137 34T101 146Q101 255 174 348T337 441Q354 441 368 437T390 427T404 414T413 404T417 400L471 616Q471 629 464 632T425 637H404Q398 643 398 645T400 664Q405 683 413 683Q418 683 478 688T555 694Q567 694 567 686Q567 676 495 389L419 86Q418 80 418 61V54ZM397 323Q397 329 394 340T385 367T365 394T333 405Q302 405 271 372Q249 349 235 316T203 215Q184 135 184 108V100Q184 71 191 56Q204 26 235 26Q267 26 300 57T344 112Q347 117 372 217T397 323',
    0x65: '107 166Q107 230 131 283T193 369T270 420T345 441Q346 441 352 441T361 442H364Q409 442 439 418T470 355Q470 270 366 239Q308 223 218 223H205Q189 164 189 125Q189 83 206 55T261 27Q309 27 353 50T426 109Q436 121 440 121T453 111T466 97Q469 92 455 77Q424 41 372 16T258 -10Q184 -10 146 41T107 166ZM416 333T416 354T401 390T360 405Q322 405 292 384T246 336T223 288T215 261Q215 260 240 260Q262 261 276 262T314 266T353 275T384 291T408 317',
    0x66: '351 608Q351 642 389 661Q368 668 365 668Q358 668 352 664Q349 663 347 661T342 654T337 647T333 637T330 627T327 614T324 601T321 587T318 571L291 432Q291 431 343 431H394Q400 426 400 423T398 404Q394 390 389 386L335 385H282L255 246Q212 20 189 -51Q136 -199 58 -204Q22 -204 0 -185T-23 -134Q-23 -100 -3 -85T37 -69Q54 -69 65 -80T76 -108Q76 -115 75 -119Q70 -134 61 -144T46 -158L39 -161Q39 -162 42 -163T50 -166T61 -168Q77 -168 91 -145Q98 -128 105 -95L125 -1Q145 90 146 98Q149 109 163 180T189 317T202 384T158 385H114Q108 390 108 393T110 412Q113 424 120 431H165Q211 431 211 433Q213 435 219 473T237 561T266 639Q282 667 310 686T367 705Q402 705 426 686T450 635Q450 600 430 585T390 569Q373 569 362 580T351 608',
    0x67: '103 163Q106 263 173 347T320 441Q322 441 329 441T341 442Q387 439 419 398Q420 399 420 400Q421 402 425 406T440 416T464 422Q476 421 485 413T494 396Q494 386 465 268T407 38T377 -77Q365 -123 310 -164T179 -205Q46 -205 46 -139Q46 -114 64 -97T106 -79Q127 -79 136 -91T146 -115Q146 -127 141 -138T130 -155T124 -162T125 -163Q133 -166 170 -168Q200 -168 217 -162Q242 -153 264 -130T297 -78Q298 -74 305 -46T320 10T327 38Q326 38 317 31T291 15T256 2Q249 1 231 1Q182 1 143 38T103 163ZM398 324Q398 330 395 346T375 383T332 405Q330 405 326 405T320 404Q291 396 263 365Q230 324 208 239T185 115Q185 38 238 38Q258 38 279 50T312 77T336 106L348 122Q349 125 373 223T398 324',
    0x68: '398 44Q398 26 414 26Q431 26 451 43Q477 71 496 136Q499 148 501 150T515 153H521Q531 153 534 153T541 150T544 143Q544 133 534 105T496 41T432 -8Q424 -10 408 -10Q370 -10 348 12T326 72Q326 93 342 135Q397 288 397 349Q397 367 396 372Q386 405 357 405Q283 405 228 310Q217 290 212 274T180 152Q153 42 148 26T135 3Q121 -11 102 -11Q89 -11 80 -3T69 19L216 616Q216 629 209 632T170 637H149Q143 643 143 645T145 664Q150 683 158 683Q163 683 223 688T300 694Q312 694 312 685Q312 674 277 539Q241 395 241 393Q242 394 249 399T259 407T271 415T285 424T300 431T318 437T338 440T362 442Q423 442 449 410T475 338Q475 290 437 178T398 44',
    0x69: '234 599Q234 620 251 638T292 656Q306 656 319 647T332 617Q332 594 313 577T273 560Q260 560 247 569T234 599ZM75 287Q75 292 82 313T103 362T142 413T196 441H214Q248 441 270 419T293 357Q292 338 289 330T245 208Q193 72 193 46Q193 26 209 26Q228 26 247 43Q273 71 292 136Q295 148 297 150T311 153H317Q327 153 330 153T337 150T340 143Q340 133 330 105T292 41T228 -8Q220 -10 204 -10Q160 -10 141 15T122 71Q122 98 171 227T221 384Q221 396 218 400T203 405Q175 403 156 374T128 312T116 279Q115 278 97 278H81Q75 284 75 287',
    0x6A: '266 600Q266 622 283 639T322 656Q340 656 352 645T364 616Q364 596 347 578T305 560Q291 560 279 569T266 600ZM75 287Q75 293 86 316T117 369T168 420T236 442Q282 442 304 415T327 358V332L278 134Q269 98 260 60T246 3T236 -36T227 -66T220 -85T213 -101T204 -114Q181 -150 139 -177T46 -204Q8 -204 -12 -186T-32 -140Q-32 -112 -14 -96T27 -79Q48 -79 57 -91T67 -114Q67 -146 38 -166Q42 -168 49 -168Q75 -168 98 -147T130 -108T146 -71Q150 -59 199 138T250 346Q253 359 253 373Q253 405 230 405Q206 405 184 386T149 345T126 301L117 280Q115 278 98 278H81Q75 284 75 287',
    0x6B: '158 683Q163 683 223 688T300 694Q312 694 312 686Q312 679 262 478L211 273Q212 272 219 276T248 299T296 349Q317 371 328 382T360 410T399 434T439 442Q462 442 480 427T498 373Q498 329 479 313T437 296Q420 296 409 305T398 331Q398 357 413 372T445 391Q454 392 448 399Q445 405 431 405Q408 405 377 385Q351 368 314 327T250 261Q243 257 243 254Q249 254 279 243T328 220Q366 192 366 146Q366 131 361 109T355 62V54Q355 26 376 26Q379 26 387 28Q420 36 443 130Q449 151 454 152Q457 153 465 153H470Q484 153 488 152T492 144Q492 141 489 126T476 88T454 42T420 5T372 -11Q331 -11 306 17T280 88Q280 100 283 119T287 146Q287 172 265 190T221 215T198 220Q197 220 173 121Q152 37 148 24T135 3Q121 -11 102 -11Q89 -11 80 -3T69 19L216 616Q216 629 209 632T170 637H149Q143 643 143 645T145 664Q150 683 158 683',
    0x6C: '162 61Q162 26 183 26Q211 26 239 131Q245 151 249 152Q252 153 261 153H266H271Q288 153 288 144Q288 143 286 129Q276 91 266 65T232 14T179 -11Q144 -11 116 12T87 81Q87 96 88 102L216 616Q216 629 209 632T170 637H149Q143 643 143 645T145 664Q150 683 158 683Q163 683 223 688T300 694Q312 694 312 686Q312 676 240 389L164 86Q162 74 162 61',
    0x6D: '81 278Q75 284 75 289Q77 299 89 338Q101 373 114 396T142 428T166 439T186 442H189Q225 440 251 417Q266 401 271 384L275 374L286 386Q342 442 414 442Q428 442 440 440T461 435T479 427T493 418T503 407T511 397T516 387T520 378T523 370L524 366Q546 395 583 418T667 442Q729 442 755 411T782 338Q782 290 743 178T704 45Q704 26 720 26Q773 26 802 136Q805 148 807 150T822 153H828Q838 153 841 153T848 150T851 143Q851 137 843 115T821 63T778 12T715 -10Q671 -10 652 16T632 71Q632 88 668 191T704 349Q704 367 703 372Q693 405 664 405Q637 405 613 393T571 360T547 329T534 309Q523 290 518 274T487 151Q455 24 452 16Q438 -11 408 -11T376 18Q376 26 411 167T447 314Q449 325 449 346Q449 372 444 384Q431 405 408 405Q334 405 276 305Q266 289 262 273T231 151Q199 24 196 16Q182 -11 152 -11T120 18Q120 26 159 182T200 347Q202 361 202 372Q202 405 181 405Q168 405 159 391Q145 374 132 328T117 280T98 278H81',
    0x6E: '449 44Q449 26 465 26Q482 26 502 43Q528 71 547 136Q550 148 552 150T566 153H572Q582 153 585 153T592 150T595 143Q595 133 585 105T547 41T483 -8Q475 -10 459 -10Q421 -10 399 12T377 72Q377 93 393 135Q448 288 448 349Q448 367 447 372Q437 405 408 405Q381 405 357 393T315 360T291 329T278 309Q267 290 262 274T231 151Q199 24 196 16Q182 -11 152 -11T120 18Q120 23 159 181Q199 343 199 346Q202 360 202 372Q202 406 183 406Q163 406 148 374Q142 360 135 338T124 299T117 280T98 278H81Q75 284 75 287Q76 293 78 303T90 341T110 388T141 425T184 442Q195 442 204 441T221 436T235 429T247 421T256 412T262 403T267 394T271 387T273 381L274 378V374L287 387Q342 442 414 442Q474 442 500 410T526 338Q526 290 488 178T449 44',
    0x6F: '103 155Q103 266 185 354T366 442Q435 442 476 394T517 275Q517 169 436 79T255 -11Q194 -11 149 32T103 155ZM187 119Q187 67 209 47T260 26Q290 26 321 47Q354 68 380 113T426 260Q432 291 432 315Q432 361 408 385Q388 405 358 405Q319 405 283 374T227 294Q217 271 202 213T187 119',
    0x70: '81 278Q75 284 75 287Q93 379 131 417Q154 442 189 442Q222 440 243 423T272 382L280 390Q335 442 389 442Q446 442 482 398T518 284Q518 212 480 137T375 19Q321 -10 291 -10H282H278Q237 -10 204 28L202 32L181 -51Q160 -135 160 -139Q160 -147 205 -148H230Q236 -155 236 -157T233 -175Q230 -187 227 -190T214 -194Q211 -194 202 -194T169 -193T108 -192Q40 -192 21 -194H13Q6 -187 6 -183T9 -167Q13 -153 16 -151T39 -148Q73 -147 78 -136Q82 -128 139 104Q199 337 199 347Q202 362 202 372Q202 406 182 406Q169 406 159 391Q145 374 132 328T117 280T98 278H81ZM221 111Q234 26 286 26Q307 26 336 47T385 116Q398 147 416 217T435 332Q435 354 433 361Q420 405 383 405Q333 405 279 326L273 317L221 111',
    0x71: '228 -11Q172 -11 137 33T101 147Q101 205 125 266T201 377T318 441Q322 442 333 442Q388 442 420 394L429 403Q439 413 455 423T481 437T494 442Q498 442 501 439T504 434Q504 425 435 149Q364 -135 364 -139Q364 -147 409 -148H434Q440 -155 440 -157T437 -175Q433 -191 429 -193Q425 -194 418 -194Q416 -194 406 -194T372 -193T309 -192Q259 -192 233 -192T204 -193Q190 -193 190 -184Q190 -181 192 -169Q196 -153 199 -151T219 -148Q266 -148 277 -141Q283 -137 305 -51L325 29L316 22Q270 -11 228 -11ZM397 323Q397 329 394 340T385 367T365 394T333 405Q302 405 271 372Q249 349 235 316T203 215Q184 135 184 108V100Q184 71 191 56Q204 26 235 26Q267 26 300 57T344 112Q347 117 372 217T397 323',
    0x72: '81 278Q75 284 75 289Q77 301 89 339Q122 442 183 442Q219 442 241 425T271 384L283 396Q327 442 384 442Q424 442 454 421T484 362Q484 327 464 312T424 296Q407 296 396 305T385 331Q385 352 394 365T414 384T424 390Q409 405 378 405Q322 405 276 315L268 300L234 161Q200 25 196 16Q182 -11 152 -11T120 18Q120 23 159 181Q199 343 199 346Q202 360 202 372Q202 405 182 405Q164 405 150 377T128 316T117 280Q115 278 98 278H81',
    0x73: '153 285Q153 349 197 395T311 442Q355 442 386 420T418 356Q418 321 401 308T365 294Q336 294 331 326Q331 336 334 345T343 359T353 368T362 374L366 376Q365 379 362 383T344 396T308 404Q265 404 246 377T226 325T244 289T287 275T339 258T383 212Q395 188 395 163Q395 132 379 95T333 32Q279 -11 207 -11Q154 -11 115 13T76 86Q76 108 83 123T102 145T121 153T135 156Q154 156 164 145T175 117Q175 82 142 66L132 62Q131 62 131 61Q131 57 139 49T166 34T210 26Q250 26 277 44T312 83T321 123Q321 153 301 166T248 185T204 198Q176 211 162 241Q153 258 153 285',
    0x74: '94 385Q87 392 87 395Q87 399 90 411T95 425Q97 430 103 430T149 431H196L215 511Q218 521 222 539T228 565T234 585T242 603T251 615T264 623T281 626Q311 626 315 597Q315 591 296 513T275 433Q275 431 320 431H366Q373 424 373 420Q373 398 360 385H263L189 86Q188 80 188 61V54Q188 29 201 27Q213 23 229 30Q253 37 276 66T316 138Q321 149 324 151T342 153H347Q364 153 364 146T360 130Q331 63 290 26T202 -11Q158 -11 135 18T111 81Q111 93 129 168T166 314L184 383Q184 385 139 385H94',
    0x75: '75 287Q75 299 89 333T135 404T205 441Q246 441 269 420T293 357Q292 338 259 245T225 95Q225 26 274 26Q301 26 324 43T358 77T369 99Q369 102 406 249T446 404Q460 431 490 431T522 402Q522 394 485 245T446 89Q443 74 443 56Q443 28 461 26Q487 26 507 86Q524 130 524 146Q524 147 530 153H547Q570 153 570 144Q570 138 561 109T544 62Q530 29 512 12Q492 -11 454 -11Q429 -9 410 2T385 23T376 41L363 28Q350 16 325 3T269 -10Q204 -10 176 25T148 108Q148 161 184 262T221 383Q221 405 206 405Q178 405 158 375T128 313T116 279Q115 278 97 278H81Q75 284 75 287',
    0x76: '387 386Q387 407 406 425T445 443Q466 443 479 423T492 371Q492 330 473 253Q411 18 307 -8Q298 -10 279 -10Q208 -10 179 26T149 114Q149 162 185 261T221 384Q221 405 206 405Q177 405 157 375T128 313T116 279Q115 278 97 278H81Q75 284 75 287T79 304T93 342T119 388T158 425T210 441H218Q243 441 268 421T293 357Q292 337 259 245T226 102Q226 26 285 26Q328 26 360 72T422 237Q429 265 429 290Q428 324 408 349T387 386',
    0x77: '591 386Q591 407 610 425T649 443Q670 443 683 423T696 371Q696 327 672 232T621 85Q575 -11 493 -11Q469 -11 449 -6T418 8T398 24T386 38L382 43Q347 -10 293 -10H286Q221 -10 186 21T150 115Q150 164 185 262T221 384Q221 405 206 405Q177 405 157 375T128 313T116 279Q115 278 97 278H81Q75 284 75 287T79 304T93 342T119 388T158 425T210 441H218Q243 441 268 421T293 357Q292 336 260 246T227 108Q227 26 292 26H295Q332 26 361 93L366 103V119Q366 122 367 133T369 150Q372 167 401 282T433 404Q446 431 477 431Q507 431 509 402Q509 396 500 358T474 254T446 140Q444 126 444 104V92Q444 66 459 46T502 26H505Q527 28 545 43T577 88T602 149T623 226Q633 265 633 290Q632 324 612 349T591 386',
    0x78: '275 356Q275 383 262 394T233 405Q196 405 166 371T121 289Q119 280 116 279T98 278H81Q77 282 76 283T75 288T78 300Q88 332 109 363T153 411Q195 442 235 442Q306 442 333 386Q373 442 427 442Q461 442 487 421T513 364T494 312T453 296Q436 296 425 305T414 331Q414 352 424 366T446 386L456 390Q448 404 421 404H418Q382 404 358 341Q355 332 328 227T298 105Q295 90 295 75Q295 26 339 26Q365 26 388 43T424 82T444 123T451 146L457 153H474Q490 153 493 152T496 144Q496 133 486 110T456 58T404 10T333 -11Q276 -11 237 45Q197 -11 146 -11Q108 -11 83 10T58 67Q58 99 76 117T119 135Q136 135 147 124T158 96Q158 89 157 85Q149 57 125 45L115 41Q125 26 151 26Q171 26 187 45T214 93Q217 102 244 210T273 330Q275 339 275 356',
    0x79: '75 287Q75 299 89 333T135 404T205 441Q246 441 269 420T293 357Q292 338 259 245T225 95Q225 26 274 26Q325 26 367 93L405 245Q442 393 446 404Q460 431 490 431T522 402Q522 400 416 -24Q389 -102 327 -153T196 -205Q152 -205 122 -181T91 -119Q91 -84 110 -67T152 -49Q170 -49 180 -60T191 -87Q191 -108 174 -128Q167 -134 157 -138T146 -144Q155 -153 159 -156T173 -163T199 -167Q229 -167 255 -149T297 -105T325 -52T342 -6T347 15Q315 -10 269 -10Q204 -10 176 25T148 108Q148 161 184 262T221 383Q221 405 206 405Q178 405 158 375T128 313T116 279Q115 278 97 278H81Q75 284 75 287',
    0x7A: '160 317Q158 317 155 317Q136 317 136 324Q136 351 171 396T260 442Q292 442 321 410T365 375H369Q384 375 404 408L425 441Q427 442 444 442H460Q466 436 466 434Q466 419 426 367Q387 314 294 222T178 105L170 95L181 94Q198 93 236 81T295 68Q328 68 356 89T395 141Q398 150 401 151T419 153Q441 153 441 144Q441 110 394 50T282 -11Q251 -11 221 23T171 57Q157 57 143 47T121 26T104 3T95 -10Q93 -11 76 -11H60Q54 -5 54 -2Q54 3 61 14Q103 88 233 215Q349 329 349 338L302 351Q269 362 247 362Q227 362 212 356T192 342T183 327T178 320Q175 317 160 317',
},{
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2211">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {texOldstyleBold as font} from '../../../common/fonts/tex/tex-oldstyle-bold.js';

export const texOldstyleBold: SVGCharMap = AddPaths(font, {
    0x30: '259 460H279Q352 460 403 444T491 378Q528 320 528 219Q528 100 475 45Q417 -17 287 -17Q152 -17 99 44T46 219Q46 246 47 265T57 318T82 376T131 422T210 454Q234 460 259 460ZM389 229V271Q389 351 371 380T280 409Q232 409 208 385Q194 371 190 345T185 229V210Q185 108 194 83Q208 35 287 35Q317 35 336 42Q372 55 380 85T389 204V229',
    0x31: '119 417Q191 417 240 428T310 450T338 461Q353 461 357 452T361 400Q361 389 361 342T360 254V62H420H456Q483 62 488 58T494 35V29Q494 13 491 7T473 0Q468 0 424 1T295 2T167 1T117 0Q114 0 111 0T107 1Q96 8 96 27V35Q96 54 102 58T140 62H170H229V213Q229 363 228 363Q220 360 196 358T150 356L130 355H93Q84 360 82 365T80 386Q80 404 81 407T95 417H119',
    0x32: '214 399Q202 399 191 398T175 395T170 392L171 390Q172 389 174 386T178 379T181 369T182 355Q182 328 165 312T123 296Q99 296 82 312T64 356Q64 397 105 428T253 460Q301 460 337 456T411 441T476 403T514 338Q516 328 516 310V304Q516 257 470 227Q456 217 427 205T376 184L354 176Q350 174 325 162T277 139L254 128Q414 129 428 130H439Q450 148 453 166T460 188T486 193H493Q515 193 517 178Q517 171 502 94T484 11Q481 3 472 2T410 0H269Q65 0 62 2Q55 5 53 10T51 32Q51 54 56 58Q60 62 173 131Q296 207 318 224Q368 264 368 308Q368 342 342 363T283 392T214 399',
    0x33: '80 309Q80 367 131 414T276 461Q388 461 441 417T494 313Q494 265 463 223T373 155L361 151L376 147Q436 132 480 92T525 -15T487 -127T393 -192T274 -211Q179 -211 114 -167T48 -53Q48 -18 69 5T128 29Q168 29 188 5T208 -50Q208 -59 207 -67T203 -81T197 -92T190 -101T183 -109T177 -114T170 -118L167 -121Q160 -125 164 -127Q167 -129 176 -133Q215 -152 268 -152H273Q337 -152 356 -92Q364 -69 364 -14Q364 45 352 74T303 120Q287 125 240 125H230Q201 125 196 127T191 146V152Q192 170 196 173T233 178Q234 178 241 178T252 179T262 181T274 183T285 188T297 195T308 205T319 218T328 235T337 257Q345 280 345 320V330Q345 345 343 355T335 379T312 399T270 407Q226 407 177 377Q226 356 226 310Q226 270 204 253T153 235Q123 235 102 253T80 309',
    0x34: '180 0Q155 0 124 0T84 -1Q48 -1 40 3T32 27V37Q32 59 34 63T204 265T377 465Q380 468 383 468H387Q391 468 398 468T411 469Q432 469 438 468T449 459Q451 455 451 258V62H489H498Q531 62 536 58T542 31Q542 9 537 5T504 0H489H451V-132H489H498Q530 -132 536 -136T542 -163Q542 -181 538 -187T522 -194Q518 -194 483 -193T378 -192Q281 -192 256 -193L217 -194Q203 -189 203 -169V-163V-158Q203 -140 209 -136T246 -132H265H314V0H180ZM325 62V320L105 63L215 62H325',
    0x35: '131 29Q159 26 175 12T194 -13T197 -35V-41Q197 -58 195 -66Q191 -76 185 -84T173 -97T161 -105T152 -109L148 -110Q148 -112 158 -121T195 -141T252 -152Q274 -152 280 -151Q335 -137 349 -104T363 9Q363 85 356 114T322 157Q305 166 286 166Q251 166 223 154T182 131T162 109Q154 98 150 96T130 93Q107 93 102 104Q100 107 100 279V371V424Q100 461 110 461Q114 461 123 458T149 450T183 441Q234 429 286 429Q313 429 340 432T387 440T422 449T447 457T458 461Q472 461 472 435Q472 420 470 418Q464 405 438 379T352 325T226 297Q189 297 171 301H168V182Q169 182 174 185T190 194T213 205T248 213T292 217Q391 217 454 159T517 5Q517 -92 444 -151T255 -211Q167 -211 112 -160T57 -44Q57 -12 76 8T131 29',
    0x36: '48 316Q48 398 70 462T124 562T198 621T274 652T339 660Q377 660 384 659Q497 632 497 532Q497 507 482 487T431 466Q397 466 381 486T365 530Q365 569 405 593Q382 603 381 603Q361 607 350 607Q316 607 279 589T221 533Q199 489 196 385L195 370Q196 371 203 379T217 395T237 410T263 424Q283 431 313 431Q409 431 468 368Q526 310 526 208Q526 131 492 81T405 5Q359 -17 289 -17Q256 -17 227 -11T163 17T105 73T65 170T48 316ZM293 380Q244 380 220 331T196 212Q196 104 216 80Q240 41 292 41Q295 41 301 41T309 42Q338 46 355 62Q372 81 375 108T379 230Q378 314 372 333Q358 375 299 380H293',
    0x37: '95 210H88Q66 210 64 225Q64 229 82 345T102 465Q106 476 125 476H131Q162 476 162 458Q162 451 213 448Q221 448 238 447T260 446Q261 446 410 444Q436 444 468 444T509 445Q544 445 551 440T558 413V404Q558 395 547 380T478 301L392 202Q354 150 339 81T321 -104V-132Q321 -187 286 -203Q273 -211 255 -211Q236 -211 217 -199T190 -160Q189 -153 189 -130Q194 17 282 156Q309 200 370 270Q404 307 400 307H293Q151 306 146 303Q140 300 132 259T120 215Q115 210 95 210',
    0x38: '48 164Q48 199 59 228T92 277T128 307T163 329Q159 332 155 336Q135 346 110 382Q80 427 80 477Q80 564 147 620Q202 660 264 660Q266 660 275 660T290 661Q384 661 439 619T494 506Q494 486 489 468T477 437T459 413T440 395T421 380T406 370L410 368Q414 365 421 361T437 351T456 335T476 316T495 291T511 262T522 228T526 189Q526 93 460 38T282 -17Q242 -17 205 -9T130 19T71 75T48 164ZM406 506Q406 545 379 576T283 607Q218 606 193 585T168 536Q168 522 172 513T195 490T224 471T275 443L346 403Q406 446 406 506ZM291 42Q365 42 395 70T425 134V141Q425 170 401 190T319 242Q308 248 302 251Q286 260 266 271T235 288L225 294Q222 292 217 289T198 274T175 249T157 212T148 163Q148 116 179 79T291 42',
    0x39: '175 -140Q198 -152 236 -152Q294 -152 332 -116Q356 -91 366 -54T379 62V78L376 74Q372 70 366 64T352 50T333 35T308 23Q289 17 262 17Q168 17 108 77T48 235Q48 273 59 317Q81 381 141 421T276 461Q279 461 285 461T295 460Q326 460 354 454T415 426T471 371T510 277T526 136Q526 42 501 -28T432 -136T341 -192T240 -210Q199 -210 169 -201T121 -178T94 -146T80 -112T77 -82Q77 -51 95 -33T143 -15Q170 -15 189 -33T209 -81Q209 -116 175 -140ZM377 244V274Q377 300 376 316T368 352T348 384T312 405Q307 406 283 406Q257 406 238 396T213 376T205 361Q196 341 196 259V233V181Q196 122 211 96T278 69H298Q330 82 345 104Q367 134 376 190Q377 200 377 244',
    0x41: '761 751Q784 751 784 728V711Q784 570 795 417T820 191Q844 76 865 76Q868 76 902 93T962 112H973Q989 104 989 94Q989 92 987 86Q978 47 846 -11Q812 -25 779 -26Q722 -26 708 9Q688 47 669 161H524L379 162L359 136Q286 43 234 -3T142 -49T71 -19T39 55Q39 92 60 131T103 174Q113 174 117 167T124 149T136 128T166 110Q183 105 190 105Q230 105 341 246Q401 322 453 397T531 514T582 601T611 651H640V663Q640 692 676 718T745 750Q747 750 752 750T761 751ZM658 266Q653 312 649 377T644 489T641 541V556L557 415Q500 325 448 253Q467 261 524 261H568H658V266',
    0x42: '441 83Q571 83 571 195Q571 246 538 279T466 322T386 333Q378 333 357 330T329 327Q307 327 307 345Q307 354 313 365T347 396T419 430Q546 472 581 498Q594 508 594 535Q594 574 567 589T508 604Q469 604 442 583Q390 546 342 457T265 256Q237 148 186 60Q167 29 144 13Q105 -15 68 -17H65Q40 -17 40 1Q40 7 53 29T87 100T124 210Q162 373 190 575Q188 575 174 567T138 550T98 542Q75 542 75 560Q75 588 123 618Q135 625 203 659T281 696Q299 703 316 703Q339 703 339 685Q339 656 328 583L333 588Q338 592 346 599T367 615T394 634T428 654T467 674T511 690T559 701T611 705Q651 704 681 689Q739 659 739 598Q739 507 595 427L584 421Q585 420 595 416T610 410T626 402T644 392T660 380T677 365T691 347T703 325T710 299T715 268Q717 193 665 130Q622 73 531 28T348 -17Q275 -17 225 10Q206 19 200 24T193 36Q193 57 231 86T311 119H322Q386 83 441 83',
    0x43: '243 -20Q135 -20 78 48T20 218Q20 280 39 344T98 470T193 580T324 661T488 702H490Q491 702 493 702T498 703T507 703T518 702H526Q599 702 599 631Q599 597 577 550T541 486Q523 463 490 447T431 430Q423 430 419 433Q409 437 409 450Q410 456 432 499T454 567Q454 586 446 594T415 603Q316 603 254 532Q216 487 190 421T164 284Q164 228 181 186T226 122T282 90T340 80Q377 80 405 96T449 131T492 167T553 187H555Q580 187 580 168Q580 153 551 123T476 60T367 4T243 -20',
    0x44: '107 0Q92 5 92 18Q92 33 113 53T160 86Q170 91 182 94T197 100L206 120Q248 226 273 337T304 501T309 585Q278 585 234 577T179 557Q172 550 166 532T156 509Q140 484 105 466T44 447Q20 447 20 465Q20 482 34 510T76 565Q122 608 173 632Q281 686 447 686H480H517Q692 686 784 631Q885 571 885 450Q885 339 805 239T586 75T286 1Q276 0 187 0H107ZM741 391Q741 424 731 452T694 510T613 558T481 584Q476 584 468 584T457 585L449 586V579Q441 501 425 424T391 292T357 193T330 125T319 100H324Q511 100 628 175Q688 215 714 275T741 391',
    0x45: '495 516Q485 516 478 520T470 532Q470 537 476 550T482 570Q482 589 465 596T401 603Q344 603 319 582Q295 558 295 519Q295 493 312 474T355 445T407 432T455 427Q477 427 477 409Q477 395 453 371T389 333Q380 330 345 327T279 312T223 272Q181 223 181 176Q181 131 225 107T324 83Q366 83 395 98T448 136T487 167Q517 185 547 187H551Q574 187 574 170Q574 151 535 113T421 36T271 -15Q260 -16 226 -16Q181 -16 152 -9Q104 4 71 33T37 111Q37 140 50 176T106 263T216 356Q215 357 207 362T190 374T172 392T156 419T150 456Q150 521 208 580T341 670T474 702Q475 703 499 703Q528 703 547 701T586 693T615 673T627 637Q627 584 581 550T495 516',
    0x46: '812 567Q804 567 795 570T786 579Q786 586 647 586H559L558 582Q558 575 539 510T506 407L498 384H775Q788 378 790 368Q790 328 746 298T665 268Q646 268 642 284H457L447 261Q396 150 360 94Q329 46 270 8T149 -30Q123 -30 100 -24T63 -10T37 9T22 26T17 36Q17 59 56 88T135 119Q145 119 149 117T165 104Q187 78 227 72Q232 72 234 76Q245 93 273 145T350 323T424 570L428 586H276Q265 575 239 563T190 551Q180 551 174 556T167 569Q167 580 179 597T213 634T278 668T371 685Q374 686 624 686Q863 685 888 682Q917 678 927 663Q930 658 930 650Q930 624 888 596T812 567',
    0x47: '50 279Q50 361 88 438T190 570T335 661T503 702H514Q524 703 532 703Q671 703 671 626Q671 580 614 514T495 447Q472 447 472 465Q472 477 499 511T527 562Q527 582 507 592T433 602Q351 602 302 569Q252 535 223 469T194 344Q194 266 237 217T352 168Q401 168 442 205T505 316Q515 345 551 368T622 393H625Q649 393 649 376Q649 371 635 318T612 237Q580 129 540 62T442 -49Q353 -114 264 -114Q259 -114 252 -114L246 -113Q190 -113 142 -107T81 -96Q71 -90 71 -81Q71 -57 110 -30T187 2Q196 2 236 -4T338 -14Q371 -14 377 -9Q410 24 446 113L451 127Q353 68 253 68Q157 68 104 129T50 279',
    0x48: '42 447Q20 447 20 465Q20 481 47 515T119 589T239 657T392 686Q443 686 463 664T484 616Q484 570 473 506T452 401L441 360Q441 359 550 359H660L663 370Q684 435 716 522T758 624Q771 646 806 666T870 686Q894 686 894 668Q894 667 867 597T804 416T752 218Q737 135 737 93Q737 77 746 65T778 53Q799 53 803 54T814 63Q831 86 864 103T924 120Q946 120 946 100Q945 85 931 63T888 16T806 -27T684 -48H681Q625 -48 603 -10Q593 4 593 29Q593 71 603 131T624 230L634 269Q632 269 624 266Q610 261 600 261T507 259H411L399 222Q344 62 322 21Q301 -7 268 -24T209 -41H207Q187 -41 185 -25Q185 -17 192 2T220 71T261 184Q284 256 284 258Q284 259 227 259H170Q169 259 166 261T162 264T158 266T156 271T155 277Q155 296 184 320T250 356Q259 358 286 359Q312 359 312 360Q314 372 318 385Q332 450 339 526Q339 530 339 535T340 543Q340 586 296 586Q255 586 227 576T188 553T165 523T146 497Q127 476 97 462T42 447',
    0x49: '56 499Q32 499 32 516Q32 540 64 580T165 649Q241 682 365 685Q366 685 376 685T405 685T445 686T496 686T553 686H732Q746 677 746 668Q746 646 711 620T642 587L572 586H503Q479 546 458 479T424 352T383 224T318 111L309 101L412 100H514L523 109Q567 150 618 153Q644 153 644 135Q644 132 642 124Q629 86 581 52T476 6Q454 2 433 2T216 0Q-11 0 -15 2Q-27 6 -27 18Q-27 37 2 61T59 93Q77 100 142 100H198Q255 177 299 369Q337 513 382 574L391 586H348Q261 586 176 576Q163 543 124 521T56 499',
    0x4A: '286 390Q263 390 263 407Q263 432 293 481T367 566Q511 687 724 687Q738 687 761 687T793 686H923Q937 677 937 668Q937 648 905 623T842 589Q829 587 817 586T802 585T795 583T788 578Q709 506 632 189Q622 153 615 134T588 81T537 17Q482 -39 404 -76T247 -114Q192 -114 158 -100Q53 -61 53 32Q53 59 58 73T79 102Q126 147 177 147Q200 147 200 128Q200 123 198 112T196 96Q196 47 238 17T345 -13Q362 -13 377 -9T404 0T426 16T444 34T459 55T470 76T478 97T483 116T488 132L490 141Q511 222 520 257T554 364T608 486T675 576L685 586H634H612Q532 586 484 564Q453 549 436 526T409 478T395 447Q378 424 345 407T286 390',
    0x4B: '98 542Q75 542 75 560Q75 588 123 618Q132 624 199 657T275 694Q291 703 315 703Q327 703 332 699T338 690T339 670Q339 596 323 505T283 337T237 194T198 90L181 53Q170 31 136 8T68 -17H65Q40 -17 40 0L76 92Q112 185 150 322T194 564V578L168 565Q125 542 98 542ZM834 142Q834 125 819 100T774 48T692 3T576 -16H560Q540 -16 508 6Q469 33 422 108T342 267T309 398Q309 411 310 417T320 442T347 482Q401 542 517 615T710 702Q712 702 721 702T735 703Q772 703 791 690Q819 674 819 646T792 597T733 574H722Q704 584 704 599Q706 607 700 610T672 617L660 613Q609 595 524 538T423 450V440Q423 376 488 247T604 83Q621 70 640 70Q677 70 701 82Q713 87 718 101T737 132T783 160Q792 163 807 163Q834 163 834 142',
    0x4C: '63 -17Q41 -17 41 0Q41 22 85 54Q101 68 113 92T133 141T154 219T182 315Q230 462 306 553Q345 599 391 632T478 678T543 697T582 703Q584 703 589 703T598 702Q643 702 666 676T689 613Q689 588 683 575Q674 551 632 524T552 496Q530 496 530 512Q530 517 531 525T533 538Q533 559 522 577T480 596H476Q462 596 451 588T415 544Q350 447 310 281Q284 181 261 136L255 124H285Q342 123 441 107T583 90L596 89Q603 116 647 144T729 173Q751 173 751 157Q751 118 685 60T523 -15Q514 -16 479 -16Q421 -16 320 0T171 18H155L142 10Q98 -17 63 -17',
    0x4D: '38 20Q38 59 60 99T104 139Q106 139 126 125T176 106H181Q200 106 221 139T286 281Q322 370 342 451T368 581T376 634Q384 657 420 680T487 703Q502 703 507 696T522 649Q538 589 554 537Q579 453 609 372T660 248T686 202Q687 201 739 244T830 322L1166 642Q1225 700 1230 701Q1230 701 1237 703Q1258 703 1258 667L1253 637Q1248 607 1241 558T1227 451T1214 326T1209 202Q1209 77 1232 77Q1237 77 1269 94T1326 112H1329Q1353 112 1353 94Q1353 81 1334 60Q1311 37 1248 7T1150 -24H1141H1135Q1085 -24 1074 26Q1064 75 1064 134Q1064 239 1086 426Q1087 430 1087 434L1061 410Q871 227 783 149L694 76Q653 44 647 40T631 34Q620 34 616 37T594 63Q546 125 514 198Q467 307 423 449L418 466L412 444Q376 310 306 153Q278 88 251 45T201 -18T163 -43T131 -49Q102 -48 70 -31T38 20',
    0x4E: '47 139Q81 105 122 105Q137 105 147 117Q159 134 182 199T234 381T274 610Q275 634 284 647Q297 666 327 684T389 703Q403 703 408 695T428 645Q480 490 567 298Q628 163 673 103Q674 102 674 102T675 106Q732 331 803 551Q842 674 875 725Q908 775 966 807T1081 840H1084Q1105 840 1105 803Q1105 768 1088 733T1051 689Q1045 686 1032 686Q986 683 948 663T901 624Q881 579 837 430T760 154L726 28Q725 28 725 28T723 25Q716 0 682 -24T611 -48Q600 -48 595 -45T576 -23Q522 44 480 124Q417 243 332 463L328 473L325 457Q291 293 227 124Q159 -49 72 -49Q38 -49 5 -28Q-24 -8 -24 21Q-24 58 -3 98T41 139H47',
    0x4F: '433 703Q456 703 456 685Q456 672 441 655T407 627Q402 623 378 611T328 579T276 524Q207 434 207 324Q207 222 270 153T441 84Q566 84 651 177T737 400V405Q737 496 693 549T576 603Q542 603 510 560Q490 537 472 502T442 454Q397 412 346 409Q320 409 320 427Q320 430 322 436Q331 465 360 507T433 594T542 671T677 703Q776 703 829 636T882 468Q882 369 831 277T702 122T528 21T343 -17Q214 -17 139 61T63 257Q63 336 94 409T173 534T272 625T367 684T432 703H433',
    0x50: '170 -67Q147 -67 147 -49Q147 -42 162 -8T204 99T253 254Q274 332 288 415T305 542L308 585Q277 585 234 577T179 557Q172 550 166 532T156 509Q140 484 105 466T44 447Q20 447 20 465Q20 482 34 510T76 565Q122 608 173 632Q279 686 448 686H495H537Q622 686 678 677T784 637Q846 598 846 533Q846 452 776 375T597 252T378 206H366L358 181Q341 130 316 68T282 -7Q262 -33 230 -50T170 -67ZM701 468Q701 512 661 540T570 577T461 586H448V582Q446 576 443 545T428 447T395 301L389 280Q390 280 398 284T419 295T441 303Q443 304 484 306T572 321T651 359Q701 402 701 468',
    0x51: '874 453Q874 372 836 298T750 177T638 89T543 33T486 8L483 7Q485 5 523 -7T622 -32T726 -46Q741 -46 746 -45T755 -41T762 -27Q770 -1 806 23T878 50H890Q905 42 905 33Q905 -8 838 -68T670 -145Q662 -146 628 -146Q538 -146 389 -100T164 -50Q132 -50 132 -32T162 11T227 47Q231 48 286 51T394 62T518 100T641 180Q730 271 730 387Q730 478 673 540T520 602Q410 602 337 525T264 355Q264 284 310 244T420 203Q476 203 568 222Q594 222 594 204Q594 184 565 161T508 128Q433 103 316 103Q227 103 174 157T120 290Q120 382 182 471T343 620T548 697Q578 703 601 703Q604 703 611 703T623 702Q663 702 687 696Q760 679 817 618T874 453',
    0x52: '159 0Q159 5 172 34T205 114T245 229T284 386T309 575V585H304Q303 585 295 585T282 584Q233 579 207 570T175 553T165 531T156 509Q140 484 105 466T44 447Q20 447 20 465Q20 482 34 510T76 565Q122 608 173 632Q279 686 448 686H505H582Q683 686 745 672T834 611Q842 594 842 565Q842 523 824 484T780 419T722 370T669 336T632 318L619 312L626 302Q640 279 667 227T696 172Q717 133 735 112T762 88T784 84Q824 84 872 118T957 153Q981 153 981 136Q981 114 937 78T820 13T684 -17Q646 -17 616 8T569 66T526 151T477 234Q461 256 446 265Q437 272 421 274Q400 274 400 291Q400 311 430 336T495 371Q496 371 543 374T627 392T681 436Q699 467 699 503Q699 550 644 568T471 586H449V582Q449 581 447 559T438 499T422 413T393 298T348 165Q313 73 296 45Q282 24 249 4T185 -17Q159 -17 159 0',
    0x53: '204 476Q204 525 248 577T372 666T539 703T674 683T721 612Q721 588 714 569Q704 547 669 524T601 499Q573 499 573 516Q573 521 575 527T577 543Q577 563 568 574T548 588L539 590Q490 603 444 603Q418 603 394 597T364 583Q348 567 348 533Q348 493 382 466T459 425T555 387T633 330Q662 292 662 249Q662 153 544 69T257 -16Q218 -16 208 -15Q118 1 64 46Q25 76 25 126Q25 185 82 235T203 290H207Q229 290 231 274Q231 243 180 213Q173 209 172 206T170 189T171 170T183 150T216 121Q273 83 356 83Q412 83 459 100Q493 111 507 141Q518 165 518 185Q518 208 506 228T478 262T437 288T398 306T360 320Q316 335 285 352T239 384T215 416T205 443T204 467V476',
    0x54: '61 462H59Q38 462 38 479Q38 528 109 594T289 683L304 685L837 687L846 693Q889 720 923 720Q947 720 947 702Q945 671 892 631T776 583Q774 583 772 583T769 582T766 582L764 581H758Q753 581 744 581T722 580T693 580T662 580H563L514 385Q507 355 493 299T475 225T460 172T443 119T426 76T402 24Q386 -11 355 -33T304 -61T266 -69Q242 -69 242 -50Q243 -45 253 -25T278 32T307 115L364 340Q405 511 413 538T436 580H207Q202 572 200 568T197 561T195 552T190 537Q176 511 135 487T61 462',
    0x55: '124 586Q107 586 74 569T15 552H13Q-10 552 -10 570Q-10 605 70 645T222 686Q283 686 283 631Q283 590 246 504T172 326T135 181Q135 130 157 107T205 83Q221 83 259 106Q347 165 453 301T604 548Q607 557 612 569T619 587T624 600T628 612T632 621T637 628T641 634T647 640T654 645T662 652Q706 686 748 686Q771 686 771 669Q771 656 754 614T700 467T630 229Q615 168 610 105Q610 88 617 78L641 90Q681 111 706 112Q733 112 733 95Q733 82 714 60Q694 40 633 10Q567 -23 532 -24Q507 -24 495 -17Q466 -4 466 32Q466 96 500 225Q277 -17 102 -17Q56 -17 23 17T-10 118Q-10 164 13 234T64 363T115 481T139 567Q139 586 124 586',
    0x56: '25 608Q25 628 60 657T148 686Q184 683 213 671T273 625T327 538T363 394T380 184L381 134L399 148Q503 226 574 302T667 415T689 467Q688 474 684 482T672 502T645 521T600 532Q576 532 576 567Q576 604 597 644T641 685H649Q701 685 737 648T774 545Q774 457 703 333T461 66Q397 13 332 -32T255 -77Q237 -77 237 -30V-23Q241 20 241 109Q241 483 115 569Q91 586 50 589Q25 589 25 608',
    0x57: '25 607Q25 629 62 657T142 686Q205 686 248 647T312 541T339 411T347 275Q347 249 345 203V189Q375 219 449 316T587 516Q629 584 629 587Q629 589 626 597T622 607Q622 629 658 656T732 686H744Q755 680 757 678Q757 677 769 649T799 577T835 475T874 339T904 183Q908 157 910 151L925 169Q997 252 1059 343T1121 474Q1120 498 1103 513T1059 532Q1036 532 1036 568Q1036 600 1053 636T1090 683L1097 686H1109Q1147 684 1176 652T1206 551Q1206 460 1131 320T897 7Q859 -33 840 -52T816 -74T804 -77Q788 -77 784 -32Q783 -28 783 -26Q774 108 744 239T691 436T665 501Q664 501 649 475T602 400T528 289T420 146T280 -15Q243 -56 231 -66T210 -77Q191 -77 191 -40Q191 -38 195 -4T204 91T209 217Q209 290 202 351T177 469T126 557T45 589Q25 589 25 607',
    0x58: '762 562Q762 579 737 584T711 604Q711 630 753 658T834 686Q864 686 885 669T906 627Q906 580 834 522T614 379L584 362V357Q585 354 589 315T597 233T603 183Q610 132 627 116T671 100Q678 100 704 113T754 126T778 107Q776 79 733 45T626 2Q615 1 578 1Q542 1 535 3Q521 7 510 15T491 31T477 54T467 78T460 108T456 137T452 170T449 201Q447 220 445 240T442 270L441 281Q435 281 357 233Q240 165 206 135Q200 128 200 124Q200 113 208 108T226 101T244 96T252 82Q252 61 214 31T129 1H120Q97 1 77 16T56 60Q56 105 133 168T414 345Q428 352 431 354T433 359Q422 493 414 522Q407 551 395 566T373 583T350 586H341L332 580Q290 560 265 560Q243 560 243 577Q243 585 248 596T269 624T306 653T365 676T447 686H456Q472 686 484 683T514 671T543 637T562 576Q565 557 570 501L577 437Q577 436 613 457T694 506T756 551Q762 558 762 562',
    0x59: '73 555Q49 555 49 573Q49 602 110 644T239 686Q319 686 376 624Q416 584 444 511T483 361T499 240T503 173Q503 165 504 165Q506 165 524 184T556 218Q631 297 674 377T718 485Q718 505 699 526Q673 552 628 552Q619 552 613 562T607 590Q607 617 621 645T658 685Q661 686 671 686Q718 686 757 652T797 545Q797 476 749 369T602 146Q500 29 371 -67T176 -164Q112 -164 74 -120T36 -29Q36 5 55 36T95 67Q104 67 108 59T115 39T128 12T154 -12Q183 -30 216 -30Q239 -30 305 7L361 44L367 49V54Q367 95 364 143T351 273T312 429T243 546Q206 581 156 588L146 581Q108 555 73 555',
    0x5A: '622 574Q522 579 420 579H396Q373 579 364 574T351 550Q339 516 297 490T218 462Q195 462 195 479Q195 487 197 492Q218 565 313 625T509 685Q564 685 650 683T755 680Q787 680 807 683T831 686Q853 686 853 669Q853 657 826 626Q742 532 641 437L619 415L622 414Q626 414 631 414T642 414Q697 411 697 388Q697 367 670 345T607 323Q605 323 592 325T546 329H522L490 302Q457 274 400 226T289 136L260 113L318 112Q345 111 452 109T587 106H627Q650 143 656 170Q666 197 710 225T788 253Q811 253 811 237Q811 211 781 160T710 77Q619 0 515 0Q507 0 497 0T484 1Q434 1 319 3T177 6Q123 6 95 2Q83 2 71 0H68Q46 0 46 17Q46 28 58 44Q68 56 100 80T210 165T383 307L408 329H361L314 330Q297 338 297 350Q297 368 320 388T368 413Q375 415 441 415H506L647 555L664 574H622',
},{
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2212">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {texOldstyle as font} from '../../../common/fonts/tex/tex-oldstyle.js';

export const texOldstyle: SVGCharMap = AddPaths(font, {
    0x30: '39 213Q39 274 53 319T89 389T139 429T192 448T242 452Q347 452 400 400Q460 335 460 213Q460 -22 250 -22Q39 -22 39 213ZM364 242Q364 279 363 301T355 348T338 385T306 406T254 415Q250 415 245 415T238 416Q217 416 190 404T150 368Q136 339 136 221Q136 114 146 78T200 23Q219 16 250 16Q280 16 299 23Q341 41 352 77T364 221V242',
    0x31: '116 410Q176 412 215 423T269 443T288 453H291Q293 453 301 447V254Q301 62 303 60Q307 52 322 49T394 46Q418 46 422 43T426 23Q426 8 424 4T411 0Q407 0 369 1T258 2T148 1T106 0Q96 0 94 4T91 23Q91 40 95 43T123 46Q180 46 195 49T215 61Q216 63 216 220V376Q192 367 119 364H93L86 371V403L92 410H116',
    0x32: '55 334Q55 386 105 419T236 453Q333 453 390 413T448 307Q448 278 437 256T406 218T365 193T318 172T277 151L248 134Q219 118 191 102T163 84T267 83L382 85H391Q399 99 406 126Q410 143 413 145T429 148Q440 148 442 147T449 139Q449 137 435 73T420 7Q420 6 414 0H233Q94 0 71 0T46 5Q46 5 46 6Q44 8 44 24Q44 39 46 41Q47 44 98 78T212 155T294 212Q347 257 347 304Q347 354 306 380T203 407Q150 407 120 377Q118 375 123 373Q146 362 146 332Q146 315 133 302T101 288Q85 288 70 298T55 334',
    0x33: '69 312Q69 377 122 414T233 452Q333 452 381 409T430 313Q430 268 402 223T311 149L301 144Q307 143 317 140T355 123T402 92T439 44T456 -25Q456 -101 396 -158T241 -216Q154 -216 98 -173T42 -68Q42 -58 44 -50T50 -35T57 -25T66 -17T75 -13T82 -10L87 -8Q92 -7 102 -7Q132 -7 147 -25T162 -66Q162 -112 118 -125L113 -126Q113 -129 127 -140T173 -162T239 -173Q268 -173 292 -158Q345 -124 345 -24Q345 33 329 67Q298 125 229 125H210H172Q166 131 166 142Q166 159 172 161Q178 161 208 164T244 169Q251 169 263 176T291 199T316 245T327 314Q327 413 238 413Q182 413 130 369Q177 350 181 312Q181 289 166 273T125 257Q102 257 86 272T69 312',
    0x34: '163 0Q139 0 109 0T71 -1Q43 -1 36 2T28 15V27V46L190 270Q325 457 330 462Q333 464 352 464H371L377 458V46H464L471 40V6L464 0H377V-65V-108Q377 -131 379 -137T391 -144Q409 -148 446 -148H464Q468 -151 471 -155V-187L464 -194H453Q395 -192 325 -192Q222 -192 210 -194H199L193 -188V-154L199 -148H228Q241 -148 250 -148T265 -146T275 -145T281 -143T284 -141T286 -138T289 -134V0H163ZM295 46V350L75 46H295',
    0x35: '159 -44Q159 -66 145 -80T109 -96H102L107 -105Q148 -173 228 -173Q255 -173 280 -162Q351 -128 351 -6V8Q351 67 344 98T316 151Q288 176 255 176Q175 176 136 109Q129 100 114 100Q97 100 95 106Q93 110 93 277V403Q93 451 98 451Q100 452 103 452Q105 452 124 445T177 431T251 423Q294 423 328 430T380 445T401 453Q410 453 410 435V422Q332 331 203 331Q152 331 140 339Q139 339 139 254V168Q194 214 256 214Q332 214 390 154T448 0Q448 -95 381 -155T229 -216Q153 -216 104 -166T50 -49Q50 -15 66 -1T105 13Q128 13 143 -3T159 -44',
    0x36: '42 313Q42 401 68 472T133 583T215 644T296 665H304Q317 665 329 664T360 657T393 640T418 608T432 557Q432 533 422 519T401 502T380 498Q358 498 343 512T328 550Q328 591 367 601L372 602Q372 604 365 609T341 620T307 626Q260 626 226 600T174 537Q147 483 143 376V356Q192 434 266 434Q317 434 357 409Q406 375 435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM251 396Q211 396 178 354T145 217Q145 159 152 122T166 73T187 47Q216 21 252 21Q294 21 321 47Q342 68 349 99T356 203V232Q356 264 354 285T345 331T322 373T280 395Q274 396 251 396',
    0x37: '75 246Q64 246 62 247T55 255Q55 259 72 357T90 458L94 462H99Q104 463 109 463H121Q128 460 128 452Q128 445 134 441T165 435T233 432T356 431H478L485 425V392L414 298Q408 290 385 260T358 223T337 191T317 154T302 116T289 68T282 14T275 -55T274 -137Q274 -173 272 -177Q262 -216 223 -216Q170 -216 170 -157V-148Q172 -78 189 -12T237 109T288 196T338 266Q345 275 348 279Q395 340 395 342Q396 343 376 343T274 343Q122 342 117 339T103 294T90 248Q88 246 75 246',
    0x38: '69 496Q69 570 124 618T247 666Q321 666 375 624T429 515Q429 468 405 433T320 361L346 344Q385 320 403 301T439 250Q456 212 456 181V172V160Q456 141 449 119T426 71T386 26T326 -8T246 -21Q160 -21 102 30T43 155Q43 265 167 332L176 337L161 347Q105 384 87 423Q69 458 69 496ZM371 513Q371 567 334 596T249 626Q198 626 163 598T127 532Q127 521 129 511T138 492T150 476T167 460T185 447T207 433T228 420L284 384L294 391Q346 424 363 469Q371 486 371 513ZM190 21T250 21T351 56T393 140Q393 180 362 213Q354 221 317 246T246 292L212 313Q210 313 200 307T173 287T142 256T117 212T106 157Q106 100 148 61',
    0x39: '171 -101Q171 -118 163 -130T146 -146T134 -151Q132 -151 132 -152Q132 -154 140 -159T167 -168T206 -173Q274 -173 317 -108Q356 -50 356 79V86L350 77Q308 9 231 9Q150 9 92 81Q42 141 42 228Q42 289 64 333Q93 390 142 421T235 452Q237 452 244 452T255 453Q289 453 321 439T386 391T437 290T457 128Q457 -29 381 -122T206 -216Q148 -216 108 -187T67 -104Q67 -75 84 -62T119 -49Q141 -49 156 -63T171 -101ZM242 46Q293 46 324 94T355 223Q355 323 337 356Q316 401 275 410Q267 412 248 412Q206 412 179 386Q155 360 149 328T143 224Q143 120 163 88Q192 46 242 46',
    0x41: '576 668Q576 688 606 708T660 728Q676 728 675 712V571Q675 409 688 252Q696 122 720 57Q722 53 723 50T728 46T732 43T737 41T743 39L754 45Q788 61 803 61Q819 61 819 47Q818 43 814 35Q799 15 755 -7T675 -30Q659 -30 648 -25T630 -8T621 11T614 34Q603 77 599 106T594 146T591 160V163H460L329 164L316 145Q241 35 196 -7T119 -50T59 -24T30 43Q30 75 46 100T74 125Q81 125 83 120T88 104T96 84Q118 57 151 57Q189 57 277 182Q432 400 542 625L559 659H567Q574 659 575 660T576 668ZM584 249Q579 333 577 386T575 473T574 520V581L563 560Q497 426 412 290L372 228L370 224H371L383 228L393 232H586L584 249',
    0x42: '304 342Q292 342 292 353Q292 372 323 391Q331 396 417 428T533 487Q563 512 563 555V562Q563 575 557 589T530 618T475 636Q429 636 396 613T330 539Q263 446 210 238Q196 183 173 120Q135 31 121 16Q108 1 85 -10T47 -22T32 -10Q32 -5 44 18T77 93T112 206Q135 296 154 395T182 550T191 615Q191 616 190 616Q188 616 179 611T157 601T131 594Q113 594 113 605Q113 623 144 644Q154 650 205 676T267 703Q277 705 279 705Q295 705 295 693Q295 686 288 635T278 575Q278 572 287 582Q336 635 402 669T540 704Q603 704 633 673T664 599Q664 559 638 523T580 462Q553 440 504 413L491 407L504 402Q566 381 596 338T627 244Q627 172 575 110T444 13T284 -22Q208 -22 158 28Q144 42 146 50Q150 67 178 85T230 103Q236 103 246 95T267 75T302 56T357 47Q436 47 486 93Q526 136 526 198V210Q526 228 518 249T491 292T436 330T350 345Q335 345 321 344T304 342',
    0x43: '201 -25Q167 -25 136 -14T75 23T29 94T12 202Q12 290 50 394T161 574Q227 642 303 673T433 704Q435 705 457 705Q533 701 533 640Q533 606 507 548T464 474Q431 444 396 444Q381 444 381 453Q381 459 388 473T407 513T428 563Q433 580 433 594Q433 636 381 636Q314 636 260 594T175 489T128 363T112 247Q112 157 153 101T273 44Q347 44 398 121Q413 144 437 157T481 171Q496 171 496 160Q496 150 476 123Q426 56 350 16T201 -25',
    0x44: '37 475Q19 475 19 487Q19 536 103 604T327 682H356Q386 683 408 683H419Q475 683 506 681T582 668T667 633Q766 571 766 450Q766 365 723 287T611 152T455 57T279 6Q248 1 160 0Q148 0 131 0T108 -1Q72 -1 72 11Q72 24 90 40T133 64L144 68L152 88Q247 328 272 587Q275 613 272 613Q272 613 269 613Q225 610 195 602T149 579T129 556T119 532Q118 530 116 525T113 518Q102 502 80 490T37 475ZM665 407Q665 596 412 613Q403 614 383 614Q370 614 370 612Q370 598 363 542T323 357T242 103L228 69H265Q391 73 481 119Q536 148 575 188T633 268T658 338T665 392V407',
    0x45: '144 470Q144 556 240 630T451 705Q564 705 564 637Q564 611 540 573Q529 559 505 547T464 534Q448 534 448 545Q448 552 455 562Q463 577 463 591Q463 600 462 604T456 616T436 627T400 635Q396 635 390 635T380 636Q291 636 258 568Q245 544 245 516Q245 463 290 438T391 410Q415 410 415 398Q415 392 407 380T376 356T326 341Q288 340 260 327Q218 311 187 276T143 208T130 151Q130 113 156 88T211 55T268 47Q349 47 403 125Q415 144 439 157T483 171Q499 171 499 160Q499 148 475 120T413 59T315 3T197 -22Q124 -22 77 14T30 105Q30 126 39 154T66 216T122 288T209 354L223 362Q144 400 144 470',
    0x46: '199 579Q181 579 181 590Q181 598 188 611T212 639T260 666T335 682Q336 682 349 682T383 682T431 682T493 683T561 683Q776 682 784 681Q826 673 829 647Q829 620 797 600T744 580Q728 580 728 595Q729 607 713 610Q698 613 598 614H500L499 610Q499 598 467 486T428 367Q428 365 551 365H674Q683 360 684 355Q687 346 677 329Q666 312 642 299T598 285Q586 285 582 296H402L394 277Q386 258 373 229T346 167T315 102T286 51Q265 22 225 -5T133 -32Q108 -32 87 -25T54 -7T33 15T21 35T18 47Q18 60 44 80T98 103Q108 103 111 101T119 88Q130 66 150 54T179 39T195 37Q199 37 203 43Q217 67 245 125T318 300T391 532Q393 543 398 564T406 598T409 613T339 614H269Q229 579 199 579',
    0x47: '216 68Q155 68 115 100T59 177T44 273Q44 299 50 333T73 421T133 533T239 632Q346 704 466 704Q508 704 515 703Q555 696 577 681T599 635Q599 605 570 560T523 496Q490 466 455 466Q440 466 440 475T469 526T499 589Q499 605 489 617Q460 636 403 636Q343 636 295 611T220 548T174 464T150 382T144 318Q144 241 180 189T287 137Q325 137 359 160Q428 205 466 322Q472 342 501 359T551 376Q557 376 560 373T564 368L565 365Q560 341 551 302T512 173T451 31Q359 -119 204 -119Q163 -118 127 -109T74 -91T53 -77Q52 -75 52 -71Q52 -54 79 -35T132 -14H140L151 -19Q210 -49 281 -49H289Q312 -49 329 -31Q351 -7 372 36T405 109T416 142L408 136Q401 131 392 125T369 111T338 96T303 82T261 72T216 68',
    0x48: '18 487Q18 496 29 517T67 566T127 621T216 665T330 683Q359 683 376 669T397 643T400 622Q400 584 382 488T348 343Q348 342 467 342H587L594 366Q615 440 648 534T690 641Q701 656 723 669T764 683Q783 683 783 672L750 578Q716 485 677 346T625 101Q624 92 623 82T622 65T621 56Q621 20 658 20Q666 20 701 25Q709 52 736 69T785 87Q803 87 803 75T791 44T754 3T685 -33T588 -48Q568 -48 562 -46Q522 -31 522 13V23Q531 129 562 250L569 281L565 280Q561 278 556 277T549 274L438 273H328L321 249Q307 202 275 107T232 0Q219 -16 196 -28T155 -41Q149 -41 145 -39T140 -34T139 -29Q139 -24 148 -3T181 86T233 247Q240 270 240 272Q240 273 194 273H169Q139 273 139 285Q139 295 153 308T187 332Q206 341 236 342L260 343L264 359Q278 414 289 482T300 578Q300 613 260 613H254Q198 613 169 592Q148 578 127 544T104 508Q72 478 37 475Q18 475 18 487',
    0x49: '174 0H31Q-13 0 -21 2T-30 12Q-30 23 -17 36Q9 60 42 68L155 70Q187 102 214 179T257 333T302 491T366 610L369 614H305Q221 611 188 607T145 596T128 569Q119 543 94 529T47 512Q28 512 28 524Q28 527 32 539Q56 614 159 654Q218 678 312 682Q314 682 339 682T404 682T481 683H632Q642 678 642 671Q642 657 621 641T577 617Q570 615 507 614H444Q427 592 406 542Q382 478 355 366T310 209Q280 123 238 78L230 69H330Q442 70 442 74Q443 74 443 77T447 87T460 105Q490 134 527 137Q545 137 545 125Q545 120 542 112Q531 78 491 49T399 7Q379 2 360 2T174 0',
    0x4A: '148 78Q148 16 189 -17T286 -50Q319 -50 348 -33T396 10T426 59T444 101L471 204Q498 306 521 372Q575 532 649 605L659 614H591Q517 613 494 607Q433 591 400 550T360 477Q353 454 325 437T275 419Q256 419 260 435Q280 523 376 597T583 681Q603 683 713 683H830Q839 674 839 671Q839 654 810 634T754 614Q735 614 721 601Q688 571 654 495T600 351T561 209T541 132Q507 29 412 -45T213 -119Q141 -119 94 -77T47 33Q47 55 50 69T58 90T71 103Q105 131 135 131Q152 131 152 120Q152 119 151 114T149 99T148 78',
    0x4B: '194 618Q193 618 182 613T156 601T131 594Q113 594 113 605Q113 623 144 644Q154 650 205 676T267 703Q277 705 279 705Q295 705 295 691Q295 569 250 397Q225 306 197 217T151 81T128 25Q120 8 94 -7T47 -22Q32 -22 32 -10L64 76Q95 163 133 295T185 530Q198 611 194 618ZM331 429Q331 383 364 290T449 117T542 36Q574 36 607 51T652 103Q660 124 677 133T709 143Q727 143 727 128Q727 119 723 111Q704 56 639 17T497 -22H493Q463 -22 425 16Q401 40 382 71Q335 138 296 243T256 399Q256 434 288 473Q342 540 471 622T670 705Q691 704 703 696Q732 678 732 644Q732 613 714 600T677 586Q671 586 667 587T660 592T657 604V619Q657 647 629 647Q623 647 620 646Q576 635 495 583T365 482Q331 448 331 429',
    0x4C: '62 -22T47 -22T32 -11Q32 -1 56 24T83 55Q113 96 138 172T180 320T234 473T323 609Q364 649 419 677T531 705Q559 705 578 696T604 671T615 645T618 623V611Q618 582 615 571T598 548Q581 531 558 520T518 509Q503 509 503 520Q503 523 505 536T507 560Q507 590 494 610T452 630Q423 630 410 617Q367 578 333 492T271 301T233 170Q211 123 204 112L198 103L224 102Q281 102 369 79T509 52H523Q535 64 544 87T579 128Q616 152 641 152Q656 152 656 142Q656 101 588 40T433 -22Q381 -22 289 1T156 28L141 29L131 20Q111 0 87 -11',
    0x4D: '28 9Q28 37 43 63T73 90Q77 90 83 84T103 70T141 57H146Q162 57 178 79T222 167Q266 279 295 371T334 513T349 598T358 651T371 677Q397 705 432 705Q442 705 445 699T452 666Q453 661 453 659Q475 538 509 405T568 207L574 192Q581 178 587 164T594 150Q596 150 635 189T693 248Q765 324 863 438T1024 626T1089 701Q1093 705 1100 705Q1111 705 1111 682Q1111 675 1108 660T1099 611T1086 540Q1041 277 1041 144Q1041 98 1044 75T1050 48T1059 42Q1064 41 1075 46Q1102 61 1121 61Q1137 61 1137 50Q1137 28 1087 0T1000 -29Q983 -29 972 -23T955 -9T945 16T942 45T941 83V96Q941 158 952 256T974 422L985 489Q984 489 939 436T821 300T698 164Q665 128 620 85T568 37Q564 34 558 34Q550 34 546 37T535 54Q512 91 496 127T450 259T389 498L384 518Q349 367 294 223T198 15Q155 -50 117 -50Q87 -50 61 -35T30 -6Q28 2 28 9',
    0x4E: '343 705Q358 705 358 698Q360 696 370 658T411 524T484 319Q536 174 590 82L595 73L615 152Q646 274 683 407Q729 571 752 637T799 727Q852 780 937 788Q939 788 947 788T958 789H962Q979 789 979 765Q979 722 951 692Q942 683 924 683Q888 681 859 672T818 654T803 639Q784 608 708 322T631 15Q631 14 630 15Q630 17 629 15Q628 14 628 12Q621 -4 601 -17T560 -31Q550 -31 546 -28T530 -7Q484 67 458 123T398 272Q352 392 314 514L306 535V534Q306 533 296 488T272 379T234 239T185 100T127 -7T61 -50Q34 -50 4 -34T-27 8Q-27 33 -12 61T18 90Q21 90 36 77T87 57H92Q109 57 123 78T162 173Q206 299 232 417T265 599T276 667Q284 681 304 693T343 705',
    0x4F: '308 428Q289 428 289 438Q289 457 318 508T378 593Q417 638 475 671T599 705Q688 705 732 643T777 483Q777 380 733 285T620 123T464 18T293 -22Q188 -22 123 51T58 245Q58 327 87 403T159 533T249 626T333 685T388 705Q404 705 404 693Q404 674 363 649Q333 632 304 606T239 537T181 429T158 290Q158 179 214 114T364 48Q489 48 583 165T677 438Q677 473 670 505T648 568T601 617T528 636Q518 636 513 635Q486 629 460 600T419 544T392 490Q383 470 372 459Q341 430 308 428',
    0x50: '37 475Q19 475 19 487Q19 536 103 604T327 682Q329 682 344 682T380 682T421 683H463Q625 683 695 615Q718 591 726 564Q733 547 733 525Q733 412 607 312T321 205H312Q293 205 293 217Q293 224 302 236T333 260T385 274Q558 287 614 407Q633 445 633 477Q633 515 612 543T556 585T481 607T399 614H370L368 603Q352 463 312 312T242 82T202 -13Q190 -33 164 -45T121 -57Q108 -57 108 -45Q108 -40 120 -10T151 73T192 190T233 349T266 539Q267 546 269 565T272 598T274 613H270Q209 613 163 588Q131 572 113 518Q102 502 80 490T37 475',
    0x51: '114 286Q114 358 151 433T249 569T392 667T558 705Q653 705 713 641T774 460Q774 389 750 322T687 206T600 114T504 46T412 4L399 -2Q542 -62 636 -62Q660 -62 670 -54T686 -27T700 0Q734 34 770 34Q787 34 787 23Q787 -18 720 -74T563 -131Q485 -131 350 -83T145 -34Q127 -34 127 -22Q127 -12 144 5T190 31L200 34L237 35Q386 38 467 79Q550 120 612 210T675 416Q675 510 625 573T484 636Q410 636 346 587T248 469T214 333Q214 306 221 281T243 229T288 188T360 172Q403 172 441 188T490 205Q510 205 510 192Q505 162 432 132T287 102Q206 102 160 155T114 286',
    0x52: '37 475Q19 475 19 487Q19 503 35 530T83 589T180 647T327 682H374Q387 682 417 682T464 683Q519 683 559 679T642 663T708 625T731 557Q731 481 668 411T504 300Q506 296 512 286T528 257T553 202Q594 105 611 82Q635 47 665 47Q708 47 742 93Q758 113 786 128Q804 136 819 137Q837 137 837 125Q837 115 818 92T767 43T687 -2T589 -22Q549 -22 517 22T467 120T422 221T362 273Q346 273 346 287Q348 301 373 320T436 342Q437 342 446 343T462 345T481 348T504 353T527 362T553 375T577 393Q598 412 614 443T630 511Q630 545 613 566T541 600T393 614Q370 614 370 613L366 584Q349 446 311 307T243 96L213 25Q205 8 179 -7T132 -22Q125 -22 120 -18T117 -8Q117 -5 130 26T163 113T205 239T246 408T274 606V614Q273 614 259 613T231 609T198 602T163 588Q131 572 113 518Q102 502 80 490T37 475',
    0x53: '554 512Q536 512 536 522Q536 525 539 539T542 564Q542 588 528 604Q515 616 482 625T410 635Q374 635 349 624T312 594T295 561T290 532Q290 505 303 482T342 442T378 419T409 404Q435 391 451 383T494 357T535 323T562 282T574 231Q574 133 464 56T220 -22Q138 -22 78 21T18 123Q18 184 61 227T156 274Q178 274 178 263Q178 260 177 258Q172 247 164 239T151 227T136 218L127 213L124 202Q118 186 118 163Q120 124 165 86T292 48Q374 48 423 86T473 186V193Q473 267 347 327Q268 364 239 389Q191 431 191 486Q191 547 242 600T356 679T470 705Q472 705 478 705T489 704Q551 704 596 682T642 610Q642 566 621 545Q592 516 554 512',
    0x54: '49 475Q34 475 34 490Q34 552 106 611T261 681Q272 683 507 683H742Q790 717 816 717Q833 717 833 708Q833 682 795 653T714 615Q691 610 588 609Q490 609 490 607L483 580Q476 554 462 496T435 392Q410 289 395 231T363 116T335 34T309 -15T279 -47T242 -64Q231 -68 218 -68Q203 -68 203 -57Q203 -52 211 -38Q224 -7 234 20T251 66T268 123T283 179T304 261T328 360Q342 415 360 488Q380 567 384 582T397 605Q400 607 401 609H302H244Q200 609 188 607T167 596Q145 572 145 541Q145 520 109 498T49 475',
    0x55: '8 592Q8 616 70 649T193 683Q246 683 246 631Q246 587 205 492T124 297T83 143Q83 101 100 75T154 48Q202 48 287 135T450 342T560 553Q589 635 593 640Q603 656 626 668T669 683H670Q687 683 687 672T670 616T617 463T547 220Q525 137 521 68Q521 54 522 50T533 42L543 47Q573 61 588 61Q604 61 604 47Q599 16 506 -22Q486 -28 468 -28T436 -18T421 18Q421 92 468 258Q468 259 467 257T459 248Q426 206 391 167T303 81T194 6T83 -22Q66 -22 58 -20Q25 -11 4 19T-17 99Q-17 146 8 220T64 358T120 488T146 586Q146 604 141 608T123 613H120Q99 613 72 597T25 580Q8 580 8 592',
    0x56: '25 633Q25 647 47 665T100 683Q291 683 291 306Q291 264 288 213T282 132L279 102Q281 102 308 126T378 191T464 279T545 381T596 479Q600 490 600 502Q600 527 581 550T523 577Q505 577 505 601Q505 622 516 647T542 681Q546 683 558 683Q605 679 631 645T658 559Q658 423 487 215Q409 126 308 37T190 -52Q177 -52 177 -28Q177 -26 183 15T196 127T203 270Q203 356 192 421T165 523T126 583T83 613T41 620Q25 620 25 633',
    0x57: '25 633Q25 647 46 665T103 683Q168 683 207 632Q228 608 243 568Q269 485 269 374Q269 324 265 271T256 184L251 150L252 152Q254 153 257 157T264 167T274 180T286 197Q359 293 424 398T519 558T549 616Q549 618 547 624T545 638Q550 654 572 668T615 683Q626 683 632 672T657 595Q726 370 741 128L742 110Q752 122 767 142T823 217T894 321T950 424T976 511Q976 544 958 560T918 577Q906 577 906 602Q906 629 918 651T942 681Q948 683 954 683Q983 683 1008 658T1034 569T999 421T915 257T813 109T724 -3T681 -49Q666 -59 660 -45Q659 -41 657 35T639 233T591 477Q573 551 570 551Q569 551 554 523T507 439T433 315T323 155T182 -25Q160 -52 151 -53Q137 -53 137 -30Q137 -29 148 25T170 168T181 338Q181 424 168 483T131 571T87 609T40 620Q25 620 25 633',
    0x58: '324 614Q291 576 250 573Q231 573 231 584Q231 589 232 592Q235 601 244 614T271 643T324 671T400 683H403Q462 683 481 610Q485 594 490 545T498 454L501 413Q504 413 551 442T648 509T705 561Q707 565 707 578Q707 610 682 614Q667 614 667 626Q667 641 695 662T755 683Q765 683 775 680T796 662T807 623Q807 596 792 572T713 499T530 376L505 361V356Q508 346 511 278T524 148T557 75Q569 69 580 69Q585 69 593 77Q624 108 660 110Q667 110 670 110T676 106T678 94Q668 59 624 30T510 0Q487 0 471 9T445 32T430 71T422 117T417 173Q416 183 416 188Q413 214 411 244T407 286T405 299Q403 299 344 263T223 182T154 122Q152 118 152 105Q152 69 180 69Q183 69 187 66T191 60L192 58V56Q192 41 163 21T105 0Q94 0 84 3T63 21T52 60Q52 77 56 90T85 131T155 191Q197 223 259 263T362 327T402 352L391 489Q391 492 390 505T387 526T384 547T379 568T372 586T361 602T348 611Q346 612 341 613T333 614H324',
    0x59: '65 599Q65 618 107 650T204 683Q267 683 312 643T380 533T414 385T424 217Q424 186 423 160T422 123Q426 123 468 170T567 304T650 469Q661 503 661 519Q661 546 639 570Q615 591 583 591Q569 591 569 616Q569 640 582 661T613 683Q624 683 638 679T671 664T702 625T714 558Q714 472 639 329T426 45Q361 -21 282 -82T154 -143Q97 -143 64 -104T31 -20Q31 4 44 25T70 46Q78 46 81 39T87 16T97 -9Q127 -51 182 -51Q184 -51 187 -50H190Q233 -41 314 25Q330 36 330 40Q336 79 336 178Q336 508 223 594Q199 614 158 619L148 620L139 611Q111 586 83 586Q65 586 65 599',
    0x5A: '694 220Q708 220 708 210Q708 195 695 167T658 105T593 42T502 3Q492 1 458 1Q400 1 293 11T150 22Q116 22 92 11T51 0Q37 0 37 10Q37 21 63 44T179 146T367 319L391 343H343L296 344Q285 350 285 358Q285 365 289 372T300 383T313 392T324 398L329 400H450L561 518Q597 558 607 571L621 587H596Q553 589 484 599T383 609Q342 609 326 596T301 555Q294 533 263 514T208 492Q189 492 189 503Q189 510 197 528T215 559Q249 607 318 645T466 683Q504 683 573 673T669 662L690 661Q734 682 748 683Q767 683 767 673Q767 666 746 640Q655 531 555 428L529 400Q529 399 543 399Q604 397 604 366Q604 350 587 337T551 322Q541 322 539 323Q529 328 529 334Q529 339 487 342L470 343L446 320Q272 153 200 96L235 95Q297 95 392 86T533 74H554Q586 116 597 159Q604 179 635 199T694 220',
},{
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2213">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {texSize3 as font} from '../../../common/fonts/tex/tex-size3.js';

export const texSize3: SVGCharMap = AddPaths(font, {
    0x28: '701 -940Q701 -943 695 -949H664Q662 -947 636 -922T591 -879T537 -818T475 -737T412 -636T350 -511T295 -362T250 -186T221 17T209 251Q209 962 573 1361Q596 1386 616 1405T649 1437T664 1450H695Q701 1444 701 1441Q701 1436 681 1415T629 1356T557 1261T476 1118T400 927T340 675T308 359Q306 321 306 250Q306 -139 400 -430T690 -924Q701 -936 701 -940',
    0x29: '34 1438Q34 1446 37 1448T50 1450H56H71Q73 1448 99 1423T144 1380T198 1319T260 1238T323 1137T385 1013T440 864T485 688T514 485T526 251Q526 134 519 53Q472 -519 162 -860Q139 -885 119 -904T86 -936T71 -949H56Q43 -949 39 -947T34 -937Q88 -883 140 -813Q428 -430 428 251Q428 453 402 628T338 922T245 1146T145 1309T46 1425Q44 1427 42 1429T39 1433T36 1436L34 1438',
    0x2F: '81 -949Q71 -949 63 -941T55 -921Q55 -917 56 -915Q59 -906 498 264T939 1438Q945 1450 960 1450Q972 1450 980 1441T988 1421Q982 1403 839 1020L398 -155Q107 -934 103 -938Q96 -949 81 -949',
    0x5B: '247 -949V1450H516V1388H309V-887H516V-949H247',
    0x5C: '988 -922Q988 -933 980 -941T962 -949Q947 -949 940 -938Q936 -934 645 -155L204 1020Q56 1416 56 1424Q56 1433 62 1441T84 1450Q97 1448 103 1439Q107 1435 398 656L839 -519Q988 -918 988 -922',
    0x5D: '11 1388V1450H280V-949H11V-887H218V1388H11',
    0x7B: '618 -943L612 -949H582L568 -943Q472 -903 411 -841T332 -703Q327 -682 327 -653T325 -350Q324 -28 323 -18Q317 24 301 61T264 124T221 171T179 205T147 225T132 234Q130 238 130 250Q130 255 130 258T131 264T132 267T134 269T139 272T144 275Q207 308 256 367Q310 436 323 519Q324 529 325 851Q326 1124 326 1154T332 1205Q369 1358 566 1443L582 1450H612L618 1444V1429Q618 1413 616 1411L608 1406Q599 1402 585 1393T552 1372T515 1343T479 1305T449 1257T429 1200Q425 1180 425 1152T423 851Q422 579 422 549T416 498Q407 459 388 424T346 364T297 318T250 284T214 264T197 254L188 251L205 242Q290 200 345 138T416 3Q421 -18 421 -48T423 -349Q423 -397 423 -472Q424 -677 428 -694Q429 -697 429 -699Q434 -722 443 -743T465 -782T491 -816T519 -845T548 -868T574 -886T595 -899T610 -908L616 -910Q618 -912 618 -928V-943',
    0x7D: '131 1414T131 1429T133 1447T148 1450H153H167L182 1444Q276 1404 336 1343T415 1207Q421 1184 421 1154T423 851L424 531L426 517Q434 462 460 415T518 339T571 296T608 274Q615 270 616 267T618 251Q618 241 618 238T615 232T608 227Q542 194 491 132T426 -15L424 -29L423 -350Q422 -622 422 -652T415 -706Q397 -780 337 -841T182 -943L167 -949H153Q137 -949 134 -946T131 -928Q131 -914 132 -911T144 -904Q146 -903 148 -902Q299 -820 323 -680Q324 -663 325 -349T327 -19Q355 145 541 241L561 250L541 260Q356 355 327 520Q326 537 325 850T323 1181Q315 1227 293 1267T244 1332T193 1374T151 1401T132 1413Q131 1414 131 1429',
    0x2C6: '1439 564Q1434 564 1080 631T722 698Q719 698 362 631Q7 564 4 564L0 583Q-4 602 -4 603L720 772L1083 688Q1446 603 1447 603Q1447 602 1443 583L1439 564',
    0x2DC: '1 643Q1 646 76 671T271 722T476 749Q555 749 626 736T742 706T856 676T999 662Q1088 662 1192 684T1363 727T1432 749Q1432 745 1437 731T1442 716Q1442 714 1381 693T1212 645T1012 611Q1000 610 955 610Q851 610 701 653T444 697Q355 697 251 676T80 632T11 610Q11 614 6 628T1 643',
    0x302: '-5 564Q-9 564 -363 631T-722 698Q-725 698 -1082 631Q-1437 564 -1440 564L-1444 583Q-1448 602 -1448 603L-724 772L-361 688Q2 603 3 603Q3 602 -1 583L-5 564',
    0x303: '-1443 643Q-1443 646 -1368 671T-1173 722T-968 749Q-889 749 -818 736T-702 706T-588 676T-445 662Q-356 662 -252 684T-81 727T-12 749Q-12 745 -7 731T-2 716Q-2 714 -63 693T-232 645T-432 611Q-444 610 -489 610Q-593 610 -743 653T-1000 697Q-1089 697 -1193 676T-1364 632T-1433 610Q-1433 614 -1438 628T-1443 643',
    0x2044: '81 -949Q71 -949 63 -941T55 -921Q55 -917 56 -915Q59 -906 498 264T939 1438Q945 1450 960 1450Q972 1450 980 1441T988 1421Q982 1403 839 1020L398 -155Q107 -934 103 -938Q96 -949 81 -949',
    0x221A: '424 -948Q422 -947 313 -434T202 80L170 31Q165 24 157 10Q137 -21 137 -21Q131 -16 124 -8L111 5L264 248L473 -720Q473 -717 727 359T983 1440Q989 1450 1001 1450Q1007 1450 1013 1445T1020 1433Q1020 1425 742 244T460 -941Q458 -950 439 -950H436Q424 -950 424 -948',
    0x2308: '246 -949V1450H571V1388H308V-949H246',
    0x2309: '11 1388V1450H336V-949H274V1388H11',
    0x230A: '246 -949V1450H308V-887H571V-949H246',
    0x230B: '274 -887V1450H336V-949H11V-887H274',
    0x2329: '126 242V259L361 845Q595 1431 597 1435Q610 1450 624 1450Q634 1450 644 1443T654 1419V1411L422 831Q190 253 190 250T422 -331L654 -910V-919Q654 -936 644 -943T624 -950Q612 -950 597 -935Q595 -931 361 -345L126 242',
    0x232A: '94 1424Q94 1426 97 1432T107 1444T124 1450Q141 1450 152 1435Q154 1431 388 845L623 259V242L388 -345Q153 -933 152 -934Q142 -949 127 -949H125Q95 -949 95 -919V-910L327 -331Q559 247 559 250T327 831Q94 1411 94 1424',
    0x27E8: '126 242V259L361 845Q595 1431 597 1435Q610 1450 624 1450Q634 1450 644 1443T654 1419V1411L422 831Q190 253 190 250T422 -331L654 -910V-919Q654 -936 644 -943T624 -950Q612 -950 597 -935Q595 -931 361 -345L126 242',
    0x27E9: '94 1424Q94 1426 97 1432T107 1444T124 1450Q141 1450 152 1435Q154 1431 388 845L623 259V242L388 -345Q153 -933 152 -934Q142 -949 127 -949H125Q95 -949 95 -919V-910L327 -331Q559 247 559 250T327 831Q94 1411 94 1424',
    0x3008: '126 242V259L361 845Q595 1431 597 1435Q610 1450 624 1450Q634 1450 644 1443T654 1419V1411L422 831Q190 253 190 250T422 -331L654 -910V-919Q654 -936 644 -943T624 -950Q612 -950 597 -935Q595 -931 361 -345L126 242',
    0x3009: '94 1424Q94 1426 97 1432T107 1444T124 1450Q141 1450 152 1435Q154 1431 388 845L623 259V242L388 -345Q153 -933 152 -934Q142 -949 127 -949H125Q95 -949 95 -919V-910L327 -331Q559 247 559 250T327 831Q94 1411 94 1424',
},{
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2214">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {texSize4 as font} from '../../../common/fonts/tex/tex-size4.js';

export const texSize4: SVGCharMap = AddPaths(font, {
    0x28: '758 -1237T758 -1240T752 -1249H736Q718 -1249 717 -1248Q711 -1245 672 -1199Q237 -706 237 251T672 1700Q697 1730 716 1749Q718 1750 735 1750H752Q758 1744 758 1741Q758 1737 740 1713T689 1644T619 1537T540 1380T463 1176Q348 802 348 251Q348 -242 441 -599T744 -1218Q758 -1237 758 -1240',
    0x29: '33 1741Q33 1750 51 1750H60H65Q73 1750 81 1743T119 1700Q554 1207 554 251Q554 -707 119 -1199Q76 -1250 66 -1250Q65 -1250 62 -1250T56 -1249Q55 -1249 53 -1249T49 -1250Q33 -1250 33 -1239Q33 -1236 50 -1214T98 -1150T163 -1052T238 -910T311 -727Q443 -335 443 251Q443 402 436 532T405 831T339 1142T224 1438T50 1716Q33 1737 33 1741',
    0x2F: '1166 1738Q1176 1750 1189 1750T1211 1742T1221 1721Q1221 1720 1221 1718T1220 1715Q1219 1708 666 238T111 -1237Q102 -1249 86 -1249Q74 -1249 65 -1240T56 -1220Q56 -1219 56 -1217T57 -1214Q58 -1207 611 263T1166 1738',
    0x5B: '269 -1249V1750H577V1677H342V-1176H577V-1249H269',
    0x5C: '56 1720Q56 1732 64 1741T85 1750Q104 1750 111 1738Q113 1734 666 264T1220 -1214Q1220 -1215 1220 -1217T1221 -1220Q1221 -1231 1212 -1240T1191 -1249Q1175 -1249 1166 -1237Q1164 -1233 611 237T57 1715Q57 1716 56 1718V1720',
    0x5D: '5 1677V1750H313V-1249H5V-1176H240V1677H5',
    0x7B: '661 -1243L655 -1249H622L604 -1240Q503 -1190 434 -1107T348 -909Q346 -897 346 -499L345 -98L343 -82Q335 3 287 87T157 223Q146 232 145 236Q144 240 144 250Q144 265 145 268T157 278Q242 333 288 417T343 583L345 600L346 1001Q346 1398 348 1410Q379 1622 600 1739L622 1750H655L661 1744V1727V1721Q661 1712 661 1710T657 1705T648 1700T630 1690T602 1668Q589 1659 574 1643T531 1593T484 1508T459 1398Q458 1389 458 1001Q458 614 457 605Q441 435 301 316Q254 277 202 251L250 222Q260 216 301 185Q443 66 457 -104Q458 -113 458 -501Q458 -888 459 -897Q463 -944 478 -988T509 -1060T548 -1114T580 -1149T602 -1167Q620 -1183 634 -1192T653 -1202T659 -1207T661 -1220V-1226V-1243',
    0x7D: '144 1727Q144 1743 146 1746T162 1750H167H183L203 1740Q274 1705 325 1658T403 1562T440 1478T456 1410Q458 1398 458 1001Q459 661 459 624T465 558Q470 526 480 496T502 441T529 395T559 356T588 325T615 301T637 284T654 273L660 269V266Q660 263 660 259T661 250V239Q661 236 661 234T660 232T656 229T649 224Q577 179 528 105T465 -57Q460 -86 460 -123T458 -499V-661Q458 -857 457 -893T447 -955Q425 -1048 359 -1120T203 -1239L183 -1249H168Q150 -1249 147 -1246T144 -1226Q144 -1213 145 -1210T153 -1202Q169 -1193 186 -1181T232 -1140T282 -1081T322 -1000T345 -897Q346 -888 346 -501Q346 -113 347 -104Q359 58 503 184Q554 226 603 250Q504 299 430 393T347 605Q346 614 346 1002Q346 1389 345 1398Q338 1493 288 1573T153 1703Q146 1707 145 1710T144 1727',
    0x2C6: '5 561Q-4 561 -9 582T-14 618Q-14 623 -13 625Q-11 628 461 736T943 845Q945 845 1417 738T1896 628Q1902 628 1902 618Q1902 607 1897 584T1883 561Q1881 561 1412 654L945 750L476 654Q6 561 5 561',
    0x2DC: '1212 583Q1124 583 1048 603T923 647T799 691T635 711Q524 711 375 679T120 615L16 583Q14 584 12 587T9 592Q-2 650 2 659Q2 669 38 687Q54 696 146 723T309 767Q527 823 666 823Q759 823 837 803T964 759T1088 715T1252 695Q1363 695 1512 727T1764 791T1871 823Q1872 822 1874 819T1878 814Q1885 783 1885 753Q1885 748 1884 747Q1884 738 1849 719Q1836 712 1740 682T1484 617T1212 583',
    0x302: '-1884 561Q-1893 561 -1898 582T-1903 618Q-1903 623 -1902 625Q-1900 628 -1428 736T-946 845Q-944 845 -472 738T7 628Q13 628 13 618Q13 607 8 584T-6 561Q-8 561 -477 654L-944 750L-1413 654Q-1883 561 -1884 561',
    0x303: '-677 583Q-765 583 -841 603T-966 647T-1090 691T-1254 711Q-1365 711 -1514 679T-1768 615L-1873 583Q-1875 584 -1877 587T-1880 592Q-1891 650 -1887 659Q-1887 669 -1851 687Q-1835 696 -1743 723T-1580 767Q-1362 823 -1223 823Q-1130 823 -1052 803T-925 759T-801 715T-637 695Q-526 695 -377 727T-125 791T-18 823Q-17 822 -15 819T-11 814Q-4 782 -4 753Q-4 748 -5 747Q-5 738 -40 719Q-53 712 -149 682T-405 617T-677 583',
    0x2044: '1166 1738Q1176 1750 1189 1750T1211 1742T1221 1721Q1221 1720 1221 1718T1220 1715Q1219 1708 666 238T111 -1237Q102 -1249 86 -1249Q74 -1249 65 -1240T56 -1220Q56 -1219 56 -1217T57 -1214Q58 -1207 611 263T1166 1738',
    0x221A: '983 1739Q988 1750 1001 1750Q1008 1750 1013 1745T1020 1733Q1020 1726 742 244T460 -1241Q458 -1250 439 -1250H436Q424 -1250 424 -1248L410 -1166Q395 -1083 367 -920T312 -601L201 44L137 -83L111 -57L187 96L264 247Q265 246 369 -357Q470 -958 473 -963L727 384Q979 1729 983 1739',
    0x2308: '269 -1249V1750H633V1677H342V-1249H269',
    0x2309: '5 1677V1750H369V-1249H296V1677H5',
    0x230A: '269 -1249V1750H342V-1176H633V-1249H269',
    0x230B: '296 -1176V1750H369V-1249H5V-1176H296',
    0x2329: '140 242V260L386 994Q633 1729 635 1732Q643 1745 657 1749Q658 1749 662 1749T668 1750Q682 1749 692 1740T702 1714V1705L214 251L703 -1204L702 -1213Q702 -1230 692 -1239T667 -1248H664Q647 -1248 635 -1231Q633 -1228 386 -493L140 242',
    0x232A: '103 1714Q103 1732 114 1741T137 1750Q157 1750 170 1732Q172 1729 419 994L665 260V242L419 -493Q172 -1228 170 -1231Q158 -1248 141 -1248H138Q123 -1248 113 -1239T103 -1213V-1204L591 251L103 1705V1714',
    0x239B: '837 1154Q843 1148 843 1145Q843 1141 818 1106T753 1002T667 841T574 604T494 299Q417 -84 417 -609Q417 -641 416 -647T411 -654Q409 -655 366 -655Q299 -655 297 -654Q292 -652 292 -643T291 -583Q293 -400 304 -242T347 110T432 470T574 813T785 1136Q787 1139 790 1142T794 1147T796 1150T799 1152T802 1153T807 1154T813 1154H819H837',
    0x239C: '413 -9Q412 -9 407 -9T388 -10T354 -10Q300 -10 297 -9Q294 -8 293 -5Q291 5 291 127V300Q291 602 292 605L296 609Q298 610 366 610Q382 610 392 610T407 610T412 609Q416 609 416 592T417 473V127Q417 -9 413 -9',
    0x239D: '843 -635Q843 -638 837 -644H820Q801 -644 800 -643Q792 -635 785 -626Q684 -503 605 -363T473 -75T385 216T330 518T302 809T291 1093Q291 1144 291 1153T296 1164Q298 1165 366 1165Q409 1165 411 1164Q415 1163 416 1157T417 1119Q417 529 517 109T833 -617Q843 -631 843 -635',
    0x239E: '31 1143Q31 1154 49 1154H59Q72 1154 75 1152T89 1136Q190 1013 269 873T401 585T489 294T544 -8T572 -299T583 -583Q583 -634 583 -643T577 -654Q575 -655 508 -655Q465 -655 463 -654Q459 -653 458 -647T457 -609Q457 -58 371 340T100 1037Q87 1059 61 1098T31 1143',
    0x239F: '579 -9Q578 -9 573 -9T554 -10T520 -10Q466 -10 463 -9Q460 -8 459 -5Q457 5 457 127V300Q457 602 458 605L462 609Q464 610 532 610Q548 610 558 610T573 610T578 609Q582 609 582 592T583 473V127Q583 -9 579 -9',
    0x23A0: '56 -644H50Q31 -644 31 -635Q31 -632 37 -622Q69 -579 100 -527Q286 -228 371 170T457 1119Q457 1161 462 1164Q464 1165 520 1165Q575 1165 577 1164Q582 1162 582 1153T583 1093Q581 910 570 752T527 400T442 40T300 -303T89 -626Q78 -640 75 -642T61 -644H56',
    0x23A1: '319 -645V1154H666V1070H403V-645H319',
    0x23A2: '319 0V602H403V0H319',
    0x23A3: '319 -644V1155H403V-560H666V-644H319',
    0x23A4: '0 1070V1154H347V-645H263V1070H0',
    0x23A5: '263 0V602H347V0H263',
    0x23A6: '263 -560V1155H347V-644H0V-560H263',
    0x23A7: '712 899L718 893V876V865Q718 854 704 846Q627 793 577 710T510 525Q510 524 509 521Q505 493 504 349Q504 345 504 334Q504 277 504 240Q504 -2 503 -4Q502 -8 494 -9T444 -10Q392 -10 390 -9Q387 -8 386 -5Q384 5 384 230Q384 262 384 312T383 382Q383 481 392 535T434 656Q510 806 664 892L677 899H712',
    0x23A8: '389 1159Q391 1160 455 1160Q496 1160 498 1159Q501 1158 502 1155Q504 1145 504 924Q504 691 503 682Q494 549 425 439T243 259L229 250L243 241Q349 175 421 66T503 -182Q504 -191 504 -424Q504 -600 504 -629T499 -659H498Q496 -660 444 -660T390 -659Q387 -658 386 -655Q384 -645 384 -425V-282Q384 -176 377 -116T342 10Q325 54 301 92T255 155T214 196T183 222T171 232Q170 233 170 250T171 268Q171 269 191 284T240 331T300 407T354 524T383 679Q384 691 384 925Q384 1152 385 1155L389 1159',
    0x23A9: '718 -893L712 -899H677L666 -893Q542 -825 468 -714T385 -476Q384 -466 384 -282Q384 3 385 5L389 9Q392 10 444 10Q486 10 494 9T503 4Q504 2 504 -239V-310V-366Q504 -470 508 -513T530 -609Q546 -657 569 -698T617 -767T661 -812T699 -843T717 -856T718 -876V-893',
    0x23AA: '384 150V266Q384 304 389 309Q391 310 455 310Q496 310 498 309Q502 308 503 298Q504 283 504 150Q504 32 504 12T499 -9H498Q496 -10 444 -10T390 -9Q386 -8 385 2Q384 17 384 150',
    0x23AB: '170 875Q170 892 172 895T189 899H194H211L222 893Q345 826 420 715T503 476Q504 467 504 230Q504 51 504 21T499 -9H498Q496 -10 444 -10Q402 -10 394 -9T385 -4Q384 -2 384 240V311V366Q384 469 380 513T358 609Q342 657 319 698T271 767T227 812T189 843T171 856T170 875',
    0x23AC: '389 1159Q391 1160 455 1160Q496 1160 498 1159Q501 1158 502 1155Q504 1145 504 925V782Q504 676 511 616T546 490Q563 446 587 408T633 345T674 304T705 278T717 268Q718 267 718 250T717 232Q717 231 697 216T648 169T588 93T534 -24T505 -179Q504 -191 504 -425Q504 -600 504 -629T499 -659H498Q496 -660 444 -660T390 -659Q387 -658 386 -655Q384 -645 384 -424Q384 -191 385 -182Q394 -49 463 61T645 241L659 250L645 259Q539 325 467 434T385 682Q384 692 384 873Q384 1153 385 1155L389 1159',
    0x23AD: '384 -239V-57Q384 4 389 9Q391 10 455 10Q496 10 498 9Q501 8 502 5Q504 -5 504 -230Q504 -261 504 -311T505 -381Q505 -486 492 -551T435 -691Q357 -820 222 -893L211 -899H195Q176 -899 173 -896T170 -874Q170 -858 171 -855T184 -846Q262 -793 312 -709T378 -525Q378 -524 379 -522Q383 -493 384 -351Q384 -345 384 -334Q384 -276 384 -239',
    0x23B7: '742 -871Q740 -873 737 -876T733 -880T730 -882T724 -884T714 -885H702L222 569L180 484Q138 399 137 399Q131 404 124 412L111 425L265 736L702 -586V168L703 922Q713 935 722 935Q734 935 742 920V-871',
    0x27E8: '140 242V260L386 994Q633 1729 635 1732Q643 1745 657 1749Q658 1749 662 1749T668 1750Q682 1749 692 1740T702 1714V1705L214 251L703 -1204L702 -1213Q702 -1230 692 -1239T667 -1248H664Q647 -1248 635 -1231Q633 -1228 386 -493L140 242',
    0x27E9: '103 1714Q103 1732 114 1741T137 1750Q157 1750 170 1732Q172 1729 419 994L665 260V242L419 -493Q172 -1228 170 -1231Q158 -1248 141 -1248H138Q123 -1248 113 -1239T103 -1213V-1204L591 251L103 1705V1714',
    0x3008: '140 242V260L386 994Q633 1729 635 1732Q643 1745 657 1749Q658 1749 662 1749T668 1750Q682 1749 692 1740T702 1714V1705L214 251L703 -1204L702 -1213Q702 -1230 692 -1239T667 -1248H664Q647 -1248 635 -1231Q633 -1228 386 -493L140 242',
    0x3009: '103 1714Q103 1732 114 1741T137 1750Q157 1750 170 1732Q172 1729 419 994L665 260V242L419 -493Q172 -1228 170 -1231Q158 -1248 141 -1248H138Q123 -1248 113 -1239T103 -1213V-1204L591 251L103 1705V1714',
    0xE000: '722 -14H720Q708 -14 702 0V306L703 612Q713 625 722 625Q734 625 742 610V0Q734 -14 724 -14H722',
    0xE001: '702 589Q706 601 718 605H1061Q1076 597 1076 585Q1076 572 1061 565H742V0Q734 -14 724 -14H722H720Q708 -14 702 0V589',
    0xE150: '-18 -213L-24 -207V-172L-16 -158Q75 2 260 84Q334 113 415 119Q418 119 427 119T440 120Q454 120 457 117T460 98V60V25Q460 7 457 4T441 0Q308 0 193 -55T25 -205Q21 -211 18 -212T-1 -213H-18',
    0xE151: '-10 60Q-10 104 -10 111T-5 118Q-1 120 10 120Q96 120 190 84Q375 2 466 -158L474 -172V-207L468 -213H451H447Q437 -213 434 -213T428 -209T423 -202T414 -187T396 -163Q331 -82 224 -41T9 0Q-4 0 -7 3T-10 25V60',
    0xE152: '-24 327L-18 333H-1Q11 333 15 333T22 329T27 322T35 308T54 284Q115 203 225 162T441 120Q454 120 457 117T460 95V60V28Q460 8 457 4T442 0Q355 0 260 36Q75 118 -16 278L-24 292V327',
    0xE153: '-10 60V95Q-10 113 -7 116T9 120Q151 120 250 171T396 284Q404 293 412 305T424 324T431 331Q433 333 451 333H468L474 327V292L466 278Q375 118 190 36Q95 0 8 0Q-5 0 -7 3T-10 24V60',
    0xE154: '-10 0V120H410V0H-10',
},{
    0xE155: "\uE153\uE152",
    0xE156: "\uE151\uE150",
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2215">

import {SVGCharMap, AddPaths} from '../../FontData.js';
import {texVariant as font} from '../../../common/fonts/tex/tex-variant.js';

export const texVariant: SVGCharMap = AddPaths(font, {
    0x2C6: '1 561Q-3 563 -6 577T-12 604L-14 618Q-14 625 -7 628T23 635Q31 636 36 637Q63 641 621 745Q1148 845 1165 845Q1167 845 1752 739L2338 630Q2346 630 2346 618Q2340 565 2332 561Q2329 561 1749 654Q1617 675 1466 699T1241 736T1167 748Q1165 748 1093 737T867 700T583 654Q3 561 1 561',
    0x2DC: '804 788Q717 788 606 772T397 732T213 685T75 645T18 628Q11 628 11 632Q8 637 4 668T2 704Q2 713 36 732Q55 739 242 795Q622 898 826 898Q893 898 947 895Q1009 887 1056 872T1187 819Q1286 776 1356 758T1527 739Q1614 739 1725 755T1934 795T2118 842T2256 882T2313 899Q2320 899 2320 895Q2323 890 2327 860T2329 824Q2329 818 2296 795Q2273 787 2089 732Q1810 657 1598 632Q1562 629 1492 629Q1389 629 1320 644T1144 708Q1048 751 977 769T804 788',
    0x302: '-2332 561Q-2336 563 -2340 577T-2346 604L-2347 618Q-2347 625 -2340 628T-2310 635Q-2302 636 -2297 637Q-2270 641 -1712 745Q-1185 845 -1168 845Q-1166 845 -581 739L5 630Q13 630 13 618Q7 565 -1 561Q-4 561 -584 654Q-716 675 -867 699T-1092 736T-1166 748Q-1168 748 -1240 737T-1466 700T-1750 654Q-2330 561 -2332 561',
    0x303: '-1529 788Q-1616 788 -1727 772T-1936 732T-2120 685T-2258 645T-2315 628Q-2322 628 -2322 632Q-2325 637 -2329 668T-2331 704Q-2331 713 -2297 732Q-2278 739 -2091 795Q-1711 898 -1507 898Q-1440 898 -1386 895Q-1324 887 -1277 872T-1146 819Q-1047 776 -977 758T-806 739Q-719 739 -608 755T-399 795T-215 842T-77 882T-20 899Q-13 899 -13 895Q-10 890 -6 860T-4 824Q-4 818 -37 795Q-60 787 -244 732Q-523 657 -735 632Q-771 629 -841 629Q-944 629 -1013 644T-1189 708Q-1285 751 -1356 769T-1529 788',
    0x3F0: '228 325Q170 322 156 316T127 309Q108 309 104 314Q99 319 99 322T108 341Q125 376 171 400T268 425H271Q302 425 319 396Q328 377 328 358Q328 332 324 314Q311 270 286 221Q274 194 274 192H275Q339 234 484 325T639 421Q669 434 691 434T723 425T734 406Q734 394 719 381Q715 376 644 330L575 287L566 267Q543 233 526 176Q520 160 515 143T508 115T506 105Q506 103 533 103Q585 103 607 110T641 118Q670 118 670 107Q670 100 661 85Q643 50 598 27T504 3Q465 3 450 36Q441 51 441 73Q441 84 444 96Q452 146 484 205L497 236L324 125Q143 12 135 10Q103 -6 77 -6Q61 -6 49 2T37 21Q37 36 49 46T124 96L195 141L204 156Q219 179 243 248T264 323Q264 325 228 325',
    0x210F: '182 599Q182 611 174 615T133 619Q118 619 114 621T109 630Q109 636 114 656T122 681Q125 685 202 688Q272 695 286 695Q304 695 304 684Q304 682 295 644T282 597Q282 592 360 592H399Q430 592 445 587T460 563Q460 552 451 541L442 535H266L251 468Q247 453 243 436T236 409T233 399Q233 395 244 404Q295 441 357 441Q405 441 445 417T485 333Q485 284 449 178T412 58T426 44Q447 44 466 68Q485 87 500 130L509 152H531H543Q562 152 562 144Q562 128 546 93T494 23T415 -13Q385 -13 359 3T322 44Q318 52 318 77Q318 99 352 196T386 337Q386 386 346 386Q318 386 286 370Q267 361 245 338T211 292Q207 287 193 235T162 113T138 21Q128 7 122 4Q105 -12 83 -12Q66 -12 54 -2T42 26L166 530Q166 534 161 534T129 535Q127 535 122 535T112 534Q74 534 74 562Q74 570 77 576T84 585T96 589T109 591T124 592T138 592L182 595V599',
    0x2190: '292 419Q292 400 261 347T211 275H306Q319 275 338 275T364 276Q399 276 410 271T422 250T411 230T366 225H306H211Q214 222 232 197T271 136T292 82Q292 71 285 68T262 64H250H241Q221 64 216 67T205 83Q186 127 153 167T78 230Q64 238 64 250Q64 258 69 263T82 272T106 288T139 318Q162 342 177 365T198 402T209 425T223 436Q224 437 252 437H258Q292 437 292 419',
    0x2192: '188 417Q188 437 221 437H233Q256 437 263 434T275 417Q294 373 327 333T402 270Q417 261 417 250Q417 241 410 236T382 217T341 182Q315 155 299 128T275 85T263 66Q259 64 231 64H219Q197 64 191 72T193 100Q202 124 215 147T239 185T257 210T267 223L269 225H174H116Q80 225 69 229T58 250T70 271T114 276Q121 276 140 276T174 275H269L267 277Q266 280 257 291T233 325T205 374Q188 408 188 417',
    0x21CC: '755 512Q755 514 778 514H801L804 503Q805 501 812 486T824 462T839 437T862 408T892 381T932 354L944 347V327H507Q70 327 67 329Q55 335 55 347T67 365Q70 367 454 367H837L828 376Q803 403 785 437T761 489T755 512ZM55 153V173H492Q928 173 932 171Q944 166 944 153T932 135Q928 133 545 133H162L171 124Q198 95 216 61T239 8L244 -12Q244 -14 221 -14H198L195 -4Q160 95 67 146L55 153',
    0x2204: '55 676Q55 688 66 694H199L333 696L351 772Q364 827 370 843T386 860Q393 860 399 854T406 841Q406 836 391 765L375 696Q375 694 431 694H484Q491 688 497 681V12L493 5L486 1L353 -1H219L202 -79Q184 -153 180 -159Q175 -166 165 -166Q146 -166 146 -148Q146 -141 161 -76T177 -4Q177 -1 122 -1H68Q55 12 55 20T66 39H126L186 41L219 181Q226 215 234 251T246 305T251 325Q251 328 166 328H79Q68 345 68 347Q68 352 75 359L82 368H262L291 505Q298 539 306 575T319 630T324 650V654H68Q55 669 55 676ZM457 368V654H411Q366 654 366 652Q365 651 361 634T349 580T333 514Q303 373 302 372V368H457ZM457 39V328H375Q293 328 293 325Q292 322 260 183T228 41T344 39H457',
    0x2205: '624 470Q624 468 639 446T668 382T683 291Q683 181 612 99T437 -1Q425 -2 387 -2T337 -1Q245 18 193 70L179 81L131 39Q96 8 89 3T75 -3Q55 -3 55 17Q55 24 61 30T111 73Q154 113 151 113Q151 114 140 130T115 177T95 241Q94 253 94 291T95 341Q112 431 173 495Q265 587 385 587Q410 587 437 581Q522 571 582 513L595 501L642 541Q689 586 695 586Q696 586 697 586T699 587Q706 587 713 583T720 568Q720 560 711 551T664 510Q651 499 642 490T628 475T624 470ZM564 477Q517 522 448 539Q428 546 375 546Q290 546 229 492T144 370Q133 332 133 279Q136 228 151 195Q157 179 168 160T184 141Q186 141 375 307T564 477ZM642 290Q642 318 637 343T625 386T611 416T598 436T593 444Q590 444 402 277T213 108Q213 104 231 89T293 55T392 37Q495 37 568 111T642 290',
    0x2212: '84 237T84 250T98 270H402Q417 262 417 250T402 230H98Q84 237 84 250',
    0x2216: '91 404T91 410T97 423T111 430Q117 430 395 224Q676 13 678 10Q685 3 685 -3T678 -16T664 -23Q658 -23 380 184T98 397Q91 404 91 410',
    0x221D: '56 250Q56 346 122 409T276 472Q349 472 407 430T486 326L489 316Q490 317 493 326T501 345T514 367T531 393Q557 425 602 448T698 472Q722 472 722 452Q722 437 702 435T642 421T571 377Q520 323 520 250Q520 179 568 126T693 68Q722 66 722 48Q722 28 698 28Q636 28 576 67T493 174L490 184Q489 181 483 167T475 150T468 136T458 120T447 107T432 90T412 73Q350 28 277 28Q188 28 122 91T56 250ZM199 68T278 68T408 122T459 250Q459 322 414 370T308 430Q302 431 273 431Q204 431 150 380T96 250Q96 176 147 122',
    0x2223: '91 417Q104 430 111 430T131 417V-10Q116 -23 111 -23T91 -10V417',
    0x2224: '91 417Q104 430 111 430T131 417V301L171 341Q201 373 207 378T220 384Q227 384 233 377T240 366Q240 357 187 299L131 244V-10Q116 -23 111 -23T91 -10V201L49 157Q20 127 14 121T0 115Q-8 115 -14 121T-20 132Q-20 139 17 178Q29 191 36 199L91 257V417',
    0x2225: '55 417Q69 431 76 431T95 419V-12Q84 -23 76 -23Q72 -23 69 -22T62 -16T55 -10V417ZM293 419Q300 431 310 431L324 424L331 417V-10Q316 -23 309 -23L297 -19L293 -12V419',
    0x2226: '56 417Q68 431 76 431L89 426L96 419V317L98 215L193 273L291 330V375L293 419Q301 431 311 431Q331 431 331 388L333 355L356 370Q381 384 388 384Q394 384 400 377T407 363Q407 354 367 328L331 308V-10Q316 -23 310 -23Q300 -23 293 -12L291 135V284L98 168L96 77V-12Q84 -24 76 -24L62 -19L58 -12L56 66V144L31 128Q5 114 -2 114Q-8 114 -14 121T-20 136Q-20 142 -14 147T20 170L56 190V417',
    0x223C: '73 132Q55 132 55 172Q55 220 79 272Q95 301 111 319Q148 353 195 363Q199 364 212 364Q262 364 294 350T408 272Q472 222 522 212Q537 208 555 208Q606 208 646 243Q671 268 680 296T691 342T702 365Q713 365 716 354T719 314Q714 236 664 179L660 176Q657 173 654 170T644 163T631 154T615 146T596 139T574 134T549 132Q510 132 465 156T386 211T307 265T223 290Q162 290 124 249T86 165Q86 155 82 144T73 132',
    0x2248: '55 326Q55 394 101 437T226 481Q268 479 313 460T392 419T469 379T555 361Q622 361 662 401Q686 423 688 450Q693 479 702 479H705Q719 479 719 442Q719 367 670 327T554 286Q512 286 466 304T386 345T307 385T220 404Q184 404 157 394T120 374L111 363Q86 339 86 317Q86 288 71 288Q55 288 55 326ZM55 90Q55 164 105 205T226 246Q269 243 314 224T392 183T470 144T558 126Q622 126 662 166Q686 187 688 214Q693 244 704 244Q716 244 719 210Q719 165 702 132T658 82T605 58T552 50T498 58T447 77T384 110Q322 146 302 152Q263 168 220 168Q179 168 144 152Q128 147 107 125T86 81Q86 52 71 52Q55 52 55 90',
    0x2268: '86 472Q93 477 381 614T673 752Q680 752 686 746T693 732T689 721Q686 715 418 590L151 461L418 332Q684 207 689 201Q693 195 693 190Q693 183 687 177T675 170Q668 170 380 307T86 450Q82 454 82 461Q82 467 86 472ZM369 101V126Q369 156 382 156H384Q385 157 386 157Q409 157 409 115V98V54H680Q693 39 693 34T680 14H409V-142H680Q693 -155 693 -162Q693 -167 680 -182H409V-273Q396 -284 388 -284Q382 -284 369 -275V-182H95Q82 -167 82 -162Q82 -155 95 -142H369V14H95Q93 17 89 21T84 27T82 34T83 40T89 47T95 54H369V101',
    0x2269: '89 745Q95 752 100 752Q106 752 394 615T689 472Q693 468 693 461T689 450Q684 445 396 308T100 170Q95 170 89 176T82 190Q82 195 86 201Q91 208 358 332L624 461L358 590Q90 715 86 721Q82 725 82 731Q82 739 89 745ZM369 101V126Q369 156 382 156H384Q385 157 386 157Q409 157 409 115V98V54H680Q693 39 693 34T680 14H409V-142H680Q693 -155 693 -162Q693 -167 680 -182H409V-273Q396 -284 388 -284Q382 -284 369 -275V-182H95Q82 -167 82 -162Q82 -155 95 -142H369V14H95Q93 17 89 21T84 27T82 34T83 40T89 47T95 54H369V101',
    0x2270: '82 34Q82 44 93 55H198L300 57L342 179Q351 207 362 238T378 286T384 303T238 377Q109 435 86 450Q82 454 82 460T86 472Q90 476 302 579L511 679Q512 679 553 795Q569 842 577 866T592 903T600 917T608 919Q615 919 622 912T629 901Q629 899 595 799Q589 777 581 753T569 717T564 703L618 728Q666 752 673 752T686 746T693 732Q693 723 683 717T615 683L546 650L491 488Q464 410 450 368T438 326Q493 297 562 266Q660 219 677 209T694 190Q694 183 690 177T678 171Q664 171 546 228L424 286Q422 286 382 172L342 57L513 55H682Q694 43 694 34Q694 28 689 21L682 17L506 15H329L322 -8Q320 -13 310 -41T295 -85L275 -141H680Q682 -143 684 -146T688 -151T691 -156T693 -162Q693 -172 682 -179L473 -181H262L220 -303Q192 -388 185 -404T166 -421Q160 -421 153 -415T146 -403Q146 -400 179 -302T220 -185Q220 -181 158 -181L93 -179L86 -174Q82 -169 82 -161Q82 -152 93 -141H164L233 -139L260 -63L286 15H189L93 17L86 21Q82 26 82 34ZM495 623Q495 626 493 626T321 544T151 461L398 343Q399 343 405 360T423 415T446 483Q457 513 469 551T488 606T495 623',
    0x2271: '97 172Q82 172 82 190Q82 197 86 201Q94 209 173 246T327 319T402 357Q405 360 434 448T462 539L278 628Q96 713 86 721Q82 725 82 732T88 745T102 752Q103 752 125 742T198 709T293 666Q342 642 385 622T453 590T478 579Q479 579 506 659T562 824T598 915Q602 919 609 919T622 913T629 901Q629 898 571 728Q546 656 531 608T518 559Q555 539 602 519Q664 488 679 479T694 461Q694 457 689 450Q680 443 616 413T494 356T435 326L389 190L342 57L513 55H682Q694 43 694 34Q694 28 689 21L682 17L506 15H329L322 -8Q320 -13 310 -41T295 -85L275 -141H680Q682 -143 684 -146T688 -151T691 -156T693 -162Q693 -172 682 -179L473 -181H262L220 -303Q192 -388 185 -404T166 -421Q160 -421 153 -415T146 -403Q146 -400 179 -302T220 -185Q220 -181 158 -181L93 -179L86 -174Q82 -169 82 -161Q82 -152 93 -141H164L233 -139L260 -63L286 15H189L93 17L86 21Q82 26 82 34Q82 44 93 55H198L300 57L342 179Q350 204 361 238T378 286T382 301L246 237Q111 172 97 172ZM624 461Q621 464 560 492Q512 518 503 518Q500 518 500 517Q499 513 488 479T465 413T453 379L624 461',
    0x2288: '82 -6Q82 1 95 14H262L295 94Q331 171 331 174Q324 175 312 178T267 194T206 227T146 283T98 368Q84 406 84 461T98 554Q126 632 194 685T349 750Q360 752 480 752H591L604 783Q620 819 624 821Q631 828 640 828Q653 825 658 810Q658 808 646 781L635 754Q635 752 658 752Q680 752 686 746Q693 739 693 732Q693 728 692 726T686 719T680 712H615L506 466Q479 407 451 344T408 248T393 214Q393 210 535 210H680Q693 194 693 190T680 170H373L340 92L304 14H680Q693 1 693 -6Q693 -11 680 -26H286L253 -103L218 -179L451 -181H682Q694 -193 694 -201Q694 -212 682 -219L440 -221H200L178 -270Q160 -309 154 -319T139 -330Q122 -330 118 -312L155 -223Q155 -221 126 -221H95Q82 -206 82 -201T95 -181H175L206 -108Q237 -35 242 -30Q242 -26 169 -26H95Q82 -11 82 -6ZM571 710Q571 712 469 712Q443 712 416 712T371 711T351 710Q279 700 221 656T138 548Q124 508 124 461T138 374Q186 245 351 212L460 459Q571 709 571 710',
    0x2289: '82 732Q82 739 95 752H251H348Q420 752 460 744T551 708Q566 697 566 701Q618 815 624 821Q631 828 640 828Q653 825 658 810L600 677Q600 671 615 656T653 605T689 517Q692 496 692 461T689 406Q668 325 615 266Q572 221 513 196T391 170H373L340 92L304 14H680Q693 1 693 -6Q693 -11 680 -26H286L253 -103L218 -179L451 -181H682Q694 -193 694 -201Q694 -212 682 -219L440 -221H200L178 -270Q160 -309 154 -319T139 -330Q122 -330 118 -312L155 -223Q155 -221 126 -221H95Q82 -206 82 -201T95 -181H175L206 -108Q237 -35 242 -30Q242 -26 169 -26H95Q82 -11 82 -6Q82 1 95 14H262L295 92L331 170H95Q93 172 91 175T87 180T84 185T82 191Q82 199 93 210H220L349 212L549 659Q507 692 462 702T338 712H249H95Q82 727 82 732ZM652 473Q652 513 636 552T603 611T582 632Q581 632 487 422T393 210Q424 210 460 220T535 253T605 316T649 410Q652 427 652 461V473',
    0x228A: '693 -115T693 -122T680 -144H315L269 -199Q221 -255 213 -255H212Q203 -255 197 -248T193 -231Q195 -225 229 -184L262 -144H186L113 -142L106 -137Q102 -130 102 -125Q102 -119 115 -104H298L426 52H386Q342 54 309 63Q236 79 180 129T98 249Q84 289 84 343Q84 398 98 436Q126 514 193 567T346 632Q347 632 373 632T440 633T520 634H680Q682 631 686 627T691 621T693 614T680 594H526Q364 594 353 592Q268 581 207 528T126 394Q123 378 123 343T126 292Q141 231 181 185T280 114Q329 92 415 92H462L506 147Q554 203 562 203H563Q572 203 578 196T582 178Q579 173 546 132L513 94L598 92H682Q693 81 693 73T680 52H480L349 -102L515 -104H682Q693 -115 693 -122',
    0x228B: '82 610T82 614T83 620T89 627T95 634H251Q378 634 409 633T469 623Q540 604 596 554T678 436Q691 397 691 343T678 249Q653 181 597 131T469 63Q427 52 362 52H315L213 -102L438 -104H662Q673 -115 673 -123Q673 -129 660 -144H186L151 -197Q114 -250 109 -253Q106 -254 104 -254Q100 -254 98 -253Q91 -253 87 -248T82 -235Q82 -230 109 -186L138 -144H115Q82 -144 82 -125Q82 -119 95 -104H166L266 49Q266 52 182 52H95Q82 65 82 72Q82 76 83 78T89 85T95 92H295L329 143Q365 195 369 198Q372 203 380 203Q385 203 391 197T398 185Q398 184 398 184L399 182Q399 175 369 129L344 94Q344 92 376 92Q402 92 422 94Q496 104 554 147T638 256Q651 295 651 343Q651 390 638 429Q613 494 555 537T422 592Q411 594 249 594H95Q82 610 82 614',
    0x22A8: '55 678Q55 679 56 681T58 684T61 688T65 691T70 693T77 694Q88 692 95 679V464H540Q554 456 555 446Q555 442 554 439T552 434T549 430T546 428T542 426T539 424H95V270H539Q540 270 542 269T545 267T549 264T552 260T554 255T555 248Q554 238 540 230H95V15Q88 2 77 0Q73 0 70 1T65 3T61 6T59 9T57 13T55 16V678',
    0x22C5: '71 0Q59 4 55 16V96L56 176Q59 180 66 187L70 189H209Q219 181 222 174V15Q219 10 209 1L140 0H71',
    0x2322: '77 122Q68 122 63 126T57 135T55 142Q55 151 68 176T111 235T177 302T271 356T388 378Q451 378 508 355T602 300T668 233T709 174T722 142Q722 124 704 122Q692 122 685 134T658 179T606 243Q511 338 390 338Q354 338 320 329Q251 312 193 263T97 141Q87 123 77 122',
    0x2323: '389 143Q324 143 266 164T171 215T107 277T67 330T55 358T60 371T77 378Q85 377 92 367T116 331T158 280Q256 182 389 182Q475 182 552 227T675 351Q688 378 704 378Q722 376 722 358Q722 352 710 330T670 276T605 215T511 164T389 143',
    0x25B3: '99 -20Q84 -11 84 0Q84 5 148 145T278 424L342 563Q347 575 360 575Q368 575 375 570Q376 569 441 430T571 148T637 0Q637 -11 622 -20H99ZM476 260L360 509L248 266Q137 24 135 22Q135 20 360 20Q586 20 586 21L476 260',
    0x25BD: '84 556Q84 567 99 576H622Q637 567 637 556Q637 551 572 409T441 127T375 -14Q368 -19 360 -19H358Q349 -19 342 -7T296 92Q249 193 211 275Q84 550 84 556ZM586 534Q586 536 361 536Q135 536 135 535L358 52L361 47L473 290Q584 532 586 534',
    0x2A87: '102 168Q103 168 151 146T247 102T295 81Q299 85 322 144T344 206L218 268Q153 297 123 313T87 333T82 344T86 355Q104 369 291 455Q491 552 491 553L542 673Q581 767 590 784T609 801Q616 801 622 795T629 781Q629 773 586 677Q546 581 546 577L609 606Q669 635 673 635Q680 635 686 629T693 615Q693 610 692 608T670 593T604 561L524 521L400 226L542 157Q617 123 649 107T687 85T694 72Q694 66 690 60T679 54Q665 54 526 119Q394 186 386 186Q385 186 342 88L331 61L509 -23Q680 -105 688 -111Q693 -115 693 -122T688 -135T675 -141H673Q664 -141 491 -59Q320 21 316 21H315L249 -136Q183 -293 178 -299Q172 -303 166 -303T153 -297T146 -283Q146 -282 154 -261T181 -197T213 -119L280 41Q280 46 186 86Q157 101 121 119Q92 133 87 136T82 148Q82 155 88 161T102 168ZM418 370L466 495Q464 495 308 420T151 344T204 317T311 267T364 244Q364 247 418 370',
    0x2A88: '97 54Q82 54 82 72Q82 79 86 84Q95 91 222 153L351 215L398 324L442 433L258 519Q95 597 87 604Q82 608 82 615T88 628T102 635Q107 635 424 484L458 468L524 630Q593 789 597 795Q601 801 609 801Q616 801 622 795T629 781L562 615L493 450L589 406Q665 371 679 362T694 344Q694 339 693 337T677 326T631 302T538 257Q504 241 465 223T406 195T386 186Q383 185 344 92T306 -3L486 81Q662 168 673 168Q680 168 686 162T693 148T689 137Q688 136 482 35L280 -59L233 -176Q184 -291 178 -299Q172 -303 166 -303T153 -297T146 -283Q146 -279 185 -186T224 -90Q225 -88 223 -88Q219 -88 193 -101Q109 -143 98 -143Q82 -138 82 -122Q82 -116 85 -113T108 -98T171 -67L249 -30L289 61Q297 81 307 107T321 144T326 157L218 106Q109 54 97 54ZM553 379Q480 412 480 415Q479 415 460 372T423 285T406 241Q408 240 516 291T624 344L553 379',
    0x2ACB: '82 -14T82 -7T95 15H431L529 170H435Q341 170 333 175Q149 218 98 368Q84 406 84 461Q84 515 98 555Q126 633 193 686T346 750Q347 750 373 750T440 751T520 752H680Q693 739 693 732Q693 727 680 712H526Q364 712 353 710Q268 700 207 646T126 512Q123 496 123 461T126 410Q141 350 180 304T280 232Q312 217 344 214T464 210H555L589 261Q613 301 620 311T635 321Q644 321 650 315T657 301Q657 296 651 286T630 252T604 212Q604 210 642 210H680Q693 197 693 190Q693 186 692 184T686 177T680 170H578L526 92L478 17L580 15H682Q693 4 693 -4T680 -25H451L353 -179L518 -181H682Q694 -193 694 -201Q694 -211 682 -219L504 -221H326L293 -272Q257 -332 246 -332Q238 -332 232 -326T225 -313Q225 -310 226 -308Q226 -305 251 -265T278 -223Q278 -221 186 -221H95Q93 -218 89 -214T84 -208T82 -201T95 -181H306L404 -25H249L93 -23L86 -19Q82 -14 82 -7',
    0x2ACC: '82 732Q82 739 95 752H251Q415 752 426 750Q539 736 615 657Q667 599 689 517Q692 496 692 461T689 406Q668 325 615 266Q522 170 382 170H355L326 95Q319 80 311 59T298 28T293 17Q293 15 486 15H680Q693 0 693 -6T680 -25H275L213 -179L449 -181H682Q693 -192 693 -199T680 -221H198L178 -270Q153 -333 139 -333Q132 -333 126 -327T119 -314T135 -266T153 -223Q153 -221 124 -221H95Q82 -207 82 -201T95 -181H171L233 -25H162L93 -23L86 -19Q82 -14 82 -7T95 15H251L313 170H202L93 172L86 177Q82 182 82 190Q82 199 93 210H211L329 212L349 261Q366 301 372 311T386 321Q392 321 399 315T407 302Q407 295 390 254T373 210Q374 209 377 209Q412 209 444 217Q512 231 564 273T638 377Q651 414 651 461Q651 509 638 548Q613 613 555 656T422 710Q411 712 249 712H95Q82 727 82 732',
},{
});
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2216"></t>
<t tx="ekr.20211016054411.2217"></t>
<t tx="ekr.20211016054411.2218">


/**
 * @fileoverview  Mixin that implements lazy typesetting
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MathDocumentConstructor, ContainerList} from '../../core/MathDocument.js';
import {MathItem, STATE} from '../../core/MathItem.js';
import {HTMLMathItem} from '../../handlers/html/HTMLMathItem.js';
import {HTMLDocument} from '../../handlers/html/HTMLDocument.js';
import {HTMLHandler} from '../../handlers/html/HTMLHandler.js';
import {handleRetriesFor} from '../../util/Retries.js';

/**
 * Add the needed function to the window object.
 */
declare const window: {
  requestIdleCallback: (callback: () =&gt; void) =&gt; void;
};

/**
 * Generic constructor for Mixins
 */
export type Constructor&lt;T&gt; = new(...args: any[]) =&gt; T;

/**
 * A set of lazy MathItems
 */
export type LazySet = Set&lt;string&gt;;

/*==========================================================================*/

/**
 * The data to map expression marker IDs back to their MathItem.
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2219">export class LazyList&lt;N, T, D&gt; {

  /**
   * The next ID to use
   */
  protected id: number = 0;

  /**
   * The map from IDs to MathItems
   */
  protected items: Map&lt;string, LazyMathItem&lt;N, T, D&gt;&gt; = new Map();

  /**
   * Add a MathItem to the list and return its ID
   *
   * @param {LazyMathItem} math   The item to add
   * @return {string}             The id for the newly added item
   */
  @others
}

/*==========================================================================*/

/**
 * The attribute to use for the ID on the marker node
 */
export const LAZYID = 'data-mjx-lazy';

</t>
<t tx="ekr.20211016054411.222">
const PACKAGE = require('../../webpack.common.js');

module.exports = PACKAGE(
  'tex-mml-svg',                      // the package to build
  '../../../js',                      // location of the MathJax js library
  [],                                 // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2220">public add(math: LazyMathItem&lt;N, T, D&gt;): string {
  const id = String(this.id++);
  this.items.set(id,  math);
  return id;
}

</t>
<t tx="ekr.20211016054411.2221">/**
 * Get the MathItem with the given ID
 *
 * @param {string} id       The ID of the MathItem to get
 * @return {LazyMathItem}   The MathItem having that ID (if any)
 */
public get(id: string): LazyMathItem&lt;N, T, D&gt; {
  return this.items.get(id);
}

</t>
<t tx="ekr.20211016054411.2222">/**
 * Remove an item from the map
 *
 * @param {string} id   The ID of the MathItem to remove
 */
public delete(id: string) {
  return this.items.delete(id);
}

</t>
<t tx="ekr.20211016054411.2223">/**
 * The properties added to MathItem for lazy typesetting
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export interface LazyMathItem&lt;N, T, D&gt; extends MathItem&lt;N, T, D&gt; {

  /**
   * True when the MathItem needs to be lazy compiled
   */
  lazyCompile: boolean;

  /**
   * True when the MathItem needs to be lazy displayed
   */
  lazyTypeset: boolean;

  /**
   * The DOM node used to mark the location of the math to be lazy typeset
   */
  lazyMarker: N;

  /**
   * True if this item is a TeX MathItem
   */
  lazyTex: boolean;

}

/**
 * The mixin for adding lazy typesetting to MathItems
 *
 * @param {B} BaseMathItem      The MathItem class to be extended
 * @return {AssistiveMathItem}  The augmented MathItem class
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 * @template B  The MathItem class to extend
 */
export function LazyMathItemMixin&lt;N, T, D, B extends Constructor&lt;HTMLMathItem&lt;N, T, D&gt;&gt;&gt;(
  BaseMathItem: B
): Constructor&lt;LazyMathItem&lt;N, T, D&gt;&gt; &amp; B {

  return class extends BaseMathItem {

    /**
     * True when this item should be skipped during compilation
     * (i.e., it is not showing on screen, and has not needed to be
     * compiled for a later TeX expression that is showing).
     */
    public lazyCompile: boolean = true;

    /**
     * True when this item should be skipped during typesetting
     * (i.e., it has not yet appeared on screen).
     */
    public lazyTypeset: boolean = true;

    /**
     * The marker DOM node for this item.
     */
    public lazyMarker: N;

    /**
     * True if this is a TeX expression.
     */
    public lazyTex: boolean = false;

    
</t>
<t tx="ekr.20211016054411.2224">/**
     * @override
     */
constructor(...args: any[]) {
  super(...args);
  if (!this.end.node) {
    //
    // This is a MathItem that isn't in the document
    // (so either from semantic enrich, or from convert())
    // and should be typeset as usual.
    //
    this.lazyCompile = this.lazyTypeset = false;
  }
}

</t>
<t tx="ekr.20211016054411.2225">/**
 * Initially don't compile math, just use an empty math item,
 *   then when the math comes into view (or is before something
 *   that comes into view), compile it properly and mark the item
 *   as only needing to be typeset.
 *
 * @override
 */
public compile(document: LazyMathDocument&lt;N, T, D&gt;) {
  if (!this.lazyCompile) {
    super.compile(document);
    return;
  }
  if (this.state() &lt; STATE.COMPILED) {
    this.lazyTex = (this.inputJax.name === 'TeX');
    this.root = document.mmlFactory.create('math');
    this.state(STATE.COMPILED);
  }
}

</t>
<t tx="ekr.20211016054411.2226">/**
 * Initially, just insert a marker for where the math will go, and
 *   track it in the lazy list.  Then, when it comes into view,
 *   typeset it properly.
 *
 * @override
 */
public typeset(document: LazyMathDocument&lt;N, T, D&gt;) {
  if (!this.lazyTypeset) {
    super.typeset(document);
    return;
  }
  if (this.state() &lt; STATE.TYPESET) {
    const adaptor = document.adaptor;
    if (!this.lazyMarker) {
      const id = document.lazyList.add(this);
      this.lazyMarker = adaptor.node('mjx-lazy', {[LAZYID]: id});
      this.typesetRoot = adaptor.node('mjx-container', {}, [this.lazyMarker]);
    }
    this.state(STATE.TYPESET);
  }
}

</t>
<t tx="ekr.20211016054411.2227">/**
 * When the MathItem is added to the page, set the observer to watch
 *   for it coming into view so that it can be typeset.
 *
 * @override
 */
public updateDocument(document: LazyMathDocument&lt;N, T, D&gt;) {
  super.updateDocument(document);
  if (this.lazyTypeset) {
    document.lazyObserver.observe(this.lazyMarker as any as Element);
  }
}

</t>
<t tx="ekr.20211016054411.2228">/**
 * @override
 */
    public state(state: number = undefined, restore: boolean = false) {
      //
      // don't set the state if we are lazy processing
      //
      return (restore === null ? this._state : super.state(state, restore));
    }

  };

}

/*==========================================================================*/

</t>
<t tx="ekr.20211016054411.2229">/**
 * The properties added to MathDocument for lazy typesetting
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export interface LazyMathDocument&lt;N, T, D&gt; extends HTMLDocument&lt;N, T, D&gt; {

  /**
   * The Intersection Observer used to track the appearance of the expression markers
   */
  lazyObserver: IntersectionObserver;

  /**
   * The mapping of markers to MathItems
   */
  lazyList: LazyList&lt;N, T, D&gt;;

}

/**
 * The mixin for adding lazy typesetting to MathDocuments
 *
 * @param {B} BaseDocument        The MathDocument class to be extended
 * @return {LazyMathDocument}     The Lazy MathDocument class
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 * @template B  The MathDocument class to extend
 */
export function LazyMathDocumentMixin&lt;N, T, D,
B extends MathDocumentConstructor&lt;HTMLDocument&lt;N, T, D&gt;&gt;&gt;(
  BaseDocument: B
): MathDocumentConstructor&lt;HTMLDocument&lt;N, T, D&gt;&gt; &amp; B {

  return class BaseClass extends BaseDocument {

    /**
     * The Intersection Observer used to track the appearance of the expression markers
     */
    public lazyObserver: IntersectionObserver;

    /**
     * The mapping of markers to MathItems
     */
    public lazyList: LazyList&lt;N, T, D&gt;;

    /**
     * A promise to make sure our compiling/typesetting is sequential
     */
    protected lazyPromise: Promise&lt;void&gt; = Promise.resolve();

    /**
     * The function used to typeset a set of lazy MathItems.
     *   (uses requestIdleCallback if available, or setTimeout otherwise)
     */
    protected lazyProcessSet: () =&gt; void;

    /**
     * True when a set of MathItems is queued for being processed
     */
    protected lazyIdle: boolean = false;

    /**
     * The set of items that have come into view
     */
    protected lazySet: LazySet = new Set();

    
</t>
<t tx="ekr.20211016054411.223"></t>
<t tx="ekr.20211016054411.2230">/**
     * Augment the MathItem class used for this MathDocument,
     *   then create the intersection observer and lazy list,
     *   and bind the lazyProcessSet function to this instance
     *   so it can be used as a callback more easily.
     *
     * @override
     * @constructor
     */
constructor(...args: any[]) {
  super(...args);
  this.options.MathItem =
    LazyMathItemMixin&lt;N, T, D, Constructor&lt;HTMLMathItem&lt;N, T, D&gt;&gt;&gt;(this.options.MathItem);
  this.lazyObserver = new IntersectionObserver(this.lazyObserve.bind(this));
  this.lazyList = new LazyList&lt;N, T, D&gt;();
  const callback = this.lazyHandleSet.bind(this);
  this.lazyProcessSet = (typeof window !== 'undefined' &amp;&amp; window.requestIdleCallback ?
                      () =&gt; window.requestIdleCallback(callback) :
                      () =&gt; setTimeout(callback, 10));
}

/**
 * The function used by the IntersectionObserver to monitor the markers coming into view.
 * When one (or more) does, add its math item to or remove it from the set to be processed, and
 *   if added to the set, queue an idle task, if one isn't already pending.
 *
 * The idea is, if you start scrolling and reveal an expression marker, we add it into
 * the set and queue an idle task. But if you keep scrolling and the idle task hasn't run
 * yet, the mark may move out of view, and we don't want to waste time typesetting it, so
 * we remove it from the set. When you stop scrolling and the idle task finally runs, it
 * takes the expressions still in the set (those should be the ones still in view) and
 * starts typesetting them after having created a new set to add expressions to. If one
 * of the expressions loads an extension and the idle task has to pause, you can add new
 * expressions into the new list (or remove them from there), but can't affect the
 * current idle-task list. Those will be typeset even if they scroll out of view at that
 * point.
 *
 * Note that it is possible that an expression is added to the set and then removed
 * before the idle task runs, and it could be that the set is empty when it does. Then
 * the idle task does nothing, and new expressions are added to the new set to be
 * processed by the next idle task.
 *
 * @param {IntersectionObserverEntry[]} entries   The markers that have come into or out of view.
 */
protected lazyObserve(entries: IntersectionObserverEntry[]) {
  for (const entry of entries) {
    const id = this.adaptor.getAttribute(entry.target as any as N, LAZYID);
    const math = this.lazyList.get(id);
    if (!math) continue;
    if (!entry.isIntersecting) {
      this.lazySet.delete(id);
      continue;
    }
    this.lazySet.add(id);
    if (!this.lazyIdle) {
      this.lazyIdle = true;
      this.lazyProcessSet();
    }
  }
}

/**
 * Mark the MathItems in the set as needing compiling or typesetting,
 *   and for TeX items, make sure the earlier TeX items are typeset
 *   (in case they have automatic numbers, or define macros, etc.).
 * Then rerender the page to update the visible equations.
 */
protected lazyHandleSet() {
  const set = this.lazySet;
  this.lazySet = new Set();
  this.lazyPromise = this.lazyPromise.then(() =&gt; {
    let state = this.compileEarlierItems(set) ? STATE.COMPILED : STATE.TYPESET;
    state = this.resetStates(set, state);
    this.state(state - 1, null); // reset processed bits to allow reprocessing
    return handleRetriesFor(() =&gt; {
      this.render();
      this.lazyIdle = false;
    });
  });
}

/**
 * Set the states of the MathItems in the set, depending on
 *   whether they need compiling or just typesetting, and
 *   update the state needed for the page rerendering.
 *
 * @param {LazySet} set    The set of math items to update
 * @param {number} state   The state needed for the items
 * @return {number}        The updated state based on the items
 */
protected resetStates(set: LazySet, state: number): number {
  for (const id of set.values()) {
    const math = this.lazyList.get(id);
    if (math.lazyCompile) {
      math.state(STATE.COMPILED - 1);
      state = STATE.COMPILED;
    } else {
      math.state(STATE.TYPESET - 1);
    }
    math.lazyCompile = math.lazyTypeset = false;
    math.lazyMarker &amp;&amp; this.lazyObserver.unobserve(math.lazyMarker as any as Element);
  }
  return state;
}

/**
 * Mark any TeX items (earlier than the ones in the set) to be compiled.
 *
 * @param {LazySet} set   The set of items that are newly visible
 * @return {boolean}      True if there are TeX items to be typeset
 */
protected compileEarlierItems(set: LazySet): boolean {
  let math = this.earliestTex(set);
  if (!math) return false;
  let compile = false;
  for (const item of this.math) {
    const earlier = item as LazyMathItem&lt;N, T, D&gt;;
    if (earlier === math || !earlier?.lazyCompile) {
      break;
    }
    earlier.lazyCompile = false;
    earlier.lazyMarker &amp;&amp; this.lazyObserver.unobserve(earlier.lazyMarker as any as Element);
    earlier.state(STATE.COMPILED - 1);
    compile = true;
  }
  return compile;
}

/**
 * Find the earliest TeX math item in the set, if any.
 *
 * @param {LazySet} set     The set of newly visble math items
 * @return {LazyMathItem}   The earliest TeX math item in the set, if any
 */
protected earliestTex(set: LazySet): LazyMathItem&lt;N, T, D&gt; {
  let min: number = null;
  let minMath = null;
  for (const id of set.values()) {
    const math = this.lazyList.get(id);
    if (!math.lazyTex) continue;
    if (min === null || parseInt(id) &lt; min) {
      min = parseInt(id);
      minMath = math;
    }
  }
  return minMath;
}

</t>
<t tx="ekr.20211016054411.2231">/**
 * If any of the removed items are observed or in the lazy list, remove them.
 *
 * @override
 */
    public clearMathItemsWithin(containers: ContainerList&lt;N&gt;) {
      const items = super.clearMathItemsWithin(containers) as LazyMathItem&lt;N, T, D&gt;[];
      for (const math of items) {
        const marker = math.lazyMarker;
        if (marker) {
          this.lazyObserver.unobserve(marker as any as Element);
          this.lazyList.delete(this.adaptor.getAttribute(marker, LAZYID));
        }
      }
      return items;
    }

  };

}

/*==========================================================================*/

</t>
<t tx="ekr.20211016054411.2232">/**
 * Add lazy typesetting support to a Handler instance
 *
 * @param {Handler} handler   The Handler instance to enhance
 * @return {Handler}          The handler that was modified (for purposes of chaining extensions)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export function LazyHandler&lt;N, T, D&gt;(handler: HTMLHandler&lt;N, T, D&gt;): HTMLHandler&lt;N, T, D&gt; {
  //
  // Only update the document class if we can handle IntersectionObservers
  //
  if (typeof IntersectionObserver !== 'undefined') {
    handler.documentClass =
      LazyMathDocumentMixin&lt;N, T, D, MathDocumentConstructor&lt;HTMLDocument&lt;N, T, D&gt;&gt;&gt;(
        handler.documentClass
      ) as typeof HTMLDocument;
  }
  return handler;
}
</t>
<t tx="ekr.20211016054411.2233"></t>
<t tx="ekr.20211016054411.2234">


/**
 * @fileoverview  Implements a subclass of ContextMenu specific to MathJax
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {mathjax} from '../../mathjax.js';

import {MathItem, STATE} from '../../core/MathItem.js';
import {OutputJax} from '../../core/OutputJax.js';
import {MathJax as MJX} from '../../components/global.js';
import {MathJaxObject as StartupObject} from '../../components/startup.js';
import {MathJaxObject as LoaderObject} from '../../components/loader.js';
import {OptionList, userOptions, defaultOptions, expandable} from '../../util/Options.js';

import {MJContextMenu} from './MJContextMenu.js';
import {MmlVisitor} from './MmlVisitor.js';
import {SelectableInfo} from './SelectableInfo.js';
import {MenuMathDocument} from './MenuHandler.js';

import {Info} from 'mj-context-menu/js/info.js';
import {Parser} from 'mj-context-menu/js/parse.js';
import {Rule} from 'mj-context-menu/js/item_rule.js';
import {CssStyles} from 'mj-context-menu/js/css_util.js';
import {Submenu} from 'mj-context-menu/js/item_submenu.js';

/*==========================================================================*/

/**
 * Declare the MathJax global and the navigator object (to check platform for MacOS)
 */
declare namespace window {
  const navigator: {platform: string};
}

/**
 * The global MathJax object
 */
const MathJax = MJX as StartupObject &amp; LoaderObject;

/**
 * True when platform is a Mac (so we can enable CMD menu item for zoom trigger)
 */
const isMac = (typeof window !== 'undefined' &amp;&amp;
               window.navigator &amp;&amp; window.navigator.platform.substr(0, 3) === 'Mac');

/*==========================================================================*/

/**
 * The various values that are stored in the menu
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2235">export interface MenuSettings {
  texHints: boolean;
  semantics: boolean;
  zoom: string;
  zscale: string;
  renderer: string;
  alt: boolean;
  cmd: boolean;
  ctrl: boolean;
  shift: boolean;
  scale: string;
  autocollapse: boolean;
  collapsible: boolean;
  inTabOrder: boolean;
  assistiveMml: boolean;
  // A11y settings
  backgroundColor: string;
  backgroundOpacity: string;
  braille: boolean;
  explorer: boolean;
  foregroundColor: string;
  foregroundOpacity: string;
  highlight: string;
  locale: string;
  infoPrefix: boolean;
  infoRole: boolean;
  infoType: boolean;
  magnification: string;
  magnify: string;
  speech: boolean;
  speechRules: string;
  subtitles: boolean;
  treeColoring: boolean;
  viewBraille: boolean;
}

export type HTMLMATHITEM = MathItem&lt;HTMLElement, Text, Document&gt;;

/*==========================================================================*/

</t>
<t tx="ekr.20211016054411.2236">/**
 * The Menu object that handles the MathJax contextual menu and its actions
 */
export class Menu {

  /**
   * The key for the localStorage for the menu settings
   */
  public static MENU_STORAGE = 'MathJax-Menu-Settings';

  /**
   * The options for the menu, including the default settings, the various output jax
   * and the list of annotation types and their encodings
   */
  public static OPTIONS: OptionList = {
    settings: {
      texHints: true,
      semantics: false,
      zoom: 'NoZoom',
      zscale: '200%',
      renderer: 'CHTML',
      alt: false,
      cmd: false,
      ctrl: false,
      shift: false,
      scale: 1,
      autocollapse: false,
      collapsible: false,
      inTabOrder: true,
      assistiveMml: true,
      explorer: false
    },
    jax: {
      CHTML: null,
      SVG: null
    },
    annotationTypes: expandable({
      TeX: ['TeX', 'LaTeX', 'application/x-tex'],
      StarMath: ['StarMath 5.0'],
      Maple: ['Maple'],
      ContentMathML: ['MathML-Content', 'application/mathml-content+xml'],
      OpenMath: ['OpenMath']
    })
  };

  /**
   * The number of startup modules that are currently being loaded
   */
  protected static loading: number = 0;

  /**
   * Promises for the loading components
   */
  protected static loadingPromises: Map&lt;string, Promise&lt;void&gt;&gt; = new Map();

  /**
   * A promise that is resolved when all components are loaded
   */
  protected static _loadingPromise: Promise&lt;void&gt; = null;

  /**
   * Function used to resolve the _loadingPromise
   */
  protected static _loadingOK: Function = null;
  /**
   * Function used to reject the _loadingPromise
   */
  protected static _loadingFailed: Function = null;

  /**
   * The options for this menu
   */
  public options: OptionList;

  /**
   * The current settings for this menu (the variables attached to the menu's pool)
   */
  public settings: MenuSettings = null;

  /**
   * The original settings (with page options factored in) for use with the reset command
   */
  public defaultSettings: MenuSettings = null;

  /**
   * The contextual menu object that is managed by this Menu
   */
  public menu: MJContextMenu = null;

  /**
   * A MathML serializer that has options corresponding to the menu settings
   */
  public MmlVisitor = new MmlVisitor&lt;HTMLElement, Text, Document&gt;();

  /**
   * The MathDocument in which we are working
   */
  protected document: MenuMathDocument;

  /**
   * Instances of the various output jax that we can switch to
   */
  protected jax: {[name: string]: OutputJax&lt;HTMLElement, Text, Document&gt;} = {
    CHTML: null,
    SVG: null
  };

  /**
   * The minium initial state for pending rerender requests (so final rerender gets the right start)
   */
  protected rerenderStart: number = STATE.LAST;

  /**
   * @returns {boolean}   true when the menu is loading some component
   */
  public get isLoading(): boolean {
    return Menu.loading &gt; 0;
  }

  /**
   * @returns {Promise}   A promise that is resolved when all pending loads are complete
   */
  public get loadingPromise(): Promise&lt;void&gt; {
    if (!this.isLoading) {
      return Promise.resolve();
    }
    if (!Menu._loadingPromise) {
      Menu._loadingPromise = new Promise&lt;void&gt;((ok, failed) =&gt; {
        Menu._loadingOK = ok;
        Menu._loadingFailed = failed;
      });
    }
    return Menu._loadingPromise;
  }

  /*======================================================================*/

  /**
   * The "About MathJax" info box
   */
  protected about = new Info(
    '&lt;b style="font-size:120%;"&gt;MathJax&lt;/b&gt; v' + mathjax.version,
    () =&gt; {
      const lines = [] as string[];
      lines.push('Input Jax: ' + this.document.inputJax.map(jax =&gt; jax.name).join(', '));
      lines.push('Output Jax: ' + this.document.outputJax.name);
      lines.push('Document Type: ' + this.document.kind);
      return lines.join('&lt;br/&gt;');
    },
    '&lt;a href="https://www.mathjax.org"&gt;www.mathjax.org&lt;/a&gt;'
  );

  /**
   * The "MathJax Help" info box
   */
  protected help = new Info(
    '&lt;b&gt;MathJax Help&lt;/b&gt;',
    () =&gt; {
      return [
        '&lt;p&gt;&lt;b&gt;MathJax&lt;/b&gt; is a JavaScript library that allows page',
        ' authors to include mathematics within their web pages.',
        ' As a reader, you don\'t need to do anything to make that happen.&lt;/p&gt;',
        '&lt;p&gt;&lt;b&gt;Browsers&lt;/b&gt;: MathJax works with all modern browsers including',
        ' Edge, Firefox, Chrome, Safari, Opera, and most mobile browsers.&lt;/p&gt;',
        '&lt;p&gt;&lt;b&gt;Math Menu&lt;/b&gt;: MathJax adds a contextual menu to equations.',
        ' Right-click or CTRL-click on any mathematics to access the menu.&lt;/p&gt;',
        '&lt;div style="margin-left: 1em;"&gt;',
        '&lt;p&gt;&lt;b&gt;Show Math As:&lt;/b&gt; These options allow you to view the formula\'s',
        ' source markup (as MathML or in its original format).&lt;/p&gt;',
        '&lt;p&gt;&lt;b&gt;Copy to Clipboard:&lt;/b&gt; These options copy the formula\'s source markup,',
        ' as MathML or in its original format, to the clipboard',
        ' (in browsers that support that).&lt;/p&gt;',
        '&lt;p&gt;&lt;b&gt;Math Settings:&lt;/b&gt; These give you control over features of MathJax,',
        ' such the size of the mathematics, and the mechanism used',
        ' to display equations.&lt;/p&gt;',
        '&lt;p&gt;&lt;b&gt;Accessibility&lt;/b&gt;: MathJax can work with screen',
        ' readers to make mathematics accessible to the visually impaired.',
        ' Turn on the explorer to enable generation of speech strings',
        ' and the ability to investigate expressions interactively.&lt;/p&gt;',
        '&lt;p&gt;&lt;b&gt;Language&lt;/b&gt;: This menu lets you select the language used by MathJax',
        ' for its menus and warning messages. (Not yet implemented in version 3.)&lt;/p&gt;',
        '&lt;/div&gt;',
        '&lt;p&gt;&lt;b&gt;Math Zoom&lt;/b&gt;: If you are having difficulty reading an',
        ' equation, MathJax can enlarge it to help you see it better, or',
        ' you can scall all the math on the page to make it larger.',
        ' Turn these features on in the &lt;b&gt;Math Settings&lt;/b&gt; menu.&lt;/p&gt;',
        '&lt;p&gt;&lt;b&gt;Preferences&lt;/b&gt;: MathJax uses your browser\'s localStorage database',
        ' to save the preferences set via this menu locally in your browser.  These',
        ' are not used to track you, and are not transferred or used remotely by',
        ' MathJax in any way.&lt;/p&gt;'
      ]. join('\n');
    },
    '&lt;a href="https://www.mathjax.org"&gt;www.mathjax.org&lt;/a&gt;'
  );

  /**
   * The "Show As MathML" info box
   */
  protected mathmlCode = new SelectableInfo(
    'MathJax MathML Expression',
    () =&gt; {
      if (!this.menu.mathItem) return '';
      const text = this.toMML(this.menu.mathItem);
      return '&lt;pre&gt;' + this.formatSource(text) + '&lt;/pre&gt;';
    },
    ''
  );

  /**
   * The "Show As (original form)" info box
   */
  protected originalText = new SelectableInfo(
    'MathJax Original Source',
    () =&gt; {
      if (!this.menu.mathItem) return '';
      const text = this.menu.mathItem.math;
      return '&lt;pre style="font-size:125%; margin:0"&gt;' + this.formatSource(text) + '&lt;/pre&gt;';
    },
    ''
  );

  /**
   * The "Show As Annotation" info box
   */
  protected annotationText = new SelectableInfo(
    'MathJax Annotation Text',
    () =&gt; {
      if (!this.menu.mathItem) return '';
      const text = this.menu.annotation;
      return '&lt;pre style="font-size:125%; margin:0"&gt;' + this.formatSource(text) + '&lt;/pre&gt;';
    },
    ''
  );

  /**
   * The info box for zoomed expressions
   */
  protected zoomBox = new Info(
    'MathJax Zoomed Expression',
    () =&gt; {
      if (!this.menu.mathItem) return '';
      const element = (this.menu.mathItem.typesetRoot as any).cloneNode(true) as HTMLElement;
      element.style.margin = '0';
      const scale = 1.25 * parseFloat(this.settings.zscale);  // 1.25 is to reverse the default 80% font-size
      return '&lt;div style="font-size: ' + scale + '%"&gt;' + element.outerHTML + '&lt;/div&gt;';
    },
    ''
  );

  /*======================================================================*/

  /**
   * Accept options in addition to the MathDocument, and set up the menu based
   *  on the defaults, the passed options, and the user's saved settings.
   *
   * @param {MenuMathDocument} document   The MathDcument where this menu will post
   * @param {OptionList} options          The options for the menu
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2237">constructor(document: MenuMathDocument, options: OptionList = {}) {
  this.document = document;
  this.options = userOptions(defaultOptions({}, (this.constructor as typeof Menu).OPTIONS), options);
  this.initSettings();
  this.mergeUserSettings();
  this.initMenu();
}

/**
 * Set up the settings and jax objects, and transfer the output jax name and scale to the settings
 */
protected initSettings() {
  this.settings = this.options.settings;
  this.jax = this.options.jax;
  const jax = this.document.outputJax;
  this.jax[jax.name] = jax;
  this.settings.renderer = jax.name;
  if (MathJax._.a11y &amp;&amp; MathJax._.a11y.explorer) {
    Object.assign(this.settings, this.document.options.a11y);
  }
  this.settings.scale = jax.options.scale;
  this.defaultSettings = Object.assign({}, this.settings);
}

/**
 * Create the menu object, attach the info boxes to it, and output any CSS needed for it
 */
protected initMenu() {
  let parser = new Parser([['contextMenu', MJContextMenu.fromJson.bind(MJContextMenu)]]);
  this.menu = parser.parse({
    type: 'contextMenu',
    id: 'MathJax_Menu',
    pool: [
      this.variable&lt;boolean&gt;('texHints'),
      this.variable&lt;boolean&gt;('semantics'),
      this.variable&lt;string&gt; ('zoom'),
      this.variable&lt;string&gt; ('zscale'),
      this.variable&lt;string&gt; ('renderer', jax =&gt; this.setRenderer(jax)),
      this.variable&lt;boolean&gt;('alt'),
      this.variable&lt;boolean&gt;('cmd'),
      this.variable&lt;boolean&gt;('ctrl'),
      this.variable&lt;boolean&gt;('shift'),
      this.variable&lt;string&gt; ('scale', scale =&gt; this.setScale(scale)),
      this.variable&lt;boolean&gt;('explorer', explore =&gt; this.setExplorer(explore)),
      this.a11yVar&lt;string&gt; ('highlight'),
      this.a11yVar&lt;string&gt; ('backgroundColor'),
      this.a11yVar&lt;string&gt; ('backgroundOpacity'),
      this.a11yVar&lt;string&gt; ('foregroundColor'),
      this.a11yVar&lt;string&gt; ('foregroundOpacity'),
      this.a11yVar&lt;boolean&gt;('speech'),
      this.a11yVar&lt;boolean&gt;('subtitles'),
      this.a11yVar&lt;boolean&gt;('braille'),
      this.a11yVar&lt;boolean&gt;('viewBraille'),
      this.a11yVar&lt;string&gt;('locale', value =&gt; SRE.setupEngine({locale: value as string})),
      this.a11yVar&lt;string&gt; ('speechRules', value =&gt; {
        const [domain, style] = value.split('-');
        this.document.options.sre.domain = domain;
        this.document.options.sre.style = style;
      }),
      this.a11yVar&lt;string&gt; ('magnification'),
      this.a11yVar&lt;string&gt; ('magnify'),
      this.a11yVar&lt;boolean&gt;('treeColoring'),
      this.a11yVar&lt;boolean&gt;('infoType'),
      this.a11yVar&lt;boolean&gt;('infoRole'),
      this.a11yVar&lt;boolean&gt;('infoPrefix'),
      this.variable&lt;boolean&gt;('autocollapse'),
      this.variable&lt;boolean&gt;('collapsible', collapse =&gt; this.setCollapsible(collapse)),
      this.variable&lt;boolean&gt;('inTabOrder', tab =&gt; this.setTabOrder(tab)),
      this.variable&lt;boolean&gt;('assistiveMml', mml =&gt; this.setAssistiveMml(mml))
    ],
    items: [
      this.submenu('Show', 'Show Math As', [
        this.command('MathMLcode', 'MathML Code', () =&gt; this.mathmlCode.post()),
        this.command('Original', 'Original Form', () =&gt; this.originalText.post()),
        this.submenu('Annotation', 'Annotation')
      ]),
      this.submenu('Copy', 'Copy to Clipboard', [
        this.command('MathMLcode', 'MathML Code', () =&gt; this.copyMathML()),
        this.command('Original', 'Original Form', () =&gt; this.copyOriginal()),
        this.submenu('Annotation', 'Annotation')
      ]),
      this.rule(),
      this.submenu('Settings', 'Math Settings', [
        this.submenu('Renderer', 'Math Renderer', this.radioGroup('renderer', [['CHTML'], ['SVG']])),
        this.rule(),
        this.submenu('ZoomTrigger', 'Zoom Trigger', [
          this.command('ZoomNow', 'Zoom Once Now', () =&gt; this.zoom(null, '', this.menu.mathItem)),
          this.rule(),
          this.radioGroup('zoom', [
            ['Click'], ['DoubleClick', 'Double-Click'], ['NoZoom', 'No Zoom']
          ]),
          this.rule(),
          this.label('TriggerRequires', 'Trigger Requires:'),
          this.checkbox((isMac ? 'Option' : 'Alt'), (isMac ? 'Option' : 'Alt'), 'alt'),
          this.checkbox('Command', 'Command', 'cmd', {hidden: !isMac}),
          this.checkbox('Control', 'Control', 'ctrl', {hiddne: isMac}),
          this.checkbox('Shift', 'Shift', 'shift')
        ]),
        this.submenu('ZoomFactor', 'Zoom Factor', this.radioGroup('zscale', [
          ['150%'], ['175%'], ['200%'], ['250%'], ['300%'], ['400%']
        ])),
        this.rule(),
        this.command('Scale', 'Scale All Math...', () =&gt; this.scaleAllMath()),
        this.rule(),
        this.checkbox('texHints', 'Add TeX hints to MathML', 'texHints'),
        this.checkbox('semantics', 'Add original as annotation', 'semantics'),
        this.rule(),
        this.command('Reset', 'Reset to defaults', () =&gt; this.resetDefaults())
      ]),
      this.submenu('Accessibility', 'Accessibility', [
        this.checkbox('Activate', 'Activate', 'explorer'),
        this.submenu('Speech', 'Speech', [
          this.checkbox('Speech', 'Speech Output', 'speech'),
          this.checkbox('Subtitles', 'Speech Subtitles', 'subtitles'),
          this.checkbox('Braille', 'Braille Output', 'braille'),
          this.checkbox('View Braille', 'Braille Subtitles', 'viewBraille'),
          this.rule(),
          this.submenu('A11yLanguage', 'Language'),
          this.rule(),
          this.submenu('Mathspeak', 'Mathspeak Rules', this.radioGroup('speechRules', [
            ['mathspeak-default', 'Verbose'],
            ['mathspeak-brief', 'Brief'],
            ['mathspeak-sbrief', 'Superbrief']
          ])),
          this.submenu('Clearspeak', 'Clearspeak Rules', this.radioGroup('speechRules', [
            ['clearspeak-default', 'Auto']
          ])),
          this.submenu('ChromeVox', 'ChromeVox Rules', this.radioGroup('speechRules', [
            ['chromevox-default', 'Standard'],
            ['chromevox-alternative', 'Alternative']
          ]))
        ]),
        this.submenu('Highlight', 'Highlight', [
          this.submenu('Background', 'Background', this.radioGroup('backgroundColor', [
            ['Blue'], ['Red'], ['Green'], ['Yellow'], ['Cyan'], ['Magenta'], ['White'], ['Black']
          ])),
          {'type': 'slider',
           'variable': 'backgroundOpacity',
           'content': ' '
          },
          this.submenu('Foreground', 'Foreground', this.radioGroup('foregroundColor', [
            ['Black'], ['White'], ['Magenta'], ['Cyan'], ['Yellow'], ['Green'], ['Red'], ['Blue']
          ])),
          {'type': 'slider',
           'variable': 'foregroundOpacity',
           'content': ' '
          },
          this.rule(),
          this.radioGroup('highlight', [
            ['None'], ['Hover'], ['Flame']
          ]),
          this.rule(),
          this.checkbox('TreeColoring', 'Tree Coloring', 'treeColoring')
        ]),
        this.submenu('Magnification', 'Magnification', [
          this.radioGroup('magnification', [
            ['None'], ['Keyboard'], ['Mouse']
          ]),
          this.rule(),
          this.radioGroup('magnify', [
            ['200%'], ['300%'], ['400%'], ['500%']
          ])
        ]),
        this.submenu('Semantic Info', 'Semantic Info', [
          this.checkbox('Type', 'Type', 'infoType'),
          this.checkbox('Role', 'Role', 'infoRole'),
          this.checkbox('Prefix', 'Prefix', 'infoPrefix')
        ], true),
        this.rule(),
        this.checkbox('Collapsible', 'Collapsible Math', 'collapsible'),
        this.checkbox('AutoCollapse', 'Auto Collapse', 'autocollapse', {disabled: true}),
        this.rule(),
        this.checkbox('InTabOrder', 'Include in Tab Order', 'inTabOrder'),
        this.checkbox('AssistiveMml', 'Include Hidden MathML', 'assistiveMml')
      ]),
      this.submenu('Language', 'Language'),
      this.rule(),
      this.command('About', 'About MathJax', () =&gt; this.about.post()),
      this.command('Help', 'MathJax Help', () =&gt; this.help.post())
    ]
  }) as MJContextMenu;
  const menu = this.menu;
  this.about.attachMenu(menu);
  this.help.attachMenu(menu);
  this.originalText.attachMenu(menu);
  this.annotationText.attachMenu(menu);
  this.mathmlCode.attachMenu(menu);
  this.zoomBox.attachMenu(menu);
  this.checkLoadableItems();
  this.enableExplorerItems(this.settings.explorer);
  menu.showAnnotation = this.annotationText;
  menu.copyAnnotation = this.copyAnnotation.bind(this);
  menu.annotationTypes = this.options.annotationTypes;
  CssStyles.addInfoStyles(this.document.document as any);
  CssStyles.addMenuStyles(this.document.document as any);
}

/**
 * Check whether the startup and loader modules are available, and
 *   if not, disable the a11y modules (since we can't load them
 *   or know if they are available).
 * Otherwise, check if any need to be loaded
 */
protected checkLoadableItems() {
  if (MathJax &amp;&amp; MathJax._ &amp;&amp; MathJax.loader &amp;&amp; MathJax.startup) {
    if (this.settings.collapsible &amp;&amp; (!MathJax._.a11y || !MathJax._.a11y.complexity)) {
      this.loadA11y('complexity');
    }
    if (this.settings.explorer &amp;&amp; (!MathJax._.a11y || !MathJax._.a11y.explorer)) {
      this.loadA11y('explorer');
    }
    if (this.settings.assistiveMml &amp;&amp; (!MathJax._.a11y || !MathJax._.a11y['assistive-mml'])) {
      this.loadA11y('assistive-mml');
    }
  } else {
    const menu = this.menu;
    for (const name of Object.keys(this.jax)) {
      if (!this.jax[name]) {
        menu.findID('Settings', 'Renderer', name).disable();
      }
    }
    menu.findID('Accessibility', 'Activate').disable();
    menu.findID('Accessibility', 'AutoCollapse').disable();
    menu.findID('Accessibility', 'Collapsible').disable();
  }
}

/**
 * Enable/disable the Explorer submenu items
 *
 * @param {boolean} enable  True to enable, false to disable
 */
protected enableExplorerItems(enable: boolean) {
  const menu = (this.menu.findID('Accessibility', 'Activate') as Submenu).menu;
  for (const item of menu.items.slice(1)) {
    if (item instanceof Rule) break;
    enable ? item.enable() : item.disable();
  }

}

/*======================================================================*/

/**
 * Look up the saved settings from localStorage and merge them into the menu settings
 */
protected mergeUserSettings() {
  try {
    const settings = localStorage.getItem(Menu.MENU_STORAGE);
    if (!settings) return;
    Object.assign(this.settings, JSON.parse(settings));
    this.setA11y(this.settings);
  } catch (err) {
    console.log('MathJax localStorage error: ' + err.message);
  }
}

/**
 * Save any non-default menu settings in localStorage
 */
protected saveUserSettings() {
  const settings = {} as {[key: string]: any};
  for (const name of Object.keys(this.settings) as (keyof MenuSettings)[]) {
    if (this.settings[name] !== this.defaultSettings[name]) {
      settings[name] = this.settings[name];
    }
  }
  try {
    if (Object.keys(settings).length) {
      localStorage.setItem(Menu.MENU_STORAGE, JSON.stringify(settings));
    } else {
      localStorage.removeItem(Menu.MENU_STORAGE);
    }
  } catch (err) {
    console.log('MathJax localStorage error: ' + err.message);
  }
}

/**
 * Merge menu settings into the a11y document options.
 * @param {[key: string]: any} options The options.
 */
protected setA11y(options: {[key: string]: any}) {
  if (MathJax._.a11y &amp;&amp; MathJax._.a11y.explorer) {
    MathJax._.a11y.explorer_ts.setA11yOptions(this.document, options);
  }
}

/**
 * Get the the value of an a11y option
 * @param {string} option   The name of the ptions to get
 * @return {any}            The value of the option
 */
protected getA11y(option: string): any {
  if (MathJax._.a11y &amp;&amp; MathJax._.a11y.explorer) {
    if (this.document.options.a11y[option] !== undefined) {
      return this.document.options.a11y[option];
    }
    return this.document.options.sre[option];
  }
}


/*======================================================================*/

/**
 * @param {string} scale   The new scaling value
 */
protected setScale(scale: string) {
  this.document.outputJax.options.scale = parseFloat(scale);
  this.document.rerender();
}

/**
 * If the jax is already on record, just use it, otherwise load the new one
 *
 * @param {string} jax   The name of the jax to switch to
 */
protected setRenderer(jax: string) {
  if (this.jax[jax]) {
    this.setOutputJax(jax);
  } else {
    const name = jax.toLowerCase();
    this.loadComponent('output/' + name, () =&gt; {
      const startup = MathJax.startup;
      if (name in startup.constructors) {
        startup.useOutput(name, true);
        startup.output = startup.getOutputJax();
        this.jax[jax] = startup.output;
        this.setOutputJax(jax);
      }
    });
  }
}

/**
 * Set up the new jax and link it to the document, then rerender the math
 *
 * @param {string} jax   The name of the jax to switch to
 */
protected setOutputJax(jax: string) {
  this.jax[jax].setAdaptor(this.document.adaptor);
  this.document.outputJax = this.jax[jax];
  this.rerender();
}

/**
 * @param {boolean} tab   True for including math in the tab order, false for not
 */
protected setTabOrder(tab: boolean) {
  this.menu.store.inTaborder(tab);
}

/**
 * @param {boolean} mml   True to output hidden Mathml, false to not
 */
protected setAssistiveMml(mml: boolean) {
  this.document.options.enableAssistiveMml = mml;
  if (!mml || (MathJax._.a11y &amp;&amp; MathJax._.a11y['assistive-mml'])) {
    this.rerender();
  } else {
    this.loadA11y('assistive-mml');
  }
}

/**
 * @param {boolean} explore   True to enable the explorer, false to not
 */
protected setExplorer(explore: boolean) {
  this.enableExplorerItems(explore);
  this.document.options.enableExplorer = explore;
  if (!explore || (MathJax._.a11y &amp;&amp; MathJax._.a11y.explorer)) {
    this.rerender(this.settings.collapsible ? STATE.RERENDER : STATE.COMPILED);
  } else {
    this.loadA11y('explorer');
  }
}

/**
 * @param {boolean} collapse   True to enable collapsible math, false to not
 */
protected setCollapsible(collapse: boolean) {
  this.document.options.enableComplexity = collapse;
  if (!collapse || (MathJax._.a11y &amp;&amp; MathJax._.a11y.complexity)) {
    this.rerender(STATE.COMPILED);
  } else {
    this.loadA11y('complexity');
  }
}

/**
 * Request the scaling value from the user and save it in the settings
 */
protected scaleAllMath() {
  const scale = (parseFloat(this.settings.scale) * 100).toFixed(1).replace(/.0$/, '');
  const percent = prompt('Scale all mathematics (compared to surrounding text) by', scale + '%');
  if (percent) {
    if (percent.match(/^\s*\d+(\.\d*)?\s*%?\s*$/)) {
      const scale = parseFloat(percent) / 100;
      if (scale) {
        this.setScale(String(scale));
      } else {
        alert('The scale should not be zero');
      }
    } else {
      alert('The scale should be a percentage (e.g., 120%)');
    }
  }
}

/**
 * Reset all menu settings to the (page) defaults
 */
protected resetDefaults() {
  Menu.loading++;    // pretend we're loading, to suppress rerendering for each variable change
  const pool = this.menu.pool;
  const settings = this.defaultSettings;
  for (const name of Object.keys(this.settings) as (keyof MenuSettings)[]) {
    const variable = pool.lookup(name);
    if (variable) {
      variable.setValue(settings[name] as (string | boolean));
      const item = (variable as any).items[0];
      if (item) {
        item.executeCallbacks_();
      }
    } else {
      (this.settings as any)[name] = settings[name];
    }
  }
  Menu.loading--;
  this.rerender(STATE.COMPILED);
}

/*======================================================================*/

</t>
<t tx="ekr.20211016054411.2238">/**
 * Check if a component is loading, and restart if it is
 *
 * @param {string} name        The name of the component to check if it is loading
 */
public checkComponent(name: string) {
  const promise = Menu.loadingPromises.get(name);
  if (promise) {
    mathjax.retryAfter(promise);
  }
}

/**
 * Attempt to load a component and perform a callback when done
 */
protected loadComponent(name: string, callback: () =&gt; void) {
  if (Menu.loadingPromises.has(name)) return;
  const loader = MathJax.loader;
  if (!loader) return;
  Menu.loading++;
  const promise = loader.load(name).then(() =&gt; {
    Menu.loading--;
    Menu.loadingPromises.delete(name);
    callback();
    if (Menu.loading === 0 &amp;&amp; Menu._loadingPromise) {
      Menu._loadingPromise = null;
      Menu._loadingOK();
    }
  }).catch((err) =&gt; {
    if (Menu._loadingPromise) {
      Menu._loadingPromise = null;
      Menu._loadingFailed(err);
    } else {
      console.log(err);
    }
  });
  Menu.loadingPromises.set(name, promise);
}

</t>
<t tx="ekr.20211016054411.2239">/**
 * Attempt to load an a11y component
 *
 * @param {string} component   The name of the a11y component to load
 */
public loadA11y(component: string) {
  const noEnrich = !STATE.ENRICHED;
  this.loadComponent('a11y/' + component, () =&gt; {
    const startup = MathJax.startup;
    //
    // Unregister the handler and get a new one (since the component
    // will have added a handler extension), then register the new one
    //
    mathjax.handlers.unregister(startup.handler);
    startup.handler = startup.getHandler();
    mathjax.handlers.register(startup.handler);
    //
    // Save the old document and get a new one, attaching the
    //   original menu (this), and transfering any math items
    //   from the original document, then rerender with the
    //   updated document (from the new handler)
    //
    const document = this.document;
    this.document = startup.document = startup.getDocument();
    this.document.menu = this;
    this.document.outputJax.reset();
    this.transferMathList(document);
    this.document.processed = document.processed;
    if (!Menu._loadingPromise) {
      this.document.outputJax.reset();
      this.rerender(component === 'complexity' || noEnrich ? STATE.COMPILED : STATE.TYPESET);
    }
  });
}


/**
 * @param {MenuMathDocument} document  The original document whose list is to be transferred
 */
protected transferMathList(document: MenuMathDocument) {
  const MathItem = this.document.options.MathItem;  // This has been updated by the new handler
  for (const item of document.math) {
    const math = new MathItem();    // Make a new MathItem
    Object.assign(math, item);      // Copy the old data to the new math item
    this.document.math.push(math);  // Add it to the current document
  }
}

/**
 * @param {string} text   The text to be displayed in an Info box
 * @returns {string}      The text with HTML specials being escaped
 */
protected formatSource(text: string): string {
  return text.trim().replace(/&amp;/g, '&amp;amp;').replace(/&lt;/g, '&amp;lt;').replace(/&gt;/g, '&amp;gt;');
}

/**
 * @param {HTMLMATHITEM} math   The MathItem to serialize as MathML
 * @returns {string}        The serialized version of the internal MathML
 */
protected toMML(math: HTMLMATHITEM): string {
  return this.MmlVisitor.visitTree(math.root, math, {
    texHints: this.settings.texHints,
    semantics: (this.settings.semantics &amp;&amp; math.inputJax.name !== 'MathML')
  });
}

/*======================================================================*/

/**
 * @param {MouseEvent|null} event   The event triggering the zoom (or null for from a menu pick)
 * @param {string} type             The type of event occurring (click, dblclick)
 * @param {HTMLMATHITEM} math       The MathItem triggering the event
 */
protected zoom(event: MouseEvent, type: string, math: HTMLMATHITEM) {
  if (!event || this.isZoomEvent(event, type)) {
    this.menu.mathItem = math;
    if (event) {
      //
      // The zoomBox.post() below assumes the menu is open,
      //   so if this zoom() call is from an event (not the menu),
      //   make sure the menu is open before posting the zoom box
      //
      this.menu.post(event);
    }
    this.zoomBox.post();
  }
}

/**
 * @param {MouseEvent} Event   The event triggering the zoom action
 * @param {string} zoom        The type of event (click, dblclick) that occurred
 * @returns {boolean}          True if the event is the right type and has the needed modifiers
 */
protected isZoomEvent(event: MouseEvent, zoom: string): boolean {
  return (this.settings.zoom === zoom &amp;&amp;
          (!this.settings.alt   || event.altKey) &amp;&amp;
          (!this.settings.ctrl  || event.ctrlKey) &amp;&amp;
          (!this.settings.cmd   || event.metaKey) &amp;&amp;
          (!this.settings.shift || event.shiftKey));
}

/**
 * Rerender the output if we aren't in the middle of loading a new component
 *   (in which case, we will rerender in the callback performed  after it is loaded)
 *
 * @param {number=} start   The state at which to start rerendering
 */
protected rerender(start: number = STATE.TYPESET) {
  this.rerenderStart = Math.min(start, this.rerenderStart);
  if (!Menu.loading) {
    if (this.rerenderStart &lt;= STATE.COMPILED) {
      this.document.reset({inputJax: []});
    }
    this.document.rerender(this.rerenderStart);
    this.rerenderStart = STATE.LAST;
  }
}

/**
 * Copy the serialzied MathML to the clipboard
 */
protected copyMathML() {
  this.copyToClipboard(this.toMML(this.menu.mathItem));
}

/**
 * Copy the original form to the clipboard
 */
protected copyOriginal() {
  this.copyToClipboard(this.menu.mathItem.math.trim());
}

</t>
<t tx="ekr.20211016054411.224">
import {Loader} from '../../../js/components/loader.js';

Loader.preLoad(
  'loader', 'startup',
  'core',
  'input/tex',
  'output/svg', 'output/svg/fonts/tex.js',
  'ui/menu', 'a11y/assistive-mml'
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2240">/**
 * Copy the original annotation text to the clipboard
 */
public copyAnnotation() {
  this.copyToClipboard(this.menu.annotation.trim());
}

/**
 * @param {string} text   The text to be copied ot the clopboard
 */
protected copyToClipboard(text: string) {
  const input = document.createElement('textarea');
  input.value = text;
  input.setAttribute('readonly', '');
  input.style.cssText = 'height: 1px; width: 1px; padding: 1px; position: absolute; left: -10px';
  document.body.appendChild(input);
  input.select();
  try {
    document.execCommand('copy');
  } catch (error) {
    alert('Can\'t copy to clipboard: ' + error.message);
  }
  document.body.removeChild(input);
}

/*======================================================================*/

</t>
<t tx="ekr.20211016054411.2241">/**
 * @param {HTMLMATHITEM} math   The math to attach the context menu and zoom triggers to
 */
public addMenu(math: HTMLMATHITEM) {
  const element = math.typesetRoot;
  element.addEventListener('contextmenu', () =&gt; this.menu.mathItem = math, true);
  element.addEventListener('keydown', () =&gt; this.menu.mathItem = math, true);
  element.addEventListener('click', event =&gt; this.zoom(event, 'Click', math), true);
  element.addEventListener('dblclick', event =&gt; this.zoom(event, 'DoubleClick', math), true);
  this.menu.store.insert(element);
}

</t>
<t tx="ekr.20211016054411.2242">/**
 * Clear the information about stored context menus
 */
public clear() {
  this.menu.store.clear();
}

/*======================================================================*/

/**
 * Create JSON for a variable controlling a menu setting
 *
 * @param {keyof MenuSettings} name   The setting for which to make a variable
 * @param {(T) =&gt; void} action        Optional function to perform after setting the value
 * @returns {Object}                  The JSON for the variable
 *
 * @tempate T    The type of variable being defined
 */
public variable&lt;T extends (string | boolean)&gt;(name: keyof MenuSettings, action?: (value: T) =&gt; void): Object {
  return {
    name: name,
    getter: () =&gt; this.settings[name],
    setter: (value: T) =&gt; {
      (this.settings as any)[name] = value;
      action &amp;&amp; action(value);
      this.saveUserSettings();
    }
  };
}

/**
 * Create JSON for an a11y specific variable.
 *
 * @param {keyof MenuSettings} name   The setting for which to make a variable
 * @returns {Object}                  The JSON for the variable
 *
 * @tempate T    The type of variable being defined
 */
public a11yVar&lt;T extends (string | boolean)&gt;(name: keyof MenuSettings, action?: (value: T) =&gt; void): Object {
  return {
    name: name,
    getter: () =&gt; this.getA11y(name),
    setter: (value: T) =&gt; {
      (this.settings as any)[name] = value;
      let options: {[key: string]: any} = {};
      options[name] = value;
      this.setA11y(options);
      action &amp;&amp; action(value);
      this.saveUserSettings();
    }
  };
}

</t>
<t tx="ekr.20211016054411.2243">/**
 * Create JSON for a submenu item
 *
 * @param {string} id           The id for the item
 * @param {string} content      The content for the item
 * @param {any[]} entries       The JSON for the entries
 * @param {boolean=} disabled   True if this item is diabled initially
 * @returns {Object}            The JSON for the submenu item
 */
public submenu(id: string, content: string, entries: any[] = [], disabled: boolean = false): Object {
  let items = [] as Array&lt;Object&gt;;
  for (const entry of entries) {
    if (Array.isArray(entry)) {
      items = items.concat(entry);
    } else {
      items.push(entry);
    }
  }
  return {type: 'submenu', id, content, menu: {items}, disabled: (items.length === 0) || disabled};
}

</t>
<t tx="ekr.20211016054411.2244">/**
 * Create JSON for a command item
 *
 * @param {string} id           The id for the item
 * @param {string} content      The content for the item
 * @param {() =&gt; void} action   The action function for the command
 * @param {Object} other        Other values to include in the generated JSON object
 * @returns {Object}            The JSON for the command item
 */
public command(id: string, content: string, action: () =&gt; void, other: Object = {}): Object {
  return Object.assign({type: 'command', id, content, action}, other);
}

</t>
<t tx="ekr.20211016054411.2245">/**
 * Create JSON for a checkbox item
 *
 * @param {string} id           The id for the item
 * @param {string} content      The content for the item
 * @param {string} variable     The (pool) variable to attach to this checkbox
 * @param {Object} other        Other values to include in the generated JSON object
 * @returns {Object}            The JSON for the checkbox item
 */
public checkbox(id: string, content: string, variable: string, other: Object = {}): Object {
  return Object.assign({type: 'checkbox', id, content, variable}, other);
}

</t>
<t tx="ekr.20211016054411.2246">/**
 * Create JSON for a group of connected radio buttons
 *
 * @param {string} variable     The (pool) variable to attach to each radio button
 * @param {string[][]} radios   An array of [string] or [string, string], giving the id and content
 *                                for each radio button (if only one string is given it is used for both)
 * @returns {Object[]}          An array of JSON objects for radion buttons
 */
public radioGroup(variable: string, radios: string[][]): Object[] {
  return radios.map(def =&gt; this.radio(def[0], def[1] || def[0], variable));
}

</t>
<t tx="ekr.20211016054411.2247">/**
 * Create JSON for a radio button item
 *
 * @param {string} id           The id for the item
 * @param {string} content      The content for the item
 * @param {string} variable     The (pool) variable to attach to this radio button
 * @param {Object} other        Other values to include in the generated JSON object
 * @returns {Object}            The JSON for the radio button item
 */
public radio(id: string, content: string, variable: string, other: Object = {}): Object {
  return Object.assign({type: 'radio', id, content, variable}, other);
}

</t>
<t tx="ekr.20211016054411.2248">/**
 * Create JSON for a label item
 *
 * @param {string} id           The id for the item
 * @param {string} content      The content for the item
 * @returns {Object}            The JSON for the label item
 */
public label(id: string, content: string): Object {
  return {type: 'label', id, content};
}

</t>
<t tx="ekr.20211016054411.2249">/**
 * Create JSON for a menu rule
 *
 * @returns {Object}            The JSON for the rule item
 */
public rule(): Object {
  return {type: 'rule'};
}

/*======================================================================*/

</t>
<t tx="ekr.20211016054411.225">
import '../startup/lib/startup.js';
import './preload.js';
import '../core/core.js';
import '../input/tex/tex.js';
import '../output/svg/svg.js';
import '../output/svg/fonts/tex/tex.js';
import '../ui/menu/menu.js';
import '../a11y/assistive-mml/assistive-mml.js';
import '../startup/startup.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2250">


/**
 * @fileoverview  Mixin that adds a context-menu to MathJax output
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {mathjax} from '../../mathjax.js';

import {STATE, newState} from '../../core/MathItem.js';
import {MathDocumentConstructor} from '../../core/MathDocument.js';
import {Handler} from '../../core/Handler.js';
import {ComplexityMathDocument, ComplexityMathItem} from '../../a11y/complexity.js';
import {ExplorerMathDocument, ExplorerMathItem} from '../../a11y/explorer.js';
import {AssistiveMmlMathDocument, AssistiveMmlMathItem} from '../../a11y/assistive-mml.js';
import {expandable} from '../../util/Options.js';

import {Menu} from './Menu.js';

/*==========================================================================*/

/**
 * Generic constructor for Mixins
 */
export type Constructor&lt;T&gt; = new(...args: any[]) =&gt; T;

/**
 * Constructor for base MathItem for MenuMathItem
 */
export type A11yMathItemConstructor = {
  new(...args: any[]): ComplexityMathItem&lt;HTMLElement, Text, Document&gt; &amp;
    ExplorerMathItem &amp; AssistiveMmlMathItem&lt;HTMLElement, Text, Document&gt;;
};

/**
 * Constructor for base document for MenuMathDocument
 */
export type A11yDocumentConstructor =
  MathDocumentConstructor&lt;ComplexityMathDocument&lt;HTMLElement, Text, Document&gt; &amp;
  ExplorerMathDocument &amp; AssistiveMmlMathDocument&lt;HTMLElement, Text, Document&gt;&gt;;

/*==========================================================================*/

/**
 * Add STATE value for menus being added (after TYPESET and before INSERTED)
 */
newState('CONTEXT_MENU', 170);

/**
 * The new function for MathItem that adds the context menu
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2251">export interface MenuMathItem extends ComplexityMathItem&lt;HTMLElement, Text, Document&gt; {

  /**
   * @param {MenuMathDocument} document   The document where the menu is being added
   * @param {boolean} force               True if menu should be added even if enableMenu is false
   */
  addMenu(document: MenuMathDocument, force?: boolean): void;

  /**
   * @param {MenuMathDocument} document   The document to check for if anything is being loaded
   */
  checkLoading(document: MenuMathDocument): void;

}

/**
 * The mixin for adding context menus to MathItems
 *
 * @param {B} BaseMathItem   The MathItem class to be extended
 * @return {MathMathItem}    The extended MathItem class
 *
 * @template B  The MathItem class to extend
 */
export function MenuMathItemMixin&lt;B extends A11yMathItemConstructor&gt;(
  BaseMathItem: B
): Constructor&lt;MenuMathItem&gt; &amp; B {

  return class extends BaseMathItem {

    
</t>
<t tx="ekr.20211016054411.2252">/**
     * @param {MenuMathDocument} document   The document where the menu is being added
     * @param {boolean} force               True if menu should be added even if enableMenu is false
     */
public addMenu(document: MenuMathDocument, force: boolean = false) {
  if (this.state() &gt;= STATE.CONTEXT_MENU) return;
  if (!this.isEscaped &amp;&amp; (document.options.enableMenu || force)) {
    document.menu.addMenu(this);
  }
  this.state(STATE.CONTEXT_MENU);
}

</t>
<t tx="ekr.20211016054411.2253">/**
 * @param {MenuMathDocument} document   The document to check for if anything is being loaded
 */
    public checkLoading(document: MenuMathDocument) {
      document.checkLoading();
    }

  };

}

/*==========================================================================*/

</t>
<t tx="ekr.20211016054411.2254">/**
 * The properties needed in the MathDocument for context menus
 */
export interface MenuMathDocument extends ComplexityMathDocument&lt;HTMLElement, Text, Document&gt; {

  /**
   * The menu associated with this document
   */
  menu: Menu;

  /**
   * Add context menus to the MathItems in the MathDocument
   *
   * @return {MenuMathDocument}   The MathDocument (so calls can be chained)
   */
  addMenu(): MenuMathDocument;

  /**
   * Checks if there are files being loaded by the menu, and restarts the typesetting if so
   *
   * @return {MenuMathDocument}   The MathDocument (so calls can be chained)
   */
  checkLoading(): MenuMathDocument;
}

/**
 * The mixin for adding context menus to MathDocuments
 *
 * @param {B} BaseDocument     The MathDocument class to be extended
 * @return {MenuMathDocument}      The extended MathDocument class
 *
 * @template B  The MathDocument class to extend
 */
export function MenuMathDocumentMixin&lt;B extends A11yDocumentConstructor&gt;(
  BaseDocument: B
): Constructor&lt;MenuMathDocument&gt; &amp; B {

  return class extends BaseDocument {

    /**
     * @override
     */
    public static OPTIONS = {
      //
      //  These options are from the a11y extensions, which may not be loaded
      //    initially, and so would cause "undefined option" error messages
      //    if a user tries to configure them.  So we include them here.
      //    They are overridden by the options from the extensions when
      //    those are loaded (via ...BaseDocument.OPTIONS).
      //
      enableEnrichment: true,
      enableComplexity: true,
      enableExplorer: true,
      enrichSpeech: 'none',
      enrichError: (_doc: MenuMathDocument, _math: MenuMathItem, err: Error) =&gt;
        console.warn('Enrichment Error:', err),
      ...BaseDocument.OPTIONS,
      MenuClass: Menu,
      menuOptions: Menu.OPTIONS,
      enableMenu: true,
      sre: (BaseDocument.OPTIONS.sre || expandable({})),
      a11y: (BaseDocument.OPTIONS.a11y || expandable({})),
      renderActions: expandable({
        ...BaseDocument.OPTIONS.renderActions,
        addMenu: [STATE.CONTEXT_MENU],
        checkLoading: [STATE.UNPROCESSED + 1]
      })
    };

    /**
     * The menu associated with this document
     */
    public menu: Menu;

    
</t>
<t tx="ekr.20211016054411.2255">/**
     * Extend the MathItem class used for this MathDocument
     *
     * @override
     * @constructor
     */
constructor(...args: any[]) {
  super(...args);
  this.menu = new this.options.MenuClass(this, this.options.menuOptions);
  const ProcessBits = (this.constructor as typeof BaseDocument).ProcessBits;
  if (!ProcessBits.has('context-menu')) {
    ProcessBits.allocate('context-menu');
  }
  this.options.MathItem = MenuMathItemMixin&lt;A11yMathItemConstructor&gt;(this.options.MathItem);
}

</t>
<t tx="ekr.20211016054411.2256">/**
 * Add context menus to the MathItems in the MathDocument
 *
 * @return {MenuMathDocument}   The MathDocument (so calls can be chained)
 */
public addMenu(): MenuMathDocument {
  if (!this.processed.isSet('context-menu')) {
    for (const math of this.math) {
      (math as MenuMathItem).addMenu(this);
    }
    this.processed.set('context-menu');
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.2257">/**
 * Checks if there are files being loaded by the menu, and restarts the typesetting if so
 *
 * @return {MenuMathDocument}   The MathDocument (so calls can be chained)
 */
public checkLoading(): MenuMathDocument {
  if (this.menu.isLoading) {
    mathjax.retryAfter(this.menu.loadingPromise.catch((err) =&gt; console.log(err)));
  }
  const settings = this.menu.settings;
  if (settings.collapsible) {
    this.options.enableComplexity = true;
    this.menu.checkComponent('a11y/complexity');
  }
  if (settings.explorer) {
    this.options.enableEnrichment = true;
    this.options.enableExplorer = true;
    this.menu.checkComponent('a11y/explorer');
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.2258">/**
 * @override
 */
public state(state: number, restore: boolean = false) {
  super.state(state, restore);
  if (state &lt; STATE.CONTEXT_MENU) {
    this.processed.clear('context-menu');
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.2259">/**
 * @override
 */
    public updateDocument() {
      super.updateDocument();
      (this.menu.menu.store as any).sort();
      return this;
    }

  };

}

/*==========================================================================*/

</t>
<t tx="ekr.20211016054411.226">
const PACKAGE = require('../../webpack.common.js');

module.exports = PACKAGE(
  'tex-svg',                          // the package to build
  '../../../js',                      // location of the MathJax js library
  [],                                 // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2260">/**
 * Add context-menu support to a Handler instance
 *
 * @param {Handler} handler   The Handler instance to enhance
 * @return {Handler}          The handler that was modified (for purposes of chaining extensions)
 */
export function MenuHandler(handler: Handler&lt;HTMLElement, Text, Document&gt;): Handler&lt;HTMLElement, Text, Document&gt; {
  handler.documentClass = MenuMathDocumentMixin&lt;A11yDocumentConstructor&gt;(handler.documentClass as any);
  return handler;
}
</t>
<t tx="ekr.20211016054411.2261">


/**
 * @fileoverview  Implements a subclass of ContextMenu specific to MathJax
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MathItem} from '../../core/MathItem.js';
import {MmlNode} from '../../core/MmlTree/MmlNode.js';
import {SelectableInfo} from './SelectableInfo.js';

import {ContextMenu} from 'mj-context-menu/js/context_menu.js';
import {SubMenu} from 'mj-context-menu/js/sub_menu.js';
import {Submenu} from 'mj-context-menu/js/item_submenu.js';
import {Menu} from 'mj-context-menu/js/menu.js';
import {Item} from 'mj-context-menu/js/item.js';

/*==========================================================================*/

/**
 * The subclass of ContextMenu that handles the needs of the MathJax
 *   contextual menu (in particular, tying it to a MathItem).
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2262">export class MJContextMenu extends ContextMenu {

  /**
   * Static map to hold methods for re-computing dynamic submenus.
   * @type {Map&lt;string, (menu: MJContextMenu, sub: Submenu)}
   */
  public static DynamicSubmenus: Map&lt;string,
  (menu: MJContextMenu, sub: Submenu) =&gt;
    SubMenu&gt; = new Map();

  /**
   * The MathItem that has posted the menu
   */
  public mathItem: MathItem&lt;HTMLElement, Text, Document&gt; = null;

  /**
   * The annotation selected in the Annotation submenu (neede for the info box to be able to show it)
   */
  public annotation: string = '';

  /**
   * The info box for showing annotations (created by the Menu object that contains this MJContextMenu)
   */
  public showAnnotation: SelectableInfo;

  /**
   * The function to copy the selected annotation (set by the containing Menu item)
   */
  public copyAnnotation: () =&gt; void;

  /**
   * The annotation types to look for in a MathItem
   */
  public annotationTypes: {[type: string]: string[]} = {};

  /*======================================================================*/

  /**
   * Before posting the menu, set the name for the ShowAs and CopyToClipboard menus,
   *   enable/disable the semantics check item, and get the annotations for the MathItem
   *
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2263">public post(x?: any, y?: number) {
  if (this.mathItem) {
    if (y !== undefined) {
      // FIXME:  handle error output jax
      const input = this.mathItem.inputJax.name;
      const original = this.findID('Show', 'Original');
      original.content = (input === 'MathML' ? 'Original MathML' : input + ' Commands');
      const clipboard = this.findID('Copy', 'Original');
      clipboard.content = original.content;
      const semantics = this.findID('Settings', 'semantics');
      input === 'MathML' ? semantics.disable() : semantics.enable();
      this.getAnnotationMenu();
      this.dynamicSubmenus();
    }
    super.post(x, y);
  }
}

</t>
<t tx="ekr.20211016054411.2264">/**
 * Clear the stored MathItem when the menu is removed
 *
 * @override
 */
public unpost() {
  super.unpost();
  this.mathItem = null;
}

/*======================================================================*/

</t>
<t tx="ekr.20211016054411.2265">/**
 * Find an item in the menu (recursively descending into submenus, if needed)
 *
 * @param {string[]} names   The menu IDs to look for
 * @returns {Item}         The menu item (or null if not found)
 */
public findID(...names: string[]) {
  let menu = this as Menu;
  let item = null as Item;
  for (const name of names) {
    if (menu) {
      item = menu.find(name);
      menu = (item instanceof Submenu ? item.submenu : null);
    } else {
      item = null;
    }
  }
  return item;
}

/*======================================================================*/

/**
 * Look up the annotations in the MathItem and set the ShowAs and CopyToClipboard menus
 */
protected getAnnotationMenu() {
  const annotations = this.getAnnotations(this.getSemanticNode());
  this.createAnnotationMenu('Show', annotations, () =&gt; this.showAnnotation.post());
  this.createAnnotationMenu('Copy', annotations, () =&gt; this.copyAnnotation());
}

/**
 * Find the top-most semantics element that encloses the contents of the expression (if any)
 *
 * @returns {MmlNode | null}   The semantics node that was found (or null)
 */
protected getSemanticNode(): MmlNode | null {
  let node: MmlNode = this.mathItem.root;
  while (node &amp;&amp; !node.isKind('semantics'))  {
    if (node.isToken || node.childNodes.length !== 1) return null;
    node = node.childNodes[0] as MmlNode;
  }
  return node;
}

/**
 * @param {MmlNode} node           The semantics node whose annotations are to be obtained
 * @returns {[string, string][]}   Array of [type, text] where the type is the annotation type
 *                                   and text is the content of the annotation of that type
 */
protected getAnnotations(node: MmlNode): [string, string][] {
  const annotations = [] as [string, string][];
  if (!node) return annotations;
  for (const child of node.childNodes as MmlNode[]) {
    if (child.isKind('annotation')) {
      const match = this.annotationMatch(child);
      if (match) {
        const value = child.childNodes.reduce((text, chars) =&gt; text + chars.toString(), '');
        annotations.push([match, value]);
      }
    }
  }
  return annotations;
}

/**
 * @param {MmlNode} child    The annotation node to check if its encoding is one of the displayable ones
 * @returns {string | null}         The annotation type if it does, or null if it doesn't
 */
protected annotationMatch(child: MmlNode): string | null {
  const encoding = child.attributes.get('encoding') as string;
  for (const type of Object.keys(this.annotationTypes)) {
    if (this.annotationTypes[type].indexOf(encoding) &gt;= 0) {
      return type;
    }
  }
  return null;
}

/**
 * Create a submenu from the available annotations and attach it to the proper menu item
 *
 * @param {string} id                        The id of the menu to attach to (Show or Copy)
 * @param {[string, string][]} annotations   The annotations to use for the submenu
 * @param {() =&gt; void} action                The action to perform when the annotation is selected
 */
protected createAnnotationMenu(id: string, annotations: [string, string][], action: () =&gt; void) {
  const menu = this.findID(id, 'Annotation') as Submenu;
  menu.submenu = this.factory.get('subMenu')(this.factory, {
    items: annotations.map(([type, value]) =&gt; {
      return {
        type: 'command',
        id: type,
        content: type,
        action: () =&gt; {
          this.annotation = value;
          action();
        }
      };
    }),
    id: 'annotations'
  }, menu);
  if (annotations.length) {
    menu.enable();
  } else {
    menu.disable();
  }
}

/*======================================================================*/

</t>
<t tx="ekr.20211016054411.2266">/**
 * Renews the dynamic submenus.
 */
public dynamicSubmenus() {
  for (const [id, method] of MJContextMenu.DynamicSubmenus) {
    const menu = this.find(id) as Submenu;
    if (!menu) continue;
    const sub = method(this, menu);
    menu.submenu = sub;
    if (sub.items.length) {
      menu.enable();
    } else {
      menu.disable();
    }
  }
}

</t>
<t tx="ekr.20211016054411.2267">


/**
 * @fileoverview  A visitor to serialize MathML taking menu settings into account
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MathItem} from '../../core/MathItem.js';
import {MmlNode} from '../../core/MmlTree/MmlNode.js';
import {SerializedMmlVisitor} from '../../core/MmlTree/SerializedMmlVisitor.js';
import {OptionList, userOptions} from '../../util/Options.js';

/*==========================================================================*/

/**
 * The visitor to serialize MathML
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2268">export class MmlVisitor&lt;N, T, D&gt; extends SerializedMmlVisitor {

  /**
   * The options controlling the serialization
   */
  public options: OptionList = {
    texHints: true,           // True means include classes for TeXAtom elements
    semantics: false,         // True means include original form as annotation in a semantics element
  };

  /**
   * The MathItem currently being processed
   */
  public mathItem: MathItem&lt;N, T, D&gt; = null;

  /**
   * @param {MmlNode} node         The internal MathML node to serialize
   * @param {MathItem} math        The MathItem for this node
   * @param {OptionList} options   The options controlling the processing
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2269">public visitTree(node: MmlNode, math: MathItem&lt;N, T, D&gt; = null, options: OptionList = {}) {
  this.mathItem = math;
  userOptions(this.options, options);
  return this.visitNode(node, '');
}

</t>
<t tx="ekr.20211016054411.227"></t>
<t tx="ekr.20211016054411.2270">/**
 * @override
 */
public visitTeXAtomNode(node: MmlNode, space: string) {
  if (this.options.texHints) {
    return super.visitTeXAtomNode(node, space);
  }
  if (node.childNodes[0] &amp;&amp; node.childNodes[0].childNodes.length === 1) {
    return this.visitNode(node.childNodes[0], space);
  }
  return space + '&lt;mrow' +  this.getAttributes(node) + '&gt;\n'
    + this.childNodeMml(node, space + '  ', '\n')
    + space + '&lt;/mrow&gt;';
}

</t>
<t tx="ekr.20211016054411.2271">/**
 * @param {MmlNode} node    The math node to visit
 * @param {string} space    The number of spaces to use for indentation
 * @returns {string}        The serialized math element
 */
public visitMathNode(node: MmlNode, space: string): string {
  if (!this.options.semantics || this.mathItem.inputJax.name !== 'TeX') {
    return super.visitDefault(node, space);
  }
  const addRow = node.childNodes.length &amp;&amp; node.childNodes[0].childNodes.length &gt; 1;
  return space + '&lt;math' + this.getAttributes(node) + '&gt;\n'
               + space + '  &lt;semantics&gt;\n'
               + (addRow ? space + '    &lt;mrow&gt;\n' : '')
               + this.childNodeMml(node, space + (addRow ? '      ' : '    '), '\n')
               + (addRow ? space + '    &lt;/mrow&gt;\n' : '')
               + space + '    &lt;annotation encoding="application/x-tex"&gt;' + this.mathItem.math + '&lt;/annotation&gt;\n'
               + space + '  &lt;/semantics&gt;\n'
               + space + '&lt;/math&gt;';
}

</t>
<t tx="ekr.20211016054411.2272">


/**
 * @fileoverview  An info box that allows text selection and has copy-to-clipboard functions
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {Info} from 'mj-context-menu/js/info.js';
import {HtmlClasses} from 'mj-context-menu/js/html_classes.js';

/*==========================================================================*/

/**
 * The SelectableInfo class definition
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2273">export class SelectableInfo extends Info {

  /**
   * Add a keypress event to handle "select all" so that only
   * the info-box's text is selected (not the whole page)
   *
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2274">public addEvents(element: HTMLElement) {
  element.addEventListener('keypress', (event: KeyboardEvent) =&gt; {
    if (event.key === 'a' &amp;&amp; (event.ctrlKey || event.metaKey)) {
      this.selectAll();
      this.stop(event);
    }
  });
}

</t>
<t tx="ekr.20211016054411.2275">/**
 * Select all the main text of the info box
 */
public selectAll() {
  const selection = document.getSelection();
  selection.selectAllChildren(this.html.querySelector('pre'));
}

</t>
<t tx="ekr.20211016054411.2276">/**
 * Implement the copy-to-clipboard action
 */
public copyToClipboard() {
  this.selectAll();
  try {
    document.execCommand('copy');
  } catch (err) {
    alert('Can\'t copy to clipboard: ' + err.message);
  }
  document.getSelection().removeAllRanges();
}

</t>
<t tx="ekr.20211016054411.2277">/**
 * Attach the copy-to-clipboard action to its button
 */
public generateHtml() {
  super.generateHtml();
  const footer = this.html.querySelector('span.' + HtmlClasses['INFOSIGNATURE']);
  const button = footer.appendChild(document.createElement('input'));
  button.type = 'button';
  button.value = 'Copy to Clipboard';
  button.addEventListener('click', (_event: MouseEvent) =&gt; this.copyToClipboard());
}

</t>
<t tx="ekr.20211016054411.2278"></t>
<t tx="ekr.20211016054411.2279">


/**
 * @fileoverview  Support for the safe extension
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {Property} from '../../core/Tree/Node.js';
import {MmlNode} from '../../core/MmlTree/MmlNode.js';
import {MathItem} from '../../core/MathItem.js';
import {MathDocument} from '../../core/MathDocument.js';
import {OptionList, expandable} from '../../util/Options.js';
import {DOMAdaptor} from '../../core/DOMAdaptor.js';
import {SafeMethods} from './SafeMethods.js';


/**
 * Function type for filtering attributes
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export type FilterFunction&lt;N, T, D&gt; = (safe: Safe&lt;N, T, D&gt;, value: Property, ...args: any[]) =&gt; Property;

/**
 * The Safe object for sanitizing the internal MathML representation of an expression
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.228">
import {Loader} from '../../../js/components/loader.js';

Loader.preLoad(
  'loader', 'startup',
  'core',
  'input/tex-full',
  'output/svg', 'output/svg/fonts/tex.js',
  'ui/menu', 'a11y/assistive-mml'
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2280">export class Safe&lt;N, T, D&gt; {

  /**
   * The options controlling the handling of the safe extension
   */
  public static OPTIONS: OptionList = {
    allow: {
      //
      //  Values can be "all", "safe", or "none"
      //
      URLs:    'safe',   // safe are in safeProtocols below
      classes: 'safe',   // safe start with mjx- (can be set by pattern below)
      cssIDs:  'safe',   // safe start with mjx- (can be set by pattern below)
      styles:  'safe'    // safe are in safeStyles below
    },
    //
    // Largest padding/border/margin, etc. in em's
    //
    lengthMax: 3,
    //
    // Valid range for scriptsizemultiplier
    //
    scriptsizemultiplierRange: [.6, 1],
    //
    // Valid range for scriptlevel
    //
    scriptlevelRange: [-2, 2],
    //
    // Pattern for allowed class names
    //
    classPattern: /^mjx-[-a-zA-Z0-9_.]+$/,
    //
    // Pattern for allowed ids
    //
    idPattern: /^mjx-[-a-zA-Z0-9_.]+$/,
    //
    // Pattern for data attributes
    //
    dataPattern: /^data-mjx-/,
    //
    //  Which URL protocols are allowed
    //
    safeProtocols: expandable({
      http: true,
      https: true,
      file: true,
      javascript: false,
      data: false
    }),
    //
    //  Which styles are allowed
    //
    safeStyles: expandable({
      color: true,
      backgroundColor: true,
      border: true,
      cursor: true,
      margin: true,
      padding: true,
      textShadow: true,
      fontFamily: true,
      fontSize: true,
      fontStyle: true,
      fontWeight: true,
      opacity: true,
      outline: true
    }),
    //
    //  CSS styles that have Top/Right/Bottom/Left versions
    //
    styleParts: expandable({
      border: true,
      padding: true,
      margin: true,
      outline: true
    }),
    //
    //  CSS styles that are lengths needing max/min testing
    //    A string value means test that style value;
    //    An array gives [min,max] in em's
    //    Otherwise use [-lengthMax,lengthMax] from above
    //
    styleLengths: expandable({
      borderTop: 'borderTopWidth',
      borderRight: 'borderRightWidth',
      borderBottom: 'borderBottomWidth',
      borderLeft: 'borderLeftWidth',
      paddingTop: true,
      paddingRight: true,
      paddingBottom: true,
      paddingLeft: true,
      marginTop: true,
      marginRight: true,
      marginBottom: true,
      marginLeft: true,
      outlineTop: true,
      outlineRight: true,
      outlineBottom: true,
      outlineLeft: true,
      fontSize: [.707, 1.44]
    })
  };

  /**
   * The attribute-to-filter-method mapping
   */
  public filterAttributes: Map&lt;string, string&gt; = new Map([
    //
    //  Methods called for MathML attribute processing
    //
    ['href', 'filterURL'],
    ['src',  'filterURL'],
    ['altimg', 'filterURL'],
    ['class', 'filterClassList'],
    ['style', 'filterStyles'],
    ['id', 'filterID'],
    ['fontsize', 'filterFontSize'],
    ['mathsize', 'filterFontSize'],
    ['scriptminsize', 'filterFontSize'],
    ['scriptsizemultiplier', 'filterSizeMultiplier'],
    ['scriptlevel', 'filterScriptLevel'],
    ['data-', 'filterData']
  ]);

  /**
   * The safe options from the document option list
   */
  public options: OptionList;

  /**
   * Shorthand for options.allow
   */
  public allow: OptionList;

  /**
   * The DOM adaptor from the document
   */
  public adaptor: DOMAdaptor&lt;N, T, D&gt;;

  /**
   * The methods for filtering the MathML attributes
   */
  public filterMethods: {[name: string]: FilterFunction&lt;N, T, D&gt;} = {
    ...SafeMethods
  };

  /**
   * @param {MathDocument&lt;N,T,D&gt;} document  The MathDocument we are sanitizing
   * @param {OptionList} options            The safeOptions from the document
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2281">constructor(document: MathDocument&lt;N, T, D&gt;, options: OptionList) {
  this.adaptor = document.adaptor;
  this.options = options;
  this.allow = this.options.allow;
}

</t>
<t tx="ekr.20211016054411.2282">/**
 * Sanitize a MathItem's root MathML tree
 *
 * @param {MathItem&lt;N,T,D&gt;} math           The MathItem to sanitize
 * @param {MathDocument&lt;N,T,D&gt;} document   The MathDocument in which it lives
 */
public sanitize(math: MathItem&lt;N, T, D&gt;, document: MathDocument&lt;N, T, D&gt;) {
  try {
    math.root.walkTree(this.sanitizeNode.bind(this));
  } catch (err) {
    document.options.compileError(document, math, err);
  }
}

/**
 * Sanitize a node's attributes
 *
 * @param {MmlNode} node      The node to sanitize
 */
protected sanitizeNode(node: MmlNode) {
  const attributes = node.attributes.getAllAttributes();
  for (const id of Object.keys(attributes)) {
    const method = this.filterAttributes.get(id);
    if (method) {
      const value = this.filterMethods[method](this, attributes[id]);
      if (value) {
        if (value !== (typeof value === 'number' ? parseFloat(attributes[id] as string) : attributes[id])) {
          attributes[id] = value;
        }
      } else {
        delete attributes[id];
      }
    }
  }
}

</t>
<t tx="ekr.20211016054411.2283">/**
 * Sanitize a MathML input attribute
 *
 * @param {string} id      The name of the attribute
 * @param {string} value   The value of the attribute
 * @return {string|null}   The sanitized value
 */
public mmlAttribute(id: string, value: string): string | null {
  if (id === 'class') return null;
  const method = this.filterAttributes.get(id);
  const filter = (method || (id.substr(0, 5) === 'data-' ? this.filterAttributes.get('data-') : null));
  if (!filter) {
    return value;
  }
  const result = this.filterMethods[filter](this, value, id);
  return (typeof result === 'number' || typeof result === 'boolean' ? String(result) : result);
}

</t>
<t tx="ekr.20211016054411.2284">/**
 * Sanitize a list of class names
 *
 * @param {string[]} list   The list of class names
 * @return {string[]}       The sanitized list
 */
public mmlClassList(list: string[]): string[] {
  return list.map((name) =&gt; this.filterMethods.filterClass(this, name) as string)
             .filter((value) =&gt; value !== null);
}

</t>
<t tx="ekr.20211016054411.2285">


/**
 * @fileoverview  MathItem, MathDocument, and Handler for the safe extension
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MathItem} from '../../core/MathItem.js';
import {MathDocument, MathDocumentConstructor} from '../../core/MathDocument.js';
import {Handler} from '../../core/Handler.js';

import {Safe} from './safe.js';

/*==========================================================================*/

/**
 * Generic constructor for Mixins
 */
export type Constructor&lt;T&gt; = new(...args: any[]) =&gt; T;

/*==========================================================================*/

/**
 * The properties needed in the MathDocument for sanitizing the internal MathML
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2286">export interface SafeMathDocument&lt;N, T, D&gt; extends MathDocument&lt;N, T, D&gt; {

  /**
   * The Safe object for this document
   */
  safe: Safe&lt;N, T, D&gt;;

}


/**
 * The mixin for adding safe render action to MathDocuments
 *
 * @param {B} BaseDocument             The MathDocument class to be extended
 * @return {SafeMathDocument&lt;N,T,D&gt;}   The extended MathDocument class
 */
export function SafeMathDocumentMixin&lt;N, T, D, B extends MathDocumentConstructor&lt;MathDocument&lt;N, T, D&gt;&gt;&gt;(
  BaseDocument: B
): Constructor&lt;SafeMathDocument&lt;N, T, D&gt;&gt; &amp; B {

  return class extends BaseDocument {

    /**
     * @override
     */
    public static OPTIONS = {
      ...BaseDocument.OPTIONS,
      safeOptions: {
        ...Safe.OPTIONS,
      },
      SafeClass: Safe
    };

    /**
     * An instance of the Safe object
     */
    public safe: Safe&lt;N, T, D&gt;;

    
</t>
<t tx="ekr.20211016054411.2287">/**
     * Extend the MathItem class used for this MathDocument
     *
     * @override
     * @constructor
     */
    constructor(...args: any[]) {
      super(...args);
      this.safe = new this.options.SafeClass(this, this.options.safeOptions);
      const ProcessBits = (this.constructor as typeof BaseDocument).ProcessBits;
      if (!ProcessBits.has('safe')) {
        ProcessBits.allocate('safe');
      }
      for (const jax of this.inputJax) {
        if (jax.name.match(/MathML/)) {
          (jax as any).mathml.filterAttribute = this.safe.mmlAttribute.bind(this.safe);
          (jax as any).mathml.filterClassList = this.safe.mmlClassList.bind(this.safe);
        } else if (jax.name.match(/TeX/)) {
          jax.postFilters.add(this.sanitize.bind(jax), -5.5);
        }
      }
    }

    /**
     * @param {{document:SafeDocument&lt;N,T,D&gt;}} data   The document to use for the filter
     *                                                (note: this has been bound to the input jax)
     */
    protected sanitize(data: {math: MathItem&lt;N, T, D&gt;, document: SafeMathDocument&lt;N, T, D&gt;}) {
      data.math.root = (this as any).parseOptions.root;
      data.document.safe.sanitize(data.math, data.document);
    }
  };

}


/*==========================================================================*/

</t>
<t tx="ekr.20211016054411.2288">/**
 * Add context-menu support to a Handler instance
 *
 * @param {Handler} handler   The Handler instance to enhance
 * @return {Handler}          The handler that was modified (for purposes of chaining extensions)
 */
export function SafeHandler&lt;N, T, D&gt;(handler: Handler&lt;N, T, D&gt;): Handler&lt;N, T, D&gt; {
  handler.documentClass = SafeMathDocumentMixin(handler.documentClass);
  return handler;
}
</t>
<t tx="ekr.20211016054411.2289">


/**
 * @fileoverview  Support functions for the safe extension
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {length2em} from '../../util/lengths.js';
import {Safe, FilterFunction} from './safe.js';

/**
 * The default attribute-filtering functions
 */
export const SafeMethods: {[name: string]: FilterFunction&lt;any, any, any&gt;} = {

  /**
   * Filter HREF URL's
   *
   * @param {Safe&lt;N,T,D&gt;} safe  The Safe object being used
   * @param {string} url        The URL being tested
   * @return {string|null}      The URL if OK and null if not
   *
   * @template N  The HTMLElement node class
   * @template T  The Text node class
   * @template D  The Document class
   */
  filterURL&lt;N, T, D&gt;(safe: Safe&lt;N, T, D&gt;, url: string): string | null {
    const protocol = (url.match(/^\s*([a-z]+):/i) || [null, ''])[1].toLowerCase();
    const allow = safe.allow.URLs;
    return (allow === 'all' || (allow === 'safe' &amp;&amp;
                                (safe.options.safeProtocols[protocol] || !protocol))) ? url : null;
  },

  /**
   * Filter a class list
   *
   * @param {Safe&lt;N,T,D&gt;} safe  The Safe object being used
   * @param {string} list       The class list being tested
   * @return {string|null}      The class list if OK and null if not
   *
   * @template N  The HTMLElement node class
   * @template T  The Text node class
   * @template D  The Document class
   */
  filterClassList&lt;N, T, D&gt;(safe: Safe&lt;N, T, D&gt;, list: string): string | null {
    const classes = list.trim().replace(/\s\s+/g, ' ').split(/ /);
    return classes.map((name) =&gt; this.filterClass(safe, name) || '').join(' ').trim().replace(/\s\s+/g, '');
  },

  /**
   * Filter a class name
   *
   * @param {Safe&lt;N,T,D&gt;} safe  The Safe object being used
   * @param {string} CLASS      The class being tested
   * @return {string|null}      The class if OK and null if not
   *
   * @template N  The HTMLElement node class
   * @template T  The Text node class
   * @template D  The Document class
   */
  filterClass&lt;N, T, D&gt;(safe: Safe&lt;N, T, D&gt;, CLASS: string): string | null {
    const allow = safe.allow.classes;
    return (allow === 'all' || (allow === 'safe' &amp;&amp; CLASS.match(safe.options.classPattern))) ? CLASS : null;
  },

  /**
   * Filter ids
   *
   * @param {Safe&lt;N,T,D&gt;} safe  The Safe object being used
   * @param {string} id         The id being tested
   * @return {string|null}      The id if OK and null if not
   *
   * @template N  The HTMLElement node class
   * @template T  The Text node class
   * @template D  The Document class
   */
  filterID&lt;N, T, D&gt;(safe: Safe&lt;N, T, D&gt;, id: string): string | null {
    const allow = safe.allow.cssIDs;
    return (allow === 'all' || (allow === 'safe' &amp;&amp; id.match(safe.options.idPattern))) ? id : null;
  },

  /**
   * Filter style strings
   *
   * @param {Safe&lt;N,T,D&gt;} safe  The Safe object being used
   * @param {string} styles     The style string being tested
   * @return {string}           The sanitized style string
   *
   * @template N  The HTMLElement node class
   * @template T  The Text node class
   * @template D  The Document class
   */
  filterStyles&lt;N, T, D&gt;(safe: Safe&lt;N, T, D&gt;, styles: string): string {
    if (safe.allow.styles === 'all') return styles;
    if (safe.allow.styles !== 'safe') return null;
    const adaptor = safe.adaptor;
    const options = safe.options;
    try {
      //
      //  Create div1 with styles set to the given styles, and div2 with blank styles
      //
      const div1 = adaptor.node('div', {style: styles});
      const div2 = adaptor.node('div');
      //
      //  Check each allowed style and transfer OK ones to div2
      //  If the style has Top/Right/Bottom/Left, look at all four separately
      //
      for (const style of Object.keys(options.safeStyles)) {
        if (options.styleParts[style]) {
          for (const sufix of ['Top', 'Right', 'Bottom', 'Left']) {
            const name = style + sufix;
            const value = this.filterStyle(safe, name, div1);
            if (value) {
              adaptor.setStyle(div2, name, value);
            }
          }
        } else {
          const value = this.filterStyle(safe, style, div1);
          if (value) {
            adaptor.setStyle(div2, style, value);
          }
        }
      }
      //
      //  Return the div2 style string
      //
      styles = adaptor.allStyles(div2);
    } catch (err) {
      styles = '';
    }
    return styles;
  },

  /**
   * Filter an individual name:value style pair
   *
   * @param {Safe&lt;N,T,D&gt;} safe  The Safe object being used
   * @param {string} style      The style name being tested
   * @param {N} div             The temp DIV node containing the style object to be tested
   * @return {string|null}      The sanitized style string or null if invalid
   *
   * @template N  The HTMLElement node class
   * @template T  The Text node class
   * @template D  The Document class
   */
  filterStyle&lt;N, T, D&gt;(safe: Safe&lt;N, T, D&gt;, style: string, div: N): string | null {
    const value = safe.adaptor.getStyle(div, style);
    if (typeof value !== 'string' || value === '' || value.match(/^\s*calc/) ||
        (value.match(/javascript:/) &amp;&amp; !safe.options.safeProtocols.javascript) ||
        (value.match(/data:/) &amp;&amp; !safe.options.safeProtocols.data)) {
      return null;
    }
    const name = style.replace(/Top|Right|Left|Bottom/, '');
    if (!safe.options.safeStyles[style] &amp;&amp; !safe.options.safeStyles[name]) {
      return null;
    }
    return this.filterStyleValue(safe, style, value, div);
  },

  /**
   * Filter a style's value, handling compound values (e.g., borders that have widths as well as styles and colors)
   *
   * @param {Safe&lt;N,T,D&gt;} safe  The Safe object being used
   * @param {string} style      The style name being tested
   * @param {string} value      The value of the style to test
   * @param {N} div             The temp DIV node containing the style object to be tested
   * @return {string|null}      The sanitized style string or null if invalid
   *
   * @template N  The HTMLElement node class
   * @template T  The Text node class
   * @template D  The Document class
   */
  filterStyleValue&lt;N, T, D&gt;(safe: Safe&lt;N, T, D&gt;, style: string, value: string, div: N): string | null {
    const name = safe.options.styleLengths[style];
    if (!name) {
      return value;
    }
    if (typeof name !== 'string') {
      return this.filterStyleLength(safe, style, value);
    }
    const length = this.filterStyleLength(safe, name, safe.adaptor.getStyle(div, name));
    if (!length) {
      return null;
    }
    safe.adaptor.setStyle(div, name, length);
    return safe.adaptor.getStyle(div, style);
  },

  /**
   * Filter a length value
   *
   * @param {Safe&lt;N,T,D&gt;} safe  The Safe object being used
   * @param {string} style      The style name being tested
   * @param {string} value      The value of the style to test
   * @return {string|null}      The sanitized length value
   *
   * @template N  The HTMLElement node class
   * @template T  The Text node class
   * @template D  The Document class
   */
  filterStyleLength&lt;N, T, D&gt;(safe: Safe&lt;N, T, D&gt;, style: string, value: string): string | null {
    if (!value.match(/^(.+)(em|ex|ch|rem|px|mm|cm|in|pt|pc|%)$/)) return null;
    const em = length2em(value, 1);
    const lengths = safe.options.styleLengths[style];
    const [m, M] = (Array.isArray(lengths) ? lengths : [-safe.options.lengthMax, safe.options.lengthMax]);
    return (m &lt;= em &amp;&amp; em &lt;= M ? value : (em &lt; m ? m : M).toFixed(3).replace(/\.?0+$/, '') + 'em');
  },

  /**
   * Filter a font size
   *
   * @param {Safe&lt;N,T,D&gt;} safe  The Safe object being used
   * @param {string} size       The font size to test
   * @return {string|null}      The sanitized style string or null if invalid
   *
   * @template N  The HTMLElement node class
   * @template T  The Text node class
   * @template D  The Document class
   */
  filterFontSize&lt;N, T, D&gt;(safe: Safe&lt;N, T, D&gt;, size: string): string | null {
    return this.filterStyleLength(safe, 'fontSize', size);
  },

  /**
   * Filter scriptsizemultiplier
   *
   * @param {Safe&lt;N,T,D&gt;} safe  The Safe object being used
   * @param {string} size       The script size multiplier to test
   * @return {number}           The sanitized size
   *
   * @template N  The HTMLElement node class
   * @template T  The Text node class
   * @template D  The Document class
   */
  filterSizeMultiplier&lt;N, T, D&gt;(safe: Safe&lt;N, T, D&gt;, size: string): number {
    const [m, M] = safe.options.scriptsizemultiplierRange || [-Infinity, Infinity];
    return Math.min(M, Math.max(m, parseFloat(size)));
  },

  /**
   *  Filter scriptLevel
   *
   * @param {Safe&lt;N,T,D&gt;} safe  The Safe object being used
   * @param {string} size       The scriptlevel to test
   * @return {number|null}      The sanitized scriptlevel or null
   *
   * @template N  The HTMLElement node class
   * @template T  The Text node class
   * @template D  The Document class
   */
  filterScriptLevel&lt;N, T, D&gt;(safe: Safe&lt;N, T, D&gt;, level: string): number | null {
    const [m, M] = safe.options.scriptlevelRange || [-Infinity, Infinity];
    return Math.min(M, Math.max(m, parseInt(level)));
  },

  /**
   * Filter a data-* attribute
   *
   * @param {Safe&lt;N,T,D&gt;} safe  The Safe object being used
   * @param {string} value      The attribute's value
   * @param {string} id         The attribute's id (e.g., data-mjx-variant)
   * @return {number|null}      The sanitized value or null
   *
   * @template N  The HTMLElement node class
   * @template T  The Text node class
   * @template D  The Document class
   */
  filterData&lt;N, T, D&gt;(safe: Safe&lt;N, T, D&gt;, value: string, id: string): string | null {
    return (id.match(safe.options.dataPattern) ? value : null);
  }

};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.229">
import '../startup/lib/startup.js';
import './preload.js';
import '../core/core.js';
import '../input/tex-full/tex-full.js';
import '../output/svg/svg.js';
import '../output/svg/fonts/tex/tex.js';
import '../ui/menu/menu.js';
import '../a11y/assistive-mml/assistive-mml.js';
import '../startup/startup.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2290"></t>
<t tx="ekr.20211016054411.2291">


/**
 * @fileoverview  Implements asynchronous loading of files
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {mathjax} from '../mathjax.js';

/**
 * Load a file asynchronously using the mathjax.asynchLoad method, if there is one
 *
 * @param {string} name  The name of the file to load
 * @return {Promise}     The promise that is satisfied when the file is loaded
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2292">export function asyncLoad(name: string): Promise&lt;void&gt; {
  if (!mathjax.asyncLoad) {
    return Promise.reject(`Can't load '${name}': No asyncLoad method specified`);
  }
  return new Promise((ok, fail) =&gt; {
    const result = mathjax.asyncLoad(name);
    if (result instanceof Promise) {
      result.then((value: any) =&gt; ok(value)).catch((err: Error) =&gt; fail(err));
    } else {
      ok(result);
    }
  });
}
</t>
<t tx="ekr.20211016054411.2293">


/**
 * @fileoverview  Implements a bounding-box object and operations on it
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {BIGDIMEN} from './lengths.js';

/**
 *  CSS styles that affect BBoxes
 */
export const BBoxStyleAdjust = [
  ['borderTopWidth', 'h'],
  ['borderRightWidth', 'w'],
  ['borderBottomWidth', 'd'],
  ['borderLeftWidth', 'w', 0],
  ['paddingTop', 'h'],
  ['paddingRight', 'w'],
  ['paddingBottom', 'd'],
  ['paddingLeft', 'w', 0]
];

/**
 *  The data used to initialize a BBox
 */
export type BBoxData = {
  w?: number,
  h?: number,
  d?: number
};

/*****************************************************************/
/**
 *  The BBox class
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2294">export class BBox {
  /**
   * Constant for pwidth of full width box
   */
  public static fullWidth = '100%';

  /**
   *  These are the data stored for a bounding box
   */
  /* tslint:disable:jsdoc-require */
  public w: number;
  public h: number;
  public d: number;
  public scale: number;
  public rscale: number; // scale relative to the parent's scale
  public L: number;      // extra space on the left
  public R: number;      // extra space on the right
  public pwidth: string; // percentage width (for tables)
  public ic: number;     // italic correction
  public sk: number;     // skew
  public dx: number;     // offset for combining characters as accents
  /* tslint:enable */

  /**
   * @return {BBox}  A BBox initialized to zeros
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2295">public static zero(): BBox {
  return new BBox({h: 0, d: 0, w: 0});
}

</t>
<t tx="ekr.20211016054411.2296">/**
 * @return {BBox}  A BBox with height and depth not set
 */
public static empty(): BBox {
  return new BBox();
}

</t>
<t tx="ekr.20211016054411.2297">/**
 * @param {BBoxData} def  The data with which to initialize the BBox
 *
 * @constructor
 */
constructor(def: BBoxData = {w: 0, h: -BIGDIMEN, d: -BIGDIMEN}) {
  this.w = def.w || 0;
  this.h = ('h' in def ? def.h : -BIGDIMEN);
  this.d = ('d' in def ? def.d : -BIGDIMEN);
  this.L = this.R = this.ic = this.sk = this.dx = 0;
  this.scale = this.rscale = 1;
  this.pwidth = '';
}

</t>
<t tx="ekr.20211016054411.2298">/**
 * Set up a bbox for append() and combine() operations
 * @return {BBox}  the boox itself (for chaining calls)
 */
public empty(): BBox {
  this.w = 0;
  this.h = this.d = -BIGDIMEN;
  return this;
}

</t>
<t tx="ekr.20211016054411.2299">/**
 * Convert any unspecified values into zeros
 */
public clean () {
  if (this.w === -BIGDIMEN) this.w = 0;
  if (this.h === -BIGDIMEN) this.h = 0;
  if (this.d === -BIGDIMEN) this.d = 0;
}

</t>
<t tx="ekr.20211016054411.23">
const PACKAGE = require('../../../webpack.common.js');

module.exports = PACKAGE(
  'a11y/explorer',                    // the package to build
  '../../../../js',                   // location of the MathJax js library
  [                                   // packages to link to
    'components/src/ui/menu/lib',
    'components/src/a11y/semantic-enrich/lib',
    'components/src/input/mml/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.230">
const PACKAGE = require('../../webpack.common.js');

module.exports = PACKAGE(
  'tex-svg-full',                     // the package to build
  '../../../js',                      // location of the MathJax js library
  [],                                 // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2300">/**
 * @param {number} scale  The scale to use to modify the bounding box size
 */
public rescale(scale: number) {
  this.w *= scale;
  this.h *= scale;
  this.d *= scale;
}

</t>
<t tx="ekr.20211016054411.2301">/**
 * @param {BBox} cbox  A bounding to combine with this one
 * @param {number} x   An x-offest for the child bounding box
 * @param {number} y   A y-offset for the child bounding box
 */
public combine(cbox: BBox, x: number = 0, y: number = 0) {
  let rscale = cbox.rscale;
  let w = x + rscale * (cbox.w + cbox.L + cbox.R);
  let h = y + rscale * cbox.h;
  let d = rscale * cbox.d - y;
  if (w &gt; this.w) this.w = w;
  if (h &gt; this.h) this.h = h;
  if (d &gt; this.d) this.d = d;
}

</t>
<t tx="ekr.20211016054411.2302">/**
 * @param {BBox} cbox  A bounding box to be added to the right of this one
 */
public append(cbox: BBox) {
  let scale = cbox.rscale;
  this.w += scale * (cbox.w + cbox.L + cbox.R);
  if (scale * cbox.h &gt; this.h) {
    this.h = scale * cbox.h;
  }
  if (scale * cbox.d &gt; this.d) {
    this.d = scale * cbox.d;
  }
}

</t>
<t tx="ekr.20211016054411.2303">/**
 * @param {BBox} cbox  The bounding box to use to overwrite this one
 */
public updateFrom(cbox: BBox) {
  this.h = cbox.h;
  this.d = cbox.d;
  this.w = cbox.w;
  if (cbox.pwidth) {
    this.pwidth = cbox.pwidth;
  }
}

</t>
<t tx="ekr.20211016054411.2304">


/**
 * @fileoverview  Implements bit-fields with extendable field names
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2305">export class BitField {

  /**
   * The largest bit available
   */
  protected static MAXBIT = 1 &lt;&lt; 31;

  /**
   * The next bit to be allocated
   */
  protected static next: number = 1;

  /**
   * The map of names to bit positions
   */
  protected static names: Map&lt;string, number&gt; = new Map();

  /**
   * The bits that are set
   */
  protected bits: number = 0;

  /**
   * @param {string} names    The names of the bit positions to reserve
   */
  @others
}

</t>
<t tx="ekr.20211016054411.2306">public static allocate(...names: string[]) {
  for (const name of names) {
    if (this.has(name)) {
      throw new Error('Bit already allocated for ' + name);
    }
    if (this.next === BitField.MAXBIT) {
      throw new Error('Maximum number of bits already allocated');
    }
    this.names.set(name, this.next);
    this.next &lt;&lt;= 1;
  }
}

</t>
<t tx="ekr.20211016054411.2307">/**
 * @param {string} name   The name of the bit to check for being defined
 * @return {boolean}      True if the named bit is already allocated
 */
public static has(name: string): boolean {
  return this.names.has(name);
}

</t>
<t tx="ekr.20211016054411.2308">/**
 * @param {string} name    The name of the bit position to set
 */
public set(name: string) {
  this.bits |= this.getBit(name);
}

</t>
<t tx="ekr.20211016054411.2309">/**
 * @param {string} name    The name of the bit position to clear
 */
public clear(name: string) {
  this.bits &amp;= ~this.getBit(name);
}

</t>
<t tx="ekr.20211016054411.231"></t>
<t tx="ekr.20211016054411.2310">/**
 * @param {string} name   The name of the bit to check if set
 * @return {boolean}      True if the named bit is set
 */
public isSet(name: string): boolean {
  return !!(this.bits &amp; this.getBit(name));
}

</t>
<t tx="ekr.20211016054411.2311">/**
 * Clear all bits
 */
public reset() {
  this.bits = 0;
}

/**
 * @param {string} name   The name whose bit position is needed (error if not defined)
 * @return {number}       The position of the named bit
 */
protected getBit(name: string): number {
  const bit = (this.constructor as typeof BitField).names.get(name);
  if (!bit) {
    throw new Error('Unknown bit-field name: ' + name);
  }
  return bit;
}

</t>
<t tx="ekr.20211016054411.2312">/**
 * @param {string[]} names    The name of the positions to allocate initially
 * @return {typeof AbstractBitField}  The bit-field class with names allocated
 */
export function BitFieldClass(...names: string[]): typeof BitField {
  const Bits = class extends BitField {};
  Bits.allocate(...names);
  return Bits;
}
</t>
<t tx="ekr.20211016054411.2313">


/**
 * @fileoverview  Converts named entities to unicode characters
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {retryAfter} from './Retries.js';
import {asyncLoad} from './AsyncLoad.js';
import {OptionList} from './Options.js';

/**
 * The type for lists of entities
 */
export type EntityList = {[name: string]: string};


/**
 *  Options controlling the process of conversion
 */
export const options: OptionList = {
  loadMissingEntities: true           // True means load entity files dynamically if needed
};

/**
 *  The entity name-to-value translation table
 *  (basic math entities -- others are loaded from external files)
 */
export const entities: EntityList = {
  ApplyFunction: '\u2061',
  Backslash: '\u2216',
  Because: '\u2235',
  Breve: '\u02D8',
  Cap: '\u22D2',
  CenterDot: '\u00B7',
  CircleDot: '\u2299',
  CircleMinus: '\u2296',
  CirclePlus: '\u2295',
  CircleTimes: '\u2297',
  Congruent: '\u2261',
  ContourIntegral: '\u222E',
  Coproduct: '\u2210',
  Cross: '\u2A2F',
  Cup: '\u22D3',
  CupCap: '\u224D',
  Dagger: '\u2021',
  Del: '\u2207',
  Delta: '\u0394',
  Diamond: '\u22C4',
  DifferentialD: '\u2146',
  DotEqual: '\u2250',
  DoubleDot: '\u00A8',
  DoubleRightTee: '\u22A8',
  DoubleVerticalBar: '\u2225',
  DownArrow: '\u2193',
  DownLeftVector: '\u21BD',
  DownRightVector: '\u21C1',
  DownTee: '\u22A4',
  Downarrow: '\u21D3',
  Element: '\u2208',
  EqualTilde: '\u2242',
  Equilibrium: '\u21CC',
  Exists: '\u2203',
  ExponentialE: '\u2147',
  FilledVerySmallSquare: '\u25AA',
  ForAll: '\u2200',
  Gamma: '\u0393',
  Gg: '\u22D9',
  GreaterEqual: '\u2265',
  GreaterEqualLess: '\u22DB',
  GreaterFullEqual: '\u2267',
  GreaterLess: '\u2277',
  GreaterSlantEqual: '\u2A7E',
  GreaterTilde: '\u2273',
  Hacek: '\u02C7',
  Hat: '\u005E',
  HumpDownHump: '\u224E',
  HumpEqual: '\u224F',
  Im: '\u2111',
  ImaginaryI: '\u2148',
  Integral: '\u222B',
  Intersection: '\u22C2',
  InvisibleComma: '\u2063',
  InvisibleTimes: '\u2062',
  Lambda: '\u039B',
  Larr: '\u219E',
  LeftAngleBracket: '\u27E8',
  LeftArrow: '\u2190',
  LeftArrowRightArrow: '\u21C6',
  LeftCeiling: '\u2308',
  LeftDownVector: '\u21C3',
  LeftFloor: '\u230A',
  LeftRightArrow: '\u2194',
  LeftTee: '\u22A3',
  LeftTriangle: '\u22B2',
  LeftTriangleEqual: '\u22B4',
  LeftUpVector: '\u21BF',
  LeftVector: '\u21BC',
  Leftarrow: '\u21D0',
  Leftrightarrow: '\u21D4',
  LessEqualGreater: '\u22DA',
  LessFullEqual: '\u2266',
  LessGreater: '\u2276',
  LessSlantEqual: '\u2A7D',
  LessTilde: '\u2272',
  Ll: '\u22D8',
  Lleftarrow: '\u21DA',
  LongLeftArrow: '\u27F5',
  LongLeftRightArrow: '\u27F7',
  LongRightArrow: '\u27F6',
  Longleftarrow: '\u27F8',
  Longleftrightarrow: '\u27FA',
  Longrightarrow: '\u27F9',
  Lsh: '\u21B0',
  MinusPlus: '\u2213',
  NestedGreaterGreater: '\u226B',
  NestedLessLess: '\u226A',
  NotDoubleVerticalBar: '\u2226',
  NotElement: '\u2209',
  NotEqual: '\u2260',
  NotExists: '\u2204',
  NotGreater: '\u226F',
  NotGreaterEqual: '\u2271',
  NotLeftTriangle: '\u22EA',
  NotLeftTriangleEqual: '\u22EC',
  NotLess: '\u226E',
  NotLessEqual: '\u2270',
  NotPrecedes: '\u2280',
  NotPrecedesSlantEqual: '\u22E0',
  NotRightTriangle: '\u22EB',
  NotRightTriangleEqual: '\u22ED',
  NotSubsetEqual: '\u2288',
  NotSucceeds: '\u2281',
  NotSucceedsSlantEqual: '\u22E1',
  NotSupersetEqual: '\u2289',
  NotTilde: '\u2241',
  NotVerticalBar: '\u2224',
  Omega: '\u03A9',
  OverBar: '\u203E',
  OverBrace: '\u23DE',
  PartialD: '\u2202',
  Phi: '\u03A6',
  Pi: '\u03A0',
  PlusMinus: '\u00B1',
  Precedes: '\u227A',
  PrecedesEqual: '\u2AAF',
  PrecedesSlantEqual: '\u227C',
  PrecedesTilde: '\u227E',
  Product: '\u220F',
  Proportional: '\u221D',
  Psi: '\u03A8',
  Rarr: '\u21A0',
  Re: '\u211C',
  ReverseEquilibrium: '\u21CB',
  RightAngleBracket: '\u27E9',
  RightArrow: '\u2192',
  RightArrowLeftArrow: '\u21C4',
  RightCeiling: '\u2309',
  RightDownVector: '\u21C2',
  RightFloor: '\u230B',
  RightTee: '\u22A2',
  RightTeeArrow: '\u21A6',
  RightTriangle: '\u22B3',
  RightTriangleEqual: '\u22B5',
  RightUpVector: '\u21BE',
  RightVector: '\u21C0',
  Rightarrow: '\u21D2',
  Rrightarrow: '\u21DB',
  Rsh: '\u21B1',
  Sigma: '\u03A3',
  SmallCircle: '\u2218',
  Sqrt: '\u221A',
  Square: '\u25A1',
  SquareIntersection: '\u2293',
  SquareSubset: '\u228F',
  SquareSubsetEqual: '\u2291',
  SquareSuperset: '\u2290',
  SquareSupersetEqual: '\u2292',
  SquareUnion: '\u2294',
  Star: '\u22C6',
  Subset: '\u22D0',
  SubsetEqual: '\u2286',
  Succeeds: '\u227B',
  SucceedsEqual: '\u2AB0',
  SucceedsSlantEqual: '\u227D',
  SucceedsTilde: '\u227F',
  SuchThat: '\u220B',
  Sum: '\u2211',
  Superset: '\u2283',
  SupersetEqual: '\u2287',
  Supset: '\u22D1',
  Therefore: '\u2234',
  Theta: '\u0398',
  Tilde: '\u223C',
  TildeEqual: '\u2243',
  TildeFullEqual: '\u2245',
  TildeTilde: '\u2248',
  UnderBar: '\u005F',
  UnderBrace: '\u23DF',
  Union: '\u22C3',
  UnionPlus: '\u228E',
  UpArrow: '\u2191',
  UpDownArrow: '\u2195',
  UpTee: '\u22A5',
  Uparrow: '\u21D1',
  Updownarrow: '\u21D5',
  Upsilon: '\u03A5',
  Vdash: '\u22A9',
  Vee: '\u22C1',
  VerticalBar: '\u2223',
  VerticalTilde: '\u2240',
  Vvdash: '\u22AA',
  Wedge: '\u22C0',
  Xi: '\u039E',
  amp: '\u0026',
  acute: '\u00B4',
  aleph: '\u2135',
  alpha: '\u03B1',
  amalg: '\u2A3F',
  and: '\u2227',
  ang: '\u2220',
  angmsd: '\u2221',
  angsph: '\u2222',
  ape: '\u224A',
  backprime: '\u2035',
  backsim: '\u223D',
  backsimeq: '\u22CD',
  beta: '\u03B2',
  beth: '\u2136',
  between: '\u226C',
  bigcirc: '\u25EF',
  bigodot: '\u2A00',
  bigoplus: '\u2A01',
  bigotimes: '\u2A02',
  bigsqcup: '\u2A06',
  bigstar: '\u2605',
  bigtriangledown: '\u25BD',
  bigtriangleup: '\u25B3',
  biguplus: '\u2A04',
  blacklozenge: '\u29EB',
  blacktriangle: '\u25B4',
  blacktriangledown: '\u25BE',
  blacktriangleleft: '\u25C2',
  bowtie: '\u22C8',
  boxdl: '\u2510',
  boxdr: '\u250C',
  boxminus: '\u229F',
  boxplus: '\u229E',
  boxtimes: '\u22A0',
  boxul: '\u2518',
  boxur: '\u2514',
  bsol: '\u005C',
  bull: '\u2022',
  cap: '\u2229',
  check: '\u2713',
  chi: '\u03C7',
  circ: '\u02C6',
  circeq: '\u2257',
  circlearrowleft: '\u21BA',
  circlearrowright: '\u21BB',
  circledR: '\u00AE',
  circledS: '\u24C8',
  circledast: '\u229B',
  circledcirc: '\u229A',
  circleddash: '\u229D',
  clubs: '\u2663',
  colon: '\u003A',
  comp: '\u2201',
  ctdot: '\u22EF',
  cuepr: '\u22DE',
  cuesc: '\u22DF',
  cularr: '\u21B6',
  cup: '\u222A',
  curarr: '\u21B7',
  curlyvee: '\u22CE',
  curlywedge: '\u22CF',
  dagger: '\u2020',
  daleth: '\u2138',
  ddarr: '\u21CA',
  deg: '\u00B0',
  delta: '\u03B4',
  digamma: '\u03DD',
  div: '\u00F7',
  divideontimes: '\u22C7',
  dot: '\u02D9',
  doteqdot: '\u2251',
  dotplus: '\u2214',
  dotsquare: '\u22A1',
  dtdot: '\u22F1',
  ecir: '\u2256',
  efDot: '\u2252',
  egs: '\u2A96',
  ell: '\u2113',
  els: '\u2A95',
  empty: '\u2205',
  epsi: '\u03B5',
  epsiv: '\u03F5',
  erDot: '\u2253',
  eta: '\u03B7',
  eth: '\u00F0',
  flat: '\u266D',
  fork: '\u22D4',
  frown: '\u2322',
  gEl: '\u2A8C',
  gamma: '\u03B3',
  gap: '\u2A86',
  gimel: '\u2137',
  gnE: '\u2269',
  gnap: '\u2A8A',
  gne: '\u2A88',
  gnsim: '\u22E7',
  gt: '\u003E',
  gtdot: '\u22D7',
  harrw: '\u21AD',
  hbar: '\u210F',
  hellip: '\u2026',
  hookleftarrow: '\u21A9',
  hookrightarrow: '\u21AA',
  imath: '\u0131',
  infin: '\u221E',
  intcal: '\u22BA',
  iota: '\u03B9',
  jmath: '\u0237',
  kappa: '\u03BA',
  kappav: '\u03F0',
  lEg: '\u2A8B',
  lambda: '\u03BB',
  lap: '\u2A85',
  larrlp: '\u21AB',
  larrtl: '\u21A2',
  lbrace: '\u007B',
  lbrack: '\u005B',
  le: '\u2264',
  leftleftarrows: '\u21C7',
  leftthreetimes: '\u22CB',
  lessdot: '\u22D6',
  lmoust: '\u23B0',
  lnE: '\u2268',
  lnap: '\u2A89',
  lne: '\u2A87',
  lnsim: '\u22E6',
  longmapsto: '\u27FC',
  looparrowright: '\u21AC',
  lowast: '\u2217',
  loz: '\u25CA',
  lt: '\u003C',
  ltimes: '\u22C9',
  ltri: '\u25C3',
  macr: '\u00AF',
  malt: '\u2720',
  mho: '\u2127',
  mu: '\u03BC',
  multimap: '\u22B8',
  nLeftarrow: '\u21CD',
  nLeftrightarrow: '\u21CE',
  nRightarrow: '\u21CF',
  nVDash: '\u22AF',
  nVdash: '\u22AE',
  natur: '\u266E',
  nearr: '\u2197',
  nharr: '\u21AE',
  nlarr: '\u219A',
  not: '\u00AC',
  nrarr: '\u219B',
  nu: '\u03BD',
  nvDash: '\u22AD',
  nvdash: '\u22AC',
  nwarr: '\u2196',
  omega: '\u03C9',
  omicron: '\u03BF',
  or: '\u2228',
  osol: '\u2298',
  period: '\u002E',
  phi: '\u03C6',
  phiv: '\u03D5',
  pi: '\u03C0',
  piv: '\u03D6',
  prap: '\u2AB7',
  precnapprox: '\u2AB9',
  precneqq: '\u2AB5',
  precnsim: '\u22E8',
  prime: '\u2032',
  psi: '\u03C8',
  quot: '\u0022',
  rarrtl: '\u21A3',
  rbrace: '\u007D',
  rbrack: '\u005D',
  rho: '\u03C1',
  rhov: '\u03F1',
  rightrightarrows: '\u21C9',
  rightthreetimes: '\u22CC',
  ring: '\u02DA',
  rmoust: '\u23B1',
  rtimes: '\u22CA',
  rtri: '\u25B9',
  scap: '\u2AB8',
  scnE: '\u2AB6',
  scnap: '\u2ABA',
  scnsim: '\u22E9',
  sdot: '\u22C5',
  searr: '\u2198',
  sect: '\u00A7',
  sharp: '\u266F',
  sigma: '\u03C3',
  sigmav: '\u03C2',
  simne: '\u2246',
  smile: '\u2323',
  spades: '\u2660',
  sub: '\u2282',
  subE: '\u2AC5',
  subnE: '\u2ACB',
  subne: '\u228A',
  supE: '\u2AC6',
  supnE: '\u2ACC',
  supne: '\u228B',
  swarr: '\u2199',
  tau: '\u03C4',
  theta: '\u03B8',
  thetav: '\u03D1',
  tilde: '\u02DC',
  times: '\u00D7',
  triangle: '\u25B5',
  triangleq: '\u225C',
  upsi: '\u03C5',
  upuparrows: '\u21C8',
  veebar: '\u22BB',
  vellip: '\u22EE',
  weierp: '\u2118',
  xi: '\u03BE',
  yen: '\u00A5',
  zeta: '\u03B6',
  zigrarr: '\u21DD',

  //
  //  Needed by TeX input jax
  nbsp: '\u00A0',
  rsquo: '\u2019',
  lsquo: '\u2018'
};

/**
 * The files that have been loaded
 */
const loaded: {[name: string]: boolean} = {};

/**
 * Used by entity files to add more entities to the table
 *
 * @param {EntityList} additions The entities to add
 * @param {string} file          The name of the file that they came from
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2314">export function add(additions: EntityList, file: string) {
  Object.assign(entities, additions);
  loaded[file] = true;
}

</t>
<t tx="ekr.20211016054411.2315">/**
 * Used to remove an entity from the list, if needed
 *
 * @param {string} entity  The name of the entity to remove
 */
export function remove(entity: string) {
  delete entities[entity];
}

</t>
<t tx="ekr.20211016054411.2316">/**
 * @param {string} text  The text whose entities are to be replaced
 * @return {string}      The text with entries replaced
 */
export function translate(text: string): string {
  return text.replace(/&amp;([a-z][a-z0-9]*|#(?:[0-9]+|x[0-9a-f]+));/ig, replace);
}

</t>
<t tx="ekr.20211016054411.2317">/**
 * Returns the unicode character for an entity, if found
 * If not, loads an entity file to see if it is there (and retries after loading)
 * Otherwire, returns the original entity string
 *
 * @param {string} match   The complete entity being replaced
 * @param {string} entity  The name of the entity to be replaced
 * @return {string}        The unicode character for the entity, or the entity name (if none found)
 */
function replace(match: string, entity: string): string {
  if (entity.charAt(0) === '#') {
    return numeric(entity.slice(1));
  }
  if (entities[entity]) {
    return entities[entity];
  }
  if (options['loadMissingEntities']) {
    let file = (entity.match(/^[a-zA-Z](fr|scr|opf)$/) ? RegExp.$1 : entity.charAt(0).toLowerCase());
    if (!loaded[file]) {
      loaded[file] = true;
      retryAfter(asyncLoad('./util/entities/' + file + '.js'));
    }
  }
  return match;
}

</t>
<t tx="ekr.20211016054411.2318">/**
 * @param {string} entity  The character code point as a string
 * @return {string}        The character(s) with the given code point
 */
export function numeric(entity: string): string {
  let n = (entity.charAt(0) === 'x' ?
           parseInt(entity.slice(1), 16) :
           parseInt(entity));
  return String.fromCodePoint(n);
}
</t>
<t tx="ekr.20211016054411.2319">


/**
 * @fileoverview  Implement FunctionList object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PrioritizedList, PrioritizedListItem} from './PrioritizedList.js';

/*****************************************************************/
/**
 *  The FunctionListItem interface (extends PrioritizedListItem&lt;Function&gt;)
 */

export interface FunctionListItem extends PrioritizedListItem&lt;Function&gt; {}

/*****************************************************************/
/**
 *  Implements the FunctionList class (extends PrioritizedList&lt;Function&gt;)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.232"></t>
<t tx="ekr.20211016054411.2320">export class FunctionList extends PrioritizedList&lt;Function&gt; {

  /**
   * Executes the functions in the list (in prioritized order),
   *   passing the given data to the functions.  If any return
   *   false, the list is terminated.
   *
   * @param {any[]} data  The array of arguments to pass to the functions
   * @return {boolean}    False if any function stopped the list by
   *                       returning false, true otherwise
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2321">public execute(...data: any[]): boolean {
  for (const item of this) {
    let result = item.item(...data);
    if (result === false) {
      return false;
    }
  }
  return true;
}

</t>
<t tx="ekr.20211016054411.2322">/**
 * Executes the functions in the list (in prioritized order) asynchronously,
 *   passing the given data to the functions, and doing the next function
 *   only when the previous one completes.  If the function returns a
 *   Promise, then use that to control the flow.  Otherwise, if the
 *   function returns false, the list is terminated.
 * This function returns a Promise.  If any function in the list fails,
 *   the promise fails.  If any function returns false, the promise
 *   succeeds, but passes false as its argument.  Otherwise it succeeds
 *   and passes true.
 *
 * @param {any[]} data  The array of arguments to pass to the functions
 * @return {Promise}    The promise that is satisfied when the function
 *                       list completes (with argument true or false
 *                       depending on whether some function returned
 *                       false or not).
 */
public asyncExecute(...data: any[]): Promise&lt;void&gt; {
  let i = -1;
  let items = this.items;
  return new Promise((ok: Function, fail: Function) =&gt; {
    (function execute() {
      while (++i &lt; items.length) {
        let result = items[i].item(...data);
        if (result instanceof Promise) {
          result.then(execute).catch(err =&gt; fail(err));
          return;
        }
        if (result === false) {
          ok(false);
          return;
        }
      }
      ok(true);
    })();
  });
}

</t>
<t tx="ekr.20211016054411.2323">


/**
 * @fileoverview  Utility functions for handling dimensions (lengths)
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

/**
 *  A very large number
 */
export const BIGDIMEN = 1000000;

/**
 *  Sizes of various units in pixels
 */
export const UNITS: {[unit: string]: number} = {
  px: 1,
  'in': 96,            // 96 px to an inch
  cm: 96 / 2.54,       // 2.54 cm to an inch
  mm: 96 / 25.4        // 10 mm to a cm
};

/**
 *  Sizes of various relative units in em's
 */
export const RELUNITS: {[unit: string]: number} = {
  em: 1,
  ex: .431,        // this.TEX.x_height;
  pt: 1 / 10,      // 10 pt to an em
  pc: 12 / 10,     // 12 pc to a pt
  mu: 1 / 18       // 18mu to an em for the scriptlevel
};

/**
 *  The various named spaces
 */
export const MATHSPACE: {[name: string]: number} = {
  /* tslint:disable:whitespace */
  veryverythinmathspace:           1/18,
  verythinmathspace:               2/18,
  thinmathspace:                   3/18,
  mediummathspace:                 4/18,
  thickmathspace:                  5/18,
  verythickmathspace:              6/18,
  veryverythickmathspace:          7/18,
  negativeveryverythinmathspace:  -1/18,
  negativeverythinmathspace:      -2/18,
  negativethinmathspace:          -3/18,
  negativemediummathspace:        -4/18,
  negativethickmathspace:         -5/18,
  negativeverythickmathspace:     -6/18,
  negativeveryverythickmathspace: -7/18,
  /* tslint:enable */

  thin:   .04,
  medium: .06,
  thick:  .1,

  normal:  1,
  big:     2,
  small:   1 / Math.sqrt(2),

  infinity:  BIGDIMEN
};


/**
 * @param {string|number} length  A dimension (giving number and units) to be converted to ems
 * @param {number} size           The default size of the dimension (for percentage values)
 * @param {number} scale          The current scaling factor (to handle absolute units)
 * @param {number} em             The size of an em in pixels
 * @return {number}               The dimension converted to ems
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2324">export function length2em(length: string | number, size: number = 0, scale: number = 1, em: number = 16): number {
  if (typeof length !== 'string') {
    length = String(length);
  }
  if (length === '' || length == null) {
    return size;
  }
  if (MATHSPACE[length]) {
    return MATHSPACE[length];
  }
  let match = length.match(/^\s*([-+]?(?:\.\d+|\d+(?:\.\d*)?))?(pt|em|ex|mu|px|pc|in|mm|cm|%)?/);
  if (!match) {
    return size;
  }
  let m = parseFloat(match[1] || '1'), unit = match[2];
  if (UNITS.hasOwnProperty(unit)) {
    return m * UNITS[unit] / em / scale;
  }
  if (RELUNITS.hasOwnProperty(unit)) {
    return m * RELUNITS[unit];
  }
  if (unit === '%') {
    return m / 100 * size;  // percentage of the size
  }
  return m * size;            // relative to size
}

</t>
<t tx="ekr.20211016054411.2325">/**
 * @param {number} m  A number to be shown as a percent
 * @return {string}   The number m as a percent
 */
export function percent(m: number): string {
  return (100 * m).toFixed(1).replace(/\.?0+$/, '') + '%';
}

</t>
<t tx="ekr.20211016054411.2326">/**
 * @param {number} m  A number to be shown in ems
 * @return {string}   The number with units of ems
 */
export function em(m: number): string {
  if (Math.abs(m) &lt; .001) return '0';
  return (m.toFixed(3).replace(/\.?0+$/, '')) + 'em';
}

</t>
<t tx="ekr.20211016054411.2327">/**
 * @param {number} m   A number to be shown in ems, but rounded to pixel boundaries
 * @param {number} em  The number of pixels in an em
 * @return {string}    The number with units of em
 */
export function emRounded(m: number, em: number = 16): string {
  m = (Math.round(m * em) + .05) / em;
  if (Math.abs(m) &lt; .001) return '0em';
  return m.toFixed(3).replace(/\.?0+$/, '') + 'em';
}


</t>
<t tx="ekr.20211016054411.2328">/**
 * @param {number} m   A number of em's to be shown as pixels
 * @param {number} M   The minimum number of pixels to allow
 * @param {number} em  The number of pixels in an em
 * @return {string}    The number with units of px
 */
export function px(m: number, M: number = -BIGDIMEN, em: number = 16): string {
  m *= em;
  if (M &amp;&amp; m &lt; M) m = M;
  if (Math.abs(m) &lt; .1) return '0';
  return m.toFixed(1).replace(/\.0$/, '') + 'px';
}
</t>
<t tx="ekr.20211016054411.2329">


/**
 * @fileoverview  Implement a generic LinkedList object.
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

/*****************************************************************/
/**
 *  A symbol used to mark the special node used to indicate
 *  the start and end of the list.
 */
export const END = Symbol();

/**
 * Shorthand type for the functions used to sort the data items
 *
 * @template DataClass   The type of data stored in the list
 */
export type SortFn&lt;DataClass&gt; = (a: DataClass, b: DataClass) =&gt; boolean;

/*****************************************************************/
/**
 *  The ListItem interface (for a specific type of data item)
 *
 *  These are the items in the doubly-linked list.
 *
 * @template DataClass   The type of data stored in the list
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.233">
import './lib/lazy.js';

import {LazyHandler} from '../../../../js/ui/lazy/LazyHandler.js';

if (MathJax.startup) {
  MathJax.startup.extendHandler(handler =&gt; LazyHandler(handler));
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2330">export class ListItem&lt;DataClass&gt; {
  /**
   * The data for the list item
   */
  public data: DataClass | symbol;

  /**
   * Pointers to the next item in the list
   */
  public next: ListItem&lt;DataClass&gt; = null;
  /**
   * Pointers to the previous item in the list
   */
  public prev: ListItem&lt;DataClass&gt; = null;

  /**
   * @param {any} data  The data to be stored in the list item
   * @constructor
   */
  @others
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2331">constructor(data: any = null) {
  this.data = data;
}
</t>
<t tx="ekr.20211016054411.2332">/**
 *  Implements the generic LinkedList class
 *
 * @template DataClass   The type of data stored in the list
 */

export class LinkedList&lt;DataClass&gt; {
  /**
   * The linked list
   */
  protected list: ListItem&lt;DataClass&gt;;

  /**
   *  This.list is a special ListItem whose next property
   *    points to the head of the list and whose prev
   *    property points to the tail.  This lets us relink
   *    the head and tail items in the same way as any other
   *    item in the list, without having to handle special
   *    cases.
   *
   * @param {DataClass[]} args  The data items that form the initial list
   * @constructor
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2333">constructor(...args: DataClass[]) {
  this.list = new ListItem&lt;DataClass&gt;(END);
  this.list.next = this.list.prev = this.list;
  this.push(...args);
}

</t>
<t tx="ekr.20211016054411.2334">/**
 *  Used for sorting and merging lists (Overridden by subclasses)
 *
 * @param {DataClass} a   The first item to compare
 * @param {DataClass} b   The second item to compare
 * @return {boolean}      True if a is before b, false otherwise
 */
public isBefore(a: DataClass, b: DataClass): boolean {
  return a &lt; b;
}

</t>
<t tx="ekr.20211016054411.2335">/**
 * Push items on the end of the list
 *
 * @param {DataClass[]} args   The list of data items to be pushed
 * @return {LinkedList}        The LinkedList object (for chaining)
 */
public push(...args: DataClass[]): LinkedList&lt;DataClass&gt; {
  for (const data of args) {
    let item = new ListItem&lt;DataClass&gt;(data);
    item.next = this.list;
    item.prev = this.list.prev;
    this.list.prev = item;
    item.prev.next = item;
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.2336">/**
 * Pop the end item off the list and return its data
 *
 * @return {DataClass}  The data from the last item in the list
 */
public pop(): DataClass {
  let item = this.list.prev;
  if (item.data === END) {
    return null;
  }
  this.list.prev = item.prev;
  item.prev.next = this.list;
  item.next = item.prev = null;
  return item.data as DataClass;
}

</t>
<t tx="ekr.20211016054411.2337">/**
 * Push items at the head of the list
 *
 * @param {DataClass[]} args   The list of data items to inserted
 * @return {LinkedList}        The LinkedList object (for chaining)
 */
public unshift(...args: DataClass[]): LinkedList&lt;DataClass&gt; {
  for (const data of args.slice(0).reverse()) {
    let item = new ListItem&lt;DataClass&gt;(data);
    item.next = this.list.next;
    item.prev = this.list;
    this.list.next = item;
    item.next.prev = item;
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.2338">/**
 * Remove an item from the head of the list and return its data
 *
 * @return {DataClass}  The data from the first item in the list
 */
public shift(): DataClass {
  let item = this.list.next;
  if (item.data === END) {
    return null;
  }
  this.list.next = item.next;
  item.next.prev = this.list;
  item.next = item.prev = null;
  return item.data as DataClass;
}

</t>
<t tx="ekr.20211016054411.2339">/**
 * Remove items from the list
 *
 * @param {DataClass[]} items   The items to remove
 */
public remove(...items: DataClass[]) {
  const map = new Map&lt;DataClass, boolean&gt;();
  for (const item of items) {
    map.set(item, true);
  }
  let item = this.list.next;
  while (item.data !== END) {
    const next = item.next;
    if (map.has(item.data as DataClass)) {
      item.prev.next = item.next;
      item.next.prev = item.prev;
      item.next = item.prev = null;
    }
    item = next;
  }
}

</t>
<t tx="ekr.20211016054411.234">
const PACKAGE = require('../../../webpack.common.js');

module.exports = PACKAGE(
  'ui/lazy',                          // the package to build
  '../../../../js',                   // location of the MathJax js library
  [                                   // packages to link to
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2340">/**
 * Empty the list
 *
 * @return {LinkedList}  The LinkedList object (for chaining)
 */
public clear(): LinkedList&lt;DataClass&gt; {
  this.list.next.prev = this.list.prev.next = null;
  this.list.next = this.list.prev = this.list;
  return this;
}

/**
 * An iterator for the list in forward order
 *
 * @yield {DataClass} The next item in the iteration sequence
 */
public *[Symbol.iterator](): IterableIterator&lt;DataClass&gt; {
  let current = this.list.next;

  while (current.data !== END) {
    yield current.data as DataClass;
    current = current.next;
  }
}

/**
 * An iterator for the list in reverse order
 *
 * @yield {DataClass} The previous item in the iteration sequence
 */
public *reversed(): IterableIterator&lt;DataClass&gt; {
  let current = this.list.prev;

  while (current.data !== END) {
    yield current.data as DataClass;
    current = current.prev;
  }
}

</t>
<t tx="ekr.20211016054411.2341">/**
 * Insert a new item into a sorted list in the correct locations
 *
 * @param {DataClass} data   The data item to add
 * @param {SortFn} isBefore   The function used to order the data
 * @param {LinkedList}        The LinkedList object (for chaining)
 */
public insert(data: DataClass, isBefore: SortFn&lt;DataClass&gt; = null) {
  if (isBefore === null) {
    isBefore = this.isBefore.bind(this);
  }
  let item = new ListItem&lt;DataClass&gt;(data);
  let cur = this.list.next;
  while (cur.data !== END &amp;&amp; isBefore(cur.data as DataClass, item.data as DataClass)) {
    cur = cur.next;
  }
  item.prev = cur.prev;
  item.next = cur;
  cur.prev.next = cur.prev = item;
  return this;
}

</t>
<t tx="ekr.20211016054411.2342">/**
 * Sort the list using an optional sort function
 *
 * @param {SortFn} isBefore  The function used to order the data
 * @return {LinkedList}      The LinkedList object (for chaining)
 */
public sort(isBefore: SortFn&lt;DataClass&gt; = null): LinkedList&lt;DataClass&gt; {
  if (isBefore === null) {
    isBefore = this.isBefore.bind(this);
  }
  //
  //  Make an array of singleton lists
  //
  let lists: LinkedList&lt;DataClass&gt;[] = [];
  for (const item of this) {
    lists.push(new LinkedList&lt;DataClass&gt;(item as DataClass));
  }
  //
  //  Clear current list
  //
  this.list.next = this.list.prev = this.list;
  //
  //  Merge pairs of lists until there is only one left
  //
  while (lists.length &gt; 1) {
    let l1 = lists.shift();
    let l2 = lists.shift();
    l1.merge(l2, isBefore);
    lists.push(l1);
  }
  //
  //  Use the final list as our list
  //
  if (lists.length) {
    this.list = lists[0].list;
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.2343">/**
 * Merge a sorted list with another sorted list
 *
 * @param {LinkedList} list  The list to merge into this instance's list
 * @param {SortFn} isBefore  The function used to order the data
 * @return {LinkedList}      The LinkedList instance (for chaining)
 */
public merge(list: LinkedList&lt;DataClass&gt;, isBefore: SortFn&lt;DataClass&gt; = null): LinkedList&lt;DataClass&gt; {
  if (isBefore === null) {
    isBefore = this.isBefore.bind(this);
  }
  //
  //  Get the head of each list
  //
  let lcur = this.list.next;
  let mcur = list.list.next;
  //
  //  While there is more in both lists
  //
  while (lcur.data !== END &amp;&amp; mcur.data !== END) {
    //
    //  If the merge item is before the list item
    //    (we have found where the head of the merge list belongs)
    //    Link the merge list into the main list at this point
    //      and make the merge list be the remainder of the original list.
    //    The merge continues by looking for where the rest of the original
    //      list fits into the newly formed main list (the old merge list).
    //  Otherwise
    //    Go on to the next item in the main list
    //
    if (isBefore(mcur.data as DataClass, lcur.data as DataClass)) {
      [mcur.prev.next, lcur.prev.next] = [lcur, mcur];
      [mcur.prev, lcur.prev] = [lcur.prev, mcur.prev];
      [this.list.prev.next, list.list.prev.next] = [list.list, this.list];
      [this.list.prev, list.list.prev] = [list.list.prev, this.list.prev];
      [lcur, mcur] = [mcur.next, lcur];
    } else {
      lcur = lcur.next;
    }
  }
  //
  //  If there is more to be merged (i.e., we came to the end of the main list),
  //  then link that at the end of the main list.
  //
  if (mcur.data !== END) {
    this.list.prev.next = list.list.next;
    list.list.next.prev = this.list.prev;
    list.list.prev.next = this.list;
    this.list.prev = list.list.prev;
    list.list.next = list.list.prev = list.list;
  }
  return this;
}
</t>
<t tx="ekr.20211016054411.2344">


/**
 * @fileoverview  Implements some numeric utility functions
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

/**
 * @param {number[]} A  The array to sum
 * @return {number}     The summ of the elements in A
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2345">export function sum(A: number[]): number {
  return A.reduce((a, b) =&gt; a + b, 0);
}

</t>
<t tx="ekr.20211016054411.2346">/**
 * @param {number[]} A  The array whose maximum entry is sought
 * @return {number}     The largest entry in the array
 */
export function max(A: number[]): number {
  return A.reduce((a, b) =&gt; Math.max(a, b), 0);
}
</t>
<t tx="ekr.20211016054411.2347">


/**
 * @fileoverview  Implements functions for handling option lists
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */


/*****************************************************************/
/* tslint:disable-next-line:jsdoc-require */
const OBJECT = {}.constructor;

/**
 *  Check if an object is an object literal (as opposed to an instance of a class)
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2348">export function isObject(obj: any) {
  return typeof obj === 'object' &amp;&amp; obj !== null &amp;&amp;
    (obj.constructor === OBJECT || obj.constructor === Expandable);
}

/*****************************************************************/
/**
 * Generic list of options
 */
export type OptionList = {[name: string]: any};

/*****************************************************************/
/**
 *  Used to append an array to an array in default options
 *  E.g., an option of the form
 *
 *    {
 *      name: {[APPEND]: [1, 2, 3]}
 *    }
 *
 *  where 'name' is an array in the default options would end up with name having its
 *  original value with 1, 2, and 3 appended.
 */
export const APPEND = '[+]';

/**
 *  Used to remove elements from an array in default options
 *  E.g., an option of the form
 *
 *    {
 *      name: {[REMOVE]: [2]}
 *    }
 *
 *  where 'name' is an array in the default options would end up with name having its
 *  original value but with any entry of 2 removed  So if the original value was [1, 2, 3, 2],
 *  then the final value will be [1, 3] instead.
 */
export const REMOVE = '[-]';


/**
 *  Provides options for the option utlities.
 */
export const OPTIONS = {
  invalidOption: 'warn' as ('fatal' | 'warn'),
  /**
   * Function to report messages for invalid options
   *
   * @param {string} message   The message for the invalid parameter.
   * @param {string} key       The invalid key itself.
   */
  optionError: (message: string, _key: string) =&gt; {
    if (OPTIONS.invalidOption === 'fatal') {
      throw new Error(message);
    }
    console.warn('MathJax: ' + message);
  }
};


/**
 * A Class to use for options that should not produce warnings if an undefined key is used
 */
export class Expandable {}

</t>
<t tx="ekr.20211016054411.2349">/**
 * Produces an instance of Expandable with the given values (to be used in defining options
 * that can use keys that don't have default values).  E.g., default options of the form:
 *
 *  OPTIONS = {
 *     types: expandable({
 *       a: 1,
 *       b: 2
 *     })
 *  }
 *
 *  would allow user options of
 *
 *  {
 *     types: {
 *       c: 3
 *     }
 *  }
 *
 *  without reporting an error.
 */
export function expandable(def: OptionList) {
  return Object.assign(Object.create(Expandable.prototype), def);
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.235"></t>
<t tx="ekr.20211016054411.2350">/**
 *  Make sure an option is an Array
 */
export function makeArray(x: any): any[] {
  return Array.isArray(x) ? x : [x];
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2351">/**
 * Get all keys and symbols from an object
 *
 * @param {Optionlist} def        The object whose keys are to be returned
 * @return {(string | symbol)[]}  The list of keys for the object
 */
export function keys(def: OptionList): (string | symbol)[] {
  if (!def) {
    return [];
  }
  return (Object.keys(def) as (string | symbol)[]).concat(Object.getOwnPropertySymbols(def));
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2352">/**
 * Make a deep copy of an object
 *
 * @param {OptionList} def  The object to be copied
 * @return {OptionList}     The copy of the object
 */
export function copy(def: OptionList): OptionList {
  let props: OptionList = {};
  for (const key of keys(def)) {
    let prop = Object.getOwnPropertyDescriptor(def, key);
    let value = prop.value;
    if (Array.isArray(value)) {
      prop.value = insert([], value, false);
    } else if (isObject(value)) {
      prop.value = copy(value);
    }
    if (prop.enumerable) {
      props[key as string] = prop;
    }
  }
  return Object.defineProperties(def.constructor === Expandable ? expandable({}) : {}, props);
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2353">/**
 * Insert one object into another (with optional warnings about
 * keys that aren't in the original)
 *
 * @param {OptionList} dst  The option list to merge into
 * @param {OptionList} src  The options to be merged
 * @param {boolean} warn    True if a warning should be issued for a src option that isn't already in dst
 * @return {OptionList}     The modified destination option list (dst)
 */
export function insert(dst: OptionList, src: OptionList, warn: boolean = true): OptionList {
  for (let key of keys(src) as string[]) {
    //
    // Check if the key is valid (i.e., is in the defaults or in an expandable block)
    //
    if (warn &amp;&amp; dst[key] === undefined &amp;&amp; dst.constructor !== Expandable) {
      if (typeof key === 'symbol') {
        key = (key as symbol).toString();
      }
      OPTIONS.optionError(`Invalid option "${key}" (no default value).`, key);
      continue;
    }
    //
    // Shorthands for the source and destination values
    //
    let sval = src[key], dval = dst[key];
    //
    // If the source is an object literal and the destination exists and is either an
    //   object or a function (so can have properties added to it)...
    //
    if (isObject(sval) &amp;&amp; dval !== null &amp;&amp;
        (typeof dval === 'object' || typeof dval === 'function')) {
      const ids = keys(sval);
      //
      // Check for APPEND or REMOVE objects:
      //
      if (
        //
        // If the destination value is an array...
        //
        Array.isArray(dval) &amp;&amp;
          (
            //
            // If there is only one key and it is APPEND or REMOVE and the keys value is an array...
            //
            (ids.length === 1 &amp;&amp; (ids[0] === APPEND || ids[0] === REMOVE) &amp;&amp; Array.isArray(sval[ids[0]])) ||
              //
              // Or if there are two keys and they are APPEND and REMOVE and both keys' values
              //   are arrays...
              //
              (ids.length === 2 &amp;&amp; ids.sort().join(',') === APPEND + ',' + REMOVE &amp;&amp;
               Array.isArray(sval[APPEND]) &amp;&amp; Array.isArray(sval[REMOVE]))
          )
      ) {
        //
        // Then remove any values to be removed
        //
        if (sval[REMOVE]) {
          dval = dst[key] = dval.filter(x =&gt; sval[REMOVE].indexOf(x) &lt; 0);
        }
        //
        // And append any values to be added (make a copy so as not to modify the original)
        //
        if (sval[APPEND]) {
          dst[key] = [...dval, ...sval[APPEND]];
        }
      } else {
        //
        // Otherwise insert the values of the source object into the destination object
        //
        insert(dval, sval, warn);
      }
    } else if (Array.isArray(sval)) {
      //
      // If the source is an array, replace the destination with an empty array
      //   and copy the source values into it.
      //
      dst[key] = [];
      insert(dst[key], sval, false);
    } else if (isObject(sval)) {
      //
      // If the source is an object literal, set the destination to a copy of it
      //
      dst[key] = copy(sval);
    } else {
      //
      // Otherwise set the destination to the source value
      //
      dst[key] = sval;
    }
  }
  return dst;
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2354">/**
 * Merge options without warnings (so we can add new default values into an
 * existing default list)
 *
 * @param {OptionList} options  The option list to be merged into
 * @param {OptionList[]} defs   The option lists to merge into the first one
 * @return {OptionList}         The modified options list
 */
export function defaultOptions(options: OptionList, ...defs: OptionList[]): OptionList {
  defs.forEach(def =&gt; insert(options, def, false));
  return options;
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2355">/**
 * Merge options with warnings about undefined ones (so we can merge
 * user options into the default list)
 *
 * @param {OptionList} options  The option list to be merged into
 * @param {OptionList[]} defs   The option lists to merge into the first one
 * @return {OptionList}         The modified options list
 */
export function userOptions(options: OptionList, ...defs: OptionList[]): OptionList {
  defs.forEach(def =&gt; insert(options, def, true));
  return options;
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2356">/**
 * Select a subset of options by key name
 *
 * @param {OptionList} options  The option list from which option values will be taken
 * @param {string[]} keys       The names of the options to extract
 * @return {OptionList}         The option list consisting of only the ones whose keys were given
 */
export function selectOptions(options: OptionList, ...keys: string[]): OptionList {
  let subset: OptionList = {};
  for (const key of keys) {
    if (options.hasOwnProperty(key)) {
      subset[key] = options[key];
    }
  }
  return subset;
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2357">/**
 * Select a subset of options by keys from an object
 *
 * @param {OptionList} options  The option list from which the option values will be taken
 * @param {OptionList} object   The option list whose keys will be used to select the options
 * @return {OptionList}         The option list consisting of the option values from the first
 *                               list whose keys are those from the second list.
 */
export function selectOptionsFromKeys(options: OptionList, object: OptionList): OptionList {
  return selectOptions(options, ...Object.keys(object));
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2358">/**
 *  Separate options into sets: the ones having the same keys
 *  as the second object, the third object, etc, and the ones that don't.
 *  (Used to separate an option list into the options needed for several
 *   subobjects.)
 *
 * @param {OptionList} options    The option list to be split into parts
 * @param {OptionList[]} objects  The list of option lists whose keys are used to break up
 *                                 the original options into separate pieces.
 * @return {OptionList[]}         The option lists taken from the original based on the
 *                                 keys of the other objects.  The first one in the list
 *                                 consists of the values not appearing in any of the others
 *                                 (i.e., whose keys were not in any of the others).
 */
export function separateOptions(options: OptionList, ...objects: OptionList[]): OptionList[] {
  let results: OptionList[] = [];
  for (const object of objects) {
    let exists: OptionList = {}, missing: OptionList = {};
    for (const key of Object.keys(options || {})) {
      (object[key] === undefined ? missing : exists)[key] = options[key];
    }
    results.push(exists);
    options = missing;
  }
  results.unshift(options);
  return results;
}


/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2359">/**
 *  Look up a value from object literal, being sure it is an
 *  actual property (not inherited), with a default if not found.
 *
 * @param {string} name         The name of the key to look up.
 * @param {OptionList} lookup   The list of options to check.
 * @param {any} def             The default value if the key isn't found.
 */
export function lookup(name: string, lookup: OptionList, def: any = null) {
  return (lookup.hasOwnProperty(name) ? lookup[name] : def);
}

</t>
<t tx="ekr.20211016054411.236">
import './lib/menu.js';

import {MenuHandler} from '../../../../js/ui/menu/MenuHandler.js';

if (MathJax.startup &amp;&amp; typeof window !== 'undefined') {
  MathJax.startup.extendHandler(handler =&gt; MenuHandler(handler), 20);
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2360">


/**
 * @fileoverview  Implements a list sorted by a numeric priority
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

/*****************************************************************/
/**
 *  The PrioritizedListItem&lt;DataClass&gt; interface
 *
 * @template DataClass   The class of data stored in the item
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2361">export interface PrioritizedListItem&lt;DataClass&gt; {

  /**
   * The priority of this item
   */
  priority: number;

  /**
   * The data for the list item
   */
  item: DataClass;
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2362">/**
 *  Implements the PrioritizedList&lt;DataClass&gt; class
 *
 * @template DataClass   The class of data stored in the list
 */

export class PrioritizedList&lt;DataClass&gt; {

  /**
   * The default priority for items added to the list
   */
  public static DEFAULTPRIORITY: number = 5;

  /**
   * The list of items, sorted by priority (smallest number first)
   */
  protected items: PrioritizedListItem&lt;DataClass&gt;[] = [];

  /**
   * @constructor
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2363">constructor() {
  this.items = [];
}

/**
 * Make the list iterable, and return the data for the items in the list
 *
 * @return {{next: Function}}  The object containing the iterator's next() function
 */
public [Symbol.iterator](): Iterator&lt;PrioritizedListItem&lt;DataClass&gt;&gt; {
  let i = 0;
  let items = this.items;
  return {
    /* tslint:disable-next-line:jsdoc-require */
    next(): IteratorResult&lt;PrioritizedListItem&lt;DataClass&gt;&gt; {
      return {value: items[i++], done: (i &gt; items.length)};
    }
  };
}

</t>
<t tx="ekr.20211016054411.2364">/**
 * Add an item to the list
 *
 * @param {DataClass} item   The data for the item to be added
 * @param {number} priority  The priority for the item
 * @return {DataClass}       The data itself
 */
public add(item: DataClass, priority: number = PrioritizedList.DEFAULTPRIORITY): DataClass {
  let i = this.items.length;
  do {
    i--;
  } while (i &gt;= 0 &amp;&amp; priority &lt; this.items[i].priority);
  this.items.splice(i + 1, 0, {item: item, priority: priority});
  return item;
}

</t>
<t tx="ekr.20211016054411.2365">/**
 * Remove an item from the list
 *
 * @param {DataClass} item   The data for the item to be removed
 */
public remove(item: DataClass) {
  let i = this.items.length;
  do {
    i--;
  } while (i &gt;= 0 &amp;&amp; this.items[i].item !== item);
  if (i &gt;= 0) {
    this.items.splice(i, 1);
  }
}
</t>
<t tx="ekr.20211016054411.2366">


/**
 * @fileoverview  Implements methods for handling asynchronous actions
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */


/*****************************************************************/
/*
 *  The legacy MathJax object  (FIXME: remove this after all v2 code is gone)
 */

declare var MathJax: {Callback: {After: Function}};


/*****************************************************************/
/**
 *  Allow us to pass a promise as part of an Error object
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2367">export interface RetryError extends Error {
  retry: Promise&lt;any&gt;;
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2368">/**
 * A wrapper for actions that may be asynchronous.  This will
 *   rerun the action after the asychronous action completes.
 *   Usually, this is for dynamic loading of files.  Legacy
 *   MathJax does that a lot, so we still need it for now, but
 *   may be able to go without it in the future.
 *
 *   Example:
 *
 *     HandleRetriesFor(() =&gt; {
 *
 *         html.findMath()
 *             .compile()
 *             .getMetrics()
 *             .typeset()
 *             .updateDocument();
 *
 *     }).catch(err =&gt; {
 *       console.log(err.message);
 *     });
 *
 * @param {Function} code  The code to run that might cause retries
 * @return {Promise}       A promise that is satisfied when the code
 *                         runs completely, and fails if the code
 *                         generates an error (that is not a retry).
 */

export function handleRetriesFor(code: Function): Promise&lt;any&gt; {
  return new Promise(function run(ok: Function, fail: Function) {
    try {
      ok(code());
    } catch (err) {
      if (err.retry &amp;&amp; err.retry instanceof Promise) {
        err.retry.then(() =&gt; run(ok, fail))
                 .catch((perr: Error) =&gt; fail(perr));
      } else if (err.restart &amp;&amp; err.restart.isCallback) {
        // FIXME: Remove this branch when all legacy code is gone
        MathJax.Callback.After(() =&gt; run(ok, fail), err.restart);
      } else {
        fail(err);
      }
    }
  });
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.2369">/**
 * Tells HandleRetriesFor() to wait for this promise to be fulfilled
 *   before rerunning the code.  Causes an error to be thrown, so
 *   calling this terminates the code at that point.
 *
 * @param {Promise} promise  The promise that must be satisfied before
 *                            actions will continue
 */

export function retryAfter(promise: Promise&lt;any&gt;) {
  let err = new Error('MathJax retry') as RetryError;
  err.retry = promise;
  throw err;
}
</t>
<t tx="ekr.20211016054411.237">
const PACKAGE = require('../../../webpack.common.js');

module.exports = PACKAGE(
    'ui/menu',                          // the package to build
    '../../../../js',                   // location of the MathJax js library
    ['components/src/core/lib', 'node_modules/mj-context-menu/js'],        // packages to link to
    __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2370">


/**
 * @fileoverview  Implements some string utility functions
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */


/**
 * Sort strings by length
 *
 * @param {string} a  First string to be compared
 * @param {string} b  Second string to be compared
 * @return {number}  -1 id a &lt; b, 0 of a === b, 1 if a &gt; b
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2371">export function sortLength(a: string, b: string): number {
  return a.length !== b.length ? b.length - a.length : a === b ? 0 : a &lt; b ? -1 : 1;
}

</t>
<t tx="ekr.20211016054411.2372">/**
 * Quote a string for use in regular expressions
 *
 * @param {string} text  The text whose regex characters are to be quoted
 * @return {string}  The quoted string
 */
export function quotePattern(text: string): string {
  return text.replace(/([\^$(){}+*?\-|\[\]\:\\])/g, '\\$1');
}

</t>
<t tx="ekr.20211016054411.2373">/**
 * Convert a UTF-8 string to an array of unicode code points
 *
 * @param {string} text  The string to be turned into unicode positions
 * @return {number[]}  Array of numbers representing the string's unicode character positions
 */
export function unicodeChars(text: string): number[] {
  return Array.from(text).map((c) =&gt; c.codePointAt(0));
}

</t>
<t tx="ekr.20211016054411.2374">/**
 * Convert an array of unicode code points to a string
 *
 * @param {number[]} data   The array of unicode code points
 * @return {string}         The string consisting of the characters at those points
 */
export function unicodeString(data: number[]): string {
  return String.fromCodePoint(...data);
}

</t>
<t tx="ekr.20211016054411.2375">/**
 * Test if a value is a percentage
 *
 * @param {string} x   The string to test
 * @return {boolean}   True if the string ends with a percent sign
 */
export function isPercent(x: string): boolean {
  return !!x.match(/%\s*$/);
}

</t>
<t tx="ekr.20211016054411.2376">/**
 * Split a space-separated string of values
 *
 * @param {string} x   The string to be split
 * @return {string[]}  The list of white-space-separated "words" in the string
 */
export function split(x: string): string[] {
  return x.trim().split(/\s+/);
}
</t>
<t tx="ekr.20211016054411.2377">


/**
 * @fileoverview  Implements the CssStyles class for handling stylesheets
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

/**
 * The data for a selector
 */
export type StyleData = {
  [property: string]: string | number;
};

/**
 * A list of selectors and their data (basically a stylesheet)
 */
export type StyleList = {
  [selector: string]: StyleData;
};

/******************************************************************************/
/**
 * The CssStyles class (for managing a collection of CSS style definitions)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2378">export class CssStyles {
  /**
   * The styles as they currently stand
   */
  protected styles: StyleList = {};

  /**
   * @return {string}  The styles as a CSS string
   */
  get cssText(): string {
    return this.getStyleString();
  }

  /**
   * @param {StyleList} styles  The initial styles to use, if any
   * @constructor
   */
  @others
}
</t>
<t tx="ekr.20211016054411.2379">constructor(styles: StyleList = null) {
  this.addStyles(styles);
}

</t>
<t tx="ekr.20211016054411.238"></t>
<t tx="ekr.20211016054411.2380">/**
 * @param {StyleList} styles  The styles to combine with the existing ones
 */
public addStyles(styles: StyleList) {
  if (!styles) return;
  for (const style of Object.keys(styles)) {
    if (!this.styles[style]) {
      this.styles[style] = {};
    }
    Object.assign(this.styles[style], styles[style]);
  }
}

</t>
<t tx="ekr.20211016054411.2381">/**
 * @param {string[]} selectors  The selectors for the styles to remove
 */
public removeStyles(...selectors: string[]) {
  for (const selector of selectors) {
    delete this.styles[selector];
  }
}

</t>
<t tx="ekr.20211016054411.2382">/**
 * Clear all the styles
 */
public clear() {
  this.styles = {};
}

</t>
<t tx="ekr.20211016054411.2383">/**
 * @return {string} The CSS string for the style list
 */
public getStyleString(): string {
  return this.getStyleRules().join('\n\n');
}

</t>
<t tx="ekr.20211016054411.2384">/**
 * @return {string[]}  An array of rule strings for the style list
 */
public getStyleRules(): string[] {
  const selectors = Object.keys(this.styles);
  const defs: string[] = new Array(selectors.length);
  let i = 0;
  for (const selector of selectors) {
    defs[i++] = selector + ' {\n' + this.getStyleDefString(this.styles[selector]) + '\n}';
  }
  return defs;
}

</t>
<t tx="ekr.20211016054411.2385">/**
 * @param {StyleData} styles  The style data to be stringified
 * @return {string}           The CSS string for the given data
 */
public getStyleDefString(styles: StyleData): string {
  const properties = Object.keys(styles);
  const values: string[] = new Array(properties.length);
  let i = 0;
  for (const property of properties) {
    values[i++] = '  ' + property + ': ' + styles[property] + ';';
  }
  return values.join('\n');
}

</t>
<t tx="ekr.20211016054411.2386">


/**
 * @fileoverview  Implements a lite CssStyleDeclaration replacement
 *                (very limited in scope)
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

/**
 * An object contining name: value pairs
 */
export type StyleList = {[name: string]: string};

/**
 * Data for how to map a combined style (like border) to its children
 */
export type connection = {
  children: string[],               // suffix names to add to the base name
  split: (name: string) =&gt; void,    // function to split the value for the children
  combine: (name: string) =&gt; void   // function to combine the child values when one changes
};

/**
 * A collection of connections
 */
export type connections = {[name: string]: connection};

/*********************************************************/
/**
 * Some common children arrays
 */
const TRBL = ['top', 'right', 'bottom', 'left'];
const WSC = ['width', 'style', 'color'];

/**
 * Split a style at spaces (taking quotation marks and commas into account)
 *
 * @param {string} text  The combined styles to be split at spaces
 * @return {string[]}    Array of parts of the style (separated by spaces)
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2387">function splitSpaces(text: string): string[] {
  const parts = text.split(/((?:'[^']*'|"[^"]*"|,[\s\n]|[^\s\n])*)/g);
  const split = [] as string[];
  while (parts.length &gt; 1) {
    parts.shift();
    split.push(parts.shift());
  }
  return split;
}

/*********************************************************/
/**
 * Split a top-right-bottom-left group into its parts
 * Format:
 *    x           all are the same value
 *    x y         same as x y x y
 *    x y z       same as x y z y
 *    x y z w     each specified
 *
 * @param {string} name   The style to be processed
 */

@others
</t>
<t tx="ekr.20211016054411.2388">function splitTRBL(name: string) {
  const parts = splitSpaces(this.styles[name]);
  if (parts.length === 0) {
    parts.push('');
  }
  if (parts.length === 1) {
    parts.push(parts[0]);
  }
  if (parts.length === 2) {
    parts.push(parts[0]);
  }
  if (parts.length === 3) {
    parts.push(parts[1]);
  }
  for (const child of Styles.connect[name].children) {
    this.setStyle(this.childName(name, child), parts.shift());
  }
}

</t>
<t tx="ekr.20211016054411.2389">/**
 * Combine top-right-bottom-left into one entry
 * (removing unneeded values)
 *
 * @param {string} name   The style to be processed
 */
function combineTRBL(name: string) {
  const children = Styles.connect[name].children;
  const parts = [] as string[];
  for (const child of children) {
    const part = this.styles[name + '-' + child];
    if (!part) {
      delete this.styles[name];
      return;
    }
    parts.push(part);
  }
  if (parts[3] === parts[1]) {
    parts.pop();
    if (parts[2] === parts[0]) {
      parts.pop();
      if (parts[1] === parts[0]) {
        parts.pop();
      }
    }
  }
  this.styles[name] = parts.join(' ');
}

/*********************************************************/
</t>
<t tx="ekr.20211016054411.239">
import './lib/safe.js';

import {SafeHandler} from '../../../../js/ui/safe/SafeHandler.js';

if (MathJax.startup &amp;&amp; typeof window !== 'undefined') {
  MathJax.startup.extendHandler(handler =&gt; SafeHandler(handler));
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2390">/**
 * Use the same value for all children
 *
 * @param {string} name   The style to be processed
 */
function splitSame(name: string) {
  for (const child of Styles.connect[name].children) {
    this.setStyle(this.childName(name, child), this.styles[name]);
  }
}

</t>
<t tx="ekr.20211016054411.2391">/**
 * Check that all children have the same values and
 * if so, set the parent to that value
 *
 * @param {string} name   The style to be processed
 */
function combineSame(name: string) {
  const children = [...Styles.connect[name].children];
  const value = this.styles[this.childName(name, children.shift())];
  for (const child of children) {
    if (this.styles[this.childName(name, child)] !== value) {
      delete this.styles[name];
      return;
    }
  }
  this.styles[name] = value;
}

/*********************************************************/
/**
 * Patterns for the parts of a boarder
 */
const BORDER: {[name: string]: RegExp} = {
  width: /^(?:[\d.]+(?:[a-z]+)|thin|medium|thick|inherit|initial|unset)$/,
  style: /^(?:none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|inherit|initial|unset)$/
};

</t>
<t tx="ekr.20211016054411.2392">/**
 * Split a width-style-color border definition
 *
 * @param {string} name   The style to be processed
 */
function splitWSC(name: string) {
  let parts = {width: '', style: '', color: ''} as StyleList;
  for (const part of splitSpaces(this.styles[name])) {
    if (part.match(BORDER.width) &amp;&amp; parts.width === '') {
      parts.width = part;
    } else if (part.match(BORDER.style) &amp;&amp; parts.style === '') {
      parts.style = part;
    } else {
      parts.color = part;
    }
  }
  for (const child of Styles.connect[name].children) {
    this.setStyle(this.childName(name, child), parts[child]);
  }
}

</t>
<t tx="ekr.20211016054411.2393">/**
 * Combine with-style-color border definition from children
 *
 * @param {string} name   The style to be processed
 */
function combineWSC(name: string) {
  const parts = [] as string[];
  for (const child of Styles.connect[name].children) {
    const value = this.styles[this.childName(name, child)];
    if (value) {
      parts.push(value);
    }
  }
  if (parts.length) {
    this.styles[name] = parts.join(' ');
  } else {
    delete this.styles[name];
  }
}

/*********************************************************/
/**
 * Patterns for the parts of a font declaration
 */
const FONT: {[name: string]: RegExp} = {
  style: /^(?:normal|italic|oblique|inherit|initial|unset)$/,
  variant: new RegExp('^(?:' +
                      ['normal|none',
                       'inherit|initial|unset',
                       'common-ligatures|no-common-ligatures',
                       'discretionary-ligatures|no-discretionary-ligatures',
                       'historical-ligatures|no-historical-ligatures',
                       'contextual|no-contextual',
                       '(?:stylistic|character-variant|swash|ornaments|annotation)\\([^)]*\\)',
                       'small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps',
                       'lining-nums|oldstyle-nums|proportional-nums|tabular-nums',
                       'diagonal-fractions|stacked-fractions',
                       'ordinal|slashed-zero',
                       'jis78|jis83|jis90|jis04|simplified|traditional',
                       'full-width|proportional-width',
                       'ruby'].join('|') + ')$'),
  weight: /^(?:normal|bold|bolder|lighter|[1-9]00|inherit|initial|unset)$/,
  stretch: new RegExp('^(?:' +
                      ['normal',
                       '(?:(?:ultra|extra|semi)-)?condensed',
                       '(?:(?:semi|extra|ulta)-)?expanded',
                       'inherit|initial|unset']. join('|') + ')$'),
  size: new RegExp('^(?:' +
                   ['xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller',
                    '[\d.]+%|[\d.]+[a-z]+',
                    'inherit|initial|unset'].join('|') + ')' +
                   '(?:\/(?:normal|[\d.\+](?:%|[a-z]+)?))?$')
};

</t>
<t tx="ekr.20211016054411.2394">/**
 * Split a font declaration into is parts (not perfect but good enough for now)
 *
 * @param {string} name   The style to be processed
 */
function splitFont(name: string) {
  const parts = splitSpaces(this.styles[name]);
  //
  //  The parts found (array means can be more than one word)
  //
  const value = {
    style: '', variant: [], weight: '', stretch: '',
    size: '', family: '', 'line-height': ''
  } as {[name: string]: string | string[]};
  for (const part of parts) {
    value.family = part; // assume it is family unless otherwise (family must be present)
    for (const name of Object.keys(FONT)) {
      if ((Array.isArray(value[name]) || value[name] === '') &amp;&amp; part.match(FONT[name])) {
        if (name === 'size') {
          //
          // Handle size/line-height
          //
          const [size, height] = part.split(/\//);
          value[name] = size;
          if (height) {
            value['line-height'] = height;
          }
        } else if (value.size === '') {
          //
          // style, weight, variant, stretch must appear before size
          //
          if (Array.isArray(value[name])) {
            (value[name] as string[]).push(part);
          } else {
            value[name] = part;
          }
        }
      }
    }
  }
  saveFontParts(name, value);
  delete this.styles[name]; // only use the parts, not the font declaration itself
}

</t>
<t tx="ekr.20211016054411.2395">/**
 * @param {string} name   The style to be processed
 * @param {{[name: string]: string | string[]}} value  The list of parts detected above
 */
function saveFontParts(name: string, value: {[name: string]: string | string[]}) {
  for (const child of Styles.connect[name].children) {
    const cname = this.childName(name, child);
    if (Array.isArray(value[child])) {
      const values = value[child] as string[];
      if (values.length) {
        this.styles[cname] = values.join(' ');
      }
    } else  if (value[child] !== '') {
      this.styles[cname] = value[child];
    }
  }
}

/**
 * Combine font parts into one (we don't actually do that)
 */
function combineFont(_name: string) {}

/*********************************************************/
</t>
<t tx="ekr.20211016054411.2396">/**
 * Implements the Styles object (lite version of CssStyleDeclaration)
 */
export class Styles {

  /**
   * Patterns for style values and comments
   */
  public static pattern: {[name: string]: RegExp} = {
    style: /([-a-z]+)[\s\n]*:[\s\n]*((?:'[^']*'|"[^"]*"|\n|.)*?)[\s\n]*(?:;|$)/g,
    comment: /\/\*[^]*?\*\//g
  };

  /**
   * The mapping of parents to children, and how to split and combine them
   */
  public static connect: connections = {
    padding: {
      children: TRBL,
      split: splitTRBL,
      combine: combineTRBL
    },

    border: {
      children: TRBL,
      split: splitSame,
      combine: combineSame
    },
    'border-top': {
      children: WSC,
      split: splitWSC,
      combine: combineWSC
    },
    'border-right': {
      children: WSC,
      split: splitWSC,
      combine: combineWSC
    },
    'border-bottom': {
      children: WSC,
      split: splitWSC,
      combine: combineWSC
    },
    'border-left': {
      children: WSC,
      split: splitWSC,
      combine: combineWSC
    },
    'border-width': {
      children: TRBL,
      split: splitTRBL,
      combine: null      // means its children combine to a different parent
    },
    'border-style': {
      children: TRBL,
      split: splitTRBL,
      combine: null      // means its children combine to a different parent
    },
    'border-color': {
      children: TRBL,
      split: splitTRBL,
      combine: null      // means its children combine to a different parent
    },

    font: {
      children: ['style', 'variant', 'weight', 'stretch', 'line-height', 'size', 'family'],
      split: splitFont,
      combine: combineFont
    }
  };

  /**
   * The list of styles defined for this declaration
   */
  protected styles: StyleList;

  /**
   * @param {string} cssText  The initial definition for the style
   * @constructor
   */
  @others
</t>
<t tx="ekr.20211016054411.2397">constructor(cssText: string = '') {
  this.parse(cssText);
}

/**
 * @return {string}  The CSS string for the styles currently defined
 */
public get cssText(): string {
  const styles = [] as string[];
  for (const name of Object.keys(this.styles)) {
    const parent = this.parentName(name);
    if (!this.styles[parent]) {
      styles.push(name + ': ' + this.styles[name]);
    }
  }
  return styles.join('; ');
}

</t>
<t tx="ekr.20211016054411.2398">/**
 * @param {string} name   The name of the style to set
 * @param {string|number|boolean} value The value to set it to
 */
public set(name: string, value: string | number | boolean) {
  name = this.normalizeName(name);
  this.setStyle(name, value as string);
  //
  // If there is no combine function ,the children combine to
  // a separate parent (e.g., border-width sets border-top-width, etc.
  // and combines to border-top)
  //
  if (Styles.connect[name] &amp;&amp; !Styles.connect[name].combine) {
    this.combineChildren(name);
    delete this.styles[name];
  }
  //
  // If we just changed a child, we need to try to combine
  // it with its parent's other children
  //
  while (name.match(/-/)) {
    name = this.parentName(name);
    if (!Styles.connect[name]) break;
    Styles.connect[name].combine.call(this, name);
  }
}

</t>
<t tx="ekr.20211016054411.2399">/**
 * @param {string} name  The name of the style to get
 * @return {string}      The value of the style (or empty string if not defined)
 */
  public get(name: string): string {
    name = this.normalizeName(name);
    return (this.styles.hasOwnProperty(name) ? this.styles[name] : '');
  }

  /**
   * @param {string} name   The name of the style to set (without causing parent updates)
   * @param {string} value  The value to set it to
   */
  protected setStyle(name: string, value: string) {
    this.styles[name] = value;
    if (Styles.connect[name] &amp;&amp; Styles.connect[name].children) {
      Styles.connect[name].split.call(this, name);
    }
    if (value === '') {
      delete this.styles[name];
    }
  }

  /**
   * @param {string} name   The name of the style whose parent is to be combined
   */
  protected combineChildren(name: string) {
    const parent = this.parentName(name);
    for (const child of Styles.connect[name].children) {
      const cname = this.childName(parent, child);
      Styles.connect[cname].combine.call(this, cname);
    }
  }

  /**
   * @param {string} name   The name of the style whose parent style is to be found
   * @return {string}       The name of the parent, or '' if none
   */
  protected parentName(name: string): string {
    const parent = name.replace(/-[^-]*$/, '');
    return (name === parent ? '' : parent);
  }

  /**
   * @param {string} name   The name of the parent style
   * @param {string} child  The suffix to be added to the parent
   * @preturn {string}      The combined name
   */
  protected childName(name: string, child: string) {
    //
    // If the child contains a dash, it is already the fill name
    //
    if (child.match(/-/)) {
      return child;
    }
    //
    // For non-combining styles, like border-width, insert
    //   the child name before the find word, e.g., border-top-width
    //
    if (Styles.connect[name] &amp;&amp; !Styles.connect[name].combine) {
      child += name.replace(/.*-/, '-');
      name = this.parentName(name);
    }
    return name + '-' + child;
  }

  /**
   * @param {string} name  The name of a style to normalize
   * @return {string}      The name converted from CamelCase to lowercase with dashes
   */
  protected normalizeName(name: string): string {
    return name.replace(/[A-Z]/g, c =&gt; '-' + c.toLowerCase());
  }

  /**
   * @param {string} cssText  A style text string to be parsed into separate styles
   *                          (by using this.set(), we get all the sub-styles created
   *                           as well as the merged style shorthands)
   */
  protected parse(cssText: string = '') {
    let PATTERN = (this.constructor as typeof Styles).pattern;
    this.styles = {};
    const parts = cssText.replace(PATTERN.comment, '').split(PATTERN.style);
    while (parts.length &gt; 1) {
      let [space, name, value] = parts.splice(0, 3);
      if (space.match(/[^\s\n]/)) return;
      this.set(name, value);
    }
  }

}
</t>
<t tx="ekr.20211016054411.24"></t>
<t tx="ekr.20211016054411.240">
const PACKAGE = require('../../../webpack.common.js');

module.exports = PACKAGE(
  'ui/safe',                          // the package to build
  '../../../../js',                   // location of the MathJax js library
  ['components/src/core/lib'],        // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2400"></t>
<t tx="ekr.20211016054411.2401">


/**
 * @fileoverview  Implements asynchronous loading for use with node applications
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {mathjax} from '../../mathjax.js';
import * as path from 'path';

declare var require: (name: string) =&gt; any;
declare var __dirname: string;

const root = path.dirname(path.dirname(__dirname));

if (!mathjax.asyncLoad &amp;&amp; typeof require !== 'undefined') {
  mathjax.asyncLoad = (name: string) =&gt; {
    return require(name.charAt(0) === '.' ? path.resolve(root, name) : name);
  };
}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2402">
declare module 'path' {
    export function dirname(dir: string): string;
    export function resolve(root: string, name: string): string;
}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2403">


/**
 * @fileoverview  Implements asynchronous loading for use with SystemJS
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {mathjax} from '../../mathjax.js';

declare var System: {import: (name: string, url?: string) =&gt; any};
declare var __dirname: string;

let root = 'file://' + __dirname.replace(/\/\/[^\/]*$/, '/');

if (!mathjax.asyncLoad &amp;&amp; typeof System !== 'undefined' &amp;&amp; System.import) {
  mathjax.asyncLoad = (name: string) =&gt; {
    return System.import(name, root);
  };
}

/**
 * @param {string} URL   the base URL to use for loading relative paths
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2404">export function setBaseURL(URL: string) {
  root = URL;
  if (!root.match(/\/$/)) {
    root += '/';
  }
}
</t>
<t tx="ekr.20211016054411.2405"></t>
<t tx="ekr.20211016054411.2406">


import * as Entities from '../Entities.js';

Entities.add({
    AElig: '\u00C6',
    AMP: '\u0026',
    Aacute: '\u00C1',
    Abreve: '\u0102',
    Acirc: '\u00C2',
    Acy: '\u0410',
    Agrave: '\u00C0',
    Alpha: '\u0391',
    Amacr: '\u0100',
    And: '\u2A53',
    Aogon: '\u0104',
    Aring: '\u00C5',
    Assign: '\u2254',
    Atilde: '\u00C3',
    Auml: '\u00C4',
    aacute: '\u00E1',
    abreve: '\u0103',
    ac: '\u223E',
    acE: '\u223E\u0333',
    acd: '\u223F',
    acirc: '\u00E2',
    acy: '\u0430',
    aelig: '\u00E6',
    af: '\u2061',
    agrave: '\u00E0',
    alefsym: '\u2135',
    amacr: '\u0101',
    andand: '\u2A55',
    andd: '\u2A5C',
    andslope: '\u2A58',
    andv: '\u2A5A',
    ange: '\u29A4',
    angle: '\u2220',
    angmsdaa: '\u29A8',
    angmsdab: '\u29A9',
    angmsdac: '\u29AA',
    angmsdad: '\u29AB',
    angmsdae: '\u29AC',
    angmsdaf: '\u29AD',
    angmsdag: '\u29AE',
    angmsdah: '\u29AF',
    angrt: '\u221F',
    angrtvb: '\u22BE',
    angrtvbd: '\u299D',
    angst: '\u00C5',
    angzarr: '\u237C',
    aogon: '\u0105',
    ap: '\u2248',
    apE: '\u2A70',
    apacir: '\u2A6F',
    apid: '\u224B',
    apos: '\u0027',
    approx: '\u2248',
    approxeq: '\u224A',
    aring: '\u00E5',
    ast: '\u002A',
    asymp: '\u2248',
    asympeq: '\u224D',
    atilde: '\u00E3',
    auml: '\u00E4',
    awconint: '\u2233',
    awint: '\u2A11'
}, 'a');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2407">


/**
 * @fileoverview  Loads all the entity files (used to avoid dynamic loading)
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import './a.js';
import './b.js';
import './c.js';
import './d.js';
import './e.js';
import './f.js';
import './g.js';
import './h.js';
import './i.js';
import './j.js';
import './k.js';
import './l.js';
import './m.js';
import './n.js';
import './o.js';
import './p.js';
import './q.js';
import './r.js';
import './s.js';
import './t.js';
import './u.js';
import './v.js';
import './w.js';
import './x.js';
import './y.js';
import './z.js';

import './fr.js';
import './opf.js';
import './scr.js';
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2408">


import * as Entities from '../Entities.js';

Entities.add({
    Barv: '\u2AE7',
    Barwed: '\u2306',
    Bcy: '\u0411',
    Bernoullis: '\u212C',
    Beta: '\u0392',
    Bumpeq: '\u224E',
    bNot: '\u2AED',
    backcong: '\u224C',
    backepsilon: '\u03F6',
    barvee: '\u22BD',
    barwed: '\u2305',
    barwedge: '\u2305',
    bbrk: '\u23B5',
    bbrktbrk: '\u23B6',
    bcong: '\u224C',
    bcy: '\u0431',
    bdquo: '\u201E',
    becaus: '\u2235',
    because: '\u2235',
    bemptyv: '\u29B0',
    bepsi: '\u03F6',
    bernou: '\u212C',
    bigcap: '\u22C2',
    bigcup: '\u22C3',
    bigvee: '\u22C1',
    bigwedge: '\u22C0',
    bkarow: '\u290D',
    blacksquare: '\u25AA',
    blacktriangleright: '\u25B8',
    blank: '\u2423',
    blk12: '\u2592',
    blk14: '\u2591',
    blk34: '\u2593',
    block: '\u2588',
    bne: '\u003D\u20E5',
    bnequiv: '\u2261\u20E5',
    bnot: '\u2310',
    bot: '\u22A5',
    bottom: '\u22A5',
    boxDL: '\u2557',
    boxDR: '\u2554',
    boxDl: '\u2556',
    boxDr: '\u2553',
    boxH: '\u2550',
    boxHD: '\u2566',
    boxHU: '\u2569',
    boxHd: '\u2564',
    boxHu: '\u2567',
    boxUL: '\u255D',
    boxUR: '\u255A',
    boxUl: '\u255C',
    boxUr: '\u2559',
    boxV: '\u2551',
    boxVH: '\u256C',
    boxVL: '\u2563',
    boxVR: '\u2560',
    boxVh: '\u256B',
    boxVl: '\u2562',
    boxVr: '\u255F',
    boxbox: '\u29C9',
    boxdL: '\u2555',
    boxdR: '\u2552',
    boxh: '\u2500',
    boxhD: '\u2565',
    boxhU: '\u2568',
    boxhd: '\u252C',
    boxhu: '\u2534',
    boxuL: '\u255B',
    boxuR: '\u2558',
    boxv: '\u2502',
    boxvH: '\u256A',
    boxvL: '\u2561',
    boxvR: '\u255E',
    boxvh: '\u253C',
    boxvl: '\u2524',
    boxvr: '\u251C',
    bprime: '\u2035',
    breve: '\u02D8',
    brvbar: '\u00A6',
    bsemi: '\u204F',
    bsim: '\u223D',
    bsime: '\u22CD',
    bsolb: '\u29C5',
    bsolhsub: '\u27C8',
    bullet: '\u2022',
    bump: '\u224E',
    bumpE: '\u2AAE',
    bumpe: '\u224F',
    bumpeq: '\u224F'
}, 'b');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2409">


import * as Entities from '../Entities.js';

Entities.add({
    CHcy: '\u0427',
    COPY: '\u00A9',
    Cacute: '\u0106',
    CapitalDifferentialD: '\u2145',
    Cayleys: '\u212D',
    Ccaron: '\u010C',
    Ccedil: '\u00C7',
    Ccirc: '\u0108',
    Cconint: '\u2230',
    Cdot: '\u010A',
    Cedilla: '\u00B8',
    Chi: '\u03A7',
    ClockwiseContourIntegral: '\u2232',
    CloseCurlyDoubleQuote: '\u201D',
    CloseCurlyQuote: '\u2019',
    Colon: '\u2237',
    Colone: '\u2A74',
    Conint: '\u222F',
    CounterClockwiseContourIntegral: '\u2233',
    cacute: '\u0107',
    capand: '\u2A44',
    capbrcup: '\u2A49',
    capcap: '\u2A4B',
    capcup: '\u2A47',
    capdot: '\u2A40',
    caps: '\u2229\uFE00',
    caret: '\u2041',
    caron: '\u02C7',
    ccaps: '\u2A4D',
    ccaron: '\u010D',
    ccedil: '\u00E7',
    ccirc: '\u0109',
    ccups: '\u2A4C',
    ccupssm: '\u2A50',
    cdot: '\u010B',
    cedil: '\u00B8',
    cemptyv: '\u29B2',
    cent: '\u00A2',
    centerdot: '\u00B7',
    chcy: '\u0447',
    checkmark: '\u2713',
    cir: '\u25CB',
    cirE: '\u29C3',
    cire: '\u2257',
    cirfnint: '\u2A10',
    cirmid: '\u2AEF',
    cirscir: '\u29C2',
    clubsuit: '\u2663',
    colone: '\u2254',
    coloneq: '\u2254',
    comma: '\u002C',
    commat: '\u0040',
    compfn: '\u2218',
    complement: '\u2201',
    complexes: '\u2102',
    cong: '\u2245',
    congdot: '\u2A6D',
    conint: '\u222E',
    coprod: '\u2210',
    copy: '\u00A9',
    copysr: '\u2117',
    crarr: '\u21B5',
    cross: '\u2717',
    csub: '\u2ACF',
    csube: '\u2AD1',
    csup: '\u2AD0',
    csupe: '\u2AD2',
    cudarrl: '\u2938',
    cudarrr: '\u2935',
    cularrp: '\u293D',
    cupbrcap: '\u2A48',
    cupcap: '\u2A46',
    cupcup: '\u2A4A',
    cupdot: '\u228D',
    cupor: '\u2A45',
    cups: '\u222A\uFE00',
    curarrm: '\u293C',
    curlyeqprec: '\u22DE',
    curlyeqsucc: '\u22DF',
    curren: '\u00A4',
    curvearrowleft: '\u21B6',
    curvearrowright: '\u21B7',
    cuvee: '\u22CE',
    cuwed: '\u22CF',
    cwconint: '\u2232',
    cwint: '\u2231',
    cylcty: '\u232D'
}, 'c');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.241"></t>
<t tx="ekr.20211016054411.2410">


import * as Entities from '../Entities.js';

Entities.add({
    DD: '\u2145',
    DDotrahd: '\u2911',
    DJcy: '\u0402',
    DScy: '\u0405',
    DZcy: '\u040F',
    Darr: '\u21A1',
    Dashv: '\u2AE4',
    Dcaron: '\u010E',
    Dcy: '\u0414',
    DiacriticalAcute: '\u00B4',
    DiacriticalDot: '\u02D9',
    DiacriticalDoubleAcute: '\u02DD',
    DiacriticalGrave: '\u0060',
    DiacriticalTilde: '\u02DC',
    Dot: '\u00A8',
    DotDot: '\u20DC',
    DoubleContourIntegral: '\u222F',
    DoubleDownArrow: '\u21D3',
    DoubleLeftArrow: '\u21D0',
    DoubleLeftRightArrow: '\u21D4',
    DoubleLeftTee: '\u2AE4',
    DoubleLongLeftArrow: '\u27F8',
    DoubleLongLeftRightArrow: '\u27FA',
    DoubleLongRightArrow: '\u27F9',
    DoubleRightArrow: '\u21D2',
    DoubleUpArrow: '\u21D1',
    DoubleUpDownArrow: '\u21D5',
    DownArrowBar: '\u2913',
    DownArrowUpArrow: '\u21F5',
    DownBreve: '\u0311',
    DownLeftRightVector: '\u2950',
    DownLeftTeeVector: '\u295E',
    DownLeftVectorBar: '\u2956',
    DownRightTeeVector: '\u295F',
    DownRightVectorBar: '\u2957',
    DownTeeArrow: '\u21A7',
    Dstrok: '\u0110',
    dArr: '\u21D3',
    dHar: '\u2965',
    darr: '\u2193',
    dash: '\u2010',
    dashv: '\u22A3',
    dbkarow: '\u290F',
    dblac: '\u02DD',
    dcaron: '\u010F',
    dcy: '\u0434',
    dd: '\u2146',
    ddagger: '\u2021',
    ddotseq: '\u2A77',
    demptyv: '\u29B1',
    dfisht: '\u297F',
    dharl: '\u21C3',
    dharr: '\u21C2',
    diam: '\u22C4',
    diamond: '\u22C4',
    diamondsuit: '\u2666',
    diams: '\u2666',
    die: '\u00A8',
    disin: '\u22F2',
    divide: '\u00F7',
    divonx: '\u22C7',
    djcy: '\u0452',
    dlcorn: '\u231E',
    dlcrop: '\u230D',
    dollar: '\u0024',
    doteq: '\u2250',
    dotminus: '\u2238',
    doublebarwedge: '\u2306',
    downarrow: '\u2193',
    downdownarrows: '\u21CA',
    downharpoonleft: '\u21C3',
    downharpoonright: '\u21C2',
    drbkarow: '\u2910',
    drcorn: '\u231F',
    drcrop: '\u230C',
    dscy: '\u0455',
    dsol: '\u29F6',
    dstrok: '\u0111',
    dtri: '\u25BF',
    dtrif: '\u25BE',
    duarr: '\u21F5',
    duhar: '\u296F',
    dwangle: '\u29A6',
    dzcy: '\u045F',
    dzigrarr: '\u27FF'
}, 'd');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2411">


import * as Entities from '../Entities.js';

Entities.add({
    ENG: '\u014A',
    ETH: '\u00D0',
    Eacute: '\u00C9',
    Ecaron: '\u011A',
    Ecirc: '\u00CA',
    Ecy: '\u042D',
    Edot: '\u0116',
    Egrave: '\u00C8',
    Emacr: '\u0112',
    EmptySmallSquare: '\u25FB',
    EmptyVerySmallSquare: '\u25AB',
    Eogon: '\u0118',
    Epsilon: '\u0395',
    Equal: '\u2A75',
    Esim: '\u2A73',
    Eta: '\u0397',
    Euml: '\u00CB',
    eDDot: '\u2A77',
    eDot: '\u2251',
    eacute: '\u00E9',
    easter: '\u2A6E',
    ecaron: '\u011B',
    ecirc: '\u00EA',
    ecolon: '\u2255',
    ecy: '\u044D',
    edot: '\u0117',
    ee: '\u2147',
    eg: '\u2A9A',
    egrave: '\u00E8',
    egsdot: '\u2A98',
    el: '\u2A99',
    elinters: '\u23E7',
    elsdot: '\u2A97',
    emacr: '\u0113',
    emptyset: '\u2205',
    emptyv: '\u2205',
    emsp: '\u2003',
    emsp13: '\u2004',
    emsp14: '\u2005',
    eng: '\u014B',
    ensp: '\u2002',
    eogon: '\u0119',
    epar: '\u22D5',
    eparsl: '\u29E3',
    eplus: '\u2A71',
    epsilon: '\u03B5',
    eqcirc: '\u2256',
    eqcolon: '\u2255',
    eqsim: '\u2242',
    eqslantgtr: '\u2A96',
    eqslantless: '\u2A95',
    equals: '\u003D',
    equest: '\u225F',
    equiv: '\u2261',
    equivDD: '\u2A78',
    eqvparsl: '\u29E5',
    erarr: '\u2971',
    esdot: '\u2250',
    esim: '\u2242',
    euml: '\u00EB',
    euro: '\u20AC',
    excl: '\u0021',
    exist: '\u2203',
    expectation: '\u2130',
    exponentiale: '\u2147'
}, 'e');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2412">


import * as Entities from '../Entities.js';

Entities.add({
    Fcy: '\u0424',
    FilledSmallSquare: '\u25FC',
    Fouriertrf: '\u2131',
    fallingdotseq: '\u2252',
    fcy: '\u0444',
    female: '\u2640',
    ffilig: '\uFB03',
    fflig: '\uFB00',
    ffllig: '\uFB04',
    filig: '\uFB01',
    fjlig: '\u0066\u006A',
    fllig: '\uFB02',
    fltns: '\u25B1',
    fnof: '\u0192',
    forall: '\u2200',
    forkv: '\u2AD9',
    fpartint: '\u2A0D',
    frac12: '\u00BD',
    frac13: '\u2153',
    frac14: '\u00BC',
    frac15: '\u2155',
    frac16: '\u2159',
    frac18: '\u215B',
    frac23: '\u2154',
    frac25: '\u2156',
    frac34: '\u00BE',
    frac35: '\u2157',
    frac38: '\u215C',
    frac45: '\u2158',
    frac56: '\u215A',
    frac58: '\u215D',
    frac78: '\u215E',
    frasl: '\u2044'
}, 'f');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2413">


import * as Entities from '../Entities.js';

Entities.add({
    Afr: '\uD835\uDD04',
    Bfr: '\uD835\uDD05',
    Cfr: '\u212D',
    Dfr: '\uD835\uDD07',
    Efr: '\uD835\uDD08',
    Ffr: '\uD835\uDD09',
    Gfr: '\uD835\uDD0A',
    Hfr: '\u210C',
    Ifr: '\u2111',
    Jfr: '\uD835\uDD0D',
    Kfr: '\uD835\uDD0E',
    Lfr: '\uD835\uDD0F',
    Mfr: '\uD835\uDD10',
    Nfr: '\uD835\uDD11',
    Ofr: '\uD835\uDD12',
    Pfr: '\uD835\uDD13',
    Qfr: '\uD835\uDD14',
    Rfr: '\u211C',
    Sfr: '\uD835\uDD16',
    Tfr: '\uD835\uDD17',
    Ufr: '\uD835\uDD18',
    Vfr: '\uD835\uDD19',
    Wfr: '\uD835\uDD1A',
    Xfr: '\uD835\uDD1B',
    Yfr: '\uD835\uDD1C',
    Zfr: '\u2128',
    afr: '\uD835\uDD1E',
    bfr: '\uD835\uDD1F',
    cfr: '\uD835\uDD20',
    dfr: '\uD835\uDD21',
    efr: '\uD835\uDD22',
    ffr: '\uD835\uDD23',
    gfr: '\uD835\uDD24',
    hfr: '\uD835\uDD25',
    ifr: '\uD835\uDD26',
    jfr: '\uD835\uDD27',
    kfr: '\uD835\uDD28',
    lfr: '\uD835\uDD29',
    mfr: '\uD835\uDD2A',
    nfr: '\uD835\uDD2B',
    ofr: '\uD835\uDD2C',
    pfr: '\uD835\uDD2D',
    qfr: '\uD835\uDD2E',
    rfr: '\uD835\uDD2F',
    sfr: '\uD835\uDD30',
    tfr: '\uD835\uDD31',
    ufr: '\uD835\uDD32',
    vfr: '\uD835\uDD33',
    wfr: '\uD835\uDD34',
    xfr: '\uD835\uDD35',
    yfr: '\uD835\uDD36',
    zfr: '\uD835\uDD37'
}, 'fr');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2414">


import * as Entities from '../Entities.js';

Entities.add({
    GJcy: '\u0403',
    GT: '\u003E',
    Gammad: '\u03DC',
    Gbreve: '\u011E',
    Gcedil: '\u0122',
    Gcirc: '\u011C',
    Gcy: '\u0413',
    Gdot: '\u0120',
    GreaterGreater: '\u2AA2',
    Gt: '\u226B',
    gE: '\u2267',
    gacute: '\u01F5',
    gammad: '\u03DD',
    gbreve: '\u011F',
    gcirc: '\u011D',
    gcy: '\u0433',
    gdot: '\u0121',
    ge: '\u2265',
    gel: '\u22DB',
    geq: '\u2265',
    geqq: '\u2267',
    geqslant: '\u2A7E',
    ges: '\u2A7E',
    gescc: '\u2AA9',
    gesdot: '\u2A80',
    gesdoto: '\u2A82',
    gesdotol: '\u2A84',
    gesl: '\u22DB\uFE00',
    gesles: '\u2A94',
    gg: '\u226B',
    ggg: '\u22D9',
    gjcy: '\u0453',
    gl: '\u2277',
    glE: '\u2A92',
    gla: '\u2AA5',
    glj: '\u2AA4',
    gnapprox: '\u2A8A',
    gneq: '\u2A88',
    gneqq: '\u2269',
    grave: '\u0060',
    gsim: '\u2273',
    gsime: '\u2A8E',
    gsiml: '\u2A90',
    gtcc: '\u2AA7',
    gtcir: '\u2A7A',
    gtlPar: '\u2995',
    gtquest: '\u2A7C',
    gtrapprox: '\u2A86',
    gtrarr: '\u2978',
    gtrdot: '\u22D7',
    gtreqless: '\u22DB',
    gtreqqless: '\u2A8C',
    gtrless: '\u2277',
    gtrsim: '\u2273',
    gvertneqq: '\u2269\uFE00',
    gvnE: '\u2269\uFE00'
}, 'g');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2415">


import * as Entities from '../Entities.js';

Entities.add({
    HARDcy: '\u042A',
    Hcirc: '\u0124',
    HilbertSpace: '\u210B',
    HorizontalLine: '\u2500',
    Hstrok: '\u0126',
    hArr: '\u21D4',
    hairsp: '\u200A',
    half: '\u00BD',
    hamilt: '\u210B',
    hardcy: '\u044A',
    harr: '\u2194',
    harrcir: '\u2948',
    hcirc: '\u0125',
    hearts: '\u2665',
    heartsuit: '\u2665',
    hercon: '\u22B9',
    hksearow: '\u2925',
    hkswarow: '\u2926',
    hoarr: '\u21FF',
    homtht: '\u223B',
    horbar: '\u2015',
    hslash: '\u210F',
    hstrok: '\u0127',
    hybull: '\u2043',
    hyphen: '\u2010'
}, 'h');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2416">


import * as Entities from '../Entities.js';

Entities.add({
    IEcy: '\u0415',
    IJlig: '\u0132',
    IOcy: '\u0401',
    Iacute: '\u00CD',
    Icirc: '\u00CE',
    Icy: '\u0418',
    Idot: '\u0130',
    Igrave: '\u00CC',
    Imacr: '\u012A',
    Implies: '\u21D2',
    Int: '\u222C',
    Iogon: '\u012E',
    Iota: '\u0399',
    Itilde: '\u0128',
    Iukcy: '\u0406',
    Iuml: '\u00CF',
    iacute: '\u00ED',
    ic: '\u2063',
    icirc: '\u00EE',
    icy: '\u0438',
    iecy: '\u0435',
    iexcl: '\u00A1',
    iff: '\u21D4',
    igrave: '\u00EC',
    ii: '\u2148',
    iiiint: '\u2A0C',
    iiint: '\u222D',
    iinfin: '\u29DC',
    iiota: '\u2129',
    ijlig: '\u0133',
    imacr: '\u012B',
    image: '\u2111',
    imagline: '\u2110',
    imagpart: '\u2111',
    imof: '\u22B7',
    imped: '\u01B5',
    in: '\u2208',
    incare: '\u2105',
    infintie: '\u29DD',
    inodot: '\u0131',
    int: '\u222B',
    integers: '\u2124',
    intercal: '\u22BA',
    intlarhk: '\u2A17',
    intprod: '\u2A3C',
    iocy: '\u0451',
    iogon: '\u012F',
    iprod: '\u2A3C',
    iquest: '\u00BF',
    isin: '\u2208',
    isinE: '\u22F9',
    isindot: '\u22F5',
    isins: '\u22F4',
    isinsv: '\u22F3',
    isinv: '\u2208',
    it: '\u2062',
    itilde: '\u0129',
    iukcy: '\u0456',
    iuml: '\u00EF'
}, 'i');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2417">


import * as Entities from '../Entities.js';

Entities.add({
    Jcirc: '\u0134',
    Jcy: '\u0419',
    Jsercy: '\u0408',
    Jukcy: '\u0404',
    jcirc: '\u0135',
    jcy: '\u0439',
    jsercy: '\u0458',
    jukcy: '\u0454'
}, 'j');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2418">


import * as Entities from '../Entities.js';

Entities.add({
    KHcy: '\u0425',
    KJcy: '\u040C',
    Kappa: '\u039A',
    Kcedil: '\u0136',
    Kcy: '\u041A',
    kcedil: '\u0137',
    kcy: '\u043A',
    kgreen: '\u0138',
    khcy: '\u0445',
    kjcy: '\u045C'
}, 'k');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2419">


import * as Entities from '../Entities.js';

Entities.add({
    LJcy: '\u0409',
    LT: '\u003C',
    Lacute: '\u0139',
    Lang: '\u27EA',
    Laplacetrf: '\u2112',
    Lcaron: '\u013D',
    Lcedil: '\u013B',
    Lcy: '\u041B',
    LeftArrowBar: '\u21E4',
    LeftDoubleBracket: '\u27E6',
    LeftDownTeeVector: '\u2961',
    LeftDownVectorBar: '\u2959',
    LeftRightVector: '\u294E',
    LeftTeeArrow: '\u21A4',
    LeftTeeVector: '\u295A',
    LeftTriangleBar: '\u29CF',
    LeftUpDownVector: '\u2951',
    LeftUpTeeVector: '\u2960',
    LeftUpVectorBar: '\u2958',
    LeftVectorBar: '\u2952',
    LessLess: '\u2AA1',
    Lmidot: '\u013F',
    LowerLeftArrow: '\u2199',
    LowerRightArrow: '\u2198',
    Lstrok: '\u0141',
    Lt: '\u226A',
    lAarr: '\u21DA',
    lArr: '\u21D0',
    lAtail: '\u291B',
    lBarr: '\u290E',
    lE: '\u2266',
    lHar: '\u2962',
    lacute: '\u013A',
    laemptyv: '\u29B4',
    lagran: '\u2112',
    lang: '\u27E8',
    langd: '\u2991',
    langle: '\u27E8',
    laquo: '\u00AB',
    larr: '\u2190',
    larrb: '\u21E4',
    larrbfs: '\u291F',
    larrfs: '\u291D',
    larrhk: '\u21A9',
    larrpl: '\u2939',
    larrsim: '\u2973',
    lat: '\u2AAB',
    latail: '\u2919',
    late: '\u2AAD',
    lates: '\u2AAD\uFE00',
    lbarr: '\u290C',
    lbbrk: '\u2772',
    lbrke: '\u298B',
    lbrksld: '\u298F',
    lbrkslu: '\u298D',
    lcaron: '\u013E',
    lcedil: '\u013C',
    lceil: '\u2308',
    lcub: '\u007B',
    lcy: '\u043B',
    ldca: '\u2936',
    ldquo: '\u201C',
    ldquor: '\u201E',
    ldrdhar: '\u2967',
    ldrushar: '\u294B',
    ldsh: '\u21B2',
    leftarrow: '\u2190',
    leftarrowtail: '\u21A2',
    leftharpoondown: '\u21BD',
    leftharpoonup: '\u21BC',
    leftrightarrow: '\u2194',
    leftrightarrows: '\u21C6',
    leftrightharpoons: '\u21CB',
    leftrightsquigarrow: '\u21AD',
    leg: '\u22DA',
    leq: '\u2264',
    leqq: '\u2266',
    leqslant: '\u2A7D',
    les: '\u2A7D',
    lescc: '\u2AA8',
    lesdot: '\u2A7F',
    lesdoto: '\u2A81',
    lesdotor: '\u2A83',
    lesg: '\u22DA\uFE00',
    lesges: '\u2A93',
    lessapprox: '\u2A85',
    lesseqgtr: '\u22DA',
    lesseqqgtr: '\u2A8B',
    lessgtr: '\u2276',
    lesssim: '\u2272',
    lfisht: '\u297C',
    lfloor: '\u230A',
    lg: '\u2276',
    lgE: '\u2A91',
    lhard: '\u21BD',
    lharu: '\u21BC',
    lharul: '\u296A',
    lhblk: '\u2584',
    ljcy: '\u0459',
    ll: '\u226A',
    llarr: '\u21C7',
    llcorner: '\u231E',
    llhard: '\u296B',
    lltri: '\u25FA',
    lmidot: '\u0140',
    lmoustache: '\u23B0',
    lnapprox: '\u2A89',
    lneq: '\u2A87',
    lneqq: '\u2268',
    loang: '\u27EC',
    loarr: '\u21FD',
    lobrk: '\u27E6',
    longleftarrow: '\u27F5',
    longleftrightarrow: '\u27F7',
    longrightarrow: '\u27F6',
    looparrowleft: '\u21AB',
    lopar: '\u2985',
    loplus: '\u2A2D',
    lotimes: '\u2A34',
    lowbar: '\u005F',
    lozenge: '\u25CA',
    lozf: '\u29EB',
    lpar: '\u0028',
    lparlt: '\u2993',
    lrarr: '\u21C6',
    lrcorner: '\u231F',
    lrhar: '\u21CB',
    lrhard: '\u296D',
    lrm: '\u200E',
    lrtri: '\u22BF',
    lsaquo: '\u2039',
    lsh: '\u21B0',
    lsim: '\u2272',
    lsime: '\u2A8D',
    lsimg: '\u2A8F',
    lsqb: '\u005B',
    lsquo: '\u2018',
    lsquor: '\u201A',
    lstrok: '\u0142',
    ltcc: '\u2AA6',
    ltcir: '\u2A79',
    ltdot: '\u22D6',
    lthree: '\u22CB',
    ltlarr: '\u2976',
    ltquest: '\u2A7B',
    ltrPar: '\u2996',
    ltrie: '\u22B4',
    ltrif: '\u25C2',
    lurdshar: '\u294A',
    luruhar: '\u2966',
    lvertneqq: '\u2268\uFE00',
    lvnE: '\u2268\uFE00'
}, 'l');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.242">


/**
 * @fileoverview  The main MathJax global object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {HandlerList} from './core/HandlerList.js';
import {handleRetriesFor, retryAfter} from './util/Retries.js';
import {OptionList} from './util/Options.js';
import {MathDocument} from './core/MathDocument.js';

/*****************************************************************/
/**
 * The main MathJax global object
 */
export const mathjax = {
  /**
   *  The MathJax version number
   */
  version: '3.2.0',

  /**
   *  The list of registers document handlers
   */
  handlers: new HandlerList&lt;any, any, any&gt;(),

  /**
   * Creates a MathDocument using a registered handler that knows how to handl it
   *
   * @param {any} document        The document to handle
   * @param {OptionList} options   The options to use for the document (e.g., input and output jax)
   * @return {MathDocument}       The MathDocument to handle the document
   */
  document: function (document: any, options: OptionList): MathDocument&lt;any, any, any&gt; {
    return mathjax.handlers.document(document, options);
  },

  /**
   * The functions for handling retries if a file must be loaded dynamically
   */
  handleRetriesFor: handleRetriesFor,
  retryAfter: retryAfter,

  /**
   * A function for loading external files (can be changed for node/browser use)
   */
  asyncLoad: null as ((file: string) =&gt; any),

};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2420">


import * as Entities from '../Entities.js';

Entities.add({
    Map: '\u2905',
    Mcy: '\u041C',
    MediumSpace: '\u205F',
    Mellintrf: '\u2133',
    Mu: '\u039C',
    mDDot: '\u223A',
    male: '\u2642',
    maltese: '\u2720',
    map: '\u21A6',
    mapsto: '\u21A6',
    mapstodown: '\u21A7',
    mapstoleft: '\u21A4',
    mapstoup: '\u21A5',
    marker: '\u25AE',
    mcomma: '\u2A29',
    mcy: '\u043C',
    mdash: '\u2014',
    measuredangle: '\u2221',
    micro: '\u00B5',
    mid: '\u2223',
    midast: '\u002A',
    midcir: '\u2AF0',
    middot: '\u00B7',
    minus: '\u2212',
    minusb: '\u229F',
    minusd: '\u2238',
    minusdu: '\u2A2A',
    mlcp: '\u2ADB',
    mldr: '\u2026',
    mnplus: '\u2213',
    models: '\u22A7',
    mp: '\u2213',
    mstpos: '\u223E',
    mumap: '\u22B8'
}, 'm');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2421">


import * as Entities from '../Entities.js';

Entities.add({
    NJcy: '\u040A',
    Nacute: '\u0143',
    Ncaron: '\u0147',
    Ncedil: '\u0145',
    Ncy: '\u041D',
    NegativeMediumSpace: '\u200B',
    NegativeThickSpace: '\u200B',
    NegativeThinSpace: '\u200B',
    NegativeVeryThinSpace: '\u200B',
    NewLine: '\u000A',
    NoBreak: '\u2060',
    NonBreakingSpace: '\u00A0',
    Not: '\u2AEC',
    NotCongruent: '\u2262',
    NotCupCap: '\u226D',
    NotEqualTilde: '\u2242\u0338',
    NotGreaterFullEqual: '\u2267\u0338',
    NotGreaterGreater: '\u226B\u0338',
    NotGreaterLess: '\u2279',
    NotGreaterSlantEqual: '\u2A7E\u0338',
    NotGreaterTilde: '\u2275',
    NotHumpDownHump: '\u224E\u0338',
    NotHumpEqual: '\u224F\u0338',
    NotLeftTriangleBar: '\u29CF\u0338',
    NotLessGreater: '\u2278',
    NotLessLess: '\u226A\u0338',
    NotLessSlantEqual: '\u2A7D\u0338',
    NotLessTilde: '\u2274',
    NotNestedGreaterGreater: '\u2AA2\u0338',
    NotNestedLessLess: '\u2AA1\u0338',
    NotPrecedesEqual: '\u2AAF\u0338',
    NotReverseElement: '\u220C',
    NotRightTriangleBar: '\u29D0\u0338',
    NotSquareSubset: '\u228F\u0338',
    NotSquareSubsetEqual: '\u22E2',
    NotSquareSuperset: '\u2290\u0338',
    NotSquareSupersetEqual: '\u22E3',
    NotSubset: '\u2282\u20D2',
    NotSucceedsEqual: '\u2AB0\u0338',
    NotSucceedsTilde: '\u227F\u0338',
    NotSuperset: '\u2283\u20D2',
    NotTildeEqual: '\u2244',
    NotTildeFullEqual: '\u2247',
    NotTildeTilde: '\u2249',
    Ntilde: '\u00D1',
    Nu: '\u039D',
    nGg: '\u22D9\u0338',
    nGt: '\u226B\u20D2',
    nGtv: '\u226B\u0338',
    nLl: '\u22D8\u0338',
    nLt: '\u226A\u20D2',
    nLtv: '\u226A\u0338',
    nabla: '\u2207',
    nacute: '\u0144',
    nang: '\u2220\u20D2',
    nap: '\u2249',
    napE: '\u2A70\u0338',
    napid: '\u224B\u0338',
    napos: '\u0149',
    napprox: '\u2249',
    natural: '\u266E',
    naturals: '\u2115',
    nbsp: '\u00A0',
    nbump: '\u224E\u0338',
    nbumpe: '\u224F\u0338',
    ncap: '\u2A43',
    ncaron: '\u0148',
    ncedil: '\u0146',
    ncong: '\u2247',
    ncongdot: '\u2A6D\u0338',
    ncup: '\u2A42',
    ncy: '\u043D',
    ndash: '\u2013',
    ne: '\u2260',
    neArr: '\u21D7',
    nearhk: '\u2924',
    nearrow: '\u2197',
    nedot: '\u2250\u0338',
    nequiv: '\u2262',
    nesear: '\u2928',
    nesim: '\u2242\u0338',
    nexist: '\u2204',
    nexists: '\u2204',
    ngE: '\u2267\u0338',
    nge: '\u2271',
    ngeq: '\u2271',
    ngeqq: '\u2267\u0338',
    ngeqslant: '\u2A7E\u0338',
    nges: '\u2A7E\u0338',
    ngsim: '\u2275',
    ngt: '\u226F',
    ngtr: '\u226F',
    nhArr: '\u21CE',
    nhpar: '\u2AF2',
    ni: '\u220B',
    nis: '\u22FC',
    nisd: '\u22FA',
    niv: '\u220B',
    njcy: '\u045A',
    nlArr: '\u21CD',
    nlE: '\u2266\u0338',
    nldr: '\u2025',
    nle: '\u2270',
    nleftarrow: '\u219A',
    nleftrightarrow: '\u21AE',
    nleq: '\u2270',
    nleqq: '\u2266\u0338',
    nleqslant: '\u2A7D\u0338',
    nles: '\u2A7D\u0338',
    nless: '\u226E',
    nlsim: '\u2274',
    nlt: '\u226E',
    nltri: '\u22EA',
    nltrie: '\u22EC',
    nmid: '\u2224',
    notin: '\u2209',
    notinE: '\u22F9\u0338',
    notindot: '\u22F5\u0338',
    notinva: '\u2209',
    notinvb: '\u22F7',
    notinvc: '\u22F6',
    notni: '\u220C',
    notniva: '\u220C',
    notnivb: '\u22FE',
    notnivc: '\u22FD',
    npar: '\u2226',
    nparallel: '\u2226',
    nparsl: '\u2AFD\u20E5',
    npart: '\u2202\u0338',
    npolint: '\u2A14',
    npr: '\u2280',
    nprcue: '\u22E0',
    npre: '\u2AAF\u0338',
    nprec: '\u2280',
    npreceq: '\u2AAF\u0338',
    nrArr: '\u21CF',
    nrarrc: '\u2933\u0338',
    nrarrw: '\u219D\u0338',
    nrightarrow: '\u219B',
    nrtri: '\u22EB',
    nrtrie: '\u22ED',
    nsc: '\u2281',
    nsccue: '\u22E1',
    nsce: '\u2AB0\u0338',
    nshortmid: '\u2224',
    nshortparallel: '\u2226',
    nsim: '\u2241',
    nsime: '\u2244',
    nsimeq: '\u2244',
    nsmid: '\u2224',
    nspar: '\u2226',
    nsqsube: '\u22E2',
    nsqsupe: '\u22E3',
    nsub: '\u2284',
    nsubE: '\u2AC5\u0338',
    nsube: '\u2288',
    nsubset: '\u2282\u20D2',
    nsubseteq: '\u2288',
    nsubseteqq: '\u2AC5\u0338',
    nsucc: '\u2281',
    nsucceq: '\u2AB0\u0338',
    nsup: '\u2285',
    nsupE: '\u2AC6\u0338',
    nsupe: '\u2289',
    nsupset: '\u2283\u20D2',
    nsupseteq: '\u2289',
    nsupseteqq: '\u2AC6\u0338',
    ntgl: '\u2279',
    ntilde: '\u00F1',
    ntlg: '\u2278',
    ntriangleleft: '\u22EA',
    ntrianglelefteq: '\u22EC',
    ntriangleright: '\u22EB',
    ntrianglerighteq: '\u22ED',
    num: '\u0023',
    numero: '\u2116',
    numsp: '\u2007',
    nvHarr: '\u2904',
    nvap: '\u224D\u20D2',
    nvge: '\u2265\u20D2',
    nvgt: '\u003E\u20D2',
    nvinfin: '\u29DE',
    nvlArr: '\u2902',
    nvle: '\u2264\u20D2',
    nvlt: '\u003C\u20D2',
    nvltrie: '\u22B4\u20D2',
    nvrArr: '\u2903',
    nvrtrie: '\u22B5\u20D2',
    nvsim: '\u223C\u20D2',
    nwArr: '\u21D6',
    nwarhk: '\u2923',
    nwarrow: '\u2196',
    nwnear: '\u2927'
}, 'n');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2422">


import * as Entities from '../Entities.js';

Entities.add({
    OElig: '\u0152',
    Oacute: '\u00D3',
    Ocirc: '\u00D4',
    Ocy: '\u041E',
    Odblac: '\u0150',
    Ograve: '\u00D2',
    Omacr: '\u014C',
    Omicron: '\u039F',
    OpenCurlyDoubleQuote: '\u201C',
    OpenCurlyQuote: '\u2018',
    Or: '\u2A54',
    Oslash: '\u00D8',
    Otilde: '\u00D5',
    Otimes: '\u2A37',
    Ouml: '\u00D6',
    OverBracket: '\u23B4',
    OverParenthesis: '\u23DC',
    oS: '\u24C8',
    oacute: '\u00F3',
    oast: '\u229B',
    ocir: '\u229A',
    ocirc: '\u00F4',
    ocy: '\u043E',
    odash: '\u229D',
    odblac: '\u0151',
    odiv: '\u2A38',
    odot: '\u2299',
    odsold: '\u29BC',
    oelig: '\u0153',
    ofcir: '\u29BF',
    ogon: '\u02DB',
    ograve: '\u00F2',
    ogt: '\u29C1',
    ohbar: '\u29B5',
    ohm: '\u03A9',
    oint: '\u222E',
    olarr: '\u21BA',
    olcir: '\u29BE',
    olcross: '\u29BB',
    oline: '\u203E',
    olt: '\u29C0',
    omacr: '\u014D',
    omid: '\u29B6',
    ominus: '\u2296',
    opar: '\u29B7',
    operp: '\u29B9',
    oplus: '\u2295',
    orarr: '\u21BB',
    ord: '\u2A5D',
    order: '\u2134',
    orderof: '\u2134',
    ordf: '\u00AA',
    ordm: '\u00BA',
    origof: '\u22B6',
    oror: '\u2A56',
    orslope: '\u2A57',
    orv: '\u2A5B',
    oslash: '\u00F8',
    otilde: '\u00F5',
    otimes: '\u2297',
    otimesas: '\u2A36',
    ouml: '\u00F6',
    ovbar: '\u233D'
}, 'o');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2423">


import * as Entities from '../Entities.js';

Entities.add({
    Aopf: '\uD835\uDD38',
    Bopf: '\uD835\uDD39',
    Copf: '\u2102',
    Dopf: '\uD835\uDD3B',
    Eopf: '\uD835\uDD3C',
    Fopf: '\uD835\uDD3D',
    Gopf: '\uD835\uDD3E',
    Hopf: '\u210D',
    Iopf: '\uD835\uDD40',
    Jopf: '\uD835\uDD41',
    Kopf: '\uD835\uDD42',
    Lopf: '\uD835\uDD43',
    Mopf: '\uD835\uDD44',
    Nopf: '\u2115',
    Oopf: '\uD835\uDD46',
    Popf: '\u2119',
    Qopf: '\u211A',
    Ropf: '\u211D',
    Sopf: '\uD835\uDD4A',
    Topf: '\uD835\uDD4B',
    Uopf: '\uD835\uDD4C',
    Vopf: '\uD835\uDD4D',
    Wopf: '\uD835\uDD4E',
    Xopf: '\uD835\uDD4F',
    Yopf: '\uD835\uDD50',
    Zopf: '\u2124',
    aopf: '\uD835\uDD52',
    bopf: '\uD835\uDD53',
    copf: '\uD835\uDD54',
    dopf: '\uD835\uDD55',
    eopf: '\uD835\uDD56',
    fopf: '\uD835\uDD57',
    gopf: '\uD835\uDD58',
    hopf: '\uD835\uDD59',
    iopf: '\uD835\uDD5A',
    jopf: '\uD835\uDD5B',
    kopf: '\uD835\uDD5C',
    lopf: '\uD835\uDD5D',
    mopf: '\uD835\uDD5E',
    nopf: '\uD835\uDD5F',
    oopf: '\uD835\uDD60',
    popf: '\uD835\uDD61',
    qopf: '\uD835\uDD62',
    ropf: '\uD835\uDD63',
    sopf: '\uD835\uDD64',
    topf: '\uD835\uDD65',
    uopf: '\uD835\uDD66',
    vopf: '\uD835\uDD67',
    wopf: '\uD835\uDD68',
    xopf: '\uD835\uDD69',
    yopf: '\uD835\uDD6A',
    zopf: '\uD835\uDD6B'
}, 'opf');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2424">


import * as Entities from '../Entities.js';

Entities.add({
    Pcy: '\u041F',
    Poincareplane: '\u210C',
    Pr: '\u2ABB',
    Prime: '\u2033',
    Proportion: '\u2237',
    par: '\u2225',
    para: '\u00B6',
    parallel: '\u2225',
    parsim: '\u2AF3',
    parsl: '\u2AFD',
    part: '\u2202',
    pcy: '\u043F',
    percnt: '\u0025',
    permil: '\u2030',
    perp: '\u22A5',
    pertenk: '\u2031',
    phmmat: '\u2133',
    phone: '\u260E',
    pitchfork: '\u22D4',
    planck: '\u210F',
    planckh: '\u210E',
    plankv: '\u210F',
    plus: '\u002B',
    plusacir: '\u2A23',
    plusb: '\u229E',
    pluscir: '\u2A22',
    plusdo: '\u2214',
    plusdu: '\u2A25',
    pluse: '\u2A72',
    plusmn: '\u00B1',
    plussim: '\u2A26',
    plustwo: '\u2A27',
    pm: '\u00B1',
    pointint: '\u2A15',
    pound: '\u00A3',
    pr: '\u227A',
    prE: '\u2AB3',
    prcue: '\u227C',
    pre: '\u2AAF',
    prec: '\u227A',
    precapprox: '\u2AB7',
    preccurlyeq: '\u227C',
    preceq: '\u2AAF',
    precsim: '\u227E',
    primes: '\u2119',
    prnE: '\u2AB5',
    prnap: '\u2AB9',
    prnsim: '\u22E8',
    prod: '\u220F',
    profalar: '\u232E',
    profline: '\u2312',
    profsurf: '\u2313',
    prop: '\u221D',
    propto: '\u221D',
    prsim: '\u227E',
    prurel: '\u22B0',
    puncsp: '\u2008'
}, 'p');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2425">


import * as Entities from '../Entities.js';

Entities.add({
    QUOT: '\u0022',
    qint: '\u2A0C',
    qprime: '\u2057',
    quaternions: '\u210D',
    quatint: '\u2A16',
    quest: '\u003F',
    questeq: '\u225F'
}, 'q');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2426">


import * as Entities from '../Entities.js';

Entities.add({
    RBarr: '\u2910',
    REG: '\u00AE',
    Racute: '\u0154',
    Rang: '\u27EB',
    Rarrtl: '\u2916',
    Rcaron: '\u0158',
    Rcedil: '\u0156',
    Rcy: '\u0420',
    ReverseElement: '\u220B',
    ReverseUpEquilibrium: '\u296F',
    Rho: '\u03A1',
    RightArrowBar: '\u21E5',
    RightDoubleBracket: '\u27E7',
    RightDownTeeVector: '\u295D',
    RightDownVectorBar: '\u2955',
    RightTeeVector: '\u295B',
    RightTriangleBar: '\u29D0',
    RightUpDownVector: '\u294F',
    RightUpTeeVector: '\u295C',
    RightUpVectorBar: '\u2954',
    RightVectorBar: '\u2953',
    RoundImplies: '\u2970',
    RuleDelayed: '\u29F4',
    rAarr: '\u21DB',
    rArr: '\u21D2',
    rAtail: '\u291C',
    rBarr: '\u290F',
    rHar: '\u2964',
    race: '\u223D\u0331',
    racute: '\u0155',
    radic: '\u221A',
    raemptyv: '\u29B3',
    rang: '\u27E9',
    rangd: '\u2992',
    range: '\u29A5',
    rangle: '\u27E9',
    raquo: '\u00BB',
    rarr: '\u2192',
    rarrap: '\u2975',
    rarrb: '\u21E5',
    rarrbfs: '\u2920',
    rarrc: '\u2933',
    rarrfs: '\u291E',
    rarrhk: '\u21AA',
    rarrlp: '\u21AC',
    rarrpl: '\u2945',
    rarrsim: '\u2974',
    rarrw: '\u219D',
    ratail: '\u291A',
    ratio: '\u2236',
    rationals: '\u211A',
    rbarr: '\u290D',
    rbbrk: '\u2773',
    rbrke: '\u298C',
    rbrksld: '\u298E',
    rbrkslu: '\u2990',
    rcaron: '\u0159',
    rcedil: '\u0157',
    rceil: '\u2309',
    rcub: '\u007D',
    rcy: '\u0440',
    rdca: '\u2937',
    rdldhar: '\u2969',
    rdquo: '\u201D',
    rdquor: '\u201D',
    rdsh: '\u21B3',
    real: '\u211C',
    realine: '\u211B',
    realpart: '\u211C',
    reals: '\u211D',
    rect: '\u25AD',
    reg: '\u00AE',
    rfisht: '\u297D',
    rfloor: '\u230B',
    rhard: '\u21C1',
    rharu: '\u21C0',
    rharul: '\u296C',
    rightarrow: '\u2192',
    rightarrowtail: '\u21A3',
    rightharpoondown: '\u21C1',
    rightharpoonup: '\u21C0',
    rightleftarrows: '\u21C4',
    rightleftharpoons: '\u21CC',
    rightsquigarrow: '\u219D',
    risingdotseq: '\u2253',
    rlarr: '\u21C4',
    rlhar: '\u21CC',
    rlm: '\u200F',
    rmoustache: '\u23B1',
    rnmid: '\u2AEE',
    roang: '\u27ED',
    roarr: '\u21FE',
    robrk: '\u27E7',
    ropar: '\u2986',
    roplus: '\u2A2E',
    rotimes: '\u2A35',
    rpar: '\u0029',
    rpargt: '\u2994',
    rppolint: '\u2A12',
    rrarr: '\u21C9',
    rsaquo: '\u203A',
    rsh: '\u21B1',
    rsqb: '\u005D',
    rsquo: '\u2019',
    rsquor: '\u2019',
    rthree: '\u22CC',
    rtrie: '\u22B5',
    rtrif: '\u25B8',
    rtriltri: '\u29CE',
    ruluhar: '\u2968',
    rx: '\u211E'
}, 'r');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2427">


import * as Entities from '../Entities.js';

Entities.add({
    SHCHcy: '\u0429',
    SHcy: '\u0428',
    SOFTcy: '\u042C',
    Sacute: '\u015A',
    Sc: '\u2ABC',
    Scaron: '\u0160',
    Scedil: '\u015E',
    Scirc: '\u015C',
    Scy: '\u0421',
    ShortDownArrow: '\u2193',
    ShortLeftArrow: '\u2190',
    ShortRightArrow: '\u2192',
    ShortUpArrow: '\u2191',
    Sub: '\u22D0',
    Sup: '\u22D1',
    sacute: '\u015B',
    sbquo: '\u201A',
    sc: '\u227B',
    scE: '\u2AB4',
    scaron: '\u0161',
    sccue: '\u227D',
    sce: '\u2AB0',
    scedil: '\u015F',
    scirc: '\u015D',
    scpolint: '\u2A13',
    scsim: '\u227F',
    scy: '\u0441',
    sdotb: '\u22A1',
    sdote: '\u2A66',
    seArr: '\u21D8',
    searhk: '\u2925',
    searrow: '\u2198',
    semi: '\u003B',
    seswar: '\u2929',
    setminus: '\u2216',
    setmn: '\u2216',
    sext: '\u2736',
    sfrown: '\u2322',
    shchcy: '\u0449',
    shcy: '\u0448',
    shortmid: '\u2223',
    shortparallel: '\u2225',
    shy: '\u00AD',
    sigmaf: '\u03C2',
    sim: '\u223C',
    simdot: '\u2A6A',
    sime: '\u2243',
    simeq: '\u2243',
    simg: '\u2A9E',
    simgE: '\u2AA0',
    siml: '\u2A9D',
    simlE: '\u2A9F',
    simplus: '\u2A24',
    simrarr: '\u2972',
    slarr: '\u2190',
    smallsetminus: '\u2216',
    smashp: '\u2A33',
    smeparsl: '\u29E4',
    smid: '\u2223',
    smt: '\u2AAA',
    smte: '\u2AAC',
    smtes: '\u2AAC\uFE00',
    softcy: '\u044C',
    sol: '\u002F',
    solb: '\u29C4',
    solbar: '\u233F',
    spadesuit: '\u2660',
    spar: '\u2225',
    sqcap: '\u2293',
    sqcaps: '\u2293\uFE00',
    sqcup: '\u2294',
    sqcups: '\u2294\uFE00',
    sqsub: '\u228F',
    sqsube: '\u2291',
    sqsubset: '\u228F',
    sqsubseteq: '\u2291',
    sqsup: '\u2290',
    sqsupe: '\u2292',
    sqsupset: '\u2290',
    sqsupseteq: '\u2292',
    squ: '\u25A1',
    square: '\u25A1',
    squarf: '\u25AA',
    squf: '\u25AA',
    srarr: '\u2192',
    ssetmn: '\u2216',
    ssmile: '\u2323',
    sstarf: '\u22C6',
    star: '\u2606',
    starf: '\u2605',
    straightepsilon: '\u03F5',
    straightphi: '\u03D5',
    strns: '\u00AF',
    subdot: '\u2ABD',
    sube: '\u2286',
    subedot: '\u2AC3',
    submult: '\u2AC1',
    subplus: '\u2ABF',
    subrarr: '\u2979',
    subset: '\u2282',
    subseteq: '\u2286',
    subseteqq: '\u2AC5',
    subsetneq: '\u228A',
    subsetneqq: '\u2ACB',
    subsim: '\u2AC7',
    subsub: '\u2AD5',
    subsup: '\u2AD3',
    succ: '\u227B',
    succapprox: '\u2AB8',
    succcurlyeq: '\u227D',
    succeq: '\u2AB0',
    succnapprox: '\u2ABA',
    succneqq: '\u2AB6',
    succnsim: '\u22E9',
    succsim: '\u227F',
    sum: '\u2211',
    sung: '\u266A',
    sup: '\u2283',
    sup1: '\u00B9',
    sup2: '\u00B2',
    sup3: '\u00B3',
    supdot: '\u2ABE',
    supdsub: '\u2AD8',
    supe: '\u2287',
    supedot: '\u2AC4',
    suphsol: '\u27C9',
    suphsub: '\u2AD7',
    suplarr: '\u297B',
    supmult: '\u2AC2',
    supplus: '\u2AC0',
    supset: '\u2283',
    supseteq: '\u2287',
    supseteqq: '\u2AC6',
    supsetneq: '\u228B',
    supsetneqq: '\u2ACC',
    supsim: '\u2AC8',
    supsub: '\u2AD4',
    supsup: '\u2AD6',
    swArr: '\u21D9',
    swarhk: '\u2926',
    swarrow: '\u2199',
    swnwar: '\u292A',
    szlig: '\u00DF'
}, 's');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2428">


import * as Entities from '../Entities.js';

Entities.add({
    Ascr: '\uD835\uDC9C',
    Bscr: '\u212C',
    Cscr: '\uD835\uDC9E',
    Dscr: '\uD835\uDC9F',
    Escr: '\u2130',
    Fscr: '\u2131',
    Gscr: '\uD835\uDCA2',
    Hscr: '\u210B',
    Iscr: '\u2110',
    Jscr: '\uD835\uDCA5',
    Kscr: '\uD835\uDCA6',
    Lscr: '\u2112',
    Mscr: '\u2133',
    Nscr: '\uD835\uDCA9',
    Oscr: '\uD835\uDCAA',
    Pscr: '\uD835\uDCAB',
    Qscr: '\uD835\uDCAC',
    Rscr: '\u211B',
    Sscr: '\uD835\uDCAE',
    Tscr: '\uD835\uDCAF',
    Uscr: '\uD835\uDCB0',
    Vscr: '\uD835\uDCB1',
    Wscr: '\uD835\uDCB2',
    Xscr: '\uD835\uDCB3',
    Yscr: '\uD835\uDCB4',
    Zscr: '\uD835\uDCB5',
    ascr: '\uD835\uDCB6',
    bscr: '\uD835\uDCB7',
    cscr: '\uD835\uDCB8',
    dscr: '\uD835\uDCB9',
    escr: '\u212F',
    fscr: '\uD835\uDCBB',
    gscr: '\u210A',
    hscr: '\uD835\uDCBD',
    iscr: '\uD835\uDCBE',
    jscr: '\uD835\uDCBF',
    kscr: '\uD835\uDCC0',
    lscr: '\uD835\uDCC1',
    mscr: '\uD835\uDCC2',
    nscr: '\uD835\uDCC3',
    oscr: '\u2134',
    pscr: '\uD835\uDCC5',
    qscr: '\uD835\uDCC6',
    rscr: '\uD835\uDCC7',
    sscr: '\uD835\uDCC8',
    tscr: '\uD835\uDCC9',
    uscr: '\uD835\uDCCA',
    vscr: '\uD835\uDCCB',
    wscr: '\uD835\uDCCC',
    xscr: '\uD835\uDCCD',
    yscr: '\uD835\uDCCE',
    zscr: '\uD835\uDCCF'
}, 'scr');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2429">


import * as Entities from '../Entities.js';

Entities.add({
    THORN: '\u00DE',
    TRADE: '\u2122',
    TSHcy: '\u040B',
    TScy: '\u0426',
    Tab: '\u0009',
    Tau: '\u03A4',
    Tcaron: '\u0164',
    Tcedil: '\u0162',
    Tcy: '\u0422',
    ThickSpace: '\u205F\u200A',
    ThinSpace: '\u2009',
    TripleDot: '\u20DB',
    Tstrok: '\u0166',
    target: '\u2316',
    tbrk: '\u23B4',
    tcaron: '\u0165',
    tcedil: '\u0163',
    tcy: '\u0442',
    tdot: '\u20DB',
    telrec: '\u2315',
    there4: '\u2234',
    therefore: '\u2234',
    thetasym: '\u03D1',
    thickapprox: '\u2248',
    thicksim: '\u223C',
    thinsp: '\u2009',
    thkap: '\u2248',
    thksim: '\u223C',
    thorn: '\u00FE',
    timesb: '\u22A0',
    timesbar: '\u2A31',
    timesd: '\u2A30',
    tint: '\u222D',
    toea: '\u2928',
    top: '\u22A4',
    topbot: '\u2336',
    topcir: '\u2AF1',
    topfork: '\u2ADA',
    tosa: '\u2929',
    tprime: '\u2034',
    trade: '\u2122',
    triangledown: '\u25BF',
    triangleleft: '\u25C3',
    trianglelefteq: '\u22B4',
    triangleright: '\u25B9',
    trianglerighteq: '\u22B5',
    tridot: '\u25EC',
    trie: '\u225C',
    triminus: '\u2A3A',
    triplus: '\u2A39',
    trisb: '\u29CD',
    tritime: '\u2A3B',
    trpezium: '\u23E2',
    tscy: '\u0446',
    tshcy: '\u045B',
    tstrok: '\u0167',
    twixt: '\u226C',
    twoheadleftarrow: '\u219E',
    twoheadrightarrow: '\u21A0'
}, 't');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.243"></t>
<t tx="ekr.20211016054411.2430">


import * as Entities from '../Entities.js';

Entities.add({
    Uacute: '\u00DA',
    Uarr: '\u219F',
    Uarrocir: '\u2949',
    Ubrcy: '\u040E',
    Ubreve: '\u016C',
    Ucirc: '\u00DB',
    Ucy: '\u0423',
    Udblac: '\u0170',
    Ugrave: '\u00D9',
    Umacr: '\u016A',
    UnderBracket: '\u23B5',
    UnderParenthesis: '\u23DD',
    Uogon: '\u0172',
    UpArrowBar: '\u2912',
    UpArrowDownArrow: '\u21C5',
    UpEquilibrium: '\u296E',
    UpTeeArrow: '\u21A5',
    UpperLeftArrow: '\u2196',
    UpperRightArrow: '\u2197',
    Upsi: '\u03D2',
    Uring: '\u016E',
    Utilde: '\u0168',
    Uuml: '\u00DC',
    uArr: '\u21D1',
    uHar: '\u2963',
    uacute: '\u00FA',
    uarr: '\u2191',
    ubrcy: '\u045E',
    ubreve: '\u016D',
    ucirc: '\u00FB',
    ucy: '\u0443',
    udarr: '\u21C5',
    udblac: '\u0171',
    udhar: '\u296E',
    ufisht: '\u297E',
    ugrave: '\u00F9',
    uharl: '\u21BF',
    uharr: '\u21BE',
    uhblk: '\u2580',
    ulcorn: '\u231C',
    ulcorner: '\u231C',
    ulcrop: '\u230F',
    ultri: '\u25F8',
    umacr: '\u016B',
    uml: '\u00A8',
    uogon: '\u0173',
    uparrow: '\u2191',
    updownarrow: '\u2195',
    upharpoonleft: '\u21BF',
    upharpoonright: '\u21BE',
    uplus: '\u228E',
    upsih: '\u03D2',
    upsilon: '\u03C5',
    urcorn: '\u231D',
    urcorner: '\u231D',
    urcrop: '\u230E',
    uring: '\u016F',
    urtri: '\u25F9',
    utdot: '\u22F0',
    utilde: '\u0169',
    utri: '\u25B5',
    utrif: '\u25B4',
    uuarr: '\u21C8',
    uuml: '\u00FC',
    uwangle: '\u29A7'
}, 'u');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2431">


import * as Entities from '../Entities.js';

Entities.add({
    VDash: '\u22AB',
    Vbar: '\u2AEB',
    Vcy: '\u0412',
    Vdashl: '\u2AE6',
    Verbar: '\u2016',
    Vert: '\u2016',
    VerticalLine: '\u007C',
    VerticalSeparator: '\u2758',
    VeryThinSpace: '\u200A',
    vArr: '\u21D5',
    vBar: '\u2AE8',
    vBarv: '\u2AE9',
    vDash: '\u22A8',
    vangrt: '\u299C',
    varepsilon: '\u03F5',
    varkappa: '\u03F0',
    varnothing: '\u2205',
    varphi: '\u03D5',
    varpi: '\u03D6',
    varpropto: '\u221D',
    varr: '\u2195',
    varrho: '\u03F1',
    varsigma: '\u03C2',
    varsubsetneq: '\u228A\uFE00',
    varsubsetneqq: '\u2ACB\uFE00',
    varsupsetneq: '\u228B\uFE00',
    varsupsetneqq: '\u2ACC\uFE00',
    vartheta: '\u03D1',
    vartriangleleft: '\u22B2',
    vartriangleright: '\u22B3',
    vcy: '\u0432',
    vdash: '\u22A2',
    vee: '\u2228',
    veeeq: '\u225A',
    verbar: '\u007C',
    vert: '\u007C',
    vltri: '\u22B2',
    vnsub: '\u2282\u20D2',
    vnsup: '\u2283\u20D2',
    vprop: '\u221D',
    vrtri: '\u22B3',
    vsubnE: '\u2ACB\uFE00',
    vsubne: '\u228A\uFE00',
    vsupnE: '\u2ACC\uFE00',
    vsupne: '\u228B\uFE00',
    vzigzag: '\u299A'
}, 'v');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2432">


import * as Entities from '../Entities.js';

Entities.add({
    Wcirc: '\u0174',
    wcirc: '\u0175',
    wedbar: '\u2A5F',
    wedge: '\u2227',
    wedgeq: '\u2259',
    wp: '\u2118',
    wr: '\u2240',
    wreath: '\u2240'
}, 'w');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2433">


import * as Entities from '../Entities.js';

Entities.add({
    xcap: '\u22C2',
    xcirc: '\u25EF',
    xcup: '\u22C3',
    xdtri: '\u25BD',
    xhArr: '\u27FA',
    xharr: '\u27F7',
    xlArr: '\u27F8',
    xlarr: '\u27F5',
    xmap: '\u27FC',
    xnis: '\u22FB',
    xodot: '\u2A00',
    xoplus: '\u2A01',
    xotime: '\u2A02',
    xrArr: '\u27F9',
    xrarr: '\u27F6',
    xsqcup: '\u2A06',
    xuplus: '\u2A04',
    xutri: '\u25B3',
    xvee: '\u22C1',
    xwedge: '\u22C0'
}, 'x');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2434">


import * as Entities from '../Entities.js';

Entities.add({
    YAcy: '\u042F',
    YIcy: '\u0407',
    YUcy: '\u042E',
    Yacute: '\u00DD',
    Ycirc: '\u0176',
    Ycy: '\u042B',
    Yuml: '\u0178',
    yacute: '\u00FD',
    yacy: '\u044F',
    ycirc: '\u0177',
    ycy: '\u044B',
    yicy: '\u0457',
    yucy: '\u044E',
    yuml: '\u00FF'
}, 'y');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.2435">


import * as Entities from '../Entities.js';

Entities.add({
    ZHcy: '\u0416',
    Zacute: '\u0179',
    Zcaron: '\u017D',
    Zcy: '\u0417',
    Zdot: '\u017B',
    ZeroWidthSpace: '\u200B',
    Zeta: '\u0396',
    zacute: '\u017A',
    zcaron: '\u017E',
    zcy: '\u0437',
    zdot: '\u017C',
    zeetrf: '\u2128',
    zhcy: '\u0436',
    zwj: '\u200D',
    zwnj: '\u200C'
}, 'z');
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.244">


/**
 * @fileoverview  Mixin that adds hidden MathML to the output
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {Handler} from '../core/Handler.js';
import {MathDocument, AbstractMathDocument, MathDocumentConstructor} from '../core/MathDocument.js';
import {MathItem, AbstractMathItem, STATE, newState} from '../core/MathItem.js';
import {MmlNode} from '../core/MmlTree/MmlNode.js';
import {SerializedMmlVisitor} from '../core/MmlTree/SerializedMmlVisitor.js';
import {OptionList, expandable} from '../util/Options.js';
import {StyleList} from '../util/StyleList.js';

/*==========================================================================*/

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.245">export class LimitedMmlVisitor extends SerializedMmlVisitor {

  /**
   * @override
   */
  protected getAttributes(node: MmlNode): string {
    /**
     * Remove id from attribute output
     */
    return super.getAttributes(node).replace(/ ?id=".*?"/, '');
  }

}

/**
 * Generic constructor for Mixins
 */
export type Constructor&lt;T&gt; = new(...args: any[]) =&gt; T;

/*==========================================================================*/

/**
 * Add STATE value for having assistive MathML (after TYPESETTING)
 */
newState('ASSISTIVEMML', 153);

</t>
<t tx="ekr.20211016054411.246">/**
 * The functions added to MathItem for assistive MathML
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export interface AssistiveMmlMathItem&lt;N, T, D&gt; extends MathItem&lt;N, T, D&gt; {
  /**
   * @param {MathDocument} document  The document where assistive MathML is being added
   * @param {boolean} force          True to force assistive MathML even if enableAssistiveMml is false
   */
  assistiveMml(document: MathDocument&lt;N, T, D&gt;, force?: boolean): void;
}

/**
 * The mixin for adding assistive MathML to MathItems
 *
 * @param {B} BaseMathItem      The MathItem class to be extended
 * @return {AssistiveMathItem}  The augmented MathItem class
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 * @template B  The MathItem class to extend
 */
export function AssistiveMmlMathItemMixin&lt;N, T, D, B extends Constructor&lt;AbstractMathItem&lt;N, T, D&gt;&gt;&gt;(
  BaseMathItem: B
): Constructor&lt;AssistiveMmlMathItem&lt;N, T, D&gt;&gt; &amp; B {

  return class extends BaseMathItem {

    
</t>
<t tx="ekr.20211016054411.247">/**
     * @param {MathDocument} document   The MathDocument for the MathItem
     * @param {boolean} force           True to force assistive MathML evenif enableAssistiveMml is false
     */
    public assistiveMml(document: AssistiveMmlMathDocument&lt;N, T, D&gt;, force: boolean = false) {
      if (this.state() &gt;= STATE.ASSISTIVEMML) return;
      if (!this.isEscaped &amp;&amp; (document.options.enableAssistiveMml || force)) {
        const adaptor = document.adaptor;
        //
        // Get the serialized MathML
        //
        const mml = document.toMML(this.root).replace(/\n */g, '').replace(/&lt;!--.*?--&gt;/g, '');
        //
        // Parse is as HTML and retrieve the &lt;math&gt; element
        //
        const mmlNodes = adaptor.firstChild(adaptor.body(adaptor.parse(mml, 'text/html')));
        //
        // Create a container for the hidden MathML
        //
        const node = adaptor.node('mjx-assistive-mml', {
          unselectable: 'on', display: (this.display ? 'block' : 'inline')
        }, [mmlNodes]);
        //
        // Hide the typeset math from assistive technology and append the MathML that is visually
        //   hidden from other users
        //
        adaptor.setAttribute(adaptor.firstChild(this.typesetRoot) as N, 'aria-hidden', 'true');
        adaptor.setStyle(this.typesetRoot, 'position', 'relative');
        adaptor.append(this.typesetRoot, node);
      }
      this.state(STATE.ASSISTIVEMML);
    }

  };

}

/*==========================================================================*/

</t>
<t tx="ekr.20211016054411.248">/**
 * The functions added to MathDocument for assistive MathML
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export interface AssistiveMmlMathDocument&lt;N, T, D&gt; extends AbstractMathDocument&lt;N, T, D&gt; {

  /**
   * @param {MmlNode} node   The node to be serializes
   * @return {string}        The serialization of the node
   */
  toMML: (node: MmlNode) =&gt; string;

  /**
   * Add assistive MathML to the MathItems in the MathDocument
   *
   * @return {AssistiveMmlMathDocument}   The MathDocument (so calls can be chained)
   */
  assistiveMml(): AssistiveMmlMathDocument&lt;N, T, D&gt;;

}

/**
 * The mixin for adding assistive MathML to MathDocuments
 *
 * @param {B} BaseDocument         The MathDocument class to be extended
 * @return {AssistiveMmlMathDocument}  The Assistive MathML MathDocument class
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 * @template B  The MathDocument class to extend
 */
export function AssistiveMmlMathDocumentMixin&lt;N, T, D,
B extends MathDocumentConstructor&lt;AbstractMathDocument&lt;N, T, D&gt;&gt;&gt;(
  BaseDocument: B
): MathDocumentConstructor&lt;AssistiveMmlMathDocument&lt;N, T, D&gt;&gt; &amp; B {

  return class BaseClass extends BaseDocument {

    /**
     * @override
     */
    public static OPTIONS: OptionList = {
      ...BaseDocument.OPTIONS,
      enableAssistiveMml: true,
      renderActions: expandable({
        ...BaseDocument.OPTIONS.renderActions,
        assistiveMml: [STATE.ASSISTIVEMML]
      })
    };

    /**
     * styles needed for the hidden MathML
     */
    public static assistiveStyles: StyleList = {
      'mjx-assistive-mml': {
        position: 'absolute !important',
        top: '0px', left: '0px',
        clip: 'rect(1px, 1px, 1px, 1px)',
        padding: '1px 0px 0px 0px !important',
        border: '0px !important',
        display: 'block !important',
        width: 'auto !important',
        overflow: 'hidden !important',
        /*
         *  Don't allow the assistive MathML to become part of the selection
         */
        '-webkit-touch-callout': 'none',
        '-webkit-user-select': 'none',
        '-khtml-user-select': 'none',
        '-moz-user-select': 'none',
        '-ms-user-select': 'none',
        'user-select': 'none'
      },
      'mjx-assistive-mml[display="block"]': {
        width: '100% !important'
      }
    };

    /**
     * Visitor used for serializing internal MathML nodes
     */
    protected visitor: LimitedMmlVisitor;

    
</t>
<t tx="ekr.20211016054411.249">/**
     * Augment the MathItem class used for this MathDocument, and create the serialization visitor.
     *
     * @override
     * @constructor
     */
constructor(...args: any[]) {
  super(...args);
  const CLASS = (this.constructor as typeof BaseClass);
  const ProcessBits = CLASS.ProcessBits;
  if (!ProcessBits.has('assistive-mml')) {
    ProcessBits.allocate('assistive-mml');
  }
  this.visitor = new LimitedMmlVisitor(this.mmlFactory);
  this.options.MathItem =
    AssistiveMmlMathItemMixin&lt;N, T, D, Constructor&lt;AbstractMathItem&lt;N, T, D&gt;&gt;&gt;(
      this.options.MathItem
    );
  if ('addStyles' in this) {
    (this as any).addStyles(CLASS.assistiveStyles);
  }
}

</t>
<t tx="ekr.20211016054411.25">
import './lib/semantic-enrich.js';

import {combineDefaults} from '../../../../js/components/global.js';
import {sreReady} from '../../../../js/a11y/sre.js';
import {EnrichHandler} from '../../../../js/a11y/semantic-enrich.js';
import {MathML} from '../../../../js/input/mathml.js';

if (MathJax.loader) {
  combineDefaults(MathJax.config.loader, 'a11y/semantic-enrich', {checkReady: () =&gt; sreReady()});
}

if (MathJax.startup) {
  MathJax.startup.extendHandler(handler =&gt; EnrichHandler(handler, new MathML()));
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.250">/**
 * @param {MmlNode} node   The node to be serializes
 * @return {string}        The serialization of the node
 */
public toMML(node: MmlNode): string {
  return this.visitor.visitTree(node);
}

</t>
<t tx="ekr.20211016054411.251">/**
 * Add assistive MathML to the MathItems in this MathDocument
 */
public assistiveMml() {
  if (!this.processed.isSet('assistive-mml')) {
    for (const math of this.math) {
      (math as AssistiveMmlMathItem&lt;N, T, D&gt;).assistiveMml(this);
    }
    this.processed.set('assistive-mml');
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.252">/**
 * @override
 */
    public state(state: number, restore: boolean = false) {
      super.state(state, restore);
      if (state &lt; STATE.ASSISTIVEMML) {
        this.processed.clear('assistive-mml');
      }
      return this;
    }

  };

}

/*==========================================================================*/

</t>
<t tx="ekr.20211016054411.253">/**
 * Add assitive MathML support a Handler instance
 *
 * @param {Handler} handler   The Handler instance to enhance
 * @return {Handler}          The handler that was modified (for purposes of chainging extensions)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export function AssistiveMmlHandler&lt;N, T, D&gt;(handler: Handler&lt;N, T, D&gt;): Handler&lt;N, T, D&gt; {
  handler.documentClass =
    AssistiveMmlMathDocumentMixin&lt;N, T, D, MathDocumentConstructor&lt;AbstractMathDocument&lt;N, T, D&gt;&gt;&gt;(
      handler.documentClass
    );
  return handler;
}
</t>
<t tx="ekr.20211016054411.254">


/**
 * @fileoverview  Mixin that computes complexity of the internal MathML
 *                and optionally marks collapsible items
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {Handler} from '../core/Handler.js';
import {MathDocumentConstructor} from '../core/MathDocument.js';
import {STATE, newState} from '../core/MathItem.js';
import {MathML} from '../input/mathml.js';
import {MmlNode} from '../core/MmlTree/MmlNode.js';
import {EnrichHandler, EnrichedMathItem, EnrichedMathDocument} from './semantic-enrich.js';
import {ComplexityVisitor} from './complexity/visitor.js';
import {OptionList, selectOptionsFromKeys, expandable} from '../util/Options.js';

/**
 * Generic constructor for Mixins
 */
export type Constructor&lt;T&gt; = new(...args: any[]) =&gt; T;

/**
 * Shorthands for constructors
 */
export type EMItemC&lt;N, T, D&gt; = Constructor&lt;EnrichedMathItem&lt;N, T, D&gt;&gt;;
export type CMItemC&lt;N, T, D&gt; = Constructor&lt;ComplexityMathItem&lt;N, T, D&gt;&gt;;
export type EMDocC&lt;N, T, D&gt; =  MathDocumentConstructor&lt;EnrichedMathDocument&lt;N, T, D&gt;&gt;;
export type CMDocC&lt;N, T, D&gt; = Constructor&lt;ComplexityMathDocument&lt;N, T, D&gt;&gt;;

/*==========================================================================*/

/**
 * Add STATE value for having complexity added (after ENRICHED and before TYPESET)
 */
newState('COMPLEXITY', 40);

/**
 * The functions added to MathItem for complexity
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.255">export interface ComplexityMathItem&lt;N, T, D&gt; extends EnrichedMathItem&lt;N, T, D&gt; {

  /**
   * @param {ComplexityMathDocument} document   The MathDocument for the MathItem
   * @param {boolean} force                     True to force the computation even if enableComplexity is false
   */
  complexity(document: ComplexityMathDocument&lt;N, T, D&gt;, force?: boolean): void;

}

/**
 * The mixin for adding complexity to MathItems
 *
 * @param {B} BaseMathItem       The MathItem class to be extended
 * @param {function(MmlNode): void} computeComplexity Method of complexity computation.
 * @return {ComplexityMathItem}  The complexity MathItem class
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 * @template B  The MathItem class to extend
 */
export function ComplexityMathItemMixin&lt;N, T, D, B extends
EMItemC&lt;N, T, D&gt;&gt;(BaseMathItem: B, computeComplexity: (node: MmlNode) =&gt; void): CMItemC&lt;N, T, D&gt; &amp; B {

  return class extends BaseMathItem {

    
</t>
<t tx="ekr.20211016054411.256">/**
     * @param {ComplexityMathDocument} document   The MathDocument for the MathItem
     * @param {boolean} force                     True to force the computation even if enableComplexity is false
     */
    public complexity(document: ComplexityMathDocument&lt;N, T, D&gt;, force: boolean = false) {
      if (this.state() &gt;= STATE.COMPLEXITY) return;
      if (!this.isEscaped &amp;&amp; (document.options.enableComplexity || force)) {
        this.enrich(document, true);
        computeComplexity(this.root);
      }
      this.state(STATE.COMPLEXITY);
    }

  };

}

/*==========================================================================*/

</t>
<t tx="ekr.20211016054411.257">/**
 * The functions added to MathDocument for complexity
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export interface ComplexityMathDocument&lt;N, T, D&gt; extends EnrichedMathDocument&lt;N, T, D&gt; {
  /**
   * Perform complexity computations on the MathItems in the MathDocument
   *
   * @return {ComplexityMathDocument}   The MathDocument (so calls can be chained)
   */
  complexity(): ComplexityMathDocument&lt;N, T, D&gt;;
}

/**
 * The mixin for adding complexity to MathDocuments
 *
 * @param {B} BaseDocument     The MathDocument class to be extended
 * @return {EnrichedMathDocument}  The enriched MathDocument class
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 * @template B  The MathDocument class to extend
 */
export function ComplexityMathDocumentMixin&lt;N, T, D, B extends
EMDocC&lt;N, T, D&gt;&gt;(BaseDocument: B): CMDocC&lt;N, T, D&gt; &amp; B {

  return class extends BaseDocument {

    /**
     * The options for this type of document
     */
    public static OPTIONS: OptionList = {
      ...BaseDocument.OPTIONS,
      ...ComplexityVisitor.OPTIONS,
      enableComplexity: true,
      ComplexityVisitor: ComplexityVisitor,
      renderActions: expandable({
        ...BaseDocument.OPTIONS.renderActions,
        complexity: [STATE.COMPLEXITY]
      })
    };

    /**
     * The visitor that computes complexities
     */
    protected complexityVisitor: ComplexityVisitor;

    
</t>
<t tx="ekr.20211016054411.258">/**
     * Extend the MathItem class used for this MathDocument
     *
     * @override
     * @constructor
     */
constructor(...args: any[]) {
  super(...args);
  const ProcessBits = (this.constructor as typeof BaseDocument).ProcessBits;
  if (!ProcessBits.has('complexity')) {
    ProcessBits.allocate('complexity');
  }
  const visitorOptions = selectOptionsFromKeys(this.options, this.options.ComplexityVisitor.OPTIONS);
  this.complexityVisitor = new this.options.ComplexityVisitor(this.mmlFactory, visitorOptions);
  const computeComplexity = ((node: MmlNode) =&gt; this.complexityVisitor.visitTree(node));
  this.options.MathItem =
    ComplexityMathItemMixin&lt;N, T, D, EMItemC&lt;N, T, D&gt;&gt;(
      this.options.MathItem, computeComplexity
    );
}

</t>
<t tx="ekr.20211016054411.259">/**
 * Compute the complexity the MathItems in this MathDocument
 */
public complexity() {
  if (!this.processed.isSet('complexity')) {
    if (this.options.enableComplexity) {
      for (const math of this.math) {
        (math as ComplexityMathItem&lt;N, T, D&gt;).complexity(this);
      }
    }
    this.processed.set('complexity');
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.26">
const PACKAGE = require('../../../webpack.common.js');

module.exports = PACKAGE(
  'a11y/semantic-enrich',             // the package to build
  '../../../../js',                   // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/mml/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.260">/**
 * @override
 */
    public state(state: number, restore: boolean = false) {
      super.state(state, restore);
      if (state &lt; STATE.COMPLEXITY) {
        this.processed.clear('complexity');
      }
      return this;
    }

  };

}

/*==========================================================================*/

/**
 * Add complexity computations a Handler instance
 *
 * @param {Handler} handler   The Handler instance to enhance
 * @param {MathML} MmlJax     The MathML input jax to use for reading the enriched MathML
 * @return {Handler}          The handler that was modified (for purposes of chainging extensions)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export function ComplexityHandler&lt;N, T, D&gt;(
  handler: Handler&lt;N, T, D&gt;,
  MmlJax: MathML&lt;N, T, D&gt; = null
): Handler&lt;N, T, D&gt; {
  if (!handler.documentClass.prototype.enrich &amp;&amp; MmlJax) {
    handler = EnrichHandler(handler, MmlJax);
  }
  handler.documentClass = ComplexityMathDocumentMixin&lt;N, T, D, EMDocC&lt;N, T, D&gt;&gt;(handler.documentClass as any);
  return handler;
}
</t>
<t tx="ekr.20211016054411.261">


/**
 * @fileoverview  Mixin that implements the Explorer
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {Handler} from '../core/Handler.js';
import {MmlNode} from '../core/MmlTree/MmlNode.js';
import {MathML} from '../input/mathml.js';
import {STATE, newState} from '../core/MathItem.js';
import {EnrichedMathItem, EnrichedMathDocument, EnrichHandler} from './semantic-enrich.js';
import {MathDocumentConstructor} from '../core/MathDocument.js';
import {OptionList, expandable} from '../util/Options.js';
import {SerializedMmlVisitor} from '../core/MmlTree/SerializedMmlVisitor.js';
import {MJContextMenu} from '../ui/menu/MJContextMenu.js';

import {Explorer} from './explorer/Explorer.js';
import * as ke from './explorer/KeyExplorer.js';
import * as me from './explorer/MouseExplorer.js';
import {TreeColorer, FlameColorer} from './explorer/TreeExplorer.js';
import {LiveRegion, ToolTip, HoverRegion} from './explorer/Region.js';

import {Submenu} from 'mj-context-menu/js/item_submenu.js';

/**
 * Generic constructor for Mixins
 */
export type Constructor&lt;T&gt; = new(...args: any[]) =&gt; T;

/**
 * Shorthands for types with HTMLElement, Text, and Document instead of generics
 */
export type HANDLER = Handler&lt;HTMLElement, Text, Document&gt;;
export type HTMLDOCUMENT = EnrichedMathDocument&lt;HTMLElement, Text, Document&gt;;
export type HTMLMATHITEM = EnrichedMathItem&lt;HTMLElement, Text, Document&gt;;
export type MATHML = MathML&lt;HTMLElement, Text, Document&gt;;

/*==========================================================================*/

/**
 * Add STATE value for having the Explorer added (after TYPESET and before INSERTED or CONTEXT_MENU)
 */
newState('EXPLORER', 160);

/**
 * The properties added to MathItem for the Explorer
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.262">export interface ExplorerMathItem extends HTMLMATHITEM {

  /**
   * @param {HTMLDocument} document  The document where the Explorer is being added
   * @param {boolean} force          True to force the explorer even if enableExplorer is false
   */
  explorable(document: HTMLDOCUMENT, force?: boolean): void;

  /**
   * @param {HTMLDocument} document  The document where the Explorer is being added
   */
  attachExplorers(document: HTMLDOCUMENT): void;
}

/**
 * The mixin for adding the Explorer to MathItems
 *
 * @param {B} BaseMathItem      The MathItem class to be extended
 * @param {Function} toMathML   The function to serialize the internal MathML
 * @returns {ExplorerMathItem}  The Explorer MathItem class
 *
 * @template B  The MathItem class to extend
 */
export function ExplorerMathItemMixin&lt;B extends Constructor&lt;HTMLMATHITEM&gt;&gt;(
  BaseMathItem: B,
  toMathML: (node: MmlNode) =&gt; string
): Constructor&lt;ExplorerMathItem&gt; &amp; B {

  return class extends BaseMathItem {

    /**
     * The Explorer objects for this math item
     */
    protected explorers: {[key: string]: Explorer} = {};

    /**
     * The currently attached explorers
     */
    protected attached: string[] = [];

    /**
     * True when a rerendered element should restart these explorers
     */
    protected restart: string[] = [];

    /**
     * True when a rerendered element should regain the focus
     */
    protected refocus: boolean = false;

    /**
     * Save explorer id during rerendering.
     */
    protected savedId: string = null;

    
</t>
<t tx="ekr.20211016054411.263">/**
     * Add the explorer to the output for this math item
     *
     * @param {HTMLDocument} document   The MathDocument for the MathItem
     * @param {boolean} force           True to force the explorer even if enableExplorer is false
     */
public explorable(document: ExplorerMathDocument, force: boolean = false) {
  if (this.state() &gt;= STATE.EXPLORER) return;
  if (!this.isEscaped &amp;&amp; (document.options.enableExplorer || force)) {
    const node = this.typesetRoot;
    const mml = toMathML(this.root);
    if (this.savedId) {
      this.typesetRoot.setAttribute('sre-explorer-id', this.savedId);
      this.savedId = null;
    }
    // Init explorers:
    this.explorers = initExplorers(document, node, mml);
    this.attachExplorers(document);
  }
  this.state(STATE.EXPLORER);
}

</t>
<t tx="ekr.20211016054411.264">/**
 * Attaches the explorers that are currently meant to be active given
 * the document options. Detaches all others.
 * @param {ExplorerMathDocument} document The current document.
 */
public attachExplorers(document: ExplorerMathDocument) {
  this.attached = [];
  let keyExplorers = [];
  for (let key of Object.keys(this.explorers)) {
    let explorer = this.explorers[key];
    if (explorer instanceof ke.AbstractKeyExplorer) {
      explorer.AddEvents();
      explorer.stoppable = false;
      keyExplorers.unshift(explorer);
    }
    if (document.options.a11y[key]) {
      explorer.Attach();
      this.attached.push(key);
    } else {
      explorer.Detach();
    }
  }
  // Ensure that the last currently attached key explorer stops propagating
  // key events.
  for (let explorer of keyExplorers) {
    if (explorer.attached) {
      explorer.stoppable = true;
      break;
    }
  }
}

</t>
<t tx="ekr.20211016054411.265">/**
 * @override
 */
public rerender(document: ExplorerMathDocument, start: number = STATE.RERENDER) {
  this.savedId = this.typesetRoot.getAttribute('sre-explorer-id');
  this.refocus = (window.document.activeElement === this.typesetRoot);
  for (let key of this.attached) {
    let explorer = this.explorers[key];
    if (explorer.active) {
      this.restart.push(key);
      explorer.Stop();
    }
  }
  super.rerender(document, start);
}

</t>
<t tx="ekr.20211016054411.266">/**
 * @override
 */
    public updateDocument(document: ExplorerMathDocument) {
      super.updateDocument(document);
      this.refocus &amp;&amp; this.typesetRoot.focus();
      this.restart.forEach(x =&gt; this.explorers[x].Start());
      this.restart = [];
      this.refocus = false;
    }

  };

}

</t>
<t tx="ekr.20211016054411.267">/**
 * The functions added to MathDocument for the Explorer
 */
export interface ExplorerMathDocument extends HTMLDOCUMENT {

  /**
   * The objects needed for the explorer
   */
  explorerRegions: ExplorerRegions;

  /**
   * Add the Explorer to the MathItems in the MathDocument
   *
   * @returns {MathDocument}   The MathDocument (so calls can be chained)
   */
  explorable(): HTMLDOCUMENT;

}

/**
 * The mixin for adding the Explorer to MathDocuments
 *
 * @param {B} BaseDocument      The MathDocument class to be extended
 * @returns {ExplorerMathDocument}  The extended MathDocument class
 */
export function ExplorerMathDocumentMixin&lt;B extends MathDocumentConstructor&lt;HTMLDOCUMENT&gt;&gt;(
  BaseDocument: B
): MathDocumentConstructor&lt;ExplorerMathDocument&gt; &amp; B {

  return class extends BaseDocument {

    /**
     * @override
     */
    public static OPTIONS: OptionList = {
      ...BaseDocument.OPTIONS,
      enableExplorer: true,
      renderActions: expandable({
        ...BaseDocument.OPTIONS.renderActions,
        explorable: [STATE.EXPLORER]
      }),
      sre: expandable({
        ...BaseDocument.OPTIONS.sre,
        speech: 'shallow',                 // overrides option in EnrichedMathDocument
      }),
      a11y: {
        align: 'top',                      // placement of magnified expression
        backgroundColor: 'Blue',           // color for background of selected sub-expression
        backgroundOpacity: 20,             // opacity for background of selected sub-expression
        braille: false,                    // switch on Braille output
        flame: false,                      // color collapsible sub-expressions
        foregroundColor: 'Black',          // color to use for text of selected sub-expression
        foregroundOpacity: 100,            // opacity for text of selected sub-expression
        highlight: 'None',                 // type of highlighting for collapsible sub-expressions
        hover: false,                      // show collapsible sub-expression on mouse hovering
        infoPrefix: false,                 // show speech prefixes on mouse hovering
        infoRole: false,                   // show semantic role on mouse hovering
        infoType: false,                   // show semantic type on mouse hovering
        keyMagnifier: false,               // switch on magnification via key exploration
        magnification: 'None',             // type of magnification
        magnify: '400%',                   // percentage of magnification of zoomed expressions
        mouseMagnifier: false,             // switch on magnification via mouse hovering
        speech: true,                      // switch on speech output
        subtitles: true,                   // show speech as a subtitle
        treeColoring: false,               // tree color expression
        viewBraille: false                 // display Braille output as subtitles
      }
    };

    /**
     * The objects needed for the explorer
     */
    public explorerRegions: ExplorerRegions;

    
</t>
<t tx="ekr.20211016054411.268">/**
     * Extend the MathItem class used for this MathDocument
     *   and create the visitor and explorer objects needed for the explorer
     *
     * @override
     * @constructor
     */
constructor(...args: any[]) {
  super(...args);
  const ProcessBits = (this.constructor as typeof BaseDocument).ProcessBits;
  if (!ProcessBits.has('explorer')) {
    ProcessBits.allocate('explorer');
  }
  const visitor = new SerializedMmlVisitor(this.mmlFactory);
  const toMathML = ((node: MmlNode) =&gt; visitor.visitTree(node));
  this.options.MathItem = ExplorerMathItemMixin(this.options.MathItem, toMathML);
  // TODO: set backward compatibility options here.
  this.explorerRegions = initExplorerRegions(this);
}

</t>
<t tx="ekr.20211016054411.269">/**
 * Add the Explorer to the MathItems in this MathDocument
 *
 * @return {ExplorerMathDocument}   The MathDocument (so calls can be chained)
 */
public explorable(): ExplorerMathDocument {
  if (!this.processed.isSet('explorer')) {
    if (this.options.enableExplorer) {
      for (const math of this.math) {
        (math as ExplorerMathItem).explorable(this);
      }
    }
    this.processed.set('explorer');
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.27"></t>
<t tx="ekr.20211016054411.270">/**
 * @override
 */
    public state(state: number, restore: boolean = false) {
      super.state(state, restore);
      if (state &lt; STATE.EXPLORER) {
        this.processed.clear('explorer');
      }
      return this;
    }

  };

}


/*==========================================================================*/

</t>
<t tx="ekr.20211016054411.271">/**
 * Add Explorer functions to a Handler instance
 *
 * @param {Handler} handler   The Handler instance to enhance
 * @param {MathML} MmlJax     A MathML input jax to be used for the semantic enrichment
 * @returns {Handler}         The handler that was modified (for purposes of chainging extensions)
 */
export function ExplorerHandler(handler: HANDLER, MmlJax: MATHML = null): HANDLER {
  if (!handler.documentClass.prototype.enrich &amp;&amp; MmlJax) {
    handler = EnrichHandler(handler, MmlJax);
  }
  handler.documentClass = ExplorerMathDocumentMixin(handler.documentClass as any);
  return handler;
}


/*==========================================================================*/

/**
 * The regions objects needed for the explorers.
 */
export type ExplorerRegions = {
  speechRegion?: LiveRegion,
  brailleRegion?: LiveRegion,
  magnifier?: HoverRegion,
  tooltip1?: ToolTip,
  tooltip2?: ToolTip,
  tooltip3?: ToolTip
};


</t>
<t tx="ekr.20211016054411.272">/**
 * Initializes the regions needed for a document.
 * @param {ExplorerMathDocument} document The current document.
 */
function initExplorerRegions(document: ExplorerMathDocument) {
  return {
    speechRegion: new LiveRegion(document),
    brailleRegion: new LiveRegion(document),
    magnifier: new HoverRegion(document),
    tooltip1: new ToolTip(document),
    tooltip2: new ToolTip(document),
    tooltip3: new ToolTip(document)
  };
}



/**
 * Type of explorer initialization methods.
 * @type {(ExplorerMathDocument, HTMLElement, any[]): Explorer}
 */
type ExplorerInit = (doc: ExplorerMathDocument,
                     node: HTMLElement, ...rest: any[]) =&gt; Explorer;

/**
 *  Generation methods for all MathJax explorers available via option settings.
 */
let allExplorers: {[options: string]: ExplorerInit} = {
  speech: (doc: ExplorerMathDocument, node: HTMLElement, ...rest: any[]) =&gt; {
    let explorer = ke.SpeechExplorer.create(
      doc, doc.explorerRegions.speechRegion, node, ...rest) as ke.SpeechExplorer;
    explorer.speechGenerator.setOptions({
      locale: doc.options.sre.locale, domain: doc.options.sre.domain,
      style: doc.options.sre.style, modality: 'speech', cache: false});
    explorer.showRegion = 'subtitles';
    return explorer;
  },
  braille: (doc: ExplorerMathDocument, node: HTMLElement, ...rest: any[]) =&gt; {
    let explorer = ke.SpeechExplorer.create(
      doc, doc.explorerRegions.brailleRegion, node, ...rest) as ke.SpeechExplorer;
    explorer.speechGenerator.setOptions({locale: 'nemeth', domain: 'default',
                                         style: 'default', modality: 'braille'});
    explorer.showRegion = 'viewBraille';
    return explorer;
  },
  keyMagnifier: (doc: ExplorerMathDocument, node: HTMLElement, ...rest: any[]) =&gt;
    ke.Magnifier.create(doc, doc.explorerRegions.magnifier, node, ...rest),
  mouseMagnifier: (doc: ExplorerMathDocument, node: HTMLElement, ..._rest: any[]) =&gt;
    me.ContentHoverer.create(doc, doc.explorerRegions.magnifier, node,
                             (x: HTMLElement) =&gt; x.hasAttribute('data-semantic-type'),
                             (x: HTMLElement) =&gt; x),
  hover: (doc: ExplorerMathDocument, node: HTMLElement, ..._rest: any[]) =&gt;
    me.FlameHoverer.create(doc, null, node),
  infoType: (doc: ExplorerMathDocument, node: HTMLElement, ..._rest: any[]) =&gt;
    me.ValueHoverer.create(doc, doc.explorerRegions.tooltip1, node,
                           (x: HTMLElement) =&gt; x.hasAttribute('data-semantic-type'),
                           (x: HTMLElement) =&gt; x.getAttribute('data-semantic-type')),
  infoRole: (doc: ExplorerMathDocument, node: HTMLElement, ..._rest: any[]) =&gt;
    me.ValueHoverer.create(doc, doc.explorerRegions.tooltip2, node,
                           (x: HTMLElement) =&gt; x.hasAttribute('data-semantic-role'),
                           (x: HTMLElement) =&gt; x.getAttribute('data-semantic-role')),
  infoPrefix: (doc: ExplorerMathDocument, node: HTMLElement, ..._rest: any[]) =&gt;
    me.ValueHoverer.create(doc, doc.explorerRegions.tooltip3, node,
                           (x: HTMLElement) =&gt; x.hasAttribute('data-semantic-prefix'),
                           (x: HTMLElement) =&gt; x.getAttribute('data-semantic-prefix')),
  flame: (doc: ExplorerMathDocument, node: HTMLElement, ..._rest: any[]) =&gt;
    FlameColorer.create(doc, null, node),
  treeColoring: (doc: ExplorerMathDocument, node: HTMLElement, ...rest: any[]) =&gt;
    TreeColorer.create(doc, null, node, ...rest)
};


</t>
<t tx="ekr.20211016054411.273">/**
 * Initialises explorers for a document.
 * @param {ExplorerMathDocument} document The target document.
 * @param {HTMLElement} node The node explorers will be attached to.
 * @param {string} mml The corresponding Mathml node as a string.
 * @return {Explorer[]} A list of initialised explorers.
 */
function initExplorers(document: ExplorerMathDocument, node: HTMLElement, mml: string): {[key: string]: Explorer} {
  let explorers: {[key: string]: Explorer} = {};
  for (let key of Object.keys(allExplorers)) {
    explorers[key] = allExplorers[key](document, node, mml);
  }
  return explorers;
}


/* Context Menu Interactions */

</t>
<t tx="ekr.20211016054411.274">/**
 * Sets a list of a11y options for a given document.
 * @param {HTMLDOCUMENT} document The current document.
 * @param {{[key: string]: any}} options Association list for a11y option value pairs.
 */
export function setA11yOptions(document: HTMLDOCUMENT, options: {[key: string]: any}) {
  let sreOptions = SRE.engineSetup() as {[name: string]: string};
  for (let key in options) {
    if (document.options.a11y[key] !== undefined) {
      setA11yOption(document, key, options[key]);
      if (key === 'locale') {
        document.options.sre[key] = options[key];
      }
      continue;
    }
    if (sreOptions[key] !== undefined) {
      document.options.sre[key] = options[key];
    }
  }
  // Reinit explorers
  for (let item of document.math) {
    (item as ExplorerMathItem).attachExplorers(document as ExplorerMathDocument);
  }
}


</t>
<t tx="ekr.20211016054411.275">/**
 * Sets a single a11y option for a menu name.
 * @param {HTMLDOCUMENT} document The current document.
 * @param {string} option The option name in the menu.
 * @param {string|boolean} value The new value.
 */
export function setA11yOption(document: HTMLDOCUMENT, option: string, value: string | boolean) {
  switch (option) {
  case 'magnification':
    switch (value) {
    case 'None':
      document.options.a11y.magnification = value;
      document.options.a11y.keyMagnifier = false;
      document.options.a11y.mouseMagnifier = false;
      break;
    case 'Keyboard':
      document.options.a11y.magnification = value;
      document.options.a11y.keyMagnifier = true;
      document.options.a11y.mouseMagnifier = false;
      break;
    case 'Mouse':
      document.options.a11y.magnification = value;
      document.options.a11y.keyMagnifier = false;
      document.options.a11y.mouseMagnifier = true;
      break;
    }
    break;
  case 'highlight':
    switch (value) {
    case 'None':
      document.options.a11y.highlight = value;
      document.options.a11y.hover = false;
      document.options.a11y.flame = false;
      break;
    case 'Hover':
      document.options.a11y.highlight = value;
      document.options.a11y.hover = true;
      document.options.a11y.flame = false;
      break;
    case 'Flame':
      document.options.a11y.highlight = value;
      document.options.a11y.hover = false;
      document.options.a11y.flame = true;
      break;
    }
    break;
  default:
    document.options.a11y[option] = value;
  }
}

/**
 * Values for the ClearSpeak preference variables.
 */
let csPrefsSetting: {[pref: string]: string} = {};

/**
 * Generator of all variables for the Clearspeak Preference settings.
 * @param {MJContextMenu} menu The current context menu.
 * @param {string[]} prefs The preferences.
 */
let csPrefsVariables = function(menu: MJContextMenu, prefs: string[]) {
  let srVariable = menu.pool.lookup('speechRules');
  for (let pref of prefs) {
    if (csPrefsSetting[pref]) continue;
    menu.factory.get('variable')(menu.factory, {
      name: 'csprf_' + pref,
      setter: (value: string) =&gt; {
        csPrefsSetting[pref] = value;
          srVariable.setValue(
          'clearspeak-' +
            sre.ClearspeakPreferences.addPreference(
              sre.Engine.DOMAIN_TO_STYLES['clearspeak'], pref, value)
        );
      },
      getter: () =&gt; { return csPrefsSetting[pref] || 'Auto'; }
    }, menu.pool);
  }
};

/**
 * Generate the selection box for the Clearspeak Preferences.
 * @param {MJContextMenu} menu The current context menu.
 * @param {string} locale The current locale.
 */
let csSelectionBox = function(menu: MJContextMenu, locale: string) {
  let prefs = sre.ClearspeakPreferences.getLocalePreferences();
  let props = prefs[locale];
  if (!props) {
    let csEntry = menu.findID('Accessibility', 'Speech', 'Clearspeak');
    if (csEntry) {
      csEntry.disable();
    }
    return null;
  }
  csPrefsVariables(menu, Object.keys(props));
  let items = [];
  for (const prop of Object.getOwnPropertyNames(props)) {
    items.push({
      'title': prop,
      'values': props[prop].map(x =&gt; x.replace(RegExp('^' + prop + '_'), '')),
      'variable': 'csprf_' + prop
    });
  }
  let sb = menu.factory.get('selectionBox')(menu.factory, {
    'title': 'Clearspeak Preferences',
    'signature': '',
    'order': 'alphabetic',
    'grid': 'square',
    'selections': items
  }, menu);
  return {'type': 'command',
          'id': 'ClearspeakPreferences',
          'content': 'Select Preferences',
          'action': () =&gt; sb.post(0, 0)};
};

/**
 * Creates dynamic clearspeak menu.
 * @param {MJContextMenu} menu The context menu.
 * @param {Submenu} sub The submenu to attach.
 */
let csMenu = function(menu: MJContextMenu, sub: Submenu) {
  let locale = menu.pool.lookup('locale').getValue() as string;
  const box = csSelectionBox(menu, locale);
  let items: Object[] = [];
  try {
    items = sre.ClearspeakPreferences.smartPreferences(
      menu.mathItem, locale);
  } catch (e) {}
  if (box) {
    items.splice(2, 0, box);
  }
  return menu.factory.get('subMenu')(menu.factory, {
    items: items,
    id: 'Clearspeak'
  }, sub);
};

MJContextMenu.DynamicSubmenus.set('Clearspeak', csMenu);

/**
 * Locale mapping to language names.
 * @type {{[locale: string]: string}}
 */
const iso: {[locale: string]: string} = {
  'de': 'German',
  'en': 'English',
  'es': 'Spanish',
  'fr': 'French',
  'hi': 'Hindi',
  'it': 'Italian'
};

/**
 * Creates dynamic locale menu.
 * @param {MJContextMenu} menu The context menu.
 * @param {Submenu} sub The submenu to attach.
 */
let language = function(menu: MJContextMenu, sub: Submenu) {
  let radios: {type: string, id: string,
               content: string, variable: string}[] = [];
  for (let lang of sre.Variables.LOCALES) {
    if (lang === 'nemeth') continue;
    radios.push({type: 'radio', id: lang,
                 content: iso[lang] || lang, variable: 'locale'});
  }
  radios.sort((x, y) =&gt; x.content.localeCompare(y.content, 'en'));
  return menu.factory.get('subMenu')(menu.factory, {
    items: radios, id: 'Language'}, sub);
};

MJContextMenu.DynamicSubmenus.set('A11yLanguage', language);
</t>
<t tx="ekr.20211016054411.276">


/**
 * @fileoverview  Mixin that adds semantic enrichment to internal MathML
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {mathjax} from '../mathjax.js';
import {Handler} from '../core/Handler.js';
import {MathDocument, AbstractMathDocument, MathDocumentConstructor} from '../core/MathDocument.js';
import {MathItem, AbstractMathItem, STATE, newState} from '../core/MathItem.js';
import {MmlNode} from '../core/MmlTree/MmlNode.js';
import {MathML} from '../input/mathml.js';
import {SerializedMmlVisitor} from '../core/MmlTree/SerializedMmlVisitor.js';
import {OptionList, expandable} from '../util/Options.js';

import {sreReady} from './sre.js';

/*==========================================================================*/

/**
 *  The current speech setting for SRE
 */
let currentSpeech = 'none';

/**
 * Generic constructor for Mixins
 */
export type Constructor&lt;T&gt; = new(...args: any[]) =&gt; T;

/*==========================================================================*/

/**
 * Add STATE value for being enriched (after COMPILED and before TYPESET)
 */
newState('ENRICHED', 30);

/**
 * Add STATE value for adding speech (after TYPESET)
 */
newState('ATTACHSPEECH', 155);


/**
 * The functions added to MathItem for enrichment
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.277">export interface EnrichedMathItem&lt;N, T, D&gt; extends MathItem&lt;N, T, D&gt; {

  /**
   * @param {MathDocument} document  The document where enrichment is occurring
   * @param {boolean} force          True to force the enrichment even if not enabled
   */
  enrich(document: MathDocument&lt;N, T, D&gt;, force?: boolean): void;

  /**
   * @param {MathDocument} document  The document where enrichment is occurring
   */
  attachSpeech(document: MathDocument&lt;N, T, D&gt;): void;
}

/**
 * The mixin for adding enrichment to MathItems
 *
 * @param {B} BaseMathItem     The MathItem class to be extended
 * @param {MathML} MmlJax      The MathML input jax used to convert the enriched MathML
 * @param {Function} toMathML  The function to serialize the internal MathML
 * @return {EnrichedMathItem}  The enriched MathItem class
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 * @template B  The MathItem class to extend
 */
export function EnrichedMathItemMixin&lt;N, T, D, B extends Constructor&lt;AbstractMathItem&lt;N, T, D&gt;&gt;&gt;(
  BaseMathItem: B,
  MmlJax: MathML&lt;N, T, D&gt;,
  toMathML: (node: MmlNode) =&gt; string
): Constructor&lt;EnrichedMathItem&lt;N, T, D&gt;&gt; &amp; B {

  return class extends BaseMathItem {

    /**
     * @param {any} node  The node to be serialized
     * @return {string}   The serialized version of node
     */
    protected serializeMml(node: any): string {
      if ('outerHTML' in node) {
        return node.outerHTML;
      }
      //
      //  For IE11
      //
      if (typeof Element !== 'undefined' &amp;&amp; typeof window !== 'undefined' &amp;&amp; node instanceof Element) {
        const div = window.document.createElement('div');
        div.appendChild(node);
        return div.innerHTML;
      }
      //
      //  For NodeJS version of SRE
      //
      return node.toString();
    }

    
</t>
<t tx="ekr.20211016054411.278">/**
     * @param {MathDocument} document   The MathDocument for the MathItem
     * @param {boolean} force           True to force the enrichment even if not enabled
     */
public enrich(document: MathDocument&lt;N, T, D&gt;, force: boolean = false) {
  if (this.state() &gt;= STATE.ENRICHED) return;
  if (!this.isEscaped &amp;&amp; (document.options.enableEnrichment || force)) {
    if (typeof sre === 'undefined' || !sre.Engine.isReady()) {
      mathjax.retryAfter(sreReady());
    }
    if (document.options.sre.speech !== currentSpeech) {
      SRE.setupEngine(document.options.sre);
      currentSpeech = document.options.sre.speech;
    }
    const math = new document.options.MathItem('', MmlJax);
    try {
      const mml = this.inputData.originalMml = toMathML(this.root);
      math.math = this.serializeMml(SRE.toEnriched(mml));
      math.display = this.display;
      math.compile(document);
      this.root = math.root;
      this.inputData.enrichedMml = math.math;
    } catch (err) {
      document.options.enrichError(document, this, err);
    }
  }
  this.state(STATE.ENRICHED);
}

</t>
<t tx="ekr.20211016054411.279">/**
 * @param {MathDocument} document   The MathDocument for the MathItem
 */
public attachSpeech(document: MathDocument&lt;N, T, D&gt;) {
  if (this.state() &gt;= STATE.ATTACHSPEECH) return;
  const attributes = this.root.attributes;
  const speech = (attributes.get('aria-label') ||
                  this.getSpeech(this.root)) as string;
  if (speech) {
    const adaptor = document.adaptor;
    const node = this.typesetRoot;
    adaptor.setAttribute(node, 'aria-label', speech);
    for (const child of adaptor.childNodes(node) as N[]) {
      adaptor.setAttribute(child, 'aria-hidden', 'true');
    }
  }
  this.state(STATE.ATTACHSPEECH);
}

</t>
<t tx="ekr.20211016054411.28"></t>
<t tx="ekr.20211016054411.280">/**
 * Retrieves the actual speech element that should be used as aria label.
 * @param {MmlNode} node The root node to search from.
 * @return {string} The speech content.
 */
    private getSpeech(node: MmlNode): string {
      const attributes = node.attributes;
      if (!attributes) return '';
      const speech = attributes.getExplicit('data-semantic-speech') as string;
      if (!attributes.getExplicit('data-semantic-parent') &amp;&amp; speech) {
        return speech;
      }
      for (let child of node.childNodes) {
        let value = this.getSpeech(child as MmlNode);
        if (value != null) {
          return value;
        }
      }
      return '';
    }

  };

}

/*==========================================================================*/

</t>
<t tx="ekr.20211016054411.281">/**
 * The functions added to MathDocument for enrichment
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export interface EnrichedMathDocument&lt;N, T, D&gt; extends AbstractMathDocument&lt;N, T, D&gt; {

  /**
   * Perform enrichment on the MathItems in the MathDocument
   *
   * @return {EnrichedMathDocument}   The MathDocument (so calls can be chained)
   */
  enrich(): EnrichedMathDocument&lt;N, T, D&gt;;

  /**
   * Attach speech to the MathItems in the MathDocument
   *
   * @return {EnrichedMathDocument}   The MathDocument (so calls can be chained)
   */
  attachSpeech(): EnrichedMathDocument&lt;N, T, D&gt;;

  /**
   * @param {EnrichedMathDocument} doc   The MathDocument for the error
   * @paarm {EnrichedMathItem} math      The MathItem causing the error
   * @param {Error} err                  The error being processed
   */
  enrichError(doc: EnrichedMathDocument&lt;N, T, D&gt;, math: EnrichedMathItem&lt;N, T, D&gt;, err: Error): void;
}

/**
 * The mixin for adding enrichment to MathDocuments
 *
 * @param {B} BaseDocument     The MathDocument class to be extended
 * @param {MathML} MmlJax          The MathML input jax used to convert the enriched MathML
 * @return {EnrichedMathDocument}  The enriched MathDocument class
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 * @template B  The MathDocument class to extend
 */
export function EnrichedMathDocumentMixin&lt;N, T, D, B extends MathDocumentConstructor&lt;AbstractMathDocument&lt;N, T, D&gt;&gt;&gt;(
  BaseDocument: B,
  MmlJax: MathML&lt;N, T, D&gt;,
): MathDocumentConstructor&lt;EnrichedMathDocument&lt;N, T, D&gt;&gt; &amp; B {

  return class extends BaseDocument {

    /**
     * @override
     */
    public static OPTIONS: OptionList = {
      ...BaseDocument.OPTIONS,
      enableEnrichment: true,
      enrichError: (doc: EnrichedMathDocument&lt;N, T, D&gt;,
                    math: EnrichedMathItem&lt;N, T, D&gt;,
                    err: Error) =&gt; doc.enrichError(doc, math, err),
      renderActions: expandable({
        ...BaseDocument.OPTIONS.renderActions,
        enrich:       [STATE.ENRICHED],
        attachSpeech: [STATE.ATTACHSPEECH]
      }),
      sre: expandable({
        speech: 'none',                    // by default no speech is included
        domain: 'mathspeak',               // speech rules domain
        style: 'default',                  // speech rules style
        locale: 'en'                       // switch the locale
      }),
    };

    
</t>
<t tx="ekr.20211016054411.282">/**
     * Enrich the MathItem class used for this MathDocument, and create the
     *   temporary MathItem used for enrchment
     *
     * @override
     * @constructor
     */
constructor(...args: any[]) {
  super(...args);
  MmlJax.setMmlFactory(this.mmlFactory);
  const ProcessBits = (this.constructor as typeof AbstractMathDocument).ProcessBits;
  if (!ProcessBits.has('enriched')) {
    ProcessBits.allocate('enriched');
    ProcessBits.allocate('attach-speech');
  }
  const visitor = new SerializedMmlVisitor(this.mmlFactory);
  const toMathML = ((node: MmlNode) =&gt; visitor.visitTree(node));
  this.options.MathItem =
    EnrichedMathItemMixin&lt;N, T, D, Constructor&lt;AbstractMathItem&lt;N, T, D&gt;&gt;&gt;(
      this.options.MathItem, MmlJax, toMathML
    );
}

</t>
<t tx="ekr.20211016054411.283">/**
 * Attach speech from a MathItem to a node
 */
public attachSpeech() {
  if (!this.processed.isSet('attach-speech')) {
    for (const math of this.math) {
      (math as EnrichedMathItem&lt;N, T, D&gt;).attachSpeech(this);
    }
    this.processed.set('attach-speech');
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.284">/**
 * Enrich the MathItems in this MathDocument
 */
public enrich() {
  if (!this.processed.isSet('enriched')) {
    if (this.options.enableEnrichment) {
      for (const math of this.math) {
        (math as EnrichedMathItem&lt;N, T, D&gt;).enrich(this);
      }
    }
    this.processed.set('enriched');
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.285">/**
 */
public enrichError(_doc: EnrichedMathDocument&lt;N, T, D&gt;, _math: EnrichedMathItem&lt;N, T, D&gt;, err: Error) {
  console.warn('Enrichment error:', err);
}

</t>
<t tx="ekr.20211016054411.286">/**
 * @override
 */
    public state(state: number, restore: boolean = false) {
      super.state(state, restore);
      if (state &lt; STATE.ENRICHED) {
        this.processed.clear('enriched');
      }
      return this;
    }

  };

}

/*==========================================================================*/

</t>
<t tx="ekr.20211016054411.287">/**
 * Add enrichment a Handler instance
 *
 * @param {Handler} handler   The Handler instance to enhance
 * @param {MathML} MmlJax     The MathML input jax to use for reading the enriched MathML
 * @return {Handler}          The handler that was modified (for purposes of chainging extensions)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export function EnrichHandler&lt;N, T, D&gt;(handler: Handler&lt;N, T, D&gt;, MmlJax: MathML&lt;N, T, D&gt;): Handler&lt;N, T, D&gt; {
  MmlJax.setAdaptor(handler.adaptor);
  handler.documentClass =
    EnrichedMathDocumentMixin&lt;N, T, D, MathDocumentConstructor&lt;AbstractMathDocument&lt;N, T, D&gt;&gt;&gt;(
      handler.documentClass, MmlJax
    );
  return handler;
}
</t>
<t tx="ekr.20211016054411.288">
declare module 'speech-rule-engine' {
  export function engineReady(): boolean;
}
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.289">


/**
 * @fileoverview  Loads SRE for node and creates the global sre variable
 *                with sre.Engine.isReady(), like in the browser version
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import * as SRE from 'speech-rule-engine';

declare const global: any;

/**
 * The global sre with sre.Engine.isReady() and sre.toEnriched()
 */
global.SRE = SRE;
global.sre = Object.create(SRE);
global.sre.Engine = {
  /**
   * @return {boolean}   True when SRE is ready
   */
  isReady(): boolean {
    return SRE.engineReady();
  }
};

export {};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.29">
import './lib/liteDOM.js';

import {liteAdaptor} from '../../../../js/adaptors/liteAdaptor.js';

if (MathJax.startup) {
  MathJax.startup.registerConstructor('liteAdaptor', liteAdaptor);
  MathJax.startup.useAdaptor('liteAdaptor', true);
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.290">


/**
 * @fileoverview  Loads SRE (if necessary) and provides a promise for
 *                when it is ready.
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {asyncLoad} from '../util/AsyncLoad.js';

/**
 * The name of the modiule to load, if necessary
 */
const SRELIB = (typeof window === 'undefined' ? './a11y/sre-node.js' :
                '../../../speech-rule-engine/lib/sre_browser.js');

/**
 * The promise for loading the SRE library, if it is not already loaded
 */
const srePromise = (typeof sre === 'undefined' ? asyncLoad(SRELIB) : Promise.resolve());

/**
 * Values to control the polling for when SRE is ready
 */
const SRE_DELAY = 100;         // in milliseconds
const SRE_TIMEOUT = 20 * 1000; // 20 seconds

/**
 * A promise that resolves when SRE is loaded and ready, and rejects if
 * SRE can't be loaded, or does not become ready within the timout period.
 */
export const sreReady = function() {
  return new Promise&lt;void&gt;((resolve, reject) =&gt; {
    srePromise.then(() =&gt; {
      const start = new Date().getTime();
      const checkSRE = function () {
        if (sre.Engine.isReady()) {
          resolve();
        } else {
          if (new Date().getTime() - start &lt; SRE_TIMEOUT) {
            setTimeout(checkSRE, SRE_DELAY);
          } else {
            reject('Timed out waiting for Speech-Rule-Engine');
          }
        }
      };
      checkSRE();
    }).catch((error: Error) =&gt; reject(error.message || error));
  });
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.291">
declare namespace sre {

  export type colorType = {color: string, alpha: number};
  export type colorString = {foreground: string, background: string};

  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.292">interface SpeechGenerator {
  generateSpeech(node: HTMLElement, xml: HTMLElement): void;
  setOptions(options: Object): void;
  getOptions(): {[key: string]: string};
}

</t>
<t tx="ekr.20211016054411.293">interface Highlighter {
  highlight(nodes: Node[]): void;
  unhighlight(): void;
  highlightAll(node: Node): void;
  unhighlightAll(node: Node): void;
  colorString(): colorString;
  isMactionNode(node: Node): boolean;
  colorizeAll(node: Node): void;
  uncolorizeAll(node: Node): void;
}

</t>
<t tx="ekr.20211016054411.294">interface Focus {
  getNodes(): Element[];
}

</t>
<t tx="ekr.20211016054411.295">  interface Walker {
    modifier: boolean;
    activate(): void;
    deactivate(): void;
    speech(): string;
    move(key: number): boolean;
    refocus(): void;
    getFocus(update?: boolean): Focus;
    update(options: {[key: string]: string}): void;
  }

}

declare namespace sre.WalkerFactory {
  export function walker(kind: string,
                         node: Node,
                         generator: SpeechGenerator,
                         highlighter: Highlighter,
                         mml: Node): Walker;
}

declare namespace sre.SpeechGeneratorFactory {
  export function generator(kind: string): sre.SpeechGenerator;
}

declare namespace sre.Engine {
  export const DOMAIN_TO_STYLES: {[rules: string]: string};
  export function isReady(): boolean;
}

declare namespace sre.HighlighterFactory {

  export function highlighter(fore: colorType,
                              back: colorType,
                              info: {renderer: string, browser?: string}
                             ): Highlighter;

}

declare namespace sre.ClearspeakPreferences {

  export function smartPreferences(item: Object, locale: string): Object[];

  export function getLocalePreferences(): {[locale: string]: {[pref: string]: string[]}};

  export function addPreference(previous: string, key: string, value: string): string;
}

declare namespace sre.Variables {
  export const LOCALES: string[];
}



declare namespace SRE {
  type config = {
    locale?: string,
    modality?: string,
    domain?: string,
    style?: string,
    markup?: string,
    speech?: string,
    semantics?: boolean,
    cache?: boolean
  };
  export function toEnriched(mml: string): void;
  export function setupEngine(obj: config): void;
  export function engineSetup(): config;
}
</t>
<t tx="ekr.20211016054411.296"></t>
<t tx="ekr.20211016054411.297">


/**
 * @fileoverview  Implements a class that marks complex items for collapsing
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MmlNode, AbstractMmlTokenNode, TextNode} from '../../core/MmlTree/MmlNode.js';
import {ComplexityVisitor} from './visitor.js';

/*==========================================================================*/

/**
 * Function for checking if a node should be collapsible
 */
export type CollapseFunction = (node: MmlNode, complexity: number) =&gt; number;

/**
 * Map of types to collase functions
 */
export type CollapseFunctionMap = Map&lt;string, CollapseFunction&gt;;

/**
 * A list of values indexed by semantic-type, possibly sub-indexed by semantic-role
 *
 * @template T   The type of the indexed item
 */
export type TypeRole&lt;T&gt; = {[type: string]: T | {[role: string]: T}};

/**
 * The class for determining of a subtree can be collapsed
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.298">export class Collapse {

    /**
     * A constant to use to indicate no collapsing
     */
    public static NOCOLLAPSE: number = 10000000; // really big complexity

    /**
     * The complexity object containing this one
     */
    public complexity: ComplexityVisitor;

    /**
     * The cutt-off complexity values for when a structure
     *   of the given type should collapse
     */
    public cutoff: TypeRole&lt;number&gt; = {
        identifier: 3,
        number: 3,
        text: 10,
        infixop: 15,
        relseq: 15,
        multirel: 15,
        fenced: 18,
        bigop: 20,
        integral: 20,
        fraction: 12,
        sqrt: 9,
        root: 12,
        vector: 15,
        matrix: 15,
        cases: 15,
        superscript: 9,
        subscript: 9,
        subsup: 9,
        punctuated: {
            endpunct: Collapse.NOCOLLAPSE,
            startpunct: Collapse.NOCOLLAPSE,
            value: 12
        }
    };

    /**
     *  These are the characters to use for the various collapsed elements
     *  (if an object, then semantic-role is used to get the character
     *  from the object)
     */
    public marker: TypeRole&lt;string&gt; = {
        identifier: 'x',
        number: '#',
        text: '...',
        appl: {
            'limit function': 'lim',
            value: 'f()'
        },
        fraction: '/',
        sqrt: '\u221A',
        root: '\u221A',
        superscript: '\u25FD\u02D9',
        subscript: '\u25FD.',
        subsup: '\u25FD:',
        vector: {
            binomial: '(:)',
            determinant: '|:|',
            value: '\u27E8:\u27E9'
        },
        matrix: {
            squarematrix: '[::]',
            rowvector: '\u27E8\u22EF\u27E9',
            columnvector: '\u27E8\u22EE\u27E9',
            determinant: '|::|',
            value: '(::)'
        },
        cases: '{:',
        infixop: {
            addition: '+',
            subtraction: '\u2212',
            multiplication: '\u22C5',
            implicit: '\u22C5',
            value: '+'
        },
        punctuated: {
            text: '...',
            value: ','
        }
    };

    /**
     * The type-to-function mapping for semantic types
     */
    public collapse: CollapseFunctionMap = new Map([

        //
        //  For fenced elements, if the contents are collapsed,
        //    collapse the fence instead.
        //
        ['fenced', (node, complexity) =&gt; {
            complexity = this.uncollapseChild(complexity, node, 1);
            if (complexity &gt; this.cutoff.fenced &amp;&amp; node.attributes.get('data-semantic-role') === 'leftright') {
                complexity = this.recordCollapse(
                    node, complexity,
                    this.getText(node.childNodes[0] as MmlNode) +
                        this.getText(node.childNodes[node.childNodes.length - 1] as MmlNode)
                );
            }
            return complexity;
        }],

        //
        //  Collapse function applications if the argument is collapsed
        //    (FIXME: Handle role="limit function" a bit better?)
        //
        ['appl', (node, complexity) =&gt; {
            if (this.canUncollapse(node, 2, 2)) {
                complexity = this.complexity.visitNode(node, false);
                const marker = this.marker.appl as {[name: string]: string};
                const text = marker[node.attributes.get('data-semantic-role') as string] || marker.value;
                complexity = this.recordCollapse(node, complexity, text);
            }
            return complexity;
        }],

        //
        //  For sqrt elements, if the contents are collapsed,
        //    collapse the sqrt instead.
        //
        ['sqrt', (node, complexity) =&gt; {
            complexity = this.uncollapseChild(complexity, node, 0);
            if (complexity &gt; this.cutoff.sqrt) {
                complexity = this.recordCollapse(node, complexity, this.marker.sqrt as string);
            }
            return complexity;
        }],
        ['root', (node, complexity) =&gt; {
            complexity = this.uncollapseChild(complexity, node, 0, 2);
            if (complexity &gt; this.cutoff.sqrt) {
                complexity = this.recordCollapse(node, complexity, this.marker.sqrt as string);
            }
            return complexity;
        }],

        //
        //  For enclose, include enclosure in collapse
        //
        ['enclose', (node, complexity) =&gt; {
            if (this.splitAttribute(node, 'children').length === 1) {
                const child = this.canUncollapse(node, 1);
                if (child) {
                    const marker = child.getProperty('collapse-marker') as string;
                    this.unrecordCollapse(child);
                    complexity = this.recordCollapse(node, this.complexity.visitNode(node, false), marker);
                }
            }
            return complexity;
        }],

        //
        //  For bigops, get the character to use from the largeop at its core.
        //
        ['bigop', (node, complexity) =&gt; {
            if (complexity &gt; this.cutoff.bigop || !node.isKind('mo')) {
                const id = this.splitAttribute(node, 'content').pop();
                const op = this.findChildText(node, id);
                complexity = this.recordCollapse(node, complexity, op);
            }
            return complexity;
        }],
        ['integral', (node, complexity) =&gt; {
            if (complexity &gt; this.cutoff.integral || !node.isKind('mo')) {
                const id = this.splitAttribute(node, 'content').pop();
                const op = this.findChildText(node, id);
                complexity = this.recordCollapse(node, complexity, op);
            }
            return complexity;
        }],

        //
        //  For relseq and multirel, use proper symbol
        //
        ['relseq', (node, complexity) =&gt; {
            if (complexity &gt; this.cutoff.relseq) {
                const id = this.splitAttribute(node, 'content')[0];
                const text = this.findChildText(node, id);
                complexity = this.recordCollapse(node, complexity, text);
            }
            return complexity;
        }],
        ['multirel', (node, complexity) =&gt; {
            if (complexity &gt; this.cutoff.relseq) {
                const id = this.splitAttribute(node, 'content')[0];
                const text = this.findChildText(node, id) + '\u22EF';
                complexity = this.recordCollapse(node, complexity, text);
            }
            return complexity;
        }],

        //
        //  Include super- and subscripts into a collapsed base
        //
        ['superscript', (node, complexity) =&gt; {
            complexity = this.uncollapseChild(complexity, node, 0, 2);
            if (complexity &gt; this.cutoff.superscript) {
                complexity = this.recordCollapse(node, complexity, this.marker.superscript as string);
            }
            return complexity;
        }],
        ['subscript', (node, complexity) =&gt; {
            complexity = this.uncollapseChild(complexity, node, 0, 2);
            if (complexity &gt; this.cutoff.subscript) {
                complexity = this.recordCollapse(node, complexity, this.marker.subscript as string);
            }
            return complexity;
        }],
        ['subsup', (node, complexity) =&gt; {
            complexity = this.uncollapseChild(complexity, node, 0, 3);
            if (complexity &gt; this.cutoff.subsup) {
                complexity = this.recordCollapse(node, complexity, this.marker.subsup as string);
            }
            return complexity;
        }]

    ] as [string, CollapseFunction][]);

    /**
     * The highest id number used for mactions so far
     */
    private idCount = 0;

    /**
     * @param {ComplexityVisitor} visitor  The visitor for computing complexities
     */
    @others
}
</t>
<t tx="ekr.20211016054411.299">constructor(visitor: ComplexityVisitor) {
    this.complexity = visitor;
}

</t>
<t tx="ekr.20211016054411.3"></t>
<t tx="ekr.20211016054411.30">
const PACKAGE = require('../../../webpack.common.js');

module.exports = PACKAGE(
  'adaptors/liteDOM',                 // the package to build
  '../../../../js',                   // location of the MathJax js library
  ['components/src/core/lib'],        // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.300">/**
 * Check if a node should be collapsible and insert the
 *  maction node to handle that.  Return the updated
 *  complexity.
 *
 * @param {MmlNode} node        The node to check
 * @param {number} complexity   The current complexity of the node
 * @return {number}             The revised complexity
 */
public check(node: MmlNode, complexity: number): number {
    const type = node.attributes.get('data-semantic-type') as string;
    if (this.collapse.has(type)) {
        return this.collapse.get(type).call(this, node, complexity);
    }
    if (this.cutoff.hasOwnProperty(type)) {
        return this.defaultCheck(node, complexity, type);
    }
    return complexity;
}

/**
 * Check if the complexity exceeds the cutoff value for the type
 *
 * @param {MmlNode} node        The node to check
 * @param {number} complexity   The current complexity of the node
 * @param {string} type         The semantic type of the node
 * @return {number}             The revised complexity
 */
protected defaultCheck(node: MmlNode, complexity: number, type: string): number {
    const role = node.attributes.get('data-semantic-role') as string;
    const check = this.cutoff[type];
    const cutoff = (typeof check === 'number' ? check : check[role] || check.value);
    if (complexity &gt; cutoff) {
        const marker = this.marker[type] || '??';
        const text = (typeof marker === 'string' ? marker : marker[role] || marker.value);
        complexity = this.recordCollapse(node, complexity, text);
    }
    return complexity;
}

/**
 * @param {MmlNode} node       The node to check
 * @param {number} complexity  The current complexity of the node
 * @param {string} text        The text to use for the collapsed node
 * @return {number}            The revised complexity for the collapsed node
 */
protected recordCollapse(node: MmlNode, complexity: number, text: string): number {
    text = '\u25C2' + text + '\u25B8';
    node.setProperty('collapse-marker', text);
    node.setProperty('collapse-complexity', complexity);
    return text.length * this.complexity.complexity.text;
}

/**
 * Remove collapse markers (to move them to a parent node)
 *
 * @param {MmlNode} node   The node to uncollapse
 */
protected unrecordCollapse(node: MmlNode) {
    const complexity = node.getProperty('collapse-complexity');
    if (complexity != null) {
        node.attributes.set('data-semantic-complexity', complexity);
        node.removeProperty('collapse-complexity');
        node.removeProperty('collapse-marker');
    }
}

/**
 * @param {MmlNode} node    The node to check if its child is collapsible
 * @param {number} n        The position of the child node to check
 * @param {number=} m       The number of children node must have
 * @return {MmlNode|null}   The child node that was collapsed (or null)
 */
protected canUncollapse(node: MmlNode, n: number, m: number = 1): MmlNode | null {
    if (this.splitAttribute(node, 'children').length === m) {
        const mml = (node.childNodes.length === 1 &amp;&amp;
                     (node.childNodes[0] as MmlNode).isInferred ? node.childNodes[0] as MmlNode : node);
        if (mml &amp;&amp; mml.childNodes[n]) {
            const child = mml.childNodes[n] as MmlNode;
            if (child.getProperty('collapse-marker')) {
                return child;
            }
        }
    }
    return null;
}

/**
 * @param {number} complexity   The current complexity
 * @param {MmlNode} node        The node to check
 * @param {number} n            The position of the child node to check
 * @param {number=} m           The number of children the node must have
 * @return {number}             The updated complexity
 */
protected uncollapseChild(complexity: number, node: MmlNode, n: number, m: number = 1): number {
    const child = this.canUncollapse(node, n, m);
    if (child) {
        this.unrecordCollapse(child);
        if (child.parent !== node) {
            child.parent.attributes.set('data-semantic-complexity', undefined);
        }
        complexity = this.complexity.visitNode(node, false) as number;
    }
    return complexity;
}

/**
 * @param {MmlNode} node   The node whose attribute is to be split
 * @param {string} id      The name of the data-semantic attribute to split
 * @return {string[]}      Array of ids in the attribute split at commas
 */
protected splitAttribute(node: MmlNode, id: string): string[] {
    return (node.attributes.get('data-semantic-' + id) as string || '').split(/,/);
}

/**
 * @param {MmlNode} node   The node whose text content is needed
 * @return{string}         The text of the node (and its children), combined
 */
protected getText(node: MmlNode): string {
    if (node.isToken) return (node as AbstractMmlTokenNode).getText();
    return node.childNodes.map((n: MmlNode) =&gt; this.getText(n)).join('');
}

/**
 * @param {MmlNode} node   The node whose child text is needed
 * @param {string} id      The (semantic) id of the child needed
 * @return {string}        The text of the specified child node
 */
protected findChildText(node: MmlNode, id: string): string {
    const child = this.findChild(node, id);
    return this.getText(child.coreMO() || child);
}

/**
 * @param {MmlNode} node    The node whose child is to be located
 * @param {string} id       The (semantic) id of the child to be found
 * @return {MmlNode|null}   The child node (or null if not found)
 */
protected findChild(node: MmlNode, id: string): MmlNode | null {
    if (!node || node.attributes.get('data-semantic-id') === id) return node;
    if (!node.isToken) {
        for (const mml of node.childNodes) {
            const child = this.findChild(mml as MmlNode, id);
            if (child) return child;
        }
    }
    return null;
}

</t>
<t tx="ekr.20211016054411.301">/**
 * Add maction nodes to the nodes in the tree that can collapse
 *
 * @paramn {MmlNode} node   The root of the tree to check
 */
public makeCollapse(node: MmlNode) {
    const nodes: MmlNode[] = [];
    node.walkTree((child: MmlNode) =&gt; {
        if (child.getProperty('collapse-marker')) {
            nodes.push(child);
        }
    });
    this.makeActions(nodes);
}

</t>
<t tx="ekr.20211016054411.302">/**
 * @param {MmlNode[]} nodes   The list of nodes to replace by maction nodes
 */
public makeActions(nodes: MmlNode[]) {
    for (const node of nodes) {
        this.makeAction(node);
    }
}

</t>
<t tx="ekr.20211016054411.303">/**
 * @return {string}   A unique id string.
 */
private makeId(): string {
    return 'mjx-collapse-' + this.idCount++;
}

</t>
<t tx="ekr.20211016054411.304">/**
 * @param {MmlNode} node   The node to make collapsible by replacing with an maction
 */
public makeAction(node: MmlNode) {
    if (node.isKind('math')) {
        node = this.addMrow(node);
    }
    const factory = this.complexity.factory;
    const marker = node.getProperty('collapse-marker') as string;
    const parent = node.parent;
    let maction = factory.create('maction', {
        actiontype: 'toggle',
        selection: 2,
        'data-collapsible': true,
        id: this.makeId(),
        'data-semantic-complexity': node.attributes.get('data-semantic-complexity')
    }, [
        factory.create('mtext', {mathcolor: 'blue'}, [
            (factory.create('text') as TextNode).setText(marker)
        ])
    ]);
    maction.inheritAttributesFrom(node);
    node.attributes.set('data-semantic-complexity', node.getProperty('collapse-complexity'));
    node.removeProperty('collapse-marker');
    node.removeProperty('collapse-complexity');
    parent.replaceChild(maction, node);
    maction.appendChild(node);
}

</t>
<t tx="ekr.20211016054411.305">/**
 * If the &lt;math&gt; node is to be collapsible, add an mrow to it instead so that we can wrap it
 *  in an maction (can't put one around the &lt;math&gt; node).
 *
 * @param {MmlNode} node  The math node to create an mrow for
 * @return {MmlNode}      The newly created mrow
 */
public addMrow(node: MmlNode): MmlNode {
    const mrow = this.complexity.factory.create('mrow', null, node.childNodes[0].childNodes as MmlNode[]);
    node.childNodes[0].setChildren([mrow]);

    const attributes = node.attributes.getAllAttributes();
    for (const name of Object.keys(attributes)) {
        if (name.substr(0, 14) === 'data-semantic-') {
            mrow.attributes.set(name, attributes[name]);
            delete attributes[name];
        }
    }

    mrow.setProperty('collapse-marker', node.getProperty('collapse-marker'));
    mrow.setProperty('collapse-complexity', node.getProperty('collapse-complexity'));
    node.removeProperty('collapse-marker');
    node.removeProperty('collapse-complexity');
    return mrow;
}
</t>
<t tx="ekr.20211016054411.306">


/**
 * @fileoverview  Implements a class that computes complexities for enriched math
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MmlNode, AbstractMmlTokenNode} from '../../core/MmlTree/MmlNode.js';
import {MmlMroot} from '../../core/MmlTree/MmlNodes/mroot.js';
import {MmlMaction} from '../../core/MmlTree/MmlNodes/maction.js';
import {MmlMsubsup, MmlMsub, MmlMsup} from '../../core/MmlTree/MmlNodes/msubsup.js';
import {MmlMunderover, MmlMunder, MmlMover} from '../../core/MmlTree/MmlNodes/munderover.js';
import {MmlVisitor} from '../../core/MmlTree/MmlVisitor.js';
import {MmlFactory} from '../../core/MmlTree/MmlFactory.js';
import {Collapse} from './collapse.js';
import {OptionList, userOptions, defaultOptions} from '../../util/Options.js';

/*==========================================================================*/

/**
 * A visitor pattern that computes complexities within the MathML tree
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.307">export class ComplexityVisitor extends MmlVisitor {

    /**
     * The options for handling collapsing
     */
    public static OPTIONS: OptionList = {
        identifyCollapsible: true,    // mark elements that should be collapsed
        makeCollapsible: true,        // insert maction to allow collapsing
        Collapse: Collapse            // the Collapse class to use
    };

    /**
     * Values used to compute complexities
     */
    public complexity: {[name: string]: number} = {
      text: .5,           // each character of a token element adds this to complexity
      token: .5,          // each token element gets this additional complexity
      child: 1,           // child nodes add this to their parent node's complexity

      script: .8,         // script elements reduce their complexity by this factor
      sqrt: 2,            // sqrt adds this extra complexity
      subsup: 2,          // sub-sup adds this extra complexity
      underover: 2,       // under-over adds this extra complexity
      fraction: 2,        // fractions add this extra complexity
      enclose: 2,         // menclose adds this extra complexity
      action: 2,          // maction adds this extra complexity
      phantom: 0,         // mphantom makes complexity 0?
      xml: 2,             // Can't really measure complexity of annotation-xml, so punt
      glyph: 2            // Can't really measure complexity of mglyph, to punt
    };

    /**
     * The object used to handle collapsable content
     */
    public collapse: Collapse;

    /**
     * The MmlFactory for this visitor
     */
    public factory: MmlFactory;

    /**
     * The options for this visitor
     */
    public options: OptionList;

    /**
     * @override
     */
    @others
}
</t>
<t tx="ekr.20211016054411.308">constructor(factory: MmlFactory, options: OptionList) {
    super(factory);
    let CLASS = this.constructor as typeof ComplexityVisitor;
    this.options = userOptions(defaultOptions({}, CLASS.OPTIONS), options);
    this.collapse = new this.options.Collapse(this);
    this.factory = factory;
}

/*==========================================================================*/

</t>
<t tx="ekr.20211016054411.309">/**
 * @override
 */
public visitTree(node: MmlNode) {
    super.visitTree(node, true);
    if (this.options.makeCollapsible) {
        this.collapse.makeCollapse(node);
    }
}

</t>
<t tx="ekr.20211016054411.31"></t>
<t tx="ekr.20211016054411.310">/**
 * @override
 */
public visitNode(node: MmlNode, save: boolean) {
    if (node.attributes.get('data-semantic-complexity')) return;
    return super.visitNode(node, save);
}

</t>
<t tx="ekr.20211016054411.311">/**
 * For token nodes, use the content length, otherwise, add up the child complexities
 *
 * @override
 */
public visitDefault(node: MmlNode, save: boolean) {
    let complexity;
    if (node.isToken) {
        const text = (node as AbstractMmlTokenNode).getText();
        complexity = this.complexity.text * text.length + this.complexity.token;
    } else {
        complexity = this.childrenComplexity(node);
    }
    return this.setComplexity(node, complexity, save);
}

/**
 * For a fraction, add the complexities of the children and scale by script factor, then
 *   add the fraction amount
 *
 * @param {MmlNode} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitMfracNode(node: MmlNode, save: boolean) {
    const complexity = this.childrenComplexity(node) * this.complexity.script + this.complexity.fraction;
    return this.setComplexity(node, complexity, save);
}

/**
 * For square roots, use the child complexity plus the sqrt complexity
 *
 * @param {MmlNode} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitMsqrtNode(node: MmlNode, save: boolean) {
    const complexity = this.childrenComplexity(node) + this.complexity.sqrt;
    return this.setComplexity(node, complexity, save);
}

/**
 * For roots, do the sqrt root computation and remove a bit for the root
 *   (since it is counted in the children sum but is smaller)
 *
 * @param {MmlMroot} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitMrootNode(node: MmlMroot, save: boolean) {
    const complexity = this.childrenComplexity(node) + this.complexity.sqrt
        - (1 - this.complexity.script) * this.getComplexity(node.childNodes[1]);
    return this.setComplexity(node, complexity, save);
}

/**
 * Phantom complexity is 0
 *
 * @param {MmlNode} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitMphantomNode(node: MmlNode, save: boolean) {
    return this.setComplexity(node, this.complexity.phantom, save);
}

/**
 * For ms, add the complexity of the quotes to that of the content, and use the
 *    length of that times the text factor as the complexity
 *
 * @param {MmlNode} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitMsNode(node: MmlNode, save: boolean) {
    const text = node.attributes.get('lquote')
               + (node as AbstractMmlTokenNode).getText()
               + node.attributes.get('rquote');
    const complexity = text.length * this.complexity.text;
    return this.setComplexity(node, complexity, save);
}

/**
 * For supscripts and superscripts use the maximum of the script complexities,
 *   multiply by the script factor, and add the base complexity.  Add the child
 *   complexity for each child, and the subsup complexity.
 *
 * @param {MmlMsubsup} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitMsubsupNode(node: MmlMsubsup, save: boolean) {
    super.visitDefault(node, true);
    const sub = node.childNodes[node.sub];
    const sup = node.childNodes[node.sup];
    const base = node.childNodes[node.base];
    let complexity = Math.max(
        sub ? this.getComplexity(sub) : 0,
        sup ? this.getComplexity(sup) : 0
    ) * this.complexity.script;
    complexity += this.complexity.child * ((sub ? 1 : 0) + (sup ? 1 : 0));
    complexity += (base ? this.getComplexity(base) + this.complexity.child : 0);
    complexity += this.complexity.subsup;
    return this.setComplexity(node, complexity, save);
}
/**
 * @param {MmlMsub} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitMsubNode(node: MmlMsub, save: boolean) {
    return this.visitMsubsupNode(node, save);
}
/**
 * @param {MmlMsup} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitMsupNode(node: MmlMsup, save: boolean) {
    return this.visitMsubsupNode(node, save);
}

/**
 * For under/over, get the maximum of the complexities of the under and over
 *   elements times the script factor, and that the maximum of that with the
 *   base complexity.  Add child complexity for all children, and add the
 *   underover amount.
 *
 * @param {MmlMunderover} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitMunderoverNode(node: MmlMunderover, save: boolean) {
    super.visitDefault(node, true);
    const under = node.childNodes[node.under];
    const over = node.childNodes[node.over];
    const base = node.childNodes[node.base];
    let complexity = Math.max(
        under ? this.getComplexity(under) : 0,
        over ? this.getComplexity(over) : 0,
    ) * this.complexity.script;
    if (base) {
        complexity = Math.max(this.getComplexity(base), complexity);
    }
    complexity += this.complexity.child * ((under ? 1 : 0) + (over ? 1 : 0) + (base ? 1 : 0));
    complexity += this.complexity.underover;
    return this.setComplexity(node, complexity, save);
}
/**
 * @param {MmlMunder} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitMunderNode(node: MmlMunder, save: boolean) {
    return this.visitMunderoverNode(node, save);
}
/**
 * @param {MmlMover} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitMoverNode(node: MmlMover, save: boolean) {
    return this.visitMunderoverNode(node, save);
}

/**
 * For enclose, use sum of child complexities plus some for the enclose
 *
 * @param {MmlNode} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitMencloseNode(node: MmlNode, save: boolean) {
    const complexity = this.childrenComplexity(node) + this.complexity.enclose;
    return this.setComplexity(node, complexity, save);
}

/**
 * For actions, use the complexity of the selected child
 *
 * @param {MmlMaction} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitMactionNode(node: MmlMaction, save: boolean) {
    this.childrenComplexity(node);
    const complexity = this.getComplexity(node.selected);
    return this.setComplexity(node, complexity, save);
}

/**
 * For semantics, get the complexity from the first child
 *
 * @param {MmlNode} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitMsemanticsNode(node: MmlNode, save: boolean) {
    const child = node.childNodes[0] as MmlNode;
    let complexity = 0;
    if (child) {
        this.visitNode(child, true);
        complexity = this.getComplexity(child);
    }
    return this.setComplexity(node, complexity, save);
}

/**
 * Can't really measure annotations, so just use a specific value
 *
 * @param {MmlNode} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitAnnotationNode(node: MmlNode, save: boolean) {
    return this.setComplexity(node, this.complexity.xml, save);
}

/**
 * Can't really measure annotations, so just use a specific value
 *
 * @param {MmlNode} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitAnnotation_xmlNode(node: MmlNode, save: boolean) {
    return this.setComplexity(node, this.complexity.xml, save);
}

/**
 * Can't really measure mglyph complexity, so just use a specific value
 *
 * @param {MmlNode} node   The node whose complixity is being computed
 * @param {boolean} save   True if the complexity is to be saved or just returned
 */
protected visitMglyphNode(node: MmlNode, save: boolean) {
    return this.setComplexity(node, this.complexity.glyph, save);
}

/*==========================================================================*/

</t>
<t tx="ekr.20211016054411.312">/**
 * @param {MmlNode} node   The node whose complixity is needed
 * @return {number}        The complexity fof the node (if collapsable, then the collapsed complexity)
 */
public getComplexity(node: MmlNode): number {
    const collapsed = node.getProperty('collapsedComplexity');
    return (collapsed != null ? collapsed : node.attributes.get('data-semantic-complexity')) as number;
}

/**
 * @param {MmlNode} node       The node whose complixity is being set
 * @param {complexity} number  The complexity for the node
 * @param {boolean} save       True if complexity is to be set or just reported
 */
protected setComplexity(node: MmlNode, complexity: number, save: boolean) {
    if (save) {
        if (this.options.identifyCollapsible) {
            complexity = this.collapse.check(node, complexity);
        }
        node.attributes.set('data-semantic-complexity', complexity);
    }
    return complexity;
}

/**
 * @param {MmlNode} node   The node whose children complexities are to be added
 * @return {number}        The sum of the complexities, plus child complexity for each one
 */
protected childrenComplexity(node: MmlNode): number {
    super.visitDefault(node, true);
    let complexity = 0;
    for (const child of node.childNodes) {
        complexity += this.getComplexity(child as MmlNode);
    }
    if (node.childNodes.length &gt; 1) {
        complexity += node.childNodes.length * this.complexity.child;
    }
    return complexity;
}

</t>
<t tx="ekr.20211016054411.313"></t>
<t tx="ekr.20211016054411.314">



/**
 * @fileoverview Explorers for A11Y purposes.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import {A11yDocument, Region} from './Region.js';
import '../sre.js';


/**
 * A11y explorers.
 * @interface
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.315">export interface Explorer {

  /**
   * Flag indicating if the explorer is active.
   * @type {boolean}
   */
  active: boolean;

  /**
   * Flag indicating if event bubbling is stopped.
   * @type {boolean}
   */
  stoppable: boolean;

  /**
   * Attaches navigator and its event handlers to a node.
   */
  Attach(): void;

  /**
   * Detaches navigator and its event handlers to a node.
   */
  Detach(): void;

  /**
   * Starts the explorer.
   */
  Start(): void;

  /**
   * Stops the explorer.
   */
  Stop(): void;


  /**
   * Adds the events of the explorer to the node's event listener.
   */
  AddEvents(): void;

  /**
   * Removes the events of the explorer from the node's event listener.
   */
  RemoveEvents(): void;

  /**
   * Update the explorer after state changes.
   * @param {boolean=} force Forces the update in any case. (E.g., even if
   *     explorer is inactive.)
   */
  Update(force?: boolean): void;

}


</t>
<t tx="ekr.20211016054411.316">/**
 * Abstract class implementing the very basic explorer functionality.
 *
 * Explorers use creator pattern to ensure they automatically attach themselves
 * to their node. This class provides the create method and is consequently not
 * declared abstract.
 *
 * @constructor
 * @implements {Explorer}
 *
 * @template T  The type that is consumed by the Region of this explorer.
 */
export class AbstractExplorer&lt;T&gt; implements Explorer {

  /**
   * @override
   */
  public stoppable: boolean = true;

  /**
   * Named events and their functions.
   * @type {[string, function(x: Event)][]}
   */
  protected events: [string, (x: Event) =&gt; void][] = [];

  /**
   * The SRE highlighter associated with the walker.
   * @type {sre.Highlighter}
   */
  protected highlighter: sre.Highlighter = this.getHighlighter();

  /**
   * Flag if explorer is active.
   * @type {boolean}
   */
  private _active: boolean = false;

  /**
   * Stops event bubbling.
   * @param {Event} event The event that is stopped.
   */
  protected static stopEvent(event: Event) {
    if (event.preventDefault) {
      event.preventDefault();
    } else {
      event.returnValue = false;
    }
    if (event.stopImmediatePropagation) {
      event.stopImmediatePropagation();
    } else if (event.stopPropagation) {
      event.stopPropagation();
    }
    event.cancelBubble = true;
  }

  /**
   * Creator pattern for explorers.
   * @param {A11yDocument} document The current document.
   * @param {Region&lt;T&gt;} region A region to display results.
   * @param {HTMLElement} node The node on which the explorer works.
   * @param {any[]} ...rest Remaining information.
   * @return {Explorer} An object of the particular explorer class.
   *
   * @template T
   */
  public static create&lt;T&gt;(
    document: A11yDocument,
    region: Region&lt;T&gt;,
    node: HTMLElement, ...rest: any[]
  ): Explorer {
    let explorer = new this(document, region, node, ...rest);
    return explorer;
  }

  /**
   * @constructor
   * @param {A11yDocument} document The current document.
   * @param {Region&lt;T&gt;} region A region to display results.
   * @param {HTMLElement} node The node on which the explorer works.
   * @param {any[]} ...rest Remaining information.
   */
  protected constructor(
    public document: A11yDocument,
    protected region: Region&lt;T&gt;,
    protected node: HTMLElement, ..._rest: any[]
  ) {
  }


  /**
   * @return {[string, (x: Event) =&gt; void][]} The events associated with this
   *     explorer.
   */
  protected Events(): [string, (x: Event) =&gt; void][] {
    return this.events;
  }


  /**
   * @override
   */
  public get active(): boolean {
    return this._active;
  }

  /**
   * @override
   */
  public set active(flag: boolean) {
    this._active = flag;
  }

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.317">public Attach() {
  this.AddEvents();
}

</t>
<t tx="ekr.20211016054411.318">/**
 * @override
 */
public Detach() {
  this.RemoveEvents();
}

</t>
<t tx="ekr.20211016054411.319">/**
 * @override
 */
public Start() {
  this.highlighter = this.getHighlighter();
  this.active = true;
}

</t>
<t tx="ekr.20211016054411.32">
import './lib/core.js';

import {HTMLHandler} from '../../../js/handlers/html/HTMLHandler.js';
import {browserAdaptor} from '../../../js/adaptors/browserAdaptor.js';

if (MathJax.startup) {
  MathJax.startup.registerConstructor('HTMLHandler', HTMLHandler);
  MathJax.startup.registerConstructor('browserAdaptor', browserAdaptor);
  MathJax.startup.useHandler('HTMLHandler');
  MathJax.startup.useAdaptor('browserAdaptor');
}
if (MathJax.loader) {
  MathJax._.mathjax.mathjax.asyncLoad = (name =&gt; MathJax.loader.load(name));
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.320">/**
 * @override
 */
public Stop() {
  if (this.active) {
    this.region.Clear();
    this.region.Hide();
    this.active = false;
  }
}

</t>
<t tx="ekr.20211016054411.321">/**
 * @override
 */
public AddEvents() {
  for (let [eventkind, eventfunc]  of this.events) {
    this.node.addEventListener(eventkind, eventfunc);
  }
}

</t>
<t tx="ekr.20211016054411.322">/**
 * @override
 */
public RemoveEvents() {
  for (let [eventkind, eventfunc]  of this.events) {
    this.node.removeEventListener(eventkind, eventfunc);
  }
}

/**
 * @override
 */
// @ts-ignore: unused variable
public Update(force: boolean = false): void {}


/**
 * @return {sre.Highlighter} A highlighter for the explorer.
 */
protected getHighlighter(): sre.Highlighter {
  let opts = this.document.options.a11y;
  let foreground = {color: opts.foregroundColor.toLowerCase(),
                    alpha: opts.foregroundOpacity / 100};
  let background = {color: opts.backgroundColor.toLowerCase(),
                    alpha: opts.backgroundOpacity / 100};
  return sre.HighlighterFactory.highlighter(
    background, foreground,
    {renderer: this.document.outputJax.name, browser: 'v3'});
}

/**
 * Stops the events of this explorer from bubbling.
 * @param {Event} event The event to stop.
 */
protected stopEvent(event: Event) {
  if (this.stoppable) {
    AbstractExplorer.stopEvent(event);
  }
}

</t>
<t tx="ekr.20211016054411.323">



/**
 * @fileoverview Explorers based on keyboard events.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import {A11yDocument, Region} from './Region.js';
import {Explorer, AbstractExplorer} from './Explorer.js';
import {sreReady} from '../sre.js';


/**
 * Interface for keyboard explorers. Adds the necessary keyboard events.
 * @interface
 * @extends {Explorer}
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.324">export interface KeyExplorer extends Explorer {

  /**
   * Function to be executed on key down.
   * @param {KeyboardEvent} event The keyboard event.
   */
  KeyDown(event: KeyboardEvent): void;

  /**
   * Function to be executed on focus in.
   * @param {KeyboardEvent} event The keyboard event.
   */
  FocusIn(event: FocusEvent): void;

  /**
   * Function to be executed on focus out.
   * @param {KeyboardEvent} event The keyboard event.
   */
  FocusOut(event: FocusEvent): void;

}


/**
 * @constructor
 * @extends {AbstractExplorer}
 *
 * @template T  The type that is consumed by the Region of this explorer.
 */
export abstract class AbstractKeyExplorer&lt;T&gt; extends AbstractExplorer&lt;T&gt; implements KeyExplorer {

  /**
   * Flag indicating if the explorer is attached to an object.
   */
  public attached: boolean = false;

  /**
   * The attached SRE walker.
   * @type {sre.Walker}
   */
  protected walker: sre.Walker;

  private eventsAttached: boolean = false;

  /**
   * @override
   */
  protected events: [string, (x: Event) =&gt; void][] =
    super.Events().concat(
      [['keydown', this.KeyDown.bind(this)],
       ['focusin', this.FocusIn.bind(this)],
       ['focusout', this.FocusOut.bind(this)]]);

  /**
   * The original tabindex value before explorer was attached.
   * @type {boolean}
   */
  private oldIndex: number = null;

  /**
   * @override
   */
  public abstract KeyDown(event: KeyboardEvent): void;

  
</t>
<t tx="ekr.20211016054411.325">/**
   * @override
   */
public FocusIn(_event: FocusEvent) {
}

</t>
<t tx="ekr.20211016054411.326">/**
 * @override
 */
public FocusOut(_event: FocusEvent) {
  this.Stop();
}

</t>
<t tx="ekr.20211016054411.327">/**
 * @override
 */
public Update(force: boolean = false) {
  if (!this.active &amp;&amp; !force) return;
  this.highlighter.unhighlight();
  let nodes = this.walker.getFocus(true).getNodes();
  if (!nodes.length) {
    this.walker.refocus();
    nodes = this.walker.getFocus().getNodes();
  }
  this.highlighter.highlight(nodes);
}

</t>
<t tx="ekr.20211016054411.328">/**
 * @override
 */
public Attach() {
  super.Attach();
  this.attached = true;
  this.oldIndex = this.node.tabIndex;
  this.node.tabIndex = 1;
  this.node.setAttribute('role', 'application');
}

</t>
<t tx="ekr.20211016054411.329">/**
 * @override
 */
public AddEvents() {
  if (!this.eventsAttached) {
    super.AddEvents();
    this.eventsAttached = true;
  }
}

</t>
<t tx="ekr.20211016054411.33">
const PACKAGE = require('../../webpack.common.js');

module.exports = PACKAGE(
  'core',                             // the package to build
  '../../../js',                      // location of the MathJax js library
  [],                                 // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.330">/**
 * @override
 */
public Detach() {
  if (this.active) {
    this.node.tabIndex = this.oldIndex;
    this.oldIndex = null;
    this.node.removeAttribute('role');
  }
  this.attached = false;
}

</t>
<t tx="ekr.20211016054411.331">/**
 * @override
 */
  public Stop() {
    if (this.active) {
      this.highlighter.unhighlight();
      this.walker.deactivate();
    }
    super.Stop();
  }

}


</t>
<t tx="ekr.20211016054411.332">/**
 * Explorer that pushes speech to live region.
 * @constructor
 * @extends {AbstractKeyExplorer}
 */
export class SpeechExplorer extends AbstractKeyExplorer&lt;string&gt; {

  /**
   * The SRE speech generator associated with the walker.
   * @type {sre.SpeechGenerator}
   */
  public speechGenerator: sre.SpeechGenerator;

  /**
   * The name of the option used to control when this is being shown
   * @type {string}
   */
  public showRegion: string = 'subtitles';

  private init: boolean = false;

  /**
   * Flag in case the start method is triggered before the walker is fully
   * initialised. I.e., we have to wait for SRE. Then region is re-shown if
   * necessary, as otherwise it leads to incorrect stacking.
   * @type {boolean}
   */
  private restarted: boolean = false;

  /**
   * @constructor
   * @extends {AbstractKeyExplorer}
   */
  constructor(public document: A11yDocument,
              protected region: Region&lt;string&gt;,
              protected node: HTMLElement,
              private mml: HTMLElement) {
    super(document, region, node);
    this.initWalker();
  }


  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.333">public Start() {
  if (!this.attached) return;
  let options = this.getOptions();
  // TODO: Check and set locale not only on init, but on every start.
  if (!this.init) {
    this.init = true;
    sreReady().then(() =&gt; {
      if (SRE.engineSetup().locale !== options.locale) {
        SRE.setupEngine({locale: options.locale});
      }
      sreReady().then(() =&gt; {
        this.Speech(this.walker);
        this.Start();
      });
    }).catch((error: Error) =&gt; console.log(error.message));
    return;
  }
  super.Start();
  this.speechGenerator = sre.SpeechGeneratorFactory.generator('Direct');
  this.speechGenerator.setOptions(options);
  this.walker = sre.WalkerFactory.walker(
    'table', this.node, this.speechGenerator, this.highlighter, this.mml);
  this.walker.activate();
  this.Update();
  if (this.document.options.a11y[this.showRegion]) {
    this.region.Show(this.node, this.highlighter);
  }
  this.restarted = true;
}


</t>
<t tx="ekr.20211016054411.334">/**
 * @override
 */
public Update(force: boolean = false) {
  super.Update(force);
  let options = this.speechGenerator.getOptions();
  SRE.setupEngine({modality: options.modality,
                   locale: options.locale});
  this.region.Update(this.walker.speech());
  // This is a necessary in case speech options have changed via keypress
  // during walking.
  if (options.modality === 'speech') {
    this.document.options.sre.domain = options.domain;
    this.document.options.sre.style = options.style;
    this.document.options.a11y.speechRules =
      options.domain + '-' + options.style;
  }
}


</t>
<t tx="ekr.20211016054411.335">/**
 * Computes the speech for the current expression once SRE is ready.
 * @param {sre.Walker} walker The sre walker.
 */
public Speech(walker: sre.Walker) {
  walker.speech();
  this.node.setAttribute('hasspeech', 'true');
  this.Update();
  if (this.restarted &amp;&amp; this.document.options.a11y[this.showRegion]) {
    this.region.Show(this.node, this.highlighter);
  }
}


</t>
<t tx="ekr.20211016054411.336">/**
 * @override
 */
public KeyDown(event: KeyboardEvent) {
  const code = event.keyCode;
  this.walker.modifier = event.shiftKey;
  if (code === 27) {
    this.Stop();
    this.stopEvent(event);
    return;
  }
  if (this.active) {
    this.Move(code);
    if (this.triggerLink(code)) return;
    this.stopEvent(event);
    return;
  }
  if (code === 32 &amp;&amp; event.shiftKey || code === 13) {
    this.Start();
    this.stopEvent(event);
  }
}

/**
 * Programmatically triggers a link if the focused node contains one.
 * @param {number} code The keycode of the last key pressed.
 */
protected triggerLink(code: number) {
  if (code !== 13) {
    return false;
  }
  let node = this.walker.getFocus().getNodes()?.[0];
  let focus = node?.
    getAttribute('data-semantic-postfix')?.
    match(/(^| )link($| )/);
  if (focus) {
    node.parentNode.dispatchEvent(new MouseEvent('click'));
    return true;
  }
  return false;
}

</t>
<t tx="ekr.20211016054411.337">/**
 * @override
 */
public Move(key: number) {
  this.walker.move(key);
  this.Update();
}

</t>
<t tx="ekr.20211016054411.338">/**
 * Initialises the SRE walker.
 */
private initWalker() {
  this.speechGenerator = sre.SpeechGeneratorFactory.generator('Tree');
  let dummy = sre.WalkerFactory.walker(
    'dummy', this.node, this.speechGenerator, this.highlighter, this.mml);
  this.walker = dummy;
}

</t>
<t tx="ekr.20211016054411.339">/**
 * Retrieves the speech options to sync with document options.
 * @return {{[key: string]: string}} The options settings for the speech
 *     generator.
 */
private getOptions(): {[key: string]: string} {
  let options = this.speechGenerator.getOptions();
  let sreOptions = this.document.options.sre;
  if (options.modality === 'speech' &amp;&amp;
    (options.locale !== sreOptions.locale ||
      options.domain !== sreOptions.domain ||
      options.style !== sreOptions.style)) {
    options.domain = sreOptions.domain;
    options.style = sreOptions.style;
    options.locale = sreOptions.locale;
    this.walker.update(options);
  }
  return options;
}

</t>
<t tx="ekr.20211016054411.34"></t>
<t tx="ekr.20211016054411.340">/**
 * Explorer that magnifies what is currently explored. Uses a hover region.
 * @constructor
 * @extends {AbstractKeyExplorer}
 */
export class Magnifier extends AbstractKeyExplorer&lt;HTMLElement&gt; {

  /**
   * @constructor
   * @extends {AbstractKeyExplorer}
   */
  constructor(public document: A11yDocument,
              protected region: Region&lt;HTMLElement&gt;,
              protected node: HTMLElement,
              private mml: HTMLElement) {
    super(document, region, node);
    this.walker = sre.WalkerFactory.walker(
      'table', this.node, sre.SpeechGeneratorFactory.generator('Dummy'),
      this.highlighter, this.mml);
  }

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.341">public Update(force: boolean = false) {
  super.Update(force);
  this.showFocus();
}


</t>
<t tx="ekr.20211016054411.342">/**
 * @override
 */
public Start() {
  super.Start();
  if (!this.attached) return;
  this.region.Show(this.node, this.highlighter);
  this.walker.activate();
  this.Update();
}


</t>
<t tx="ekr.20211016054411.343">/**
 * Shows the nodes that are currently focused.
 */
private showFocus() {
  let node = this.walker.getFocus().getNodes()[0] as HTMLElement;
  this.region.Show(node, this.highlighter);
}


</t>
<t tx="ekr.20211016054411.344">/**
 * @override
 */
public Move(key: number) {
  let result = this.walker.move(key);
  if (result) {
    this.Update();
  }
}


</t>
<t tx="ekr.20211016054411.345">/**
 * @override
 */
public KeyDown(event: KeyboardEvent) {
  const code = event.keyCode;
  this.walker.modifier = event.shiftKey;
  if (code === 27) {
    this.Stop();
    this.stopEvent(event);
    return;
  }
  if (this.active &amp;&amp; code !== 13) {
    this.Move(code);
    this.stopEvent(event);
    return;
  }
  if (code === 32 &amp;&amp; event.shiftKey || code === 13) {
    this.Start();
    this.stopEvent(event);
  }
}

</t>
<t tx="ekr.20211016054411.346">



/**
 * @fileoverview Explorers based on mouse events.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import {A11yDocument, DummyRegion, Region} from './Region.js';
import {Explorer, AbstractExplorer} from './Explorer.js';
import '../sre.js';


/**
 * Interface for mouse explorers. Adds the necessary mouse events.
 * @interface
 * @extends {Explorer}
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.347">export interface MouseExplorer extends Explorer {

  /**
   * Function to be executed on mouse over.
   * @param {MouseEvent} event The mouse event.
   */
  MouseOver(event: MouseEvent): void;

  /**
   * Function to be executed on mouse out.
   * @param {MouseEvent} event The mouse event.
   */
  MouseOut(event: MouseEvent): void;

}


/**
 * @constructor
 * @extends {AbstractExplorer}
 *
 * @template T  The type that is consumed by the Region of this explorer.
 */
export abstract class AbstractMouseExplorer&lt;T&gt; extends AbstractExplorer&lt;T&gt; implements MouseExplorer {

  /**
   * @override
   */
  protected events: [string, (x: Event) =&gt; void][] =
    super.Events().concat([
      ['mouseover', this.MouseOver.bind(this)],
      ['mouseout', this.MouseOut.bind(this)]
    ]);

  
</t>
<t tx="ekr.20211016054411.348">/**
   * @override
   */
public MouseOver(_event: MouseEvent) {
  this.Start();
}


</t>
<t tx="ekr.20211016054411.349">/**
 * @override
 */
  public MouseOut(_event: MouseEvent) {
    this.Stop();
  }

}


/**
 * Exploration via hovering.
 * @constructor
 * @extends {AbstractMouseExplorer}
 */
export abstract class Hoverer&lt;T&gt; extends AbstractMouseExplorer&lt;T&gt; {

  /**
   * Remember the last position to avoid flickering.
   * @type {[number, number]}
   */
  protected coord: [number, number];

  /**
   * @constructor
   * @extends {AbstractMouseExplorer&lt;T&gt;}
   *
   * @param {A11yDocument} document The current document.
   * @param {Region&lt;T&gt;} region A region to display results.
   * @param {HTMLElement} node The node on which the explorer works.
   * @param {(node: HTMLElement) =&gt; boolean} nodeQuery Predicate on nodes that
   *    will fire the hoverer.
   * @param {(node: HTMLElement) =&gt; T} nodeAccess Accessor to extract node value
   *    that is passed to the region.
   *
   * @template T
   */
  protected constructor(public document: A11yDocument,
                        protected region: Region&lt;T&gt;,
                        protected node: HTMLElement,
                        protected nodeQuery: (node: HTMLElement) =&gt; boolean,
                        protected nodeAccess: (node: HTMLElement) =&gt; T) {
    super(document, region, node);
  }


  
</t>
<t tx="ekr.20211016054411.35"></t>
<t tx="ekr.20211016054411.350">/**
   * @override
   */
public MouseOut(event: MouseEvent) {
  if (event.clientX === this.coord[0] &amp;&amp;
      event.clientY === this.coord[1]) {
    return;
  }
  this.highlighter.unhighlight();
  this.region.Hide();
  super.MouseOut(event);
}


</t>
<t tx="ekr.20211016054411.351">/**
 * @override
 */
public MouseOver(event: MouseEvent) {
  super.MouseOver(event);
  let target = event.target as HTMLElement;
  this.coord = [event.clientX, event.clientY];
  let [node, kind] = this.getNode(target);
  if (!node) {
    return;
  }
  this.highlighter.unhighlight();
  this.highlighter.highlight([node]);
  this.region.Update(kind);
  this.region.Show(node, this.highlighter);
}


</t>
<t tx="ekr.20211016054411.352">/**
 * Retrieves the closest node on which the node query fires. Thereby closest
 * is defined as:
 * 1. The node or its ancestor on which the query is true.
 * 2. In case 1 does not exist the left-most child on which query is true.
 * 3. Otherwise fails.
 *
 * @param {HTMLElement} node The node on which the mouse event fired.
 * @return {[HTMLElement, T]} Node and output pair if successful.
 */
  public getNode(node: HTMLElement): [HTMLElement, T] {
    let original = node;
    while (node &amp;&amp; node !== this.node) {
      if (this.nodeQuery(node)) {
        return [node, this.nodeAccess(node)];
      }
      node = node.parentNode as HTMLElement;
    }
    node = original;
    while (node) {
      if (this.nodeQuery(node)) {
        return [node, this.nodeAccess(node)];
      }
      let child = node.childNodes[0] as HTMLElement;
      node = (child &amp;&amp; child.tagName === 'defs') ? // This is for SVG.
      node.childNodes[1] as HTMLElement : child;
    }
    return [null, null];
  }

}


/**
 * Hoverer that displays information on nodes (e.g., as tooltips).
 * @constructor
 * @extends {Hoverer}
 */
export class ValueHoverer extends Hoverer&lt;string&gt; { }


/**
 * Hoverer that displays node content (e.g., for magnification).
 * @constructor
 * @extends {Hoverer}
 */
export class ContentHoverer extends Hoverer&lt;HTMLElement&gt; { }


</t>
<t tx="ekr.20211016054411.353">/**
 * Highlights maction nodes on hovering.
 * @constructor
 * @extends {Hoverer}
 */
export class FlameHoverer extends Hoverer&lt;void&gt; {

  /**
   * @override
   */
  protected constructor(
    public document: A11yDocument,
    _ignore: any,
    protected node: HTMLElement) {
    super(document, new DummyRegion(document), node,
          x =&gt; this.highlighter.isMactionNode(x),
          () =&gt; {});
  }

}
</t>
<t tx="ekr.20211016054411.354">



/**
 * @fileoverview Regions for A11y purposes.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import {MathDocument} from '../../core/MathDocument.js';
import {CssStyles} from '../../util/StyleList.js';
import '../sre.js';

export type A11yDocument = MathDocument&lt;HTMLElement, Text, Document&gt;;

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.355">export interface Region&lt;T&gt; {

  /**
   * Adds a style sheet for the live region to the document.
   */
  AddStyles(): void;

  /**
   * Adds the region element to the document.
   */
  AddElement(): void;

  /**
   * Shows the live region in the document.
   * @param {HTMLElement} node
   * @param {sre.Highlighter} highlighter
   */
  Show(node: HTMLElement, highlighter: sre.Highlighter): void;

  /**
   * Takes the element out of the document flow.
   */
  Hide(): void;

  /**
   * Clears the content of the region.
   */
  Clear(): void;

  /**
   * Updates the content of the region.
   * @template T
   */
  Update(content: T): void;

}

export abstract class AbstractRegion&lt;T&gt; implements Region&lt;T&gt; {

  /**
   * CSS Classname of the element.
   * @type {String}
   */
  protected static className: string;

  /**
   * True if the style has already been added to the document.
   * @type {boolean}
   */
  protected static styleAdded: boolean = false;

  /**
   * The CSS style that needs to be added for this type of region.
   * @type {CssStyles}
   */
  protected static style: CssStyles;

  /**
   * The outer div node.
   * @type {HTMLElement}
   */
  protected div: HTMLElement;

  /**
   * The inner node.
   * @type {HTMLElement}
   */
  protected inner: HTMLElement;

  /**
   * The actual class name to refer to static elements of a class.
   * @type {typeof AbstractRegion}
   */
  protected CLASS: typeof AbstractRegion;

  
</t>
<t tx="ekr.20211016054411.356">/**
   * @constructor
   * @param {A11yDocument} document The document the live region is added to.
   */
constructor(public document: A11yDocument) {
  this.CLASS = this.constructor as typeof AbstractRegion;
  this.AddStyles();
  this.AddElement();
}


</t>
<t tx="ekr.20211016054411.357">/**
 * @override
 */
public AddStyles() {
  if (this.CLASS.styleAdded) {
    return;
  }
  // TODO: should that be added to document.documentStyleSheet()?
  let node = this.document.adaptor.node('style');
  node.innerHTML = this.CLASS.style.cssText;
  this.document.adaptor.head(this.document.adaptor.document).
    appendChild(node);
  this.CLASS.styleAdded = true;
}


</t>
<t tx="ekr.20211016054411.358">/**
 * @override
 */
public AddElement() {
  let element = this.document.adaptor.node('div');
  element.classList.add(this.CLASS.className);
  element.style.backgroundColor = 'white';
  this.div = element;
  this.inner = this.document.adaptor.node('div');
  this.div.appendChild(this.inner);
  this.document.adaptor.
    body(this.document.adaptor.document).
    appendChild(this.div);

}


</t>
<t tx="ekr.20211016054411.359">/**
 * @override
 */
public Show(node: HTMLElement, highlighter: sre.Highlighter) {
  this.position(node);
  this.highlight(highlighter);
  this.div.classList.add(this.CLASS.className + '_Show');
}


/**
 * Computes the position where to place the element wrt. to the given node.
 * @param {HTMLElement} node The reference node.
 */
protected abstract position(node: HTMLElement): void;


/**
 * Highlights the region.
 * @param {sre.Highlighter} highlighter The SRE highlighter.
 */
protected abstract highlight(highlighter: sre.Highlighter): void;


</t>
<t tx="ekr.20211016054411.36">
import './lib/asciimath.js';

import {AsciiMath} from '../../../../js/input/asciimath.js';

if (MathJax.startup) {
  MathJax.startup.registerConstructor('asciimath', AsciiMath);
  MathJax.startup.useInput('asciimath');
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.360">/**
 * @override
 */
  public Hide() {
    this.div.classList.remove(this.CLASS.className + '_Show');
  }


  /**
   * @override
   */
  public abstract Clear(): void;


  /**
   * @override
   */
  public abstract Update(content: T): void;


  /**
   * Auxiliary position method that stacks shown regions of the same type.
   * @param {HTMLElement} node The reference node.
   */
  protected stackRegions(node: HTMLElement) {
    // TODO: This could be made more efficient by caching regions of a class.
    const rect = node.getBoundingClientRect();
    let baseBottom = 0;
    let baseLeft = Number.POSITIVE_INFINITY;
    let regions = this.document.adaptor.document.getElementsByClassName(
      this.CLASS.className + '_Show');
    // Get all the shown regions (one is this element!) and append at bottom.
    for (let i = 0, region; region = regions[i]; i++) {
      if (region !== this.div) {
        baseBottom = Math.max(region.getBoundingClientRect().bottom, baseBottom);
        baseLeft = Math.min(region.getBoundingClientRect().left, baseLeft);
      }
    }
    const bot = (baseBottom ? baseBottom : rect.bottom + 10) + window.pageYOffset;
    const left = (baseLeft &lt; Number.POSITIVE_INFINITY ? baseLeft : rect.left) + window.pageXOffset;
    this.div.style.top = bot + 'px';
    this.div.style.left = left + 'px';
  }

}

</t>
<t tx="ekr.20211016054411.361">export class DummyRegion extends AbstractRegion&lt;void&gt; {

  /**
   * @override
   */
  public Clear() {}

  /**
   * @override
   */
  public Update() {}

  /**
   * @override
   */
  public Hide() {}

  /**
   * @override
   */
  public Show() {}

  /**
   * @override
   */
  public AddElement() {}

  /**
   * @override
   */
  public AddStyles() {}

  /**
   * @override
   */
  public position() {}

  /**
   * @override
   */
  public highlight(_highlighter: sre.Highlighter) {}
}


</t>
<t tx="ekr.20211016054411.362">export class StringRegion extends AbstractRegion&lt;string&gt; {

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.363">public  Clear(): void {
  this.Update('');
  this.inner.style.top = '';
  this.inner.style.backgroundColor = '';
}


</t>
<t tx="ekr.20211016054411.364">/**
 * @override
 */
public Update(speech: string) {
  this.inner.textContent = '';
  this.inner.textContent = speech;
}

/**
 * @override
 */
protected position(node: HTMLElement) {
  this.stackRegions(node);
}


/**
 * @override
 */
protected highlight(highlighter: sre.Highlighter) {
  const color = highlighter.colorString();
  this.inner.style.backgroundColor = color.background;
  this.inner.style.color = color.foreground;
}

</t>
<t tx="ekr.20211016054411.365">export class ToolTip extends StringRegion {

  /**
   * @override
   */
  protected static className = 'MJX_ToolTip';

  /**
   * @override
   */
  protected static style: CssStyles =
    new CssStyles({
      ['.' + ToolTip.className]: {
        position: 'absolute', display: 'inline-block',
        height: '1px', width: '1px'
      },
      ['.' + ToolTip.className + '_Show']: {
        width: 'auto', height: 'auto', opacity: 1, 'text-align': 'center',
        'border-radius': '6px', padding: '0px 0px',
        'border-bottom': '1px dotted black', position: 'absolute',
        'z-index': 202
      }
    });

}


</t>
<t tx="ekr.20211016054411.366">export class LiveRegion extends StringRegion {

  /**
   * @override
   */
  protected static className = 'MJX_LiveRegion';

  /**
   * @override
   */
  protected static style: CssStyles =
    new CssStyles({
      ['.' + LiveRegion.className]: {
        position: 'absolute', top: '0', height: '1px', width: '1px',
        padding: '1px', overflow: 'hidden'
      },
      ['.' + LiveRegion.className + '_Show']: {
        top: '0', position: 'absolute', width: 'auto', height: 'auto',
        padding: '0px 0px', opacity: 1, 'z-index': '202',
        left: 0, right: 0, 'margin': '0 auto',
        'background-color': 'rgba(0, 0, 255, 0.2)', 'box-shadow': '0px 10px 20px #888',
        border: '2px solid #CCCCCC'
      }
    });


  /**
   * @constructor
   * @param {A11yDocument} document The document the live region is added to.
   */
  @others
}


// Region that overlays the current element.
</t>
<t tx="ekr.20211016054411.367">constructor(public document: A11yDocument) {
  super(document);
  this.div.setAttribute('aria-live', 'assertive');
}

</t>
<t tx="ekr.20211016054411.368">export class HoverRegion extends AbstractRegion&lt;HTMLElement&gt; {

  /**
   * @override
   */
  protected static className = 'MJX_HoverRegion';

  /**
   * @override
   */
  protected static style: CssStyles =
    new CssStyles({
      ['.' + HoverRegion.className]: {
        position: 'absolute', height: '1px', width: '1px',
        padding: '1px', overflow: 'hidden'
      },
      ['.' + HoverRegion.className + '_Show']: {
        position: 'absolute', width: 'max-content', height: 'auto',
        padding: '0px 0px', opacity: 1, 'z-index': '202', 'margin': '0 auto',
        'background-color': 'rgba(0, 0, 255, 0.2)',
        'box-shadow': '0px 10px 20px #888', border: '2px solid #CCCCCC'
      }
    });


  /**
   * @constructor
   * @param {A11yDocument} document The document the live region is added to.
   */
  @others
}
</t>
<t tx="ekr.20211016054411.369">constructor(public document: A11yDocument) {
  super(document);
  this.inner.style.lineHeight = '0';
}

/**
 * Sets the position of the region with respect to align parameter.  There are
 * three options: top, bottom and center. Center is the default.
 *
 * @param {HTMLElement} node The node that is displayed.
 */
protected position(node: HTMLElement) {
  const nodeRect = node.getBoundingClientRect();
  const divRect = this.div.getBoundingClientRect();
  const xCenter = nodeRect.left + (nodeRect.width / 2);
  let left = xCenter - (divRect.width / 2);
  left = (left &lt; 0) ? 0 : left;
  left = left + window.pageXOffset;
  let top;
  switch (this.document.options.a11y.align) {
  case 'top':
    top = nodeRect.top - divRect.height - 10 ;
    break;
  case 'bottom':
    top = nodeRect.bottom + 10;
    break;
  case 'center':
  default:
    const yCenter = nodeRect.top + (nodeRect.height / 2);
    top = yCenter - (divRect.height / 2);
  }
  top = top + window.pageYOffset;
  top = (top &lt; 0) ? 0 : top;
  this.div.style.top = top + 'px';
  this.div.style.left = left + 'px';
}

/**
 * @override
 */
protected highlight(highlighter: sre.Highlighter) {
  // TODO Do this with styles to avoid the interaction of SVG/CHTML.
  if (this.inner.firstChild &amp;&amp;
      !(this.inner.firstChild as HTMLElement).hasAttribute('sre-highlight')) {
    return;
  }
  const color = highlighter.colorString();
  this.inner.style.backgroundColor = color.background;
  this.inner.style.color = color.foreground;
}

</t>
<t tx="ekr.20211016054411.37">
const PACKAGE = require('../../../webpack.common.js');

module.exports = PACKAGE(
  'input/asciimath',                  // the package to build
  '../../../../js',                   // location of the MathJax js library
  ['components/src/core/lib'],        // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.370">/**
 * @override
 */
public Show(node: HTMLElement, highlighter: sre.Highlighter) {
  this.div.style.fontSize = this.document.options.a11y.magnify;
  this.Update(node);
  super.Show(node, highlighter);
}

</t>
<t tx="ekr.20211016054411.371">/**
 * @override
 */
public Clear() {
  this.inner.textContent = '';
  this.inner.style.top = '';
  this.inner.style.backgroundColor = '';
}

</t>
<t tx="ekr.20211016054411.372">/**
 * @override
 */
public Update(node: HTMLElement) {
  this.Clear();
  let mjx = this.cloneNode(node);
  this.inner.appendChild(mjx);
}

</t>
<t tx="ekr.20211016054411.373">/**
 * Clones the node to put into the hover region.
 * @param {HTMLElement} node The original node.
 * @return {HTMLElement} The cloned node.
 */
private cloneNode(node: HTMLElement): HTMLElement {
  let mjx = node.cloneNode(true) as HTMLElement;
  if (mjx.nodeName !== 'MJX-CONTAINER') {
    // remove element spacing (could be done in CSS)
    if (mjx.nodeName !== 'g') {
      mjx.style.marginLeft = mjx.style.marginRight = '0';
    }
    let container = node;
    while (container &amp;&amp; container.nodeName !== 'MJX-CONTAINER') {
      container = container.parentNode as HTMLElement;
    }
    if (mjx.nodeName !== 'MJX-MATH' &amp;&amp; mjx.nodeName !== 'svg') {
      const child = container.firstChild;
      mjx = child.cloneNode(false).appendChild(mjx).parentNode as HTMLElement;
      //
      // SVG specific
      //
      if (mjx.nodeName === 'svg') {
        (mjx.firstChild as HTMLElement).setAttribute('transform', 'matrix(1 0 0 -1 0 0)');
        const W = parseFloat(mjx.getAttribute('viewBox').split(/ /)[2]);
        const w = parseFloat(mjx.getAttribute('width'));
        const {x, y, width, height} = (node as any).getBBox();
        mjx.setAttribute('viewBox', [x, -(y + height), width, height].join(' '));
        mjx.removeAttribute('style');
        mjx.setAttribute('width', (w / W * width) + 'ex');
        mjx.setAttribute('height', (w / W * height) + 'ex');
        container.setAttribute('sre-highlight', 'false');
      }
    }
    mjx = container.cloneNode(false).appendChild(mjx).parentNode as HTMLElement;
    //  remove displayed math margins (could be done in CSS)
    mjx.style.margin = '0';
  }
  return mjx;
}

</t>
<t tx="ekr.20211016054411.374">



/**
 * @fileoverview Tree Explorers allow to switch on effects on the entire
 *     expression tree.
 *
 * @author v.sorge@mathjax.org (Volker Sorge)
 */


import {A11yDocument, Region} from './Region.js';
import {Explorer, AbstractExplorer} from './Explorer.js';
import '../sre.js';


@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.375">export interface TreeExplorer extends Explorer {

}


</t>
<t tx="ekr.20211016054411.376">export class AbstractTreeExplorer extends AbstractExplorer&lt;void&gt; {

  /**
   * @override
   */
  protected constructor(public document: A11yDocument,
                        protected region: Region&lt;void&gt;,
                        protected node: HTMLElement,
                        protected mml: HTMLElement) {
    super(document, null, node);
  }

  /**
   * @override
   */
  public readonly stoppable = false;


  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.377">public Attach() {
  super.Attach();
  this.Start();
}

</t>
<t tx="ekr.20211016054411.378">/**
 * @override
 */
public Detach() {
  this.Stop();
  super.Detach();
}

</t>
<t tx="ekr.20211016054411.379">export class FlameColorer extends AbstractTreeExplorer {

  /**
   * @override
   */
  @others
}


</t>
<t tx="ekr.20211016054411.38"></t>
<t tx="ekr.20211016054411.380">public Start() {
  if (this.active) return;
  this.active = true;
  this.highlighter.highlightAll(this.node);
}

</t>
<t tx="ekr.20211016054411.381">/**
 * @override
 */
public Stop() {
  if (this.active) {
    this.highlighter.unhighlightAll(this.node);
  }
  this.active = false;
}

</t>
<t tx="ekr.20211016054411.382">export class TreeColorer extends AbstractTreeExplorer {

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.383">public Start() {
  if (this.active) return;
  this.active = true;
  let generator = sre.SpeechGeneratorFactory.generator('Color');
  if (!this.node.hasAttribute('hasforegroundcolor')) {
    generator.generateSpeech(this.node, this.mml);
    this.node.setAttribute('hasforegroundcolor', 'true');
  }
  this.highlighter.colorizeAll(this.node);
}

</t>
<t tx="ekr.20211016054411.384">/**
 * @override
 */
public Stop() {
  if (this.active) {
    this.highlighter.uncolorizeAll(this.node);
  }
  this.active = false;
}

</t>
<t tx="ekr.20211016054411.385"></t>
<t tx="ekr.20211016054411.386">


/**
 * @fileoverview  Implements the browser DOM adaptor
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {HTMLAdaptor} from './HTMLAdaptor.js';

//
//  Let Typescript know about these
//
declare global {
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.387">  interface Window {
    Document: typeof Document;
    DOMParser: typeof DOMParser;
    XMLSerializer: typeof XMLSerializer;
    HTMLElement: typeof HTMLElement;
    HTMLCollection: typeof HTMLCollection;
    NodeList: typeof NodeList;
    DocumentFragment: typeof DocumentFragment;
  }
}

</t>
<t tx="ekr.20211016054411.388">/**
 * Function to create an HTML adpator for browsers
 *
 * @return {HTMLAdaptor}  The newly created adaptor
 */
export function browserAdaptor(): HTMLAdaptor&lt;HTMLElement, Text, Document&gt; {
  return new HTMLAdaptor&lt;HTMLElement, Text, Document&gt;(window);
}
</t>
<t tx="ekr.20211016054411.389">


/**
 * @fileoverview  Chooses between jdsom and browser DOM adaptors
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {liteAdaptor} from './liteAdaptor.js';
import {browserAdaptor} from './browserAdaptor.js';

let choose;

try {
  document;  // errors if not in browser
  choose = browserAdaptor;
} catch (e) {
  choose = liteAdaptor;
}

/**
 * Function to select which adaptor to use (depending on whether we are in a browser or node.js)
 */
export const chooseAdaptor = choose;
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.39">
import './lib/mml.js';

import {MathML} from '../../../../js/input/mathml.js';

if (MathJax.startup) {
  MathJax.startup.registerConstructor('mml', MathML);
  MathJax.startup.useInput('mml');
}
if (MathJax.loader) {
  //
  // Install a path-filter to cause loading of an entity file to load all entities,
  //   since the individual files don't have individual components.
  //
  @others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.390">


/**
 * @fileoverview  Implements the HTML DOM adaptor
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {OptionList} from '../util/Options.js';
import {AttributeData, AbstractDOMAdaptor, DOMAdaptor, PageBBox} from '../core/DOMAdaptor.js';

/*****************************************************************/
/**
 * The minimum fields needed for a Document
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.391">export interface MinDocument&lt;N, T&gt; {
  documentElement: N;
  head: N;
  body: N;
  title: string;
  doctype: {name: string};
  /* tslint:disable:jsdoc-require */
  createElement(kind: string): N;
  createElementNS(ns: string, kind: string): N;
  createTextNode(text: string): T;
  querySelectorAll(selector: string): ArrayLike&lt;N&gt;;
  /* tslint:enable */
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.392">/**
 * The minimum fields needed for an HTML Element
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 */
export interface MinHTMLElement&lt;N, T&gt; {
  nodeType: number;
  nodeName: string;
  nodeValue: string;
  textContent: string;
  innerHTML: string;
  outerHTML: string;
  parentNode: N | Node;
  nextSibling: N | T | Node;
  previousSibling: N | T | Node;
  offsetWidth: number;
  offsetHeight: number;

  attributes: AttributeData[] | NamedNodeMap;
  className: string;
  classList: DOMTokenList;
  style: OptionList;
  sheet?: {insertRule: (rule: string, index?: number) =&gt; void};

  childNodes: (N | T)[] | NodeList;
  firstChild: N | T | Node;
  lastChild: N | T | Node;
  /* tslint:disable:jsdoc-require */
  getElementsByTagName(name: string): N[] | HTMLCollectionOf&lt;Element&gt;;
  getElementsByTagNameNS(ns: string, name: string): N[] | HTMLCollectionOf&lt;Element&gt;;
  contains(child: N | T): boolean;
  appendChild(child: N | T): N | T | Node;
  removeChild(child: N | T): N | T  | Node;
  replaceChild(nnode: N | T, onode: N | T): N | T  | Node;
  insertBefore(nchild: N | T, ochild: N | T): void;
  cloneNode(deep: boolean): N | Node;
  setAttribute(name: string, value: string): void;
  setAttributeNS(ns: string, name: string, value: string): void;
  getAttribute(name: string): string;
  removeAttribute(name: string): void;
  hasAttribute(name: string): boolean;
  getBoundingClientRect(): Object;
  getBBox?(): {x: number, y: number, width: number, height: number};
  /* tslint:endable */
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.393">/**
 * The minimum fields needed for a Text element
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 */
export interface MinText&lt;N, T&gt; {
  nodeType: number;
  nodeName: string;
  nodeValue: string;
  parentNode: N | Node;
  nextSibling: N | T | Node;
  previousSibling: N | T | Node;
  splitText(n: number): T;
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.394">/**
 * The minimum fields needed for a DOMParser
 *
 * @template D  The Document class
 */
export interface MinDOMParser&lt;D&gt; {
  parseFromString(text: string, format?: string): D;
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.395">/**
 * The minimum fields needed for a DOMParser
 *
 * @template N  The HTMLElement node class
 */
export interface MinXMLSerializer&lt;N&gt; {
  serializeToString(node: N): string;
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.396">/**
 * The minimum fields needed for a Window
 *
 * @template N  The HTMLElement node class
 * @template D  The Document class
 */
export interface MinWindow&lt;N, D&gt; {
  document: D;
  DOMParser: {
    new(): MinDOMParser&lt;D&gt;
  };
  XMLSerializer: {
    new(): MinXMLSerializer&lt;N&gt;;
  };
  NodeList: any;
  HTMLCollection: any;
  HTMLElement: any;
  DocumentFragment: any;
  Document: any;
  getComputedStyle(node: N): any;
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.397">/**
 * The minimum needed for an HTML Adaptor
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export interface MinHTMLAdaptor&lt;N, T, D&gt; extends DOMAdaptor&lt;N, T, D&gt; {
  window: MinWindow&lt;N, D&gt;;
}

/*****************************************************************/
/**
 *  Abstract HTMLAdaptor class for manipulating HTML elements
 *  (subclass of AbstractDOMAdaptor)
 *
 *  N = HTMLElement node class
 *  T = Text node class
 *  D = Document class
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export class HTMLAdaptor&lt;N extends MinHTMLElement&lt;N, T&gt;, T extends MinText&lt;N, T&gt;, D extends MinDocument&lt;N, T&gt;&gt; extends
AbstractDOMAdaptor&lt;N, T, D&gt; implements MinHTMLAdaptor&lt;N, T, D&gt; {
  /**
   * The window object for this adaptor
   */
  public window: MinWindow&lt;N, D&gt;;

  /**
   * The DOMParser used to parse a string into a DOM tree
   */
  public parser: MinDOMParser&lt;D&gt;;

  
</t>
<t tx="ekr.20211016054411.398">/**
   * @override
   * @constructor
   */
constructor(window: MinWindow&lt;N, D&gt;) {
  super(window.document);
  this.window = window;
  this.parser = new (window.DOMParser as any)();
}

</t>
<t tx="ekr.20211016054411.399">/**
 * @override
 */
public parse(text: string, format: string = 'text/html') {
  return this.parser.parseFromString(text, format);
}

/**
 * @override
 */
protected create(kind: string, ns?: string) {
  return (ns ?
          this.document.createElementNS(ns, kind) :
          this.document.createElement(kind));
}

</t>
<t tx="ekr.20211016054411.4">/**
 * @fileoverview  Creates configurations for webpacking of MathJax components
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

const fs = require('fs');
const path = require('path');
const webpack = require('webpack');
const TerserPlugin = require('terser-webpack-plugin');

/**************************************************************/

/**
 * @param {string} string  The string whose special characters are to be escaped
 * @return {string}        The string with regex special characters escaped
 */
@others
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.40">  MathJax.loader.pathFilters.add((data) =&gt; {
    data.name = data.name.replace(/\/util\/entities\/.*?\.js/, '/input/mml/entities.js');
    return true;
  });
}
</t>
<t tx="ekr.20211016054411.400">/**
 * @override
 */
public text(text: string) {
  return this.document.createTextNode(text);
}

</t>
<t tx="ekr.20211016054411.401">/**
 * @override
 */
public head(doc: D) {
  return doc.head;
}

</t>
<t tx="ekr.20211016054411.402">/**
 * @override
 */
public body(doc: D) {
  return doc.body;
}

</t>
<t tx="ekr.20211016054411.403">/**
 * @override
 */
public root(doc: D) {
  return doc.documentElement;
}

</t>
<t tx="ekr.20211016054411.404">/**
 * @override
 */
public doctype(doc: D) {
  return (doc.doctype ? `&lt;!DOCTYPE ${doc.doctype.name}&gt;` : '');
}

</t>
<t tx="ekr.20211016054411.405">/**
 * @override
 */
public tags(node: N, name: string, ns: string = null) {
  let nodes = (ns ? node.getElementsByTagNameNS(ns, name) : node.getElementsByTagName(name));
  return Array.from(nodes as N[]) as N[];
}

</t>
<t tx="ekr.20211016054411.406">/**
 * @override
 */
public getElements(nodes: (string | N | N[])[], _document: D) {
  let containers: N[] = [];
  for (const node of nodes) {
    if (typeof(node) === 'string') {
      containers = containers.concat(Array.from(this.document.querySelectorAll(node)));
    } else if (Array.isArray(node)) {
      containers = containers.concat(Array.from(node) as N[]);
    } else if (node instanceof this.window.NodeList || node instanceof this.window.HTMLCollection) {
      containers = containers.concat(Array.from(node as any as N[]));
    } else {
      containers.push(node);
    }
  }
  return containers;
}

</t>
<t tx="ekr.20211016054411.407">/**
 * @override
 */
public contains(container: N, node: N | T) {
  return container.contains(node);
}

</t>
<t tx="ekr.20211016054411.408">/**
 * @override
 */
public parent(node: N | T) {
  return node.parentNode as N;
}

</t>
<t tx="ekr.20211016054411.409">/**
 * @override
 */
public append(node: N, child: N | T) {
  return node.appendChild(child) as N | T;
}

</t>
<t tx="ekr.20211016054411.41">
const PACKAGE = require('../../../webpack.common.js');

module.exports = PACKAGE(
  'input/mml',                        // the package to build
  '../../../../js',                   // location of the MathJax js library
  ['components/src/core/lib'],        // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.410">/**
 * @override
 */
public insert(nchild: N | T, ochild: N | T) {
  return this.parent(ochild).insertBefore(nchild, ochild);
}

</t>
<t tx="ekr.20211016054411.411">/**
 * @override
 */
public remove(child: N | T) {
  return this.parent(child).removeChild(child) as N | T;
}

</t>
<t tx="ekr.20211016054411.412">/**
 * @override
 */
public replace(nnode: N | T, onode: N | T) {
  return this.parent(onode).replaceChild(nnode, onode) as N | T;
}

</t>
<t tx="ekr.20211016054411.413">/**
 * @override
 */
public clone(node: N) {
  return node.cloneNode(true) as N;
}

</t>
<t tx="ekr.20211016054411.414">/**
 * @override
 */
public split(node: T, n: number) {
  return node.splitText(n);
}

</t>
<t tx="ekr.20211016054411.415">/**
 * @override
 */
public next(node: N | T) {
  return node.nextSibling as N | T;
}

</t>
<t tx="ekr.20211016054411.416">/**
 * @override
 */
public previous(node: N | T) {
  return node.previousSibling as N | T;
}

</t>
<t tx="ekr.20211016054411.417">/**
 * @override
 */
public firstChild(node: N) {
  return node.firstChild as N | T;
}

</t>
<t tx="ekr.20211016054411.418">/**
 * @override
 */
public lastChild(node: N) {
  return node.lastChild as N | T;
}

</t>
<t tx="ekr.20211016054411.419">/**
 * @override
 */
public childNodes(node: N) {
  return Array.from(node.childNodes as (N | T)[]);
}

</t>
<t tx="ekr.20211016054411.42"></t>
<t tx="ekr.20211016054411.420">/**
 * @override
 */
public childNode(node: N, i: number) {
  return node.childNodes[i] as N | T;
}

</t>
<t tx="ekr.20211016054411.421">/**
 * @override
 */
public kind(node: N | T) {
  const n = node.nodeType;
  return (n === 1 || n === 3 || n === 8 ? node.nodeName.toLowerCase() : '');
}

</t>
<t tx="ekr.20211016054411.422">/**
 * @override
 */
public value(node: N | T) {
  return node.nodeValue || '';
}

</t>
<t tx="ekr.20211016054411.423">/**
 * @override
 */
public textContent(node: N) {
  return node.textContent;
}

</t>
<t tx="ekr.20211016054411.424">/**
 * @override
 */
public innerHTML(node: N) {
  return node.innerHTML;
}

</t>
<t tx="ekr.20211016054411.425">/**
 * @override
 */
public outerHTML(node: N) {
  return node.outerHTML;
}

</t>
<t tx="ekr.20211016054411.426">public serializeXML(node: N) {
  const serializer = new this.window.XMLSerializer();
  return serializer.serializeToString(node) as string;
}

</t>
<t tx="ekr.20211016054411.427">/**
 * @override
 */
public setAttribute(node: N, name: string, value: string, ns: string = null) {
  if (!ns) {
    return node.setAttribute(name, value);
  }
  name = ns.replace(/.*\//, '') + ':' + name.replace(/^.*:/, '');
  return node.setAttributeNS(ns, name, value);
}

</t>
<t tx="ekr.20211016054411.428">/**
 * @override
 */
public getAttribute(node: N, name: string) {
  return node.getAttribute(name);
}

</t>
<t tx="ekr.20211016054411.429">/**
 * @override
 */
public removeAttribute(node: N, name: string) {
  return node.removeAttribute(name);
}

</t>
<t tx="ekr.20211016054411.43">
import '../../../../../js/util/entities/all.js';

@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.430">/**
 * @override
 */
public hasAttribute(node: N, name: string) {
  return node.hasAttribute(name);
}

</t>
<t tx="ekr.20211016054411.431">/**
 * @override
 */
public allAttributes(node: N) {
  return Array.from(node.attributes).map(
    (x: AttributeData) =&gt; {
      return {name: x.name, value: x.value} as AttributeData;
    }
  );
}

</t>
<t tx="ekr.20211016054411.432">/**
 * @override
 */
public addClass(node: N, name: string) {
  if (node.classList) {
    node.classList.add(name);
  } else {
    node.className = (node.className + ' ' + name).trim();
  }
}

</t>
<t tx="ekr.20211016054411.433">/**
 * @override
 */
public removeClass(node: N, name: string) {
  if (node.classList) {
    node.classList.remove(name);
  } else {
    node.className = node.className.split(/ /).filter((c) =&gt; c !== name).join(' ');
  }
}

</t>
<t tx="ekr.20211016054411.434">/**
 * @override
 */
public hasClass(node: N, name: string) {
  if (node.classList) {
    return node.classList.contains(name);
  }
  return node.className.split(/ /).indexOf(name) &gt;= 0;
}

</t>
<t tx="ekr.20211016054411.435">/**
 * @override
 */
public setStyle(node: N, name: string, value: string) {
  (node.style as OptionList)[name] = value;
}

</t>
<t tx="ekr.20211016054411.436">/**
 * @override
 */
public getStyle(node: N, name: string) {
  return (node.style as OptionList)[name];
}

</t>
<t tx="ekr.20211016054411.437">/**
 * @override
 */
public allStyles(node: N) {
  return node.style.cssText;
}

</t>
<t tx="ekr.20211016054411.438">/**
 * @override
 */
public insertRules(node: N, rules: string[]) {
  for (const rule of rules.reverse()) {
    try {
      node.sheet.insertRule(rule, 0);
    } catch (e) {
      console.warn(`MathJax: can't insert css rule '${rule}': ${e.message}`);
    }
  }
}

/**
 * @override
 */
@others
</t>
<t tx="ekr.20211016054411.439">public fontSize(node: N) {
  const style = this.window.getComputedStyle(node);
  return parseFloat(style.fontSize);
}

</t>
<t tx="ekr.20211016054411.44">
const PACKAGE = require('../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/mml/entities',               // the package to build
  '../../../../../js',                // location of the MathJax js library
  ['components/src/core/lib'],        // packages to link to
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.440">/**
 * @override
 */
public fontFamily(node: N) {
  const style = this.window.getComputedStyle(node);
  return style.fontFamily || '';
}

</t>
<t tx="ekr.20211016054411.441">/**
 * @override
 */
public nodeSize(node: N, em: number = 1, local: boolean = false) {
  if (local &amp;&amp; node.getBBox) {
    let {width, height} = node.getBBox();
    return [width / em , height / em] as [number, number];
  }
  return [node.offsetWidth / em, node.offsetHeight / em] as [number, number];
}

</t>
<t tx="ekr.20211016054411.442">/**
 * @override
 */
  public nodeBBox(node: N) {
    const {left, right, top, bottom} = node.getBoundingClientRect() as PageBBox;
    return {left, right, top, bottom};
  }
}
</t>
<t tx="ekr.20211016054411.443">


/**
 * @fileoverview  Implements the jdsom DOM adaptor
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {HTMLAdaptor} from './HTMLAdaptor.js';
import {userOptions, defaultOptions, OptionList} from '../util/Options.js';

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.444">export class JsdomAdaptor extends HTMLAdaptor&lt;HTMLElement, Text, Document&gt; {

  /**
   * The default options
   */
  public static OPTIONS: OptionList = {
    fontSize: 16,          // We can't compute the font size, so always use this
    fontFamily: 'Times',   // We can't compute the font family, so always use this
    cjkCharWidth: 1,       // Width (in em units) of full width characters
    unknownCharWidth: .6,  // Width (in em units) of unknown (non-full-width) characters
    unknownCharHeight: .8, // Height (in em units) of unknown characters
  };

  /**
   * Pattern to identify CJK (i.e., full-width) characters
   */
  public static cjkPattern = new RegExp([
    '[',
    '\u1100-\u115F', // Hangul Jamo
    '\u2329\u232A',  // LEFT-POINTING ANGLE BRACKET, RIGHT-POINTING ANGLE BRACKET
    '\u2E80-\u303E', // CJK Radicals Supplement ... CJK Symbols and Punctuation
    '\u3040-\u3247', // Hiragana ... Enclosed CJK Letters and Months
    '\u3250-\u4DBF', // Enclosed CJK Letters and Months ... CJK Unified Ideographs Extension A
    '\u4E00-\uA4C6', // CJK Unified Ideographs ... Yi Radicals
    '\uA960-\uA97C', // Hangul Jamo Extended-A
    '\uAC00-\uD7A3', // Hangul Syllables
    '\uF900-\uFAFF', // CJK Compatibility Ideographs
    '\uFE10-\uFE19', // Vertical Forms
    '\uFE30-\uFE6B', // CJK Compatibility Forms ... Small Form Variants
    '\uFF01-\uFF60\uFFE0-\uFFE6', // Halfwidth and Fullwidth Forms
    '\u{1B000}-\u{1B001}', // Kana Supplement
    '\u{1F200}-\u{1F251}', // Enclosed Ideographic Supplement
    '\u{20000}-\u{3FFFD}', // CJK Unified Ideographs Extension B ... Tertiary Ideographic Plane
    ']'
  ].join(''), 'gu');

  /**
   * The options for the instance
   */
  public options: OptionList;

  /**
   * @param {Window} window   The window to work with
   * @param {OptionList} options  The options for the jsdom adaptor
   * @constructor
   */
  @others
}

</t>
<t tx="ekr.20211016054411.445">constructor(window: Window, options: OptionList = null) {
  super(window);
  let CLASS = this.constructor as typeof JsdomAdaptor;
  this.options = userOptions(defaultOptions({}, CLASS.OPTIONS), options);
}

</t>
<t tx="ekr.20211016054411.446">/**
 * JSDOM's getComputedStyle() implementation is badly broken, and only
 *   return the styles explicitly set on the given node, not the
 *   inherited values frmo the cascading style sheets (so it is pretty
 *   useless).  This is somethig we can't really work around, so use
 *   the default value given in the options instead.  Sigh
 *
 * @override
 */
public fontSize(_node: HTMLElement) {
  return this.options.fontSize;
}

</t>
<t tx="ekr.20211016054411.447">/**
 * JSDOM's getComputedStyle() implementation is badly broken, and only
 *   return the styles explicitly set on the given node, not the
 *   inherited values frmo the cascading style sheets (so it is pretty
 *   useless).  This is somethig we can't really work around, so use
 *   the default value given in the options instead.  Sigh
 *
 * @override
 */
public fontFamily(_node: HTMLElement) {
  return this.options.fontFamily;
}

</t>
<t tx="ekr.20211016054411.448">/**
 * @override
 */
public nodeSize(node: HTMLElement, _em: number = 1, _local: boolean = null) {
  const text = this.textContent(node);
  const non = Array.from(text.replace(JsdomAdaptor.cjkPattern, '')).length; // # of non-CJK chars
  const CJK = Array.from(text).length - non;                                // # of cjk chars
  return [
    CJK * this.options.cjkCharWidth + non * this.options.unknownCharWidth,
    this.options.unknownCharHeight
  ] as [number, number];
}

</t>
<t tx="ekr.20211016054411.449">/**
 * @override
 */
public nodeBBox(_node: HTMLElement) {
  return {left: 0, right: 0, top: 0, bottom: 0};
}

</t>
<t tx="ekr.20211016054411.45"></t>
<t tx="ekr.20211016054411.450">/**
 * Function for creating an HTML adaptor using jsdom
 *
 * @param {any} JSDOM      The jsdom object to use for this adaptor
 * @return {HTMLAdaptor}   The newly created adaptor
 */
export function jsdomAdaptor(JSDOM: any, options: OptionList = null): HTMLAdaptor&lt;HTMLElement, Text, Document&gt; {
  return new JsdomAdaptor(new JSDOM().window, options);
}
</t>
<t tx="ekr.20211016054411.451">


/**
 * @fileoverview  Implements a lightweight DOM adaptor
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AbstractDOMAdaptor} from '../core/DOMAdaptor.js';
import {LiteDocument} from './lite/Document.js';
import {LiteElement, LiteNode} from './lite/Element.js';
import {LiteText, LiteComment} from './lite/Text.js';
import {LiteList} from './lite/List.js';
import {LiteWindow} from './lite/Window.js';
import {LiteParser} from './lite/Parser.js';
import {Styles} from '../util/Styles.js';
import {userOptions, defaultOptions, OptionList} from '../util/Options.js';

/************************************************************/
/**
 * Implements a lightweight DOMAdaptor on liteweight HTML elements
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.452">export class LiteAdaptor extends AbstractDOMAdaptor&lt;LiteElement, LiteText, LiteDocument&gt; {
  /**
   * The default options
   */
  public static OPTIONS: OptionList = {
    fontSize: 16,          // We can't compute the font size, so always use this
    fontFamily: 'Times',   // We can't compute the font family, so always use this
    cjkCharWidth: 1,       // Width (in em units) of full width characters
    unknownCharWidth: .6,  // Width (in em units) of unknown (non-full-width) characters
    unknownCharHeight: .8, // Height (in em units) of unknown characters
  };

  /**
   * Pattern to identify CJK (.i.e., full-width) characters
   */
  public static cjkPattern = new RegExp([
    '[',
    '\u1100-\u115F', // Hangul Jamo
    '\u2329\u232A',  // LEFT-POINTING ANGLE BRACKET, RIGHT-POINTING ANGLE BRACKET
    '\u2E80-\u303E', // CJK Radicals Supplement ... CJK Symbols and Punctuation
    '\u3040-\u3247', // Hiragana ... Enclosed CJK Letters and Months
    '\u3250-\u4DBF', // Enclosed CJK Letters and Months ... CJK Unified Ideographs Extension A
    '\u4E00-\uA4C6', // CJK Unified Ideographs ... Yi Radicals
    '\uA960-\uA97C', // Hangul Jamo Extended-A
    '\uAC00-\uD7A3', // Hangul Syllables
    '\uF900-\uFAFF', // CJK Compatibility Ideographs
    '\uFE10-\uFE19', // Vertical Forms
    '\uFE30-\uFE6B', // CJK Compatibility Forms ... Small Form Variants
    '\uFF01-\uFF60\uFFE0-\uFFE6', // Halfwidth and Fullwidth Forms
    '\u{1B000}-\u{1B001}', // Kana Supplement
    '\u{1F200}-\u{1F251}', // Enclosed Ideographic Supplement
    '\u{20000}-\u{3FFFD}', // CJK Unified Ideographs Extension B ... Tertiary Ideographic Plane
    ']'
  ].join(''), 'gu');

  /**
   * The options for the instance
   */
  public options: OptionList;

  /**
   * The document in which the HTML nodes will be created
   */
  public document: LiteDocument;

  /**
   * The window for the document
   */
  public window: LiteWindow;

  /**
   * The parser for serialized HTML
   */
  public parser: LiteParser;

  /**
   * @param {OptionList} options  The options for the lite adaptor (e.g., fontSize)
   * @constructor
   */
  @others
}

/************************************************************/
</t>
<t tx="ekr.20211016054411.453">constructor(options: OptionList = null) {
  super();
  let CLASS = this.constructor as typeof LiteAdaptor;
  this.options = userOptions(defaultOptions({}, CLASS.OPTIONS), options);
  this.parser = new LiteParser();
  this.window = new LiteWindow();
}

</t>
<t tx="ekr.20211016054411.454">/**
 * @override
 */
public parse(text: string, format?: string) {
  return this.parser.parseFromString(text, format, this);
}

/**
 * @override
 */
protected create(kind: string, _ns: string = null) {
  return new LiteElement(kind);
}

</t>
<t tx="ekr.20211016054411.455">/**
 * @override
 */
public text(text: string) {
  return new LiteText(text);
}

</t>
<t tx="ekr.20211016054411.456">/**
 * @param {string} text   The text of the comment
 * @return {LiteComment}  The comment node
 */
public comment(text: string): LiteComment {
  return new LiteComment(text);
}

</t>
<t tx="ekr.20211016054411.457">/**
 * @return {LiteDocument}  A new document element
 */
public createDocument(): LiteDocument {
  return new LiteDocument();
}

</t>
<t tx="ekr.20211016054411.458">/**
 * @override
 */
public head(doc: LiteDocument) {
  return doc.head;
}

</t>
<t tx="ekr.20211016054411.459">/**
 * @override
 */
public body(doc: LiteDocument) {
  return doc.body;
}

</t>
<t tx="ekr.20211016054411.46"></t>
<t tx="ekr.20211016054411.460">/**
 * @override
 */
public root(doc: LiteDocument) {
  return doc.root;
}

</t>
<t tx="ekr.20211016054411.461">/**
 * @override
 */
public doctype(doc: LiteDocument) {
  return doc.type;
}

</t>
<t tx="ekr.20211016054411.462">/**
 * @override
 */
public tags(node: LiteElement, name: string, ns: string = null) {
  let stack = [] as LiteNode[];
  let tags = [] as LiteElement[];
  if (ns) {
    return tags;  // we don't have namespaces
  }
  let n: LiteNode = node;
  while (n) {
    let kind = n.kind;
    if (kind !== '#text' &amp;&amp; kind !== '#comment') {
      n = n as LiteElement;
      if (kind === name) {
        tags.push(n);
      }
      if (n.children.length) {
        stack = n.children.concat(stack);
      }
    }
    n = stack.shift();
  }
  return tags;
}

</t>
<t tx="ekr.20211016054411.463">/**
 * @param {LiteElement} node   The node to be searched
 * @param {string} id          The id of the node to look for
 * @return {LiteElement}       The child node having the given id
 */
public elementById(node: LiteElement, id: string): LiteElement {
  let stack = [] as LiteNode[];
  let n = node as LiteNode;
  while (n) {
    if (n.kind !== '#text' &amp;&amp; n.kind !== '#comment') {
      n = n as LiteElement;
      if (n.attributes['id'] === id) {
        return n;
      }
      if (n.children.length) {
        stack = n.children.concat(stack);
      }
    }
    n = stack.shift();
  }
  return null;
}

</t>
<t tx="ekr.20211016054411.464">/**
 * @param {LiteElement} node   The node to be searched
 * @param {string} name        The name of the class to find
 * @return {LiteElement[]}     The nodes with the given class
 */
public elementsByClass(node: LiteElement, name: string): LiteElement[] {
  let stack = [] as LiteNode[];
  let tags = [] as LiteElement[];
  let n: LiteNode = node;
  while (n) {
    if (n.kind !== '#text' &amp;&amp; n.kind !== '#comment') {
      n = n as LiteElement;
      const classes = (n.attributes['class'] || '').trim().split(/ +/);
      if (classes.includes(name)) {
        tags.push(n);
      }
      if (n.children.length) {
        stack = n.children.concat(stack);
      }
    }
    n = stack.shift();
  }
  return tags;
}

</t>
<t tx="ekr.20211016054411.465">/**
 * @override
 */
public getElements(nodes: (string | LiteElement | LiteElement[])[], document: LiteDocument) {
  let containers = [] as LiteElement[];
  const body = this.body(document);
  for (const node of nodes) {
    if (typeof(node) === 'string') {
      if (node.charAt(0) === '#') {
        const n = this.elementById(body, node.slice(1));
        if (n) {
          containers.push(n);
        }
      } else if (node.charAt(0) === '.') {
        containers = containers.concat(this.elementsByClass(body, node.slice(1)));
      } else if (node.match(/^[-a-z][-a-z0-9]*$/i)) {
        containers = containers.concat(this.tags(body, node));
      }
    } else if (Array.isArray(node)) {
      containers = containers.concat(node);
    } else if (node instanceof this.window.NodeList || node instanceof this.window.HTMLCollection) {
      containers = containers.concat((node as LiteList&lt;LiteElement&gt;).nodes);
    } else {
      containers.push(node);
    }
  }
  return containers;
}

</t>
<t tx="ekr.20211016054411.466">/**
 * @override
 */
public contains(container: LiteNode, node: LiteNode | LiteText) {
  while (node &amp;&amp; node !== container) {
    node = this.parent(node);
  }
  return !!node;
}

</t>
<t tx="ekr.20211016054411.467">/**
 * @override
 */
public parent(node: LiteNode) {
  return node.parent;
}

</t>
<t tx="ekr.20211016054411.468">/**
 * @param {LiteNode} node  The node whose index is needed
 * @return {number}        The index of the node it its parent's children array
 */
public childIndex(node: LiteNode): number {
  return (node.parent ? node.parent.children.findIndex(n =&gt; n === node) : -1);
}

</t>
<t tx="ekr.20211016054411.469">/**
 * @override
 */
public append(node: LiteElement, child: LiteNode) {
  if (child.parent) {
    this.remove(child);
  }
  node.children.push(child);
  child.parent = node;
  return child;
}

</t>
<t tx="ekr.20211016054411.47">
import './lib/mml3.js';

import {Mml3Handler} from '../../../../../../js/input/mathml/mml3/mml3.js';

if (MathJax.startup) {
  MathJax.startup.extendHandler(handler =&gt; Mml3Handler(handler));
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.470">/**
 * @override
 */
public insert(nchild: LiteNode, ochild: LiteNode) {
  if (nchild.parent) {
    this.remove(nchild);
  }
  if (ochild &amp;&amp; ochild.parent) {
    const i = this.childIndex(ochild);
    ochild.parent.children.splice(i, 0, nchild);
    nchild.parent = ochild.parent;
  }
}

</t>
<t tx="ekr.20211016054411.471">/**
 * @override
 */
public remove(child: LiteNode) {
  const i = this.childIndex(child);
  if (i &gt;= 0) {
    child.parent.children.splice(i, 1);
  }
  child.parent = null;
  return child;
}

</t>
<t tx="ekr.20211016054411.472">/**
 * @override
 */
public replace(nnode: LiteNode, onode: LiteNode) {
  const i = this.childIndex(onode);
  if (i &gt;= 0) {
    onode.parent.children[i] = nnode;
    nnode.parent = onode.parent;
    onode.parent = null;
  }
  return onode;
}

</t>
<t tx="ekr.20211016054411.473">/**
 * @override
 */
public clone(node: LiteElement) {
  const nnode = new LiteElement(node.kind);
  nnode.attributes = {...node.attributes};
  nnode.children = node.children.map(n =&gt; {
    if (n.kind === '#text') {
      return new LiteText((n as LiteText).value);
    } else if (n.kind === '#comment') {
      return new LiteComment((n as LiteComment).value);
    } else {
      const m = this.clone(n as LiteElement);
      m.parent = nnode;
      return m;
    }
  });
  return nnode;
}

</t>
<t tx="ekr.20211016054411.474">/**
 * @override
 */
public split(node: LiteText, n: number) {
  const text = new LiteText(node.value.slice(n));
  node.value = node.value.slice(0, n);
  node.parent.children.splice(this.childIndex(node) + 1, 0, text);
  text.parent = node.parent;
  return text;
}

</t>
<t tx="ekr.20211016054411.475">/**
 * @override
 */
public next(node: LiteNode) {
  const parent = node.parent;
  if (!parent) return null;
  const i = this.childIndex(node) + 1;
  return (i &gt;= 0 &amp;&amp; i &lt; parent.children.length ? parent.children[i] : null);
}

</t>
<t tx="ekr.20211016054411.476">/**
 * @override
 */
public previous(node: LiteNode) {
  const parent = node.parent;
  if (!parent) return null;
  const i = this.childIndex(node) - 1;
  return (i &gt;= 0 ? parent.children[i] : null);
}

</t>
<t tx="ekr.20211016054411.477">/**
 * @override
 */
public firstChild(node: LiteElement) {
  return node.children[0];
}

</t>
<t tx="ekr.20211016054411.478">/**
 * @override
 */
public lastChild(node: LiteElement) {
  return node.children[node.children.length - 1];
}

</t>
<t tx="ekr.20211016054411.479">/**
 * @override
 */
public childNodes(node: LiteElement) {
  return [...node.children];
}

</t>
<t tx="ekr.20211016054411.48">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/mml/extensions/mml3',        // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/mml/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.480">/**
 * @override
 */
public childNode(node: LiteElement, i: number) {
  return node.children[i];
}

</t>
<t tx="ekr.20211016054411.481">/**
 * @override
 */
public kind(node: LiteNode) {
  return node.kind;
}

</t>
<t tx="ekr.20211016054411.482">/**
 * @override
 */
public value(node: LiteNode | LiteText) {
  return (node.kind === '#text' ? (node as LiteText).value :
          node.kind === '#comment' ? (node as LiteComment).value.replace(/^&lt;!(--)?((?:.|\n)*)\1&gt;$/, '$2') : '');
}

</t>
<t tx="ekr.20211016054411.483">/**
 * @override
 */
public textContent(node: LiteElement): string {
  return node.children.reduce((s: string, n: LiteNode) =&gt; {
    return s + (n.kind === '#text' ? (n as LiteText).value :
                n.kind === '#comment' ? '' : this.textContent(n as LiteElement));
  }, '');
}

</t>
<t tx="ekr.20211016054411.484">/**
 * @override
 */
public innerHTML(node: LiteElement) {
  return this.parser.serializeInner(this, node);
}

</t>
<t tx="ekr.20211016054411.485">/**
 * @override
 */
public outerHTML(node: LiteElement) {
  return this.parser.serialize(this, node);
}

</t>
<t tx="ekr.20211016054411.486">/**
 * @override
 */
public serializeXML(node: LiteElement) {
  return this.parser.serialize(this, node, true);
}

</t>
<t tx="ekr.20211016054411.487">/**
 * @override
 */
public setAttribute(node: LiteElement, name: string, value: string | number, ns: string = null) {
  if (typeof value !== 'string') {
    value = String(value);
  }
  if (ns) {
    name = ns.replace(/.*\//, '') + ':' + name.replace(/^.*:/, '');
  }
  node.attributes[name] = value;
  if (name === 'style') {
    node.styles = null;
  }
}

</t>
<t tx="ekr.20211016054411.488">/**
 * @override
 */
public getAttribute(node: LiteElement, name: string) {
  return node.attributes[name];
}

</t>
<t tx="ekr.20211016054411.489">/**
 * @override
 */
public removeAttribute(node: LiteElement, name: string) {
  delete node.attributes[name];
}

</t>
<t tx="ekr.20211016054411.49"></t>
<t tx="ekr.20211016054411.490">/**
 * @override
 */
public hasAttribute(node: LiteElement, name: string) {
  return node.attributes.hasOwnProperty(name);
}

</t>
<t tx="ekr.20211016054411.491">/**
 * @override
 */
public allAttributes(node: LiteElement) {
  const attributes = node.attributes;
  const list = [];
  for (const name of Object.keys(attributes)) {
    list.push({name: name, value: attributes[name] as string});
  }
  return list;
}

</t>
<t tx="ekr.20211016054411.492">/**
 * @override
 */
public addClass(node: LiteElement, name: string) {
  const classes = (node.attributes['class'] as string || '').split(/ /);
  if (!classes.find(n =&gt; n === name)) {
    classes.push(name);
    node.attributes['class'] = classes.join(' ');
  }
}

</t>
<t tx="ekr.20211016054411.493">/**
 * @override
 */
public removeClass(node: LiteElement, name: string) {
  const classes = (node.attributes['class'] as string || '').split(/ /);
  const i = classes.findIndex(n =&gt; n === name);
  if (i &gt;= 0) {
    classes.splice(i, 1);
    node.attributes['class'] = classes.join(' ');
  }
}

</t>
<t tx="ekr.20211016054411.494">/**
 * @override
 */
public hasClass(node: LiteElement, name: string) {
  const classes = (node.attributes['class'] as string || '').split(/ /);
  return !!classes.find(n =&gt; n === name);
}

</t>
<t tx="ekr.20211016054411.495">/**
 * @override
 */
public setStyle(node: LiteElement, name: string, value: string) {
  if (!node.styles) {
    node.styles = new Styles(this.getAttribute(node, 'style'));
  }
  node.styles.set(name, value);
  node.attributes['style'] = node.styles.cssText;
}

</t>
<t tx="ekr.20211016054411.496">/**
 * @override
 */
public getStyle(node: LiteElement, name: string) {
  if (!node.styles) {
    const style = this.getAttribute(node, 'style');
    if (!style) {
      return '';
    }
    node.styles = new Styles(style);
  }
  return node.styles.get(name);
}

</t>
<t tx="ekr.20211016054411.497">/**
 * @override
 */
public allStyles(node: LiteElement) {
  return this.getAttribute(node, 'style');
}

</t>
<t tx="ekr.20211016054411.498">/**
 * @override
 */
public insertRules(node: LiteElement, rules: string[]) {
  node.children = [this.text(rules.join('\n\n') + '\n\n' + this.textContent(node))];
}

</t>
<t tx="ekr.20211016054411.499">/**
 * @override
 */
public fontSize(_node: LiteElement) {
  return this.options.fontSize;
}

</t>
<t tx="ekr.20211016054411.5">function quoteRE(string) {
  return string.replace(/([\\.{}[\]()?*^$])/g, '\\$1')
}

</t>
<t tx="ekr.20211016054411.50">
import {TeX} from '../../../../js/input/tex.js';
import {insert} from '../../../../js/util/Options.js';

export function registerTeX(packageList) {
  if (MathJax.startup) {
    MathJax.startup.registerConstructor('tex', TeX);
    MathJax.startup.useInput('tex');
    if (!MathJax.config.tex) {
      MathJax.config.tex = {};
    }
    let packages = MathJax.config.tex.packages;
    MathJax.config.tex.packages = packageList;
    if (packages) {
      insert(MathJax.config.tex, {packages});
    }
  }
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.500">/**
 * @override
 */
public fontFamily(_node: LiteElement) {
  return this.options.fontFamily;
}

</t>
<t tx="ekr.20211016054411.501">/**
 * @override
 */
public nodeSize(node: LiteElement, _em: number = 1, _local: boolean = null) {
  const text = this.textContent(node);
  const non = Array.from(text.replace(LiteAdaptor.cjkPattern, '')).length; // # of non-CJK chars
  const CJK = Array.from(text).length - non;                               // # of cjk chars
  return [
    CJK * this.options.cjkCharWidth + non * this.options.unknownCharWidth,
    this.options.unknownCharHeight
  ] as [number, number];
}

</t>
<t tx="ekr.20211016054411.502">/**
 * @override
 */
public nodeBBox(_node: LiteElement) {
  return {left: 0, right: 0, top: 0, bottom: 0};
}
</t>
<t tx="ekr.20211016054411.503">/**
 * The function to call to obtain a LiteAdaptor
 *
 * @param {OptionList} options  The options for the adaptor
 * @return {LiteAdaptor}        The newly created adaptor
 */
export function liteAdaptor(options: OptionList = null): LiteAdaptor {
  return new LiteAdaptor(options);
}
</t>
<t tx="ekr.20211016054411.504"></t>
<t tx="ekr.20211016054411.505">


/**
 * @fileoverview  Implements a lightweight DOM adaptor
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {LiteElement} from './Element.js';

/************************************************************/
/**
 * Implements a lightweight Document replacement
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.506">export class LiteDocument {
  /**
   * The document's &lt;html&gt; element
   */
  public root: LiteElement;
  /**
   * The document's &lt;head&gt; element
   */
  public head: LiteElement;
  /**
   * The document's &lt;body&gt; element
   */
  public body: LiteElement;

  /**
   * the DOCTYPE comment
   */
  public type: string;

  /**
   * The kind is always #document
   */
  public get kind() {
    return '#document';
  }

  /**
   * @constructor
   */
  @others
}
</t>
<t tx="ekr.20211016054411.507">constructor() {
  this.root = new LiteElement('html', {}, [
    this.head = new LiteElement('head'),
    this.body = new LiteElement('body')
  ]);
  this.type = '';
}
</t>
<t tx="ekr.20211016054411.508">


/**
 * @fileoverview  Implements a lightweight HTML Element replacement
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {OptionList} from '../../util/Options.js';
import {Styles} from '../../util/Styles.js';
import {LiteText} from './Text.js';

/**
 * Type for attribute lists
 */
export type LiteAttributeList = OptionList;

/**
 * Type for generic nodes in LiteAdaptor
 */
export type LiteNode = LiteElement | LiteText;


/************************************************************/
/**
 * Implements a lightweight HTML element replacement
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.509">export class LiteElement {
  /**
   * The type of element (tag name)
   */
  public kind: string;

  /**
   * The element's attribute list
   */
  public attributes: LiteAttributeList;

  /**
   * The element's children
   */
  public children: LiteNode[];

  /**
   * The element's parent
   */
  public parent: LiteElement;

  /**
   * The styles for the element
   */
  public styles: Styles;

  /**
   * @param {string} kind  The type of node to create
   * @param {LiteAttributeList} attributes  The list of attributes to set (if any)
   * @param {LiteNode[]} children  The children for the node (if any)
   * @constructor
   */
  @others
}
</t>
<t tx="ekr.20211016054411.51">
import './lib/tex.js';

import {registerTeX} from './register.js';
import {Loader} from '../../../../js/components/loader.js';

Loader.preLoad(
  'input/tex-base',
  '[tex]/ams',
  '[tex]/newcommand',
  '[tex]/noundefined',
  '[tex]/require',
  '[tex]/autoload',
  '[tex]/configmacros'
);

registerTeX([
  'base',
  'ams',
  'newcommand',
  'noundefined',
  'require',
  'autoload',
  'configmacros'
]);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.510">constructor(kind: string, attributes: LiteAttributeList = {}, children: LiteNode[] = []) {
  this.kind = kind;
  this.attributes = {...attributes};
  this.children = [...children];
  for (const child of this.children) {
    child.parent = this;
  }
  this.styles = null;
}
</t>
<t tx="ekr.20211016054411.511">


/**
 * @fileoverview  Implements a lightweight DOM adaptor
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {LiteNode} from './Element.js';

/************************************************************/
/**
 * Implements a lightweight DocumentFragment or NodeList replacement
 *
 * @template N  The HTMLElement node class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.512">export class LiteList&lt;N&gt; {
  /**
   * The nodes held in the fragment
   */
  public nodes: N[] = [];

  /**
   * @param {N[]} children  The children for the fragment
   * @constructor
   */
  @others
}
</t>
<t tx="ekr.20211016054411.513">constructor(children: N[]) {
  this.nodes = [...children];
}

</t>
<t tx="ekr.20211016054411.514">/**
 * @param {N} node  A node to append to the fragment
 */
public append(node: N) {
  this.nodes.push(node);
}

/**
 * Make this class iterable (so it can be used with Array.from())
 */
public [Symbol.iterator](): Iterator&lt;LiteNode&gt; {
  let i = 0;
  return {
    /**
     * @return {IteratorResult&lt;LiteNode&gt;}
     */
    next(): IteratorResult&lt;LiteNode&gt; {
      return (i === this.nodes.length ?
              {value: null, done: true} :
              {value: this.nodes[i++], done: false});
    }
  };
}

</t>
<t tx="ekr.20211016054411.515">



/**
 * @fileoverview  Implements a lightweight DOM adaptor
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AttributeData} from '../../core/DOMAdaptor.js';
import {MinDOMParser} from '../HTMLAdaptor.js';
import * as Entities from '../../util/Entities.js';
import {LiteDocument} from './Document.js';
import {LiteElement} from './Element.js';
import {LiteText, LiteComment} from './Text.js';
import {LiteAdaptor} from '../liteAdaptor.js';

/**
 * Patterns used in parsing serialized HTML
 */
export namespace PATTERNS {
  export const TAGNAME = '[a-z][^\\s\\n&gt;]*';
  export const ATTNAME = '[a-z][^\\s\\n&gt;=]*';
  export const VALUE =  `(?:'[^']*'|"[^"]*"|[^\\s\\n]+)`;
  export const VALUESPLIT =  `(?:'([^']*)'|"([^"]*)"|([^\\s\\n]+))`;
  export const SPACE = '(?:\\s|\\n)+';
  export const OPTIONALSPACE = '(?:\\s|\\n)*';
  export const ATTRIBUTE = ATTNAME + '(?:' + OPTIONALSPACE + '=' + OPTIONALSPACE + VALUE + ')?';
  export const ATTRIBUTESPLIT = '(' + ATTNAME + ')(?:' + OPTIONALSPACE + '=' + OPTIONALSPACE + VALUESPLIT + ')?';
  export const TAG = '(&lt;(?:' + TAGNAME + '(?:' + SPACE + ATTRIBUTE + ')*'
                       + OPTIONALSPACE + '/?|/' + TAGNAME + '|!--[^]*?--|![^]*?)(?:&gt;|$))';
  export const tag = new RegExp(TAG, 'i');
  export const attr = new RegExp(ATTRIBUTE, 'i');
  export const attrsplit = new RegExp(ATTRIBUTESPLIT, 'i');
}

/************************************************************/
/**
 * Implements a lightweight DOMParser replacement
 * (Not perfect, but handles most well-formed HTML)
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.516">export class LiteParser implements MinDOMParser&lt;LiteDocument&gt; {

  /**
   * The list of self-closing tags
   */
  public static SELF_CLOSING: {[name: string]: boolean} = {
    area: true,
    base: true,
    br: true,
    col: true,
    command: true,
    embed: true,
    hr: true,
    img: true,
    input: true,
    keygen: true,
    link: true,
    menuitem: true,
    meta: true,
    param: true,
    source: true,
    track: true,
    wbr: true
  };

  /**
   * The list of tags chose content is not parsed (PCDATA)
   */
  public static PCDATA: {[name: string]: boolean} = {
    option: true,
    textarea: true,
    fieldset: true,
    title: true,
    style: true,
    script: true
  };

  /**
   * The list of attributes that don't get entity translation
   */
  public static CDATA_ATTR: {[name: string]: boolean} = {
    style: true,
    datafld: true,
    datasrc: true,
    href: true,
    src: true,
    longdesc: true,
    usemap: true,
    cite: true,
    datetime: true,
    action: true,
    axis: true,
    profile: true,
    content: true,
    scheme: true
  };

  /**
   * @override
   */
  @others
</t>
<t tx="ekr.20211016054411.517">public parseFromString(text: string, _format: string = 'text/html', adaptor: LiteAdaptor = null) {
  const root = adaptor.createDocument();
  let node = adaptor.body(root);
  //
  // Split the HTML into an array of text, tag, text, tag, ...
  // Then loop through them and add text nodes and process tags.
  //
  let parts = text.replace(/&lt;\?.*?\?&gt;/g, '').split(PATTERNS.tag);
  while (parts.length) {
    const text = parts.shift();
    const tag = parts.shift();
    if (text) {
      this.addText(adaptor, node, text);
    }
    if (tag &amp;&amp; tag.charAt(tag.length - 1) === '&gt;') {
      if (tag.charAt(1) === '!') {
        this.addComment(adaptor, node, tag);
      } else if (tag.charAt(1) === '/') {
        node = this.closeTag(adaptor, node, tag);
      } else {
        node = this.openTag(adaptor, node, tag, parts);
      }
    }
  }
  this.checkDocument(adaptor, root);
  return root;
}

/**
 * @param {LiteAdaptor} adaptor  The adaptor for managing nodes
 * @param {LiteElement} node     The node to add a text element to
 * @param {string} text          The text for the text node
 * @return {LiteText}            The text element
 */
protected addText(adaptor: LiteAdaptor, node: LiteElement, text: string): LiteText {
  text = Entities.translate(text);
  return adaptor.append(node, adaptor.text(text)) as LiteText;
}

/**
 * @param {LiteAdaptor} adaptor  The adaptor for managing nodes
 * @param {LiteElement} node     The node to add a comment to
 * @param {string} comment       The text for the comment node
 * @return {LiteComment}         The comment element
 */
protected addComment(adaptor: LiteAdaptor, node: LiteElement, comment: string): LiteComment {
  return adaptor.append(node, new LiteComment(comment)) as LiteComment;
}

/**
 * @param {LiteAdaptor} adaptor  The adaptor for managing nodes
 * @param {LiteElement} node     The node to close
 * @param {string} tag           The close tag being processed
 * @return {LiteElement}         The first unclosed parent node
 */
protected closeTag(adaptor: LiteAdaptor, node: LiteElement, tag: string): LiteElement {
  const kind = tag.slice(2, tag.length - 1).toLowerCase();
  while (adaptor.parent(node) &amp;&amp; adaptor.kind(node) !== kind) {
    node = adaptor.parent(node);
  }
  return adaptor.parent(node);
}

/**
 * @param {LiteAdaptor} adaptor  The adaptor for managing nodes
 * @param {LiteElement} node     The parent node for the tag
 * @param {string} tag           The tag being processed
 * @param {string[]} parts       The rest of the text/tag array
 * @return {LiteElement}         The node to which the next tag will be added
 */
protected openTag(adaptor: LiteAdaptor, node: LiteElement, tag: string, parts: string[]): LiteElement {
  const PCDATA = (this.constructor as typeof LiteParser).PCDATA;
  const SELF_CLOSING = (this.constructor as typeof LiteParser).SELF_CLOSING;
  //
  // Get the child to be added to the node
  //
  const kind = tag.match(/&lt;(.*?)[\s\n&gt;\/]/)[1].toLowerCase();
  const child = adaptor.node(kind) as LiteElement;
  //
  // Split out the tag attributes as an array of space, name, value1, value3, value3,
  //   where value1, value2, and value3 are the value of the node (only one is defined)
  //   that come from matching quoted strings with ' (value1), " (value2) or no quotes (value3).
  //
  const attributes = tag.replace(/^&lt;.*?[\s\n&gt;]/, '').split(PATTERNS.attrsplit);
  //
  // If the tag was complete (it ends with &gt; or has no attributes)
  //
  if (attributes.pop().match(/&gt;$/) || attributes.length &lt; 5) {
    this.addAttributes(adaptor, child, attributes);
    adaptor.append(node, child);
    //
    // For non-self-closing tags,
    //   For tags whose contents is PCDATA (like &lt;script&gt;), collect the
    //     content up until the end tag, and continue adding nee tags
    //     to the current parent node.
    //   Otherwise, the child tag becames the parent node to which
    //     new tags are added
    //
    if (!SELF_CLOSING[kind] &amp;&amp; !tag.match(/\/&gt;$/)) {
      if (PCDATA[kind]) {
        this.handlePCDATA(adaptor, child, kind, parts);
      } else {
        node = child;
      }
    }
  }
  return node;
}

/**
 * @param {LiteAdaptor} adaptor  The adaptor for managing nodes
 * @param {LiteElement} node     The node getting the attributes
 * @param {string[]} attributes  The array of space, name, value1, value2, value3
 *                                as described above.
 */
protected addAttributes(adaptor: LiteAdaptor, node: LiteElement, attributes: string[]) {
  const CDATA_ATTR = (this.constructor as typeof LiteParser).CDATA_ATTR;
  while (attributes.length) {
    let [ , name, v1, v2, v3] = attributes.splice(0, 5);
    let value = v1 || v2 || v3 || '';
    if (!CDATA_ATTR[name]) {
      value = Entities.translate(value);
    }
    adaptor.setAttribute(node, name, value);
  }
}

/**
 * @param {LiteAdaptor} adaptor  The adaptor for managing nodes
 * @param {LiteElement} node     The node whose PCDATA content is being collected
 * @param {string} kind          The tag name being handled
 * @param {string[]} parts       The array of text/tag data for the document
 */
protected handlePCDATA(adaptor: LiteAdaptor, node: LiteElement, kind: string, parts: string[]) {
  const pcdata = [] as string[];
  const etag = '&lt;/' + kind + '&gt;';
  let ptag = '';
  //
  //  Look through the parts until the end tag is found
  //    Add the unmatched tag and the following text
  //    and try the next tag until we find the end tag.
  //
  while (parts.length &amp;&amp; ptag !== etag) {
    pcdata.push(ptag);
    pcdata.push(parts.shift());
    ptag = parts.shift();
  }
  //
  //  Add the collected contents as a text node
  //
  adaptor.append(node, adaptor.text(pcdata.join('')));
}

/**
 * Check the contents of the parsed document and move html, head, and body
 * tags into the document structure.  That way, you can parse fragments or
 * full documents and still get a valid document.
 *
 * @param {LiteAdaptor} adaptor  The adaptor for managing nodes
 * @param {LiteDocument} root    The document being checked
 */
protected checkDocument(adaptor: LiteAdaptor, root: LiteDocument) {
  let node = this.getOnlyChild(adaptor, adaptor.body(root));
  if (!node) return;
  for (const child of adaptor.childNodes(adaptor.body(root))) {
    if (child === node) {
      break;
    }
    if (child instanceof LiteComment &amp;&amp; child.value.match(/^&lt;!DOCTYPE/)) {
      root.type = child.value;
    }
  }
  switch (adaptor.kind(node)) {
  case 'html':
    //
    //  Look through the children for the head and body
    //
    for (const child of node.children) {
      switch (adaptor.kind(child)) {
      case 'head':
        root.head = child as LiteElement;
        break;
      case 'body':
        root.body = child as LiteElement;
        break;
      }
    }
    //
    //  Make sure the elements are linked in properly
    //
    root.root = node;
    adaptor.remove(node);
    if (adaptor.parent(root.body) !== node) {
      adaptor.append(node, root.body);
    }
    if (adaptor.parent(root.head) !== node) {
      adaptor.insert(root.head, root.body);
    }
    break;

  case 'head':
    root.head = adaptor.replace(node, root.head) as LiteElement;
    break;

  case 'body':
    root.body = adaptor.replace(node, root.body) as LiteElement;
    break;
  }
}

/**
 * Checks if the body has only one element child (as opposed to comments or text nodes)
 * and returns that sole element (or null if none or more than one)
 *
 * @param {LiteAdaptor} adaptor  The adaptor for managing nodes
 * @param {LiteElement} body     The body element being checked
 * @return {LiteElement}         The sole LiteElement child of the body, or null if none or more than one
 */
protected getOnlyChild(adaptor: LiteAdaptor, body: LiteElement): LiteElement {
  let node: LiteElement = null;
  for (const child of adaptor.childNodes(body)) {
    if (child instanceof LiteElement) {
      if (node) return null;
      node = child;
    }
  }
  return node;
}

</t>
<t tx="ekr.20211016054411.518">/**
 * @param {LiteAdaptor} adaptor  The adaptor for managing nodes
 * @param {LiteElement} node     The node to serialize
 * @param {boolean} xml          True when producing XML, false for HTML
 * @return {string}              The serialized element (like outerHTML)
 */
public serialize(adaptor: LiteAdaptor, node: LiteElement, xml: boolean = false): string {
  const SELF_CLOSING = (this.constructor as typeof LiteParser).SELF_CLOSING;
  const CDATA = (this.constructor as typeof LiteParser).CDATA_ATTR;
  const tag = adaptor.kind(node);
  const attributes = adaptor.allAttributes(node).map(
    (x: AttributeData) =&gt; x.name + '="' + (CDATA[x.name] ? x.value : this.protectAttribute(x.value)) + '"'
  ).join(' ');
  const content = this.serializeInner(adaptor, node, xml);
  const html =
    '&lt;' + tag + (attributes ? ' ' + attributes : '')
        + ((!xml || content) &amp;&amp; !SELF_CLOSING[tag] ? `&gt;${content}&lt;/${tag}&gt;` : xml ? '/&gt;' : '&gt;');
  return html;
}

</t>
<t tx="ekr.20211016054411.519">/**
 * @param {LiteAdaptor} adaptor  The adaptor for managing nodes
 * @param {LiteElement} node     The node whose innerHTML is needed
 * @return {string}              The serialized element (like innerHTML)
 */
public serializeInner(adaptor: LiteAdaptor, node: LiteElement, xml: boolean = false): string {
  const PCDATA = (this.constructor as typeof LiteParser).PCDATA;
  if (PCDATA.hasOwnProperty(node.kind)) {
    return adaptor.childNodes(node).map(x =&gt; adaptor.value(x)).join('');
  }
  return adaptor.childNodes(node).map(x =&gt; {
    const kind = adaptor.kind(x);
    return (kind === '#text' ? this.protectHTML(adaptor.value(x)) :
            kind === '#comment' ? (x as LiteComment).value :
            this.serialize(adaptor, x as LiteElement, xml));
  }).join('');
}

</t>
<t tx="ekr.20211016054411.52">
const PACKAGE = require('../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex',                        // the package to build
  '../../../../js',                   // location of the MathJax js library
  [                                   // packages to link to
    'components/src/startup/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.520">/**
 * @param {string} text  The attribute value to be HTML escaped
 * @return {string}      The string with " replaced by entities
 */
  public protectAttribute(text: string): string {
    if (typeof text !== 'string') {
      text = String(text);
    }
    return text.replace(/"/g, '&amp;quot;');
  }

  /**
   * @param {string} text  The text to be HTML escaped
   * @return {string}      The string with &amp;, &lt;, and &gt; replaced by entities
   */
  @others
}
</t>
<t tx="ekr.20211016054411.521">public protectHTML(text: string): string {
  return text.replace(/&amp;/g, '&amp;amp;')
    .replace(/&lt;/g, '&amp;lt;')
    .replace(/&gt;/g, '&amp;gt;');
}

</t>
<t tx="ekr.20211016054411.522">


/**
 * @fileoverview  Implements a lightweight Text element replacement
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {LiteElement} from './Element.js';

/************************************************************/
/**
 * Implements a lightweight Text node replacement
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.523">export class LiteText {
  /**
   * The text stored in the node
   */
  public value: string;

  /**
   * The parent holding this text
   */
  public parent: LiteElement;

  /**
   * The kind of node is #text
   */
  public get kind() {
    return '#text';
  }

  /**
   * @param {string} text  The text for the node
   * @constructor
   */
  @others
}

/************************************************************/
</t>
<t tx="ekr.20211016054411.524">constructor(text: string = '') {
  this.value = text;
}
</t>
<t tx="ekr.20211016054411.525">/**
 * Implements a lightweight Comment node replacement
 */
export class LiteComment extends LiteText {
  public get kind() {
    return '#comment';
  }
}
</t>
<t tx="ekr.20211016054411.526">


/**
 * @fileoverview  Implements a lightweight DOM adaptor
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {LiteElement} from './Element.js';
import {LiteDocument} from './Document.js';
import {LiteList} from './List.js';
import {LiteParser} from './Parser.js';

/************************************************************/
/**
 * Implements a lightweight Window replacement
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.527">export class LiteWindow {
  /**
   * The window's document instance
   */
  public document: LiteDocument;
  /**
   * The DOMParser class
   */
  public DOMParser: typeof LiteParser = LiteParser;
  /**
   * The NodeList class
   */
  public NodeList: typeof LiteList = LiteList;
  /**
   * The HTMLCollection class
   */
  public HTMLCollection: typeof LiteList = LiteList;
  /**
   * The HTMLElement class
   */
  public HTMLElement: typeof LiteElement = LiteElement;
  /**
   * The DocumentFragment class
   */
  public DocumentFragment: typeof LiteList  = LiteList;
  /**
   * The Document class
   */
  public Document: typeof LiteDocument  = LiteDocument;

  /**
   * Create the LiteWindow and its LiteDocument
   */
  @others
}
</t>
<t tx="ekr.20211016054411.528">constructor() {
  this.document = new LiteDocument();
}
</t>
<t tx="ekr.20211016054411.529"></t>
<t tx="ekr.20211016054411.53"></t>
<t tx="ekr.20211016054411.530">


/**
 * @fileoverview  Handles using MathJax global as config object, and to hold
 *                methods and data to be available to the page author
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

/**
 * The MathJax variable as a configuration object
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.531">export interface MathJaxConfig {
  [name: string]: any;
}

</t>
<t tx="ekr.20211016054411.532">/**
 * The object used to store class and other definitions
 * from the various MathJax modules so that they can be shared
 * among the various component webpack files
 */
export interface MathJaxLibrary {
  [name: string]: any;
}

</t>
<t tx="ekr.20211016054411.533">/**
 * The MathJax global object structure
 */
export interface MathJaxObject {
  version: string;
  _: MathJaxLibrary;
  config: MathJaxConfig;
}

declare const global: {MathJax: MathJaxObject | MathJaxConfig};

</t>
<t tx="ekr.20211016054411.534">/**
 * @param {any} x     An item to test if it is an object
 * @return {boolean}  True if the item is a non-null object
 */
export function isObject(x: any): boolean {
  return typeof x === 'object' &amp;&amp; x !== null;
}

</t>
<t tx="ekr.20211016054411.535">/**
 * Combine user-produced configuration with existing defaults.  Values
 * from src will replace those in dst.
 *
 * @param {any} dst      The destination config object (to be merged into)
 * @param {any} src      The source configuration object (to replace defaul values in dst}
 * @return {any}         The resulting (modified) config object
 */
export function combineConfig(dst: any, src: any): any {
  for (const id of Object.keys(src)) {
    if (id === '__esModule') continue;
    if (isObject(dst[id]) &amp;&amp; isObject(src[id]) &amp;&amp;
        !(src[id] instanceof Promise) /* needed for IE polyfill */) {
      combineConfig(dst[id], src[id]);
    } else if (src[id] !== null &amp;&amp; src[id] !== undefined) {
      dst[id] = src[id];
    }
  }
  return dst;
}

</t>
<t tx="ekr.20211016054411.536">/**
 * Combine defaults into a configuration that may already have
 * user-provided values.  Values in src only go into dst if
 * there is not already a value for that key.
 *
 * @param {any} dst      The destination config object (to be merged into)
 * @param {string} name  The id of the configuration block to modify (created if doesn't exist)
 * @param {any} src      The source configuration object (to replace defaul values in dst}
 * @return {any}         The resulting (modified) config object
 */
export function combineDefaults(dst: any, name: string, src: any): any {
  if (!dst[name]) {
    dst[name] = {};
  }
  dst = dst[name];
  for (const id of Object.keys(src)) {
    if (isObject(dst[id]) &amp;&amp; isObject(src[id])) {
      combineDefaults(dst, id, src[id]);
    } else if (dst[id] == null &amp;&amp; src[id] != null) {
      dst[id] = src[id];
    }
  }
  return dst;
}

</t>
<t tx="ekr.20211016054411.537">/**
 * Combine configuration or data with the existing MathJax object
 *
 * @param {any} config   The data to be merged into the MathJax object
 */
export function combineWithMathJax(config: any): MathJaxObject {
  return combineConfig(MathJax, config);
}


/**
 * Create the MathJax global, if it doesn't exist
 */
if (typeof global.MathJax === 'undefined') {
  global.MathJax = {} as MathJaxConfig;
}

/**
 * If the global is currently a config object, convert it to the
 * MathJaxObject containing the version, class library, and user
 * configuration.
 */
if (!(global.MathJax as MathJaxObject).version) {
  global.MathJax = {
    version: '3.2.0',
    _: {},
    config: global.MathJax
  };
}

/**
 * Export the global MathJax object for convenience
 */
export const MathJax = global.MathJax as MathJaxObject;
</t>
<t tx="ekr.20211016054411.538">


/**
 * The data for a CDN
 */
type CdnData = {
  api: string,         // URL for JSON containing version number
  key: string,         // key for versionb string in JSON data
  base?: string        // base URL for MathJax on the CDN (version is appended to get actual URL)
};

/**
 * A map of server names to CDN data
 */
type CdnList = Map&lt;string, CdnData&gt;;

/**
 * The data from a script tag for latest.js
 */
type ScriptData = {
  tag: HTMLScriptElement,   // the script DOM element
  src: string,              // the script's (possibly modified) source attribute
  id: string,               // the script's (possibly empty) id string
  version: string,          // the MathJax version where latest.js was loaded
  dir: string,              // the subdirectory where latest.js was loaded from (e.g., /es5)
  file: string,             // the file to be loaded by latest.js
  cdn: CdnData              // the CDN where latest.js was loaded
} | null;

/**
 * Add XMLHttpRequest and ActiveXObject (for IE)
 */
declare const window: {
  XMLHttpRequest: XMLHttpRequest;
  ActiveXObject: any;
};

/*=====================================================================*/


/**
 * The various CDNs and their data for how to obtain versions
 */
const CDN: CdnList = new Map([
  ['cdnjs.cloudflare.com', {
    api: 'https://api.cdnjs.com/libraries/mathjax?fields=version',
    key: 'version',
    base: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/'
  }],

  ['rawcdn.githack.com', {
    api: 'https://api.github.com/repos/mathjax/mathjax/releases/latest',
    key: 'tag_name',
    base: 'https://rawcdn.githack.com/mathjax/MathJax/'
  }],

  ['gitcdn.xyz', {
    api: 'https://api.github.com/repos/mathjax/mathjax/releases/latest',
    key: 'tag_name',
    base: 'https://gitcdn.xyz/mathjax/MathJax/'
  }],

  ['cdn.statically.io', {
    api: 'https://api.github.com/repos/mathjax/mathjax/releases/latest',
    key: 'tag_name',
    base: 'https://cdn.statically.io/gh/mathjax/MathJax/'
  }],

  ['unpkg.com', {
    api: 'https://api.github.com/repos/mathjax/mathjax/releases/latest',
    key: 'tag_name',
    base: 'https://unpkg.com/mathjax@'
  }],

  ['cdn.jsdelivr.net', {
    api: 'https://api.github.com/repos/mathjax/mathjax/releases/latest',
    key: 'tag_name',
    base: 'https://cdn.jsdelivr.net/npm/mathjax@'
  }]
]);

/**
 * The data for getting release versions from GitHub
 */
const GITHUB: CdnData = {
  api: 'https://api.github.com/repos/mathjax/mathjax/releases',
  key: 'tag_name'
};

/**
 * The major version number for MathJax (we will load the highest version with this initial number)
 */
const MJX_VERSION = 3;

/**
 * The name to use for the version in localStorage
 */
const MJX_LATEST = 'mjx-latest-version';

/**
 * The amount of time a cached version number is valid
 */
const SAVE_TIME = 1000 * 60 * 60 * 24 * 7;   // one week

/**
 * Data for the script that loaded latest.js
 */
let script: ScriptData = null;

/*=====================================================================*/

/**
 * Produce an error message on the console
 *
 * @param {string} message   The error message to display
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.539">function Error(message: string) {
  if (console &amp;&amp; console.error) {
    console.error('MathJax(latest.js): ' + message);
  }
}

</t>
<t tx="ekr.20211016054411.54"></t>
<t tx="ekr.20211016054411.540">/**
 * Create a ScriptData object from the given script tag and CDN
 *
 * @param {HTMLScriptElement} script   The script tag whose data is desired
 * @param {CdnData} cdn                The CDN data already obtained for the script (or null)
 * @return {ScriptData}                The data for the given script
 */
function scriptData(script: HTMLScriptElement, cdn: CdnData = null): ScriptData {
  script.parentNode.removeChild(script);
  let src = script.src;
  let file = src.replace(/.*?\/latest\.js(\?|$)/, '');
  if (file === '') {
    file = 'startup.js';
    src = src.replace(/\?$/, '') + '?' + file;
  }
  const version = (src.match(/(\d+\.\d+\.\d+)(\/es\d+)?\/latest.js\?/) || ['', ''])[1];
  const dir = (src.match(/(\/es\d+)\/latest.js\?/) || ['', ''])[1] || '';
  return {
    tag: script,
    src: src,
    id: script.id,
    version: version,
    dir: dir,
    file: file,
    cdn: cdn
  };
}

</t>
<t tx="ekr.20211016054411.541">/**
 * Check if a script refers to MathJax on one of the CDNs
 *
 * @param {HTMLScriptElement} script   The script tag to check
 * @return {ScriptData | null}         Non-null if the script is from a MathJax CDN
 */
function checkScript(script: HTMLScriptElement): ScriptData | null {
  for (const server of CDN.keys()) {
    const cdn = CDN.get(server);
    const url = cdn.base;
    const src = script.src;
    if (src &amp;&amp; src.substr(0, url.length) === url &amp;&amp; src.match(/\/latest\.js(\?|$)/)) {
      return scriptData(script, cdn);
    }
  }
  return null;
}

</t>
<t tx="ekr.20211016054411.542">/**
 * @return {ScriptData}   The data for the script tag that loaded latest.js
 */
function getScript(): ScriptData {
  if (document.currentScript) {
    return scriptData(document.currentScript as HTMLScriptElement);
  }
  const script = document.getElementById('MathJax-script') as HTMLScriptElement;
  if (script &amp;&amp; script.nodeName.toLowerCase() === 'script') {
    return checkScript(script);
  }
  const scripts = document.getElementsByTagName('script');
  for (const script of Array.from(scripts)) {
    const data = checkScript(script);
    if (data) {
      return data;
    }
  }
  return null;
}

/*=====================================================================*/

</t>
<t tx="ekr.20211016054411.543">/**
 * Save the version and date information in localStorage so we don't
 *   have to contact the CDN for every page that uses MathJax.
 *
 * @param {string} version   The version to save
 */
function saveVersion(version: string) {
  try {
    const data = version + ' ' + Date.now();
    localStorage.setItem(MJX_LATEST, data);
  } catch (err) {}
}

</t>
<t tx="ekr.20211016054411.544">/**
 * Get the version from localStorage, and make sure it is fresh enough to use
 *
 * @return {string|null}   The version string (if one has been saved) or null (if not)
 */
function getSavedVersion(): string | null {
  try {
    const [version, date] = localStorage.getItem(MJX_LATEST).split(/ /);
    if (date &amp;&amp; Date.now() - parseInt(date) &lt; SAVE_TIME) {
      return version;
    }
  } catch (err) {}
  return null;
}

/*=====================================================================*/

</t>
<t tx="ekr.20211016054411.545">/**
 * Create a script tag that loads the given URL
 *
 * @param {string} url  The URL of the javascript file to be loaded
 * @param {string} id   The id to use for the script tag
 */
function loadMathJax(url: string, id: string) {
  const script = document.createElement('script');
  script.type = 'text/javascript';
  script.async = true;
  script.src = url;
  if (id) {
    script.id = id;
  }
  const head = document.head || document.getElementsByTagName('head')[0] || document.body;
  if (head) {
    head.appendChild(script);
  } else {
    Error('Can\'t find the document &lt;head&gt; element');
  }
}

</t>
<t tx="ekr.20211016054411.546">/**
 * When we can't find the current version, use the original URL but remove the "latest.js"
 */
function loadDefaultMathJax() {
  if (script) {
    loadMathJax(script.src.replace(/\/latest\.js\?/, '/'), script.id);
  } else {
    Error('Can\'t determine the URL for loading MathJax');
  }
}

</t>
<t tx="ekr.20211016054411.547">/**
 * Load the given version using the base URL and file to load
 * (if the versions differ, run latest.js from the new version
 *  in case there are important changes there)
 *
 * @param {string} version   The version of MathJax to load from
 */
function loadVersion(version: string) {
  if (script.version &amp;&amp; script.version !== version) {
    script.file = 'latest.js?' + script.file;
  }
  loadMathJax(script.cdn.base + version + script.dir + '/' + script.file, script.id);
}

</t>
<t tx="ekr.20211016054411.548">/**
 * Check if the given version is acceptable and load it if it is.
 *
 * @param {string} version   The version to check if it is the latest (valid) one
 * @return {boolean}         True if it is the latest version, false if not
 */
function checkVersion(version: string): boolean {
  const major = parseInt(version.split(/\./)[0]);
  if (major === MJX_VERSION &amp;&amp; !version.match(/-(beta|rc)/)) {
    saveVersion(version);
    loadVersion(version);
    return true;
  }
  return false;
}

/*=====================================================================*/

</t>
<t tx="ekr.20211016054411.549">/**
 * Create an XMLHttpRequest object, if possible
 *
 * @return {XMLHttpRequest}   The XMLHttpRequest instance
 */
function getXMLHttpRequest(): XMLHttpRequest {
  if (window.XMLHttpRequest) {
    return new XMLHttpRequest();
  }
  if (window.ActiveXObject) {
    try { return new window.ActiveXObject('Msxml2.XMLHTTP'); } catch (err) {}
    try { return new window.ActiveXObject('Microsoft.XMLHTTP'); } catch (err) {}
  }
  return null;
}

</t>
<t tx="ekr.20211016054411.55">
import './lib/action.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.550">/**
 * Request JSON data from a CDN.  If it loads OK, call the action() function
 * on the data.  If not, or if the action returns false, run the failure() function.
 *
 * @param {CdnData} cdn        The CDN whose API will be used
 * @param {Function} action    The function to perform when the data are received
 * @param {Function} failure   The function to perform if data can't be obtained,
 *                               or if action() returns false
 */
function requestXML(cdn: CdnData, action: (json: JSON | JSON[]) =&gt; boolean, failure: () =&gt; void) {
  const request = getXMLHttpRequest();
  if (request) {
    // tslint:disable-next-line:jsdoc-require
    request.onreadystatechange = function () {
      if (request.readyState === 4) {
        if (request.status === 200) {
          !action(JSON.parse(request.responseText)) &amp;&amp; failure();
        } else {
          Error('Problem acquiring MathJax version: status = ' + request.status);
          failure();
        }
      }
    };
    request.open('GET', cdn.api, true);
    request.send(null);
  } else {
    Error('Can\'t create XMLHttpRequest object');
    failure();
  }
}

</t>
<t tx="ekr.20211016054411.551">/**
 * Look through the list of versions on GitHub and find the first one that
 * has the MJX_VERSION as its major version number, and load that.  If none
 * is found, run the version from which latest.js was loaded.
 */
function loadLatestGitVersion() {
  requestXML(GITHUB, (json: JSON[]) =&gt; {
    if (!(json instanceof Array)) return false;
    for (const data of json) {
      if (checkVersion((data as any)[GITHUB.key])) {
        return true;
      }
    }
    return false;
  }, loadDefaultMathJax);
}

</t>
<t tx="ekr.20211016054411.552">/**
 * Check the CDN for its latest version, and load that, if it is an
 * acceptable version, otherwise, (e.g., the current version has a
 * higher major version that MJX_VERSION), find the highest version on
 * GitHub with the given major version and use that.  If one can't be
 * found, use the version where latest.js was loaded.
 */
function loadLatestCdnVersion() {
  requestXML(script.cdn, function (json) {
    if (json instanceof Array) {
      json = json[0];
    }
    if (!checkVersion((json as any)[script.cdn.key])) {
      loadLatestGitVersion();
    }
    return true;
  }, loadDefaultMathJax);
}

/*=====================================================================*/


</t>
<t tx="ekr.20211016054411.553">/**
 * Find the script that loaded latest.js
 * If the script is from a known CDN:
 *   Retrieve the cached version (if any)
 *   Load the given version of the file, if the version is cached,
 *   Otherwise find the latest version and load that.
 * Otherwise,
 *   Load using the version where latest.js was loaded.
 */
export function loadLatest() {
  script = getScript();
  if (script &amp;&amp; script.cdn) {
    const version = getSavedVersion();
    version ?
      loadVersion(version) :
      loadLatestCdnVersion();
  } else {
    loadDefaultMathJax();
  }
}
</t>
<t tx="ekr.20211016054411.554">


/**
 * @fileoverview  A dynamic loader for loading MathJax components based
 *                on a user configuration, while handling timing of
 *                dependencies properly
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MathJax as MJGlobal, MathJaxObject as MJObject, MathJaxLibrary,
        MathJaxConfig as MJConfig, combineWithMathJax, combineDefaults} from './global.js';

import {Package, PackageError, PackageReady, PackageFailed} from './package.js';
export {Package, PackageError, PackageReady, PackageFailed} from './package.js';
export {MathJaxLibrary} from './global.js';

import {FunctionList} from '../util/FunctionList.js';

/*
 * The current directory (for webpack), and the browser document (if any)
 */
declare var __dirname: string;
declare var document: Document;

/**
 * Function used to determine path to a given package.
 */
export type PathFilterFunction = (data: {name: string, original: string, addExtension: boolean}) =&gt; boolean;
export type PathFilterList = (PathFilterFunction | [PathFilterFunction, number])[];

/**
 * Update the configuration structure to include the loader configuration
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.555">export interface MathJaxConfig extends MJConfig {
  loader?: {
    paths?: {[name: string]: string};          // The path prefixes for use in locations
    source?: {[name: string]: string};         // The URLs for the extensions, e.g., tex: [mathjax]/input/tex.js
    dependencies?: {[name: string]: string[]}; // The dependencies for each package
    provides?: {[name: string]: string[]};     // The sub-packages provided by each package
    load?: string[];                           // The packages to load (found in locations or [mathjax]/name])
    ready?: PackageReady;                      // A function to call when MathJax is ready
    failed?: PackageFailed;                    // A function to call when MathJax fails to load
    require?: (url: string) =&gt; any;            // A function for loading URLs
    pathFilters?: PathFilterList;              // List of path filters (and optional priorities) to add
    [name: string]: any;                       // Other configuration blocks
  };
}

</t>
<t tx="ekr.20211016054411.556">/**
 * Update the MathJax object to inclide the loader information
 */
export interface MathJaxObject extends MJObject {
  _: MathJaxLibrary;
  config: MathJaxConfig;
  loader: {
    ready: (...names: string[]) =&gt; Promise&lt;string[]&gt;; // Get a promise for when all the named packages are loaded
    load: (...names: string[]) =&gt; Promise&lt;string&gt;;    // Load the packages and return a promise for when ready
    preLoad: (...names: string[]) =&gt; void;            // Indicate that packages are already loaded by hand
    defaultReady: () =&gt; void;                         // The function performed when all packages are loaded
    getRoot: () =&gt; string;                            // Find the root URL for the MathJax files
    pathFilters: FunctionList;                        // the filters to use for looking for package paths
  };
  startup?: any;
}

/**
 * Functions used to filter the path to a package
 */
export const PathFilters: {[name: string]: PathFilterFunction} = {
  /**
   * Look up the path in the configuration's source list
   */
  source: (data) =&gt; {
    if (CONFIG.source.hasOwnProperty(data.name)) {
      data.name = CONFIG.source[data.name];
    }
    return true;
  },

  /**
   * Add [mathjax] before any relative path, and add .js if needed
   */
  normalize: (data) =&gt; {
    const name = data.name;
    if (!name.match(/^(?:[a-z]+:\/)?\/|[a-z]:\\|\[/i)) {
      data.name = '[mathjax]/' + name.replace(/^\.\//, '');
    }
    if (data.addExtension &amp;&amp; !name.match(/\.[^\/]+$/)) {
      data.name += '.js';
    }
    return true;
  },

  /**
   * Recursively replace path prefixes (e.g., [mathjax], [tex], etc.)
   */
  prefix: (data) =&gt; {
    let match;
    while ((match = data.name.match(/^\[([^\]]*)\]/))) {
      if (!CONFIG.paths.hasOwnProperty(match[1])) break;
      data.name = CONFIG.paths[match[1]] + data.name.substr(match[0].length);
    }
    return true;
  }

};


/**
 * The implementation of the dynamic loader
 */
export namespace Loader {

  
</t>
<t tx="ekr.20211016054411.557">/**
   * Get a promise that is resolved when all the named packages have been loaded.
   *
   * @param {string[]} names  The packages to wait for
   * @returns {Promise}       A promise that resolves when all the named packages are ready
   */
export function ready(...names: string[]): Promise&lt;string[]&gt; {
  if (names.length === 0) {
    names = Array.from(Package.packages.keys());
  }
  const promises = [];
  for (const name of names) {
    const extension = Package.packages.get(name) || new Package(name, true);
    promises.push(extension.promise);
  }
  return Promise.all(promises);
}

</t>
<t tx="ekr.20211016054411.558">/**
 * Load the named packages and return a promise that is resolved when they are all loaded
 *
 * @param {string[]} names  The packages to load
 * @returns {Promise}       A promise that resolves when all the named packages are ready
 */
export function load(...names: string[]): Promise&lt;void | string[]&gt; {
  if (names.length === 0) {
    return Promise.resolve();
  }
  const promises = [];
  for (const name of names) {
    let extension = Package.packages.get(name);
    if (!extension) {
      extension = new Package(name);
      extension.provides(CONFIG.provides[name]);
    }
    extension.checkNoLoad();
    promises.push(extension.promise);
  }
  Package.loadAll();
  return Promise.all(promises);
}

</t>
<t tx="ekr.20211016054411.559">/**
 * Indicate that the named packages are being loaded by hand (e.g., as part of a larger package).
 *
 * @param {string[]} names  The packages to load
 */
export function preLoad(...names: string[]) {
  for (const name of names) {
    let extension = Package.packages.get(name);
    if (!extension) {
      extension = new Package(name, true);
      extension.provides(CONFIG.provides[name]);
    }
    extension.loaded();
  }
}

</t>
<t tx="ekr.20211016054411.56">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/action',      // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.560">/**
 * The default function to perform when all the packages are loaded
 */
export function defaultReady() {
  if (typeof MathJax.startup !== 'undefined') {
    MathJax.config.startup.ready();
  }
}

</t>
<t tx="ekr.20211016054411.561">/**
 * Get the root location for where the MathJax package files are found
 *
 * @returns {string}   The root location (directory for node.js, URL for browser)
 */
  export function getRoot(): string {
    let root = __dirname + '/../../es5';
    if (typeof document !== 'undefined') {
      const script = document.currentScript || document.getElementById('MathJax-script');
      if (script) {
        root = (script as HTMLScriptElement).src.replace(/\/[^\/]*$/, '');
      }
    }
    return root;
  }

  /**
   * The filters to use to modify the paths used to obtain the packages
   */
  export const pathFilters = new FunctionList();

  /**
   * The default filters to use.
   */
  pathFilters.add(PathFilters.source, 0);
  pathFilters.add(PathFilters.normalize, 10);
  pathFilters.add(PathFilters.prefix, 20);
}

/**
 * Export the global MathJax object for convenience
 */
export const MathJax = MJGlobal as MathJaxObject;

/*
 * If the loader hasn't been added to the MathJax variable,
 *   Add the loader configuration, library, and data objects.
 *   Add any path filters from the configuration.
 */
if (typeof MathJax.loader === 'undefined') {

  combineDefaults(MathJax.config, 'loader', {
    paths: {
      mathjax: Loader.getRoot()
    },
    source: {},
    dependencies: {},
    provides: {},
    load: [],
    ready: Loader.defaultReady.bind(Loader),
    failed: (error: PackageError) =&gt; console.log(`MathJax(${error.package || '?'}): ${error.message}`),
    require: null,
    pathFilters: [],
  });
  combineWithMathJax({
    loader: Loader
  });

  //
  // Add any path filters from the configuration
  //
  for (const filter of MathJax.config.loader.pathFilters) {
    if (Array.isArray(filter)) {
      Loader.pathFilters.add(filter[0], filter[1]);
    } else {
      Loader.pathFilters.add(filter);
    }
  }
}

/**
 * Export the loader configuration for convenience
 */
export const CONFIG = MathJax.config.loader;
</t>
<t tx="ekr.20211016054411.562">


/**
 * @fileoverview  Implements component Package object for handling
 *                dynamic loading of components.
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {CONFIG, Loader} from './loader.js';

/*
 * The browser document (for creating scripts to load components)
 */
declare var document: Document;

/**
 * A map of package names to Package instances
 */
export type PackageMap = Map&lt;string, Package&gt;;

/**
 * An error class that includes the package name
 */
@others
@language typescript
@tabwidth -4
@ignore
</t>
<t tx="ekr.20211016054411.563">export class PackageError extends Error {
  /* tslint:disable:jsdoc-require */
  public package: string;
  @others
}

/**
 * Types for ready() and failed() functions and for promises
 */
export type PackageReady = (name: string) =&gt; string | void;
export type PackageFailed = (message: PackageError) =&gt; void;
export type PackagePromise = (resolve: PackageReady, reject: PackageFailed) =&gt; void;

</t>
<t tx="ekr.20211016054411.564">constructor(message: string, name: string) {
  super(message);
  this.package = name;
}
</t>
<t tx="ekr.20211016054411.565">/* tslint:enable */
/**
 * The configuration data for a package
 */
export interface PackageConfig {
  ready?: PackageReady;                // Function to call when package is loaded successfully
  failed?: PackageFailed;              // Function to call when package fails to load
  checkReady?: () =&gt; Promise&lt;void&gt;;    // Function called to see if package is fully loaded
                                       //   (may cause additional packages to load, for example)
}

</t>
<t tx="ekr.20211016054411.566">/**
 * The Package class for handling individual components
 */
export class Package {
  /**
   * The set of packages being used
   */
  public static packages: PackageMap = new Map();

  /**
   * The package name
   */
  public name: string;

  /**
   * True when the package has been loaded successfully
   */
  public isLoaded: boolean = false;

  /**
   * A promise that resolves when the package is loaded successfully and rejects when it fails to load
   */
  public promise: Promise&lt;string&gt;;

  /**
   * True when the package is being loaded but hasn't yet finished loading
   */
  protected isLoading: boolean = false;

  /**
   * True if the package has failed to load
   */
  protected hasFailed: boolean = false;

  /**
   * True if this package should be loaded automatically (e.g., it was created in reference
   *   to a MathJax.loader.ready() call when the package hasn't been requested to load)
   */
  protected noLoad: boolean;

  /**
   * The function that resolves the package's promise
   */
  protected resolve: PackageReady;

  /**
   * The function that rejects the package's promise
   */
  protected reject: PackageFailed;

  /**
   * The packages that require this one
   */
  protected dependents: Package[] = [];

  /**
   * The packages that this one depends on
   */
  protected dependencies: Package[] = [];

  /**
   * The number of dependencies that haven't yet been loaded
   */
  protected dependencyCount: number = 0;

  /**
   * The sub-packages that this one provides
   */
  protected provided: Package[] = [];

  /**
   * @return {boolean}  True when the package can be loaded (i.e., its dependencies are all loaded,
   *                    it is allowed to be loaded, isn't already loading, and hasn't failed to load
   *                    in the past)
   */
  get canLoad(): boolean {
    return this.dependencyCount === 0 &amp;&amp; !this.noLoad &amp;&amp; !this.isLoading &amp;&amp; !this.hasFailed;
  }

  /**
   * Compute the path for a package using the loader's path filters
   *
   * @param {string} name            The name of the package to resolve
   * @param {boolean} addExtension   True if .js should be added automatically
   * @return {string}                The path (file or URL) for this package
   */
  @others
}
</t>
<t tx="ekr.20211016054411.567">public static resolvePath(name: string, addExtension: boolean = true): string {
  const data = {name, original: name, addExtension};
  Loader.pathFilters.execute(data);
  return data.name;
}

</t>
<t tx="ekr.20211016054411.568">/**
 * Attempt to load all packages that are ready to be loaded
 * (i.e., that have no unloaded dependencies, and that haven't
 *  already been loaded, and that aren't in process of being
 *  loaded, and that aren't marked as noLoad).
 */
public static loadAll() {
  for (const extension of this.packages.values()) {
    if (extension.canLoad) {
      extension.load();
    }
  }
}

</t>
<t tx="ekr.20211016054411.569">/**
 * @param {string} name        The name of the package
 * @param {boolean} noLoad     True when the package is just for reference, not loading
 */
constructor(name: string, noLoad: boolean = false) {
  this.name = name;
  this.noLoad = noLoad;
  Package.packages.set(name, this);
  this.promise = this.makePromise(this.makeDependencies());
}

/**
 * @return {Promise&lt;string&gt;[]}   The array of promises that must be resolved before this package
 *                                 can be loaded
 */
protected makeDependencies(): Promise&lt;string&gt;[] {
  const promises = [] as Promise&lt;string&gt;[];
  const map = Package.packages;
  const noLoad = this.noLoad;
  const name = this.name;
  //
  //  Get the dependencies for this package
  //
  const dependencies = [] as string[];
  if (CONFIG.dependencies.hasOwnProperty(name)) {
    dependencies.push(...CONFIG.dependencies[name]);
  } else if (name !== 'core') {
    dependencies.push('core');  //  Add 'core' dependency by default
  }
  //
  //  Add all the dependencies (creating them, if needed)
  //    and record the promises of unloaded ones
  //
  for (const dependent of dependencies) {
    const extension = map.get(dependent) || new Package(dependent, noLoad);
    if (this.dependencies.indexOf(extension) &lt; 0) {
      extension.addDependent(this, noLoad);
      this.dependencies.push(extension);
      if (!extension.isLoaded) {
        this.dependencyCount++;
        promises.push(extension.promise);
      }
    }
  }
  //
  //  Return the collected promises
  //
  return promises;
}

/**
 * @param {Promise&lt;string&gt;[]} promises  The array or promises that must be resolved before
 *                                        this package can load
 */
protected makePromise(promises: Promise&lt;string&gt;[]) {
  //
  //  Make a promise and save its resolve/reject functions
  //
  let promise = new Promise&lt;string&gt;(((resolve, reject) =&gt; {
    this.resolve = resolve;
    this.reject = reject;
  }) as PackagePromise);
  //
  //  If there is a ready() function in the configuration for this package,
  //    Add running that to the promise
  //
  const config = (CONFIG[this.name] || {}) as PackageConfig;
  if (config.ready) {
    promise = promise.then((_name: string) =&gt; config.ready(this.name)) as Promise&lt;string&gt;;
  }
  //
  //  If there are promises for dependencies,
  //    Add the one for loading this package and create a promise for all of them
  //      (That way, if any of them fail to load, our promise will reject automatically)
  //
  if (promises.length) {
    promises.push(promise);
    promise = Promise.all(promises).then((names: string[]) =&gt; names.join(', '));
  }
  //
  //  If there is a failed() function in the configuration for this package,
  //    Add a catch to handle the error
  //
  if (config.failed) {
    promise.catch((message: string) =&gt; config.failed(new PackageError(message, this.name)));
  }
  //
  //  Return the promise that represents when this file is loaded
  //
  return promise;
}

</t>
<t tx="ekr.20211016054411.57"></t>
<t tx="ekr.20211016054411.570">/**
 * Attempt to load this package
 */
public load() {
  if (!this.isLoaded &amp;&amp; !this.isLoading &amp;&amp; !this.noLoad) {
    this.isLoading = true;
    const url = Package.resolvePath(this.name);
    if (CONFIG.require) {
      this.loadCustom(url);
    } else {
      this.loadScript(url);
    }
  }
}

/**
 * Load using a custom require method (usually the one from node.js)
 */
protected loadCustom(url: string) {
  try {
    const result = CONFIG.require(url);
    if (result instanceof Promise) {
      result.then(() =&gt; this.checkLoad())
        .catch((err) =&gt; this.failed('Can\'t load "' + url + '"\n' + err.message.trim()));
    } else {
      this.checkLoad();
    }
  } catch (err) {
    this.failed(err.message);
  }
}

/**
 * Load in a browser by inserting a script to load the proper URL
 */
protected loadScript(url: string) {
  const script = document.createElement('script');
  script.src = url;
  script.charset = 'UTF-8';
  script.onload = (_event) =&gt; this.checkLoad();
  script.onerror = (_event) =&gt; this.failed('Can\'t load "' + url + '"');
  // FIXME: Should there be a timeout failure as well?
  document.head.appendChild(script);
}

</t>
<t tx="ekr.20211016054411.571">/**
 * Called when the package is loaded.
 *
 * Mark it as loaded, and tell its dependents that this package
 *   has been loaded (may cause dependents to load themselves).
 *   Mark any provided packages as loaded.
 * Resolve the promise that says this package is loaded.
 */
public loaded() {
  this.isLoaded = true;
  this.isLoading = false;
  for (const dependent of this.dependents) {
    dependent.requirementSatisfied();
  }
  for (const provided of this.provided) {
    provided.loaded();
  }
  this.resolve(this.name);
}

/**
 * Called when the package fails to load for some reason
 *
 * Mark it as failed to load
 * Reject the promise for this package with an error
 *
 * @param {string} message   The error message for a load failure
 */
protected failed(message: string) {
  this.hasFailed = true;
  this.isLoading = false;
  this.reject(new PackageError(message, this.name));
}

/**
 * Check if a package is really ready to be marked as loaded
 * (When it is loaded, it may set its own checkReady() function
 *  as a means of loading additional packages.  E.g., an output
 *  jax may load a font package, dependent on its configuration.)
 *
 *  The configuration's checkReady() function returns a promise
 *  that allows the loader to wait for addition actions to finish
 *  before marking the file as loaded (or failing to load).
 */
protected checkLoad() {
  const config = (CONFIG[this.name] || {}) as PackageConfig;
  const checkReady = config.checkReady || (() =&gt; Promise.resolve());
  checkReady().then(() =&gt; this.loaded())
    .catch((message) =&gt; this.failed(message));
}

</t>
<t tx="ekr.20211016054411.572">/**
 * This is called when a dependency loads.
 *
 * Decrease the dependency count, and try to load this package
 * when the dependencies are all loaded.
 */
public requirementSatisfied() {
  if (this.dependencyCount) {
    this.dependencyCount--;
    if (this.canLoad) {
      this.load();
    }
  }
}

</t>
<t tx="ekr.20211016054411.573">/**
 * @param {string[]} names    The names of the packages that this package provides
 */
public provides(names: string[] = []) {
  for (const name of names) {
    let provided = Package.packages.get(name);
    if (!provided) {
      if (!CONFIG.dependencies[name]) {
        CONFIG.dependencies[name] = [];
      }
      CONFIG.dependencies[name].push(name);
      provided = new Package(name, true);
      provided.isLoading = true;
    }
    this.provided.push(provided);
  }
}

</t>
<t tx="ekr.20211016054411.574">/**
 * Add a package as a dependent, and if it is not just for reference,
 *   check if we need to change our noLoad status.
 *
 * @param {Package} extension   The package to add as a dependent
 * @param {boolean} noLoad      The noLoad status of the dependent
 */
public addDependent(extension: Package, noLoad: boolean) {
  this.dependents.push(extension);
  if (!noLoad) {
    this.checkNoLoad();
  }
}

</t>
<t tx="ekr.20211016054411.575">/**
 * If this package is marked as noLoad, change that and check all
 *   our dependencies to see if they need to change their noLoad
 *   status as well.
 *
 *  I.e., if there are dependencies that were set up for reference
 *  and a leaf node needs to be loaded, make sure all parent nodes
 *  are marked as needing to be loaded as well.
 */
public checkNoLoad() {
  if (this.noLoad) {
    this.noLoad = false;
    for (const dependency of this.dependencies) {
      dependency.checkNoLoad();
    }
  }
}

</t>
<t tx="ekr.20211016054411.576">


/**
 * @fileoverview  Implements a startup module that allows dynamically
 *                loaded components to register themselves, and then
 *                creates MathJax methods for typesetting and converting
 *                math based on the registered components.
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MathJax as MJGlobal, MathJaxObject as MJObject,
        MathJaxConfig as MJConfig, combineWithMathJax, combineDefaults} from './global.js';

import {MathDocument} from '../core/MathDocument.js';
import {MmlNode} from '../core/MmlTree/MmlNode.js';
import {Handler} from '../core/Handler.js';
import {InputJax} from '../core/InputJax.js';
import {OutputJax} from '../core/OutputJax.js';
import {CommonOutputJax} from '../output/common/OutputJax.js';
import {DOMAdaptor} from '../core/DOMAdaptor.js';
import {PrioritizedList} from '../util/PrioritizedList.js';
import {OptionList, OPTIONS} from '../util/Options.js';

import {TeX} from '../input/tex.js';


/**
 * Update the configuration structure to include the startup configuration
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.577">export interface MathJaxConfig extends MJConfig {
  startup?: {
    input?: string[];        // The names of the input jax to use
    output?: string;         // The name for the output jax to use
    handler?: string;        // The handler to register
    adaptor?: string;        // The name for the DOM adaptor to use
    document?: any;          // The document (or fragment or string) to work in
    elements?: any[];        // The elements to typeset (default is document body)
    typeset?: boolean;       // Perform initial typeset?
    ready?: () =&gt; void;      // Function to perform when components are ready
    pageReady?: () =&gt; void;  // Function to perform when page is ready
    invalidOption?: 'fatal' | 'warn'; // Do invalid options produce a warning, or throw an error?
    optionError?: (message: string, key: string) =&gt; void,  // Function to report invalid options
    [name: string]: any;     // Other configuration blocks
  };
}

/**
 * Generic types for the standard MathJax objects
 */
export type MATHDOCUMENT = MathDocument&lt;any, any, any&gt;;
export type HANDLER = Handler&lt;any, any, any&gt;;
export type DOMADAPTOR = DOMAdaptor&lt;any, any, any&gt;;
export type INPUTJAX = InputJax&lt;any, any, any&gt;;
export type OUTPUTJAX = OutputJax&lt;any, any, any&gt;;
export type COMMONJAX = CommonOutputJax&lt;any, any, any, any, any, any, any&gt;;
export type TEX = TeX&lt;any, any, any&gt;;

/**
 * A function to extend a handler class
 */
export type HandlerExtension = (handler: HANDLER) =&gt; HANDLER;

</t>
<t tx="ekr.20211016054411.578">/**
 * Update the MathJax object to inclide the startup information
 */
export interface MathJaxObject extends MJObject {
  config: MathJaxConfig;
  startup: {
    constructors: {[name: string]: any};
    input: INPUTJAX[];
    output: OUTPUTJAX;
    handler: HANDLER;
    adaptor: DOMADAPTOR;
    elements: any[];
    document: MATHDOCUMENT;
    promise: Promise&lt;void&gt;;
    /* tslint:disable:jsdoc-require */
    registerConstructor(name: string, constructor: any): void;
    useHander(name: string, force?: boolean): void;
    useAdaptor(name: string, force?: boolean): void;
    useOutput(name: string, force?: boolean): void;
    useInput(name: string, force?: boolean): void;
    extendHandler(extend: HandlerExtension): void;
    toMML(node: MmlNode): string;
    defaultReady(): void;
    getComponents(): void;
    makeMethods(): void;
    makeTypesetMethods(): void;
    makeOutputMethods(iname: string, oname: string, input: INPUTJAX): void;
    makeMmlMethods(name: string, input: INPUTJAX): void;
    makeResetMethod(name: string, input: INPUTJAX): void;
    getInputJax(): INPUTJAX[];
    getOutputJax(): OUTPUTJAX;
    getAdaptor(): DOMADAPTOR;
    getHandler(): HANDLER;
    /* tslint:enable */
  };
  [name: string]: any;    // Needed for the methods created by the startup module
}

/*
 * Access to the browser document
 */
declare var global: {document: Document};

/**
 * The implementation of the startup module
 */
export namespace Startup {

  /**
   * The array of handler extensions
   */
  const extensions = new PrioritizedList&lt;HandlerExtension&gt;();

  let visitor: any;  // the visitor for toMML();
  let mathjax: any;  // the mathjax variable from mathjax.js

  /**
   * The constructors (or other data) registered by the loaded packages
   */
  export const constructors: {[name: string]: any} = {};

  /**
   * The array of InputJax instances (created after everything is loaded)
   */
  export let input: INPUTJAX[] = [];

  /**
   * The OutputJax instance (created after everything is loaded)
   */
  export let output: OUTPUTJAX = null;

  /**
   * The Handler instance (created after everything is loaded)
   */
  export let handler: HANDLER = null;

  /**
   * The DOMAdaptor instance (created after everything is loaded)
   */
  export let adaptor: DOMADAPTOR = null;

  /**
   * The elements to process (set when typeset or conversion method is called)
   */
  export let elements: any[] = null;

  /**
   * The MathDocument instance being used (based on the browser DOM or configuration value)
   */
  export let document: MATHDOCUMENT = null;

  /**
   * The function that resolves the first promise defined below
   *   (called in the defaultReady() function when MathJax is finished with
   *    its initial typesetting)
   */
  export let promiseResolve: () =&gt; void;
  /**
   * The function that rejects the first promise defined below
   *   (called in the defaultReady() function when MathJax's initial
   *    typesetting fails)
   */
  export let promiseReject: (reason: any) =&gt; void;

  /**
   * The promise for the startup process (the initial typesetting).
   * It is resolves or rejected in the ready() function.
   */
  export let promise = new Promise&lt;void&gt;((resolve, reject) =&gt; {
    promiseResolve = resolve;
    promiseReject = reject;
  });

  /**
   * A promise that is resolved when the page contents are available
   * for processing.
   */
  export let pagePromise = new Promise&lt;void&gt;((resolve, _reject) =&gt; {
    const doc = global.document;
    if (!doc || !doc.readyState || doc.readyState === 'complete' || doc.readyState === 'interactive') {
      resolve();
    } else {
      const listener = () =&gt; resolve();
      doc.defaultView.addEventListener('load', listener, true);
      doc.defaultView.addEventListener('DOMContentLoaded', listener, true);
    }
  });

  
</t>
<t tx="ekr.20211016054411.579">/**
   * @param {MmlNode} node   The root of the tree to convert to serialized MathML
   * @return {string}        The serialized MathML from the tree
   */
export function toMML(node: MmlNode): string {
  return visitor.visitTree(node, document);
}

</t>
<t tx="ekr.20211016054411.58">
import './lib/all-packages.js';

import {AllPackages} from '../../../../../../js/input/tex/AllPackages.js';
import '../../../../../../js/input/tex/autoload/AutoloadConfiguration.js';
import '../../../../../../js/input/tex/require/RequireConfiguration.js';
import {insert} from '../../../../../../js/util/Options.js';

if (MathJax.loader) {
  MathJax.loader.preLoad('[tex]/autoload', '[tex]/require');
}
if (MathJax.startup) {
  if (!MathJax.config.tex) {
    MathJax.config.tex = {};
  }
  let packages = MathJax.config.tex.packages;
  MathJax.config.tex.packages = ['autoload', 'require', ...AllPackages];
  if (packages) {
    insert(MathJax.config.tex, {packages});
  }
}
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.580">/**
 * @param {string} name      The identifier for the constructor
 * @param {any} constructor  The constructor function for the named object
 */
export function registerConstructor(name: string, constructor: any) {
  constructors[name] = constructor;
}

</t>
<t tx="ekr.20211016054411.581">/**
 * @param {string} name      The identifier for the Handler to use
 * @param {boolean} force    True to force the Handler to be used even if one is already registered
 */
export function useHandler(name: string, force: boolean = false) {
  if (!CONFIG.handler || force) {
    CONFIG.handler = name;
  }
}

</t>
<t tx="ekr.20211016054411.582">/**
 * @param {string} name      The identifier for the DOMAdaptor to use
 * @param {boolean} force    True to force the DOMAdaptor to be used even if one is already registered
 */
export function useAdaptor(name: string, force: boolean = false) {
  if (!CONFIG.adaptor || force) {
    CONFIG.adaptor = name;
  }
}

</t>
<t tx="ekr.20211016054411.583">/**
 * @param {string} name      The identifier for the InputJax to use
 * @param {boolean} force    True to force the InputJax to be used even if the configuration already
 *                             included an array of input jax
 */
export function useInput(name: string, force: boolean = false) {
  if (!inputSpecified || force) {
    CONFIG.input.push(name);
  }
}

</t>
<t tx="ekr.20211016054411.584">/**
 * @param {string} name      The identifier for the OutputJax to use
 * @param {boolean} force    True to force the OutputJax to be used even if one is already registered
 */
export function useOutput(name: string, force: boolean = false) {
  if (!CONFIG.output || force) {
    CONFIG.output = name;
  }
}

</t>
<t tx="ekr.20211016054411.585">/**
 * @param {HandlerExtension} extend    A function to extend the handler class
 * @param {number} priority            The priority of the extension
 */
export function extendHandler(extend: HandlerExtension, priority: number = 10) {
  extensions.add(extend, priority);
}

</t>
<t tx="ekr.20211016054411.586">/**
 * The default ready() function called when all the packages have been loaded,
 * which creates the various objects needed by MathJax, creates the methods
 * based on the loaded components, and does the initial typesetting.
 *
 * Setting MathJax.startup.ready in the configuration will
 * override this, but you can call MathJax.startup.defaultReady()
 * within your own ready function if needed, or can use the
 * individual methods below to perform portions of the default
 * startup actions.
 */
export function defaultReady() {
  getComponents();
  makeMethods();
  pagePromise
    .then(() =&gt; CONFIG.pageReady())  // usually the initial typesetting call
    .then(() =&gt; promiseResolve())
    .catch((err) =&gt; promiseReject(err));
}

</t>
<t tx="ekr.20211016054411.587">/**
 * The default pageReady() function called when the page is ready to be processed,
 * which returns the function that performs the initial typesetting, if needed.
 *
 * Setting Mathjax.startup.pageReady in the configuration will override this.
 */
export function defaultPageReady() {
  return (CONFIG.typeset &amp;&amp; MathJax.typesetPromise ?
          MathJax.typesetPromise(CONFIG.elements) as Promise&lt;void&gt; :
          Promise.resolve());
}

</t>
<t tx="ekr.20211016054411.588">/**
 * Create the instances of the registered components
 */
export function getComponents() {
  visitor = new MathJax._.core.MmlTree.SerializedMmlVisitor.SerializedMmlVisitor();
  mathjax = MathJax._.mathjax.mathjax;
  input = getInputJax();
  output = getOutputJax();
  adaptor = getAdaptor();
  if (handler) {
    mathjax.handlers.unregister(handler);
  }
  handler = getHandler();
  if (handler) {
    mathjax.handlers.register(handler);
    document = getDocument();
  }
}

</t>
<t tx="ekr.20211016054411.589">/**
 * Make the typeset and conversion methods based on the registered components
 *
 * If there are both input and output jax,
 *   Make Typeset() and TypesetPromise() methods using the given jax,
 *    and TypesetClear() to clear the existing math items
 * For each input jax
 *   Make input2mml() and input2mmlPromise() conversion methods and inputReset() method
 *   If there is a registered output jax
 *     Make input2output() and input2outputPromise conversion methods and outputStylesheet() method
 */
export function makeMethods() {
  if (input &amp;&amp; output) {
    makeTypesetMethods();
  }
  const oname = (output ? output.name.toLowerCase() : '');
  for (const jax of input) {
    const iname = jax.name.toLowerCase();
    makeMmlMethods(iname, jax);
    makeResetMethod(iname, jax);
    if (output) {
      makeOutputMethods(iname, oname, jax);
    }
  }
}

</t>
<t tx="ekr.20211016054411.59">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/all-packages',// the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/startup/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.590">/**
 * Create the Typeset(elements?), TypesetPromise(elements?), and TypesetClear() methods.
 *
 * The first two call the document's render() function, the latter
 *   wrapped in handleRetriesFor() and returning the resulting promise.
 *
 * TypeseClear() clears all the MathItems from the document.
 */
export function makeTypesetMethods() {
  MathJax.typeset = (elements: any[] = null) =&gt; {
    document.options.elements = elements;
    document.reset();
    document.render();
  };
  MathJax.typesetPromise = (elements: any[] = null) =&gt; {
    document.options.elements = elements;
    document.reset();
    return mathjax.handleRetriesFor(() =&gt; {
      document.render();
    });
  };
  MathJax.typesetClear = (elements: any[] = null) =&gt; {
    if (elements) {
      document.clearMathItemsWithin(elements);
    } else {
      document.clear();
    }
  };
}

</t>
<t tx="ekr.20211016054411.591">/**
 * Make the input2output(math, options?) and input2outputPromise(math, options?) methods,
 *   and outputStylesheet() method, where "input" and "output" are replaced by the
 *   jax names (e.g., tex2chtml() and chtmlStyleSheet()).
 *
 * The first two perform the document's convert() call, with the Promise version wrapped in
 *   handlerRetriesFor() and returning the resulting promise.  The return value is the
 *   DOM object for the converted math.  Use MathJax.startup.adaptor.outerHTML(result)
 *   to get the serialized string version of the output.
 *
 * The outputStylesheet() method returns the styleSheet object for the output.
 * Use MathJax.startup.adaptor.innerHTML(MathJax.outputStylesheet()) to get the serialized
 *   version of the stylesheet.
 * The getMetricsFor(node, display) method returns the metric data for the given node
 *
 * @param {string} iname     The name of the input jax
 * @param {string} oname     The name of the output jax
 * @param {INPUTJAX} input   The input jax instance
 */
export function makeOutputMethods(iname: string, oname: string, input: INPUTJAX) {
  const name = iname + '2' + oname;
  MathJax[name] =
    (math: string, options: OptionList = {}) =&gt; {
      options.format = input.name;
      return document.convert(math, options);
    };
  MathJax[name + 'Promise'] =
    (math: string, options: OptionList = {}) =&gt; {
      options.format = input.name;
      return mathjax.handleRetriesFor(() =&gt; document.convert(math, options));
    };
  MathJax[oname + 'Stylesheet'] = () =&gt; output.styleSheet(document);
  if ('getMetricsFor' in output) {
    MathJax.getMetricsFor = (node: any, display: boolean) =&gt; {
      return (output as COMMONJAX).getMetricsFor(node, display);
    };
  }
}

</t>
<t tx="ekr.20211016054411.592">/**
 * Make the input2mml(math, options?) and input2mmlPromise(math, options?) methods,
 *   where "input" is replaced by the name of the input jax (e.g., "tex2mml").
 *
 * These convert the math to its serialized MathML representation.
 *   The second wraps the conversion in handleRetriesFor() and
 *   returns the resulting promise.
 *
 * @param {string} name     The name of the input jax
 * @param {INPUTJAX} input  The input jax itself
 */
export function makeMmlMethods(name: string, input: INPUTJAX) {
  const STATE = MathJax._.core.MathItem.STATE;
  MathJax[name + '2mml'] =
    (math: string, options: OptionList = {}) =&gt; {
      options.end = STATE.CONVERT;
      options.format = input.name;
      return toMML(document.convert(math, options));
    };
  MathJax[name + '2mmlPromise'] =
    (math: string, options: OptionList = {}) =&gt; {
      options.end = STATE.CONVERT;
      options.format = input.name;
      return mathjax.handleRetriesFor(() =&gt; toMML(document.convert(math, options)));
    };
}

</t>
<t tx="ekr.20211016054411.593">/**
 * Creates the inputReset() method, where "input" is replaced by the input jax name (e.g., "texReset()).
 *
 * The texReset() method clears the equation numbers and labels
 *
 * @param {string} name     The name of the input jax
 * @param {INPUTJAX} input  The input jax itself
 */
export function makeResetMethod(name: string, input: INPUTJAX) {
  MathJax[name + 'Reset'] = (...args: any[]) =&gt; input.reset(...args);
}

</t>
<t tx="ekr.20211016054411.594">/**
 * @return {INPUTJAX[]}  The array of instances of the registered input jax
 */
export function getInputJax(): INPUTJAX[] {
  const jax = [] as INPUTJAX[];
  for (const name of CONFIG.input) {
    const inputClass = constructors[name];
    if (inputClass) {
      jax.push(new inputClass(MathJax.config[name]));
    } else {
      throw Error('Input Jax "' + name + '" is not defined (has it been loaded?)');
    }
  }
  return jax;
}

</t>
<t tx="ekr.20211016054411.595">/**
 * @return {OUTPUTJAX}   The instance of the registered output jax
 */
export function getOutputJax(): OUTPUTJAX {
  const name = CONFIG.output;
  if (!name) return null;
  const outputClass = constructors[name];
  if (!outputClass) {
    throw Error('Output Jax "' + name + '" is not defined (has it been loaded?)');
  }
  return new outputClass(MathJax.config[name]);
}

</t>
<t tx="ekr.20211016054411.596">/**
 * @return {DOMADAPTOR}  The instance of the registered DOMAdator (the registered constructor
 *                         in this case is a function that creates the adaptor, not a class)
 */
export function getAdaptor(): DOMADAPTOR {
  const name = CONFIG.adaptor;
  if (!name || name === 'none') return null;
  const adaptor = constructors[name];
  if (!adaptor) {
    throw Error('DOMAdaptor "' + name + '" is not defined (has it been loaded?)');
  }
  return adaptor(MathJax.config[name]);
}

</t>
<t tx="ekr.20211016054411.597">/**
 * @return {HANDLER}  The instance of the registered Handler, extended by the registered extensions
 */
export function getHandler(): HANDLER {
  const name = CONFIG.handler;
  if (!name || name === 'none' || !adaptor) return null;
  const handlerClass = constructors[name];
  if (!handlerClass) {
    throw Error('Handler "' + name + '" is not defined (has it been loaded?)');
  }
  let handler = new handlerClass(adaptor, 5);
  for (const extend of extensions) {
    handler = extend.item(handler);
  }
  return handler;
}

</t>
<t tx="ekr.20211016054411.598">/**
 * Create the document with the given input and output jax
 *
 * @param {any=} root        The Document to use as the root document (or null to use the configured document)
 * @returns {MathDocument}   The MathDocument with the configured input and output jax
 */
  export function getDocument(root: any = null): MathDocument&lt;any, any, any&gt; {
    return mathjax.document(root || CONFIG.document, {
        ...MathJax.config.options,
      InputJax: input,
      OutputJax: output
    });
  }
}

/**
 * Export the global MathJax object for convenience
 */
export const MathJax = MJGlobal as MathJaxObject;

/*
 * If the startup module hasn't been added to the MathJax variable,
 *   Add the startup configuration and data objects, and
 *   set the method for handling invalid options, if provided.
 */
if (typeof MathJax._.startup === 'undefined') {

  combineDefaults(MathJax.config, 'startup', {
    input: [],
    output: '',
    handler: null,
    adaptor: null,
    document: (typeof document === 'undefined' ? '' : document),
    elements: null,
    typeset: true,
    ready: Startup.defaultReady.bind(Startup),
    pageReady: Startup.defaultPageReady.bind(Startup)
  });
  combineWithMathJax({
    startup: Startup,
    options: {}
  });

  if (MathJax.config.startup.invalidOption) {
    OPTIONS.invalidOption = MathJax.config.startup.invalidOption;
  }
  if (MathJax.config.startup.optionError) {
    OPTIONS.optionError = MathJax.config.startup.optionError;
  }

}

/**
 * Export the startup configuration for convenience
 */
export const CONFIG = MathJax.config.startup;


/*
 * Tells if the user configuration included input jax or not
 */
const inputSpecified = CONFIG.input.length !== 0;
</t>
<t tx="ekr.20211016054411.599"></t>
<t tx="ekr.20211016054411.6">/**
 * Creates the plugin needed for converting mathjax references to component/lib references
 *
 * @param {string} js          The location of the compiled js files
 * @param {string[]} lib       The component library directories to be linked against
 * @param {string} dir         The directory of the component being built
 * @return {any[]}             The plugin array (empty or with the conversion plugin)
 */
const PLUGINS = function (js, libs, dir) {
  const mjdir = path.resolve(__dirname, '..', 'js');
  const jsdir = path.resolve(dir, js);
  const mjRE = new RegExp('^(?:' + quoteRE(jsdir) + '|' + quoteRE(mjdir) + ')' + quoteRE(path.sep));
  const root = path.dirname(mjdir);
  const rootRE = new RegExp('^' + quoteRE(root + path.sep));
  const nodeRE = new RegExp('^' + quoteRE(path.dirname(root) + path.sep));

  //
  //  Record the js directory for the pack command
  //
  const plugins = [new webpack.DefinePlugin({jsdir: jsdir})];

  if (libs.length) {
    plugins.push(
      //
      // Move mathjax references to component libraries
      //
      new webpack.NormalModuleReplacementPlugin(
        /^[^\/]/,
        @others
};

</t>
<t tx="ekr.20211016054411.60"></t>
<t tx="ekr.20211016054411.600">/**
 * @fileoverview  The DOMAdaptor interface and abstract class
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {OptionList} from '../util/Options.js';

/**
 * The data for an attribute
 */
export type AttributeData = {
  name: string,
  value: string
};

/**
 * The data for an elements page-based bounding box
 */
export type PageBBox = {
  left: number,
  right: number,
  top: number,
  bottom: number
};


/*****************************************************************/
/**
 *  The interface for the DOMAdaptor
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.601">export interface DOMAdaptor&lt;N, T, D&gt; {
  /**
   * Document in which the nodes are to be created
   */
  document: D;

  /**
   * @param {string} text    The serialized document to be parsed
   * @param {string} format  The format (e.g., 'text/html' or 'text/xhtml')
   * @return {D}             The parsed document
   */
  parse(text: string, format?: string): D;

  /**
   * @param {string} kind      The tag name of the HTML node to be created
   * @param {OptionList} def   The properties to set for the created node
   * @param {(N|T)[]} children The child nodes for the created HTML node
   * @param {string} ns        The namespace in which to create the node
   * @return {N}               The generated HTML tree
   */
  node(kind: string, def?: OptionList, children?: (N | T)[], ns?: string): N;

  /**
   * @param {string} text   The text from which to create an HTML text node
   * @return {T}            The generated text node with the given text
   */
  text(text: string): T;

  /**
   * @param {D} doc   The document whose head is to be obtained
   * @return {N}      The document.head element
   */
  head(doc: D): N;

  /**
   * @param {D} doc   The document whose body is to be obtained
   * @return {N}      The document.body element
   */
  body(doc: D): N;

  /**
   * @param {D} doc   The document whose documentElement is to be obtained
   * @return {N}      The documentElement
   */
  root(doc: D): N;

  /**
   * @param {D} doc     The document whose doctype is to be obtained
   * @return {string}   The DOCTYPE comment
   */
  doctype(doc: D): string;

  /**
   * @param {N} node        The node to search for tags
   * @param {string} name   The name of the tag to search for
   * @param {string} ns     The namespace to search in (or null for no namespace)
   * @return {N[]}          The list of tags found
   */
  tags(node: N, name: string, ns?: string): N[];

  /**
   * Get a list of containers (to be searched for math).  These can be
   *  specified by CSS selector, or as actual DOM elements or arrays of such.
   *
   * @param {(string | N | N[])[]} nodes  The array of items to make into a container list
   * @param {D} document                  The document in which to search
   * @return {N[]}                        The array of containers to search
   */
  getElements(nodes: (string | N | N[])[], document: D): N[];

  /**
   * Determine if a container node contains a given node is somewhere in its DOM tree
   *
   * @param {N} container  The container to search
   * @param {N|T} node     The node to look for
   * @return {boolean}     True if the node is in the container's DOM tree
   */
  contains(container: N, node: N | T): boolean;

  /**
   * @param {N|T} node  The HTML node whose parent is to be obtained
   * @return {N}        The parent node of the given one
   */
  parent(node: N | T): N;

  /**
   * @param {N} node     The HTML node to be appended to
   * @param {N|T} child  The node or text to be appended
   * @return {N|T}       The appended node
   */
  append(node: N, child: N | T): N | T;

  /**
   * @param {N|T} nchild  The node or text to be inserted
   * @param {N|T} ochild  The node or text where the new child is to be added before it
   */
  insert(nchild: N | T, ochild: N | T): void;

  /**
   * @param {N|T} child  The node or text to be removed from its parent
   * @return {N|T}       The removed node
   */
  remove(child: N | T): N | T;

  /**
   * @param {N|T} nnode  The node to replace with
   * @param {N|T} onode  The child to be replaced
   * @return {N|T}       The removed node
   */
  replace(nnode: N | T, onode: N | T): N | T;

  /**
   * @param {N} node   The HTML node to be cloned
   * @return {N}       The copied node
   */
  clone(node: N): N;

  /**
   * @param {T} node    The HTML text node to be split
   * @param {number} n  The index of the character where the split will occur
   */
  split(node: T, n: number): T;

  /**
   * @param {N|T} node   The HTML node whose sibling is to be obtained
   * @return {N|T}       The node following the given one (or null)
   */
  next(node: N | T): N | T;

  /**
   * @param {N|T} node   The HTML node whose sibling is to be obtained
   * @return {N|T}       The node preceding the given one (or null)
   */
  previous(node: N | T): N | T;

  /**
   * @param {N} node   The HTML node whose child is to be obtained
   * @return {N|T}     The first child of the given node (or null)
   */
  firstChild(node: N): N | T;

  /**
   * @param {N} node   The HTML node whose child is to be obtained
   * @return {N}       The last child of the given node (or null)
   */
  lastChild(node: N): N | T;

  /**
   * @param {N} node    The HTML node whose children are to be obtained
   * @return {(N|T)[]}  Array of children for the given node (not a live list)
   */
  childNodes(node: N): (N | T)[];

  /**
   * @param {N} node    The HTML node whose child is to be obtained
   * @param {number} i  The index of the child to return
   * @return {N|T}      The i-th child node of the given node (or null)
   */
  childNode(node: N, i: number): N | T;

  /**
   * @param {N | T} node   The HTML node whose tag or node name is to be obtained
   * @return {string}      The tag or node name of the given node
   */
  kind(node: N | T): string;

  /**
   * @param {N|T} node  The HTML node whose value is to be obtained
   * @return {string}   The value of the given node
   */
  value(node: N | T): string;

  /**
   * @param {N} node    The HTML node whose text content is to be obtained
   * @return {string}   The text content of the given node
   */
  textContent(node: N): string;

  /**
   * @param {N} node   The HTML node whose inner HTML string is to be obtained
   * @return {string}  The serialized content of the node
   */
  innerHTML(node: N): string;

  /**
   * @param {N} node   The HTML node whose outer HTML string is to be obtained
   * @return {string}  The serialized node and its content
   */
  outerHTML(node: N): string;

  /**
   * @param {N} node   The HTML node whose serialized string is to be obtained
   * @return {string}  The serialized node and its content
   */
  serializeXML(node: N): string;

  /**
   * @param {N} node               The HTML node whose attribute is to be set
   * @param {string|number} name   The name of the attribute to set
   * @param {string} value         The new value of the attribute
   * @param {string=} ns           The namespace to use for the attribute
   */
  setAttribute(node: N, name: string, value: string | number, ns?: string): void;

  /**
   * @param {N} node           The HTML element whose attributes are to be set
   * @param {OptionList} def   The attributes to set on that node
   */
  setAttributes(node: N, def: OptionList): void;

  /**
   * @param {N} node        The HTML node whose attribute is to be obtained
   * @param {string} name   The name of the attribute to get
   * @return {string}       The value of the given attribute of the given node
   */
  getAttribute(node: N, name: string): string;

  /**
   * @param {N} node        The HTML node whose attribute is to be removed
   * @param {string} name   The name of the attribute to remove
   */
  removeAttribute(node: N, name: string): void;

  /**
   * @param {N} node        The HTML node whose attribute is to be tested
   * @param {string} name   The name of the attribute to test
   * @return {boolean}      True of the node has the given attribute defined
   */
  hasAttribute(node: N, name: string): boolean;

  /**
   * @param {N} node           The HTML node whose attributes are to be returned
   * @return {AttributeData[]} The list of attributes
   */
  allAttributes(node: N): AttributeData[];

  /**
   * @param {N} node        The HTML node whose class is to be augmented
   * @param {string} name   The class to be added
   */
  addClass(node: N, name: string): void;

  /**
   * @param {N} node        The HTML node whose class is to be changed
   * @param {string} name   The class to be removed
   */
  removeClass(node: N, name: string): void;

  /**
   * @param {N} node        The HTML node whose class is to be tested
   * @param {string} name   The class to test
   * @return {boolean}      True if the node has the given class
   */
  hasClass(node: N, name: string): boolean;

  /**
   * @param {N} node        The HTML node whose class list is needed
   * @return {string[]}     An array of the class names for this node
   */
  allClasses(node: N): string[];

  /**
   * @param {N} node        The HTML node whose style is to be changed
   * @param {string} name   The style to be set
   * @param {string} value  The new value of the style
   */
  setStyle(node: N, name: string, value: string): void;

  /**
   * @param {N} node        The HTML node whose style is to be obtained
   * @param {string} name   The style to be obtained
   * @return {string}       The value of the style
   */
  getStyle(node: N, name: string): string;

  /**
   * @param {N} node        The HTML node whose styles are to be returned
   * @return {string}       The cssText for the styles
   */
  allStyles(node: N): string;

  /**
   * @param {N} node           The stylesheet node where the rule will be added
   * @param {string[]} rules   The rule to add at the beginning of the stylesheet
   */
  insertRules(node: N, rules: string[]): void;

  /**
   * @param {N} node        The HTML node whose font size is to be determined
   * @return {number}       The font size (in pixels) of the node
   */
  fontSize(node: N): number;

  /**
   * @param {N} node        The HTML node whose font family is to be determined
   * @return {string}       The font family
   */
  fontFamily(node: N): string;

  /**
   * @param {N} node            The HTML node whose dimensions are to be determined
   * @param {number} em         The number of pixels in an em
   * @param {boolean} local     True if local coordinates are to be used in SVG elements
   * @return {[number, number]} The width and height (in ems) of the element
   */
  nodeSize(node: N, em?: number, local?: boolean): [number, number];


  /**
   * @param {N} node            The HTML node whose BBox is to be determined
   * @return {PageBBox}         BBox as {left, right, top, bottom} position on the page (in pixels)
   */
  nodeBBox(node: N): PageBBox;
}

/*****************************************************************/
/**
 *  Abstract DOMAdaptor class for creating HTML elements
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export abstract class AbstractDOMAdaptor&lt;N, T, D&gt; implements DOMAdaptor&lt;N, T, D&gt; {

  /**
   * The document in which the HTML nodes will be created
   */
  public document: D;

  
</t>
<t tx="ekr.20211016054411.602">/**
   * @param {D} document  The document in which the nodes will be created
   * @constructor
   */
constructor(document: D = null) {
  this.document = document;
}

/**
 * @override
 */
public abstract parse(text: string, format?: string): D;

</t>
<t tx="ekr.20211016054411.603">/**
 * @override
 */
public node(kind: string, def: OptionList = {}, children: (N | T)[] = [], ns?: string) {
  const node = this.create(kind, ns);
  this.setAttributes(node, def);
  for (const child of children) {
    this.append(node, child);
  }
  return node as N;
}

/**
 * @param {string} kind  The type of the node to create
 * @param {string} ns    The optional namespace in which to create the node
 * @return {N}           The created node
 */
protected abstract create(kind: string, ns?: string): N;

/**
 * @override
 */
public abstract text(text: string): T;

</t>
<t tx="ekr.20211016054411.604">/**
 * @param {N} node           The HTML element whose attributes are to be set
 * @param {OptionList} def   The attributes to set on that node
 */
public setAttributes(node: N, def: OptionList) {
  if (def.style &amp;&amp; typeof(def.style) !== 'string') {
    for (let key of Object.keys(def.style)) {
      this.setStyle(node, key.replace(/-([a-z])/g, (_m, c) =&gt; c.toUpperCase()), def.style[key]);
    }
  }
  if (def.properties) {
    for (let key of Object.keys(def.properties)) {
      (node as OptionList)[key] = def.properties[key];
    }
  }
  for (let key of Object.keys(def)) {
    if ((key !== 'style' || typeof(def.style) === 'string') &amp;&amp; key !== 'properties') {
      this.setAttribute(node, key, def[key]);
    }
  }
}

/**
 * @override
 */
public abstract head(doc: D): N;

/**
 * @override
 */
public abstract body(doc: D): N;

/**
 * @override
 */
public abstract root(doc: D): N;

/**
 * @override
 */
public abstract doctype(doc: D): string;

/**
 * @override
 */
public abstract tags(node: N, name: string, ns?: string): N[];

/**
 * @override
 */
public abstract getElements(nodes: (string | N | N[])[], document: D): N[];

/**
 * @override
 */
public abstract contains(container: N, node: N | T): boolean;

/**
 * @override
 */
public abstract parent(node: N | T): N;

/**
 * @override
 */
public abstract append(node: N, child: N | T): N | T;

/**
 * @override
 */
public abstract insert(nchild: N | T, ochild: N | T): void;

/**
 * @override
 */
public abstract remove(child: N | T): N | T;

</t>
<t tx="ekr.20211016054411.605">/**
 * @override
 */
public replace(nnode: N | T, onode: N | T) {
  this.insert(nnode, onode);
  this.remove(onode);
  return onode;
}

/**
 * @override
 */
public abstract clone(node: N):  N;

/**
 * @override
 */
public abstract split(node: T, n: number): T;

/**
 * @override
 */
public abstract next(node: N | T): N | T;

/**
 * @override
 */
public abstract previous(node: N | T): N | T;

/**
 * @override
 */
public abstract firstChild(node: N): N | T;

/**
 * @override
 */
public abstract lastChild(node: N): N | T;

/**
 * @override
 */
public abstract childNodes(node: N): (N | T)[];

</t>
<t tx="ekr.20211016054411.606">/**
 * @override
 */
public childNode(node: N, i: number) {
  return this.childNodes(node)[i];
}

/**
 * @override
 */
public abstract kind(node: N | T): string;

/**
 * @override
 */
public abstract value(node: N | T): string;

/**
 * @override
 */
public abstract textContent(node: N): string;

/**
 * @override
 */
public abstract innerHTML(node: N): string;

/**
 * @override
 */
public abstract outerHTML(node: N): string;

/**
 * @override
 */
public abstract serializeXML(node: N): string;

/**
 * @override
 */
public abstract setAttribute(node: N, name: string, value: string, ns?: string): void;

/**
 * @override
 */
public abstract getAttribute(node: N, name: string): string;

/**
 * @override
 */
public abstract removeAttribute(node: N, name: string): void;

/**
 * @override
 */
public abstract hasAttribute(node: N, name: string): boolean;


/**
 * @override
 */
public abstract allAttributes(node: N): AttributeData[];

/**
 * @override
 */
public abstract addClass(node: N, name: string): void;

/**
 * @override
 */
public abstract removeClass(node: N, name: string): void;

/**
 * @override
 */
public abstract hasClass(node: N, name: string): boolean;

</t>
<t tx="ekr.20211016054411.607">/**
 * @override
 */
  public allClasses(node: N) {
    const classes = this.getAttribute(node, 'class');
    return (!classes ? [] as string[] :
            classes.replace(/  +/g, ' ').replace(/^ /, '').replace(/ $/, '').split(/ /));
  }

  /**
   * @override
   */
  public abstract setStyle(node: N, name: string, value: string): void;

  /**
   * @override
   */
  public abstract getStyle(node: N, name: string): string;

  /**
   * @override
   */
  public abstract allStyles(node: N): string;

  /**
   * @override
   */
  public abstract insertRules(node: N, rules: string[]): void;

  /**
   * @override
   */
  public abstract fontSize(node: N): number;

  /**
   * @override
   */
  public abstract fontFamily(node: N): string;

  /**
   * @override
   */
  public abstract nodeSize(node: N, em?: number, local?: boolean): [number, number];

  /**
   * @override
   */
  public abstract nodeBBox(node: N): PageBBox;

}
</t>
<t tx="ekr.20211016054411.608">/**
 * @fileoverview  Interfaces and abstract classes for FindMath objects
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {userOptions, defaultOptions, OptionList} from '../util/Options.js';
import {ProtoItem} from './MathItem.js';

/*****************************************************************/
/**
 *  The FindMath interface
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template _D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.609">export interface FindMath&lt;N, T, _D&gt; {
  /**
   * One of two possibilities:  Look through a DOM element,
   *   or look through an array of strings for delimited math.
   *
   * @param {N} node   The node to search for math
   * @return {ProtoItem&lt;N, T&gt;[]}
   */
  findMath(node: N): ProtoItem&lt;N, T&gt;[];
  /**
   *
   * @param {string[]} strings    The strings to search for math
   * @return {ProtoItem&lt;N, T&gt;[]}
   */
  findMath(strings: string[]): ProtoItem&lt;N, T&gt;[];
}

/*****************************************************************/
/**
 *  The FindMath abstract class
 */

/**
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export abstract class AbstractFindMath&lt;N, T, D&gt; implements FindMath&lt;N, T, D&gt; {

  /**
   * The default options for FindMath
   */
  public static OPTIONS: OptionList = {};

  /**
   * The actual options for this instance
   */
  protected options: OptionList;

  
</t>
<t tx="ekr.20211016054411.61">
import './lib/ams.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.610">/**
   * @param {OptionList} options  The user options for this instance
   */
  constructor(options: OptionList) {
    let CLASS = this.constructor as typeof AbstractFindMath;
    this.options = userOptions(defaultOptions({}, CLASS.OPTIONS), options);
  }

  /**
   * Locate math in an Element or a string array;
   *
   * @param {Element | string[]} where  The node or string array to search for math
   * @return {ProtoItem[]}              The array of proto math items found
   */
  public abstract findMath(where: N | string[]): ProtoItem&lt;N, T&gt;[];

}
</t>
<t tx="ekr.20211016054411.611">/**
 * @fileoverview  Interfaces and abstract classes for Handler objects
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MathDocument, AbstractMathDocument, MathDocumentConstructor} from './MathDocument.js';
import {OptionList} from '../util/Options.js';
import {DOMAdaptor} from '../core/DOMAdaptor.js';

/*****************************************************************/
/**
 *  The Handler interface
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.612">export interface Handler&lt;N, T, D&gt; {
  /**
   * The name of the handler class
   */
  name: string;

  /**
   * The DOM Adaptor to use for managing HTML elements
   */
  adaptor: DOMAdaptor&lt;N, T, D&gt;;

  /**
   * The priority for the handler when handlers are polled
   *   to see which one can process a given document.
   */
  priority: number;

  /**
   * The class implementing the MathDocument for this handler
   *   (so it can be subclassed by extensions as needed)
   */
  documentClass: MathDocumentConstructor&lt;AbstractMathDocument&lt;N, T, D&gt;&gt;;

  /**
   * Checks to see if the handler can process a given document
   *
   * @param {any} document  The document to be processed (string, window, etc.)
   * @return {boolean}      True if this handler can process the given document
   */
  handlesDocument(document: any): boolean;

  /**
   * Creates a MathDocument for the given handler
   *
   * @param {any} document        The document to be handled
   * @param {OptionList} options  The options for the handling of the document
   * @return {MathDocument}       The MathDocument object that manages the processing
   */
  create(document: any, options: OptionList): MathDocument&lt;N, T, D&gt;;
}

/*****************************************************************/
/**
 *  The default MathDocument class (subclasses use their own)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
class DefaultMathDocument&lt;N, T, D&gt; extends AbstractMathDocument&lt;N, T, D&gt; {}

/*****************************************************************/
/**
 *  The Handler interface
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export abstract class AbstractHandler&lt;N, T, D&gt; implements Handler&lt;N, T, D&gt; {

  /**
   * The name of this class
   */
  public static NAME: string = 'generic';

  /**
   * The DOM Adaptor to use for managing HTML elements
   */
  public adaptor: DOMAdaptor&lt;N, T, D&gt;;

  /**
   * The priority for this handler
   */
  public priority: number;

  /**
   * The class implementing the MathDocument for this handler
   *   (so it can be subclassed by extensions as needed)
   */
  public documentClass: MathDocumentConstructor&lt;AbstractMathDocument&lt;N, T, D&gt;&gt; = DefaultMathDocument;

  
</t>
<t tx="ekr.20211016054411.613">/**
   * @param {number} priority  The priority to use for this handler
   *
   * @constructor
   */
constructor(adaptor: DOMAdaptor&lt;N, T, D&gt;, priority: number = 5) {
  this.adaptor = adaptor;
  this.priority = priority;
}

/**
 * @return {string}  The name of this handler class
 */
public get name(): string {
  return (this.constructor as typeof AbstractHandler).NAME;
}

</t>
<t tx="ekr.20211016054411.614">/**
 * @override
 */
public handlesDocument(_document: any) {
  return false;
}

</t>
<t tx="ekr.20211016054411.615">/**
 * @override
 */
  public create(document: any, options: OptionList) {
    return new this.documentClass(document, this.adaptor, options) as MathDocument&lt;N, T, D&gt;;
  }

}
</t>
<t tx="ekr.20211016054411.616">/**
 * @fileoverview  Implements the interface and abstract class for HandlerList objects
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PrioritizedList} from '../util/PrioritizedList.js';
import {OptionList} from '../util/Options.js';
import {Handler} from './Handler.js';
import {MathDocument} from './MathDocument.js';

/*****************************************************************/
/**
 *  The HandlerList class (extends PrioritizedList of Handlers)
 *
 *  This list is used to find the handler for a given document
 *  by asking each handler to test if it can handle the document,
 *  and when one can, it is asked to create its associated MathDocument.
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.617">export class HandlerList&lt;N, T, D&gt; extends PrioritizedList&lt;Handler&lt;N, T, D&gt;&gt;  {

  /**
   * @param {Handler} handler  The handler to register
   * @return {Handler}  The list item created for the handler
   */
  @others
</t>
<t tx="ekr.20211016054411.618">public register(handler: Handler&lt;N, T, D&gt;): Handler&lt;N, T, D&gt; {
  return this.add(handler, handler.priority);
}

</t>
<t tx="ekr.20211016054411.619">/**
 * @param {Handler} Handler  The handler to remove from the list
 */
public unregister(handler: Handler&lt;N, T, D&gt;) {
  this.remove(handler);
}

</t>
<t tx="ekr.20211016054411.62">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/ams',         // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.620">/**
 * @param {any} document  The document (string, window, DOM element, etc) to be handled
 * @return {Handler}      The handler from the list that can process the given document
 */
  public handlesDocument(document: any): Handler&lt;N, T, D&gt; {
    for (const item of this) {
      let handler = item.item;
      if (handler.handlesDocument(document)) {
        return handler;
      }
    }
    throw new Error(`Can't find handler for document`);
  }

  /**
   * @param {any} document        The document to be processed
   * @param {OptionList} options  The options for the handler
   * @return {MathDocument}       The MathDocument created by the handler for this document
   */
  @others
}
</t>
<t tx="ekr.20211016054411.621">public document(document: any, options: OptionList = null): MathDocument&lt;N, T, D&gt; {
  return this.handlesDocument(document).create(document, options);
}

</t>
<t tx="ekr.20211016054411.622">/**
 * @fileoverview  Implements the interface and abstract class for the InputJax
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MathDocument} from './MathDocument.js';
import {MathItem, ProtoItem} from './MathItem.js';
import {MmlNode} from './MmlTree/MmlNode.js';
import {MmlFactory} from './MmlTree/MmlFactory.js';
import {userOptions, defaultOptions, OptionList} from '../util/Options.js';
import {FunctionList} from '../util/FunctionList.js';
import {DOMAdaptor} from '../core/DOMAdaptor.js';

/*****************************************************************/
/**
 *  The InputJax interface
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.623">export interface InputJax&lt;N, T, D&gt; {
  /**
   * The name of the input jax subclass (e.g,. 'TeX')
   */
  name: string;

  /**
   * Whether this input jax processes string arrays or DOM nodes
   * (TeX and AsciiMath process strings, MathML processes DOM nodes)
   */
  processStrings: boolean;

  /**
   * The options for this input jax instance
   */
  options: OptionList;

  /**
   * Lists of pre- and post-filters to call before and after processing the input
   */
  preFilters: FunctionList;
  postFilters: FunctionList;

  /**
   * The DOM adaptor for managing HTML elements
   */
  adaptor: DOMAdaptor&lt;N, T, D&gt;;

  /**
   * The MmlFactory for this input jax
   */
  mmlFactory: MmlFactory;

  /**
   * @param {DOMAdaptor} adaptor The adaptor to use in this jax
   */
  setAdaptor(adaptor: DOMAdaptor&lt;N, T, D&gt;): void;

  /**
   * @param {MmlFactory} mmlFactory The MmlFactory to use in this jax
   */
  setMmlFactory(mmlFactory: MmlFactory): void;

  /**
   * Do any initialization that depends on the document being set up
   */
  initialize(): void;

  /**
   * Reset any needed features of the input jax
   *
   * @param {any[]} args   The arguments needed by the reset operation
   */
  reset(...args: any[]): void;

  /**
   * Finds the math within the DOM or the list of strings
   *
   * @param {N | string[]} which   The element or array of strings to be searched for math
   * @param {OptionList} options   The options for the search, if any
   * @return {ProtoItem[]}         Array of proto math items found (further processed by the
   *                                handler to produce actual MathItem objects)
   */
  findMath(which: N | string[], options?: OptionList): ProtoItem&lt;N, T&gt;[];

  /**
   * Convert the math in a math item into the internal format
   *
   * @param {MathItem} math  The MathItem whose math content is to processed
   * @param {MathDocument} document The MathDocument for this input jax.
   * @return {MmlNode}       The resulting internal node tree for the math
   */
  compile(math: MathItem&lt;N, T, D&gt;, document: MathDocument&lt;N, T, D&gt;): MmlNode;
}

/*****************************************************************/
/**
 *  The abstract InputJax class
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export abstract class AbstractInputJax&lt;N, T, D&gt; implements InputJax&lt;N, T, D&gt; {

  /**
   * The name of the input jax
   */
  public static NAME: string = 'generic';

  /**
   * The default options for the input jax
   */
  public static OPTIONS: OptionList = {};

  /**
   * The actual options supplied to the input jax
   */
  public options: OptionList;

  /**
   * Filters to run on the TeX string before it is processed
   */
  public preFilters: FunctionList;

  /**
   * Filters to run on the generated MathML after the TeX string is processed
   */
  public postFilters: FunctionList;

  /**
   * The DOMAdaptor for the MathDocument for this input jax
   */
  public adaptor: DOMAdaptor&lt;N, T, D&gt; = null;  // set by the handler
  /**
   * The MathML node factory
   */
  public mmlFactory: MmlFactory = null;        // set by the handler

  
</t>
<t tx="ekr.20211016054411.624">/**
   * @param {OptionList} options  The options to apply to this input jax
   *
   * @constructor
   */
constructor(options: OptionList = {}) {
  let CLASS = this.constructor as typeof AbstractInputJax;
  this.options = userOptions(defaultOptions({}, CLASS.OPTIONS), options);
  this.preFilters = new FunctionList();
  this.postFilters = new FunctionList();
}

/**
 * @return {string}  The name of this input jax class
 */
public get name(): string {
  return (this.constructor as typeof AbstractInputJax).NAME;
}

</t>
<t tx="ekr.20211016054411.625">/**
 * @override
 */
public setAdaptor(adaptor: DOMAdaptor&lt;N, T, D&gt;) {
  this.adaptor = adaptor;
}

</t>
<t tx="ekr.20211016054411.626">/**
 * @override
 */
public setMmlFactory(mmlFactory: MmlFactory) {
  this.mmlFactory = mmlFactory;
}

</t>
<t tx="ekr.20211016054411.627">/**
 * @override
 */
public initialize() {
}

</t>
<t tx="ekr.20211016054411.628">/**
 * @override
 */
public reset(..._args: any[]) {
}

/**
 * @return {boolean}  True means find math in string array, false means in DOM element
 */
public get processStrings(): boolean {
  return true;
}

</t>
<t tx="ekr.20211016054411.629">/**
 * @override
 */
  public findMath(_node: N | string[], _options?: OptionList) {
    return [] as ProtoItem&lt;N, T&gt;[];
  }

  /**
   * @override
   */
  public abstract compile(math: MathItem&lt;N, T, D&gt;, document: MathDocument&lt;N, T, D&gt;): MmlNode;

  /**
   * Execute a set of filters, passing them the MathItem and any needed data,
   *  and return the (possibly modified) data
   *
   * @param {FunctionList} filters   The list of functions to be performed
   * @param {MathItem} math          The math item that is being processed
   * @param {MathDocument} document  The math document containg the math item
   * @param {any} data               Whatever other data is needed
   * @return {any}                   The (possibly modified) data
   */
  protected executeFilters(
    filters: FunctionList, math: MathItem&lt;N, T, D&gt;,
    document: MathDocument&lt;N, T, D&gt;, data: any
  ): any {
    let args = {math: math, document: document, data: data};
    filters.execute(args);
    return args.data;
  }

}
</t>
<t tx="ekr.20211016054411.63"></t>
<t tx="ekr.20211016054411.630">/**
 * @fileoverview  Implements the interface and abstract class for MathDocument objects
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {userOptions, defaultOptions, OptionList, expandable} from '../util/Options.js';
import {InputJax, AbstractInputJax} from './InputJax.js';
import {OutputJax, AbstractOutputJax} from './OutputJax.js';
import {MathList, AbstractMathList} from './MathList.js';
import {MathItem, AbstractMathItem, STATE} from './MathItem.js';
import {MmlNode, TextNode} from './MmlTree/MmlNode.js';
import {MmlFactory} from '../core/MmlTree/MmlFactory.js';
import {DOMAdaptor} from '../core/DOMAdaptor.js';
import {BitField, BitFieldClass} from '../util/BitField.js';

import {PrioritizedList} from '../util/PrioritizedList.js';

/*****************************************************************/

/**
 * A function to call while rendering a document (usually calls a MathDocument method)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export type RenderDoc&lt;N, T, D&gt; = (document: MathDocument&lt;N, T, D&gt;) =&gt; boolean;

/**
 * A function to call while rendering a MathItem (usually calls one of its methods)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export type RenderMath&lt;N, T, D&gt; = (math: MathItem&lt;N, T, D&gt;, document: MathDocument&lt;N, T, D&gt;) =&gt; boolean;

/**
 * The data for an action to perform during rendering or conversion
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export type RenderData&lt;N, T, D&gt; = {
  id: string,                           //  The name for the action
  renderDoc: RenderDoc&lt;N, T, D&gt;,        //  The action to take during a render() call
  renderMath: RenderMath&lt;N, T, D&gt;,      //  The action to take during a rerender() or convert() call
  convert: boolean                      //  Whether the action is to be used during convert()
};

/**
 * The data used to define a render action in configurations and options objects
 *   (the key is used as the id, the number in the data below is the priority, and
 *    the remainind data is as described below; if no boolean is given, convert = true
 *    by default)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export type RenderAction&lt;N, T, D&gt; =
  [number] |                                                     // id (i.e., key) is method name to use
  [number, string] |                                             // string is method to call
  [number, string, string] |                                     // the strings are methods names for doc and math
  [number, RenderDoc&lt;N, T, D&gt;, RenderMath&lt;N, T, D&gt;] |            // explicit functions for doc and math
  [number, boolean] |                                            // same as first above, with boolean for convert
  [number, string, boolean] |                                    // same as second above, with boolean for convert
  [number, string, string, boolean] |                            // same as third above, with boolean for convert
  [number, RenderDoc&lt;N, T, D&gt;, RenderMath&lt;N, T, D&gt;, boolean];    // same as forth above, with boolean for convert

/**
 * An object representing a collection of rendering actions (id's tied to priority-and-method data)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export type RenderActions&lt;N, T, D&gt; = {[id: string]: RenderAction&lt;N, T, D&gt;};

/**
 * Implements a prioritized list of render actions.  Extensions can add actions to the list
 *   to make it easy to extend the normal typesetting and conversion operations.
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.631">export class RenderList&lt;N, T, D&gt; extends PrioritizedList&lt;RenderData&lt;N, T, D&gt;&gt; {

  /**
   * Creates a new RenderList from an initial list of rendering actions
   *
   * @param {RenderActions} actions The list of actions to take during render(), rerender(), and convert() calls
   * @returns {RenderList}    The newly created prioritied list
   */
  public static create&lt;N, T, D&gt;(actions: RenderActions&lt;N, T, D&gt;): RenderList&lt;N, T, D&gt; {
    const list = new this&lt;N, T, D&gt;();
    for (const id of Object.keys(actions)) {
      const [action, priority] = this.action&lt;N, T, D&gt;(id, actions[id]);
      if (priority) {
        list.add(action, priority);
      }
    }
    return list;
  }

  /**
   * Parses a RenderAction to produce the correspinding RenderData item
   *  (e.g., turn method names into actual functions that call the method)
   *
   * @param {string} id               The id of the action
   * @param {RenderAction} action     The RenderAction defining the action
   * @returns {[RenderData,number]}   The corresponding RenderData definition for the action and its priority
   */
  public static action&lt;N, T, D&gt;(id: string, action: RenderAction&lt;N, T, D&gt;): [RenderData&lt;N, T, D&gt;, number] {
    let renderDoc, renderMath;
    let convert = true;
    let priority = action[0];
    if (action.length === 1 || typeof action[1] === 'boolean') {
      action.length === 2 &amp;&amp; (convert = action[1] as boolean);
      [renderDoc, renderMath] = this.methodActions(id);
    } else if (typeof action[1] === 'string') {
      if (typeof action[2] === 'string') {
        action.length === 4 &amp;&amp; (convert = action[3] as boolean);
        const [method1, method2] = action.slice(1) as [string, string];
        [renderDoc, renderMath] = this.methodActions(method1, method2);
      } else {
        action.length === 3 &amp;&amp; (convert = action[2] as boolean);
        [renderDoc, renderMath] = this.methodActions(action[1] as string);
      }
    } else {
      action.length === 4 &amp;&amp; (convert = action[3] as boolean);
      [renderDoc, renderMath] = action.slice(1) as [RenderDoc&lt;N, T, D&gt;, RenderMath&lt;N, T, D&gt;];
    }
    return [{id, renderDoc, renderMath, convert} as RenderData&lt;N, T, D&gt;, priority];
  }

  /**
   * Produces the doc and math actions for the given method name(s)
   *   (a blank name is a no-op)
   *
   * @param {string} method1    The method to use for the render() call
   * @param {string} method1    The method to use for the rerender() and convert() calls
   */
  protected static methodActions(method1: string, method2: string = method1) {
    return [
      (document: any) =&gt; {method1 &amp;&amp; document[method1](); return false; },
      (math: any, document: any) =&gt; {method2 &amp;&amp; math[method2](document); return false; }
    ];
  }

  /**
   * Perform the document-level rendering functions
   *
   * @param {MathDocument} document   The MathDocument whose methods are to be called
   * @param {number=} start           The state at which to start rendering (default is UNPROCESSED)
   */
  @others
}

/*****************************************************************/

/**
 * The ways of specifying a container (a selector string, an actual node,
 * or an array of those (e.g., the result of document.getElementsByTagName())
 *
 * @template N  The HTMLElement node class
 */
export type ContainerList&lt;N&gt; = string | N | (string | N | N[])[];

/**
 * The options allowed for the reset() method
 */
export type ResetList = {
  all?: boolean,
  processed?: boolean,
  inputJax?: any[],
  outputJax?: any[]
};

/**
 * The default option list for the reset() method
 */
export const resetOptions: ResetList = {
  all: false,
  processed: false,
  inputJax: null,
  outputJax: null
};

/**
 * The option list for when all options are to be reset
 */
export const resetAllOptions: ResetList = {
  all: true,
  processed: true,
  inputJax: [],
  outputJax: []
};

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.632">public renderDoc(document: MathDocument&lt;N, T, D&gt;, start: number = STATE.UNPROCESSED) {
  for (const item of this.items) {
    if (item.priority &gt;= start) {
      if (item.item.renderDoc(document)) return;
    }
  }
}

</t>
<t tx="ekr.20211016054411.633">/**
 * Perform the MathItem-level rendering functions
 *
 * @param {MathItem} math           The MathItem whose methods are to be called
 * @param {MathDocument} document   The MathDocument to pass to the MathItem methods
 * @param {number=} start           The state at which to start rendering (default is UNPROCESSED)
 */
public renderMath(math: MathItem&lt;N, T, D&gt;, document: MathDocument&lt;N, T, D&gt;, start: number = STATE.UNPROCESSED) {
  for (const item of this.items) {
    if (item.priority &gt;= start) {
      if (item.item.renderMath(math, document)) return;
    }
  }
}

</t>
<t tx="ekr.20211016054411.634">/**
 * Perform the MathItem-level conversion functions
 *
 * @param {MathItem} math           The MathItem whose methods are to be called
 * @param {MathDocument} document   The MathDocument to pass to the MathItem methods
 * @param {number=} end             The state at which to end rendering (default is LAST)
 */
public renderConvert(math: MathItem&lt;N, T, D&gt;, document: MathDocument&lt;N, T, D&gt;, end: number = STATE.LAST) {
  for (const item of this.items) {
    if (item.priority &gt; end) return;
    if (item.item.convert) {
      if (item.item.renderMath(math, document)) return;
    }
  }
}

</t>
<t tx="ekr.20211016054411.635">/**
 * Find an entry in the list with a given ID
 *
 * @param {string} id            The id to search for
 * @returns {RenderData|null}   The data for the given id, if found, or null
 */
public findID(id: string): RenderData&lt;N, T, D&gt; | null {
  for (const item of this.items) {
    if (item.item.id === id) {
      return item.item;
    }
  }
  return null;
}

</t>
<t tx="ekr.20211016054411.636">/**
 *  The MathDocument interface
 *
 *  The MathDocument is created by MathJax.Document() and holds the
 *  document, the math found in it, and so on.  The methods of the
 *  MathDocument all return the MathDocument itself, so you can
 *  chain the method calls.  E.g.,
 *
 *    const html = MathJax.Document('&lt;html&gt;...&lt;/html&gt;');
 *    html.findMath()
 *        .compile()
 *        .getMetrics()
 *        .typeset()
 *        .updateDocument();
 *
 *  The MathDocument is the main interface for page authors to
 *  interact with MathJax.
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export interface MathDocument&lt;N, T, D&gt; {
  /**
   * The document being processed (e.g., DOM document, or Markdown string)
   */
  document: D;

  /**
   * The kind of MathDocument (e.g., "HTML")
   */
  kind: string;

  /**
   * The options for the document
   */
  options: OptionList;

  /**
   * The list of MathItems found in this page
   */
  math: MathList&lt;N, T, D&gt;;

  /**
   * The list of actions to take during a render() or convert() call
   */
  renderActions: RenderList&lt;N, T, D&gt;;

  /**
   * This object tracks what operations have been performed, so that (when
   *  asynchronous operations are used), the ones that have already been
   *  completed won't be performed again.
   */
  processed: BitField;

  /**
   * An array of input jax to run on the document
   */
  inputJax: InputJax&lt;N, T, D&gt;[];

  /**
   * The output jax to use for the document
   */
  outputJax: OutputJax&lt;N, T, D&gt;;

  /**
   * The DOM adaptor to use for input and output
   */
  adaptor: DOMAdaptor&lt;N, T, D&gt;;

  /**
   * The MmlFactory to be used for input jax and error processing
   */
  mmlFactory: MmlFactory;

  /**
   * @param {string} id      The id of the action to add
   * @param {any[]} action   The RenderAction to take
   */
  addRenderAction(id: string, ...action: any[]): void;

  /**
   * @param {string} id   The id of the action to remove
   */
  removeRenderAction(id: string): void;

  /**
   * Perform the renderActions on the document
   */
  render(): MathDocument&lt;N, T, D&gt;;

  /**
   * Rerender the MathItems on the page
   *
   * @param {number=} start    The state to start rerendering at
   * @return {MathDocument}    The math document instance
   */
  rerender(start?: number): MathDocument&lt;N, T, D&gt;;

  /**
   * Convert a math string to the document's output format
   *
   * @param {string} math           The math string to convert
   * @params {OptionList} options   The options for the conversion (e.g., format, ex, em, etc.)
   * @return {MmlNode|N}            The MmlNode or N node for the converted content
   */
  convert(math: string, options?: OptionList): MmlNode | N;

  /**
   * Locates the math in the document and constructs the MathList
   *  for the document.
   *
   * @param {OptionList} options  The options for locating the math
   * @return {MathDocument}       The math document instance
   */
  findMath(options?: OptionList): MathDocument&lt;N, T, D&gt;;

  /**
   * Calls the input jax to process the MathItems in the MathList
   *
   * @return {MathDocument}  The math document instance
   */
  compile(): MathDocument&lt;N, T, D&gt;;

  /**
   * Gets the metric information for the MathItems
   *
   * @return {MathDocument}  The math document instance
   */
  getMetrics(): MathDocument&lt;N, T, D&gt;;

  /**
   * Calls the output jax to process the compiled math in the MathList
   *
   * @return {MathDocument}  The math document instance
   */
  typeset(): MathDocument&lt;N, T, D&gt;;

  /**
   * Updates the document to include the typeset math
   *
   * @return {MathDocument}  The math document instance
   */
  updateDocument(): MathDocument&lt;N, T, D&gt;;

  /**
   * Removes the typeset math from the document
   *
   * @param {boolean} restore  True if the original math should be put
   *                            back into the document as well
   * @return {MathDocument}    The math document instance
   */
  removeFromDocument(restore?: boolean): MathDocument&lt;N, T, D&gt;;

  /**
   * Set the state of the document (allowing you to roll back
   *  the state to a previous one, if needed).
   *
   * @param {number} state     The new state of the document
   * @param {boolean} restore  True if the original math should be put
   *                            back into the document during the rollback
   * @return {MathDocument}    The math document instance
   */
  state(state: number, restore?: boolean): MathDocument&lt;N, T, D&gt;;

  /**
   * Rerender the MathItems on the page
   *
   * @param {number=} start    The state to start rerendering at
   * @param {number=} end      The state to end rerendering at
   * @return {MathDocument}    The math document instance
   */
  rerender(start?: number, end?: number): MathDocument&lt;N, T, D&gt;;

  /**
   * Clear the processed values so that the document can be reprocessed
   *
   * @param {ResetList} options   The things to be reset
   * @return {MathDocument}       The math document instance
   */
  reset(options?: ResetList): MathDocument&lt;N, T, D&gt;;

  /**
   * Reset the processed values and clear the MathList (so that new math
   * can be processed in the document).
   *
   * @return {MathDocument}  The math document instance
   */
  clear(): MathDocument&lt;N, T, D&gt;;

  /**
   * Merges a MathList into the list for this document.
   *
   * @param {MathList} list   The MathList to be merged into this document's list
   * @return {MathDocument}   The math document instance
   */
  concat(list: MathList&lt;N, T, D&gt;): MathDocument&lt;N, T, D&gt;;

  /**
   * Clear the typeset MathItems that are within the given container
   *   from the document's MathList.  (E.g., when the content of the
   *   container has been updated and you want to remove the
   *   associated MathItems)
   *
   * @param {ContainerList&lt;N&gt;} elements   The container DOM elements whose math items are to be removed
   * @return {MathItem&lt;N,T,D&gt;[]}          The removed MathItems
   */
  clearMathItemsWithin(containers: ContainerList&lt;N&gt;): MathItem&lt;N, T, D&gt;[];

  /**
   * Get the typeset MathItems that are within a given container.
   *
   * @param {ContainerList&lt;N&gt;} elements   The container DOM elements whose math items are to be found
   * @return {MathItem&lt;N,T,D&gt;[]}          The list of MathItems within that container
   */
  getMathItemsWithin(elements: ContainerList&lt;N&gt;): MathItem&lt;N, T, D&gt;[];

}

/*****************************************************************/

</t>
<t tx="ekr.20211016054411.637">/**
 * Defaults used when input jax isn't specified
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
class DefaultInputJax&lt;N, T, D&gt; extends AbstractInputJax&lt;N, T, D&gt; {
  /**
   * @override
   */
  @others
}

</t>
<t tx="ekr.20211016054411.638">public compile(_math: MathItem&lt;N, T, D&gt;) {
  return null as MmlNode;
}
</t>
<t tx="ekr.20211016054411.639">/**
 * Defaults used when ouput jax isn't specified
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
class DefaultOutputJax&lt;N, T, D&gt; extends AbstractOutputJax&lt;N, T, D&gt; {
  /**
   * @override
   */
  @others
}

/**
 * Default for the MathList when one isn't specified
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
class DefaultMathList&lt;N, T, D&gt; extends AbstractMathList&lt;N, T, D&gt; {}

/**
 * Default for the Mathitem when one isn't specified
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
class DefaultMathItem&lt;N, T, D&gt; extends AbstractMathItem&lt;N, T, D&gt; {}

/*****************************************************************/
/**
 *  Implements the abstract MathDocument class
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export abstract class AbstractMathDocument&lt;N, T, D&gt; implements MathDocument&lt;N, T, D&gt; {

  /**
   * The type of MathDocument
   */
  public static KIND: string = 'MathDocument';

  /**
   * The default options for the document
   */
  public static OPTIONS: OptionList = {
    OutputJax: null,           // instance of an OutputJax for the document
    InputJax: null,            // instance of an InputJax or an array of them
    MmlFactory: null,          // instance of a MmlFactory for this document
    MathList: DefaultMathList, // constructor for a MathList to use for the document
    MathItem: DefaultMathItem, // constructor for a MathItem to use for the MathList
    compileError: (doc: AbstractMathDocument&lt;any, any, any&gt;, math: MathItem&lt;any, any, any&gt;, err: Error) =&gt; {
      doc.compileError(math, err);
    },
    typesetError: (doc: AbstractMathDocument&lt;any, any, any&gt;, math: MathItem&lt;any, any, any&gt;, err: Error) =&gt; {
      doc.typesetError(math, err);
    },
    renderActions: expandable({
      find:    [STATE.FINDMATH, 'findMath', '', false],
      compile: [STATE.COMPILED],
      metrics: [STATE.METRICS, 'getMetrics', '', false],
      typeset: [STATE.TYPESET],
      update:  [STATE.INSERTED, 'updateDocument', false]
    }) as RenderActions&lt;any, any, any&gt;
  };

  /**
   * A bit-field for the actions that have been processed
   */
  public static ProcessBits = BitFieldClass('findMath', 'compile', 'getMetrics', 'typeset', 'updateDocument');

  /**
   * The document managed by this MathDocument
   */
  public document: D;
  /**
   * The actual options for this document (with user-supplied ones merged in)
   */
  public options: OptionList;

  /**
   * The list of MathItems for this document
   */
  public math: MathList&lt;N, T, D&gt;;

  /**
   * The list of render actions
   */
  public renderActions: RenderList&lt;N, T, D&gt;;

  /**
   * The bit-field used to tell what steps have been taken on the document (for retries)
   */
  public processed: BitField;

  /**
   * The list of input jax for the document
   */
  public inputJax: InputJax&lt;N, T, D&gt;[];

  /**
   * The output jax for the document
   */
  public outputJax: OutputJax&lt;N, T, D&gt;;

  /**
   * The DOM adaptor for the document
   */
  public adaptor: DOMAdaptor&lt;N, T, D&gt;;

  /**
   * The MathML node factory for the internal MathML representation
   */
  public mmlFactory: MmlFactory;


  
</t>
<t tx="ekr.20211016054411.64">
import './lib/amscd.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.640">public typeset(_math: MathItem&lt;N, T, D&gt;, _document: MathDocument&lt;N, T, D&gt; = null) {
  return null as N;
}
</t>
<t tx="ekr.20211016054411.641">/**
 * @override
 */
public escaped(_math: MathItem&lt;N, T, D&gt;, _document?: MathDocument&lt;N, T, D&gt;) {
  return null as N;
}
</t>
<t tx="ekr.20211016054411.642">/**
   * @param {any} document           The document (HTML string, parsed DOM, etc.) to be processed
   * @param {DOMAdaptor} adaptor     The DOM adaptor for this document
   * @param {OptionList} options     The options for this document
   * @constructor
   */
constructor (document: D, adaptor: DOMAdaptor&lt;N, T, D&gt;, options: OptionList) {
  let CLASS = this.constructor as typeof AbstractMathDocument;
  this.document = document;
  this.options = userOptions(defaultOptions({}, CLASS.OPTIONS), options);
  this.math = new (this.options['MathList'] || DefaultMathList)();
  this.renderActions = RenderList.create&lt;N, T, D&gt;(this.options['renderActions']);
  this.processed = new AbstractMathDocument.ProcessBits();
  this.outputJax = this.options['OutputJax'] || new DefaultOutputJax&lt;N, T, D&gt;();
  let inputJax = this.options['InputJax'] || [new DefaultInputJax&lt;N, T, D&gt;()];
  if (!Array.isArray(inputJax)) {
    inputJax = [inputJax];
  }
  this.inputJax = inputJax;
  //
  // Pass the DOM adaptor to the jax
  //
  this.adaptor = adaptor;
  this.outputJax.setAdaptor(adaptor);
  this.inputJax.map(jax =&gt; jax.setAdaptor(adaptor));
  //
  // Pass the MmlFactory to the jax
  //
  this.mmlFactory = this.options['MmlFactory'] || new MmlFactory();
  this.inputJax.map(jax =&gt; jax.setMmlFactory(this.mmlFactory));
  //
  // Do any initialization that requires adaptors or factories
  //
  this.outputJax.initialize();
  this.inputJax.map(jax =&gt; jax.initialize());
}

/**
 * @return {string}  The kind of document
 */
public get kind(): string {
  return (this.constructor as typeof AbstractMathDocument).KIND;
}

</t>
<t tx="ekr.20211016054411.643">/**
 * @override
 */
public addRenderAction(id: string, ...action: any[]) {
  const [fn, p] = RenderList.action&lt;N, T, D&gt;(id, action as RenderAction&lt;N, T, D&gt;);
  this.renderActions.add(fn, p);
}

</t>
<t tx="ekr.20211016054411.644">/**
 * @override
 */
public removeRenderAction(id: string) {
  const action = this.renderActions.findID(id);
  if (action) {
    this.renderActions.remove(action);
  }
}

</t>
<t tx="ekr.20211016054411.645">/**
 * @override
 */
public render() {
  this.renderActions.renderDoc(this);
  return this;
}

</t>
<t tx="ekr.20211016054411.646">/**
 * @override
 */
public rerender(start: number = STATE.RERENDER) {
  this.state(start - 1);
  this.render();
  return this;
}

</t>
<t tx="ekr.20211016054411.647">/**
 * @override
 */
public convert(math: string, options: OptionList = {}) {
  let {format, display, end, ex, em, containerWidth, lineWidth, scale, family} = userOptions({
    format: this.inputJax[0].name, display: true, end: STATE.LAST,
    em: 16, ex: 8, containerWidth: null, lineWidth: 1000000, scale: 1, family: ''
  }, options);
  if (containerWidth === null) {
    containerWidth = 80 * ex;
  }
  const jax = this.inputJax.reduce((jax, ijax) =&gt; (ijax.name === format ? ijax : jax), null);
  const mitem = new this.options.MathItem(math, jax, display);
  mitem.start.node = this.adaptor.body(this.document);
  mitem.setMetrics(em, ex, containerWidth, lineWidth, scale);
  if (this.outputJax.options.mtextInheritFont) {
    mitem.outputData.mtextFamily = family;
  }
  if (this.outputJax.options.merrorInheritFont) {
    mitem.outputData.merrorFamily = family;
  }
  mitem.convert(this, end);
  return (mitem.typesetRoot || mitem.root);
}

</t>
<t tx="ekr.20211016054411.648">/**
 * @override
 */
public findMath(_options: OptionList = null) {
  this.processed.set('findMath');
  return this;
}

</t>
<t tx="ekr.20211016054411.649">/**
 * @override
 */
public compile() {
  if (!this.processed.isSet('compile')) {
    //
    //  Compile all the math in the list
    //
    const recompile = [];
    for (const math of this.math) {
      this.compileMath(math);
      if (math.inputData.recompile !== undefined) {
        recompile.push(math);
      }
    }
    //
    //  If any were added to the recompile list,
    //    compile them again
    //
    for (const math of recompile) {
      const data = math.inputData.recompile;
      math.state(data.state);
      math.inputData.recompile = data;
      this.compileMath(math);
    }
    this.processed.set('compile');
  }
  return this;
}

/**
 * @param {MathItem} math   The item to compile
 */
protected compileMath(math: MathItem&lt;N, T, D&gt;) {
  try {
    math.compile(this);
  } catch (err) {
    if (err.retry || err.restart) {
      throw err;
    }
    this.options['compileError'](this, math, err);
    math.inputData['error'] = err;
  }
}

</t>
<t tx="ekr.20211016054411.65">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/amscd',       // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.650">/**
 * Produce an error using MmlNodes
 *
 * @param {MathItem} math  The MathItem producing the error
 * @param {Error} err      The Error object for the error
 */
public compileError(math: MathItem&lt;N, T, D&gt;, err: Error) {
  math.root = this.mmlFactory.create('math', null, [
    this.mmlFactory.create('merror', {'data-mjx-error': err.message, title: err.message}, [
      this.mmlFactory.create('mtext', null, [
        (this.mmlFactory.create('text') as TextNode).setText('Math input error')
      ])
    ])
  ]);
  if (math.display) {
    math.root.attributes.set('display', 'block');
  }
  math.inputData.error = err.message;
}

</t>
<t tx="ekr.20211016054411.651">/**
 * @override
 */
public typeset() {
  if (!this.processed.isSet('typeset')) {
    for (const math of this.math) {
      try {
        math.typeset(this);
      } catch (err) {
        if (err.retry || err.restart) {
          throw err;
        }
        this.options['typesetError'](this, math, err);
        math.outputData['error'] = err;
      }
    }
    this.processed.set('typeset');
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.652">/**
 * Produce an error using HTML
 *
 * @param {MathItem} math  The MathItem producing the error
 * @param {Error} err      The Error object for the error
 */
public typesetError(math: MathItem&lt;N, T, D&gt;, err: Error) {
  math.typesetRoot = this.adaptor.node('mjx-container', {
    class: 'MathJax mjx-output-error',
    jax: this.outputJax.name,
  }, [
    this.adaptor.node('span', {
      'data-mjx-error': err.message,
      title: err.message,
      style: {
        color: 'red',
        'background-color': 'yellow',
        'line-height': 'normal'
      }
    }, [
      this.adaptor.text('Math output error')
    ])
  ]);
  if (math.display) {
    this.adaptor.setAttributes(math.typesetRoot, {
      style: {
        display: 'block',
        margin: '1em 0',
        'text-align': 'center'
      }
    });
  }
  math.outputData.error = err.message;
}

</t>
<t tx="ekr.20211016054411.653">/**
 * @override
 */
public getMetrics() {
  if (!this.processed.isSet('getMetrics')) {
    this.outputJax.getMetrics(this);
    this.processed.set('getMetrics');
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.654">/**
 * @override
 */
public updateDocument() {
  if (!this.processed.isSet('updateDocument')) {
    for (const math of this.math.reversed()) {
      math.updateDocument(this);
    }
    this.processed.set('updateDocument');
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.655">/**
 * @override
 */
public removeFromDocument(_restore: boolean = false) {
  return this;
}

</t>
<t tx="ekr.20211016054411.656">/**
 * @override
 */
public state(state: number, restore: boolean = false) {
  for (const math of this.math) {
    math.state(state, restore);
  }
  if (state &lt; STATE.INSERTED) {
    this.processed.clear('updateDocument');
  }
  if (state &lt; STATE.TYPESET) {
    this.processed.clear('typeset');
    this.processed.clear('getMetrics');
  }
  if (state &lt; STATE.COMPILED) {
    this.processed.clear('compile');
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.657">/**
 * @override
 */
public reset(options: ResetList = {processed: true}) {
  options = userOptions(Object.assign({}, resetOptions), options);
  options.all &amp;&amp; Object.assign(options, resetAllOptions);
  options.processed &amp;&amp; this.processed.reset();
  options.inputJax &amp;&amp; this.inputJax.forEach(jax =&gt; jax.reset(...options.inputJax));
  options.outputJax &amp;&amp; this.outputJax.reset(...options.outputJax);
  return this;
}

</t>
<t tx="ekr.20211016054411.658">/**
 * @override
 */
public clear() {
  this.reset();
  this.math.clear();
  return this;
}

</t>
<t tx="ekr.20211016054411.659">/**
 * @override
 */
public concat(list: MathList&lt;N, T, D&gt;) {
  this.math.merge(list);
  return this;
}

</t>
<t tx="ekr.20211016054411.66"></t>
<t tx="ekr.20211016054411.660">/**
 * @override
 */
public clearMathItemsWithin(containers: ContainerList&lt;N&gt;) {
  const items = this.getMathItemsWithin(containers);
  this.math.remove(...items);
  return items;
}

</t>
<t tx="ekr.20211016054411.661">/**
 * @override
 */
  public getMathItemsWithin(elements: ContainerList&lt;N&gt;) {
    if (!Array.isArray(elements)) {
      elements = [elements];
    }
    const adaptor = this.adaptor;
    const items = [] as MathItem&lt;N, T, D&gt;[];
    const containers = adaptor.getElements(elements, this.document);
    ITEMS:
    for (const item of this.math) {
      for (const container of containers) {
        if (item.start.node &amp;&amp; adaptor.contains(container, item.start.node)) {
          items.push(item);
          continue ITEMS;
        }
      }
    }
    return items;
  }

}

</t>
<t tx="ekr.20211016054411.662">/**
 * The constructor type for a MathDocument
 *
 * @template D    The MathDocument type this constructor is for
 */
export interface MathDocumentConstructor&lt;D extends MathDocument&lt;any, any, any&gt;&gt; {
  KIND: string;
  OPTIONS: OptionList;
  ProcessBits: typeof BitField;
  new (...args: any[]): D;
}
</t>
<t tx="ekr.20211016054411.663">/**
 * @fileoverview  Implements the interface and abstract class for MathItem objects
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MathDocument} from './MathDocument.js';
import {InputJax} from './InputJax.js';
import {OptionList} from '../util/Options.js';
import {MmlNode} from './MmlTree/MmlNode.js';

/*****************************************************************/
/**
 *  The Location gives a location of a position in a document
 *  (either a node and character position within it, or
 *  an index into a string array, the character position within
 *  the string, and the delimiter at that location).
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 */
export type Location&lt;N, T&gt; = {
  i?: number;
  n?: number;
  delim?: string;
  node?: N | T;
};

/*****************************************************************/
/**
 *  The Metrics object includes the data needed to typeset
 *  a MathItem.
 */
export type Metrics = {
  em: number;
  ex: number;
  containerWidth: number;
  lineWidth: number;
  scale: number;
};

/*****************************************************************/
/**
 *  The MathItem interface
 *
 *  The MathItem is the object that holds the information about a
 *  particular expression on the page, including pointers to
 *  where it is in the document, its compiled version (in the
 *  internal format), its typeset version, its bounding box,
 *  and so on.
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.664">export interface MathItem&lt;N, T, D&gt; {
  /**
   * The string representing the expression to be processed
   */
  math: string;

  /**
   * The input jax used to process the math
   */
  inputJax: InputJax&lt;N, T, D&gt;;

  /**
   * Whether the math is in display mode or inline mode
   */
  display: boolean;

  /**
   * Whether this item is an escaped character or not
   */
  isEscaped: boolean;

  /**
   * The start and ending locations in the document of
   *   this expression
   */
  start: Location&lt;N, T&gt;;
  end: Location&lt;N, T&gt;;

  /**
   * The internal format for this expression (once compiled)
   */
  root: MmlNode;

  /**
   * The typeset version of the expression (once typeset)
   */
  typesetRoot: N;

  /**
   * The metric information at the location of the math
   * (the em-size, scaling factor, etc.)
   */
  metrics: Metrics;

  /**
   * Extra data needed by the input or output jax, as needed
   */
  inputData: OptionList;
  outputData: OptionList;

  /**
   * Perform the renderActions on the document
   *
   * @param {MathDocument} document  The MathDocument in which the math resides
   */
  render(document: MathDocument&lt;N, T, D&gt;): void;

  /**
   * Rerenders an already rendered item and inserts it into the document
   *
   * @param {MathDocument} document  The MathDocument in which the math resides
   * @param {number=} start          The state to start rerendering at (default = RERENDER)
   */
  rerender(document: MathDocument&lt;N, T, D&gt;, start?: number): void;

  /**
   * Converts the expression by calling the render actions until the state matches the end state
   *
   * @param {MathDocument} document  The MathDocument in which the math resides
   * @param {number=} end            The state to end rerendering at (default = LAST)
   */
  convert(document: MathDocument&lt;N, T, D&gt;, end?: number): void;

  /**
   * Converts the expression into the internal format by calling the input jax
   *
   * @param {MathDocument} document  The MathDocument in which the math resides
   */
  compile(document: MathDocument&lt;N, T, D&gt;): void;

  /**
   * Converts the internal format to the typeset version by calling the output jax
   *
   * @param {MathDocument} document  The MathDocument in which the math resides
   */
  typeset(document: MathDocument&lt;N, T, D&gt;): void;

  /**
   * Inserts the typeset version in place of the original form in the document
   *
   * @param {MathDocument} document  The MathDocument in which the math resides
   */
  updateDocument(document: MathDocument&lt;N, T, D&gt;): void;

  /**
   * Removes the typeset version from the document, optionally replacing the original
   * form of the expression and its delimiters.
   *
   * @param {boolean} restore  True if the original version is to be restored
   */
  removeFromDocument(restore: boolean): void;

  /**
   * Sets the metric information for this expression
   *
   * @param {number} em      The size of 1 em in pixels
   * @param {number} ex      The size of 1 ex in pixels
   * @param {number} cwidth  The container width in pixels
   * @param {number} lwidth  The line breaking width in pixels
   * @param {number} scale   The scaling factor (unitless)
   */
  setMetrics(em: number, ex: number, cwidth: number, lwidth: number, scale: number): void;

  /**
   * Set or return the current processing state of this expression,
   * optionally restoring the document if rolling back an expression
   * that has been added to the document.
   *
   * @param {number} state    The state to set for the expression
   * @param {number} restore  True if the original form should be restored
   *                           to the document when rolling back a typeset version
   * @returns {number}        The current state
   */
  state(state?: number, restore?: boolean): number;

  /**
   * Reset the item to its unprocessed state
   *
   * @param {number} restore  True if the original form should be restored
   *                           to the document when rolling back a typeset version
   */
  reset(restore?: boolean): void;
}

/*****************************************************************/
/**
 *  The ProtoItem interface
 *
 *  This is what is returned by the FindMath class, giving the location
 *  of math within the document, and is used to produce the full
 *  MathItem later (e.g., when the position within a string array
 *  is translated back into the actual node location in the DOM).
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 */
export type ProtoItem&lt;N, T&gt; = {
  math: string;            // The math expression itself
  start: Location&lt;N, T&gt;;   // The starting location of the math
  end: Location&lt;N, T&gt;;     // The ending location of the math
  open?: string;           // The opening delimiter
  close?: string;          // The closing delimiter
  n?: number;              // The index of the string in which this math is found
  display: boolean;        // True means display mode, false is inline mode
};

/**
 *  Produce a proto math item that can be turned into a MathItem
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 */
export function protoItem&lt;N, T&gt;(open: string, math: string, close: string, n: number,
                                start: number, end: number, display: boolean = null) {
  let item: ProtoItem&lt;N, T&gt; = {open: open, math: math, close: close,
                               n: n, start: {n: start}, end: {n: end}, display: display};
  return item;
}

/*****************************************************************/
/**
 *  Implements the MathItem class
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export abstract class AbstractMathItem&lt;N, T, D&gt; implements MathItem&lt;N, T, D&gt; {

  /**
   * The source text for the math (e.g., TeX string)
   */
  public math: string;

  /**
   * The input jax associated with this item
   */

  public inputJax: InputJax&lt;N, T, D&gt;;

  /**
   * True when this math is in display mode
   */
  public display: boolean;

  /**
   * Reference to the beginning of the math in the document
   */
  public start: Location&lt;N, T&gt;;
  /**
   * Reference to the end of the math in the document
   */
  public end: Location&lt;N, T&gt;;

  /**
   * The compiled internal MathML (result of InputJax)
   */
  public root: MmlNode = null;
  /**
   * The typeset result (result of OutputJax)
   */
  public typesetRoot: N = null;

  /**
   * The metric information about the surrounding environment
   */
  public metrics: Metrics = {} as Metrics;

  /**
   * Data private to the input jax
   */
  public inputData: OptionList = {};

  /**
   * Data private to the output jax
   */
  public outputData: OptionList = {};

  /**
   * The current state of the item (how far in the render actions it has been processed)
   */
  protected _state: number = STATE.UNPROCESSED;

  /**
   * @return {boolean}   True when this item is an escaped delimiter
   */
  public get isEscaped(): boolean {
    return this.display === null;
  }

  /**
   * @param {string} math      The math expression for this item
   * @param {Inputjax} jax     The input jax to use for this item
   * @param {boolean} display  True if display mode, false if inline
   * @param {Location} start   The starting position of the math in the document
   * @param {Location} end     The ending position of the math in the document
   * @constructor
   */
  constructor (math: string, jax: InputJax&lt;N, T, D&gt;, display: boolean = true,
               start: Location&lt;N, T&gt; = {i: 0, n: 0, delim: ''},
               end: Location&lt;N, T&gt; = {i: 0, n: 0, delim: ''}) {
    this.math = math;
    this.inputJax = jax;
    this.display = display;
    this.start = start;
    this.end = end;
    this.root = null;
    this.typesetRoot = null;
    this.metrics = {} as Metrics;
    this.inputData = {};
    this.outputData = {};
  }

  
</t>
<t tx="ekr.20211016054411.665">/**
   * @override
   */
public render(document: MathDocument&lt;N, T, D&gt;) {
  document.renderActions.renderMath(this, document);
}

</t>
<t tx="ekr.20211016054411.666">/**
 * @override
 */
public rerender(document: MathDocument&lt;N, T, D&gt;, start: number = STATE.RERENDER) {
  if (this.state() &gt;= start) {
    this.state(start - 1);
  }
  document.renderActions.renderMath(this, document, start);
}

</t>
<t tx="ekr.20211016054411.667">/**
 * @override
 */
public convert(document: MathDocument&lt;N, T, D&gt;, end: number = STATE.LAST) {
  document.renderActions.renderConvert(this, document, end);
}

</t>
<t tx="ekr.20211016054411.668">/**
 * @override
 */
public compile(document: MathDocument&lt;N, T, D&gt;) {
  if (this.state() &lt; STATE.COMPILED) {
    this.root = this.inputJax.compile(this, document);
    this.state(STATE.COMPILED);
  }
}

</t>
<t tx="ekr.20211016054411.669">/**
 * @override
 */
public typeset(document: MathDocument&lt;N, T, D&gt;) {
  if (this.state() &lt; STATE.TYPESET) {
    this.typesetRoot = document.outputJax[this.isEscaped ? 'escaped' : 'typeset'](this, document);
    this.state(STATE.TYPESET);
  }
}

/**
 * @override
 */
public updateDocument(_document: MathDocument&lt;N, T, D&gt;) {}

/**
 * @override
 */
public removeFromDocument(_restore: boolean = false) {}

</t>
<t tx="ekr.20211016054411.67">
import './lib/autoload.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.670">/**
 * @override
 */
public setMetrics(em: number, ex: number, cwidth: number, lwidth: number, scale: number) {
  this.metrics = {
    em: em, ex: ex,
    containerWidth: cwidth,
    lineWidth: lwidth,
    scale: scale
  };
}

</t>
<t tx="ekr.20211016054411.671">/**
 * @override
 */
public state(state: number = null, restore: boolean = false) {
  if (state != null) {
    if (state &lt; STATE.INSERTED &amp;&amp; this._state &gt;= STATE.INSERTED) {
      this.removeFromDocument(restore);
    }
    if (state &lt; STATE.TYPESET &amp;&amp; this._state &gt;= STATE.TYPESET) {
      this.outputData = {};
    }
    if (state &lt; STATE.COMPILED &amp;&amp; this._state &gt;= STATE.COMPILED) {
      this.inputData = {};
    }
    this._state = state;
  }
  return this._state;
}

</t>
<t tx="ekr.20211016054411.672">/**
 * @override
 */
  public reset(restore: boolean = false) {
    this.state(STATE.UNPROCESSED, restore);
  }

}

/*****************************************************************/
/**
 * The various states that a MathItem (or MathDocument) can be in
 *   (open-ended so that extensions can add to it)
 */
export const STATE: {[state: string]: number} = {
  UNPROCESSED: 0,
  FINDMATH: 10,
  COMPILED: 20,
  CONVERT: 100,
  METRICS: 110,
  RERENDER: 125,
  TYPESET: 150,
  INSERTED: 200,
  LAST: 10000
};

</t>
<t tx="ekr.20211016054411.673">/**
 * Allocate a new named state
 *
 * @param {string} name    The name of the new state
 * @param {number} state   The value for the new state
 */
export function newState(name: string, state: number) {
  if (name in STATE) {
    throw Error('State ' + name + ' already exists');
  }
  STATE[name] = state;
}
</t>
<t tx="ekr.20211016054411.674">/**
 * @fileoverview  Implements the interface and abstract class for MathList objects
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {LinkedList} from '../util/LinkedList.js';
import {MathItem} from './MathItem.js';

/*****************************************************************/
/**
 *  The MathList interface (extends LinkedList&lt;MathItem&gt;)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.675">export interface MathList&lt;N, T, D&gt; extends LinkedList&lt;MathItem&lt;N, T, D&gt;&gt; {
  /**
   * Test if one math item is before the other in the document (a &lt; b)
   *
   * @param {MathItem} a   The first MathItem
   * @param {MathItem} b   The second MathItem
   */
  isBefore(a: MathItem&lt;N, T, D&gt;, b: MathItem&lt;N, T, D&gt;): boolean;
}

/*****************************************************************/
/**
 *  The MathList abstract class (extends LinkedList&lt;MathItem&gt;)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export abstract class AbstractMathList&lt;N, T, D&gt; extends
LinkedList&lt;MathItem&lt;N, T, D&gt;&gt; implements MathList&lt;N, T, D&gt; {

  
</t>
<t tx="ekr.20211016054411.676">/**
   * @override
   */
  public isBefore(a: MathItem&lt;N, T, D&gt;, b: MathItem&lt;N, T, D&gt;) {
    return (a.start.i &lt; b.start.i || (a.start.i === b.start.i &amp;&amp; a.start.n &lt; b.start.n));
  }

}
</t>
<t tx="ekr.20211016054411.677">/**
 * @fileoverview  Implements the interface and abstract class for the OutputJax
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {userOptions, defaultOptions, OptionList} from '../util/Options.js';
import {MathDocument} from './MathDocument.js';
import {MathItem} from './MathItem.js';
import {DOMAdaptor} from '../core/DOMAdaptor.js';
import {FunctionList} from '../util/FunctionList.js';

/*****************************************************************/
/**
 *  The OutputJax interface
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.678">export interface OutputJax&lt;N, T, D&gt; {
  /**
   * The name of this output jax class
   */
  name: string;

  /**
   * The options for the instance
   */
  options: OptionList;

  /**
   * Lists of post-filters to call after typesetting the math
   */
  postFilters: FunctionList;

  /**
   * The DOM adaptor for managing HTML elements
   */
  adaptor: DOMAdaptor&lt;N, T, D&gt;;

  /**
   * @param {DOMAdaptor} adaptor The adaptor to use in this jax
   */
  setAdaptor(adaptor: DOMAdaptor&lt;N, T, D&gt;): void;

  /**
   * Do any initialization that depends on the document being set up
   */
  initialize(): void;

  /**
   * Reset any needed features of the output jax
   *
   * @param {any[]} args   The arguments needed by the reset operation
   */
  reset(...args: any[]): void;

  /**
   * Typset a given MathItem
   *
   * @param {MathItem} math          The MathItem to be typeset
   * @param {MathDocument} document  The MathDocument in which the typesetting should occur
   * @return {N}                     The DOM tree for the typeset math
   */
  typeset(math: MathItem&lt;N, T, D&gt;, document?: MathDocument&lt;N, T, D&gt;): N;

  /**
   * Handle an escaped character (e.g., \$ from the TeX input jax preventing it from being a delimiter)
   *
   * @param {MathItem} math          The MathItem to be escaped
   * @param {MathDocument} document  The MathDocument in which the math occurs
   * @return {N}                     The DOM tree for the escaped item
   */
  escaped(math: MathItem&lt;N, T, D&gt;, document?: MathDocument&lt;N, T, D&gt;): N;

  /**
   * Get the metric information for all math in the given document
   *
   * @param {MathDocument} document  The MathDocument being processed
   */
  getMetrics(document: MathDocument&lt;N, T, D&gt;): void;

  /**
   * Produce the stylesheet needed for this output jax
   *
   * @param {MathDocument} document  The MathDocument being processed
   */
  styleSheet(document: MathDocument&lt;N, T, D&gt;): N;

  /**
   * Produce any page-specific elements needed for this output jax
   *
   * @param {MathDocument} document  The MathDocument being processed
   */
  pageElements(document: MathDocument&lt;N, T, D&gt;): N;
}


/*****************************************************************/
/**
 *  The OutputJax abstract class
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
export abstract class AbstractOutputJax&lt;N, T, D&gt; implements OutputJax&lt;N, T, D&gt; {

  /**
   * The name for the output jax
   */
  public static NAME: string = 'generic';

  /**
   * The default options for the output jax
   */
  public static OPTIONS: OptionList = {};

  /**
   * The actual options supplied to the output jax
   */
  public options: OptionList;

  /**
   * Filters to run after the output is processed
   */
  public postFilters: FunctionList;

  /**
   * The MathDocument's DOMAdaptor
   */
  public adaptor: DOMAdaptor&lt;N, T, D&gt; = null;  // set by the handler

  
</t>
<t tx="ekr.20211016054411.679">/**
   * @param {OptionList} options  The options for this instance
   */
constructor(options: OptionList = {}) {
  let CLASS = this.constructor as typeof AbstractOutputJax;
  this.options = userOptions(defaultOptions({}, CLASS.OPTIONS), options);
  this.postFilters = new FunctionList();
}

/**
 * @return {string}  The name for this output jax class
 */
public get name(): string {
  return (this.constructor as typeof AbstractOutputJax).NAME;
}

</t>
<t tx="ekr.20211016054411.68">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/autoload',    // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex/extensions/require/lib',
    'components/src/input/tex-base/lib',
    'components/src/startup/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.680">/**
 * @override
 */
public setAdaptor(adaptor: DOMAdaptor&lt;N, T, D&gt;) {
  this.adaptor = adaptor;
}

</t>
<t tx="ekr.20211016054411.681">/**
 * @override
 */
public initialize() {
}

</t>
<t tx="ekr.20211016054411.682">/**
 * @override
 */
public reset(..._args: any[]) {
}

/**
 * @override
 */
public abstract typeset(math: MathItem&lt;N, T, D&gt;, document?: MathDocument&lt;N, T, D&gt;): N;

/**
 * @override
 */
public abstract escaped(math: MathItem&lt;N, T, D&gt;, document?: MathDocument&lt;N, T, D&gt;): N;

</t>
<t tx="ekr.20211016054411.683">/**
 * @override
 */
public getMetrics(_document: MathDocument&lt;N, T, D&gt;) {
}

</t>
<t tx="ekr.20211016054411.684">/**
 * @override
 */
public styleSheet(_document: MathDocument&lt;N, T, D&gt;) {
  return null as N;
}

</t>
<t tx="ekr.20211016054411.685">/**
 * @override
 */
  public pageElements(_document: MathDocument&lt;N, T, D&gt;) {
    return null as N;
  }

  /**
   * Execute a set of filters, passing them the MathItem and any needed data,
   *  and return the (possibly modified) data
   *
   * @param {FunctionList} filters   The list of functions to be performed
   * @param {MathItem} math          The math item that is being processed
   * @param {MathDocument} document  The math document contaiing the math item
   * @param {any} data               Whatever other data is needed
   * @return {any}                   The (possibly modified) data
   */
  protected executeFilters(
    filters: FunctionList, math: MathItem&lt;N, T, D&gt;,
    document: MathDocument&lt;N, T, D&gt;, data: any
  ): any {
    let args = {math, document, data};
    filters.execute(args);
    return args.data;
  }

}
</t>
<t tx="ekr.20211016054411.686"></t>
<t tx="ekr.20211016054411.687">/**
 * @fileoverview Implements Attribute class for MmlNodes
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList, Property} from '../Tree/Node.js';

/**
 * A constant for when a property should be inherited from the global defaults lists
 */
export const INHERIT = '_inherit_';

/******************************************************************/
/**
 * Implements the Attributes class for MmlNodes
 *  (These can be set explicitly, inherited from parent nodes,
 *   taken from a default list of values, or taken from global
 *   defaults.)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.688">export class Attributes {
  /**
   * The attributes explicitly set on a node
   */
  protected attributes: PropertyList;
  /**
   * The attributes inherited from parent nodes
   */
  protected inherited: PropertyList;
  /**
   * The default attributes for the node type
   */
  protected defaults: PropertyList;
  /**
   * Global attributes from the math node itself
   */
  protected global: PropertyList;

  /**
   * @param {PropertyList} defaults  The defaults for this node type
   * @param {PropertyList} global    The global properties (from the math node)
   *
   * @constructor
   */
  @others
}
</t>
<t tx="ekr.20211016054411.689">constructor(defaults: PropertyList, global: PropertyList) {
  this.global = global;
  this.defaults = Object.create(global);
  this.inherited = Object.create(this.defaults);
  this.attributes = Object.create(this.inherited);
  Object.assign(this.defaults, defaults);
}

</t>
<t tx="ekr.20211016054411.69"></t>
<t tx="ekr.20211016054411.690">/**
 * @param {string} name     The name of the attribute to set
 * @param {Property} value  The value to give the named attribute
 */
public set(name: string, value: Property) {
  this.attributes[name] = value;
}

</t>
<t tx="ekr.20211016054411.691">/**
 * @param {PropertyList} list  An object containing the properties to set
 */
public setList(list: PropertyList) {
  Object.assign(this.attributes, list);
}

</t>
<t tx="ekr.20211016054411.692">/**
 * @param {string} name  The name of the attribute whose value is to be returned
 * @return {Property}    The value of the named attribute (including inheritance and defaults)
 */
public get(name: string): Property {
  let value = this.attributes[name];
  if (value === INHERIT) {
    value = this.global[name];
  }
  return value;
}

</t>
<t tx="ekr.20211016054411.693">/**
 * @param {string} name  The value of the attribute whose value is to be returned
 * @return {Property}    The attribute whose name was given if it is explicit on the
 *                       node (not inherited or defaulted), null otherwise
 */
public getExplicit(name: string): Property {
  if (!this.attributes.hasOwnProperty(name)) {
    return undefined;
  }
  return this.attributes[name];
}

</t>
<t tx="ekr.20211016054411.694">/**
 * @param {string[]} names  The names of attributes whose values are to be returned
 * @return {PropertyList}   An object containing the attributes and their values
 */
public getList(...names: string[]): PropertyList {
  let values: PropertyList = {};
  for (const name of names) {
    values[name] = this.get(name);
  }
  return values;
}

</t>
<t tx="ekr.20211016054411.695">/**
 * @param {string} name  The name of an inherited attribute to be set
 * @param {Property} value  The value to assign to the named attribute
 */
public setInherited(name: string, value: Property) {
  this.inherited[name] = value;
}

</t>
<t tx="ekr.20211016054411.696">/**
 * @param {string} name  The name of an inherited attribute whose value is to be returned
 * @return {Property}    The value of the named attribute if it is inherited, null otherwise
 */
public getInherited(name: string): Property {
  return this.inherited[name];
}

</t>
<t tx="ekr.20211016054411.697">/**
 * @param {string} name  The name of a default attribute whose value is to be returned
 * @return {Property}    The value of the named attribute if a default exists for it, null otherwise
 */
public getDefault(name: string): Property {
  return this.defaults[name];
}

</t>
<t tx="ekr.20211016054411.698">/**
 * @param {string} name  The name of a attribute to check
 * @return {boolean}     True if attribute is set explicitly or inherited
 *                         from an explicit mstyle or math attribute
 */
public isSet(name: string): boolean {
  return this.attributes.hasOwnProperty(name) || this.inherited.hasOwnProperty(name);
}

</t>
<t tx="ekr.20211016054411.699">/**
 * @param {string} name  The name of an attribute to test for the existence of a default
 * @return {boolean}     True of there is a default for the named attribute, false otherwise
 */
public hasDefault(name: string): boolean {
  return (name in this.defaults);
}

</t>
<t tx="ekr.20211016054411.7">      function (resource) {
        const request = require.resolve(resource.request.charAt(0) === '.' ?
                                        path.resolve(resource.context, resource.request) :
                                        resource.request);
        if (!request.match(mjRE)) return;
        for (const lib of libs) {
          const file = request.replace(mjRE, path.join(root, lib) + path.sep);
          if (fs.existsSync(file)) {
            resource.request = file;
            break;
          }
        }
      }
    )
  );
}
plugins.push(
  //
  // Check for packages that should be rerouted to node_modules
  //
  new webpack.NormalModuleReplacementPlugin(
    /^[^\/]$/,
</t>
<t tx="ekr.20211016054411.70">
import './lib/bbox.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.700">/**
 * @return {string[]}  The names of all the attributes explicitly set on the node
 */
public getExplicitNames(): string[] {
  return Object.keys(this.attributes);
}

</t>
<t tx="ekr.20211016054411.701">/**
 * @return {string[]}  The names of all the inherited attributes for the node
 */
public getInheritedNames(): string[] {
  return Object.keys(this.inherited);
}

</t>
<t tx="ekr.20211016054411.702">/**
 * @return {string[]}  The names of all the default attributes for the node
 */
public getDefaultNames(): string[] {
  return Object.keys(this.defaults);
}

</t>
<t tx="ekr.20211016054411.703">/**
 * @return {string[]}  The names of all the global attributes
 */
public getGlobalNames(): string[] {
  return Object.keys(this.global);
}

</t>
<t tx="ekr.20211016054411.704">/**
 * @return {PropertyList}  The attribute object
 */
public getAllAttributes(): PropertyList {
  return this.attributes;
}

</t>
<t tx="ekr.20211016054411.705">/**
 * @return {PropertyList}  The inherited object
 */
public getAllInherited(): PropertyList {
  return this.inherited;
}

</t>
<t tx="ekr.20211016054411.706">/**
 * @return {PropertyList}  The defaults object
 */
public getAllDefaults(): PropertyList {
  return this.defaults;
}

</t>
<t tx="ekr.20211016054411.707">/**
 * @return {PropertyList}  The global object
 */
public getAllGlobals(): PropertyList {
  return this.global;
}

</t>
<t tx="ekr.20211016054411.708">/**
 * @fileoverview  A visitor that produces a JSON version of an MmlNode tree
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../Tree/Node.js';
import {MmlVisitor} from './MmlVisitor.js';
import {MmlNode, TextNode, XMLNode} from './MmlNode.js';

export type MmlNodeJSON = {
  kind: string,
  texClass: number
  isEmbellished?: boolean,
  isSpacelike?: boolean,
  isInferred?: boolean,
  childNodes: MmlJSON[],
  attributes: PropertyList,
  inherited: PropertyList,
  properties: PropertyList
};

export type MmlTextJSON = {
  kind: string,
  text: string
};

export type MmlXmlJSON = {
  kind: string,
  xml: any
};

export type MmlJSON = MmlNodeJSON | MmlTextJSON | MmlXmlJSON;

/*****************************************************************/
/**
 *  Implements the JsonMmlVisitor (subclass of MmlVisitor)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.709">export class JsonMmlVisitor extends MmlVisitor {
  /**
   * Convert the tree rooted at a particular node into a JSON structure
   *
   * @param {MmlNode} node  The node to use as the root of the tree to traverse
   * @return {MmlJSON}      The JSON object representing the internal tree
   */
  @others
}
</t>
<t tx="ekr.20211016054411.71">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/bbox',        // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.710">public visitTree(node: MmlNode): MmlJSON {
  return this.visitNode(node);
}

</t>
<t tx="ekr.20211016054411.711">/**
 * @param {TextNode} node   The text node to visit
 * @return {MmlJSON}        The JSON for the text element
 */
public visitTextNode(node: TextNode): MmlTextJSON {
  return {kind: node.kind, text: node.getText()};
}

</t>
<t tx="ekr.20211016054411.712">/**
 * @param {XMLNode} node  The XML node to visit
 * @return {MmlJSON}      The JSON for the XML node
 */
public visitXMLNode(node: XMLNode): MmlXmlJSON {
  return {kind: node.kind, xml: node.getXML()};
}

</t>
<t tx="ekr.20211016054411.713">/**
 * The generic visiting function:
 *   Create a DOM node of the correct type.
 *   Add its explicit attributes.
 *   Append its children nodes.
 *   Append the new node to the DOM parent.
 *
 * @param {MmlNode} node  The node to visit
 * @return {MmlJSON}      The JSON object representing it
 */
public visitDefault(node: MmlNode): MmlJSON {
  let json: MmlJSON = {
    kind: node.kind.replace(/inferredM/, 'm'),
    texClass: node.texClass,
    attributes: this.getAttributes(node),
    inherited: this.getInherited(node),
    properties: this.getProperties(node),
    childNodes: this.getChildren(node)
  };
  if (node.isInferred) {
    json.isInferred = true;
  }
  if (node.isEmbellished) {
    json.isEmbellished = true;
  }
  if (node.isSpacelike) {
    json.isSpacelike = true;
  }
  return json;
}

</t>
<t tx="ekr.20211016054411.714">/**
 * @param {MmlNode} node    The node whose children are to be copied
 * @return {MmlJSON[]}      The array of child JSON objects
 */
public getChildren(node: MmlNode): MmlJSON[] {
  let children = [];
  for (const child of node.childNodes) {
    children.push(this.visitNode(child));
  }
  return children;
}

</t>
<t tx="ekr.20211016054411.715">/**
 * @param {MmlNode} node    The node whose attributes are to be copied
 * @return {PropertyList}   The object containing the attributes;
 */
public getAttributes(node: MmlNode): PropertyList {
  return Object.assign({}, node.attributes.getAllAttributes());
}

</t>
<t tx="ekr.20211016054411.716">/**
 * @param {MmlNode} node    The node whose inherited attributes are to be copied
 * @return {PropertyList}   The object containing the inherited attributes;
 */
public getInherited(node: MmlNode): PropertyList {
  return Object.assign({}, node.attributes.getAllInherited());
}

</t>
<t tx="ekr.20211016054411.717">/**
 * @param {MmlNode} node    The node whose properties are to be copied
 * @return {PropertyList}   The object containing the properties;
 */
public getProperties(node: MmlNode): PropertyList {
  return Object.assign({}, node.getAllProperties());
}

</t>
<t tx="ekr.20211016054411.718">/**
 * @fileoverview A visitor to convert the new to the old internal format.
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MmlVisitor} from './MmlVisitor.js';
import {MmlNode, TextNode, XMLNode} from './MmlNode.js';

/**
 *  Get access to legacy MML Element Jax
 */
declare var MathJax: any;
let MML = MathJax.ElementJax.mml;

/*****************************************************************/
/**
 *  Implements the LegacyMmlVisitor (subclass of MmlVisitor)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.719">export class LegacyMmlVisitor extends MmlVisitor {

  /**
   * Convert the tree rooted at a particular node into the old-style
   * internal format used by MathJax v2.
   *
   * @param {MmlNode} node  The node to use as the root of the tree to traverse
   * @return {any}  The old-style internal format equivalent of the tree
   */
  @others
}
</t>
<t tx="ekr.20211016054411.72"></t>
<t tx="ekr.20211016054411.720">public visitTree(node: MmlNode): any {
  let root = MML.mrow();
  this.visitNode(node, root);
  root = root.data[0];
  root.parent = null;
  return root;
}

</t>
<t tx="ekr.20211016054411.721">/**
 * @param {TextNode} node  The text node to visit
 * @param {any} parent  The old-style parent to which this node should be added
 */
public visitTextNode(node: TextNode, parent: any) {
  parent.Append(MML.chars(node.getText()));
}

</t>
<t tx="ekr.20211016054411.722">/**
 * @param {XMLNode} node  The XML node to visit
 * @param {any} parent  The old-style parent to which this node should be added
 */
public visitXMLNode(node: XMLNode, parent: any) {
  parent.Append(MML.xml(node.getXML()));
}

</t>
<t tx="ekr.20211016054411.723">/**
 * Visit an inferred mrow, but don't add the inferred row itself (the old-style
 * nodes will add one automatically).
 *
 * @param {MmlNode} node  The inferred mrow to visit
 * @param {any} parent  The old-style parent to which this node's children should be added
 */
public visitInferredMrowNode(node: MmlNode, parent: any) {
  for (const child of node.childNodes) {
    this.visitNode(child, parent);
  }
}

</t>
<t tx="ekr.20211016054411.724">/**
 * The generic visiting function:
 *   Create a node of the correct type.
 *   Add its explicit attributes.
 *   Add its non-attribute properties.
 *   Append its children nodes.
 *   Append the new node to the old-style parent.
 *
 * @param {MmlNode} node  The node to visit
 * @param {any} parent  The old-style parent to which this node should be added
 */
public visitDefault(node: MmlNode, parent: any) {
  let mml = MML[node.kind]();
  this.addAttributes(node, mml);
  this.addProperties(node, mml);
  for (const child of node.childNodes) {
    this.visitNode(child, mml);
  }
  parent.Append(mml);
}

</t>
<t tx="ekr.20211016054411.725">/**
 * @param {MmlNode} node  The node who attributes are to be copied
 * @param {any} mml  The old-style node to which attributes are being added
 */
public addAttributes(node: MmlNode, mml: any) {
  let attributes = node.attributes;
  let names = attributes.getExplicitNames();
  for (const name of names) {
    mml[name] = attributes.getExplicit(name);
  }
}

</t>
<t tx="ekr.20211016054411.726">/**
 * @param {MmlNode} node  The node whose properties are to be copied
 * @param {any} mml  The old-stype node to which the properties are being copied
 */
public addProperties(node: MmlNode, mml: any) {
  let names = node.getPropertyNames();
  for (const name of names) {
    mml[name] = node.getProperty(name);
  }
}

</t>
<t tx="ekr.20211016054411.727">/**
 * @fileoverview  A visitor that produces MathML DOM nodes from the iternal nodes
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MmlVisitor} from './MmlVisitor.js';
import {MmlNode, TextNode, XMLNode} from './MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MathMLVisitor (subclass of MmlVisitor)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.728">export class MathMLVisitor extends MmlVisitor {
  /**
   * The document in which the nodes are being made
   */
  protected document: Document = null;

  /**
   * Convert the tree rooted at a particular node into DOM nodes.
   *
   * @param {MmlNode} node  The node to use as the root of the tree to traverse
   * @param {Document} document  The document in which the nodes are created
   * @return {Node}  The MathML DOM nodes representing the internal tree
   */
  @others
}
</t>
<t tx="ekr.20211016054411.729">public visitTree(node: MmlNode, document: Document): Node {
  this.document = document;
  let root = document.createElement('top');
  this.visitNode(node, root);
  this.document = null;
  return root.firstChild;
}

</t>
<t tx="ekr.20211016054411.73">
import './lib/boldsymbol.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.730">/**
 * @param {TextNode} node  The text node to visit
 * @param {Element} parent  The DOM parent to which this node should be added
 */
public visitTextNode(node: TextNode, parent: Element) {
  parent.appendChild(this.document.createTextNode(node.getText()));
}

</t>
<t tx="ekr.20211016054411.731">/**
 * @param {XMLNode} node  The XML node to visit
 * @param {Element} parent  The DOM parent to which this node should be added
 */
public visitXMLNode(node: XMLNode, parent: Element) {
  parent.appendChild((node.getXML() as Element).cloneNode(true));
}

</t>
<t tx="ekr.20211016054411.732">/**
 * Visit an inferred mrow, but don't add the inferred row itself (since
 * it is supposed to be inferred).
 *
 * @param {MmlNode} node  The inferred mrow to visit
 * @param {Element} parent  The DOM parent to which this node's children should be added
 */
public visitInferredMrowNode(node: MmlNode, parent: Element) {
  for (const child of node.childNodes) {
    this.visitNode(child, parent);
  }
}

</t>
<t tx="ekr.20211016054411.733">/**
 * The generic visiting function:
 *   Create a DOM node of the correct type.
 *   Add its explicit attributes.
 *   Append its children nodes.
 *   Append the new node to the DOM parent.
 *
 * @param {MmlNode} node  The node to visit
 * @param {Element} parent  The DOM parent to which this node should be added
 */
public visitDefault(node: MmlNode, parent: Element) {
  let mml = this.document.createElement(node.kind);
  this.addAttributes(node, mml);
  for (const child of node.childNodes) {
    this.visitNode(child, mml);
  }
  parent.appendChild(mml);
}
</t>
<t tx="ekr.20211016054411.734">/**
 * @param {MmlNode} node  The node who attributes are to be copied
 * @param {Element} mml  The MathML DOM node to which attributes are being added
 */
public addAttributes(node: MmlNode, mml: Element) {
  let attributes = node.attributes;
  let names = attributes.getExplicitNames();
  for (const name of names) {
    mml.setAttribute(name, attributes.getExplicit(name).toString());
  }
}

</t>
<t tx="ekr.20211016054411.735">/**
 * @fileoverview  An object listing all the MathML node types
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MmlNodeClass, TextNode, XMLNode} from './MmlNode.js';

import {MmlMath}      from './MmlNodes/math.js';

import {MmlMi}        from './MmlNodes/mi.js';
import {MmlMn}        from './MmlNodes/mn.js';
import {MmlMo}        from './MmlNodes/mo.js';
import {MmlMtext}     from './MmlNodes/mtext.js';
import {MmlMspace}    from './MmlNodes/mspace.js';
import {MmlMs}        from './MmlNodes/ms.js';

import {MmlMrow, MmlInferredMrow} from './MmlNodes/mrow.js';
import {MmlMfrac}     from './MmlNodes/mfrac.js';
import {MmlMsqrt}     from './MmlNodes/msqrt.js';
import {MmlMroot}     from './MmlNodes/mroot.js';
import {MmlMstyle}    from './MmlNodes/mstyle.js';
import {MmlMerror}    from './MmlNodes/merror.js';
import {MmlMpadded}   from './MmlNodes/mpadded.js';
import {MmlMphantom}  from './MmlNodes/mphantom.js';
import {MmlMfenced}   from './MmlNodes/mfenced.js';
import {MmlMenclose}  from './MmlNodes/menclose.js';

import {MmlMaction}   from './MmlNodes/maction.js';

import {MmlMsubsup, MmlMsub, MmlMsup}       from './MmlNodes/msubsup.js';
import {MmlMunderover, MmlMunder, MmlMover} from './MmlNodes/munderover.js';
import {MmlMmultiscripts, MmlMprescripts, MmlNone} from './MmlNodes/mmultiscripts.js';

import {MmlMtable}      from './MmlNodes/mtable.js';
import {MmlMtr, MmlMlabeledtr} from './MmlNodes/mtr.js';
import {MmlMtd}         from './MmlNodes/mtd.js';
import {MmlMaligngroup} from './MmlNodes/maligngroup.js';
import {MmlMalignmark}  from './MmlNodes/malignmark.js';

import {MmlMglyph}      from './MmlNodes/mglyph.js';

import {MmlSemantics, MmlAnnotation, MmlAnnotationXML} from './MmlNodes/semantics.js';

import {TeXAtom} from './MmlNodes/TeXAtom.js';
import {MathChoice} from './MmlNodes/mathchoice.js';

/************************************************************************/
/**
 *  This object collects all the MathML node types together so that
 *  they can be used to seed an MmlNodeFactory.  One could copy this
 *  object to override existing classes with subclasses, or to add new
 *  classes as necessary.
 */

export let MML: {[kind: string]: MmlNodeClass} = {
  [MmlMath.prototype.kind]: MmlMath,

  [MmlMi.prototype.kind]: MmlMi,
  [MmlMn.prototype.kind]: MmlMn,
  [MmlMo.prototype.kind]: MmlMo,
  [MmlMtext.prototype.kind]: MmlMtext,
  [MmlMspace.prototype.kind]: MmlMspace,
  [MmlMs.prototype.kind]: MmlMs,

  [MmlMrow.prototype.kind]: MmlMrow,
  [MmlInferredMrow.prototype.kind]: MmlInferredMrow,
  [MmlMfrac.prototype.kind]: MmlMfrac,
  [MmlMsqrt.prototype.kind]: MmlMsqrt,
  [MmlMroot.prototype.kind]: MmlMroot,
  [MmlMstyle.prototype.kind]: MmlMstyle,
  [MmlMerror.prototype.kind]: MmlMerror,
  [MmlMpadded.prototype.kind]: MmlMpadded,
  [MmlMphantom.prototype.kind]: MmlMphantom,
  [MmlMfenced.prototype.kind]: MmlMfenced,
  [MmlMenclose.prototype.kind]: MmlMenclose,

  [MmlMaction.prototype.kind]: MmlMaction,

  [MmlMsub.prototype.kind]: MmlMsub,
  [MmlMsup.prototype.kind]: MmlMsup,
  [MmlMsubsup.prototype.kind]: MmlMsubsup,
  [MmlMunder.prototype.kind]: MmlMunder,
  [MmlMover.prototype.kind]: MmlMover,
  [MmlMunderover.prototype.kind]: MmlMunderover,
  [MmlMmultiscripts.prototype.kind]: MmlMmultiscripts,
  [MmlMprescripts.prototype.kind]: MmlMprescripts,
  [MmlNone.prototype.kind]: MmlNone,

  [MmlMtable.prototype.kind]: MmlMtable,
  [MmlMlabeledtr.prototype.kind]: MmlMlabeledtr,
  [MmlMtr.prototype.kind]: MmlMtr,
  [MmlMtd.prototype.kind]: MmlMtd,
  [MmlMaligngroup.prototype.kind]: MmlMaligngroup,
  [MmlMalignmark.prototype.kind]: MmlMalignmark,

  [MmlMglyph.prototype.kind]: MmlMglyph,

  [MmlSemantics.prototype.kind]: MmlSemantics,
  [MmlAnnotation.prototype.kind]: MmlAnnotation,
  [MmlAnnotationXML.prototype.kind]: MmlAnnotationXML,

  [TeXAtom.prototype.kind]: TeXAtom,
  [MathChoice.prototype.kind]: MathChoice,

  [TextNode.prototype.kind]: TextNode,
  [XMLNode.prototype.kind]: XMLNode
};
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.736">/**
 * @fileoverview  Implements the MmlFactory to create Mml Nodes
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AbstractNodeFactory} from '../Tree/NodeFactory.js';
import {MmlNode, MmlNodeClass} from './MmlNode.js';
import {MML} from './MML.js';

/*****************************************************************/
/**
 *  Implements the MmlFactory (subclass of NodeFactory)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.737">export class MmlFactory extends AbstractNodeFactory&lt;MmlNode, MmlNodeClass&gt; {

  /**
   * The default node-creation functions
   */
  public static defaultNodes = MML;

  /**
   * @return {Object}  The list of node-creation functions (similar to the
   *                   MML object from MathJax v2).
   */
  get MML(): Object {
    return this.node;
  }

}
</t>
<t tx="ekr.20211016054411.738">/**
 * @fileoverview  Interfaces and abstract classes for MmlNode objects
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {Attributes, INHERIT} from './Attributes.js';
import {Property, PropertyList, Node, AbstractNode, AbstractEmptyNode, NodeClass} from '../Tree/Node.js';
import {MmlFactory} from './MmlFactory.js';
import {DOMAdaptor} from '../DOMAdaptor.js';

/**
 *  Used in setInheritedAttributes() to pass originating node kind as well as property value
 */
export type AttributeList = {[attribute: string]: [string, Property]};

/**
 *  These are the TeX classes for spacing computations
 */
export const TEXCLASS = {
  ORD:   0,
  OP:    1,
  BIN:   2,
  REL:   3,
  OPEN:  4,
  CLOSE: 5,
  PUNCT: 6,
  INNER: 7,
  VCENTER: 8,  // Used in TeXAtom, but not for spacing
  NONE:   -1
};

export const TEXCLASSNAMES = ['ORD', 'OP', 'BIN', 'REL', 'OPEN', 'CLOSE', 'PUNCT', 'INNER', 'VCENTER'];

/**
 *  The spacing sizes used by the TeX spacing table below.
 */
const TEXSPACELENGTH = ['', 'thinmathspace', 'mediummathspace', 'thickmathspace'];

/**
 * See TeXBook Chapter 18 (p. 170)
 */
const TEXSPACE = [
  [ 0, -1,  2,  3,  0,  0,  0,  1], // ORD
  [-1, -1,  0,  3,  0,  0,  0,  1], // OP
  [ 2,  2,  0,  0,  2,  0,  0,  2], // BIN
  [ 3,  3,  0,  0,  3,  0,  0,  3], // REL
  [ 0,  0,  0,  0,  0,  0,  0,  0], // OPEN
  [ 0, -1,  2,  3,  0,  0,  0,  1], // CLOSE
  [ 1,  1,  0,  1,  1,  1,  1,  1], // PUNCT
  [ 1, -1,  2,  3,  1,  0,  1,  1]  // INNER
];

/**
 * Attributes used to determine indentation and shifting
 */
export const indentAttributes = [
  'indentalign', 'indentalignfirst',
  'indentshift', 'indentshiftfirst'
];

/**
 * The nodes that can be in the internal MathML tree
 */
export type MMLNODE = MmlNode | TextNode | XMLNode;

/*****************************************************************/
/**
 *  The MmlNode interface (extends Node interface)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.739">export interface MmlNode extends Node {

  /**
   * Test various properties of MathML nodes
   */
  readonly isToken: boolean;
  readonly isEmbellished: boolean;
  readonly isSpacelike: boolean;
  readonly linebreakContainer: boolean;
  readonly hasNewLine: boolean;

  /**
   *  The expected number of children (-1 means use inferred mrow)
   */
  readonly arity: number;
  readonly isInferred: boolean;

  /**
   *  Get the parent node (skipping inferred mrows and
   *    other nodes marked as notParent)
   */
  readonly Parent: MmlNode;
  readonly notParent: boolean;

  /**
   * The actual parent in the tree
   */
  parent: MmlNode;

  /**
   *  values needed for TeX spacing computations
   */
  texClass: number;
  prevClass: number;
  prevLevel: number;

  /**
   *  The attributes (explicit and inherited) for this node
   */
  attributes: Attributes;

  /**
   * @return {MmlNode}  For embellished operators, the child node that contains the
   *                    core &lt;mo&gt; node.  For non-embellished nodes, the original node.
   */
  core(): MmlNode;

  /**
   * @return {MmlNode}  For embellished operators, the core &lt;mo&gt; element (at whatever
   *                    depth).  For non-embellished nodes, the original node itself.
   */
  coreMO(): MmlNode;

  /**
   * @return {number}   For embellished operators, the index of the child node containing
   *                    the core &lt;mo&gt;.  For non-embellished nodes, 0.
   */
  coreIndex(): number;

  /**
   * @return {number}  The index of this node in its parent's childNodes array.
   */
  childPosition(): number;

  /**
   * @param {MmlNode} prev  The node that is before this one for TeX spacing purposes
   *                        (not all nodes count in TeX measurements)
   * @return {MmlNode}  The node that should be the previous node for the next one
   *                    in the tree (usually, either the last child, or the node itself)
   */
  setTeXclass(prev: MmlNode): MmlNode;

  /**
   * @return {string}  The spacing to use before this element (one of TEXSPACELENGTH array above)
   */
  texSpacing(): string;

  /**
   * @return {boolean}  The core mo element has an explicit 'form', 'lspace', or 'rspace' attribute
   */
  hasSpacingAttributes(): boolean;

  /**
   * Sets the nodes inherited attributes, and pushes them to the nodes children.
   *
   * @param {AttributeList} attributes  The list of inheritable attributes (with the node kinds
   *                                    from which they came)
   * @param {boolean} display           The displaystyle to inherit
   * @param {number} level              The scriptlevel to inherit
   * @param {boolean} prime             The TeX prime style to inherit (T vs. T', etc).
   */
  setInheritedAttributes(attributes: AttributeList, display: boolean, level: number, prime: boolean): void;

  /**
   * Set the nodes inherited attributes based on the attributes of the given node
   *   (used for creating extra nodes in the tree after setInheritedAttributes has already run)
   *
   * @param {MmlNode} node   The node whose attributes are to be used as a template
   */
  inheritAttributesFrom(node: MmlNode): void;

  /**
   * Replace the current node with an error message (or the name of the node)
   *
   * @param {string} message         The error message to use
   * @param {PropertyList} options   The options telling how much to verify
   * @param {boolean} short          True means use just the kind if not using full errors
   */
  mError(message: string, options: PropertyList, short?: boolean): void;

  /**
   * Check integrity of MathML structure
   *
   * @param {PropertyList} options  The options controlling the check
   */
  verifyTree(options?: PropertyList): void;
}


/*****************************************************************/
</t>
<t tx="ekr.20211016054411.74">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/boldsymbol',  // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.740">/**
 *  The MmlNode class interface (extends the NodeClass)
 */

export interface MmlNodeClass extends NodeClass {

  /**
   *  The list of default attribute values for nodes of this class
   */
  defaults?: PropertyList;

  /**
   * An MmlNode takes a NodeFactory (so it can create additional nodes as needed), a list
   *   of attributes, and an array of children and returns the desired MmlNode with
   *   those attributes and children
   *
   * @constructor
   * @param {MmlFactory} factory       The MathML node factory to use to create additional nodes
   * @param {PropertyList} attributes  The list of initial attributes for the node
   * @param {MmlNode[]} children       The initial child nodes (more can be added later)
   */
  new (factory: MmlFactory, attributes?: PropertyList, children?: MmlNode[]): MmlNode;

}


/*****************************************************************/
/**
 *  The abstract MmlNode class (extends the AbstractNode class and implements
 *  the IMmlNode interface)
 */

export abstract class AbstractMmlNode extends AbstractNode implements MmlNode {

  /**
   * The properties common to all MathML nodes
   */
  public static defaults: PropertyList = {
    mathbackground: INHERIT,
    mathcolor: INHERIT,
    mathsize: INHERIT,  // technically only for token elements, but &lt;mstyle mathsize="..."&gt; should
    //    scale all spaces, fractions, etc.
    dir: INHERIT
  };

  /**
   *  This lists properties that do NOT get inherited between specific kinds
   *  of nodes.  The outer keys are the node kinds that are being inherited FROM,
   *  while the second level of keys are the nodes that INHERIT the values.  Any
   *  property appearing in the innermost list is NOT inherited by the pair.
   *
   *  For example, an mpadded element will not inherit a width attribute from an mstyle node.
   */
  public static noInherit: {[node1: string]: {[node2: string]: {[attribute: string]: boolean}}} = {
    mstyle: {
      mpadded: {width: true, height: true, depth: true, lspace: true, voffset: true},
      mtable:  {width: true, height: true, depth: true, align: true}
    },
    maligngroup: {
      mrow: {groupalign: true},
      mtable: {groupalign: true}
    }
  };

  /**
   * This lists the attributes that should always be inherited,
   *   even when there is no default value for the attribute.
   */
  public static alwaysInherit: {[name: string]: boolean} = {
    scriptminsize: true,
    scriptsizemultiplier: true
  };

  /**
   * This is the list of options for the verifyTree() method
   */
  public static verifyDefaults: PropertyList = {
    checkArity: true,
    checkAttributes: false,
    fullErrors: false,
    fixMmultiscripts: true,
    fixMtables: true
  };

  /*
   * These default to being unset (the node doesn't participate in spacing calculations).
   * The correct values are produced when the setTeXclass() method is called on the tree.
   */

  /**
   * The TeX class for the preceding node
   */
  public prevClass: number = null;

  /**
   * The scriptlevel of the preceding node
   */
  public prevLevel: number = null;

  /**
   * This node's attributes
   */
  public attributes: Attributes;

  /**
   *  Child nodes are MmlNodes (special case of Nodes).
   */
  public childNodes: MmlNode[];

  /**
   * The parent is an MmlNode
   */
  public parent: MmlNode;

  /**
   * The node factory is an MmlFactory
   */
  public readonly factory: MmlFactory;

  /**
   * The TeX class of this node (obtained via texClass below)
   */
  protected texclass: number = null;

  
</t>
<t tx="ekr.20211016054411.741">/**
   *  Create an MmlNode:
   *    If the arity is -1, add the inferred row (created by the factory)
   *    Add the children, if any
   *    Create the Attribute object from the class defaults and the global defaults (the math node defaults)
   *
   *  @override
   */
constructor(factory: MmlFactory, attributes: PropertyList = {}, children: MmlNode[] = []) {
  super(factory);
  if (this.arity &lt; 0) {
    this.childNodes = [factory.create('inferredMrow')];
    this.childNodes[0].parent = this;
  }
  this.setChildren(children);
  this.attributes = new Attributes(
    factory.getNodeClass(this.kind).defaults,
    factory.getNodeClass('math').defaults
  );
  this.attributes.setList(attributes);
}

</t>
<t tx="ekr.20211016054411.742">/**
 * @override
 *
 * @param {boolean} keepIds   True to copy id attributes, false to skip them.
 *                              (May cause error in the future, since not part of the interface.)
 * @return {AbstractMmlNode}  The copied node tree.
 */
public copy(keepIds: boolean = false): AbstractMmlNode {
  const node = this.factory.create(this.kind) as AbstractMmlNode;
  node.properties = {...this.properties};
  if (this.attributes) {
    const attributes = this.attributes.getAllAttributes();
    for (const name of Object.keys(attributes)) {
      if (name !== 'id' || keepIds) {
        node.attributes.set(name, attributes[name]);
      }
    }
  }
  if (this.childNodes &amp;&amp; this.childNodes.length) {
    let children = this.childNodes as MmlNode[];
    if (children.length === 1 &amp;&amp; children[0].isInferred) {
      children = children[0].childNodes as MmlNode[];
    }
    for (const child of children) {
      if (child) {
        node.appendChild(child.copy() as MmlNode);
      } else {
        node.childNodes.push(null);
      }
    }
  }
  return node;
}

/**
 * The TeX class for this node
 */
public get texClass(): number {
  return this.texclass;
}

/**
 * The TeX class for this node
 */
public set texClass(texClass: number) {
  this.texclass = texClass;
}

/**
 * @return {boolean}  true if this is a token node
 */
public get isToken(): boolean {
  return false;
}

/**
 * @return {boolean}  true if this is an embellished operator
 */
public get isEmbellished(): boolean {
  return false;
}

/**
 * @return {boolean}  true if this is a space-like node
 */
public get isSpacelike(): boolean {
  return false;
}

/**
 * @return {boolean}  true if this is a node that supports linebreaks in its children
 */
public get linebreakContainer(): boolean {
  return false;
}

/**
 * @return {boolean}  true if this node contains a line break
 */
public get hasNewLine(): boolean {
  return false;
}

/**
 * @return {number}  The number of children allowed, or Infinity for any number,
 *                   or -1 for when an inferred row is needed for the children.
 *                   Special case is 1, meaning at least one (other numbers
 *                   mean exactly that many).
 */
public get arity(): number {
  return Infinity;
}

/**
 * @return {boolean}  true if this is an inferred mrow
 */
public get isInferred(): boolean {
  return false;
}

/**
 * @return {MmlNode}  The logical parent of this node (skipping over inferred rows
 *                      some other node types)
 */
public get Parent(): MmlNode {
  let parent = this.parent;
  while (parent &amp;&amp; parent.notParent) {
    parent = parent.Parent;
  }
  return parent;
}

/**
 * @return {boolean}  true if this is a node that doesn't count as a parent node in Parent()
 */
public get notParent(): boolean {
  return false;
}

</t>
<t tx="ekr.20211016054411.743">/**
 * If there is an inferred row, the the children of that instead
 *
 * @override
 */
public setChildren(children: MmlNode[]) {
  if (this.arity &lt; 0) {
    return this.childNodes[0].setChildren(children);
  }
  return super.setChildren(children);
}
</t>
<t tx="ekr.20211016054411.744">/**
 * If there is an inferred row, append to that instead.
 * If a child is inferred, append its children instead.
 *
 * @override
 */
public appendChild(child: MmlNode) {
  if (this.arity &lt; 0) {
    this.childNodes[0].appendChild(child);
    return child;
  }
  if (child.isInferred) {
    //
    //  If we can have arbitrary children, remove the inferred mrow
    //  (just add its children).
    //
    if (this.arity === Infinity) {
      child.childNodes.forEach((node) =&gt; super.appendChild(node));
      return child;
    }
    //
    //  Otherwise, convert the inferred mrow to an explicit mrow
    //
    const original = child;
    child = this.factory.create('mrow');
    child.setChildren(original.childNodes);
    child.attributes = original.attributes;
    for (const name of original.getPropertyNames()) {
      child.setProperty(name, original.getProperty(name));
    }
  }
  return super.appendChild(child);
}
</t>
<t tx="ekr.20211016054411.745">/**
 * If there is an inferred row, remove the child from there
 *
 * @override
 */
public replaceChild(newChild: MmlNode, oldChild: MmlNode) {
  if (this.arity &lt; 0) {
    this.childNodes[0].replaceChild(newChild, oldChild);
    return newChild;
  }
  return super.replaceChild(newChild, oldChild);
}

</t>
<t tx="ekr.20211016054411.746">/**
 * @override
 */
public core(): MmlNode {
  return this;
}

</t>
<t tx="ekr.20211016054411.747">/**
 * @override
 */
public coreMO(): MmlNode {
  return this;
}

</t>
<t tx="ekr.20211016054411.748">/**
 * @override
 */
public coreIndex() {
  return 0;
}

</t>
<t tx="ekr.20211016054411.749">/**
 * @override
 */
public childPosition() {
  let child: MmlNode = this;
  let parent = child.parent;
  while (parent &amp;&amp; parent.notParent) {
    child = parent;
    parent = parent.parent;
  }
  if (parent) {
    let i = 0;
    for (const node of parent.childNodes) {
      if (node === child) {
        return i;
      }
      i++;
    }
  }
  return null;
}

</t>
<t tx="ekr.20211016054411.75"></t>
<t tx="ekr.20211016054411.750">/**
 * @override
 */
public setTeXclass(prev: MmlNode): MmlNode {
  this.getPrevClass(prev);
  return (this.texClass != null ? this : prev);
}
/**
 * For embellished operators, get the data from the core and clear the core
 *
 * @param {MmlNode} core  The core &lt;mo&gt; for this node
 */
protected updateTeXclass(core: MmlNode) {
  if (core) {
    this.prevClass = core.prevClass;
    this.prevLevel = core.prevLevel;
    core.prevClass = core.prevLevel = null;
    this.texClass = core.texClass;
  }
}
/**
 * Get the previous element's texClass and scriptlevel
 *
 * @param {MmlNode} prev  The previous node to this one
 */
protected getPrevClass(prev: MmlNode) {
  if (prev) {
    this.prevClass = prev.texClass;
    this.prevLevel = prev.attributes.get('scriptlevel') as number;
  }
}

</t>
<t tx="ekr.20211016054411.751">/**
 * @return {string}  returns the spacing to use before this node
 */
public texSpacing(): string {
  let prevClass = (this.prevClass != null ? this.prevClass : TEXCLASS.NONE);
  let texClass = this.texClass || TEXCLASS.ORD;
  if (prevClass === TEXCLASS.NONE || texClass === TEXCLASS.NONE) {
    return '';
  }
  if (prevClass === TEXCLASS.VCENTER) {
    prevClass = TEXCLASS.ORD;
  }
  if (texClass === TEXCLASS.VCENTER) {
    texClass = TEXCLASS.ORD;
  }
  let space = TEXSPACE[prevClass][texClass];
  if ((this.prevLevel &gt; 0 || this.attributes.get('scriptlevel') &gt; 0) &amp;&amp; space &gt;= 0) {
    return '';
  }
  return TEXSPACELENGTH[Math.abs(space)];
}

</t>
<t tx="ekr.20211016054411.752">/**
 * @return {boolean}  The core mo element has an explicit 'form' attribute
 */
public hasSpacingAttributes(): boolean {
  return this.isEmbellished &amp;&amp; this.coreMO().hasSpacingAttributes();
}

/**
 * Sets the inherited propertis for this node, and pushes inherited properties to the children
 *
 *   For each inheritable attribute:
 *     If the node has a default for this attribute, try to inherit it
 *       but check if the noInherit object prevents that.
 *   If the node doesn't have an explicit displaystyle, inherit it
 *   If the node doesn't have an explicit scriptstyle, inherit it
 *   If the prime style is true, set it as a property (it is not a MathML attribute)
 *   Check that the number of children is correct
 *   Finally, push any inherited attributes to teh children.
 *
 * @override
 */
public setInheritedAttributes(attributes: AttributeList = {},
                              display: boolean = false, level: number = 0, prime: boolean = false) {
  let defaults = this.attributes.getAllDefaults();
  for (const key of Object.keys(attributes)) {
    if (defaults.hasOwnProperty(key) || AbstractMmlNode.alwaysInherit.hasOwnProperty(key)) {
      let [node, value] = attributes[key];
      let noinherit = (AbstractMmlNode.noInherit[node] || {})[this.kind] || {};
      if (!noinherit[key]) {
        this.attributes.setInherited(key, value);
      }
    }
  }
  let displaystyle = this.attributes.getExplicit('displaystyle');
  if (displaystyle === undefined) {
    this.attributes.setInherited('displaystyle', display);
  }
  let scriptlevel = this.attributes.getExplicit('scriptlevel');
  if (scriptlevel === undefined) {
    this.attributes.setInherited('scriptlevel', level);
  }
  if (prime) {
    this.setProperty('texprimestyle', prime);
  }
  let arity = this.arity;
  if (arity &gt;= 0 &amp;&amp; arity !== Infinity &amp;&amp; ((arity === 1 &amp;&amp; this.childNodes.length === 0) ||
                                           (arity !== 1 &amp;&amp; this.childNodes.length !== arity))) {
    //
    //  Make sure there are the right number of child nodes
    //  (trim them or add empty mrows)
    //
    if (arity &lt; this.childNodes.length) {
      this.childNodes = this.childNodes.slice(0, arity);
    } else {
      while (this.childNodes.length &lt; arity) {
        this.appendChild(this.factory.create('mrow'));
      }
    }
  }
  this.setChildInheritedAttributes(attributes, display, level, prime);
}
/**
 * Apply inherited attributes to all children
 * (Some classes override this to handle changes in displaystyle and scriptlevel)
 *
 * @param {AttributeList} attributes  The list of inheritable attributes (with the node kinds
 *                                    from which they came)
 * @param {boolean} display           The displaystyle to inherit
 * @param {number} level              The scriptlevel to inherit
 * @param {boolean} prime             The TeX prime style to inherit (T vs. T', etc).
 */
protected setChildInheritedAttributes(attributes: AttributeList, display: boolean, level: number, prime: boolean) {
  for (const child of this.childNodes) {
    child.setInheritedAttributes(attributes, display, level, prime);
  }
}
/**
 * Used by subclasses to add their own attributes to the inherited list
 * (e.g., mstyle uses this to augment the inherited attibutes)
 *
 * @param {AttributeList} current    The current list of inherited attributes
 * @param {PropertyList} attributes  The new attributes to add into the list
 */
protected addInheritedAttributes(current: AttributeList, attributes: PropertyList) {
  let updated: AttributeList = {...current};
  for (const name of Object.keys(attributes)) {
    if (name !== 'displaystyle' &amp;&amp; name !== 'scriptlevel' &amp;&amp; name !== 'style') {
      updated[name] = [this.kind, attributes[name]];
    }
  }
  return updated;
}

</t>
<t tx="ekr.20211016054411.753">/**
 * Set the nodes inherited attributes based on the attributes of the given node
 *   (used for creating extra nodes in the tree after setInheritedAttributes has already run)
 *
 * @param {MmlNode} node   The node whose attributes are to be used as a template
 */
public inheritAttributesFrom(node: MmlNode) {
  const attributes = node.attributes;
  const display = attributes.get('displaystyle') as boolean;
  const scriptlevel = attributes.get('scriptlevel') as number;
  const defaults: AttributeList = (!attributes.isSet('mathsize') ? {} : {
    mathsize: ['math', attributes.get('mathsize')]
  });
  const prime = node.getProperty('texprimestyle') as boolean || false;
  this.setInheritedAttributes(defaults, display, scriptlevel, prime);
}

</t>
<t tx="ekr.20211016054411.754">/**
 * Verify the attributes, and that there are the right number of children.
 * Then verify the children.
 *
 * @param {PropertyList} options   The options telling how much to verify
 */
public verifyTree(options: PropertyList = null) {
  if (options === null) {
    return;
  }
  this.verifyAttributes(options);
  let arity = this.arity;
  if (options['checkArity']) {
    if (arity &gt;= 0 &amp;&amp; arity !== Infinity &amp;&amp;
        ((arity === 1 &amp;&amp; this.childNodes.length === 0) ||
         (arity !== 1 &amp;&amp; this.childNodes.length !== arity))) {
      this.mError('Wrong number of children for "' + this.kind + '" node', options, true);
    }
  }
  this.verifyChildren(options);
}

/**
 * Verify that all the attributes are valid (i.e., have defaults)
 *
 * @param {PropertyList} options   The options telling how much to verify
 */
protected verifyAttributes(options: PropertyList) {
  if (options['checkAttributes']) {
    const attributes = this.attributes;
    const bad = [];
    for (const name of attributes.getExplicitNames()) {
      if (name.substr(0, 5) !== 'data-' &amp;&amp; attributes.getDefault(name) === undefined &amp;&amp;
          !name.match(/^(?:class|style|id|(?:xlink:)?href)$/)) {
        // FIXME: provide a configurable checker for names that are OK
        bad.push(name);
      }
      // FIXME: add ability to check attribute values?
    }
    if (bad.length) {
      this.mError('Unknown attributes for ' + this.kind + ' node: ' + bad.join(', '), options);
    }
  }
}

/**
 * Verify the children.
 *
 * @param {PropertyList} options   The options telling how much to verify
 */
protected verifyChildren(options: PropertyList) {
  for (const child of this.childNodes) {
    child.verifyTree(options);
  }
}

</t>
<t tx="ekr.20211016054411.755">/**
 * Replace the current node with an error message (or the name of the node)
 *
 * @param {string} message         The error message to use
 * @param {PropertyList} options   The options telling how much to verify
 * @param {boolean} short          True means use just the kind if not using full errors
 */
  public mError(message: string, options: PropertyList, short: boolean = false) {
    if (this.parent &amp;&amp; this.parent.isKind('merror')) {
      return null;
    }
    let merror = this.factory.create('merror');
    if (options['fullErrors'] || short) {
      let mtext = this.factory.create('mtext');
      let text = this.factory.create('text') as TextNode;
      text.setText(options['fullErrors'] ? message : this.kind);
      mtext.appendChild(text);
      merror.appendChild(mtext);
      this.parent.replaceChild(merror, this);
    } else {
      this.parent.replaceChild(merror, this);
      merror.appendChild(this);
    }
    return merror;
  }

}

/*****************************************************************/
/**
 *  The abstract MmlNode Token node class (extends the AbstractMmlNode)
 */

export abstract class AbstractMmlTokenNode extends AbstractMmlNode {

  /**
   * Add the attributes common to all token nodes
   */
  public static defaults: PropertyList = {
      ...AbstractMmlNode.defaults,
    mathvariant: 'normal',
    mathsize: INHERIT
  };

  /**
   * @override
   */
  public get isToken() {
    return true;
  }

  
</t>
<t tx="ekr.20211016054411.756">/**
   * Get the text of the token node (skipping mglyphs, and combining
   *   multiple text nodes)
   */
public getText() {
  let text = '';
  for (const child of this.childNodes) {
    if (child instanceof TextNode) {
      text += child.getText();
    }
  }
  return text;
}

/**
 * Only inherit to child nodes that are AbstractMmlNodes (not TextNodes)
 *
 * @override
 */
protected setChildInheritedAttributes(attributes: AttributeList, display: boolean, level: number, prime: boolean) {
  for (const child of this.childNodes) {
    if (child instanceof AbstractMmlNode) {
      child.setInheritedAttributes(attributes, display, level, prime);
    }
  }
}

</t>
<t tx="ekr.20211016054411.757">/**
 * Only step into children that are AbstractMmlNodes (not TextNodes)
 * @override
 */
  public walkTree(func: (node: Node, data?: any) =&gt; void, data?: any) {
    func(this, data);
    for (const child of this.childNodes) {
      if (child instanceof AbstractMmlNode) {
        child.walkTree(func, data);
      }
    }
    return data;
  }

}


/*****************************************************************/
/**
 *  The abstract MmlNode Layout class (extends the AbstractMmlNode)
 *
 *  These have inferred mrows (so only one child) and can be
 *  spacelike or embellished based on their contents.
 */

export abstract class AbstractMmlLayoutNode extends AbstractMmlNode {

  /**
   * Use the same defaults as AbstractMmlNodes
   */
  public static defaults: PropertyList = AbstractMmlNode.defaults;

  /**
   * @override
   */
  public get isSpacelike() {
    return this.childNodes[0].isSpacelike;
  }

  /**
   * @override
   */
  public get isEmbellished() {
    return this.childNodes[0].isEmbellished;
  }

  /**
   * @override
   */
  public get arity() {
    return -1;
  }

  
</t>
<t tx="ekr.20211016054411.758">/**
   * @override
   */
public core() {
  return this.childNodes[0];
}

</t>
<t tx="ekr.20211016054411.759">/**
 * @override
 */
public coreMO() {
  return this.childNodes[0].coreMO();
}

</t>
<t tx="ekr.20211016054411.76">
import './lib/braket.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.760">/**
 * @override
 */
  public setTeXclass(prev: MmlNode) {
    prev = this.childNodes[0].setTeXclass(prev);
    this.updateTeXclass(this.childNodes[0]);
    return prev;
  }
}

/*****************************************************************/
/**
 *  The abstract MmlNode-with-base-node Class (extends the AbstractMmlNode)
 *
 *  These have a base element and other elemetns, (e.g., script elements for msubsup).
 *  They can be embellished (if their base is), and get their TeX classes
 *    from their base with their scripts being handled as separate math lists.
 */

export abstract class AbstractMmlBaseNode extends AbstractMmlNode {

  /**
   * Use the same defaults as AbstractMmlNodes
   */
  public static defaults: PropertyList = AbstractMmlNode.defaults;

  /**
   * @override
   */
  public get isEmbellished() {
    return this.childNodes[0].isEmbellished;
  }

  
</t>
<t tx="ekr.20211016054411.761">/**
   * @override
   */
public core() {
  return this.childNodes[0];
}

</t>
<t tx="ekr.20211016054411.762">/**
 * @override
 */
public coreMO() {
  return this.childNodes[0].coreMO();
}

</t>
<t tx="ekr.20211016054411.763">/**
 * @override
 */
  public setTeXclass(prev: MmlNode) {
    this.getPrevClass(prev);
    this.texClass = TEXCLASS.ORD;
    let base = this.childNodes[0];
    if (base) {
      if (this.isEmbellished || base.isKind('mi')) {
        prev = base.setTeXclass(prev);
        this.updateTeXclass(this.core());
      } else {
        base.setTeXclass(null);
        prev = this;
      }
    } else {
      prev = this;
    }
    for (const child of this.childNodes.slice(1)) {
      if (child) {
        child.setTeXclass(null);
      }
    }
    return prev;
  }
}

/*****************************************************************/
/**
 *  The abstract MmlNode Empty Class (extends AbstractEmptyNode, implements MmlNode)
 *
 *  These have no children and no attributes (TextNode and XMLNode), so we
 *  override all the methods dealing with them, and with the data that usually
 *  goes with an MmlNode.
 */

export abstract class AbstractMmlEmptyNode extends AbstractEmptyNode implements MmlNode {

  /**
   *  Parent is an MmlNode
   */
  public parent: MmlNode;

  /**
   * @return {boolean}  Not a token element
   */
  public get isToken(): boolean {
    return false;
  }

  /**
   * @return {boolean}  Not embellished
   */
  public get isEmbellished(): boolean {
    return false;
  }

  /**
   * @return {boolean}  Not space-like
   */
  public get isSpacelike(): boolean {
    return false;
  }

  /**
   * @return {boolean}  Not a container of any kind
   */
  public get linebreakContainer(): boolean {
    return false;
  }

  /**
   * @return {boolean}  Does not contain new lines
   */
  public get hasNewLine(): boolean {
    return false;
  }

  /**
   * @return {number}  No children
   */
  public get arity(): number {
    return 0;
  }

  /**
   * @return {boolean}  Is not an inferred row
   */
  public get isInferred(): boolean {
    return false;
  }

  /**
   * @return {boolean}  Is not a container element
   */
  public get notParent(): boolean {
    return false;
  }

  /**
   * @return {MmlNode}  Parent is the actual parent
   */
  public get Parent(): MmlNode {
    return this.parent;
  }

  /**
   * @return {number}  No TeX class
   */
  public get texClass(): number {
    return TEXCLASS.NONE;
  }

  /**
   * @return {number}  No previous element
   */
  public get prevClass(): number {
    return TEXCLASS.NONE;
  }

  /**
   * @return {number}  No previous element
   */
  public get prevLevel(): number {
    return 0;
  }

  
</t>
<t tx="ekr.20211016054411.764">/**
   * @return {boolean}  The core mo element has an explicit 'form' attribute
   */
public hasSpacingAttributes(): boolean {
  return false;
}

/**
 * return {Attributes}  No attributes, so don't store one
 */
public get attributes(): Attributes {
  return null;
}

</t>
<t tx="ekr.20211016054411.765">/**
 * @override
 */
public core(): MmlNode {
  return this;
}

</t>
<t tx="ekr.20211016054411.766">/**
 * @override
 */
public coreMO(): MmlNode {
  return this;
}

</t>
<t tx="ekr.20211016054411.767">/**
 * @override
 */
public coreIndex() {
  return 0;
}

</t>
<t tx="ekr.20211016054411.768">/**
 * @override
 */
public childPosition() {
  return 0;
}

</t>
<t tx="ekr.20211016054411.769">/**
 * @override
 */
public setTeXclass(prev: MmlNode) {
  return prev;
}
</t>
<t tx="ekr.20211016054411.77">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/braket',      // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.770">/**
 * @override
 */
  public texSpacing() {
    return '';
  }

  /**
   * No children or attributes, so ignore this call.
   *
   * @override
   */
  public setInheritedAttributes(_attributes: AttributeList, _display: boolean, _level: number, _prime: boolean) {}

  /**
   * No children or attributes, so ignore this call.
   *
   * @override
   */
  public inheritAttributesFrom(_node: MmlNode) {}

  /**
   * No children or attributes, so ignore this call.
   *
   * @param {PropertyList} options  The options for the check
   */
  public verifyTree(_options: PropertyList) {}

  /**
   *  @override
   */
  public mError(_message: string, _options: PropertyList, _short: boolean = false) {}

}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.771">/**
 *  The TextNode Class (extends AbstractMmlEmptyNode)
 */

export class TextNode extends AbstractMmlEmptyNode {
  /**
   * The text for this node
   */
  protected text: string = '';

  /**
   * @override
   */
  public get kind() {
    return 'text';
  }

  /**
   * @return {string}  Return the node's text
   */
  @others
}


/*****************************************************************/
</t>
<t tx="ekr.20211016054411.772">public getText(): string {
  return this.text;
}

</t>
<t tx="ekr.20211016054411.773">/**
 * @param {string} text  The text to use for the node
 * @return {TextNode}  The text node (for chaining of method calls)
 */
public setText(text: string): TextNode {
  this.text = text;
  return this;
}

</t>
<t tx="ekr.20211016054411.774">/**
 * @override
 */
public copy() {
  return (this.factory.create(this.kind) as TextNode).setText(this.getText());
}

</t>
<t tx="ekr.20211016054411.775">/**
 * Just use the text
 */
public toString() {
  return this.text;
}

</t>
<t tx="ekr.20211016054411.776">/**
 *  The XMLNode Class (extends AbstractMmlEmptyNode)
 */

export class XMLNode extends AbstractMmlEmptyNode {
  /**
   * The XML content for this node
   */
  protected xml: Object = null;

  /**
   * DOM adaptor for the content
   */
  protected adaptor: DOMAdaptor&lt;any, any, any&gt; = null;

  /**
   * @override
   */
  public get kind() {
    return 'XML';
  }

  /**
   * @return {Object}  Return the node's XML content
   */
  @others
}
</t>
<t tx="ekr.20211016054411.777">public getXML(): Object {
  return this.xml;
}

</t>
<t tx="ekr.20211016054411.778">/**
 * @param {object} xml  The XML content to be saved
 * @param {DOMAdaptor} adaptor DOM adaptor for the content
 * @return {XMLNode}  The XML node (for chaining of method calls)
 */
public setXML(xml: Object, adaptor: DOMAdaptor&lt;any, any, any&gt; = null): XMLNode {
  this.xml = xml;
  this.adaptor = adaptor;
  return this;
}

</t>
<t tx="ekr.20211016054411.779">/**
 * @return {string}  The serialized XML content
 */
public getSerializedXML(): string {
  return this.adaptor.serializeXML(this.xml);
}

</t>
<t tx="ekr.20211016054411.78"></t>
<t tx="ekr.20211016054411.780">/**
 * @override
 */
public copy(): XMLNode {
  return (this.factory.create(this.kind) as XMLNode).setXML(this.adaptor.clone(this.xml));
}

</t>
<t tx="ekr.20211016054411.781">/**
 * Just indicate that this is XML data
 */
public toString() {
  return 'XML data';
}

</t>
<t tx="ekr.20211016054411.782">/**
 * @fileoverview  A visitor class that visits MmlNode trees
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {TextNode, XMLNode} from './MmlNode.js';
import {MmlFactory} from './MmlFactory.js';
import {AbstractVisitor} from '../Tree/Visitor.js';

/*****************************************************************/
/**
 *  Implements the MmlVisitor (subclass of Visitor, and base class
 *  for visitors that accept MmlNode trees)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.783">export class MmlVisitor extends AbstractVisitor {
  /**
   * @param {MmlFactory} factory  The MmlNode factory (defaults to MmlFactory if not given)
   *
   * @constructor
   * @extends {AbstractVisitor}
   */
  @others
}
</t>
<t tx="ekr.20211016054411.784">constructor(factory: MmlFactory = null) {
  if (!factory) {
    factory = new MmlFactory();
  }
  super(factory);
}

/***********************************************/
/**
 * Stubs for overriding in subclasses
 */

/**
 * @param {TextNode} node  The TextNode to visit
 * @param {any[]} args  Any arguments needed by the visitor
 * @return {any}  Any return value needed for the visitor
 */
public visitTextNode(_node: TextNode, ..._args: any[]): any {}

/**
 * @param {XMLNode} node  The XMLNode to visit
 * @param {any[]} args  Any arguments needed by the visitor
 * @return {any}  Any return value needed for the visitor
 */
public visitXMLNode(_node: XMLNode, ..._args: any[]): any {}

</t>
<t tx="ekr.20211016054411.785">/**
 * @fileoverview  Defines the operator dictionary structure
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../Tree/Node.js';
import {TEXCLASS} from './MmlNode.js';

/**
 * Types needed for the operator dictionary
 */
export type OperatorDef = [number, number, number, PropertyList];
export type OperatorList = {[name: string]: OperatorDef};
export type RangeDef = [number, number, number, string];

/**
 * @param {number} lspace            The operator's MathML left-hand spacing
 * @param {number} rspace            The operator's MathML right-hand spacing
 * @param {number} texClass          The default TeX class for the operator
 * @param {PropertyList} properties  Any default properties from the operator dictionary
 * @return {OperatorDef}             The operator definition array
 */
export function OPDEF(lspace: number, rspace: number, texClass: number = TEXCLASS.BIN,
                      properties: PropertyList = null): OperatorDef {
                        return [lspace, rspace, texClass, properties] as OperatorDef;
                      }

/**
 *  The various kinds of operators in the dictionary
 */
export const MO = {
  ORD:        OPDEF(0, 0, TEXCLASS.ORD),
  ORD11:      OPDEF(1, 1, TEXCLASS.ORD),
  ORD21:      OPDEF(2, 1, TEXCLASS.ORD),
  ORD02:      OPDEF(0, 2, TEXCLASS.ORD),
  ORD55:      OPDEF(5, 5, TEXCLASS.ORD),
  OP:         OPDEF(1, 2, TEXCLASS.OP, {largeop: true, movablelimits: true, symmetric: true}),
  OPFIXED:    OPDEF(1, 2, TEXCLASS.OP, {largeop: true, movablelimits: true}),
  INTEGRAL:   OPDEF(0, 1, TEXCLASS.OP, {largeop: true, symmetric: true}),
  INTEGRAL2:  OPDEF(1, 2, TEXCLASS.OP, {largeop: true, symmetric: true}),
  BIN3:       OPDEF(3, 3, TEXCLASS.BIN),
  BIN4:       OPDEF(4, 4, TEXCLASS.BIN),
  BIN01:      OPDEF(0, 1, TEXCLASS.BIN),
  BIN5:       OPDEF(5, 5, TEXCLASS.BIN),
  TALLBIN:    OPDEF(4, 4, TEXCLASS.BIN, {stretchy: true}),
  BINOP:      OPDEF(4, 4, TEXCLASS.BIN, {largeop: true, movablelimits: true}),
  REL:        OPDEF(5, 5, TEXCLASS.REL),
  REL1:       OPDEF(1, 1, TEXCLASS.REL, {stretchy: true}),
  REL4:       OPDEF(4, 4, TEXCLASS.REL),
  RELSTRETCH: OPDEF(5, 5, TEXCLASS.REL, {stretchy: true}),
  RELACCENT:  OPDEF(5, 5, TEXCLASS.REL, {accent: true}),
  WIDEREL:    OPDEF(5, 5, TEXCLASS.REL, {accent: true, stretchy: true}),
  OPEN:       OPDEF(0, 0, TEXCLASS.OPEN, {fence: true, stretchy: true, symmetric: true}),
  CLOSE:      OPDEF(0, 0, TEXCLASS.CLOSE, {fence: true, stretchy: true, symmetric: true}),
  INNER:      OPDEF(0, 0, TEXCLASS.INNER),
  PUNCT:      OPDEF(0, 3, TEXCLASS.PUNCT),
  ACCENT:     OPDEF(0, 0, TEXCLASS.ORD, {accent: true}),
  WIDEACCENT: OPDEF(0, 0, TEXCLASS.ORD, {accent: true, stretchy: true})
};

/**
 *  The default TeX classes for the various unicode blocks, and their names
 */
export const RANGES: RangeDef[] = [
  [0x0020, 0x007F, TEXCLASS.REL, 'mo'], // Basic Latin
  [0x00A0, 0x00BF, TEXCLASS.ORD, 'mo'], // Latin-1 Supplement symbols
  [0x00C0, 0x024F, TEXCLASS.ORD, 'mi'], // Latin-1 Supplement, Latin Extended-A, Latin Extended-B
  [0x02B0, 0x036F, TEXCLASS.ORD, 'mo'], // Spacing modifier letters, Combining Diacritical Marks
  [0x0370, 0x1A20, TEXCLASS.ORD, 'mi'], // Greek and Coptic (through) Tai Tham
  [0x1AB0, 0x1AFF, TEXCLASS.ORD, 'mo'], // Combining Diacritical Marks Extended
  [0x1B00, 0x1DBF, TEXCLASS.ORD, 'mi'], // Balinese (through) Phonetic Extensions Supplement
  [0x1DC0, 0x1DFF, TEXCLASS.ORD, 'mo'], // Combining Diacritical Marks Supplement
  [0x1E00, 0x1FFF, TEXCLASS.ORD, 'mi'], // Latin Extended Additional, Greek Extended
  [0x2000, 0x206F, TEXCLASS.ORD, 'mo'], // General Punctuation
  [0x2070, 0x209F, TEXCLASS.ORD, 'mo'], // Superscript and Subscripts (through) Combining Diacritical Marks for Symbols
  [0x2100, 0x214F, TEXCLASS.ORD, 'mi'], // Letterlike Symbols
  [0x2150, 0x218F, TEXCLASS.ORD, 'mn'], // Number Forms
  [0x2190, 0x21FF, TEXCLASS.REL, 'mo'], // Arrows
  [0x2200, 0x22FF, TEXCLASS.BIN, 'mo'], // Mathematical Operators
  [0x2300, 0x23FF, TEXCLASS.ORD, 'mo'], // Miscellaneous Technical
  [0x2460, 0x24FF, TEXCLASS.ORD, 'mn'], // Enclosed Alphanumerics
  [0x2500, 0x27EF, TEXCLASS.ORD, 'mo'], // Box Drawing (though) Miscellaneous Math Symbols-A
  [0x27F0, 0x27FF, TEXCLASS.REL, 'mo'], // Supplemental Arrows-A
  [0x2800, 0x28FF, TEXCLASS.ORD, 'mtext'], // Braille Patterns
  [0x2900, 0x297F, TEXCLASS.REL, 'mo'], // Supplemental Arrows-B
  [0x2980, 0x29FF, TEXCLASS.ORD, 'mo'], // Miscellaneous Math Symbols-B
  [0x2A00, 0x2AFF, TEXCLASS.BIN, 'mo'], // Supplemental Math Operators
  [0x2B00, 0x2B2F, TEXCLASS.ORD, 'mo'], // Miscellaneous Symbols and Arrows
  [0x2B30, 0x2B4F, TEXCLASS.REL, 'mo'], //   Arrows from above
  [0x2B50, 0x2BFF, TEXCLASS.ORD, 'mo'], //   Rest of above
  [0x2C00, 0x2DE0, TEXCLASS.ORD, 'mi'], // Glagolitic (through) Ethipoc Extended
  [0x2E00, 0x2E7F, TEXCLASS.ORD, 'mo'], // Supplemental Punctuation
  [0x2E80, 0x2FDF, TEXCLASS.ORD, 'mi'], // CJK Radicals Supplement (through) Kangxi Radicals
  [0x2FF0, 0x303F, TEXCLASS.ORD, 'mo'], // Ideographic Desc. Characters, CJK Symbols and Punctuation
  [0x3040, 0xA82F, TEXCLASS.ORD, 'mi'], // Hiragana (through) Syloti Nagri
  [0xA830, 0xA83F, TEXCLASS.ORD, 'mn'], // Common Indic Number FormsArabic Presentation Forms-A
  [0xA840, 0xD7FF, TEXCLASS.ORD, 'mi'], // Phags-pa (though) Hangul Jamo Extended-B
  [0xF900, 0xFDFF, TEXCLASS.ORD, 'mi'], // CJK Compatibility Ideographs (though) Arabic Presentation Forms-A
  [0xFE00, 0xFE6F, TEXCLASS.ORD, 'mo'], // Variation Selector (through) Small Form Variants
  [0xFE70, 0x100FF, TEXCLASS.ORD, 'mi'], // Arabic Presentation Forms-B (through) Linear B Ideograms
  [0x10100, 0x1018F, TEXCLASS.ORD, 'mn'], // Aegean Numbers, Ancient Greek Numbers
  [0x10190, 0x123FF, TEXCLASS.ORD, 'mi'], // Ancient Symbols (through) Cuneiform
  [0x12400, 0x1247F, TEXCLASS.ORD, 'mn'], // Cuneiform Numbers and Punctuation
  [0x12480, 0x1BC9F, TEXCLASS.ORD, 'mi'], // Early Dynastic Cuneiform (through) Duployan
  [0x1BCA0, 0x1D25F, TEXCLASS.ORD, 'mo'], // Shorthand Format Controls (through) TaiXuan Jing Symbols
  [0x1D360, 0x1D37F, TEXCLASS.ORD, 'mn'], // Counting Rod Numerals
  [0x1D400, 0x1D7CD, TEXCLASS.ORD, 'mi'], // Math Alphanumeric Symbols
  [0x1D7CE, 0x1D7FF, TEXCLASS.ORD, 'mn'], //   Numerals from above
  [0x1DF00, 0x1F7FF, TEXCLASS.ORD, 'mo'], // Mahjong Tiles (through) Geometric Shapes Extended
  [0x1F800, 0x1F8FF, TEXCLASS.REL, 'mo'], // Supplemental Arrows-C
  [0x1F900, 0x1F9FF, TEXCLASS.ORD, 'mo'], // Supplemental Symbols and Pictographs
  [0x20000, 0x2FA1F, TEXCLASS.ORD, 'mi'], // CJK Unified Ideographs Ext. B (through) CJK Sompatibility Ideographs Supp.
];

/**
 * Get the Unicode range for the first character of a string
 *
 * @param {string} text      The character to check
 * @return {RangeDef|null}   The range containing that character, or null
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.786">export function getRange(text: string): RangeDef | null {
  const n = text.codePointAt(0);
  for (const range of RANGES) {
    if (n &lt;= range[1]) {
      if (n &gt;= range[0]) {
        return range;
      }
      break;
    }
  }
  return null;
}

/**
 * The default MathML spacing for the various TeX classes.
 */
export const MMLSPACING = [
  [0, 0],  // ORD
  [1, 2],  // OP
  [3, 3],  // BIN
  [4, 4],  // REL
  [0, 0],  // OPEN
  [0, 0],  // CLOSE
  [0, 3]   // PUNCT
];

/**
 *  The operator dictionary, with sections for the three forms:  prefix, postfix, and infix
 */
export const OPTABLE: {[form: string]: OperatorList} = {
  prefix: {
    '(': MO.OPEN,            // left parenthesis
    '+': MO.BIN01,           // plus sign
    '-': MO.BIN01,           // hyphen-minus
    '[': MO.OPEN,            // left square bracket
    '{': MO.OPEN,            // left curly bracket
    '|': MO.OPEN,            // vertical line
    '||': [0, 0, TEXCLASS.BIN, {fence: true, stretchy: true, symmetric: true}], // multiple character operator: ||
    '|||': [0, 0, TEXCLASS.ORD, {fence: true, stretchy: true, symmetric: true}], // multiple character operator: |||
    '\u00AC': MO.ORD21,      // not sign
    '\u00B1': MO.BIN01,      // plus-minus sign
    '\u2016': [0, 0, TEXCLASS.ORD, {fence: true, stretchy: true}], // double vertical line
    '\u2018': [0, 0, TEXCLASS.OPEN, {fence: true}], // left single quotation mark
    '\u201C': [0, 0, TEXCLASS.OPEN, {fence: true}], // left double quotation mark
    '\u2145': MO.ORD21,      // double-struck italic capital d
    '\u2146': OPDEF(2, 0, TEXCLASS.ORD),  // double-struck italic small d
    '\u2200': MO.ORD21,      // for all
    '\u2202': MO.ORD21,      // partial differential
    '\u2203': MO.ORD21,      // there exists
    '\u2204': MO.ORD21,      // there does not exist
    '\u2207': MO.ORD21,      // nabla
    '\u220F': MO.OP,         // n-ary product
    '\u2210': MO.OP,         // n-ary coproduct
    '\u2211': MO.OP,         // n-ary summation
    '\u2212': MO.BIN01,      // minus sign
    '\u2213': MO.BIN01,      // minus-or-plus sign
    '\u221A': [1, 1, TEXCLASS.ORD, {stretchy: true}], // square root
    '\u221B': MO.ORD11,      // cube root
    '\u221C': MO.ORD11,      // fourth root
    '\u2220': MO.ORD,        // angle
    '\u2221': MO.ORD,        // measured angle
    '\u2222': MO.ORD,        // spherical angle
    '\u222B': MO.INTEGRAL,   // integral
    '\u222C': MO.INTEGRAL,   // double integral
    '\u222D': MO.INTEGRAL,   // triple integral
    '\u222E': MO.INTEGRAL,   // contour integral
    '\u222F': MO.INTEGRAL,   // surface integral
    '\u2230': MO.INTEGRAL,   // volume integral
    '\u2231': MO.INTEGRAL,   // clockwise integral
    '\u2232': MO.INTEGRAL,   // clockwise contour integral
    '\u2233': MO.INTEGRAL,   // anticlockwise contour integral
    '\u22C0': MO.OP,         // n-ary logical and
    '\u22C1': MO.OP,         // n-ary logical or
    '\u22C2': MO.OP,         // n-ary intersection
    '\u22C3': MO.OP,         // n-ary union
    '\u2308': MO.OPEN,       // left ceiling
    '\u230A': MO.OPEN,       // left floor
    '\u2329': MO.OPEN,       // left-pointing angle bracket
    '\u2772': MO.OPEN,       // light left tortoise shell bracket ornament
    '\u27E6': MO.OPEN,       // mathematical left white square bracket
    '\u27E8': MO.OPEN,       // mathematical left angle bracket
    '\u27EA': MO.OPEN,       // mathematical left double angle bracket
    '\u27EC': MO.OPEN,       // mathematical left white tortoise shell bracket
    '\u27EE': MO.OPEN,       // mathematical left flattened parenthesis
    '\u2980': [0, 0, TEXCLASS.ORD, {fence: true, stretchy: true}], // triple vertical bar delimiter
    '\u2983': MO.OPEN,       // left white curly bracket
    '\u2985': MO.OPEN,       // left white parenthesis
    '\u2987': MO.OPEN,       // z notation left image bracket
    '\u2989': MO.OPEN,       // z notation left binding bracket
    '\u298B': MO.OPEN,       // left square bracket with underbar
    '\u298D': MO.OPEN,       // left square bracket with tick in top corner
    '\u298F': MO.OPEN,       // left square bracket with tick in bottom corner
    '\u2991': MO.OPEN,       // left angle bracket with dot
    '\u2993': MO.OPEN,       // left arc less-than bracket
    '\u2995': MO.OPEN,       // double left arc greater-than bracket
    '\u2997': MO.OPEN,       // left black tortoise shell bracket
    '\u29FC': MO.OPEN,       // left-pointing curved angle bracket
    '\u2A00': MO.OP,         // n-ary circled dot operator
    '\u2A01': MO.OP,         // n-ary circled plus operator
    '\u2A02': MO.OP,         // n-ary circled times operator
    '\u2A03': MO.OP,         // n-ary union operator with dot
    '\u2A04': MO.OP,         // n-ary union operator with plus
    '\u2A05': MO.OP,         // n-ary square intersection operator
    '\u2A06': MO.OP,         // n-ary square union operator
    '\u2A07': MO.OP,         // two logical and operator
    '\u2A08': MO.OP,         // two logical or operator
    '\u2A09': MO.OP,         // n-ary times operator
    '\u2A0A': MO.OP,         // modulo two sum
    '\u2A0B': MO.INTEGRAL2,  // summation with integral
    '\u2A0C': MO.INTEGRAL,   // quadruple integral operator
    '\u2A0D': MO.INTEGRAL2,  // finite part integral
    '\u2A0E': MO.INTEGRAL2,  // integral with double stroke
    '\u2A0F': MO.INTEGRAL2,  // integral average with slash
    '\u2A10': MO.OP,         // circulation function
    '\u2A11': MO.OP,         // anticlockwise integration
    '\u2A12': MO.OP,         // line integration with rectangular path around pole
    '\u2A13': MO.OP,         // line integration with semicircular path around pole
    '\u2A14': MO.OP,         // line integration not including the pole
    '\u2A15': MO.INTEGRAL2,  // integral around a point operator
    '\u2A16': MO.INTEGRAL2,  // quaternion integral operator
    '\u2A17': MO.INTEGRAL2,  // integral with leftwards arrow with hook
    '\u2A18': MO.INTEGRAL2,  // integral with times sign
    '\u2A19': MO.INTEGRAL2,  // integral with intersection
    '\u2A1A': MO.INTEGRAL2,  // integral with union
    '\u2A1B': MO.INTEGRAL2,  // integral with overbar
    '\u2A1C': MO.INTEGRAL2,  // integral with underbar
    '\u2AFC': MO.OP,         // large triple vertical bar operator
    '\u2AFF': MO.OP,         // n-ary white vertical bar
  },
  postfix: {
    '!!': OPDEF(1, 0),       // multiple character operator: !!
    '!': [1, 0, TEXCLASS.CLOSE, null], // exclamation mark
    '"': MO.ACCENT,          // quotation mark
    '&amp;': MO.ORD,             // ampersand
    ')': MO.CLOSE,           // right parenthesis
    '++': OPDEF(0, 0),       // multiple character operator: ++
    '--': OPDEF(0, 0),       // multiple character operator: --
    '..': OPDEF(0, 0),       // multiple character operator: ..
    '...': MO.ORD,           // multiple character operator: ...
    '\'': MO.ACCENT,         // apostrophe
    ']': MO.CLOSE,           // right square bracket
    '^': MO.WIDEACCENT,      // circumflex accent
    '_': MO.WIDEACCENT,      // low line
    '`': MO.ACCENT,          // grave accent
    '|': MO.CLOSE,           // vertical line
    '}': MO.CLOSE,           // right curly bracket
    '~': MO.WIDEACCENT,      // tilde
    '||': [0, 0, TEXCLASS.BIN, {fence: true, stretchy: true, symmetric: true}], // multiple character operator: ||
    '|||': [0, 0, TEXCLASS.ORD, {fence: true, stretchy: true, symmetric: true}], // multiple character operator: |||
    '\u00A8': MO.ACCENT,     // diaeresis
    '\u00AA': MO.ACCENT,     // feminie ordinal indicator
    '\u00AF': MO.WIDEACCENT, // macron
    '\u00B0': MO.ORD,        // degree sign
    '\u00B2': MO.ACCENT,     // superscript 2
    '\u00B3': MO.ACCENT,     // superscript 3
    '\u00B4': MO.ACCENT,     // acute accent
    '\u00B8': MO.ACCENT,     // cedilla
    '\u00B9': MO.ACCENT,     // superscript 1
    '\u00BA': MO.ACCENT,     // masculine ordinal indicator
    '\u02C6': MO.WIDEACCENT, // modifier letter circumflex accent
    '\u02C7': MO.WIDEACCENT, // caron
    '\u02C9': MO.WIDEACCENT, // modifier letter macron
    '\u02CA': MO.ACCENT,     // modifier letter acute accent
    '\u02CB': MO.ACCENT,     // modifier letter grave accent
    '\u02CD': MO.WIDEACCENT, // modifier letter low macron
    '\u02D8': MO.ACCENT,     // breve
    '\u02D9': MO.ACCENT,     // dot above
    '\u02DA': MO.ACCENT,     // ring above
    '\u02DC': MO.WIDEACCENT, // small tilde
    '\u02DD': MO.ACCENT,     // double acute accent
    '\u02F7': MO.WIDEACCENT, // modifier letter low tilde
    '\u0302': MO.WIDEACCENT, // combining circumflex accent
    '\u0311': MO.ACCENT,     // combining inverted breve
    '\u03F6': MO.REL,        // greek reversed lunate epsilon symbol
    '\u2016': [0, 0, TEXCLASS.ORD, {fence: true, stretchy: true}], // double vertical line
    '\u2019': [0, 0, TEXCLASS.CLOSE, {fence: true}], // right single quotation mark
    '\u201A': MO.ACCENT,     // single low-9 quotation mark
    '\u201B': MO.ACCENT,     // single high-reversed-9 quotation mark
    '\u201D': [0, 0, TEXCLASS.CLOSE, {fence: true}],  // right double quotation mark
    '\u201E': MO.ACCENT,     // double low-9 quotation mark
    '\u201F': MO.ACCENT,     // double high-reversed-9 quotation mark
    '\u2032': MO.ORD,        // prime
    '\u2033': MO.ACCENT,     // double prime
    '\u2034': MO.ACCENT,     // triple prime
    '\u2035': MO.ACCENT,     // reversed prime
    '\u2036': MO.ACCENT,     // reversed double prime
    '\u2037': MO.ACCENT,     // reversed triple prime
    '\u203E': MO.WIDEACCENT, // overline
    '\u2057': MO.ACCENT,     // quadruple prime
    '\u20DB': MO.ACCENT,     // combining three dots above
    '\u20DC': MO.ACCENT,     // combining four dots above
    '\u2309': MO.CLOSE,      // right ceiling
    '\u230B': MO.CLOSE,      // right floor
    '\u232A': MO.CLOSE,      // right-pointing angle bracket
    '\u23B4': MO.WIDEACCENT, // top square bracket
    '\u23B5': MO.WIDEACCENT, // bottom square bracket
    '\u23DC': MO.WIDEACCENT, // top parenthesis
    '\u23DD': MO.WIDEACCENT, // bottom parenthesis
    '\u23DE': MO.WIDEACCENT, // top curly bracket
    '\u23DF': MO.WIDEACCENT, // bottom curly bracket
    '\u23E0': MO.WIDEACCENT, // top tortoise shell bracket
    '\u23E1': MO.WIDEACCENT, // bottom tortoise shell bracket
    '\u25A0': MO.BIN3,       // black square
    '\u25A1': MO.BIN3,       // white square
    '\u25AA': MO.BIN3,       // black small square
    '\u25AB': MO.BIN3,       // white small square
    '\u25AD': MO.BIN3,       // white rectangle
    '\u25AE': MO.BIN3,       // black vertical rectangle
    '\u25AF': MO.BIN3,       // white vertical rectangle
    '\u25B0': MO.BIN3,       // black parallelogram
    '\u25B1': MO.BIN3,       // white parallelogram
    '\u25B2': MO.BIN4,       // black up-pointing triangle
    '\u25B4': MO.BIN4,       // black up-pointing small triangle
    '\u25B6': MO.BIN4,       // black right-pointing triangle
    '\u25B7': MO.BIN4,       // white right-pointing triangle
    '\u25B8': MO.BIN4,       // black right-pointing small triangle
    '\u25BC': MO.BIN4,       // black down-pointing triangle
    '\u25BE': MO.BIN4,       // black down-pointing small triangle
    '\u25C0': MO.BIN4,       // black left-pointing triangle
    '\u25C1': MO.BIN4,       // white left-pointing triangle
    '\u25C2': MO.BIN4,       // black left-pointing small triangle
    '\u25C4': MO.BIN4,       // black left-pointing pointer
    '\u25C5': MO.BIN4,       // white left-pointing pointer
    '\u25C6': MO.BIN4,       // black diamond
    '\u25C7': MO.BIN4,       // white diamond
    '\u25C8': MO.BIN4,       // white diamond containing black small diamond
    '\u25C9': MO.BIN4,       // fisheye
    '\u25CC': MO.BIN4,       // dotted circle
    '\u25CD': MO.BIN4,       // circle with vertical fill
    '\u25CE': MO.BIN4,       // bullseye
    '\u25CF': MO.BIN4,       // black circle
    '\u25D6': MO.BIN4,       // left half black circle
    '\u25D7': MO.BIN4,       // right half black circle
    '\u25E6': MO.BIN4,       // white bullet
    '\u266D': MO.ORD02,      // music flat sign
    '\u266E': MO.ORD02,      // music natural sign
    '\u266F': MO.ORD02,      // music sharp sign
    '\u2773': MO.CLOSE,      // light right tortoise shell bracket ornament
    '\u27E7': MO.CLOSE,      // mathematical right white square bracket
    '\u27E9': MO.CLOSE,      // mathematical right angle bracket
    '\u27EB': MO.CLOSE,      // mathematical right double angle bracket
    '\u27ED': MO.CLOSE,      // mathematical right white tortoise shell bracket
    '\u27EF': MO.CLOSE,      // mathematical right flattened parenthesis
    '\u2980': [0, 0, TEXCLASS.ORD, {fence: true, stretchy: true}], // triple vertical bar delimiter
    '\u2984': MO.CLOSE,      // right white curly bracket
    '\u2986': MO.CLOSE,      // right white parenthesis
    '\u2988': MO.CLOSE,      // z notation right image bracket
    '\u298A': MO.CLOSE,      // z notation right binding bracket
    '\u298C': MO.CLOSE,      // right square bracket with underbar
    '\u298E': MO.CLOSE,      // right square bracket with tick in bottom corner
    '\u2990': MO.CLOSE,      // right square bracket with tick in top corner
    '\u2992': MO.CLOSE,      // right angle bracket with dot
    '\u2994': MO.CLOSE,      // right arc greater-than bracket
    '\u2996': MO.CLOSE,      // double right arc less-than bracket
    '\u2998': MO.CLOSE,      // right black tortoise shell bracket
    '\u29FD': MO.CLOSE,      // right-pointing curved angle bracket
  },
  infix: {
    '!=': MO.BIN4,           // multiple character operator: !=
    '#': MO.ORD,             // #
    '$': MO.ORD,             // $
    '%': [3, 3, TEXCLASS.ORD, null], // percent sign
    '&amp;&amp;': MO.BIN4,           // multiple character operator: &amp;&amp;
    '': MO.ORD,              // empty &lt;mo&gt;
    '*': MO.BIN3,            // asterisk
    '**': OPDEF(1, 1),       // multiple character operator: **
    '*=': MO.BIN4,           // multiple character operator: *=
    '+': MO.BIN4,            // plus sign
    '+=': MO.BIN4,           // multiple character operator: +=
    ',': [0, 3, TEXCLASS.PUNCT, {linebreakstyle: 'after', separator: true}], // comma
    '-': MO.BIN4,            // hyphen-minus
    '-=': MO.BIN4,           // multiple character operator: -=
    '-&gt;': MO.BIN5,           // multiple character operator: -&gt;
    '.': [0, 3, TEXCLASS.PUNCT, {separator: true}], // \ldotp
    '/': MO.ORD11,           // solidus
    '//': OPDEF(1, 1),       // multiple character operator: //
    '/=': MO.BIN4,           // multiple character operator: /=
    ':': [1, 2, TEXCLASS.REL, null], // colon
    ':=': MO.BIN4,           // multiple character operator: :=
    ';': [0, 3, TEXCLASS.PUNCT, {linebreakstyle: 'after', separator: true}], // semicolon
    '&lt;': MO.REL,             // less-than sign
    '&lt;=': MO.BIN5,           // multiple character operator: &lt;=
    '&lt;&gt;': OPDEF(1, 1),       // multiple character operator: &lt;&gt;
    '=': MO.REL,             // equals sign
    '==': MO.BIN4,           // multiple character operator: ==
    '&gt;': MO.REL,             // greater-than sign
    '&gt;=': MO.BIN5,           // multiple character operator: &gt;=
    '?': [1, 1, TEXCLASS.CLOSE, null], // question mark
    '@': MO.ORD11,           // commercial at
    '\\': MO.ORD,            // reverse solidus
    '^': MO.ORD11,           // circumflex accent
    '_': MO.ORD11,           // low line
    '|': [2, 2, TEXCLASS.ORD, {fence: true, stretchy: true, symmetric: true}], // vertical line
    '||': [2, 2, TEXCLASS.BIN, {fence: true, stretchy: true, symmetric: true}], // multiple character operator: ||
    '|||': [2, 2, TEXCLASS.ORD, {fence: true, stretchy: true, symmetric: true}], // multiple character operator: |||
    '\u00B1': MO.BIN4,       // plus-minus sign
    '\u00B7': MO.BIN4,       // middle dot
    '\u00D7': MO.BIN4,       // multiplication sign
    '\u00F7': MO.BIN4,       // division sign
    '\u02B9': MO.ORD,        // prime
    '\u0300': MO.ACCENT,     // \grave
    '\u0301': MO.ACCENT,     // \acute
    '\u0303': MO.WIDEACCENT, // \tilde
    '\u0304': MO.ACCENT,     // \bar
    '\u0306': MO.ACCENT,     // \breve
    '\u0307': MO.ACCENT,     // \dot
    '\u0308': MO.ACCENT,     // \ddot
    '\u030C': MO.ACCENT,     // \check
    '\u0332': MO.WIDEACCENT, // horizontal line
    '\u0338': MO.REL4,       // \not
    '\u2015': [0, 0, TEXCLASS.ORD, {stretchy: true}], // horizontal line
    '\u2017': [0, 0, TEXCLASS.ORD, {stretchy: true}], // horizontal line
    '\u2020': MO.BIN3,       // \dagger
    '\u2021': MO.BIN3,       // \ddagger
    '\u2022': MO.BIN4,       // bullet
    '\u2026': MO.INNER,      // horizontal ellipsis
    '\u2043': MO.BIN4,       // hyphen bullet
    '\u2044': MO.TALLBIN,    // fraction slash
    '\u2061': MO.ORD,        // function application
    '\u2062': MO.ORD,        // invisible times
    '\u2063': [0, 0, TEXCLASS.ORD, {linebreakstyle: 'after', separator: true}], // invisible separator
    '\u2064': MO.ORD,        // invisible plus
    '\u20D7': MO.ACCENT,     // \vec
    '\u2111': MO.ORD,        // \Im
    '\u2113': MO.ORD,        // \ell
    '\u2118': MO.ORD,        // \wp
    '\u211C': MO.ORD,        // \Re
    '\u2190': MO.WIDEREL,    // leftwards arrow
    '\u2191': MO.RELSTRETCH, // upwards arrow
    '\u2192': MO.WIDEREL,    // rightwards arrow
    '\u2193': MO.RELSTRETCH, // downwards arrow
    '\u2194': MO.WIDEREL,    // left right arrow
    '\u2195': MO.RELSTRETCH, // up down arrow
    '\u2196': MO.RELSTRETCH, // north west arrow
    '\u2197': MO.RELSTRETCH, // north east arrow
    '\u2198': MO.RELSTRETCH, // south east arrow
    '\u2199': MO.RELSTRETCH, // south west arrow
    '\u219A': MO.RELACCENT,  // leftwards arrow with stroke
    '\u219B': MO.RELACCENT,  // rightwards arrow with stroke
    '\u219C': MO.WIDEREL,    // leftwards wave arrow
    '\u219D': MO.WIDEREL,    // rightwards wave arrow
    '\u219E': MO.WIDEREL,    // leftwards two headed arrow
    '\u219F': MO.WIDEREL,    // upwards two headed arrow
    '\u21A0': MO.WIDEREL,    // rightwards two headed arrow
    '\u21A1': MO.RELSTRETCH, // downwards two headed arrow
    '\u21A2': MO.WIDEREL,    // leftwards arrow with tail
    '\u21A3': MO.WIDEREL,    // rightwards arrow with tail
    '\u21A4': MO.WIDEREL,    // leftwards arrow from bar
    '\u21A5': MO.RELSTRETCH, // upwards arrow from bar
    '\u21A6': MO.WIDEREL,    // rightwards arrow from bar
    '\u21A7': MO.RELSTRETCH, // downwards arrow from bar
    '\u21A8': MO.RELSTRETCH, // up down arrow with base
    '\u21A9': MO.WIDEREL,    // leftwards arrow with hook
    '\u21AA': MO.WIDEREL,    // rightwards arrow with hook
    '\u21AB': MO.WIDEREL,    // leftwards arrow with loop
    '\u21AC': MO.WIDEREL,    // rightwards arrow with loop
    '\u21AD': MO.WIDEREL,    // left right wave arrow
    '\u21AE': MO.RELACCENT,  // left right arrow with stroke
    '\u21AF': MO.RELSTRETCH, // downwards zigzag arrow
    '\u21B0': MO.RELSTRETCH, // upwards arrow with tip leftwards
    '\u21B1': MO.RELSTRETCH, // upwards arrow with tip rightwards
    '\u21B2': MO.RELSTRETCH, // downwards arrow with tip leftwards
    '\u21B3': MO.RELSTRETCH, // downwards arrow with tip rightwards
    '\u21B4': MO.RELSTRETCH, // rightwards arrow with corner downwards
    '\u21B5': MO.RELSTRETCH, // downwards arrow with corner leftwards
    '\u21B6': MO.RELACCENT,  // anticlockwise top semicircle arrow
    '\u21B7': MO.RELACCENT,  // clockwise top semicircle arrow
    '\u21B8': MO.REL,        // north west arrow to long bar
    '\u21B9': MO.WIDEREL,    // leftwards arrow to bar over rightwards arrow to bar
    '\u21BA': MO.REL,        // anticlockwise open circle arrow
    '\u21BB': MO.REL,        // clockwise open circle arrow
    '\u21BC': MO.WIDEREL,    // leftwards harpoon with barb upwards
    '\u21BD': MO.WIDEREL,    // leftwards harpoon with barb downwards
    '\u21BE': MO.RELSTRETCH, // upwards harpoon with barb rightwards
    '\u21BF': MO.RELSTRETCH, // upwards harpoon with barb leftwards
    '\u21C0': MO.WIDEREL,    // rightwards harpoon with barb upwards
    '\u21C1': MO.WIDEREL,    // rightwards harpoon with barb downwards
    '\u21C2': MO.RELSTRETCH, // downwards harpoon with barb rightwards
    '\u21C3': MO.RELSTRETCH, // downwards harpoon with barb leftwards
    '\u21C4': MO.WIDEREL,    // rightwards arrow over leftwards arrow
    '\u21C5': MO.RELSTRETCH, // upwards arrow leftwards of downwards arrow
    '\u21C6': MO.WIDEREL,    // leftwards arrow over rightwards arrow
    '\u21C7': MO.WIDEREL,    // leftwards paired arrows
    '\u21C8': MO.RELSTRETCH, // upwards paired arrows
    '\u21C9': MO.WIDEREL,    // rightwards paired arrows
    '\u21CA': MO.RELSTRETCH, // downwards paired arrows
    '\u21CB': MO.WIDEREL,    // leftwards harpoon over rightwards harpoon
    '\u21CC': MO.WIDEREL,    // rightwards harpoon over leftwards harpoon
    '\u21CD': MO.RELACCENT,  // leftwards double arrow with stroke
    '\u21CE': MO.RELACCENT,  // left right double arrow with stroke
    '\u21CF': MO.RELACCENT,  // rightwards double arrow with stroke
    '\u21D0': MO.WIDEREL,    // leftwards double arrow
    '\u21D1': MO.RELSTRETCH, // upwards double arrow
    '\u21D2': MO.WIDEREL,    // rightwards double arrow
    '\u21D3': MO.RELSTRETCH, // downwards double arrow
    '\u21D4': MO.WIDEREL,    // left right double arrow
    '\u21D5': MO.RELSTRETCH, // up down double arrow
    '\u21D6': MO.RELSTRETCH, // north west double arrow
    '\u21D7': MO.RELSTRETCH, // north east double arrow
    '\u21D8': MO.RELSTRETCH, // south east double arrow
    '\u21D9': MO.RELSTRETCH, // south west double arrow
    '\u21DA': MO.WIDEREL,    // leftwards triple arrow
    '\u21DB': MO.WIDEREL,    // rightwards triple arrow
    '\u21DC': MO.WIDEREL,    // leftwards squiggle arrow
    '\u21DD': MO.WIDEREL,    // rightwards squiggle arrow
    '\u21DE': MO.REL,        // upwards arrow with double stroke
    '\u21DF': MO.REL,        // downwards arrow with double stroke
    '\u21E0': MO.WIDEREL,    // leftwards dashed arrow
    '\u21E1': MO.RELSTRETCH, // upwards dashed arrow
    '\u21E2': MO.WIDEREL,    // rightwards dashed arrow
    '\u21E3': MO.RELSTRETCH, // downwards dashed arrow
    '\u21E4': MO.WIDEREL,    // leftwards arrow to bar
    '\u21E5': MO.WIDEREL,    // rightwards arrow to bar
    '\u21E6': MO.WIDEREL,    // leftwards white arrow
    '\u21E7': MO.RELSTRETCH, // upwards white arrow
    '\u21E8': MO.WIDEREL,    // rightwards white arrow
    '\u21E9': MO.RELSTRETCH, // downwards white arrow
    '\u21EA': MO.RELSTRETCH, // upwards white arrow from bar
    '\u21EB': MO.RELSTRETCH, // upwards white arrow on pedestal
    '\u21EC': MO.RELSTRETCH, // upwards white arrow on pedestal with horizontal bar
    '\u21ED': MO.RELSTRETCH, // upwards white arrow on pedestal with vertical bar
    '\u21EE': MO.RELSTRETCH, // upwards white double arrow
    '\u21EF': MO.RELSTRETCH, // upwards white double arrow on pedestal
    '\u21F0': MO.WIDEREL,    // rightwards white arrow from wall
    '\u21F1': MO.REL,        // north west arrow to corner
    '\u21F2': MO.REL,        // south east arrow to corner
    '\u21F3': MO.RELSTRETCH, // up down white arrow
    '\u21F4': MO.RELACCENT,  // right arrow with small circle
    '\u21F5': MO.RELSTRETCH, // downwards arrow leftwards of upwards arrow
    '\u21F6': MO.WIDEREL,    // three rightwards arrows
    '\u21F7': MO.RELACCENT,  // leftwards arrow with vertical stroke
    '\u21F8': MO.RELACCENT,  // rightwards arrow with vertical stroke
    '\u21F9': MO.RELACCENT,  // left right arrow with vertical stroke
    '\u21FA': MO.RELACCENT,  // leftwards arrow with double vertical stroke
    '\u21FB': MO.RELACCENT,  // rightwards arrow with double vertical stroke
    '\u21FC': MO.RELACCENT,  // left right arrow with double vertical stroke
    '\u21FD': MO.WIDEREL,    // leftwards open-headed arrow
    '\u21FE': MO.WIDEREL,    // rightwards open-headed arrow
    '\u21FF': MO.WIDEREL,    // left right open-headed arrow
    '\u2201': OPDEF(1, 2, TEXCLASS.ORD), // complement
    '\u2205': MO.ORD,        // \emptyset
    '\u2206': MO.BIN3,       // increment
    '\u2208': MO.REL,        // element of
    '\u2209': MO.REL,        // not an element of
    '\u220A': MO.REL,        // small element of
    '\u220B': MO.REL,        // contains as member
    '\u220C': MO.REL,        // does not contain as member
    '\u220D': MO.REL,        // small contains as member
    '\u220E': MO.BIN3,       // end of proof
    '\u2212': MO.BIN4,       // minus sign
    '\u2213': MO.BIN4,       // minus-or-plus sign
    '\u2214': MO.BIN4,       // dot plus
    '\u2215': MO.TALLBIN,    // division slash
    '\u2216': MO.BIN4,       // set minus
    '\u2217': MO.BIN4,       // asterisk operator
    '\u2218': MO.BIN4,       // ring operator
    '\u2219': MO.BIN4,       // bullet operator
    '\u221D': MO.REL,        // proportional to
    '\u221E': MO.ORD,        // \infty
    '\u221F': MO.REL,        // right angle
    '\u2223': MO.REL,        // divides
    '\u2224': MO.REL,        // does not divide
    '\u2225': MO.REL,        // parallel to
    '\u2226': MO.REL,        // not parallel to
    '\u2227': MO.BIN4,       // logical and
    '\u2228': MO.BIN4,       // logical or
    '\u2229': MO.BIN4,       // intersection
    '\u222A': MO.BIN4,       // union
    '\u2234': MO.REL,        // therefore
    '\u2235': MO.REL,        // because
    '\u2236': MO.REL,        // ratio
    '\u2237': MO.REL,        // proportion
    '\u2238': MO.BIN4,       // dot minus
    '\u2239': MO.REL,        // excess
    '\u223A': MO.BIN4,       // geometric proportion
    '\u223B': MO.REL,        // homothetic
    '\u223C': MO.REL,        // tilde operator
    '\u223D': MO.REL,        // reversed tilde
    '\u223D\u0331': MO.BIN3, // reversed tilde with underline
    '\u223E': MO.REL,        // inverted lazy s
    '\u223F': MO.BIN3,       // sine wave
    '\u2240': MO.BIN4,       // wreath product
    '\u2241': MO.REL,        // not tilde
    '\u2242': MO.REL,        // minus tilde
    '\u2242\u0338': MO.REL,  // minus tilde with slash
    '\u2243': MO.REL,        // asymptotically equal to
    '\u2244': MO.REL,        // not asymptotically equal to
    '\u2245': MO.REL,        // approximately equal to
    '\u2246': MO.REL,        // approximately but not actually equal to
    '\u2247': MO.REL,        // neither approximately nor actually equal to
    '\u2248': MO.REL,        // almost equal to
    '\u2249': MO.REL,        // not almost equal to
    '\u224A': MO.REL,        // almost equal or equal to
    '\u224B': MO.REL,        // triple tilde
    '\u224C': MO.REL,        // all equal to
    '\u224D': MO.REL,        // equivalent to
    '\u224E': MO.REL,        // geometrically equivalent to
    '\u224E\u0338': MO.REL,  // geometrically equivalent to with slash
    '\u224F': MO.REL,        // difference between
    '\u224F\u0338': MO.REL,  // difference between with slash
    '\u2250': MO.REL,        // approaches the limit
    '\u2251': MO.REL,        // geometrically equal to
    '\u2252': MO.REL,        // approximately equal to or the image of
    '\u2253': MO.REL,        // image of or approximately equal to
    '\u2254': MO.REL,        // colon equals
    '\u2255': MO.REL,        // equals colon
    '\u2256': MO.REL,        // ring in equal to
    '\u2257': MO.REL,        // ring equal to
    '\u2258': MO.REL,        // corresponds to
    '\u2259': MO.REL,        // estimates
    '\u225A': MO.REL,        // equiangular to
    '\u225B': MO.REL,        // star equals
    '\u225C': MO.REL,        // delta equal to
    '\u225D': MO.REL,        // equal to by definition
    '\u225E': MO.REL,        // measured by
    '\u225F': MO.REL,        // questioned equal to
    '\u2260': MO.REL,        // not equal to
    '\u2261': MO.REL,        // identical to
    '\u2262': MO.REL,        // not identical to
    '\u2263': MO.REL,        // strictly equivalent to
    '\u2264': MO.REL,        // less-than or equal to
    '\u2265': MO.REL,        // greater-than or equal to
    '\u2266': MO.REL,        // less-than over equal to
    '\u2266\u0338': MO.REL,  // less-than over equal to with slash
    '\u2267': MO.REL,        // greater-than over equal to
    '\u2268': MO.REL,        // less-than but not equal to
    '\u2269': MO.REL,        // greater-than but not equal to
    '\u226A': MO.REL,        // much less-than
    '\u226A\u0338': MO.REL,  // much less than with slash
    '\u226B': MO.REL,        // much greater-than
    '\u226B\u0338': MO.REL,  // much greater than with slash
    '\u226C': MO.REL,        // between
    '\u226D': MO.REL,        // not equivalent to
    '\u226E': MO.REL,        // not less-than
    '\u226F': MO.REL,        // not greater-than
    '\u2270': MO.REL,        // neither less-than nor equal to
    '\u2271': MO.REL,        // neither greater-than nor equal to
    '\u2272': MO.REL,        // less-than or equivalent to
    '\u2273': MO.REL,        // greater-than or equivalent to
    '\u2274': MO.REL,        // neither less-than nor equivalent to
    '\u2275': MO.REL,        // neither greater-than nor equivalent to
    '\u2276': MO.REL,        // less-than or greater-than
    '\u2277': MO.REL,        // greater-than or less-than
    '\u2278': MO.REL,        // neither less-than nor greater-than
    '\u2279': MO.REL,        // neither greater-than nor less-than
    '\u227A': MO.REL,        // precedes
    '\u227B': MO.REL,        // succeeds
    '\u227C': MO.REL,        // precedes or equal to
    '\u227D': MO.REL,        // succeeds or equal to
    '\u227E': MO.REL,        // precedes or equivalent to
    '\u227F': MO.REL,        // succeeds or equivalent to
    '\u227F\u0338': MO.REL,  // succeeds or equivalent to with slash
    '\u2280': MO.REL,        // does not precede
    '\u2281': MO.REL,        // does not succeed
    '\u2282': MO.REL,        // subset of
    '\u2282\u20D2': MO.REL,  // subset of with vertical line
    '\u2283': MO.REL,        // superset of
    '\u2283\u20D2': MO.REL,  // superset of with vertical line
    '\u2284': MO.REL,        // not a subset of
    '\u2285': MO.REL,        // not a superset of
    '\u2286': MO.REL,        // subset of or equal to
    '\u2287': MO.REL,        // superset of or equal to
    '\u2288': MO.REL,        // neither a subset of nor equal to
    '\u2289': MO.REL,        // neither a superset of nor equal to
    '\u228A': MO.REL,        // subset of with not equal to
    '\u228B': MO.REL,        // superset of with not equal to
    '\u228C': MO.BIN4,       // multiset
    '\u228D': MO.BIN4,       // multiset multiplication
    '\u228E': MO.BIN4,       // multiset union
    '\u228F': MO.REL,        // square image of
    '\u228F\u0338': MO.REL,  // square image of with slash
    '\u2290': MO.REL,        // square original of
    '\u2290\u0338': MO.REL,  // square original of with slash
    '\u2291': MO.REL,        // square image of or equal to
    '\u2292': MO.REL,        // square original of or equal to
    '\u2293': MO.BIN4,       // square cap
    '\u2294': MO.BIN4,       // square cup
    '\u2295': MO.BIN4,       // circled plus
    '\u2296': MO.BIN4,       // circled minus
    '\u2297': MO.BIN4,       // circled times
    '\u2298': MO.BIN4,       // circled division slash
    '\u2299': MO.BIN4,       // circled dot operator
    '\u229A': MO.BIN4,       // circled ring operator
    '\u229B': MO.BIN4,       // circled asterisk operator
    '\u229C': MO.BIN4,       // circled equals
    '\u229D': MO.BIN4,       // circled dash
    '\u229E': MO.BIN4,       // squared plus
    '\u229F': MO.BIN4,       // squared minus
    '\u22A0': MO.BIN4,       // squared times
    '\u22A1': MO.BIN4,       // squared dot operator
    '\u22A2': MO.REL,        // right tack
    '\u22A3': MO.REL,        // left tack
    '\u22A4': MO.ORD55,      // down tack
    '\u22A5': MO.REL,        // up tack
    '\u22A6': MO.REL,        // assertion
    '\u22A7': MO.REL,        // models
    '\u22A8': MO.REL,        // true
    '\u22A9': MO.REL,        // forces
    '\u22AA': MO.REL,        // triple vertical bar right turnstile
    '\u22AB': MO.REL,        // double vertical bar double right turnstile
    '\u22AC': MO.REL,        // does not prove
    '\u22AD': MO.REL,        // not true
    '\u22AE': MO.REL,        // does not force
    '\u22AF': MO.REL,        // negated double vertical bar double right turnstile
    '\u22B0': MO.REL,        // precedes under relation
    '\u22B1': MO.REL,        // succeeds under relation
    '\u22B2': MO.REL,        // normal subgroup of
    '\u22B3': MO.REL,        // contains as normal subgroup
    '\u22B4': MO.REL,        // normal subgroup of or equal to
    '\u22B5': MO.REL,        // contains as normal subgroup or equal to
    '\u22B6': MO.REL,        // original of
    '\u22B7': MO.REL,        // image of
    '\u22B8': MO.REL,        // multimap
    '\u22B9': MO.REL,        // hermitian conjugate matrix
    '\u22BA': MO.BIN4,       // intercalate
    '\u22BB': MO.BIN4,       // xor
    '\u22BC': MO.BIN4,       // nand
    '\u22BD': MO.BIN4,       // nor
    '\u22BE': MO.BIN3,       // right angle with arc
    '\u22BF': MO.BIN3,       // right triangle
    '\u22C4': MO.BIN4,       // diamond operator
    '\u22C5': MO.BIN4,       // dot operator
    '\u22C6': MO.BIN4,       // star operator
    '\u22C7': MO.BIN4,       // division times
    '\u22C8': MO.REL,        // bowtie
    '\u22C9': MO.BIN4,       // left normal factor semidirect product
    '\u22CA': MO.BIN4,       // right normal factor semidirect product
    '\u22CB': MO.BIN4,       // left semidirect product
    '\u22CC': MO.BIN4,       // right semidirect product
    '\u22CD': MO.REL,        // reversed tilde equals
    '\u22CE': MO.BIN4,       // curly logical or
    '\u22CF': MO.BIN4,       // curly logical and
    '\u22D0': MO.REL,        // double subset
    '\u22D1': MO.REL,        // double superset
    '\u22D2': MO.BIN4,       // double intersection
    '\u22D3': MO.BIN4,       // double union
    '\u22D4': MO.REL,        // pitchfork
    '\u22D5': MO.REL,        // equal and parallel to
    '\u22D6': MO.REL,        // less-than with dot
    '\u22D7': MO.REL,        // greater-than with dot
    '\u22D8': MO.REL,        // very much less-than
    '\u22D9': MO.REL,        // very much greater-than
    '\u22DA': MO.REL,        // less-than equal to or greater-than
    '\u22DB': MO.REL,        // greater-than equal to or less-than
    '\u22DC': MO.REL,        // equal to or less-than
    '\u22DD': MO.REL,        // equal to or greater-than
    '\u22DE': MO.REL,        // equal to or precedes
    '\u22DF': MO.REL,        // equal to or succeeds
    '\u22E0': MO.REL,        // does not precede or equal
    '\u22E1': MO.REL,        // does not succeed or equal
    '\u22E2': MO.REL,        // not square image of or equal to
    '\u22E3': MO.REL,        // not square original of or equal to
    '\u22E4': MO.REL,        // square image of or not equal to
    '\u22E5': MO.REL,        // square original of or not equal to
    '\u22E6': MO.REL,        // less-than but not equivalent to
    '\u22E7': MO.REL,        // greater-than but not equivalent to
    '\u22E8': MO.REL,        // precedes but not equivalent to
    '\u22E9': MO.REL,        // succeeds but not equivalent to
    '\u22EA': MO.REL,        // not normal subgroup of
    '\u22EB': MO.REL,        // does not contain as normal subgroup
    '\u22EC': MO.REL,        // not normal subgroup of or equal to
    '\u22ED': MO.REL,        // does not contain as normal subgroup or equal
    '\u22EE': MO.ORD55,      // vertical ellipsis
    '\u22EF': MO.INNER,      // midline horizontal ellipsis
    '\u22F0': MO.REL,        // up right diagonal ellipsis
    '\u22F1': [5, 5, TEXCLASS.INNER, null], // down right diagonal ellipsis
    '\u22F2': MO.REL,        // element of with long horizontal stroke
    '\u22F3': MO.REL,        // element of with vertical bar at end of horizontal stroke
    '\u22F4': MO.REL,        // small element of with vertical bar at end of horizontal stroke
    '\u22F5': MO.REL,        // element of with dot above
    '\u22F6': MO.REL,        // element of with overbar
    '\u22F7': MO.REL,        // small element of with overbar
    '\u22F8': MO.REL,        // element of with underbar
    '\u22F9': MO.REL,        // element of with two horizontal strokes
    '\u22FA': MO.REL,        // contains with long horizontal stroke
    '\u22FB': MO.REL,        // contains with vertical bar at end of horizontal stroke
    '\u22FC': MO.REL,        // small contains with vertical bar at end of horizontal stroke
    '\u22FD': MO.REL,        // contains with overbar
    '\u22FE': MO.REL,        // small contains with overbar
    '\u22FF': MO.REL,        // z notation bag membership
    '\u2305': MO.BIN3,       // barwedge
    '\u2306': MO.BIN3,       // doublebarwedge
    '\u2322': MO.REL4,       // \frown
    '\u2323': MO.REL4,       // \smile
    '\u2329': MO.OPEN,       // langle
    '\u232A': MO.CLOSE,      // rangle
    '\u23AA': MO.ORD,        // \bracevert
    '\u23AF': [0, 0, TEXCLASS.ORD, {stretchy: true}], // \underline
    '\u23B0': MO.OPEN,       // \lmoustache
    '\u23B1': MO.CLOSE,      // \rmoustache
    '\u2500': MO.ORD,        // horizontal line
    '\u25B3': MO.BIN4,       // white up-pointing triangle
    '\u25B5': MO.BIN4,       // white up-pointing small triangle
    '\u25B9': MO.BIN4,       // white right-pointing small triangle
    '\u25BD': MO.BIN4,       // white down-pointing triangle
    '\u25BF': MO.BIN4,       // white down-pointing small triangle
    '\u25C3': MO.BIN4,       // white left-pointing small triangle
    '\u25EF': MO.BIN3,       // \bigcirc
    '\u2660': MO.ORD,        // \spadesuit
    '\u2661': MO.ORD,        // \heartsuit
    '\u2662': MO.ORD,        // \diamondsuit
    '\u2663': MO.ORD,        // \clubsuit
    '\u2758': MO.REL,        // light vertical bar
    '\u27F0': MO.RELSTRETCH, // upwards quadruple arrow
    '\u27F1': MO.RELSTRETCH, // downwards quadruple arrow
    '\u27F5': MO.WIDEREL,    // long leftwards arrow
    '\u27F6': MO.WIDEREL,    // long rightwards arrow
    '\u27F7': MO.WIDEREL,    // long left right arrow
    '\u27F8': MO.WIDEREL,    // long leftwards double arrow
    '\u27F9': MO.WIDEREL,    // long rightwards double arrow
    '\u27FA': MO.WIDEREL,    // long left right double arrow
    '\u27FB': MO.WIDEREL,    // long leftwards arrow from bar
    '\u27FC': MO.WIDEREL,    // long rightwards arrow from bar
    '\u27FD': MO.WIDEREL,    // long leftwards double arrow from bar
    '\u27FE': MO.WIDEREL,    // long rightwards double arrow from bar
    '\u27FF': MO.WIDEREL,    // long rightwards squiggle arrow
    '\u2900': MO.RELACCENT,  // rightwards two-headed arrow with vertical stroke
    '\u2901': MO.RELACCENT,  // rightwards two-headed arrow with double vertical stroke
    '\u2902': MO.RELACCENT,  // leftwards double arrow with vertical stroke
    '\u2903': MO.RELACCENT,  // rightwards double arrow with vertical stroke
    '\u2904': MO.RELACCENT,  // left right double arrow with vertical stroke
    '\u2905': MO.RELACCENT,  // rightwards two-headed arrow from bar
    '\u2906': MO.RELACCENT,  // leftwards double arrow from bar
    '\u2907': MO.RELACCENT,  // rightwards double arrow from bar
    '\u2908': MO.REL,        // downwards arrow with horizontal stroke
    '\u2909': MO.REL,        // upwards arrow with horizontal stroke
    '\u290A': MO.RELSTRETCH, // upwards triple arrow
    '\u290B': MO.RELSTRETCH, // downwards triple arrow
    '\u290C': MO.WIDEREL,    // leftwards double dash arrow
    '\u290D': MO.WIDEREL,    // rightwards double dash arrow
    '\u290E': MO.WIDEREL,    // leftwards triple dash arrow
    '\u290F': MO.WIDEREL,    // rightwards triple dash arrow
    '\u2910': MO.WIDEREL,    // rightwards two-headed triple dash arrow
    '\u2911': MO.RELACCENT,  // rightwards arrow with dotted stem
    '\u2912': MO.RELSTRETCH, // upwards arrow to bar
    '\u2913': MO.RELSTRETCH, // downwards arrow to bar
    '\u2914': MO.RELACCENT,  // rightwards arrow with tail with vertical stroke
    '\u2915': MO.RELACCENT,  // rightwards arrow with tail with double vertical stroke
    '\u2916': MO.RELACCENT,  // rightwards two-headed arrow with tail
    '\u2917': MO.RELACCENT,  // rightwards two-headed arrow with tail with vertical stroke
    '\u2918': MO.RELACCENT,  // rightwards two-headed arrow with tail with double vertical stroke
    '\u2919': MO.RELACCENT,  // leftwards arrow-tail
    '\u291A': MO.RELACCENT,  // rightwards arrow-tail
    '\u291B': MO.RELACCENT,  // leftwards double arrow-tail
    '\u291C': MO.RELACCENT,  // rightwards double arrow-tail
    '\u291D': MO.RELACCENT,  // leftwards arrow to black diamond
    '\u291E': MO.RELACCENT,  // rightwards arrow to black diamond
    '\u291F': MO.RELACCENT,  // leftwards arrow from bar to black diamond
    '\u2920': MO.RELACCENT,  // rightwards arrow from bar to black diamond
    '\u2921': MO.RELSTRETCH, // north west and south east arrow
    '\u2922': MO.RELSTRETCH, // north east and south west arrow
    '\u2923': MO.REL,        // north west arrow with hook
    '\u2924': MO.REL,        // north east arrow with hook
    '\u2925': MO.REL,        // south east arrow with hook
    '\u2926': MO.REL,        // south west arrow with hook
    '\u2927': MO.REL,        // north west arrow and north east arrow
    '\u2928': MO.REL,        // north east arrow and south east arrow
    '\u2929': MO.REL,        // south east arrow and south west arrow
    '\u292A': MO.REL,        // south west arrow and north west arrow
    '\u292B': MO.REL,        // rising diagonal crossing falling diagonal
    '\u292C': MO.REL,        // falling diagonal crossing rising diagonal
    '\u292D': MO.REL,        // south east arrow crossing north east arrow
    '\u292E': MO.REL,        // north east arrow crossing south east arrow
    '\u292F': MO.REL,        // falling diagonal crossing north east arrow
    '\u2930': MO.REL,        // rising diagonal crossing south east arrow
    '\u2931': MO.REL,        // north east arrow crossing north west arrow
    '\u2932': MO.REL,        // north west arrow crossing north east arrow
    '\u2933': MO.RELACCENT,  // wave arrow pointing directly right
    '\u2934': MO.REL,        // arrow pointing rightwards then curving upwards
    '\u2935': MO.REL,        // arrow pointing rightwards then curving downwards
    '\u2936': MO.REL,        // arrow pointing downwards then curving leftwards
    '\u2937': MO.REL,        // arrow pointing downwards then curving rightwards
    '\u2938': MO.REL,        // right-side arc clockwise arrow
    '\u2939': MO.REL,        // left-side arc anticlockwise arrow
    '\u293A': MO.RELACCENT,  // top arc anticlockwise arrow
    '\u293B': MO.RELACCENT,  // bottom arc anticlockwise arrow
    '\u293C': MO.RELACCENT,  // top arc clockwise arrow with minus
    '\u293D': MO.RELACCENT,  // top arc anticlockwise arrow with plus
    '\u293E': MO.REL,        // lower right semicircular clockwise arrow
    '\u293F': MO.REL,        // lower left semicircular anticlockwise arrow
    '\u2940': MO.REL,        // anticlockwise closed circle arrow
    '\u2941': MO.REL,        // clockwise closed circle arrow
    '\u2942': MO.RELACCENT,  // rightwards arrow above short leftwards arrow
    '\u2943': MO.RELACCENT,  // leftwards arrow above short rightwards arrow
    '\u2944': MO.RELACCENT,  // short rightwards arrow above leftwards arrow
    '\u2945': MO.RELACCENT,  // rightwards arrow with plus below
    '\u2946': MO.RELACCENT,  // leftwards arrow with plus below
    '\u2947': MO.RELACCENT,  // rightwards arrow through x
    '\u2948': MO.RELACCENT,  // left right arrow through small circle
    '\u2949': MO.REL,        // upwards two-headed arrow from small circle
    '\u294A': MO.RELACCENT,  // left barb up right barb down harpoon
    '\u294B': MO.RELACCENT,  // left barb down right barb up harpoon
    '\u294C': MO.REL,        // up barb right down barb left harpoon
    '\u294D': MO.REL,        // up barb left down barb right harpoon
    '\u294E': MO.WIDEREL,    // left barb up right barb up harpoon
    '\u294F': MO.RELSTRETCH, // up barb right down barb right harpoon
    '\u2950': MO.WIDEREL,    // left barb down right barb down harpoon
    '\u2951': MO.RELSTRETCH, // up barb left down barb left harpoon
    '\u2952': MO.WIDEREL,    // leftwards harpoon with barb up to bar
    '\u2953': MO.WIDEREL,    // rightwards harpoon with barb up to bar
    '\u2954': MO.RELSTRETCH, // upwards harpoon with barb right to bar
    '\u2955': MO.RELSTRETCH, // downwards harpoon with barb right to bar
    '\u2956': MO.RELSTRETCH, // leftwards harpoon with barb down to bar
    '\u2957': MO.RELSTRETCH, // rightwards harpoon with barb down to bar
    '\u2958': MO.RELSTRETCH, // upwards harpoon with barb left to bar
    '\u2959': MO.RELSTRETCH, // downwards harpoon with barb left to bar
    '\u295A': MO.WIDEREL,    // leftwards harpoon with barb up from bar
    '\u295B': MO.WIDEREL,    // rightwards harpoon with barb up from bar
    '\u295C': MO.RELSTRETCH, // upwards harpoon with barb right from bar
    '\u295D': MO.RELSTRETCH, // downwards harpoon with barb right from bar
    '\u295E': MO.WIDEREL,    // leftwards harpoon with barb down from bar
    '\u295F': MO.WIDEREL,    // rightwards harpoon with barb down from bar
    '\u2960': MO.RELSTRETCH, // upwards harpoon with barb left from bar
    '\u2961': MO.RELSTRETCH, // downwards harpoon with barb left from bar
    '\u2962': MO.RELACCENT,  // leftwards harpoon with barb up above leftwards harpoon with barb down
    '\u2963': MO.REL,        // upwards harpoon with barb left beside upwards harpoon with barb right
    '\u2964': MO.RELACCENT,  // rightwards harpoon with barb up above rightwards harpoon with barb down
    '\u2965': MO.REL,        // downwards harpoon with barb left beside downwards harpoon with barb right
    '\u2966': MO.RELACCENT,  // leftwards harpoon with barb up above rightwards harpoon with barb up
    '\u2967': MO.RELACCENT,  // leftwards harpoon with barb down above rightwards harpoon with barb down
    '\u2968': MO.RELACCENT,  // rightwards harpoon with barb up above leftwards harpoon with barb up
    '\u2969': MO.RELACCENT,  // rightwards harpoon with barb down above leftwards harpoon with barb down
    '\u296A': MO.RELACCENT,  // leftwards harpoon with barb up above long dash
    '\u296B': MO.RELACCENT,  // leftwards harpoon with barb down below long dash
    '\u296C': MO.RELACCENT,  // rightwards harpoon with barb up above long dash
    '\u296D': MO.RELACCENT,  // rightwards harpoon with barb down below long dash
    '\u296E': MO.RELSTRETCH, // upwards harpoon with barb left beside downwards harpoon with barb right
    '\u296F': MO.RELSTRETCH, // downwards harpoon with barb left beside upwards harpoon with barb right
    '\u2970': MO.RELACCENT,  // right double arrow with rounded head
    '\u2971': MO.RELACCENT,  // equals sign above rightwards arrow
    '\u2972': MO.RELACCENT,  // tilde operator above rightwards arrow
    '\u2973': MO.RELACCENT,  // leftwards arrow above tilde operator
    '\u2974': MO.RELACCENT,  // rightwards arrow above tilde operator
    '\u2975': MO.RELACCENT,  // rightwards arrow above almost equal to
    '\u2976': MO.RELACCENT,  // less-than above leftwards arrow
    '\u2977': MO.RELACCENT,  // leftwards arrow through less-than
    '\u2978': MO.RELACCENT,  // greater-than above rightwards arrow
    '\u2979': MO.RELACCENT,  // subset above rightwards arrow
    '\u297A': MO.RELACCENT,  // leftwards arrow through subset
    '\u297B': MO.RELACCENT,  // superset above leftwards arrow
    '\u297C': MO.RELACCENT,  // left fish tail
    '\u297D': MO.RELACCENT,  // right fish tail
    '\u297E': MO.REL,        // up fish tail
    '\u297F': MO.REL,        // down fish tail
    '\u2981': MO.BIN3,       // z notation spot
    '\u2982': MO.BIN3,       // z notation type colon
    '\u2999': MO.BIN3,       // dotted fence
    '\u299A': MO.BIN3,       // vertical zigzag line
    '\u299B': MO.BIN3,       // measured angle opening left
    '\u299C': MO.BIN3,       // right angle variant with square
    '\u299D': MO.BIN3,       // measured right angle with dot
    '\u299E': MO.BIN3,       // angle with s inside
    '\u299F': MO.BIN3,       // acute angle
    '\u29A0': MO.BIN3,       // spherical angle opening left
    '\u29A1': MO.BIN3,       // spherical angle opening up
    '\u29A2': MO.BIN3,       // turned angle
    '\u29A3': MO.BIN3,       // reversed angle
    '\u29A4': MO.BIN3,       // angle with underbar
    '\u29A5': MO.BIN3,       // reversed angle with underbar
    '\u29A6': MO.BIN3,       // oblique angle opening up
    '\u29A7': MO.BIN3,       // oblique angle opening down
    '\u29A8': MO.BIN3,       // measured angle with open arm ending in arrow pointing up and right
    '\u29A9': MO.BIN3,       // measured angle with open arm ending in arrow pointing up and left
    '\u29AA': MO.BIN3,       // measured angle with open arm ending in arrow pointing down and right
    '\u29AB': MO.BIN3,       // measured angle with open arm ending in arrow pointing down and left
    '\u29AC': MO.BIN3,       // measured angle with open arm ending in arrow pointing right and up
    '\u29AD': MO.BIN3,       // measured angle with open arm ending in arrow pointing left and up
    '\u29AE': MO.BIN3,       // measured angle with open arm ending in arrow pointing right and down
    '\u29AF': MO.BIN3,       // measured angle with open arm ending in arrow pointing left and down
    '\u29B0': MO.BIN3,       // reversed empty set
    '\u29B1': MO.BIN3,       // empty set with overbar
    '\u29B2': MO.BIN3,       // empty set with small circle above
    '\u29B3': MO.BIN3,       // empty set with right arrow above
    '\u29B4': MO.BIN3,       // empty set with left arrow above
    '\u29B5': MO.BIN3,       // circle with horizontal bar
    '\u29B6': MO.BIN4,       // circled vertical bar
    '\u29B7': MO.BIN4,       // circled parallel
    '\u29B8': MO.BIN4,       // circled reverse solidus
    '\u29B9': MO.BIN4,       // circled perpendicular
    '\u29BA': MO.BIN4,       // circle divided by horizontal bar and top half divided by vertical bar
    '\u29BB': MO.BIN4,       // circle with superimposed x
    '\u29BC': MO.BIN4,       // circled anticlockwise-rotated division sign
    '\u29BD': MO.BIN4,       // up arrow through circle
    '\u29BE': MO.BIN4,       // circled white bullet
    '\u29BF': MO.BIN4,       // circled bullet
    '\u29C0': MO.REL,        // circled less-than
    '\u29C1': MO.REL,        // circled greater-than
    '\u29C2': MO.BIN3,       // circle with small circle to the right
    '\u29C3': MO.BIN3,       // circle with two horizontal strokes to the right
    '\u29C4': MO.BIN4,       // squared rising diagonal slash
    '\u29C5': MO.BIN4,       // squared falling diagonal slash
    '\u29C6': MO.BIN4,       // squared asterisk
    '\u29C7': MO.BIN4,       // squared small circle
    '\u29C8': MO.BIN4,       // squared square
    '\u29C9': MO.BIN3,       // two joined squares
    '\u29CA': MO.BIN3,       // triangle with dot above
    '\u29CB': MO.BIN3,       // triangle with underbar
    '\u29CC': MO.BIN3,       // s in triangle
    '\u29CD': MO.BIN3,       // triangle with serifs at bottom
    '\u29CE': MO.REL,        // right triangle above left triangle
    '\u29CF': MO.REL,        // left triangle beside vertical bar
    '\u29CF\u0338': MO.REL,  // left triangle beside vertical bar with slash
    '\u29D0': MO.REL,        // vertical bar beside right triangle
    '\u29D0\u0338': MO.REL,  // vertical bar beside right triangle with slash
    '\u29D1': MO.REL,        // bowtie with left half black
    '\u29D2': MO.REL,        // bowtie with right half black
    '\u29D3': MO.REL,        // black bowtie
    '\u29D4': MO.REL,        // times with left half black
    '\u29D5': MO.REL,        // times with right half black
    '\u29D6': MO.BIN4,       // white hourglass
    '\u29D7': MO.BIN4,       // black hourglass
    '\u29D8': MO.BIN3,       // left wiggly fence
    '\u29D9': MO.BIN3,       // right wiggly fence
    '\u29DB': MO.BIN3,       // right double wiggly fence
    '\u29DC': MO.BIN3,       // incomplete infinity
    '\u29DD': MO.BIN3,       // tie over infinity
    '\u29DE': MO.REL,        // infinity negated with vertical bar
    '\u29DF': MO.BIN3,       // double-ended multimap
    '\u29E0': MO.BIN3,       // square with contoured outline
    '\u29E1': MO.REL,        // increases as
    '\u29E2': MO.BIN4,       // shuffle product
    '\u29E3': MO.REL,        // equals sign and slanted parallel
    '\u29E4': MO.REL,        // equals sign and slanted parallel with tilde above
    '\u29E5': MO.REL,        // identical to and slanted parallel
    '\u29E6': MO.REL,        // gleich stark
    '\u29E7': MO.BIN3,       // thermodynamic
    '\u29E8': MO.BIN3,       // down-pointing triangle with left half black
    '\u29E9': MO.BIN3,       // down-pointing triangle with right half black
    '\u29EA': MO.BIN3,       // black diamond with down arrow
    '\u29EB': MO.BIN3,       // black lozenge
    '\u29EC': MO.BIN3,       // white circle with down arrow
    '\u29ED': MO.BIN3,       // black circle with down arrow
    '\u29EE': MO.BIN3,       // error-barred white square
    '\u29EF': MO.BIN3,       // error-barred black square
    '\u29F0': MO.BIN3,       // error-barred white diamond
    '\u29F1': MO.BIN3,       // error-barred black diamond
    '\u29F2': MO.BIN3,       // error-barred white circle
    '\u29F3': MO.BIN3,       // error-barred black circle
    '\u29F4': MO.REL,        // rule-delayed
    '\u29F5': MO.BIN4,       // reverse solidus operator
    '\u29F6': MO.BIN4,       // solidus with overbar
    '\u29F7': MO.BIN4,       // reverse solidus with horizontal stroke
    '\u29F8': MO.BIN3,       // big solidus
    '\u29F9': MO.BIN3,       // big reverse solidus
    '\u29FA': MO.BIN3,       // double plus
    '\u29FB': MO.BIN3,       // triple plus
    '\u29FE': MO.BIN4,       // tiny
    '\u29FF': MO.BIN4,       // miny
    '\u2A1D': MO.BIN3,       // join
    '\u2A1E': MO.BIN3,       // large left triangle operator
    '\u2A1F': MO.BIN3,       // z notation schema composition
    '\u2A20': MO.BIN3,       // z notation schema piping
    '\u2A21': MO.BIN3,       // z notation schema projection
    '\u2A22': MO.BIN4,       // plus sign with small circle above
    '\u2A23': MO.BIN4,       // plus sign with circumflex accent above
    '\u2A24': MO.BIN4,       // plus sign with tilde above
    '\u2A25': MO.BIN4,       // plus sign with dot below
    '\u2A26': MO.BIN4,       // plus sign with tilde below
    '\u2A27': MO.BIN4,       // plus sign with subscript two
    '\u2A28': MO.BIN4,       // plus sign with black triangle
    '\u2A29': MO.BIN4,       // minus sign with comma above
    '\u2A2A': MO.BIN4,       // minus sign with dot below
    '\u2A2B': MO.BIN4,       // minus sign with falling dots
    '\u2A2C': MO.BIN4,       // minus sign with rising dots
    '\u2A2D': MO.BIN4,       // plus sign in left half circle
    '\u2A2E': MO.BIN4,       // plus sign in right half circle
    '\u2A2F': MO.BIN4,       // vector or cross product
    '\u2A30': MO.BIN4,       // multiplication sign with dot above
    '\u2A31': MO.BIN4,       // multiplication sign with underbar
    '\u2A32': MO.BIN4,       // semidirect product with bottom closed
    '\u2A33': MO.BIN4,       // smash product
    '\u2A34': MO.BIN4,       // multiplication sign in left half circle
    '\u2A35': MO.BIN4,       // multiplication sign in right half circle
    '\u2A36': MO.BIN4,       // circled multiplication sign with circumflex accent
    '\u2A37': MO.BIN4,       // multiplication sign in double circle
    '\u2A38': MO.BIN4,       // circled division sign
    '\u2A39': MO.BIN4,       // plus sign in triangle
    '\u2A3A': MO.BIN4,       // minus sign in triangle
    '\u2A3B': MO.BIN4,       // multiplication sign in triangle
    '\u2A3C': MO.BIN4,       // interior product
    '\u2A3D': MO.BIN4,       // righthand interior product
    '\u2A3E': MO.BIN4,       // z notation relational composition
    '\u2A3F': MO.BIN4,       // amalgamation or coproduct
    '\u2A40': MO.BIN4,       // intersection with dot
    '\u2A41': MO.BIN4,       // union with minus sign
    '\u2A42': MO.BIN4,       // union with overbar
    '\u2A43': MO.BIN4,       // intersection with overbar
    '\u2A44': MO.BIN4,       // intersection with logical and
    '\u2A45': MO.BIN4,       // union with logical or
    '\u2A46': MO.BIN4,       // union above intersection
    '\u2A47': MO.BIN4,       // intersection above union
    '\u2A48': MO.BIN4,       // union above bar above intersection
    '\u2A49': MO.BIN4,       // intersection above bar above union
    '\u2A4A': MO.BIN4,       // union beside and joined with union
    '\u2A4B': MO.BIN4,       // intersection beside and joined with intersection
    '\u2A4C': MO.BIN4,       // closed union with serifs
    '\u2A4D': MO.BIN4,       // closed intersection with serifs
    '\u2A4E': MO.BIN4,       // double square intersection
    '\u2A4F': MO.BIN4,       // double square union
    '\u2A50': MO.BIN4,       // closed union with serifs and smash product
    '\u2A51': MO.BIN4,       // logical and with dot above
    '\u2A52': MO.BIN4,       // logical or with dot above
    '\u2A53': MO.BIN4,       // double logical and
    '\u2A54': MO.BIN4,       // double logical or
    '\u2A55': MO.BIN4,       // two intersecting logical and
    '\u2A56': MO.BIN4,       // two intersecting logical or
    '\u2A57': MO.BIN4,       // sloping large or
    '\u2A58': MO.BIN4,       // sloping large and
    '\u2A59': MO.REL,        // logical or overlapping logical and
    '\u2A5A': MO.BIN4,       // logical and with middle stem
    '\u2A5B': MO.BIN4,       // logical or with middle stem
    '\u2A5C': MO.BIN4,       // logical and with horizontal dash
    '\u2A5D': MO.BIN4,       // logical or with horizontal dash
    '\u2A5E': MO.BIN4,       // logical and with double overbar
    '\u2A5F': MO.BIN4,       // logical and with underbar
    '\u2A60': MO.BIN4,       // logical and with double underbar
    '\u2A61': MO.BIN4,       // small vee with underbar
    '\u2A62': MO.BIN4,       // logical or with double overbar
    '\u2A63': MO.BIN4,       // logical or with double underbar
    '\u2A64': MO.BIN4,       // z notation domain antirestriction
    '\u2A65': MO.BIN4,       // z notation range antirestriction
    '\u2A66': MO.REL,        // equals sign with dot below
    '\u2A67': MO.REL,        // identical with dot above
    '\u2A68': MO.REL,        // triple horizontal bar with double vertical stroke
    '\u2A69': MO.REL,        // triple horizontal bar with triple vertical stroke
    '\u2A6A': MO.REL,        // tilde operator with dot above
    '\u2A6B': MO.REL,        // tilde operator with rising dots
    '\u2A6C': MO.REL,        // similar minus similar
    '\u2A6D': MO.REL,        // congruent with dot above
    '\u2A6E': MO.REL,        // equals with asterisk
    '\u2A6F': MO.REL,        // almost equal to with circumflex accent
    '\u2A70': MO.REL,        // approximately equal or equal to
    '\u2A71': MO.BIN4,       // equals sign above plus sign
    '\u2A72': MO.BIN4,       // plus sign above equals sign
    '\u2A73': MO.REL,        // equals sign above tilde operator
    '\u2A74': MO.REL,        // double colon equal
    '\u2A75': MO.REL,        // two consecutive equals signs
    '\u2A76': MO.REL,        // three consecutive equals signs
    '\u2A77': MO.REL,        // equals sign with two dots above and two dots below
    '\u2A78': MO.REL,        // equivalent with four dots above
    '\u2A79': MO.REL,        // less-than with circle inside
    '\u2A7A': MO.REL,        // greater-than with circle inside
    '\u2A7B': MO.REL,        // less-than with question mark above
    '\u2A7C': MO.REL,        // greater-than with question mark above
    '\u2A7D': MO.REL,        // less-than or slanted equal to
    '\u2A7D\u0338': MO.REL,  // less-than or slanted equal to with slash
    '\u2A7E': MO.REL,        // greater-than or slanted equal to
    '\u2A7E\u0338': MO.REL,  // greater-than or slanted equal to with slash
    '\u2A7F': MO.REL,        // less-than or slanted equal to with dot inside
    '\u2A80': MO.REL,        // greater-than or slanted equal to with dot inside
    '\u2A81': MO.REL,        // less-than or slanted equal to with dot above
    '\u2A82': MO.REL,        // greater-than or slanted equal to with dot above
    '\u2A83': MO.REL,        // less-than or slanted equal to with dot above right
    '\u2A84': MO.REL,        // greater-than or slanted equal to with dot above left
    '\u2A85': MO.REL,        // less-than or approximate
    '\u2A86': MO.REL,        // greater-than or approximate
    '\u2A87': MO.REL,        // less-than and single-line not equal to
    '\u2A88': MO.REL,        // greater-than and single-line not equal to
    '\u2A89': MO.REL,        // less-than and not approximate
    '\u2A8A': MO.REL,        // greater-than and not approximate
    '\u2A8B': MO.REL,        // less-than above double-line equal above greater-than
    '\u2A8C': MO.REL,        // greater-than above double-line equal above less-than
    '\u2A8D': MO.REL,        // less-than above similar or equal
    '\u2A8E': MO.REL,        // greater-than above similar or equal
    '\u2A8F': MO.REL,        // less-than above similar above greater-than
    '\u2A90': MO.REL,        // greater-than above similar above less-than
    '\u2A91': MO.REL,        // less-than above greater-than above double-line equal
    '\u2A92': MO.REL,        // greater-than above less-than above double-line equal
    '\u2A93': MO.REL,        // less-than above slanted equal above greater-than above slanted equal
    '\u2A94': MO.REL,        // greater-than above slanted equal above less-than above slanted equal
    '\u2A95': MO.REL,        // slanted equal to or less-than
    '\u2A96': MO.REL,        // slanted equal to or greater-than
    '\u2A97': MO.REL,        // slanted equal to or less-than with dot inside
    '\u2A98': MO.REL,        // slanted equal to or greater-than with dot inside
    '\u2A99': MO.REL,        // double-line equal to or less-than
    '\u2A9A': MO.REL,        // double-line equal to or greater-than
    '\u2A9B': MO.REL,        // double-line slanted equal to or less-than
    '\u2A9C': MO.REL,        // double-line slanted equal to or greater-than
    '\u2A9D': MO.REL,        // similar or less-than
    '\u2A9E': MO.REL,        // similar or greater-than
    '\u2A9F': MO.REL,        // similar above less-than above equals sign
    '\u2AA0': MO.REL,        // similar above greater-than above equals sign
    '\u2AA1': MO.REL,        // double nested less-than
    '\u2AA1\u0338': MO.REL,  // double nested less-than with slash
    '\u2AA2': MO.REL,        // double nested greater-than
    '\u2AA2\u0338': MO.REL,  // double nested greater-than with slash
    '\u2AA3': MO.REL,        // double nested less-than with underbar
    '\u2AA4': MO.REL,        // greater-than overlapping less-than
    '\u2AA5': MO.REL,        // greater-than beside less-than
    '\u2AA6': MO.REL,        // less-than closed by curve
    '\u2AA7': MO.REL,        // greater-than closed by curve
    '\u2AA8': MO.REL,        // less-than closed by curve above slanted equal
    '\u2AA9': MO.REL,        // greater-than closed by curve above slanted equal
    '\u2AAA': MO.REL,        // smaller than
    '\u2AAB': MO.REL,        // larger than
    '\u2AAC': MO.REL,        // smaller than or equal to
    '\u2AAD': MO.REL,        // larger than or equal to
    '\u2AAE': MO.REL,        // equals sign with bumpy above
    '\u2AAF': MO.REL,        // precedes above single-line equals sign
    '\u2AAF\u0338': MO.REL,  // precedes above single-line equals sign with slash
    '\u2AB0': MO.REL,        // succeeds above single-line equals sign
    '\u2AB0\u0338': MO.REL,  // succeeds above single-line equals sign with slash
    '\u2AB1': MO.REL,        // precedes above single-line not equal to
    '\u2AB2': MO.REL,        // succeeds above single-line not equal to
    '\u2AB3': MO.REL,        // precedes above equals sign
    '\u2AB4': MO.REL,        // succeeds above equals sign
    '\u2AB5': MO.REL,        // precedes above not equal to
    '\u2AB6': MO.REL,        // succeeds above not equal to
    '\u2AB7': MO.REL,        // precedes above almost equal to
    '\u2AB8': MO.REL,        // succeeds above almost equal to
    '\u2AB9': MO.REL,        // precedes above not almost equal to
    '\u2ABA': MO.REL,        // succeeds above not almost equal to
    '\u2ABB': MO.REL,        // double precedes
    '\u2ABC': MO.REL,        // double succeeds
    '\u2ABD': MO.REL,        // subset with dot
    '\u2ABE': MO.REL,        // superset with dot
    '\u2ABF': MO.REL,        // subset with plus sign below
    '\u2AC0': MO.REL,        // superset with plus sign below
    '\u2AC1': MO.REL,        // subset with multiplication sign below
    '\u2AC2': MO.REL,        // superset with multiplication sign below
    '\u2AC3': MO.REL,        // subset of or equal to with dot above
    '\u2AC4': MO.REL,        // superset of or equal to with dot above
    '\u2AC5': MO.REL,        // subset of above equals sign
    '\u2AC6': MO.REL,        // superset of above equals sign
    '\u2AC7': MO.REL,        // subset of above tilde operator
    '\u2AC8': MO.REL,        // superset of above tilde operator
    '\u2AC9': MO.REL,        // subset of above almost equal to
    '\u2ACA': MO.REL,        // superset of above almost equal to
    '\u2ACB': MO.REL,        // subset of above not equal to
    '\u2ACC': MO.REL,        // superset of above not equal to
    '\u2ACD': MO.REL,        // square left open box operator
    '\u2ACE': MO.REL,        // square right open box operator
    '\u2ACF': MO.REL,        // closed subset
    '\u2AD0': MO.REL,        // closed superset
    '\u2AD1': MO.REL,        // closed subset or equal to
    '\u2AD2': MO.REL,        // closed superset or equal to
    '\u2AD3': MO.REL,        // subset above superset
    '\u2AD4': MO.REL,        // superset above subset
    '\u2AD5': MO.REL,        // subset above subset
    '\u2AD6': MO.REL,        // superset above superset
    '\u2AD7': MO.REL,        // superset beside subset
    '\u2AD8': MO.REL,        // superset beside and joined by dash with subset
    '\u2AD9': MO.REL,        // element of opening downwards
    '\u2ADA': MO.REL,        // pitchfork with tee top
    '\u2ADB': MO.REL,        // transversal intersection
    '\u2ADD': MO.REL,        // nonforking
    '\u2ADD\u0338': MO.REL,  // nonforking with slash
    '\u2ADE': MO.REL,        // short left tack
    '\u2ADF': MO.REL,        // short down tack
    '\u2AE0': MO.REL,        // short up tack
    '\u2AE1': MO.REL,        // perpendicular with s
    '\u2AE2': MO.REL,        // vertical bar triple right turnstile
    '\u2AE3': MO.REL,        // double vertical bar left turnstile
    '\u2AE4': MO.REL,        // vertical bar double left turnstile
    '\u2AE5': MO.REL,        // double vertical bar double left turnstile
    '\u2AE6': MO.REL,        // long dash from left member of double vertical
    '\u2AE7': MO.REL,        // short down tack with overbar
    '\u2AE8': MO.REL,        // short up tack with underbar
    '\u2AE9': MO.REL,        // short up tack above short down tack
    '\u2AEA': MO.REL,        // double down tack
    '\u2AEB': MO.REL,        // double up tack
    '\u2AEC': MO.REL,        // double stroke not sign
    '\u2AED': MO.REL,        // reversed double stroke not sign
    '\u2AEE': MO.REL,        // does not divide with reversed negation slash
    '\u2AEF': MO.REL,        // vertical line with circle above
    '\u2AF0': MO.REL,        // vertical line with circle below
    '\u2AF1': MO.REL,        // down tack with circle below
    '\u2AF2': MO.REL,        // parallel with horizontal stroke
    '\u2AF3': MO.REL,        // parallel with tilde operator
    '\u2AF4': MO.BIN4,       // triple vertical bar binary relation
    '\u2AF5': MO.BIN4,       // triple vertical bar with horizontal stroke
    '\u2AF6': MO.BIN4,       // triple colon operator
    '\u2AF7': MO.REL,        // triple nested less-than
    '\u2AF8': MO.REL,        // triple nested greater-than
    '\u2AF9': MO.REL,        // double-line slanted less-than or equal to
    '\u2AFA': MO.REL,        // double-line slanted greater-than or equal to
    '\u2AFB': MO.BIN4,       // triple solidus binary relation
    '\u2AFD': MO.BIN4,       // double solidus operator
    '\u2AFE': MO.BIN3,       // white vertical bar
    '\u2B45': MO.RELSTRETCH, // leftwards quadruple arrow
    '\u2B46': MO.RELSTRETCH, // rightwards quadruple arrow
    '\u3008': MO.OPEN,       // langle
    '\u3009': MO.CLOSE,      // rangle
    '\uFE37': MO.WIDEACCENT, // horizontal brace down
    '\uFE38': MO.WIDEACCENT, // horizontal brace up
  }
};

//
//  These are not in the W3C table, but we need them for \widehat and \underline
//
OPTABLE.infix['^'] = MO.WIDEREL;
OPTABLE.infix['_'] = MO.WIDEREL;

//
//  Remove from Appendix C, but perhaps that was a mistake?
//
OPTABLE.infix['\u2ADC'] = MO.REL;
</t>
<t tx="ekr.20211016054411.787">/**
 * @fileoverview  A visitor that produces a serilaied MathML string
 *                (replacement for toMathML() output from v2)
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MmlVisitor} from './MmlVisitor.js';
import {MmlNode, TextNode, XMLNode, TEXCLASS, TEXCLASSNAMES} from './MmlNode.js';
import {MmlMi} from './MmlNodes/mi.js';


export const DATAMJX = 'data-mjx-';

export const toEntity = (c: string) =&gt; '&amp;#x' + c.codePointAt(0).toString(16).toUpperCase() + ';';

type PropertyList = {[name: string]: string};


/*****************************************************************/
/**
 *  Implements the SerializedMmlVisitor (subclass of MmlVisitor)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.788">export class SerializedMmlVisitor extends MmlVisitor {

  /**
   * Translations for the internal mathvariants
   */
  public static variants: PropertyList = {
    '-tex-calligraphic':      'script',
    '-tex-bold-calligraphic': 'bold-script',
    '-tex-oldstyle':          'normal',
    '-tex-bold-oldstyle':     'bold',
    '-tex-mathit':            'italic'
  };

  /**
   * Attributes to include on every element of a given kind
   */
  public static defaultAttributes: {[kind: string]: PropertyList} = {
    math: {
      xmlns: 'http://www.w3.org/1998/Math/MathML'
    }
  };

  /**
   * Convert the tree rooted at a particular node into a serialized MathML string
   *
   * @param {MmlNode} node  The node to use as the root of the tree to traverse
   * @return {string}       The MathML string representing the internal tree
   */
  @others
}
</t>
<t tx="ekr.20211016054411.789">public visitTree(node: MmlNode): string {
  return this.visitNode(node, '');
}

</t>
<t tx="ekr.20211016054411.79">
import './lib/bussproofs.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.790">/**
 * @param {TextNode} node  The text node to visit
 * @param {string} space   The amount of indenting for this node
 * @return {string}        The (HTML-quoted) text of the node
 */
public visitTextNode(node: TextNode, _space: string): string {
  return this.quoteHTML(node.getText());
}

</t>
<t tx="ekr.20211016054411.791">/**
 * @param {XMLNode} node  The XML node to visit
 * @param {string} space  The amount of indenting for this node
 * @return {string}       The serialization of the XML node
 */
public visitXMLNode(node: XMLNode, space: string): string {
  return space + node.getSerializedXML();
}

</t>
<t tx="ekr.20211016054411.792">/**
 * Visit an inferred mrow, but don't add the inferred row itself (since
 * it is supposed to be inferred).
 *
 * @param {MmlNode} node  The inferred mrow to visit
 * @param {string} space  The amount of indenting for this node
 * @return {string}       The serialized contents of the mrow, properly indented
 */
public visitInferredMrowNode(node: MmlNode, space: string): string {
  let mml = [];
  for (const child of node.childNodes) {
    mml.push(this.visitNode(child, space));
  }
  return mml.join('\n');
}

</t>
<t tx="ekr.20211016054411.793">/**
 * Visit a TeXAtom node. It is turned into a mrow with the appropriate TeX class
 * indicator.
 *
 * @param {MmlNode} node  The TeXAtom to visit.
 * @param {string} space  The amount of indenting for this node.
 * @return {string}       The serialized contents of the mrow, properly indented.
 */
public visitTeXAtomNode(node: MmlNode, space: string): string {
  let children = this.childNodeMml(node, space + '  ', '\n');
  let mml = space + '&lt;mrow' + this.getAttributes(node) + '&gt;' +
    (children.match(/\S/) ? '\n' + children + space : '') + '&lt;/mrow&gt;';
  return mml;
}

</t>
<t tx="ekr.20211016054411.794">/**
 * @param {MmlNode} node    The annotation node to visit
 * @param {string} space    The number of spaces to use for indentation
 * @return {string}         The serializied annotation element
 */
public visitAnnotationNode(node: MmlNode, space: string): string {
  return space + '&lt;annotation' + this.getAttributes(node) + '&gt;'
    + this.childNodeMml(node, '', '')
    + '&lt;/annotation&gt;';
}

</t>
<t tx="ekr.20211016054411.795">/**
 * The generic visiting function:
 *   Make the string version of the open tag, properly indented, with it attributes
 *   Increate the indentation level
 *   Add the childnodes
 *   Add the end tag with proper spacing (empty tags have the close tag following directly)
 *
 * @param {MmlNode} node    The node to visit
 * @param {string} space    The number of spaces to use for indentation
 * @return {string}         The serialization of the given node
 */
public visitDefault(node: MmlNode, space: string): string {
  let kind = node.kind;
  let [nl, endspace] = (node.isToken || node.childNodes.length === 0 ? ['', ''] : ['\n', space]);
  const children = this.childNodeMml(node, space + '  ', nl);
  return space + '&lt;' + kind + this.getAttributes(node) + '&gt;'
               + (children.match(/\S/) ? nl + children + endspace : '')
               + '&lt;/' + kind + '&gt;';
}

/**
 * @param {MmlNode} node    The node whose children are to be added
 * @param {string} space    The spaces to use for indentation
 * @param {string} nl       The newline character (or empty)
 * @return {string}         The serializied children
 */
protected childNodeMml(node: MmlNode, space: string, nl: string): string {
  let mml = '';
  for (const child of node.childNodes) {
    mml += this.visitNode(child, space) + nl;
  }
  return mml;
}

/**
 * @param {MmlNode} node  The node whose attributes are to be produced
 * @return {string}       The attribute list as a string
 */
protected getAttributes(node: MmlNode): string {
  const attr = [];
  const defaults = (this.constructor as typeof SerializedMmlVisitor).defaultAttributes[node.kind] || {};
  const attributes = Object.assign({},
                                   defaults,
                                   this.getDataAttributes(node),
                                   node.attributes.getAllAttributes()
                                  );
  const variants = (this.constructor as typeof SerializedMmlVisitor).variants;
  if (attributes.hasOwnProperty('mathvariant') &amp;&amp; variants.hasOwnProperty(attributes.mathvariant)) {
    attributes.mathvariant = variants[attributes.mathvariant];
  }
  for (const name of Object.keys(attributes)) {
    const value = String(attributes[name]);
    if (value === undefined) continue;
    attr.push(name + '="' + this.quoteHTML(value) + '"');
  }
  return attr.length ? ' ' + attr.join(' ') : '';
}

/**
 * Create the list of data-mjx-* attributes
 *
 * @param {MmlNode} node        The node whose data list is to be generated
 * @return {PropertyList}       The final class attribute list
 */
protected getDataAttributes(node: MmlNode): PropertyList {
  const data = {} as PropertyList;
  const variant = node.attributes.getExplicit('mathvariant') as string;
  const variants = (this.constructor as typeof SerializedMmlVisitor).variants;
  variant &amp;&amp; variants.hasOwnProperty(variant) &amp;&amp; this.setDataAttribute(data, 'variant', variant);
  node.getProperty('variantForm') &amp;&amp; this.setDataAttribute(data, 'alternate', '1');
  node.getProperty('pseudoscript') &amp;&amp; this.setDataAttribute(data, 'pseudoscript', 'true');
  node.getProperty('autoOP') === false &amp;&amp; this.setDataAttribute(data, 'auto-op', 'false');
  const texclass = node.getProperty('texClass') as number;
  if (texclass !== undefined) {
    let setclass = true;
    if (texclass === TEXCLASS.OP &amp;&amp; node.isKind('mi')) {
      const name = (node as MmlMi).getText();
      setclass = !(name.length &gt; 1 &amp;&amp; name.match(MmlMi.operatorName));
    }
    setclass &amp;&amp; this.setDataAttribute(data, 'texclass', texclass &lt; 0 ? 'NONE' : TEXCLASSNAMES[texclass]);
  }
  node.getProperty('scriptlevel') &amp;&amp; node.getProperty('useHeight') === false &amp;&amp;
    this.setDataAttribute(data, 'smallmatrix', 'true');
  return data;
}

/**
 * @param {PropertyList} data  The class attribute list
 * @param {string} name    The name for the data-mjx-name attribute
 * @param {string} value   The value of the attribute
 */
protected setDataAttribute(data: PropertyList, name: string, value: string) {
  data[DATAMJX + name] = value;
}

/**
 *  Convert HTML special characters to entities (&amp;amp;, &amp;lt;, &amp;gt;, &amp;quot;)
 *  Convert multi-character Unicode characters to entities
 *  Convert non-ASCII characters to entities.
 *
 * @param {string} value  The string to be made HTML escaped
 * @return {string}       The string with escaping performed
 */
protected quoteHTML(value: string): string {
  return value
    .replace(/&amp;/g, '&amp;amp;')
    .replace(/&lt;/g, '&amp;lt;').replace(/&gt;/g, '&amp;gt;')
    .replace(/\"/g, '&amp;quot;')
    .replace(/[\uD800-\uDBFF]./g, toEntity)
    .replace(/[\u0080-\uD7FF\uE000-\uFFFF]/g, toEntity);
}

</t>
<t tx="ekr.20211016054411.796">/**
 * @fileoverview  A visitor that produces a serilaied MathML string
 *                that contains addition information about inherited
 *                attributes and internal properties.
 *                (For testing purposes only.)
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {SerializedMmlVisitor} from './SerializedMmlVisitor.js';
import {MmlNode} from './MmlNode.js';
import {PropertyList} from '../Tree/Node.js';

/*****************************************************************/
/**
 *  Implements the TestMmlVisitor (subclass of SerializedMmlVisitor)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.797">export class TestMmlVisitor extends SerializedMmlVisitor {

  /**
   * The generic visiting function:
   *   Make the string versino of the open tag with it attributes (explicit and
   *     inherited) and properties
   *   Increate the indentation level
   *   Add the childnodes
   *   Add the end tag with proper spacing (empty tags have the close tag following directly)
   *
   * @param {MmlNode} node  The node to visit
   * @param {string} space    The number of spaces to use for indentation
   */
  @others
}
</t>
<t tx="ekr.20211016054411.798">public visitDefault(node: MmlNode, space: string) {
  let kind = node.kind;
  let [nl, endspace] = (node.isToken || node.childNodes.length === 0 ? ['', ''] : ['\n', space]);
  let mml = space + '&lt;' + kind + this.getAttributes(node) +
    this.getInherited(node) + this.getProperties(node) + '\n' + space + '   ' +
    this.attributeString({
      isEmbellished: node.isEmbellished,
      isSpacelike: node.isSpacelike,
      texClass: node.texClass
    }, '{', '}') +
    '&gt;' + nl;
  space += '  ';
  for (const child of node.childNodes) {
    mml += this.visitNode(child, space) + nl;
  }
  mml += endspace + '&lt;/' + kind + '&gt;';
  return mml;
}

/**
 * @param {MmlNode} node  The node whose attributes are to be produced
 * @return {string}  The attribute list as a string
 */
protected getAttributes(node: MmlNode): string {
  return this.attributeString(node.attributes.getAllAttributes(), '', '');
}

/**
 * @param {MmlNode} node  The node whose inherited attributes are to be produced
 * @return {string}  The inhertited attribute list as a string (with each in [...])
 */
protected getInherited(node: MmlNode): string {
  return this.attributeString(node.attributes.getAllInherited(), '[', ']');
}

/**
 * @param {MmlNode} node  The node whose properties are to be produced
 * @return {string}  The property list as a string (with each in [[...]])
 */
protected getProperties(node: MmlNode): string {
  return this.attributeString(node.getAllProperties(), '[[', ']]');
}

/**
 * @param {PropertyList} attributes  The attributes to be made into a list
 * @param {string} open  The opening delimiter to add before each attribute
 * @param {string} close  The closing delimiter to add after each attribute
 * @return {string}  The attribute list as a string
 */
protected attributeString(attributes: PropertyList, open: string, close: string): string {
  let ATTR = '';
  for (const name of Object.keys(attributes)) {
    ATTR += ' ' + open + name + '="' + this.quoteHTML(String(attributes[name])) + '"' + close;
  }
  return ATTR;
}

</t>
<t tx="ekr.20211016054411.799"></t>
<t tx="ekr.20211016054411.8">    function (resource) {
      const request = require.resolve(resource.request.charAt(0) === '.' ?
                                      path.resolve(resource.context, resource.request) :
                                      resource.request);
      if (request.match(rootRE) || !request.match(nodeRE) || fs.existsSync(request)) return;
      const file = request.replace(nodeRE, path.join(root, 'node_modules') + path.sep);
      if (fs.existsSync(file)) {
        resource.request = file;
      }
    }
  )
);
return plugins;
</t>
<t tx="ekr.20211016054411.80">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/bussproofs',  // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.800">/**
 * @fileoverview  Implements the MmlMaction node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {MmlNode, AbstractMmlNode} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMaction node class (subclass of AbstractMmlNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.801">export class MmlMaction extends AbstractMmlNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlNode.defaults,
    actiontype: 'toggle',
    selection: 1
  };

  /**
   * @override
   */
  public get kind() {
    return 'maction';
  }

  /**
   * At least one child
   * @override
   */
  public get arity() {
    return 1;
  }

  /**
   * @return {MmlNode}  The selected child node (or an mrow if none selected)
   */
  public get selected(): MmlNode {
    const selection = this.attributes.get('selection') as number;
    const i = Math.max(1, Math.min(this.childNodes.length, selection)) - 1;
    return this.childNodes[i] || this.factory.create('mrow');
  }

  /**
   * @override
   */
  public get isEmbellished() {
    return this.selected.isEmbellished;
  }

  /**
   * @override
   */
  public get isSpacelike() {
    return this.selected.isSpacelike;
  }

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.802">public core(): MmlNode {
  return this.selected.core();
}

</t>
<t tx="ekr.20211016054411.803">/**
 * @override
 */
public coreMO(): MmlNode {
  return this.selected.coreMO();
}

/**
 * @override
 */
protected verifyAttributes(options: PropertyList) {
  super.verifyAttributes(options);
  if (this.attributes.get('actiontype') !== 'toggle' &amp;&amp;
      this.attributes.getExplicit('selection') !== undefined) {
    const attributes = this.attributes.getAllAttributes();
    delete attributes.selection;
  }
}

</t>
<t tx="ekr.20211016054411.804">/**
 * Get the TeX class from the selceted node
 * For tooltips, set TeX classes within the tip as a separate math list
 *
 * @override
 */
public setTeXclass(prev: MmlNode) {
  if (this.attributes.get('actiontype') === 'tooltip' &amp;&amp; this.childNodes[1]) {
    this.childNodes[1].setTeXclass(null);
  }
  let selected = this.selected;
  prev = selected.setTeXclass(prev);
  this.updateTeXclass(selected);
  return prev;
}

</t>
<t tx="ekr.20211016054411.805">/**
 * Select the next child for a toggle action
 */
public nextToggleSelection() {
  let selection = Math.max(1, (this.attributes.get('selection') as number) + 1);
  if (selection &gt; this.childNodes.length) {
    selection = 1;
  }
  this.attributes.set('selection', selection);
}

</t>
<t tx="ekr.20211016054411.806">


/**
 * @fileoverview  Implements the MmlMaligngroup node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlLayoutNode, AttributeList} from '../MmlNode.js';
import {INHERIT} from '../Attributes.js';

/*****************************************************************/
/**
 *  Implements the MmlMaligngroup node class (subclass of AbstractMmlNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.807">export class MmlMaligngroup extends AbstractMmlLayoutNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlLayoutNode.defaults,
    groupalign: INHERIT
  };

  /**
   * @override
   */
  public get kind() {
    return 'maligngroup';
  }

  /**
   * &lt;maligngroup&gt; is space-like
   * @override
   */
  public get isSpacelike() {
    return true;
  }

  /**
   * Children can inherit from &lt;maligngroup&gt;
   * @override
   */
  protected setChildInheritedAttributes(attributes: AttributeList, display: boolean, level: number, prime: boolean) {
    attributes = this.addInheritedAttributes(attributes, this.attributes.getAllAttributes());
    super.setChildInheritedAttributes(attributes, display, level, prime);
  }

}
</t>
<t tx="ekr.20211016054411.808">


/**
 * @fileoverview  Implements the MmlMalignmark node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlNode} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMalignmark node class (subclass of AbstractMmlNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.809">export class MmlMalignmark extends AbstractMmlNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlNode.defaults,
    edge: 'left'
  };

  /**
   * @override
   */
  public get kind() {
    return 'malignmark';
  }

  /**
   * No children allowed
   * @override
   */
  public get arity() {
    return 0;
  }

  /**
   * &lt;malignmark&gt; is space-like
   * @override
   */
  public get isSpacelike() {
    return true;
  }

}
</t>
<t tx="ekr.20211016054411.81"></t>
<t tx="ekr.20211016054411.810">


/**
 * @fileoverview  Implements the MmlMath node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlLayoutNode, AttributeList} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMath node class (subclass of AbstractMmlLayoutNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.811">export class MmlMath extends AbstractMmlLayoutNode {

  /**
   *  These are used as the defaults for any attributes marked INHERIT in other classes
   */
  public static defaults: PropertyList = {
    ...AbstractMmlLayoutNode.defaults,
    mathvariant: 'normal',
    mathsize: 'normal',
    mathcolor: '', // Should be 'black', but allow it to inherit from surrounding text
    mathbackground: 'transparent',
    dir: 'ltr',
    scriptlevel: 0,
    displaystyle: false,
    display: 'inline',
    maxwidth: '',
    overflow: 'linebreak',
    altimg: '',
    'altimg-width': '',
    'altimg-height': '',
    'altimg-valign': '',
    alttext: '',
    cdgroup: '',
    scriptsizemultiplier: 1 / Math.sqrt(2),
    scriptminsize: '8px',        // Should be 8pt, but that's too big
    infixlinebreakstyle: 'before',
    lineleading: '1ex',
    linebreakmultchar: '\u2062', // Invisible times
    indentshift: 'auto',         // Use user configuration
    indentalign: 'auto',
    indenttarget: '',
    indentalignfirst: 'indentalign',
    indentshiftfirst: 'indentshift',
    indentalignlast:  'indentalign',
    indentshiftlast:  'indentshift'
  };

  /**
   * @override
   */
  public get kind() {
    return 'math';
  }

  /**
   * Linebreaking can occur in math nodes
   * @override
   */
  public get linebreakContainer() {
    return true;
  }

  /**
   * The attributes of math nodes are inherited, so add them into the list.
   * The displaystyle attribute comes from the display attribute if not given explicitly
   * The scriptlevel comes from the scriptlevel attribute or default
   *
   * @override
   */
  protected setChildInheritedAttributes(attributes: AttributeList, display: boolean, level: number, prime: boolean) {
    if (this.attributes.get('mode') === 'display') {
      this.attributes.setInherited('display', 'block');
    }
    attributes = this.addInheritedAttributes(attributes, this.attributes.getAllAttributes());
    display = (!!this.attributes.get('displaystyle') ||
               (!this.attributes.get('displaystyle') &amp;&amp; this.attributes.get('display') === 'block'));
    this.attributes.setInherited('displaystyle', display);
    level = (this.attributes.get('scriptlevel') ||
             (this.constructor as typeof MmlMath).defaults['scriptlevel']) as number;
    super.setChildInheritedAttributes(attributes, display, level, prime);
  }

}
</t>
<t tx="ekr.20211016054411.812">


/**
 * @fileoverview  Implements the MathChoice node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlBaseNode, AttributeList} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MathChoice node class (subclass of AbstractMmlBaseNode)
 *
 *  This is used by TeX's \mathchoice macro, but removes itself
 *  during the setInheritedAttributes process
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.813">export class MathChoice extends AbstractMmlBaseNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlBaseNode.defaults
  };

  /**
   *  @override
   */
  public get kind() {
    return 'MathChoice';
  }

  /**
   * 4 children (display, text, script, and scriptscript styles)
   * @override
   */
  public get arity() {
    return 4;
  }

  /**
   * This element is not considered a MathML container
   * @override
   */
  public get notParent() {
    return true;
  }

  /**
   * Replace the MathChoice node with the selected on based on the displaystyle and scriptlevel settings
   * (so the MathChoice never ends up in a finished MmlNode tree)
   *
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.814">public setInheritedAttributes(attributes: AttributeList, display: boolean, level: number, prime: boolean) {
  const selection = (display ? 0 : Math.max(0, Math.min(level, 2)) + 1);
  const child = this.childNodes[selection] || this.factory.create('mrow');
  this.parent.replaceChild(child, this);
  child.setInheritedAttributes(attributes, display, level, prime);
}

</t>
<t tx="ekr.20211016054411.815">


/**
 * @fileoverview  Implements the MmlMenclose node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {MmlNode, AbstractMmlNode, TEXCLASS} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlEnclose node class (subclass of AbstractMmlNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.816">export class MmlMenclose extends AbstractMmlNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlNode.defaults,
    notation: 'longdiv'
  };

  /**
   * TeX class is ORD
   */
  protected texclass = TEXCLASS.ORD;

  /**
   * The menclose kind
   * @override
   */
  public get kind() {
    return 'menclose';
  }

  /**
   * &lt;menclose&gt; has an inferred mrow
   * @override
   */
  public get arity() {
    return -1;
  }

  /**
   * &lt;menclose&gt; is a linebreak container
   * @override
   */
  public get linebreakContininer() {
    return true;
  }

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.817">public setTeXclass(prev: MmlNode) {
  prev = this.childNodes[0].setTeXclass(prev);
  this.updateTeXclass(this.childNodes[0]);
  return prev;
}

</t>
<t tx="ekr.20211016054411.818">


/**
 * @fileoverview  Implements the MmlMerror node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlNode, TEXCLASS} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMerror node class (subclass of AbstractMmlNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.819">export class MmlMerror extends AbstractMmlNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlNode.defaults
  };

  /**
   * TeX class is ORD
   */
  protected texclass = TEXCLASS.ORD;

  /**
   * @override
   */
  public get kind() {
    return 'merror';
  }

  /**
   * &lt;merror&gt; gets an inferred mrow
   * @override
   */
  public get arity() {
    return -1;
  }

  /**
   * &lt;merror&gt; can contain line breaks
   * @override
   */
  public get linebreakContainer() {
    return true;
  }

}
</t>
<t tx="ekr.20211016054411.82">
import './lib/cancel.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.820">


/**
 * @fileoverview  Implements the MmlMfenced node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {MmlNode, TextNode, AbstractMmlNode, AttributeList, TEXCLASS} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMfenced node class (subclass of AbstractMmlNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.821">export class MmlMfenced extends AbstractMmlNode {

  /**
   * @overeride
   */
  public static defaults: PropertyList = {
    ...AbstractMmlNode.defaults,
    open: '(',
    close: ')',
    separators: ','
  };

  /**
   * TeX class is INNER
   */
  protected texclass = TEXCLASS.INNER;

  /**
   * Storage for "fake" nodes for the separators
   */
  public separators: MmlNode[] = [];
  /**
   * Storage for "fake" open node
   */
  public open: MmlNode = null;
  /**
   * Storage for "fake" close node
   */
  public close: MmlNode = null;

  /**
   * @override
   */
  public get kind() {
    return 'mfenced';
  }

  /**
   * Include the fake nodes in the process, since they will be used
   *  to produce the output.
   *
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.822">public setTeXclass(prev: MmlNode) {
  this.getPrevClass(prev);
  if (this.open) {
    prev = this.open.setTeXclass(prev);
  }
  if (this.childNodes[0]) {
    prev = this.childNodes[0].setTeXclass(prev);
  }
  for (let i = 1, m = this.childNodes.length; i &lt; m; i++) {
    if (this.separators[i - 1]) {
      prev = this.separators[i - 1].setTeXclass(prev);
    }
    if (this.childNodes[i]) {
      prev = this.childNodes[i].setTeXclass(prev);
    }
  }
  if (this.close) {
    prev = this.close.setTeXclass(prev);
  }
  this.updateTeXclass(this.open);
  return prev;
}

/**
 * Create the fake nodes and do their inheritance
 * Then do inheridence of usual children
 *
 * @override
 */
protected setChildInheritedAttributes(attributes: AttributeList, display: boolean, level: number, prime: boolean) {
  this.addFakeNodes();
  for (const child of [this.open, this.close].concat(this.separators)) {
    if (child) {
      child.setInheritedAttributes(attributes, display, level, prime);
    }
  }
  super.setChildInheritedAttributes(attributes, display, level, prime);
}

/**
 * Create &lt;mo&gt; elements for the open and close delimiters, and for the separators (if any)
 */
protected addFakeNodes() {
  let {open, close, separators} = this.attributes.getList('open', 'close', 'separators') as
  {open: string, close: string, separators: string};
  open = open.replace(/[ \t\n\r]/g, '');
  close = close.replace(/[ \t\n\r]/g, '');
  separators = separators.replace(/[ \t\n\r]/g, '');
  //
  // Create open node
  //
  if (open) {
    this.open = this.fakeNode(open, {fence: true, form: 'prefix'}, TEXCLASS.OPEN);
  }
  //
  // Create nodes for the separators
  //
  if (separators) {
    while (separators.length &lt; this.childNodes.length - 1) {
      separators += separators.charAt(separators.length - 1);
    }
    let i = 0;
    for (const child of this.childNodes.slice(1)) {
      if (child) {
        this.separators.push(this.fakeNode(separators.charAt(i++)));
      }
    }
  }
  //
  //  Create close node
  //
  if (close) {
    this.close = this.fakeNode(close, {fence: true, form: 'postfix'}, TEXCLASS.CLOSE);
  }
}

/**
 * @param {string} c                 The character for the text of the node
 * @param {PropertyList} properties  The attributes for the node
 * @param {number} texClass          The TeX class for the node
 * @return {MmlNode}                 The generated &lt;mo&gt; node
 */
protected fakeNode(c: string, properties: PropertyList = {}, texClass: number = null): MmlNode {
  let text = (this.factory.create('text') as TextNode).setText(c);
  let node = this.factory.create('mo', properties, [text]);
  node.texClass = texClass;
  node.parent = this;
  return node;
}

</t>
<t tx="ekr.20211016054411.823">


/**
 * @fileoverview  Implements the MmlMfrac node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {MmlNode, AbstractMmlBaseNode, AttributeList} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMfrac node class (subclass of AbstractMmlBaseNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.824">export class MmlMfrac extends AbstractMmlBaseNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlBaseNode.defaults,
    linethickness: 'medium',
    numalign: 'center',
    denomalign: 'center',
    bevelled: false
  };

  /**
   * @override
   */
  public get kind() {
    return 'mfrac';
  }

  /**
   * &lt;mfrac&gt; requires two children
   * @override
   */
  public get arity() {
    return 2;
  }

  /**
   * The children of &lt;mfrac&gt; can include line breaks
   * @override
   */
  public get linebreakContainer() {
    return true;
  }

  /**
   * Update the children separately
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.825">public setTeXclass(prev: MmlNode) {
  this.getPrevClass(prev);
  for (const child of this.childNodes) {
    child.setTeXclass(null);
  }
  return this;
}

/**
 * Adjust the display level, and use prime style in denominator
 * @override
 */
protected setChildInheritedAttributes(attributes: AttributeList, display: boolean, level: number, prime: boolean) {
  if (!display || level &gt; 0) {
    level++;
  }
  this.childNodes[0].setInheritedAttributes(attributes, false, level, prime);
  this.childNodes[1].setInheritedAttributes(attributes, false, level, true);
}

</t>
<t tx="ekr.20211016054411.826">


/**
 * @fileoverview  Implements the MmlMglyph node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlTokenNode, TEXCLASS} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMglyph node class (subclass of AbstractMmlTokenNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.827">export class MmlMglyph extends AbstractMmlTokenNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlTokenNode.defaults,
    alt: '',
    src: '',
    width: 'auto',
    height: 'auto',
    valign: '0em'
  };

  /**
   * TeX class is ORD
   */
  protected texclass = TEXCLASS.ORD;

  /**
   * @override
   */
  public get kind() {
    return 'mglyph';
  }

}
</t>
<t tx="ekr.20211016054411.828">


/**
 * @fileoverview  Implements the MmlMi node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlTokenNode, AbstractMmlNode, AttributeList, TEXCLASS} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMi node class (subclass of AbstractMmlTokenNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.829">export class MmlMi extends AbstractMmlTokenNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlTokenNode.defaults
  };

  /**
   * Pattern for operator names
   */
  public static operatorName: RegExp = /^[a-z][a-z0-9]*$/i;
  /**
   * Pattern for single-character texts
   */
  public static singleCharacter: RegExp =
    /^[\uD800-\uDBFF]?.[\u0300-\u036F\u1AB0-\u1ABE\u1DC0-\u1DFF\u20D0-\u20EF]*$/;

  /**
   * TeX class is ORD
   */
  protected texclass = TEXCLASS.ORD;

  /**
   * @override
   */
  public get kind() {
    return 'mi';
  }

  /**
   * Do the usual inheritance, then check the text length to see
   *   if mathvariant should be normal or italic.
   *
   * @override
   */
  public setInheritedAttributes(attributes: AttributeList = {},
                                display: boolean = false, level: number = 0, prime: boolean = false) {
    super.setInheritedAttributes(attributes, display, level, prime);
    let text = this.getText();
    if (text.match(MmlMi.singleCharacter) &amp;&amp; !attributes.mathvariant) {
      this.attributes.setInherited('mathvariant', 'italic');
    }
  }

  /**
   * Mark multi-character texts as OP rather than ORD for spacing purposes
   *
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.83">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/cancel',      // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/input/tex/extensions/enclose/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.830">public setTeXclass(prev: AbstractMmlNode) {
  this.getPrevClass(prev);
  let name = this.getText();
  if (name.length &gt; 1 &amp;&amp; name.match(MmlMi.operatorName) &amp;&amp;
      this.attributes.get('mathvariant') === 'normal' &amp;&amp;
      this.getProperty('autoOP') === undefined &amp;&amp;
      this.getProperty('texClass') === undefined) {
    this.texClass = TEXCLASS.OP;
    this.setProperty('autoOP', true);
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.831">


/**
 * @fileoverview  Implements the MmlMmultiscripts node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlNode, AttributeList} from '../MmlNode.js';
import {MmlMsubsup} from './msubsup.js';

/*****************************************************************/
/**
 *  Implements the MmlMmultiscripts node class (subclass of MmlMsubsup)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.832">export class MmlMmultiscripts extends MmlMsubsup {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...MmlMsubsup.defaults
  };

  /**
   * @override
   */
  public get kind() {
    return 'mmultiscripts';
  }

  /**
   * &lt;mmultiscripts&gt; requires at least one child (the base)
   * @override
   */
  public get arity() {
    return 1;
  }

  /**
   * Push the inherited values to the base
   * Make sure the number of pre- and post-scripts are even by adding mrows, if needed.
   * For the scripts, use displaystyle = false, scriptlevel + 1, and
   *   set the primestyle in the subscripts.
   *
   * @override
   */
  protected setChildInheritedAttributes(attributes: AttributeList, display: boolean, level: number, prime: boolean) {
    this.childNodes[0].setInheritedAttributes(attributes, display, level, prime);
    let prescripts = false;
    for (let i = 1, n = 0; i &lt; this.childNodes.length; i++) {
      let child = this.childNodes[i];
      if (child.isKind('mprescripts')) {
        if (!prescripts) {
          prescripts = true;
          if (i % 2 === 0) {
            let mrow = this.factory.create('mrow');
            this.childNodes.splice(i, 0, mrow);
            mrow.parent = this;
            i++;
          }
        }
      } else {
        let primestyle = prime || (n % 2 === 0);
        child.setInheritedAttributes(attributes, false, level + 1, primestyle);
        n++;
      }
    }
    if (this.childNodes.length % 2 === (prescripts ? 1 : 0)) {
      this.appendChild(this.factory.create('mrow'));
      this.childNodes[this.childNodes.length - 1].setInheritedAttributes(attributes, false, level + 1, prime);
    }
  }

  /**
   * Check that mprescripts only occurs once, and that the number of pre- and post-scripts are even.
   *
   * @override
   */
  protected verifyChildren(options: PropertyList) {
    let prescripts = false;
    let fix = options['fixMmultiscripts'];
    for (let i = 0; i &lt; this.childNodes.length; i++) {
      let child = this.childNodes[i];
      if (child.isKind('mprescripts')) {
        if (prescripts) {
          child.mError(child.kind + ' can only appear once in ' + this.kind, options, true);
        } else {
          prescripts = true;
          if (i % 2 === 0 &amp;&amp; !fix) {
            this.mError('There must be an equal number of prescripts of each type', options);
          }
        }
      }
    }
    if (this.childNodes.length % 2 === (prescripts ? 1 : 0) &amp;&amp; !fix) {
      this.mError('There must be an equal number of scripts of each type', options);
    }
    super.verifyChildren(options);
  }

}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.833">/**
 *  Implements the MmlMprescripts node class (subclass of AbstractMmlNode)
 */

export class MmlMprescripts extends AbstractMmlNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlNode.defaults
  };

  /**
   * @return {string}  The mprescripts kind
   */
  public get kind(): string {
    return 'mprescripts';
  }

  /**
   * @return {number}  &lt;mprescripts&gt; can have no children
   */
  public get arity(): number {
    return 0;
  }

  /**
   * Check that parent is mmultiscripts
   *
   * @override
   */
  @others
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.834">public verifyTree(options: PropertyList) {
  super.verifyTree(options);
  if (this.parent &amp;&amp; !this.parent.isKind('mmultiscripts')) {
    this.mError(this.kind + ' must be a child of mmultiscripts', options, true);
  }
}

</t>
<t tx="ekr.20211016054411.835">/**
 *  Implements the MmlNone node class (subclass of AbstractMmlNode)
 */

export class MmlNone extends AbstractMmlNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlNode.defaults
  };

  /**
   * @return {string}  The none kind
   */
  public get kind(): string {
    return 'none';
  }

  /**
   * @return {number}  &lt;none&gt; can have no children
   */
  public get arity(): number {
    return 0;
  }

  /**
   * Check that parent is mmultiscripts
   *
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.836">public verifyTree(options: PropertyList) {
  super.verifyTree(options);
  if (this.parent &amp;&amp; !this.parent.isKind('mmultiscripts')) {
    this.mError(this.kind + ' must be a child of mmultiscripts', options, true);
  }
}

</t>
<t tx="ekr.20211016054411.837">


/**
 * @fileoverview  Implements the MmlMn node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlTokenNode, TEXCLASS} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMn node class (subclass of AbstractMmlTokenNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.838">export class MmlMn extends AbstractMmlTokenNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlTokenNode.defaults
  };

  /**
   * TeX class is ORD
   */
  protected texclass = TEXCLASS.ORD;

  /**
   * @override
   */
  public get kind() {
    return 'mn';
  }

}
</t>
<t tx="ekr.20211016054411.839">


/**
 * @fileoverview  Implements the MmlMo node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlTokenNode, MmlNode, AttributeList, TEXCLASS} from '../MmlNode.js';
import {MmlMrow} from './mrow.js';
import {MmlMover, MmlMunder, MmlMunderover} from './munderover.js';
import {OperatorList, OPTABLE, getRange, MMLSPACING} from '../OperatorDictionary.js';
import {unicodeChars, unicodeString} from '../../../util/string.js';

/*****************************************************************/
/**
 *  Implements the MmlMo node class (subclass of AbstractMmlTokenNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.84"></t>
<t tx="ekr.20211016054411.840">export class MmlMo extends AbstractMmlTokenNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlTokenNode.defaults,
    form: 'infix',
    fence: false,
    separator: false,
    lspace: 'thickmathspace',
    rspace: 'thickmathspace',
    stretchy: false,
    symmetric: false,
    maxsize: 'infinity',
    minsize: '0em', // MathML says '1em', but that is larger than some natural sizes
    largeop: false,
    movablelimits: false,
    accent: false,
    linebreak: 'auto',
    lineleading: '1ex',
    linebreakstyle: 'before',
    indentalign: 'auto',
    indentshift: '0',
    indenttarget: '',
    indentalignfirst: 'indentalign',
    indentshiftfirst: 'indentshift',
    indentalignlast: 'indentalign',
    indentshiftlast: 'indentshift'
  };

  /**
   * The MathML spacing values for the TeX classes
   */
  public static MMLSPACING = MMLSPACING;

  /**
   * The Operator Dictionary
   */
  public static OPTABLE: {[form: string]: OperatorList} = OPTABLE;

  /**
   * Pattern for matching when the contents is one ore more pseudoscripts
   */
  public static pseudoScripts = new RegExp([
    '^["\'*`',
    '\u00AA',               // FEMININE ORDINAL INDICATOR
    '\u00B0',               // DEGREE SIGN
    '\u00B2-\u00B4',        // SUPERSCRIPT 2 and 3, ACUTE ACCENT
    '\u00B9',               // SUPERSCRIPT ONE
    '\u00BA',               // MASCULINE ORDINAL INDICATOR
    '\u2018-\u201F',        // Various double and single quotation marks (up and down)
    '\u2032-\u2037\u2057',  // Primes and reversed primes (forward and reversed)
    '\u2070\u2071',         // SUPERSCRIPT 0 and i
    '\u2074-\u207F',        // SUPERCRIPT 4 through 9, -, =, (, ), and n
    '\u2080-\u208E',        // SUBSCRIPT 0 through 9, -, =, (, ).
    ']+$'
  ].join(''));

  /**
   * Pattern for when contents is a collection of primes
   */
   protected static primes = new RegExp([
     '^["\'`',
     '\u2018-\u201F',        // Various double and single quotation marks (up and down)
     ']+$'
   ].join(''));

   /**
    * Default map for remapping prime characters
    */
  protected static remapPrimes: {[n: number]: number} = {
     0x0022: 0x2033,   // double quotes
     0x0027: 0x2032,   // single quote
     0x0060: 0x2035,   // back quote
     0x2018: 0x2035,   // open single quote
     0x2019: 0x2032,   // close single quote
     0x201A: 0x2032,   // low open single quote
     0x201B: 0x2035,   // reversed open single quote
     0x201C: 0x2036,   // open double quote
     0x201D: 0x2033,   // close double quote
     0x201E: 0x2033,   // low open double quote
     0x201F: 0x2036,   // reversed open double quote
  };

  /**
   * Regular expression matching characters that are marked as math accents
   */
  protected static mathaccents = new RegExp([
    '^[',
    '\u00B4\u0301\u02CA',  // acute
    '\u0060\u0300\u02CB',  // grave
    '\u00A8\u0308',        // ddot
    '\u007E\u0303\u02DC',  // tilde
    '\u00AF\u0304\u02C9',  // bar
    '\u02D8\u0306',        // breve
    '\u02C7\u030C',        // check
    '\u005E\u0302\u02C6',  // hat
    '\u2192\u20D7',        // vec
    '\u02D9\u0307',        // dot
    '\u02DA\u030A',        // mathring
    '\u20DB',              // dddot
    '\u20DC',              // ddddot
    ']$'
  ].join(''));

  /**
   * The internal TeX class of the node (for use with getter/setter below)
   */
  public _texClass: number = null;

  /**
   * Use a getter to look up the TeX class from the operator table if it hasn't
   * been set yet (but don't save it in case the form changes when it is in its
   * location).
   */
  public get texClass() {
    if (this._texClass === null) {
      let mo = this.getText();
      let [form1, form2, form3] = this.handleExplicitForm(this.getForms());
      let OPTABLE = (this.constructor as typeof MmlMo).OPTABLE;
      let def = OPTABLE[form1][mo] || OPTABLE[form2][mo] || OPTABLE[form3][mo];
      return def ? def[2] : TEXCLASS.REL;
    }
    return this._texClass;
  }

  /**
   * Use a setter to store the actual value in _texClass;
   */
  public set texClass(value: number) {
    this._texClass = value;
  }

  /**
   * The default MathML spacing on the left
   */
  /* tslint:disable-next-line:whitespace */
  public lspace = 5/18;

  /**
   * The default MathML spacing on the right
   */
  /* tslint:disable-next-line:whitespace */
  public rspace = 5/18;

  /**
   * @override
   */
  public get kind() {
    return 'mo';
  }

  /**
   * All &lt;mo&gt; are considered embellished
   * @override
   */
  public get isEmbellished() {
    return true;
  }

  /**
   * @return {boolean}  Is &lt;mo&gt; marked as an explicit linebreak?
   */
  public get hasNewLine(): boolean {
    return this.attributes.get('linebreak') === 'newline';
  }

  /**
   * @return {MmlNode}  The node that is the outermost embellished operator
   *                    with this node as its core
   */
  @others
}
</t>
<t tx="ekr.20211016054411.841">public coreParent(): MmlNode {
  let embellished = this as MmlNode;
  let parent = this as MmlNode;
  let math = this.factory.getNodeClass('math');
  while (parent &amp;&amp; parent.isEmbellished &amp;&amp; parent.coreMO() === this &amp;&amp; !(parent instanceof math)) {
    embellished = parent;
    parent = (parent as MmlNode).parent;
  }
  return embellished;
}

</t>
<t tx="ekr.20211016054411.842">/**
 * @param {MmlNode} parent  The node whose core text is to be obtained
 * @return {string}         The text of the core MO of the given parent element
 */
public coreText(parent: MmlNode): string {
  if (!parent) {
    return '';
  }
  if (parent.isEmbellished) {
    return (parent.coreMO() as MmlMo).getText();
  }
  while ((((parent.isKind('mrow') || parent.isKind('TeXAtom') || parent.isKind('mstyle') ||
            parent.isKind('mphantom')) &amp;&amp; parent.childNodes.length === 1) ||
          parent.isKind('munderover')) &amp;&amp; parent.childNodes[0]) {
    parent = parent.childNodes[0] as MmlNode;
  }
  return (parent.isToken ? (parent as AbstractMmlTokenNode).getText() : '');
}

</t>
<t tx="ekr.20211016054411.843">/**
 * @override
 */
public hasSpacingAttributes() {
  return this.attributes.isSet('lspace') ||
    this.attributes.isSet('rspace');
}

/**
 * @return {boolean}  True is this mo is an accent in an munderover construction
 */
get isAccent(): boolean {
  let accent = false;
  const node = this.coreParent().parent;
  if (node) {
    const key = (node.isKind('mover') ?
                 ((node.childNodes[(node as MmlMover).over] as MmlNode).coreMO() ?
                  'accent' : '') :
                 node.isKind('munder') ?
                 ((node.childNodes[(node as MmlMunder).under] as MmlNode).coreMO() ?
                  'accentunder' : '') :
                 node.isKind('munderover') ?
                 (this === (node.childNodes[(node as MmlMunderover).over] as MmlNode).coreMO() ?
                  'accent' :
                  this === (node.childNodes[(node as MmlMunderover).under] as MmlNode).coreMO() ?
                  'accentunder' : '') :
                 '');
    if (key) {
      const value = node.attributes.getExplicit(key);
      accent = (value !== undefined ? accent : this.attributes.get('accent')) as boolean;
    }
  }
  return accent;
}

</t>
<t tx="ekr.20211016054411.844">/**
 * Produce the texClass based on the operator dictionary values
 *
 * @override
 */
public setTeXclass(prev: MmlNode): MmlNode {
  let {form, fence} = this.attributes.getList('form', 'fence') as {form: string, fence: string};
  if (this.getProperty('texClass') === undefined &amp;&amp;
      (this.attributes.isSet('lspace') || this.attributes.isSet('rspace'))) {
    return null;
  }
  if (fence &amp;&amp; this.texClass === TEXCLASS.REL) {
    if (form === 'prefix') {
      this.texClass = TEXCLASS.OPEN;
    }
    if (form === 'postfix') {
      this.texClass = TEXCLASS.CLOSE;
    }
  }
  return this.adjustTeXclass(prev);
}
</t>
<t tx="ekr.20211016054411.845">/**
 * Follow the TeXBook rules for adjusting the TeX class once its neighbors are known
 *
 * @param {MmlNode} prev  The node appearing before this one in the output
 * @return {MmlNode}      The last node displayed (this node)
 */
public adjustTeXclass(prev: MmlNode): MmlNode {
  let texClass = this.texClass;
  let prevClass = this.prevClass;
  if (texClass === TEXCLASS.NONE) {
    return prev;
  }
  if (prev) {
    if (prev.getProperty('autoOP') &amp;&amp; (texClass === TEXCLASS.BIN || texClass === TEXCLASS.REL)) {
      prevClass = prev.texClass = TEXCLASS.ORD;
    }
    prevClass = this.prevClass = (prev.texClass || TEXCLASS.ORD);
    this.prevLevel = this.attributes.getInherited('scriptlevel') as number;
  } else {
    prevClass = this.prevClass = TEXCLASS.NONE;
  }
  if (texClass === TEXCLASS.BIN &amp;&amp;
      (prevClass === TEXCLASS.NONE || prevClass === TEXCLASS.BIN || prevClass === TEXCLASS.OP ||
       prevClass === TEXCLASS.REL || prevClass === TEXCLASS.OPEN || prevClass === TEXCLASS.PUNCT)) {
    this.texClass = TEXCLASS.ORD;
  } else if (prevClass === TEXCLASS.BIN &amp;&amp;
             (texClass === TEXCLASS.REL || texClass === TEXCLASS.CLOSE || texClass === TEXCLASS.PUNCT)) {
    prev.texClass = this.prevClass = TEXCLASS.ORD;
  } else if (texClass === TEXCLASS.BIN) {
    //
    // Check if node is the last one in its container since the rule
    // above only takes effect if there is a node that follows.
    //
    let child: MmlNode = this;
    let parent = this.parent;
    while (parent &amp;&amp; parent.parent &amp;&amp; parent.isEmbellished &amp;&amp;
           (parent.childNodes.length === 1 ||
            (!parent.isKind('mrow') &amp;&amp; parent.core() === child))) {
      child = parent;
      parent = parent.parent;
    }
    if (parent.childNodes[parent.childNodes.length - 1] === child) {
      this.texClass = TEXCLASS.ORD;
    }
  }
  return this;
}

/**
 * Do the normal inheritance, then look up the attributes from the operator dictionary.
 * If there is no dictionary entry, get the TeX class from the Unicode range list.
 *
 * @override
 */
public setInheritedAttributes(attributes: AttributeList = {},
                              display: boolean = false, level: number = 0, prime: boolean = false) {
  super.setInheritedAttributes(attributes, display, level, prime);
  let mo = this.getText();
  this.checkOperatorTable(mo);
  this.checkPseudoScripts(mo);
  this.checkPrimes(mo);
  this.checkMathAccent(mo);
}

/**
 * Set the attributes from the operator table
 *
 * @param {string} mo   The test of the mo element
 */
protected checkOperatorTable(mo: string) {
  let [form1, form2, form3] = this.handleExplicitForm(this.getForms());
  this.attributes.setInherited('form', form1);
  let OPTABLE = (this.constructor as typeof MmlMo).OPTABLE;
  let def = OPTABLE[form1][mo] || OPTABLE[form2][mo] || OPTABLE[form3][mo];
  if (def) {
    if (this.getProperty('texClass') === undefined) {
      this.texClass = def[2];
    }
    for (const name of Object.keys(def[3] || {})) {
      this.attributes.setInherited(name, def[3][name]);
    }
    this.lspace = (def[0] + 1) / 18;
    this.rspace = (def[1] + 1) / 18;
  } else {
    let range = getRange(mo);
    if (range) {
      if (this.getProperty('texClass') === undefined) {
        this.texClass = range[2];
      }
      const spacing = (this.constructor as typeof MmlMo).MMLSPACING[range[2]];
      this.lspace = (spacing[0] + 1) / 18;
      this.rspace = (spacing[1] + 1) / 18;
    }
  }
}

</t>
<t tx="ekr.20211016054411.846">/**
 * @return {[string, string, string]}  The list of form attribute values in the
 *                                     order they should be tested, based on the
 *                                     position of the element in its parent.
 */
public getForms(): [string, string, string] {
  let core: MmlNode = this;
  let parent = this.parent;
  let Parent = this.Parent;
  while (Parent &amp;&amp; Parent.isEmbellished) {
    core = parent;
    parent = Parent.parent;
    Parent = Parent.Parent;
  }
  if (parent &amp;&amp; parent.isKind('mrow') &amp;&amp; (parent as MmlMrow).nonSpaceLength() !== 1) {
    if ((parent as MmlMrow).firstNonSpace() === core) {
      return ['prefix', 'infix', 'postfix'];
    }
    if ((parent as MmlMrow).lastNonSpace() === core) {
      return ['postfix', 'infix', 'prefix'];
    }
  }
  return ['infix', 'prefix', 'postfix'];
}

/**
 * @param {string[]} forms     The three forms in the default order they are to be tested
 * @return {string[]}          The forms in the new order, if there is an explicit form attribute
 */
protected handleExplicitForm(forms: string[]): string[] {
  if (this.attributes.isSet('form')) {
    const form = this.attributes.get('form') as string;
    forms = [form].concat(forms.filter(name =&gt; (name !== form)));
  }
  return forms;
}

/**
 * Mark the mo as a pseudoscript if it is one.  True means it is,
 *   false means it is a pseudo-script character, but in an msup (so needs a variant form)
 *
 * @param {string} mo   The test of the mo element
 */
protected checkPseudoScripts(mo: string) {
  const PSEUDOSCRIPTS = (this.constructor as typeof MmlMo).pseudoScripts;
  if (!mo.match(PSEUDOSCRIPTS)) return;
  const parent = this.coreParent().Parent;
  const isPseudo = !parent || !(parent.isKind('msubsup') &amp;&amp; !parent.isKind('msub'));
  this.setProperty('pseudoscript', isPseudo);
  if (isPseudo) {
    this.attributes.setInherited('lspace', 0);
    this.attributes.setInherited('rspace', 0);
  }
}

/**
 * Determine whether the mo consists of primes, and remap them if so.
 *
 * @param {string} mo   The test of the mo element
 */
protected checkPrimes(mo: string) {
  const PRIMES = (this.constructor as typeof MmlMo).primes;
  if (!mo.match(PRIMES)) return;
  const REMAP = (this.constructor as typeof MmlMo).remapPrimes;
  const primes = unicodeString(unicodeChars(mo).map(c =&gt; REMAP[c]));
  this.setProperty('primes', primes);
}

/**
 * Determine whether the mo is a mathaccent character
 *
 * @param {string} mo   The test of the mo element
 */
protected checkMathAccent(mo: string) {
  const parent = this.Parent;
  if (this.getProperty('mathaccent') !== undefined || !parent || !parent.isKind('munderover')) return;
  const base = parent.childNodes[0] as MmlNode;
  if (base.isEmbellished &amp;&amp; base.coreMO() === this) return;
  const MATHACCENT = (this.constructor as typeof MmlMo).mathaccents;
  if (mo.match(MATHACCENT)) {
    this.setProperty('mathaccent', true);
  }
}

</t>
<t tx="ekr.20211016054411.847">


/**
 * @fileoverview  Implements the MmlMpadded node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlLayoutNode} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMpadded node class (subclass of AbstractMmlLayoutNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.848">export class MmlMpadded extends AbstractMmlLayoutNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlLayoutNode.defaults,
    width: '',
    height: '',
    depth: '',
    lspace: 0,
    voffset: 0
  };

  /**
   * @override
   */
  public get kind() {
    return 'mpadded';
  }

}
</t>
<t tx="ekr.20211016054411.849">


/**
 * @fileoverview  Implements the MmlMphantom node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlLayoutNode, TEXCLASS} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMphantom node class (subclass of AbstractMmlLayoutNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.85">
import './lib/cases.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.850">export class MmlMphantom extends AbstractMmlLayoutNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlLayoutNode.defaults
  };

  /**
   * TeX class is ORD
   */
  protected texclass = TEXCLASS.ORD;

  /**
   * @override
   */
  public get kind() {
    return 'mphantom';
  }

}
</t>
<t tx="ekr.20211016054411.851">


/**
 * @fileoverview  Implements the MmlMroot node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {MmlNode, AbstractMmlNode, AttributeList, TEXCLASS} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMroot node class (subclass of AbstractMmlNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.852">export class MmlMroot extends AbstractMmlNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlNode.defaults
  };

  /**
   * TeX class is ORD
   */
  protected texclass = TEXCLASS.ORD;

  /**
   * @override
   */
  public get kind() {
    return 'mroot';
  }

  /**
   * &lt;mroot&gt; requires two children
   * @override
   */
  public get arity() {
    return 2;
  }

  /**
   * Set the TeX class for the content of the root and the root separately.
   * Return ourself as the previous item.
   *
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.853">public setTeXclass(prev: MmlNode) {
  this.getPrevClass(prev);
  this.childNodes[0].setTeXclass(null);
  this.childNodes[1].setTeXclass(null);
  return this;
}

/**
 * Set the children display/level/prime for the base and root.
 *
 * @override
 */
protected setChildInheritedAttributes(attributes: AttributeList, display: boolean, level: number, prime: boolean) {
  this.childNodes[0].setInheritedAttributes(attributes, display, level, true);
  this.childNodes[1].setInheritedAttributes(attributes, false, level + 2, prime);
}

</t>
<t tx="ekr.20211016054411.854">


/**
 * @fileoverview  Implements the MmlMrow node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {MmlNode, AbstractMmlNode, TEXCLASS} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMrow node class (subclass of AbstractMmlNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.855">export class MmlMrow extends AbstractMmlNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlNode.defaults
  };

  /**
   * The index of the core child, when acting as an embellish mrow
   */
  protected _core: number = null;

  /**
   * @override
   */
  public get kind() {
    return 'mrow';
  }

  /**
   * An mrow is space-like if all its children are.
   *
   * @override
   */
  public get isSpacelike() {
    for (const child of this.childNodes) {
      if (!child.isSpacelike) {
        return false;
      }
    }
    return true;
  }

  /**
   * An mrow is embellished if it contains one embellished operator
   * and any number of space-like nodes
   *
   * @override
   */
  public get isEmbellished() {
    let embellished = false;
    let i = 0;
    for (const child of this.childNodes) {
      if (child) {
        if (child.isEmbellished) {
          if (embellished) {
            return false;
          }
          embellished = true;
          this._core = i;
        } else if (!child.isSpacelike) {
          return false;
        }
      }
      i++;
    }
    return embellished;
  }

  /**
   * @override
   */
  @others
}


/*****************************************************************/
</t>
<t tx="ekr.20211016054411.856">public core(): MmlNode {
  if (!this.isEmbellished || this._core == null) {
    return this;
  }
  return this.childNodes[this._core];
}

</t>
<t tx="ekr.20211016054411.857">/**
 * @override
 */
public coreMO(): MmlNode {
  if (!this.isEmbellished || this._core == null) {
    return this;
  }
  return this.childNodes[this._core].coreMO();
}

</t>
<t tx="ekr.20211016054411.858">/**
 * @return {number}  The number of non-spacelike child nodes
 */
public nonSpaceLength(): number {
  let n = 0;
  for (const child of this.childNodes) {
    if (child &amp;&amp; !child.isSpacelike) {
      n++;
    }
  }
  return n;
}

</t>
<t tx="ekr.20211016054411.859">/**
 * @return {MmlNode|null}  The first non-space-like child node
 */
public firstNonSpace(): MmlNode | null {
  for (const child of this.childNodes) {
    if (child &amp;&amp; !child.isSpacelike) {
      return child;
    }
  }
  return null;
}

</t>
<t tx="ekr.20211016054411.86">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'cases',             // the package to build
  '../../../../../js', // location of the compiled js files
  [                    // packages to link to (relative to Mathjax components)
    'components/src/input/tex-base/lib',
    'components/src/input/tex/extensions/ams/lib',
    'components/src/input/tex/extensions/empheq/lib',
    'components/src/core/lib'
  ],
  __dirname            // our directory
);

@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.860">/**
 * @return {MmlNode|null}  The last non-space-like child node
 */
public lastNonSpace(): MmlNode | null {
  let i = this.childNodes.length;
  while (--i &gt;= 0) {
    let child = this.childNodes[i];
    if (child &amp;&amp; !child.isSpacelike) {
      return child;
    }
  }
  return null;
}

</t>
<t tx="ekr.20211016054411.861">/**
 * @override
 */
public setTeXclass(prev: MmlNode) {
  if (this.getProperty('open') != null || this.getProperty('close') != null) {
    //
    // &lt;mrow&gt; looks like it came from \left...\right
    //   so treat as subexpression (TeX class INNER).
    // Use prev = null for the initial element in the
    //   delimiters, since there is nothing previous to
    //   it in what would be the TeX math list.
    //
    this.getPrevClass(prev);
    prev = null;
    for (const child of this.childNodes) {
      prev = child.setTeXclass(prev);
    }
    if (this.texClass == null) {
      this.texClass = TEXCLASS.INNER;
    }
  } else {
    //
    //  Normal &lt;mrow&gt;, so treat as though mrow is not there
    //
    for (const child of this.childNodes) {
      prev = child.setTeXclass(prev);
    }
    if (this.childNodes[0]) {
      this.updateTeXclass(this.childNodes[0]);
    }
  }
  return prev;
}

</t>
<t tx="ekr.20211016054411.862">/**
 *  Implements the MmlInferredMrow node class (subclass of MmlMrow)
 */

export class MmlInferredMrow extends MmlMrow {

  /**
   * @override
   */
  public static defaults: PropertyList = MmlMrow.defaults;

  /**
   * @return {string}  The inferred-mrow kind
   */
  public get kind(): string {
    return 'inferredMrow';
  }

  /**
   * @return {boolean}  This is inferred
   */
  public get isInferred(): boolean {
    return true;
  }

  /**
   * @override
   */
  public get notParent() {
    return true;
  }

  /**
   * Show the child nodes in brackets
   */
  @others
}
</t>
<t tx="ekr.20211016054411.863">public toString() {
  return '[' + this.childNodes.join(',') + ']';
}

</t>
<t tx="ekr.20211016054411.864">


/**
 * @fileoverview  Implements the MmlMs node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlTokenNode, TEXCLASS} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMs node class (subclass of AbstractMmlTokenNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.865">export class MmlMs extends AbstractMmlTokenNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlTokenNode.defaults,
    lquote: '"',
    rquote: '"'
  };

  /**
   * TeX class is ORD
   */
  protected texclass = TEXCLASS.ORD;

  /**
   * @override
   */
  public get kind() {
    return 'ms';
  }

}
</t>
<t tx="ekr.20211016054411.866">


/**
 * @fileoverview  Implements the MmlMspace node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {MmlNode, AbstractMmlTokenNode, TEXCLASS} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMspace node class (subclass of AbstractMmlTokenNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.867">export class MmlMspace extends AbstractMmlTokenNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlTokenNode.defaults,
    width:  '0em',
    height: '0ex',
    depth:  '0ex',
    linebreak: 'auto'
  };

  /**
   * TeX class is ORD
   */
  protected texclass = TEXCLASS.NONE;

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.868">public setTeXclass(prev: MmlNode): MmlNode {
  return prev;
}

/**
 * @override
 */
public get kind() {
  return 'mspace';
}

/**
 * mspace can't have children
 * @override
 */
public get arity() {
  return 0;
}

/**
 * @override
 */
public get isSpacelike() {
  return true;
}

/**
 * Only process linebreak if the space has no explicit dimensions (according to spec)
 *
 * @override
 */
public get hasNewline() {
  let attributes = this.attributes;
  return (attributes.getExplicit('width') == null &amp;&amp; attributes.getExplicit('height') == null &amp;&amp;
          attributes.getExplicit('depth') == null &amp;&amp; attributes.get('linebreak') === 'newline');
}

</t>
<t tx="ekr.20211016054411.869">


/**
 * @fileoverview  Implements the MmlMsqrt node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {MmlNode, AbstractMmlNode, AttributeList, TEXCLASS} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMsqrt node class (subclass of AbstractMmlNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.87"></t>
<t tx="ekr.20211016054411.870">export class MmlMsqrt extends AbstractMmlNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlNode.defaults
  };

  /**
   * TeX class is ORD
   */
  protected texclass = TEXCLASS.ORD;

  /**
   * @override
   */
  public get kind() {
    return 'msqrt';
  }

  /**
   * &lt;msqrt&gt; has an inferred mrow
   * @override
   */
  public get arity() {
    return -1;
  }

  /**
   * &lt;msqrt&gt; can contain line breaks
   * @override
   */
  public get linebreakContainer() {
    return true;
  }

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.871">public setTeXclass(prev: MmlNode) {
  this.getPrevClass(prev);
  this.childNodes[0].setTeXclass(null);
  return this;
}

/**
 * The contents of sqrt are in TeX prime style.
 *
 * @override
 */
protected setChildInheritedAttributes(attributes: AttributeList, display: boolean, level: number, _prime: boolean) {
  this.childNodes[0].setInheritedAttributes(attributes, display, level, true);
}

</t>
<t tx="ekr.20211016054411.872">


/**
 * @fileoverview  Implements the MmlMstyle node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlLayoutNode, AttributeList} from '../MmlNode.js';
import {INHERIT} from '../Attributes.js';

/*****************************************************************/
/**
 *  Implements the MmlMstyle node class (subclass of AbstractMmlLayoutNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.873">export class MmlMstyle extends AbstractMmlLayoutNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlLayoutNode.defaults,
    scriptlevel: INHERIT,
    displaystyle: INHERIT,
    scriptsizemultiplier: 1 / Math.sqrt(2),
    scriptminsize: '8px',  // should be 8pt, but that is too large
    mathbackground: INHERIT,
    mathcolor: INHERIT,
    dir: INHERIT,
    infixlinebreakstyle: 'before'
  };

  /**
   * @override
   */
  public get kind() {
    return 'mstyle';
  }

  /**
   * @override
   */
  public get notParent() {
    return this.childNodes[0] &amp;&amp; this.childNodes[0].childNodes.length === 1;
  }

  /**
   * Handle scriptlevel changes, and add mstyle attributes to the ones being inherited.
   *
   * @override
   */
  protected setChildInheritedAttributes(attributes: AttributeList, display: boolean, level: number, prime: boolean) {
    let scriptlevel = this.attributes.getExplicit('scriptlevel');
    if (scriptlevel != null) {
      scriptlevel = scriptlevel.toString();
      if (scriptlevel.match(/^\s*[-+]/)) {
        level += parseInt(scriptlevel);
      } else {
        level = parseInt(scriptlevel);
      }
      prime = false;  // style change resets tex prime style
    }
    let displaystyle = this.attributes.getExplicit('displaystyle') as boolean;
    if (displaystyle != null) {
      display = (displaystyle === true);
      prime = false;  // style change resets tex prime style
    }
    const cramped = this.attributes.getExplicit('data-cramped') as boolean;  // manual control of tex prime style
    if (cramped != null) {
      prime = cramped;
    }
    attributes = this.addInheritedAttributes(attributes, this.attributes.getAllAttributes());
    this.childNodes[0].setInheritedAttributes(attributes, display, level, prime);
  }

}
</t>
<t tx="ekr.20211016054411.874">


/**
 * @fileoverview  Implements the MmlMsubsup, MmlMsub, and MmlMsup nodes
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlBaseNode, AttributeList} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMsubsup node class (subclass of AbstractMmlBaseNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.875">export class MmlMsubsup extends AbstractMmlBaseNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlBaseNode.defaults,
    subscriptshift: '',
    superscriptshift: ''
  };

  /**
   * @override
   */
  public get kind() {
    return 'msubsup';
  }

  /**
   * &lt;msubsup&gt; requires three children
   * @override
   */
  public get arity() {
    return 3;
  }

  /**
   * @return {number}  The position of the base element
   */
  public get base(): number {
    return 0;
  }

  /**
   * @return {number}  The position of the subscript (overridden in msup below)
   */
  public get sub(): number {
    return 1;
  }

  /**
   * @return {number}  The position of the superscript (overridden in msup below)
   */
  public get sup(): number {
    return 2;
  }

  /**
   * Super- and subscripts are not in displaymode, have scriptlevel increased, and prime style in subscripts.
   *
   * @override
   */
  protected setChildInheritedAttributes(attributes: AttributeList, display: boolean, level: number, prime: boolean) {
    let nodes = this.childNodes;
    nodes[0].setInheritedAttributes(attributes, display, level, prime);
    nodes[1].setInheritedAttributes(attributes, false, level + 1, prime || this.sub === 1);
    if (!nodes[2]) {
      return;
    }
    nodes[2].setInheritedAttributes(attributes, false, level + 1, prime || this.sub === 2);
  }

}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.876">/**
 *  Implements the MmlMsub node class (subclass of MmlMsubsup)
 */

export class MmlMsub extends MmlMsubsup {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...MmlMsubsup.defaults
  };

  /**
   * @override
   */
  public get kind() {
    return 'msub';
  }

  /**
   * &lt;msub&gt; only gets two children
   * @override
   */
  public get arity() {
    return 2;
  }

}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.877">/**
 *  Implements the MmlMsup node class (subclass of MmlMsubsup)
 */

export class MmlMsup extends MmlMsubsup {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...MmlMsubsup.defaults
  };

  /**
   * @override
   */
  public get kind() {
    return 'msup';
  }

  /**
   * &lt;msup&gt; only gets two children
   * @override
   */
  get arity() {
    return 2;
  }

  /**
   * child 1 is superscript
   * @override
   */
  get sup() {
    return 1;
  }

  /**
   * child 2 is null (no subscript)
   * @override
   */
  get sub() {
    return 2;
  }

}

</t>
<t tx="ekr.20211016054411.878">


/**
 * @fileoverview  Implements the MmlMtable node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {MmlNode, AbstractMmlNode, AttributeList, TEXCLASS, indentAttributes} from '../MmlNode.js';
import {split} from '../../../util/string.js';

/*****************************************************************/
/**
 *  Implements the MmlMtable node class (subclass of AbstractMmlNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.879">export class MmlMtable extends AbstractMmlNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlNode.defaults,
    align: 'axis',
    rowalign: 'baseline',
    columnalign: 'center',
    groupalign: '{left}',
    alignmentscope: true,
    columnwidth: 'auto',
    width: 'auto',
    rowspacing: '1ex',
    columnspacing: '.8em',
    rowlines: 'none',
    columnlines: 'none',
    frame: 'none',
    framespacing: '0.4em 0.5ex',
    equalrows: false,
    equalcolumns: false,
    displaystyle: false,
    side: 'right',
    minlabelspacing: '0.8em'
  };

  /**
   * Extra properties for this node
   */
  public properties = {
    useHeight: true
  };

  /**
   * TeX class is ORD
   */
  protected texclass = TEXCLASS.ORD;

  /**
   * @override
   */
  public get kind() {
    return 'mtable';
  }

  /**
   * Linebreaks are allowed in tables
   * @override
   */
  public get linebreakContainer() {
    return true;
  }

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.88">
import './lib/centernot.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.880">public setInheritedAttributes(attributes: AttributeList, display: boolean, level: number, prime: boolean) {
  //
  // Force inheritance of shift and align values (since they are needed to output tables with labels)
  //   but make sure they are not given explicitly on the &lt;mtable&gt; tag.
  //
  for (const name of indentAttributes) {
    if (attributes[name]) {
      this.attributes.setInherited(name, attributes[name][1]);
    }
    if (this.attributes.getExplicit(name) !== undefined) {
      delete (this.attributes.getAllAttributes())[name];
    }
  }
  super.setInheritedAttributes(attributes, display, level, prime);
}

/**
 * Make sure all children are mtr or mlabeledtr nodes
 * Inherit the table attributes, and set the display attribute based on the table's displaystyle attribute
 * Reset the prime value to false
 *
 * @override
 */
protected setChildInheritedAttributes(attributes: AttributeList, display: boolean, level: number, _prime: boolean) {
  for (const child of this.childNodes) {
    if (!child.isKind('mtr')) {
      this.replaceChild(this.factory.create('mtr'), child)
        .appendChild(child);
    }
  }
  level = this.getProperty('scriptlevel') as number || level;
  display = !!(this.attributes.getExplicit('displaystyle') || this.attributes.getDefault('displaystyle'));
  attributes = this.addInheritedAttributes(attributes, {
    columnalign: this.attributes.get('columnalign'),
    rowalign: 'center'
  });
  const cramped = this.attributes.getExplicit('data-cramped') as boolean;
  const ralign = split(this.attributes.get('rowalign') as string);
  for (const child of this.childNodes) {
    attributes.rowalign[1] = ralign.shift() || attributes.rowalign[1];
    child.setInheritedAttributes(attributes, display, level, !!cramped);
  }
}

/**
 * Check that children are mtr or mlabeledtr
 *
 * @override
 */
protected verifyChildren(options: PropertyList) {
  if (!options['fixMtables']) {
    for (const child of this.childNodes) {
      if (!child.isKind('mtr')) {
        this.mError('Children of ' + this.kind + ' must be mtr or mlabeledtr', options);
      }
    }
  }
  super.verifyChildren(options);
}

</t>
<t tx="ekr.20211016054411.881">/**
 * @override
 */
public setTeXclass(prev: MmlNode) {
  this.getPrevClass(prev);
  for (const child of this.childNodes) {
    child.setTeXclass(null);
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.882">


/**
 * @fileoverview  Implements the MmlMtd node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlBaseNode, MmlNode} from '../MmlNode.js';
import {INHERIT} from '../Attributes.js';

/*****************************************************************/
/**
 *  Implements the MmlMtd node class (subclass of AbstractMmlBaseNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.883">export class MmlMtd extends AbstractMmlBaseNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlBaseNode.defaults,
    rowspan: 1,
    columnspan: 1,
    rowalign: INHERIT,
    columnalign: INHERIT,
    groupalign: INHERIT
  };

  /**
   * @override
   */
  public get kind() {
    return 'mtd';
  }

  /**
   * &lt;mtd&gt; has an inferred mrow
   * @overrride
   */
  public get arity() {
    return -1;
  }

  /**
   * &lt;mtd&gt; can contain line breaks
   * @override
   */
  public get linebreakContainer() {
    return true;
  }

  /**
   * Check that parent is mtr
   *
   * @override
   */
  protected verifyChildren(options: PropertyList) {
    if (this.parent &amp;&amp; !this.parent.isKind('mtr')) {
      this.mError(this.kind + ' can only be a child of an mtr or mlabeledtr', options, true);
      return;
    }
    super.verifyChildren(options);
  }

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.884">public setTeXclass(prev: MmlNode) {
  this.getPrevClass(prev);
  this.childNodes[0].setTeXclass(null);
  return this;
}

</t>
<t tx="ekr.20211016054411.885">


/**
 * @fileoverview  Implements the MmlMtext node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlTokenNode, TEXCLASS} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMtext node class (subclass of AbstractMmlTokenNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.886">export class MmlMtext extends AbstractMmlTokenNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlTokenNode.defaults
  };

  /**
   * TeX class is ORD
   */
  protected texclass = TEXCLASS.ORD;

  /**
   * @override
   */
  public get kind() {
    return 'mtext';
  }

  /**
   * &lt;mtext&gt; is always space-like according to the spec
   * @override
   */
  public get isSpacelike() {
    return true;
  }

}
</t>
<t tx="ekr.20211016054411.887">


/**
 * @fileoverview  Implements the MmlMtr and MmlMlabeledtr nodes
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {MmlNode, AbstractMmlNode, AttributeList} from '../MmlNode.js';
import {INHERIT} from '../Attributes.js';
import {split} from '../../../util/string.js';

/*****************************************************************/
/**
 *  Implements the MmlMtr node class (subclass of AbstractMmlNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.888">export class MmlMtr extends AbstractMmlNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlNode.defaults,
    rowalign: INHERIT,
    columnalign: INHERIT,
    groupalign: INHERIT
  };

  /**
   * @override
   */
  public get kind() {
    return 'mtr';
  }

  /**
   * &lt;mtr&gt; can contain linebreaks
   * @override
   */
  public get linebreakContainer() {
    return true;
  }

  /**
   * Inherit the mtr attributes
   *
   * @override
   */
  protected setChildInheritedAttributes(attributes: AttributeList, display: boolean, level: number, prime: boolean) {
    for (const child of this.childNodes) {
      if (!child.isKind('mtd')) {
        this.replaceChild(this.factory.create('mtd'), child)
            .appendChild(child);
      }
    }
    const calign = split(this.attributes.get('columnalign') as string);
    if (this.arity === 1) {
      calign.unshift(this.parent.attributes.get('side') as string);
    }
    attributes = this.addInheritedAttributes(attributes, {
      rowalign: this.attributes.get('rowalign'),
      columnalign: 'center'
    });
    for (const child of this.childNodes) {
      attributes.columnalign[1] = calign.shift() || attributes.columnalign[1];
      child.setInheritedAttributes(attributes, display, level, prime);
    }
  }

  /**
   * Check that parent is mtable and children are mtd
   *
   * @override
   */
  protected verifyChildren(options: PropertyList) {
    if (this.parent &amp;&amp; !this.parent.isKind('mtable')) {
      this.mError(this.kind + ' can only be a child of an mtable', options, true);
      return;
    }
    if (!options['fixMtables']) {
      for (const child of this.childNodes) {
        if (!child.isKind('mtd')) {
          let mtr = this.replaceChild(this.factory.create('mtr'), child) as MmlNode;
          mtr.mError('Children of ' + this.kind + ' must be mtd', options, true);
        }
      }
    }
    super.verifyChildren(options);
  }

  /**
   * @override
   */
  @others
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.889">public setTeXclass(prev: MmlNode) {
  this.getPrevClass(prev);
  for (const child of this.childNodes) {
    child.setTeXclass(null);
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.89">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/centernot',   // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.890">/**
 *  Implements the MmlMlabeledtr node class (subclass of MmlMtr)
 */

export class MmlMlabeledtr extends MmlMtr {

  /**
   * @override
   */
  public get kind() {
    return 'mlabeledtr';
  }

  /**
   * &lt;mlabeledtr&gt; requires at least one child (the label)
   * @override
   */
  get arity() {
    return 1;
  }

}
</t>
<t tx="ekr.20211016054411.891">


/**
 * @fileoverview  Implements the MmlMunderover node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlBaseNode, AttributeList} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMunderover node class (subclass of AbstractMmlNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.892">export class MmlMunderover extends AbstractMmlBaseNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlBaseNode.defaults,
    accent: false,
    accentunder: false,
    align: 'center'
  };

  /**
   * The names of attributes controling accents for each child node (reversed for mover below)
   */
  protected static ACCENTS = ['', 'accentunder', 'accent'];

  /**
   * @override
   */
  public get kind() {
    return 'munderover';
  }

  /**
   * &lt;munderover&gt; requires three children
   * @override
   */
  public get arity() {
    return 3;
  }

  /**
   * @return {number}  The base is child 0
   */
  public get base(): number {
    return 0;
  }

  /**
   * @return {number}  Child 1 goes under (overridden by mover below)
   */
  public get under(): number {
    return 1;
  }

  /**
   * @return {number}  Child 2 goes over (overridden by mover below)
   */
  public get over(): number {
    return 2;
  }

  /**
   * &lt;munderover&gt; can contain line breaks
   * @override
   */
  public get linebreakContainer() {
    return true;
  }

  /**
   * Base is in prime style if there is an over node
   * Force scriptlevel change if converted to sub-sup by movablelimits on the base in non-display mode
   * Adjust displaystyle, scriptlevel, and primestyle for the under/over nodes and check if accent
   *   values have changed due to the inheritance (e.g., settings in operator dictionary)
   *
   * @override
   */
  protected setChildInheritedAttributes(attributes: AttributeList, display: boolean, level: number, prime: boolean) {
    let nodes = this.childNodes;
    nodes[0].setInheritedAttributes(attributes, display, level, prime || !!nodes[this.over]);
    let force = !!(!display &amp;&amp; nodes[0].coreMO().attributes.get('movablelimits'));
    let ACCENTS = (this.constructor as typeof MmlMunderover).ACCENTS;
    nodes[1].setInheritedAttributes(attributes, false,
                                    this.getScriptlevel(ACCENTS[1], force, level),
                                    prime || this.under === 1);
    this.setInheritedAccent(1, ACCENTS[1], display, level, prime, force);
    if (!nodes[2]) {
      return;
    }
    nodes[2].setInheritedAttributes(attributes, false,
                                    this.getScriptlevel(ACCENTS[2], force, level),
                                    prime || this.under === 2);
    this.setInheritedAccent(2, ACCENTS[2], display, level, prime, force);
  }

  /**
   * @param {string} accent  The name of the accent attribute to check ("accent" or "accentunder")
   * @param {boolean} force  True if the scriptlevel change is to be forced to occur
   * @param {number} level   The current scriptlevel
   * @return {number}        The new script level based on the accent attribute
   */
  protected getScriptlevel(accent: string, force: boolean, level: number): number {
    if (force || !this.attributes.get(accent)) {
      level++;
    }
    return level;
  }

  /**
   * Check if an under or over accent should cause the appropriate accent attribute to be inherited
   *   on the munderover node, and if it is not the default, re-inherit the scriptlevel, since that
   *   is affected by the accent attribute
   *
   * @param {number} n         The index of the node to check
   * @param {string} accent    The name of the accent attribute to check ("accent" or "accentunder")
   * @param {boolean} display  The displaystyle
   * @param {number} level     The scriptlevel
   * @param {number} prime     The TeX prime style
   * @param {boolean} force    Whether to force the scriptlevel change
   */
  protected setInheritedAccent(n: number, accent: string, display: boolean, level: number,
                               prime: boolean, force: boolean) {
    let node = this.childNodes[n];
    if (this.attributes.getExplicit(accent) == null &amp;&amp; node.isEmbellished) {
      let value = node.coreMO().attributes.get('accent');
      this.attributes.setInherited(accent, value);
      if (value !== this.attributes.getDefault(accent)) {
        node.setInheritedAttributes({}, display, this.getScriptlevel(accent, force, level), prime);
      }
    }
  }

}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.893">/**
 *  Implements the MmlMunder node class (subclass of MmlMunderover)
 */

export class MmlMunder extends MmlMunderover {

  /**
   * @override
   */
  public static defaults: PropertyList = {
      ...MmlMunderover.defaults
  };

  /**
   * @override
   */
  public get kind() {
    return 'munder';
  }

  /**
   * &lt;munder&gt; has only two children
   * @override
   */
  public get arity() {
    return 2;
  }

}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.894">/**
 *  Implements the MmlMover node class (subclass of MmlMunderover)
 */

export class MmlMover extends MmlMunderover {

  /**
   * @override
   */
  public static defaults: PropertyList = {
      ...MmlMunderover.defaults
  };
  /**
   *  The first child is the over accent (second never occurs)
   */
  protected static ACCENTS = ['', 'accent', 'accentunder'];

  /**
   * @override
   */
  public get kind() {
    return 'mover';
  }

  /**
   * &lt;mover&gt; has only two children
   * @override
   */
  get arity() {
    return 2;
  }

  /**
   * Child 1 is the over node
   * @override
   */
  public get over() {
    return 1;
  }

  /**
   * Child 2 is the null (the under node)
   * @override
   */
  public get under() {
    return 2;
  }

}
</t>
<t tx="ekr.20211016054411.895">


/**
 * @fileoverview  Implements the MmlSemantics, MmlAnnotation, and MmlAnnotationXML nodes
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlNode, AbstractMmlBaseNode} from '../MmlNode.js';

/*****************************************************************/
/**
 *  Implements the MmlMroot node class (subclass of AbstractMmlBaseNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.896">export class MmlSemantics extends AbstractMmlBaseNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlBaseNode.defaults,
    definitionUrl: null,
    encoding: null
  };

  /**
   * @override
   */
  public get kind() {
    return 'semantics';
  }

  /**
   * &lt;semantics&gt; requires at least one node
   * @override
   */
  public get arity() {
    return 1;
  }

  /**
   * Ignore &lt;semantics&gt; when looking for partent node
   * @override
   */
  public get notParent() {
    return true;
  }

}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.897">/**
 *  Implements the MmlMroot node class (subclass of AbstractMmlNode)
 */

export class MmlAnnotationXML extends AbstractMmlNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlNode.defaults,
    definitionUrl: null,
    encoding: null,
    cd: 'mathmlkeys',
    name: '',
    src: null
  };

  /**
   * @override
   */
  public get kind() {
    return 'annotation-xml';
  }

  /**
   * Children are XMLNodes, so don't bother inheritting to them
   * @override
   */
  protected setChildInheritedAttributes() {}

}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.898">/**
 *  Implements the MmlMroot node class (subclass of MmlAnnotationXML)
 */

export class MmlAnnotation extends MmlAnnotationXML {

  /**
   * @override
   */
  public static defaults = {
    ...MmlAnnotationXML.defaults
  };

  /**
   * Extra properties for this node
   */
  public properties = {
    isChars: true
  };

  /**
   * @override
   */
  public get kind() {
    return 'annotation';
  }

}
</t>
<t tx="ekr.20211016054411.899">


/**
 * @fileoverview  Implements the TeXAtom node
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {MmlFactory} from '../MmlFactory.js';
import {PropertyList} from '../../Tree/Node.js';
import {AbstractMmlBaseNode, MmlNode, TEXCLASS} from '../MmlNode.js';
import {MmlMo} from './mo.js';

/*****************************************************************/
/**
 *  Implements the TeXAtom node class (subclass of AbstractMmlBaseNode)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.9">/**
 * Add babel-loader to appropriate directories
 *
 * @param {string} dir    The directory for the component being built
 * @return {any}          The modules specification for the webpack configuration
 */
const MODULE = function (dir) {
  //
  // Only need to transpile our directory and components directory
  //
  const dirRE = (dir.substr(0, __dirname.length) === __dirname ? quoteRE(__dirname) :
                 '(?:' + quoteRE(__dirname) + '|' + quoteRE(dir) + ')');
  return {
    // NOTE: for babel transpilation
    rules: [{
      test: new RegExp(dirRE + quoteRE(path.sep) + '.*\\.js$'),
      exclude: new RegExp(quoteRE(path.join(path.dirname(__dirname), 'es5') + path.sep)),
      use: {
        loader: 'babel-loader',
        options: {
          presets: ['@babel/env']
        }
      }
    }]
  }
};

</t>
<t tx="ekr.20211016054411.90"></t>
<t tx="ekr.20211016054411.900">export class TeXAtom extends AbstractMmlBaseNode {

  /**
   * @override
   */
  public static defaults: PropertyList = {
    ...AbstractMmlBaseNode.defaults
  };

  /**
   * TeX class is ORD
   */
  protected texclass = TEXCLASS.ORD;

  /**
   * @override
   */
  public get kind() {
    return 'TeXAtom';
  }

  /**
   * Inferred mrow with any number of children
   * @override
   */
  public get arity() {
    return -1;
  }

  /**
   * This element is not considered a MathML container
   * @override
   */
  public get notParent() {
    return this.childNodes[0] &amp;&amp; this.childNodes[0].childNodes.length === 1;
  }

  /**
   * @override
   */
  @others
}
/**
 *  Use the method from the MmlMo class
 */
TeXAtom.prototype.adjustTeXclass = MmlMo.prototype.adjustTeXclass;
</t>
<t tx="ekr.20211016054411.901">constructor(factory: MmlFactory, attributes: PropertyList, children: MmlNode[]) {
  super(factory, attributes, children);
  this.setProperty('texClass', this.texClass);   // needed for serialization to include the texClass
}

</t>
<t tx="ekr.20211016054411.902">/**
 * @override
 */
public setTeXclass(prev: MmlNode) {
  this.childNodes[0].setTeXclass(null);
  return this.adjustTeXclass(prev);
}

</t>
<t tx="ekr.20211016054411.903">/**
 * (Replaced below by the version from the MmlMo node)
 *
 * @override
 */
public adjustTeXclass(prev: MmlNode) {
  return prev;
}

</t>
<t tx="ekr.20211016054411.904"></t>
<t tx="ekr.20211016054411.905">


/**
 * @fileoverview  The generic Factory class for creating arbitrary objects
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

/*****************************************************************/
/**
 * The Factory node interfaces (one for the node instance, one for the node class)
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.906">export interface FactoryNode {
  readonly kind: string;
}

</t>
<t tx="ekr.20211016054411.907">/**
 * @template N  The Node type being created by the factory
 */
export interface FactoryNodeClass&lt;N extends FactoryNode&gt; {
  /**
   * @param {Factory&lt;N, FactoryNodeClass&lt;N&gt;&gt;} factory  The factory for creating more nodes
   * @param {any[]} args  Any additional arguments needed by the node
   * @return {N}  The newly created node
   */
  new(factory: Factory&lt;N, FactoryNodeClass&lt;N&gt;&gt;, ...args: any[]): N;
}

/*****************************************************************/
</t>
<t tx="ekr.20211016054411.908">/**
 * The Factory interface
 *
 * Factory&lt;N, C&gt; takes a node type N and a node class C, which give
 * the interfaces for the node instance and the node constructors. We
 * need both for two reasons: first, you can't use typeof N to get C,
 * since N is a type not an object, and if N has static members, we
 * may want to access them from the results of getNodeClass(kind)
 * (this is done in MmlNodes, for example).
 *
 * @template N  The node type created by the factory
 * @template C  The class of the node being constructed (for access to static properties)
 */
export interface Factory&lt;N extends FactoryNode, C extends FactoryNodeClass&lt;N&gt;&gt; {
  /**
   * @param {string} kind  The kind of node to create
   * @return {N}  The newly created node of the given kind
   */
  create(kind: string): N;

  /**
   * Defines a class for a given node kind
   *
   * @param {string} kind  The kind whose class is being defined
   * @param {C} nodeClass  The class for the given kind
   */
  setNodeClass(kind: string, nodeClass: C): void;

  /**
   * @param {string} kind  The kind of node whose class is to be returned
   * @return {C}  The class object for the given kind
   */
  getNodeClass(kind: string): C;

  /**
   * @param {string} kind  The kind whose definition is to be deleted
   */
  deleteNodeClass(kind: string): void;

  /**
   * @param {N} node  The node to test if it is of a given kind
   * @param {string} kind  The kind to test for
   * @return {boolean}  True if the node is of the given kind, false otherwise
   */
  nodeIsKind(node: N, kind: string): boolean;

  /**
   * @return {string[]}  The names of all the available kinds of nodes
   */
  getKinds(): string[];
}


/*****************************************************************/
</t>
<t tx="ekr.20211016054411.909">/**
 * The generic AbstractFactoryClass interface
 *   (needed for access to defaultNodes via the constructor)
 *
 * @template N  The node type created by the factory
 * @template C  The class of the node being constructed (for access to static properties)
 */
interface AbstractFactoryClass&lt;N extends FactoryNode, C extends FactoryNodeClass&lt;N&gt;&gt; extends Function {
  defaultNodes: {[kind: string]: C};
}


/*****************************************************************/
/**
 * The generic AbstractFactory class
 *
 * @template N  The node type created by the factory
 * @template C  The class of the node being constructed (for access to static properties)
 */
export abstract class AbstractFactory&lt;N extends FactoryNode, C extends FactoryNodeClass&lt;N&gt;&gt; implements Factory&lt;N, C&gt; {

  /**
   * The default collection of objects to use for the node map
   */
  public static defaultNodes = {};

  /**
   * The default kind
   */
  public defaultKind = 'unknown';

  /**
   * The map of node kinds to node classes
   */
  protected nodeMap: Map&lt;string, C&gt; = new Map();

  /**
   * An object containing functions for creating the various node kinds
   */
  protected node: {[kind: string]: (...args: any[]) =&gt; N} = {};

  
</t>
<t tx="ekr.20211016054411.91">
import './lib/color.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.910">/**
   * @override
   */
constructor(nodes: {[kind: string]: C} = null) {
  if (nodes === null) {
    nodes = (this.constructor as AbstractFactoryClass&lt;N, C&gt;).defaultNodes;
  }
  for (const kind of Object.keys(nodes)) {
    this.setNodeClass(kind, nodes[kind]);
  }
}

</t>
<t tx="ekr.20211016054411.911">/**
 * @override
 */
public create(kind: string, ...args: any[]) {
  return (this.node[kind] || this.node[this.defaultKind])(...args);
}

</t>
<t tx="ekr.20211016054411.912">/**
 * @override
 */
public setNodeClass(kind: string, nodeClass: C) {
  this.nodeMap.set(kind, nodeClass);
  let THIS = this;
  let KIND = this.nodeMap.get(kind);
  this.node[kind] = (...args: any[]) =&gt; {
    return new KIND(THIS, ...args);
  };
}
</t>
<t tx="ekr.20211016054411.913">/**
 * @override
 */
public getNodeClass(kind: string): C {
  return this.nodeMap.get(kind);
}

</t>
<t tx="ekr.20211016054411.914">/**
 * @override
 */
public deleteNodeClass(kind: string) {
  this.nodeMap.delete(kind);
  delete this.node[kind];
}

</t>
<t tx="ekr.20211016054411.915">/**
 * @override
 */
public nodeIsKind(node: N, kind: string) {
  return (node instanceof this.getNodeClass(kind));
}

</t>
<t tx="ekr.20211016054411.916">/**
 * @override
 */
  public getKinds() {
    return Array.from(this.nodeMap.keys());
  }

}
</t>
<t tx="ekr.20211016054411.917">


/**
 * @fileoverview Generic Node classes for node trees
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {NodeFactory} from './NodeFactory.js';

/**
 *  PropertyList and Property are for string data like
 *  attributes and other properties
 */
export type Property = string | number | boolean;
export type PropertyList = {[key: string]: Property};

/*********************************************************/
/**
 *  The generic Node interface
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.918">export interface Node {
  readonly kind: string;
  /**
   * The NodeFactory to use to create additional nodes, as needed
   */
  readonly factory: NodeFactory&lt;Node, NodeClass&gt;;
  parent: Node;
  childNodes: Node[];

  /**
   * @param {string} name     The name of the property to set
   * @param {Property} value  The value to which the property will be set
   */
  setProperty(name: string, value: Property): void;

  /**
   * @param {string} name  The name of the property to get
   * @return {Property}   The value of the named property
   */
  getProperty(name: string): Property;

  /**
   * @return {string[]}  An array of the names of every property currently defined
   */
  getPropertyNames(): string[];

  /**
   * @return {PropertyList}  The propery list containing all the properties of the node
   */
  getAllProperties(): PropertyList;

  /**
   * @param {string[]} names  The names of the properties to be removed
   */
  removeProperty(...names: string[]): void;


  /**
   * @param {string} kind  The type of node to test for
   * @return {boolean}     True when the node is of the given type
   */
  isKind(kind: string): boolean;

  /**
   * @param {Node[]} children  The child nodes to add to this node
   */
  setChildren(children: Node[]): void;

  /**
   * @param {Node} child  A node to add to this node's children
   * @return {Node}       The child node that was added
   */
  appendChild(child: Node): Node;

  /**
   * @param {Node} newChild  A child node to be inserted
   * @param {Node} oldChild  A child node to be replaced
   * @return {Node}          The old child node that was removed
   */
  replaceChild(newChild: Node, oldChild: Node): Node;

  /**
   * @param {Node} child  A child node whose index in childNodes is desired
   * @return {number}     The index of the child in childNodes, or null if not found
   */
  childIndex(child: Node): number;

  /**
   * Make a deep copy of the node (but with no parent).
   */
  copy(): Node;

  /**
   * @param {string} kind  The kind of nodes to be located in the tree
   * @return {Node[]}      An array of nodes that are children (at any depth) of the given kind
   */
  findNodes(kind: string): Node[];

  /**
   * @param {Function} func  A function to apply to each node in the tree rooted at this node
   * @param {any} data       Data to pass to the function (as state information)
   */
  walkTree(func: (node: Node, data?: any) =&gt; void, data?: any): void;
}

/*********************************************************/
</t>
<t tx="ekr.20211016054411.919">/**
 *  The generic Node class interface
 */

export interface NodeClass {
  /**
   * @param {NodeFactory} factory  The NodeFactory to use to create new nodes when needed
   * @param {PropertyList} properties  Any properties to be added to the node, if any
   * @param {Node[]} children  The initial child nodes, if any
   * @return {Node}  The newly created node
   */
  new (factory: NodeFactory&lt;Node, NodeClass&gt;, properties?: PropertyList, children?: Node[]): Node;
}

/*********************************************************/
/**
 *  The abstract Node class
 */

export abstract class AbstractNode implements Node {

  /**
   * The parent node for this one
   */
  public parent: Node = null;

  /**
   * The properties for this node
   */
  protected properties: PropertyList = {};

  /**
   * The children for this node
   */
  public childNodes: Node[] = [];

  
</t>
<t tx="ekr.20211016054411.92">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/color',       // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.920">/**
   * @param {NodeFactory} factory  The NodeFactory to use to create new nodes when needed
   * @param {PropertyList} properties  Any properties to be added to the node, if any
   * @param {Node[]} children  The initial child nodes, if any
   *
   * @constructor
   * @implements {Node}
   */
constructor(readonly factory: NodeFactory&lt;Node, NodeClass&gt;, properties: PropertyList = {}, children: Node[] = []) {
  for (const name of Object.keys(properties)) {
    this.setProperty(name, properties[name]);
  }
  if (children.length) {
    this.setChildren(children);
  }
}

/**
 * @override
 */
public get kind() {
  return 'unknown';
}

</t>
<t tx="ekr.20211016054411.921">/**
 * @override
 */
public setProperty(name: string, value: Property) {
  this.properties[name] = value;
}

</t>
<t tx="ekr.20211016054411.922">/**
 * @override
 */
public getProperty(name: string) {
  return this.properties[name];
}

</t>
<t tx="ekr.20211016054411.923">/**
 * @override
 */
public getPropertyNames() {
  return Object.keys(this.properties);
}

</t>
<t tx="ekr.20211016054411.924">/**
 * @override
 */
public getAllProperties() {
  return this.properties;
}

</t>
<t tx="ekr.20211016054411.925">/**
 * @override
 */
public removeProperty(...names: string[]) {
  for (const name of names) {
    delete this.properties[name];
  }
}


</t>
<t tx="ekr.20211016054411.926">/**
 * @override
 */
public isKind(kind: string): boolean {
  return this.factory.nodeIsKind(this, kind);
}


</t>
<t tx="ekr.20211016054411.927">/**
 * @override
 */
public setChildren(children: Node[]) {
  this.childNodes = [];
  for (let child of children) {
    this.appendChild(child);
  }
}

</t>
<t tx="ekr.20211016054411.928">/**
 * @override
 */
public appendChild(child: Node) {
  this.childNodes.push(child);
  child.parent = this;
  return child;
}

</t>
<t tx="ekr.20211016054411.929">/**
 * @override
 */
public replaceChild(newChild: Node, oldChild: Node) {
  let i = this.childIndex(oldChild);
  // If i === null should we error?  return null?  silently fail?
  if (i !== null) {
    this.childNodes[i] = newChild;
    newChild.parent = this;
  }
  return newChild;
}


</t>
<t tx="ekr.20211016054411.93"></t>
<t tx="ekr.20211016054411.930">/**
 * @override
 */
public childIndex(node: Node) {
  let i = this.childNodes.indexOf(node);
  return (i === -1 ? null : i);
}


</t>
<t tx="ekr.20211016054411.931">/**
 * @override
 */
public copy() {
  const node = (this as AbstractNode).factory.create(this.kind) as AbstractNode;
  node.properties = {...this.properties};
  for (const child of this.childNodes || []) {
    if (child) {
      node.appendChild(child.copy());
    }
  }
  return node;
}

</t>
<t tx="ekr.20211016054411.932">/**
 * @override
 */
public findNodes(kind: string) {
  let nodes: Node[] = [];
  this.walkTree((node: Node) =&gt; {
    if (node.isKind(kind)) {
      nodes.push(node);
    }
  });
  return nodes;
}


</t>
<t tx="ekr.20211016054411.933">/**
 * @override
 */
public walkTree(func: (node: Node, data?: any) =&gt; void, data?: any) {
  func(this, data);
  for (const child of this.childNodes) {
    if (child) {
      child.walkTree(func, data);
    }
  }
  return data;
}

</t>
<t tx="ekr.20211016054411.934">/**
 * Simple string version for debugging, just to get the structure.
 */
  public toString() {
    return this.kind + '(' + this.childNodes.join(',') + ')';
  }

}

/*********************************************************/
/**
 *  The abstract EmptyNode class
 */

export abstract class AbstractEmptyNode extends AbstractNode {
  /**
   *  We don't have children, so ignore these methods
   */

  
</t>
<t tx="ekr.20211016054411.935">/**
   * @override
   */
public setChildren(_children: Node[]) {
}

</t>
<t tx="ekr.20211016054411.936">/**
 * @override
 */
public appendChild(child: Node) {
  return child;
}

</t>
<t tx="ekr.20211016054411.937">/**
 * @override
 */
public replaceChild(_newChild: Node, oldChild: Node) {
  return oldChild;
}

</t>
<t tx="ekr.20211016054411.938">/**
 * @override
 */
public childIndex(_node: Node) {
  return null as number;
}

</t>
<t tx="ekr.20211016054411.939">/**
 * Don't step into children (there aren't any)
 *
 * @override
 */
public walkTree(func: (node: Node, data?: any) =&gt; void, data?: any) {
  func(this, data);
  return data;
}

</t>
<t tx="ekr.20211016054411.94">
import './lib/colortbl.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.940">/**
 * Simple string version for debugging, just to get the structure.
 */
  public toString() {
    return this.kind;
  }

}
</t>
<t tx="ekr.20211016054411.941">


/**
 * @fileoverview  The generic NodeFactory class for creating Node objects
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {Node, PropertyList} from './Node.js';
import {Factory, FactoryNodeClass, AbstractFactory} from './Factory.js';

/*****************************************************************/
/**
 * The NodeFactory interface
 *
 * @template N  The node type created by the factory
 * @template C  The class of the node being constructed (for access to static properties)
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.942">export interface NodeFactory&lt;N extends Node, C extends FactoryNodeClass&lt;N&gt;&gt; extends Factory&lt;N, C&gt; {
  /**
   * @param {string} kind  The kind of node to create
   * @param {PropertyList} properties  The list of initial properties for the node (if any)
   * @param {N[]} children  The array of initial child nodes (if any)
   * @return {N}  The newly created node of the given kind
   */
  create(kind: string, properties?: PropertyList, children?: N[]): N;
}

/*****************************************************************/
/**
 * The generic NodeFactory class
 *
 * @template N  The node type created by the factory
 * @template C  The class of the node being constructed (for access to static properties)
 */
export abstract class AbstractNodeFactory&lt;N extends Node, C extends FactoryNodeClass&lt;N&gt;&gt; extends AbstractFactory&lt;N, C&gt; {
  
</t>
<t tx="ekr.20211016054411.943">/**
   * @override
   */
  public create(kind: string, properties: PropertyList = {}, children: N[] = []) {
    return this.node[kind](properties, children);
  }

}
</t>
<t tx="ekr.20211016054411.944">


/**
 * @fileoverview  The generic visitor class for node trees
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {Node, NodeClass, AbstractNode} from './Node.js';
import {NodeFactory} from './NodeFactory.js';

/**
 * The type for the functions associated with each node class
 */
export type VisitorFunction = (visitor: NodeFactory&lt;Node, NodeClass&gt;, node: Node, ...args: any[]) =&gt; any;

/*****************************************************************/
/**
 *  Implements the Visitor interface
 */

@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.945">export interface Visitor {

  /**
   * Visit the tree rooted at the given node (passing along any needed parameters)
   *
   * @param {Node} tree   The node that is the root of the tree
   * @param {any[]} args  The arguments to pass to the visitNode functions
   * @return {any}        Whatever the visitNode function returns for the root tree node
   */
  visitTree(tree: Node, ...args: any[]): any;

  /**
   * Visit a node by calling the visitor function for the given type of node
   *  (passing along any needed parameters)
   *
   * @param {Node} node   The node to visit
   * @param {any[]} args  The arguments to pass to the visitor function for this node
   * @return {any}        Whatever the visitor function returns for this node
   */
  visitNode(node: Node, ...args: any[]): any;

  /**
   * The default visitor function for when no node-specific function is defined
   *
   * @param {Node} node   The node to visit
   * @param {any[]} args  The arguments to pass to the visitor function for this node
   * @return {any}        Whatever the visitor function returns for this node
   */
  visitDefault(node: Node, ...args: any[]): any;

  /**
   * Define a visitor function for a given node kind
   *
   * @param {string} kind  The node kind for which the handler is being defined
   * @param {VisitorFunction} handler  The function to call to handle nodes of this kind
   */
  setNodeHandler(kind: string, handler: VisitorFunction): void;

  /**
   * Remove the visitor function for a given node kind
   *
   * @param {string} kind  The node kind whose visitor function is to be removed
   */
  removeNodeHandler(kind: string): void;

  /**
   * The various visitor functions implemented by the subclasses, and any data they need
   */
  [property: string]: any;
}

/*****************************************************************/
/**
 *  Implements the generic Visitor object
 */

export abstract class AbstractVisitor implements Visitor {
  /**
   * Holds the mapping from node kinds to visitor funcitons
   */
  protected nodeHandlers: Map&lt;string, VisitorFunction&gt; = new Map();

  /**
   *  Visitor functions are named "visitKindNode" where "Kind" is replaced by
   *    the node kind; e.g., visitTextNode for kind = text.
   *
   *  @param {string} kind  The node kind whose method name is needed
   *  @return {string}  The name of the visitor method for the given node kind
   */
  protected static methodName(kind: string): string {
    return 'visit' + (kind.charAt(0).toUpperCase() + kind.substr(1)).replace(/[^a-z0-9_]/ig, '_') + 'Node';
  }

  
</t>
<t tx="ekr.20211016054411.946">/**
   * Create the node handler map by looking for methods with the correct names
   *   based on the node kinds available from the factory.
   *
   * @constructor
   * @param {NodeFactory} factory  The node factory for the kinds of nodes this visitor handles
   */
constructor(factory: NodeFactory&lt;Node, NodeClass&gt;) {
  for (const kind of factory.getKinds()) {
    let method = (this as Visitor)[AbstractVisitor.methodName(kind)] as VisitorFunction;
    if (method) {
      this.nodeHandlers.set(kind, method);
    }
  }
}

</t>
<t tx="ekr.20211016054411.947">/**
 * @override
 */
public visitTree(tree: Node, ...args: any[]) {
  return this.visitNode(tree, ...args);
}

</t>
<t tx="ekr.20211016054411.948">/**
 * @override
 */
public visitNode(node: Node, ...args: any[]) {
  let handler = this.nodeHandlers.get(node.kind) || this.visitDefault;
  return handler.call(this, node, ...args);
}

</t>
<t tx="ekr.20211016054411.949">/**
 * @override
 */
public visitDefault(node: Node, ...args: any[]) {
  if (node instanceof AbstractNode) {
    for (const child of node.childNodes) {
      this.visitNode(child, ...args);
    }
  }
}

</t>
<t tx="ekr.20211016054411.95">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/colortbl',    // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.950">/**
 * @override
 */
public setNodeHandler(kind: string, handler: VisitorFunction) {
  this.nodeHandlers.set(kind, handler);
}

</t>
<t tx="ekr.20211016054411.951">/**
 * @override
 */
  public removeNodeHandler(kind: string) {
    this.nodeHandlers.delete(kind);
  }

}
</t>
<t tx="ekr.20211016054411.952">


/**
 * @fileoverview Generic Wrapper class for adding methods to a Node class for visitors
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {Node} from './Node.js';
import {WrapperFactory} from './WrapperFactory.js';

/*********************************************************/
/**
 *  The Wrapper interface
 *
 *  It points to a Node object.  Subclasses add methods for the visitor to call.
 *
 * @template N  The Node type being wrapped
 * @template W  The Wrapper type being produced
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.953">export interface Wrapper&lt;N extends Node, W extends Wrapper&lt;N, W&gt;&gt; {
  node: N;
  readonly kind: string;

  /**
   * @param {Node} node  A node to be wrapped
   * @param {any[]} args  Any additional arguments needed when creating the wrapper
   * @return {Wrapper}   The wrapped node
   */
  wrap(node: N, ...args: any[]): W;
}

/*********************************************************/
</t>
<t tx="ekr.20211016054411.954">/**
 *  The Wrapper class interface
 *
 * @template N  The Node type being wrapped
 * @template W  The Wrapper type being produced
 */
export interface WrapperClass&lt;N extends Node, W extends Wrapper&lt;N, W&gt;&gt; {
  /**
   * @param {WrapperFactory} factory  The factory used to create more wrappers
   * @param {N} node  The node to be wrapped
   * @param {any[]} args  Any additional arguments needed when creating the wrapper
   * @return {W}  The wrapped node
   */
  new(factory: WrapperFactory&lt;N, W, WrapperClass&lt;N, W&gt;&gt;, node: N, ...args: any[]): W;
}

/*********************************************************/
</t>
<t tx="ekr.20211016054411.955">/**
 *  The abstract Wrapper class
 *
 * @template N  The Node type being created by the factory
 * @template W  The Wrapper type being produced
 */
export class AbstractWrapper&lt;N extends Node, W extends Wrapper&lt;N, W&gt;&gt; implements Wrapper&lt;N, W&gt; {
  /**
   * The Node object associated with this instance
   */
  public node: N;

  /**
   * The WrapperFactory to use to wrap child nodes, as needed
   */
  protected factory: WrapperFactory&lt;N, W, WrapperClass&lt;N, W&gt;&gt;;

  /**
   * The kind of this wrapper
   */
  get kind() {
    return this.node.kind;
  }

  /**
   * @param {WrapperFactory} factory  The WrapperFactory to use to wrap child nodes when needed
   * @param {Node} node               The node to wrap
   *
   * @constructor
   * @implements {Wrapper}
   */
  @others
}
</t>
<t tx="ekr.20211016054411.956">constructor(factory: WrapperFactory&lt;N, W, WrapperClass&lt;N, W&gt;&gt;, node: N) {
  this.factory = factory;
  this.node = node;
}

</t>
<t tx="ekr.20211016054411.957">/**
 * @override
 */
public wrap(node: N) {
  return this.factory.wrap(node);
}

</t>
<t tx="ekr.20211016054411.958">


/**
 * @fileoverview Generic WrapperFactory class for creating Wrapper objects
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {Node} from './Node.js';
import {Wrapper, WrapperClass} from './Wrapper.js';
import {Factory, AbstractFactory} from './Factory.js';

/*****************************************************************/
/**
 * The generic WrapperFactory class
 *
 * @template N  The Node type being created by the factory
 * @template W  The Wrapper type being produced (instance type)
 * @template C  The Wrapper class (for static values)
 */
export interface WrapperFactory&lt;N extends Node, W extends Wrapper&lt;N, W&gt;, C extends WrapperClass&lt;N, W&gt;&gt;
extends Factory&lt;W, C&gt; {
  /**
   * @param {N} node  The node to be wrapped
   * @param {any[]} args  Any additional arguments needed when wrapping the node
   * @return {W}  The newly wrapped node
   */
  wrap(node: N, ...args: any[]): W;
}

/*****************************************************************/
/**
 * The generic WrapperFactory class
 *
 * @template N  The Node type being created by the factory
 * @template W  The Wrapper type being produced (instance type)
 * @template C  The Wrapper class (for static values)
 */
export abstract class AbstractWrapperFactory&lt;N extends Node, W extends Wrapper&lt;N, W&gt;, C extends WrapperClass&lt;N, W&gt;&gt;
extends AbstractFactory&lt;W, C&gt; implements WrapperFactory&lt;N, W, C&gt; {
  /**
   * @param {N} node  The node to be wrapped
   * @param {any[]} args  Any additional arguments needed when wrapping the node
   * @return {W}  The newly wrapped node
   */
  @others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.959">  public wrap(node: N, ...args: any[]): W {
    return this.create(node.kind, node, ...args);
  }
}
</t>
<t tx="ekr.20211016054411.96"></t>
<t tx="ekr.20211016054411.960"></t>
<t tx="ekr.20211016054411.961">


/**
 * @fileoverview  Registers the HTML document type
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {mathjax} from '../mathjax.js';
import {HTMLHandler} from './html/HTMLHandler.js';
import {DOMAdaptor} from '../core/DOMAdaptor.js';

/**
 * Create the HTML handler object and register it with MathJax.
 *
 * @param {DOMAdaptor&lt;N,T,D&gt;} adaptor  The DOM adaptor to use with HTML
 * @return {HTMLHandler}               The newly created handler
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.962">export function RegisterHTMLHandler&lt;N, T, D&gt;(adaptor: DOMAdaptor&lt;N, T, D&gt;): HTMLHandler&lt;N, T, D&gt; {
  const handler = new HTMLHandler&lt;N, T, D&gt;(adaptor);
  mathjax.handlers.register(handler);
  return handler;
}
</t>
<t tx="ekr.20211016054411.963"></t>
<t tx="ekr.20211016054411.964">


/**
 * @fileoverview  Implements the HTMLDocument class
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AbstractMathDocument} from '../../core/MathDocument.js';
import {userOptions, separateOptions, OptionList, expandable} from '../../util/Options.js';
import {HTMLMathItem} from './HTMLMathItem.js';
import {HTMLMathList} from './HTMLMathList.js';
import {HTMLDomStrings} from './HTMLDomStrings.js';
import {DOMAdaptor} from '../../core/DOMAdaptor.js';
import {InputJax} from '../../core/InputJax.js';
import {STATE, ProtoItem, Location} from '../../core/MathItem.js';
import {StyleList} from '../../util/StyleList.js';

/*****************************************************************/
/**
 * List of Lists of pairs consisting of a DOM node and its text length
 *
 * These represent the Text elements that make up a single
 * string in the list of strings to be searched for math
 * (multiple consecutive Text nodes can form a single string).
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 */
export type HTMLNodeArray&lt;N, T&gt; = [N | T, number][][];

/*****************************************************************/
/**
 *  The HTMLDocument class (extends AbstractMathDocument)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.965">export class HTMLDocument&lt;N, T, D&gt; extends AbstractMathDocument&lt;N, T, D&gt; {

  /**
   * The kind of document
   */
  public static KIND: string = 'HTML';

  /**
   * The default options for HTMLDocument
   */
  public static OPTIONS: OptionList = {
    ...AbstractMathDocument.OPTIONS,
    renderActions: expandable({
      ...AbstractMathDocument.OPTIONS.renderActions,
      styles: [STATE.INSERTED + 1, '', 'updateStyleSheet', false]  // update styles on a rerender() call
    }),
    MathList: HTMLMathList,           // Use the HTMLMathList for MathLists
    MathItem: HTMLMathItem,           // Use the HTMLMathItem for MathItem
    DomStrings: null                  // Use the default DomString parser
  };

  /**
   * Extra styles to be included in the document's stylesheet (added by extensions)
   */
  protected styles: StyleList[];

  /**
   * The DomString parser for locating the text in DOM trees
   */
  public domStrings: HTMLDomStrings&lt;N, T, D&gt;;

  /**
   * @override
   * @constructor
   * @extends {AbstractMathDocument}
   */
  @others
}
</t>
<t tx="ekr.20211016054411.966">constructor(document: any, adaptor: DOMAdaptor&lt;N, T, D&gt;, options: OptionList) {
  let [html, dom] = separateOptions(options, HTMLDomStrings.OPTIONS);
  super(document, adaptor, html);
  this.domStrings = this.options['DomStrings'] || new HTMLDomStrings&lt;N, T, D&gt;(dom);
  this.domStrings.adaptor = adaptor;
  this.styles = [];
}

/**
 * Creates a Location object for a delimiter at the position given by index in the N's string
 *  of the array of strings searched for math, recovering the original DOM node where the delimiter
 *  was found.
 *
 * @param {number} N             The index of the string in the string array
 * @param {number} index         The position within the N's string that needs to be found
 * @param {string} delim         The delimiter for this position
 * @param {HTMLNodeArray} nodes  The list of node lists representing the string array
 * @return {Location}            The Location object for the position of the delimiter in the document
 */
protected findPosition(N: number, index: number, delim: string, nodes: HTMLNodeArray&lt;N, T&gt;): Location&lt;N, T&gt; {
  const adaptor = this.adaptor;
  for (const list of nodes[N]) {
    let [node, n] = list;
    if (index &lt;= n &amp;&amp; adaptor.kind(node) === '#text') {
      return {node: node, n: Math.max(index, 0), delim: delim};
    }
    index -= n;
  }
  return {node: null, n: 0, delim: delim};
}

/**
 * Convert a ProtoItem to a MathItem (i.e., determine the actual Location
 *  objects for its start and end)
 *
 * @param {ProtoItem} item       The proto math item to turn into an actual MathItem
 * @param {InputJax} jax         The input jax to use for the MathItem
 * @param {HTMLNodeArray} nodes  The array of node lists that produced the string array
 * @return {HTMLMathItem}        The MathItem for the given proto item
 */
protected mathItem(item: ProtoItem&lt;N, T&gt;, jax: InputJax&lt;N, T, D&gt;,
                   nodes: HTMLNodeArray&lt;N, T&gt;): HTMLMathItem&lt;N, T, D&gt; {
                     let math = item.math;
                     let start = this.findPosition(item.n, item.start.n, item.open, nodes);
                     let end = this.findPosition(item.n, item.end.n, item.close, nodes);
                     return new this.options.MathItem(math, jax, item.display, start, end) as HTMLMathItem&lt;N, T, D&gt;;
                   }

</t>
<t tx="ekr.20211016054411.967">/**
 * Find math within the document:
 *  Get the list of containers (default is document.body), and for each:
 *    For each input jax:
 *      Make a new MathList to store the located math
 *      If the input jax processes strings:
 *        If we haven't already made the string array and corresponding node list, do so
 *        Ask the jax to find the math in the string array, and
 *          for each one, push it onto the math list
 *      Otherwise (the jax processes DOM nodes):
 *        Ask the jax to find the math in the container, and
 *          for each one, make the result into a MathItem, and push it on the list
 *      Merge the new math list into the document's math list
 *        (we use merge to maintain a sorted list of MathItems)
 *
 * @override
 */
public findMath(options: OptionList) {
  if (!this.processed.isSet('findMath')) {
    this.adaptor.document = this.document;
    options = userOptions({elements: this.options.elements || [this.adaptor.body(this.document)]}, options);
    for (const container of this.adaptor.getElements(options['elements'], this.document)) {
      let [strings, nodes] = [null, null] as [string[], HTMLNodeArray&lt;N, T&gt;];
      for (const jax of this.inputJax) {
        let list = new (this.options['MathList'])();
        if (jax.processStrings) {
          if (strings === null) {
            [strings, nodes] = this.domStrings.find(container);
          }
          for (const math of jax.findMath(strings)) {
            list.push(this.mathItem(math, jax, nodes));
          }
        } else {
          for (const math of jax.findMath(container)) {
            let item: HTMLMathItem&lt;N, T, D&gt; =
              new this.options.MathItem(math.math, jax, math.display, math.start, math.end);
            list.push(item);
          }
        }
        this.math.merge(list);
      }
    }
    this.processed.set('findMath');
  }
  return this;
}

</t>
<t tx="ekr.20211016054411.968">/**
 * @override
 */
public updateDocument() {
  if (!this.processed.isSet('updateDocument')) {
    this.addPageElements();
    this.addStyleSheet();
    super.updateDocument();
    this.processed.set('updateDocument');
  }
  return this;
}

/**
 *  Add any elements needed for the document
 */
protected addPageElements() {
  const body = this.adaptor.body(this.document);
  const node = this.documentPageElements();
  if (node) {
    this.adaptor.append(body, node);
  }
}

</t>
<t tx="ekr.20211016054411.969">/**
 * Add the stylesheet to the document
 */
public addStyleSheet() {
  const sheet = this.documentStyleSheet();
  const adaptor = this.adaptor;
  if (sheet &amp;&amp; !adaptor.parent(sheet)) {
    const head = adaptor.head(this.document);
    let styles = this.findSheet(head, adaptor.getAttribute(sheet, 'id'));
    if (styles) {
      adaptor.replace(sheet, styles);
    } else {
      adaptor.append(head, sheet);
    }
  }
}

/**
 * @param {N} head     The document &lt;head&gt;
 * @param {string} id  The id of the stylesheet to find
 * @param {N|null}     The stylesheet with the given ID
 */
protected findSheet(head: N, id: string) {
  if (id) {
    for (const sheet of this.adaptor.tags(head, 'style')) {
      if (this.adaptor.getAttribute(sheet, 'id') === id) {
        return sheet;
      }
    }
  }
  return null as N;
}

</t>
<t tx="ekr.20211016054411.97">
import './lib/colorv2.js';
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.970">/**
 * @override
 */
public removeFromDocument(restore: boolean = false) {
  if (this.processed.isSet('updateDocument')) {
    for (const math of this.math) {
      if (math.state() &gt;= STATE.INSERTED) {
        math.state(STATE.TYPESET, restore);
      }
    }
  }
  this.processed.clear('updateDocument');
  return this;
}

</t>
<t tx="ekr.20211016054411.971">/**
 * @override
 */
public documentStyleSheet() {
  return this.outputJax.styleSheet(this);
}

</t>
<t tx="ekr.20211016054411.972">/**
 * @override
 */
public documentPageElements() {
  return this.outputJax.pageElements(this);
}

</t>
<t tx="ekr.20211016054411.973">/**
 * Add styles to be included in the document's stylesheet
 *
 * @param {StyleList} styles   The styles to include
 */
public addStyles(styles: StyleList) {
  this.styles.push(styles);
}

</t>
<t tx="ekr.20211016054411.974">/**
 * Get the array of document-specific styles
 */
public getStyles() {
  return this.styles;
}

</t>
<t tx="ekr.20211016054411.975">


/**
 * @fileoverview  Implements the HTMLDomStrings class
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {userOptions, defaultOptions, OptionList, makeArray} from '../../util/Options.js';
import {DOMAdaptor} from '../../core/DOMAdaptor.js';

/**
 *  List of consecutive text nodes and their text lengths
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 */
export type HTMLNodeList&lt;N, T&gt; = [N | T, number][];

/*****************************************************************/
/**
 *  The HTMLDocument class (extends AbstractMathDocument)
 *
 *  A class for extracting the text from DOM trees
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.976">export class HTMLDomStrings&lt;N, T, D&gt; {

  /**
   * The default options for string processing
   */
  public static OPTIONS: OptionList = {
    skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code', 'annotation', 'annotation-xml'],
                                        // The names of the tags whose contents will not be
                                        // scanned for math delimiters

    includeHtmlTags: {br: '\n', wbr: '', '#comment': ''},
                                        //  tags to be included in the text (and what
                                        //  text to replace them with)

    ignoreHtmlClass: 'mathjax_ignore',  // the class name of elements whose contents should
                                        // NOT be processed by tex2jax.  Note that this
                                        // is a regular expression, so be sure to quote any
                                        // regexp special characters

    processHtmlClass: 'mathjax_process' // the class name of elements whose contents SHOULD
                                        // be processed when they appear inside ones that
                                        // are ignored.  Note that this is a regular expression,
                                        // so be sure to quote any regexp special characters
  };

  /**
   * The options for this instance
   */
  protected options: OptionList;

  /**
   * The array of strings found in the DOM
   */
  protected strings: string[];

  /**
   * The string currently being constructed
   */
  protected string: string;

  /**
   * The list of nodes and lengths for the string being constructed
   */
  protected snodes: HTMLNodeList&lt;N, T&gt;;

  /**
   * The list of node lists corresponding to the strings in this.strings
   */
  protected nodes: HTMLNodeList&lt;N, T&gt;[];

  /**
   * The container nodes that are currently being traversed, and whether their
   *  contents are being ignored or not
   */
  protected stack: [N | T, boolean][];

  /**
   * Regular expression for the tags to be skipped
   *  processing of math
   */
  protected skipHtmlTags: RegExp;
  /**
   * Regular expression for which classes should stop processing of math
   */
  protected ignoreHtmlClass: RegExp;
  /**
   * Regular expression for which classes should start processing of math
   */
  protected processHtmlClass: RegExp;

  /**
   * The DOM Adaptor to managing HTML elements
   */
  public adaptor: DOMAdaptor&lt;N, T, D&gt;;

  /**
   * @param {OptionList} options  The user-supplied options
   * @constructor
   */
  @others
}
</t>
<t tx="ekr.20211016054411.977">constructor(options: OptionList = null) {
  let CLASS = this.constructor as typeof HTMLDomStrings;
  this.options = userOptions(defaultOptions({}, CLASS.OPTIONS), options);
  this.init();
  this.getPatterns();
}

/**
 * Set the initial values of the main properties
 */
protected init() {
  this.strings = [];
  this.string = '';
  this.snodes = [];
  this.nodes = [];
  this.stack = [];
}

/**
 * Create the search patterns for skipHtmlTags, ignoreHtmlClass, and processHtmlClass
 */
protected getPatterns() {
  let skip = makeArray(this.options['skipHtmlTags']);
  let ignore = makeArray(this.options['ignoreHtmlClass']);
  let process = makeArray(this.options['processHtmlClass']);
  this.skipHtmlTags = new RegExp('^(?:' + skip.join('|') + ')$', 'i');
  this.ignoreHtmlClass = new RegExp('(?:^| )(?:' + ignore.join('|') + ')(?: |$)');
  this.processHtmlClass = new RegExp('(?:^| )(?:' + process + ')(?: |$)');
}

/**
 * Add a string to the string array and record its node list
 */
protected pushString() {
  if (this.string.match(/\S/)) {
    this.strings.push(this.string);
    this.nodes.push(this.snodes);
  }
  this.string = '';
  this.snodes = [];
}

/**
 * Add more text to the current string, and record the
 * node and its position in the string.
 *
 * @param {N|T} node        The node to be pushed
 * @param {string} text   The text to be added (it may not be the actual text
 *                         of the node, if it is one of the nodes that gets
 *                         translated to text, like &lt;br&gt; to a newline).
 */
protected extendString(node: N | T, text: string) {
  this.snodes.push([node, text.length]);
  this.string += text;
}

/**
 * Handle a #text node (add its text to the current string)
 *
 * @param {T} node          The Text node to process
 * @param {boolean} ignore  Whether we are currently ignoring content
 * @return {N | T}          The next element to process
 */
protected handleText(node: T, ignore: boolean): N | T {
  if (!ignore) {
    this.extendString(node, this.adaptor.value(node));
  }
  return this.adaptor.next(node);
}

/**
 * Handle a BR, WBR, or #comment element (or others in the includeHtmlTags object).
 *
 * @param {N} node          The node to process
 * @param {boolean} ignore  Whether we are currently ignoring content
 * @return {N | T}          The next element to process
 */
protected handleTag(node: N, ignore: boolean): N | T {
  if (!ignore) {
    let text = this.options['includeHtmlTags'][this.adaptor.kind(node)];
    this.extendString(node, text);
  }
  return this.adaptor.next(node);
}

/**
 * Handle an arbitrary DOM node:
 *   Check the class to see if it matches the processHtmlClass regex
 *   If the node has a child and is not marked as created by MathJax (data-MJX)
 *       and either it is marked as restarting processing or is not a tag to be skipped, then
 *     Save the next node (if there is one) and whether we are currently ignoring content
 *     Move to the first child node
 *     Update whether we are ignoring content
 *   Otherwise
 *     Move on to the next sibling
 *   Return the next node to process and the ignore state
 *
 * @param {N} node               The node to process
 * @param {boolean} ignore       Whether we are currently ignoring content
 * @return {[N|T, boolean]}      The next element to process and whether to ignore its content
 */
protected handleContainer(node: N, ignore: boolean): [N | T, boolean] {
  this.pushString();
  const cname = this.adaptor.getAttribute(node, 'class') || '';
  const tname = this.adaptor.kind(node) || '';
  const process = this.processHtmlClass.exec(cname);
  let next = node as N | T;
  if (this.adaptor.firstChild(node) &amp;&amp; !this.adaptor.getAttribute(node, 'data-MJX') &amp;&amp;
      (process || !this.skipHtmlTags.exec(tname))) {
    if (this.adaptor.next(node)) {
      this.stack.push([this.adaptor.next(node), ignore]);
    }
    next = this.adaptor.firstChild(node);
    ignore = (ignore || this.ignoreHtmlClass.exec(cname)) &amp;&amp; !process;
  } else {
    next = this.adaptor.next(node);
  }
  return [next, ignore];
}

/**
 * Handle an unknown node type (nodeType other than 1, 3, 8)
 *
 * @param {N} node           The node to process
 * @param {boolean} ignore   Whether we are currently ignoring content
 * @return {N|T}             The next element to process
 */
protected handleOther(node: N, _ignore: boolean): N | T {
  this.pushString();
  return this.adaptor.next(node);
}

</t>
<t tx="ekr.20211016054411.978">/**
 * Find the strings for a given DOM element:
 *   Initialize the state
 *   Get the element where we stop processing
 *   While we still have a node, and it is not the one where we are to stop:
 *     If it is a text node, handle it and get the next node
 *     Otherwise, if it is in the includeHtmlTags list, handle it and get the next node
 *     Otherwise, handle it as a container and get the next node and ignore status
 *     If there is no next node, and there are more nodes on the stack:
 *       Save the current string, and pop the node and ignore status from the stack
 *   Push the final string
 *   Get the string array and array of associated DOM nodes
 *   Clear the internal values (so the memory can be freed)
 *   Return the strings and node lists
 *
 * @param {N} node                       The node to search
 * @return {[string[], HTMLNodeList[]]}  The array of strings and their associated lists of nodes
 */
public find(node: N | T): [string[], HTMLNodeList&lt;N, T&gt;[]] {
  this.init();
  let stop = this.adaptor.next(node);
  let ignore = false;
  let include = this.options['includeHtmlTags'];

  while (node &amp;&amp; node !== stop) {
    const kind = this.adaptor.kind(node);
    if (kind === '#text') {
      node = this.handleText(node as T, ignore);
    } else if (include.hasOwnProperty(kind)) {
      node = this.handleTag(node as N, ignore);
    } else if (kind) {
      [node, ignore] = this.handleContainer(node as N, ignore);
    } else {
      node = this.handleOther(node as N, ignore);
    }
    if (!node &amp;&amp; this.stack.length) {
      this.pushString();
      [node, ignore] = this.stack.pop();
    }
  }

  this.pushString();
  let result = [this.strings, this.nodes] as [string[], HTMLNodeList&lt;N, T&gt;[]];
  this.init(); // free up memory
  return result;
}

</t>
<t tx="ekr.20211016054411.979">


/**
 * @fileoverview  Implements the HTMLHandler class
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AbstractHandler} from '../../core/Handler.js';
import {MinHTMLAdaptor} from '../../adaptors/HTMLAdaptor.js';
import {HTMLDocument} from './HTMLDocument.js';
import {OptionList} from '../../util/Options.js';

/*****************************************************************/
/**
 *  Implements the HTMLHandler class (extends AbstractHandler)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.98">
const PACKAGE = require('../../../../../webpack.common.js');

module.exports = PACKAGE(
  'input/tex/extensions/colorv2',     // the package to build
  '../../../../../../js',             // location of the MathJax js library
  [                                   // packages to link to
    'components/src/input/tex-base/lib',
    'components/src/core/lib'
  ],
  __dirname                           // our directory
);
@language javascript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.980">export class HTMLHandler&lt;N, T, D&gt; extends AbstractHandler&lt;N, T, D&gt; {

  /**
   * The DOMAdaptor for the document being handled
   */
  public adaptor: MinHTMLAdaptor&lt;N, T, D&gt;;  // declare a more specific adaptor type

  /**
   * @override
   */
  public documentClass = HTMLDocument;

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.981">public handlesDocument(document: any) {
  const adaptor = this.adaptor;
  if (typeof(document) === 'string') {
    try {
      document = adaptor.parse(document, 'text/html');
    } catch (err) {}
  }
  if (document instanceof adaptor.window.Document ||
      document instanceof adaptor.window.HTMLElement ||
      document instanceof adaptor.window.DocumentFragment) {
    return true;
  }
  return false;
}

</t>
<t tx="ekr.20211016054411.982">/**
 * If the document isn't already a Document object, create one
 * using the given data
 *
 * @override
 */
public create(document: any, options: OptionList) {
  const adaptor = this.adaptor;
  if (typeof(document) === 'string') {
    document = adaptor.parse(document, 'text/html');
  } else if (document instanceof adaptor.window.HTMLElement ||
             document instanceof adaptor.window.DocumentFragment) {
    let child = document as N;
    document = adaptor.parse('', 'text/html');
    adaptor.append(adaptor.body(document), child);
  }
  return super.create(document, options) as HTMLDocument&lt;N, T, D&gt;;
}

</t>
<t tx="ekr.20211016054411.983">


/**
 * @fileoverview  Implements the HTMLMathItem class
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AbstractMathItem, Location, STATE} from '../../core/MathItem.js';
import {InputJax} from '../../core/InputJax.js';
import {HTMLDocument} from './HTMLDocument.js';

/*****************************************************************/
/**
 *  Implements the HTMLMathItem class (extends AbstractMathItem)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.984">export class HTMLMathItem&lt;N, T, D&gt; extends AbstractMathItem&lt;N, T, D&gt; {

  /**
   * Easy access to DOM adaptor
   */
  get adaptor() {
    return this.inputJax.adaptor;
  }

  /**
   * @override
   */
  constructor(math: string, jax: InputJax&lt;N, T, D&gt;, display: boolean = true,
              start: Location&lt;N, T&gt; = {node: null, n: 0, delim: ''},
              end: Location&lt;N, T&gt; = {node: null, n: 0, delim: ''}) {
    super(math, jax, display, start, end);
  }

  /**
   * Insert the typeset MathItem into the document at the right location
   *   If the starting and ending nodes are the same:
   *     Split the text to isolate the math and its delimiters
   *     Replace the math by the typeset version
   *   Otherewise (spread over several nodes)
   *     Split the start node, if needed
   *     Remove nodes until we reach the end node
   *     Insert the math before the end node
   *     Split the end node, if needed
   *     Remove the end node
   *
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.985">public updateDocument(_html: HTMLDocument&lt;N, T, D&gt;) {
  if (this.state() &lt; STATE.INSERTED) {
    if (this.inputJax.processStrings) {
      let node = this.start.node as T;
      if (node === this.end.node) {
        if (this.end.n &amp;&amp; this.end.n &lt; this.adaptor.value(this.end.node).length) {
          this.adaptor.split(this.end.node, this.end.n);
        }
        if (this.start.n) {
          node = this.adaptor.split(this.start.node as T, this.start.n);
        }
        this.adaptor.replace(this.typesetRoot, node);
      } else {
        if (this.start.n) {
          node = this.adaptor.split(node, this.start.n);
        }
        while (node !== this.end.node) {
          let next = this.adaptor.next(node) as T;
          this.adaptor.remove(node);
          node = next;
        }
        this.adaptor.insert(this.typesetRoot, node);
        if (this.end.n &lt; this.adaptor.value(node).length) {
          this.adaptor.split(node, this.end.n);
        }
        this.adaptor.remove(node);
      }
    } else {
      this.adaptor.replace(this.typesetRoot, this.start.node);
    }
    this.start.node = this.end.node = this.typesetRoot;
    this.start.n = this.end.n = 0;
    this.state(STATE.INSERTED);
  }
}

</t>
<t tx="ekr.20211016054411.986">/**
 * Update the style sheet for any changes due to rerendering
 *
 * @param {HTMLDocument} document   The document whose styles are to be updated
 */
public updateStyleSheet(document: HTMLDocument&lt;N, T, D&gt;) {
  document.addStyleSheet();
}

</t>
<t tx="ekr.20211016054411.987">/**
 * Remove the typeset math from the document, and put back the original
 *  expression and its delimiters, if requested.
 *
 * @override
 */
public removeFromDocument(restore: boolean = false) {
  if (this.state() &gt;= STATE.TYPESET) {
    const adaptor = this.adaptor;
    let node = this.start.node;
    let math: N | T = adaptor.text('');
    if (restore) {
      let text = this.start.delim + this.math + this.end.delim;
      if (this.inputJax.processStrings) {
        math = adaptor.text(text);
      } else {
        const doc = adaptor.parse(text, 'text/html');
        math = adaptor.firstChild(adaptor.body(doc));
      }
    }
    if (adaptor.parent(node)) {
      adaptor.replace(math, node);
    }
    this.start.node = this.end.node = math;
    this.start.n = this.end.n = 0;
  }
}

</t>
<t tx="ekr.20211016054411.988">


/**
 * @fileoverview  Implements the HTMLMathList object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AbstractMathList} from '../../core/MathList.js';

/*****************************************************************/
/**
 *  Implement the HTMLMathList class (extends AbstractMathList)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.989">export class HTMLMathList&lt;N, T, D&gt; extends AbstractMathList&lt;N, T, D&gt; {
}
</t>
<t tx="ekr.20211016054411.99"></t>
<t tx="ekr.20211016054411.990"></t>
<t tx="ekr.20211016054411.991">


/**
 * @fileoverview  Implements the AsciiMath InputJax object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AbstractInputJax} from '../core/InputJax.js';
import {LegacyAsciiMath} from './asciimath/mathjax2/input/AsciiMath.js';
import {separateOptions, OptionList} from '../util/Options.js';
import {MathDocument} from '../core/MathDocument.js';
import {MathItem} from '../core/MathItem.js';

import {FindAsciiMath} from './asciimath/FindAsciiMath.js';

/*****************************************************************/
/**
 *  Implements the AsciiMath class (extends AbstractInputJax)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.992">export class AsciiMath&lt;N, T, D&gt; extends AbstractInputJax&lt;N, T, D&gt; {

  /**
   * The name of the input jax
   */
  public static NAME: string = 'AsciiMath';

  /**
   * @override
   */
  public static OPTIONS: OptionList = {
    ...AbstractInputJax.OPTIONS,
    FindAsciiMath: null
  };

  /**
   * The FindMath object used to search for AsciiMath in the document
   */
  protected findAsciiMath: FindAsciiMath&lt;N, T, D&gt;;

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.993">constructor(options: OptionList) {
  let [ , find, am] = separateOptions(options, FindAsciiMath.OPTIONS, AsciiMath.OPTIONS);
  super(am);
  this.findAsciiMath = this.options['FindAsciiMath'] || new FindAsciiMath(find);
}

</t>
<t tx="ekr.20211016054411.994">/**
 * Use legacy AsciiMath input jax for now
 *
 * @override
 */
public compile(math: MathItem&lt;N, T, D&gt;, _document: MathDocument&lt;N, T, D&gt;) {
  return LegacyAsciiMath.Compile(math.math, math.display);
}

</t>
<t tx="ekr.20211016054411.995">/**
 * @override
 */
public findMath(strings: string[]) {
  return this.findAsciiMath.findMath(strings);
}

</t>
<t tx="ekr.20211016054411.996">


/**
 * @fileoverview  Implements the MathML InputJax object
 *
 * @author dpvc@mathjax.org (Davide Cervone)
 */

import {AbstractInputJax} from '../core/InputJax.js';
import {defaultOptions, separateOptions, OptionList} from '../util/Options.js';
import {FunctionList} from '../util/FunctionList.js';
import {MathDocument} from '../core/MathDocument.js';
import {MathItem} from '../core/MathItem.js';
import {DOMAdaptor} from '../core/DOMAdaptor.js';
import {MmlFactory} from '../core/MmlTree/MmlFactory.js';

import {FindMathML} from './mathml/FindMathML.js';
import {MathMLCompile} from './mathml/MathMLCompile.js';

/*****************************************************************/
/**
 *  Implements the MathML class (extends AbstractInputJax)
 *
 * @template N  The HTMLElement node class
 * @template T  The Text node class
 * @template D  The Document class
 */
@others
@language typescript
@tabwidth -4
</t>
<t tx="ekr.20211016054411.997">export class MathML&lt;N, T, D&gt; extends AbstractInputJax&lt;N, T, D&gt; {

  /**
   * The name of this input jax
   */
  public static NAME: string = 'MathML';

  /**
   * @override
   */
  public static OPTIONS: OptionList = defaultOptions({
    parseAs: 'html',         // Whether to use HTML or XML parsing for the MathML string
    forceReparse: false,     // Whether to force the string to be reparsed, or use the one from the document DOM
    FindMathML: null,        // The FindMathML instance to override the default one
    MathMLCompile: null,     // The MathMLCompile instance to override the default one
    /*
     * The function to use to handle a parsing error (throw an error by default)
     */
    parseError: function (node: Node) {
      this.error(this.adaptor.textContent(node).replace(/\n.*/g, ''));
    }
  }, AbstractInputJax.OPTIONS);

  /**
   * The FindMathML instance used to locate MathML in the document
   */
  protected findMathML: FindMathML&lt;N, T, D&gt;;

  /**
   * The MathMLCompile instance used to convert the MathML tree to internal format
   */
  protected mathml: MathMLCompile&lt;N, T, D&gt;;

  /**
   * A list of functions to call on the parsed MathML DOM before conversion to internal structure
   */
  protected mmlFilters: FunctionList;

  /**
   * @override
   */
  @others
}
</t>
<t tx="ekr.20211016054411.998">constructor(options: OptionList = {}) {
  let [mml, find, compile] = separateOptions(options, FindMathML.OPTIONS, MathMLCompile.OPTIONS);
  super(mml);
  this.findMathML = this.options['FindMathML'] || new FindMathML&lt;N, T, D&gt;(find);
  this.mathml = this.options['MathMLCompile'] || new MathMLCompile&lt;N, T, D&gt;(compile);
  this.mmlFilters = new FunctionList();
}

</t>
<t tx="ekr.20211016054411.999">/**
 * Set the adaptor in any of the objects that need it
 *
 * @override
 */
public setAdaptor(adaptor: DOMAdaptor&lt;N, T, D&gt;) {
  super.setAdaptor(adaptor);
  this.findMathML.adaptor = adaptor;
  this.mathml.adaptor = adaptor;
}

</t>
<t tx="ekr.20211016060959.1">c.backup_helper(sub_dir='MathJaxSources')
</t>
</tnodes>
</leo_file>
